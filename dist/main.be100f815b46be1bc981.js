(self.webpackChunkmemoire_morieroise=self.webpackChunkmemoire_morieroise||[]).push([[179],{8255:Ke=>{function Me(L){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+L+"'");throw o.code="MODULE_NOT_FOUND",o})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,Ke.exports=Me},7716:(Ke,Me,L)=>{"use strict";L.d(Me,{deG:()=>VD,tb:()=>bb,AFp:()=>IS,ip1:()=>yb,CZH:()=>ac,hGG:()=>sx,z2F:()=>Hm,sBO:()=>YR,Sil:()=>Lu,_Vd:()=>wu,EJc:()=>RS,SBq:()=>go,qLn:()=>Zd,vpe:()=>vo,pfw:()=>UO,L6J:()=>HO,gxx:()=>Ul,tBr:()=>Wa,XFs:()=>lt,OlP:()=>fi,zs3:()=>Vn,IIB:()=>Fm,ZZ4:()=>pm,aQg:()=>Ny,soG:()=>lc,YKP:()=>Vy,v3s:()=>vr,h0i:()=>Tu,PXZ:()=>tf,R0b:()=>ks,FiY:()=>pa,Lbi:()=>Bm,g9A:()=>Qh,n_E:()=>Ai,Qsj:()=>PE,FYo:()=>Iy,JOm:()=>ba,Tiy:()=>Oy,q3G:()=>Mi,PiD:()=>Bd,tp0:()=>ma,EAV:()=>QS,Rgc:()=>kh,dDg:()=>l1,DyG:()=>Po,q4F:()=>sC,GfV:()=>LE,s_b:()=>Hy,ifc:()=>Ye,eFA:()=>Eb,G48:()=>GS,Gpc:()=>Q,f3M:()=>c0,X6Q:()=>dc,_c5:()=>xb,VLi:()=>Tb,c2e:()=>Kh,zSh:()=>uu,wAp:()=>et,vHH:()=>De,EiD:()=>v0,mCW:()=>ai,qzn:()=>M,JVY:()=>D,pB0:()=>ue,eBb:()=>R,L6k:()=>S,LAX:()=>P,cg1:()=>jw,Tjo:()=>Uu,kL8:()=>al,yhl:()=>b,dqk:()=>Cn,sIi:()=>sl,CqO:()=>Sw,QGY:()=>Ew,F4k:()=>nR,RDi:()=>Fv,AaK:()=>W,z3N:()=>ga,qOj:()=>cw,TTD:()=>Xt,_Bn:()=>xy,xp6:()=>L0,uIk:()=>dw,Tol:()=>Nw,Gre:()=>jM,DjV:()=>zM,ekj:()=>Ow,Suo:()=>ob,Xpm:()=>tn,lG2:()=>Kt,Yz7:()=>Nt,cJS:()=>zn,oAB:()=>Se,Yjl:()=>pn,Y36:()=>K_,_UZ:()=>ey,GkF:()=>SM,BQk:()=>ty,ynx:()=>Tw,qZA:()=>Cw,TgZ:()=>mh,EpF:()=>Mw,n5z:()=>Ji,Ikx:()=>Gw,SDv:()=>ME,QtT:()=>My,pQV:()=>um,LFG:()=>pi,$8M:()=>Al,NdJ:()=>Jp,CRH:()=>ZC,kcU:()=>jv,O4$:()=>ND,oxw:()=>gh,ALo:()=>ib,lcZ:()=>AC,xi3:()=>kC,Hsn:()=>_h,F$t:()=>mu,Q6J:()=>ph,s9C:()=>Aw,MGl:()=>yh,VKq:()=>gS,WLB:()=>eb,kEZ:()=>SC,iGM:()=>km,MAs:()=>pM,CHM:()=>Fc,uOi:()=>kn,LSH:()=>xs,B6R:()=>Qn,kYT:()=>ze,Udp:()=>ly,WFA:()=>xw,d8E:()=>qw,YNc:()=>fM,W1O:()=>Im,_uU:()=>HM,Oqu:()=>ZM,hij:()=>vh,AsE:()=>dy,Gf:()=>sb});var o=L(9765),q=L(5319),U=L(7574),oe=L(6682),de=L(8819);function te(c){for(let u in c)if(c[u]===te)return u;throw Error("Could not find renamed property on target object.")}function j(c,u){for(const d in u)u.hasOwnProperty(d)&&!c.hasOwnProperty(d)&&(c[d]=u[d])}function W(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(W).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function z(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const V=te({__forward_ref__:te});function Q(c){return c.__forward_ref__=Q,c.toString=function(){return W(this())},c}function H(c){return K(c)?c():c}function K(c){return"function"==typeof c&&c.hasOwnProperty(V)&&c.__forward_ref__===Q}class De extends Error{constructor(u,d){super(function(c,u){return`${c?`NG0${c}: `:""}${u}`}(u,d)),this.code=u}}function we(c){return"string"==typeof c?c:null==c?"":String(c)}function Ie(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():we(c)}function Ut(c,u){const d=u?` in ${u}`:"";throw new De("201",`No provider for ${Ie(c)} found${d}`)}function yt(c,u,d,f){throw new Error(`ASSERTION ERROR: ${c}`+(null==f?"":` [Expected=> ${d} ${f} ${u} <=Actual]`))}function Nt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function zn(c){return{providers:c.providers||[],imports:c.imports||[]}}function Zi(c){return Cs(c,Ds)||Cs(c,ia)}function Cs(c,u){return c.hasOwnProperty(u)?c[u]:null}function to(c){return c&&(c.hasOwnProperty(Er)||c.hasOwnProperty(Bs))?c[Er]:null}const Ds=te({\u0275prov:te}),Er=te({\u0275inj:te}),ia=te({ngInjectableDef:te}),Bs=te({ngInjectorDef:te});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let fn;function Pi(c){const u=fn;return fn=c,u}function Mt(c,u,d){const f=Zi(c);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&lt.Optional?null:void 0!==u?u:void Ut(W(c),"Injector")}function en(c){return{toString:c}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),Ye=(()=>((Ye=Ye||{})[Ye.Emulated=0]="Emulated",Ye[Ye.None=2]="None",Ye[Ye.ShadowDom=3]="ShadowDom",Ye))();const st="undefined"!=typeof globalThis&&globalThis,ra="undefined"!=typeof window&&window,sa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ss="undefined"!=typeof global&&global,Cn=st||ss||ra||sa,bn={},Y=[],G=te({\u0275cmp:te}),ne=te({\u0275dir:te}),fe=te({\u0275pipe:te}),ae=te({\u0275mod:te}),Ze=te({\u0275loc:te}),Xe=te({\u0275fac:te}),Pt=te({__NG_ELEMENT_ID__:te});let Tn=0;function tn(c){return en(()=>{const d={},f={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||Y,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||Ye.Emulated,id:"c",styles:c.styles||Y,_:null,setInput:null,schemas:c.schemas||null,tView:null},p=c.directives,g=c.features,v=c.pipes;return f.id+=Tn++,f.inputs=vt(c.inputs,d),f.outputs=vt(c.outputs),g&&g.forEach(C=>C(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(ce):null,f.pipeDefs=v?()=>("function"==typeof v?v():v).map(J):null,f})}function Qn(c,u,d){const f=c.\u0275cmp;f.directiveDefs=()=>u.map(ce),f.pipeDefs=()=>d.map(J)}function ce(c){return cn(c)||function(c){return c[ne]||null}(c)}function J(c){return function(c){return c[fe]||null}(c)}const X={};function Se(c){return en(()=>{const u={type:c.type,bootstrap:c.bootstrap||Y,declarations:c.declarations||Y,imports:c.imports||Y,exports:c.exports||Y,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(X[c.id]=c.type),u})}function ze(c,u){return en(()=>{const d=Ft(c,!0);d.declarations=u.declarations||Y,d.imports=u.imports||Y,d.exports=u.exports||Y})}function vt(c,u){if(null==c)return bn;const d={};for(const f in c)if(c.hasOwnProperty(f)){let p=c[f],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),d[p]=f,u&&(u[p]=g)}return d}const Kt=tn;function pn(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function cn(c){return c[G]||null}function Ft(c,u){const d=c[ae]||null;if(!d&&!0===u)throw new Error(`Type ${W(c)} does not have '\u0275mod' property.`);return d}function xo(c){return Array.isArray(c)&&"object"==typeof c[1]}function Gr(c){return Array.isArray(c)&&!0===c[1]}function Jf(c){return 0!=(8&c.flags)}function ua(c){return 2==(2&c.flags)}function wi(c){return 1==(1&c.flags)}function zi(c){return null!==c.template}function ls(c){return 0!=(512&c[2])}function Va(c,u){return c.hasOwnProperty(Xe)?c[Xe]:null}class Nv{constructor(u,d,f){this.previousValue=u,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Xt(){return Kf}function Kf(c){return c.type.prototype.ngOnChanges&&(c.setInput=Pv),Xf}function Xf(){const c=kc(this),u=null==c?void 0:c.current;if(u){const d=c.previous;if(d===bn)c.previous=u;else for(let f in u)d[f]=u[f];c.current=null,this.ngOnChanges(u)}}function Pv(c,u,d,f){const p=kc(c)||function(c,u){return c[ep]=u}(c,{previous:bn,current:null}),g=p.current||(p.current={}),v=p.previous,C=this.declaredInputs[d],E=v[C];g[C]=new Nv(E&&E.currentValue,u,v===bn),c[f]=u}Xt.ngInherit=!0;const ep="__ngSimpleChanges__";function kc(c){return c[ep]||null}const wl="http://www.w3.org/2000/svg";let Ic;function Fv(c){Ic=c}function dd(){return void 0!==Ic?Ic:"undefined"!=typeof document?document:void 0}function $n(c){return!!c.listen}const da={createRenderer:(c,u)=>dd()};function Yn(c){for(;Array.isArray(c);)c=c[0];return c}function Ua(c,u){return Yn(u[c])}function qr(c,u){return Yn(u[c.index])}function Oc(c,u){return c.data[u]}function Ha(c,u){return c[u]}function xr(c,u){const d=u[c];return xo(d)?d:d[0]}function Lv(c){return 4==(4&c[2])}function fd(c){return 128==(128&c[2])}function Io(c,u){return null==u?null:c[u]}function Nc(c){c[18]=0}function Pc(c,u){c[5]+=u;let d=c,f=c[3];for(;null!==f&&(1===u&&1===d[5]||-1===u&&0===d[5]);)f[5]+=u,d=f,f=f[3]}const Ct={lFrame:Yv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Uv(){return Ct.bindingsEnabled}function ke(){return Ct.lFrame.lView}function sn(){return Ct.lFrame.tView}function Fc(c){return Ct.lFrame.contextLView=c,c[8]}function Xn(){let c=Lc();for(;null!==c&&64===c.type;)c=c.parent;return c}function Lc(){return Ct.lFrame.currentTNode}function Za(){const c=Ct.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}function Ts(c,u){const d=Ct.lFrame;d.currentTNode=c,d.isParent=u}function Dl(){return Ct.lFrame.isParent}function md(){Ct.lFrame.isParent=!1}function gd(){return Ct.isInCheckNoChangesMode}function Tl(c){Ct.isInCheckNoChangesMode=c}function $i(){const c=Ct.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function ds(){return Ct.lFrame.bindingIndex}function Vs(){return Ct.lFrame.bindingIndex++}function Us(c){const u=Ct.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,d}function Yg(c){Ct.lFrame.inI18n=c}function _d(c,u){const d=Ct.lFrame;d.bindingIndex=d.bindingRootIndex=c,Bc(u)}function Bc(c){Ct.lFrame.currentDirectiveIndex=c}function cp(c){const u=Ct.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function Gg(){return Ct.lFrame.currentQueryIndex}function Ml(c){Ct.lFrame.currentQueryIndex=c}function yd(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function qg(c,u,d){if(d&lt.SkipSelf){let p=u,g=c;for(;!(p=p.parent,null!==p||d&lt.Host||(p=yd(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;u=p,c=g}const f=Ct.lFrame=up();return f.currentTNode=u,f.lView=c,!0}function Ro(c){const u=up(),d=c[1];Ct.lFrame=u,u.currentTNode=d.firstChild,u.lView=c,u.tView=d,u.contextLView=c,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function up(){const c=Ct.lFrame,u=null===c?null:c.child;return null===u?Yv(c):u}function Yv(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function jg(){const c=Ct.lFrame;return Ct.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Gv=jg;function Vc(){const c=jg();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Ar(){return Ct.lFrame.selectedIndex}function El(c){Ct.lFrame.selectedIndex=c}function Ci(){const c=Ct.lFrame;return Oc(c.tView,c.selectedIndex)}function ND(){Ct.lFrame.currentNamespace=wl}function jv(){Ct.lFrame.currentNamespace=null}function bd(c,u){for(let d=u.directiveStart,f=u.directiveEnd;d<f;d++){const g=c.data[d].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:k}=g;v&&(c.contentHooks||(c.contentHooks=[])).push(-d,v),C&&((c.contentHooks||(c.contentHooks=[])).push(d,C),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(d,C)),E&&(c.viewHooks||(c.viewHooks=[])).push(-d,E),x&&((c.viewHooks||(c.viewHooks=[])).push(d,x),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(d,x)),null!=k&&(c.destroyHooks||(c.destroyHooks=[])).push(d,k)}}function Sl(c,u,d){wd(c,u,3,d)}function vd(c,u,d,f){(3&c[2])===d&&wd(c,u,d,f)}function hp(c,u){let d=c[2];(3&d)===u&&(d&=2047,d+=1,c[2]=d)}function wd(c,u,d,f){const g=null!=f?f:-1,v=u.length-1;let C=0;for(let E=void 0!==f?65535&c[18]:0;E<v;E++)if("number"==typeof u[E+1]){if(C=u[E],null!=f&&C>=f)break}else u[E]<0&&(c[18]+=65536),(C<g||-1==g)&&(fp(c,d,u,E),c[18]=(4294901760&c[18])+E+2),E++}function fp(c,u,d,f){const p=d[f]<0,g=d[f+1],C=c[p?-d[f]:d[f]];if(p){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Ga{constructor(u,d,f){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function mp(c,u,d){const f=$n(c);let p=0;for(;p<d.length;){const g=d[p];if("number"==typeof g){if(0!==g)break;p++;const v=d[p++],C=d[p++],E=d[p++];f?c.setAttribute(u,C,E,v):u.setAttributeNS(v,C,E)}else{const v=g,C=d[++p];jr(v)?f&&c.setProperty(u,v,C):f?c.setAttribute(u,v,C):u.setAttribute(v,C),p++}}return p}function $g(c){return 3===c||4===c||6===c}function jr(c){return 64===c.charCodeAt(0)}function Cd(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let d=-1;for(let f=0;f<u.length;f++){const p=u[f];"number"==typeof p?d=p:0===d||Di(c,d,p,null,-1===d||2===d?u[++f]:null)}}return c}function Di(c,u,d,f,p){let g=0,v=c.length;if(-1===u)v=-1;else for(;g<c.length;){const C=c[g++];if("number"==typeof C){if(C===u){v=-1;break}if(C>u){v=g-1;break}}}for(;g<c.length;){const C=c[g];if("number"==typeof C)break;if(C===d){if(null===f)return void(null!==p&&(c[g+1]=p));if(f===c[g+1])return void(c[g+2]=p)}g++,null!==f&&g++,null!==p&&g++}-1!==v&&(c.splice(v,0,u),g=v+1),c.splice(g++,0,d),null!==f&&c.splice(g++,0,f),null!==p&&c.splice(g++,0,p)}function Dd(c){return-1!==c}function No(c){return 32767&c}function qa(c,u){let d=function(c){return c>>16}(c),f=u;for(;d>0;)f=f[15],d--;return f}let Wg=!0;function Td(c){const u=Wg;return Wg=c,u}let Qv=0;function fa(c,u){const d=pe(c,u);if(-1!==d)return d;const f=u[1];f.firstCreatePass&&(c.injectorIndex=u.length,Qg(f.data,c),Qg(u,null),Qg(f.blueprint,null));const p=kt(c,u),g=c.injectorIndex;if(Dd(p)){const v=No(p),C=qa(p,u),E=C[1].data;for(let x=0;x<8;x++)u[g+x]=C[v+x]|E[v+x]}return u[g+8]=p,g}function Qg(c,u){c.push(0,0,0,0,0,0,0,0,u)}function pe(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function kt(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let d=0,f=null,p=u;for(;null!==p;){const g=p[1],v=g.type;if(f=2===v?g.declTNode:1===v?p[6]:null,null===f)return-1;if(d++,p=p[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function ja(c,u,d){!function(c,u,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Pt)&&(f=d[Pt]),null==f&&(f=d[Pt]=Qv++);const p=255&f;u.data[c+(p>>5)]|=1<<p}(c,u,d)}function qe(c,u,d){if(d&lt.Optional)return c;Ut(u,"NodeInjector")}function Kg(c,u,d,f){if(d&lt.Optional&&void 0===f&&(f=null),0==(d&(lt.Self|lt.Host))){const p=c[9],g=Pi(void 0);try{return p?p.get(u,f,d&lt.Optional):Mt(u,f,d&lt.Optional)}finally{Pi(g)}}return qe(f,u,d)}function Hc(c,u,d,f=lt.Default,p){if(null!==c){const g=function(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Pt)?c[Pt]:void 0;return"number"==typeof u?u>=0?255&u:mk:u}(d);if("function"==typeof g){if(!qg(u,c,f))return f&lt.Host?qe(p,d,f):Kg(u,d,f,p);try{const v=g(f);if(null!=v||f&lt.Optional)return v;Ut(d)}finally{Gv()}}else if("number"==typeof g){let v=null,C=pe(c,u),E=-1,x=f&lt.Host?u[16][6]:null;for((-1===C||f&lt.SkipSelf)&&(E=-1===C?kt(c,u):u[C+8],-1!==E&&Xv(f,!1)?(v=u[1],C=No(E),u=qa(E,u)):C=-1);-1!==C;){const k=u[1];if(gp(g,C,k.data)){const N=Wi(C,u,d,v,f,x);if(N!==Sd)return N}E=u[C+8],-1!==E&&Xv(f,u[1].data[C+8]===x)&&gp(g,C,u)?(v=k,C=No(E),u=qa(E,u)):C=-1}}}return Kg(u,d,f,p)}const Sd={};function mk(){return new kr(Xn(),ke())}function Wi(c,u,d,f,p,g){const v=u[1],C=v.data[c+8],k=xd(C,v,d,null==f?ua(C)&&Wg:f!=v&&0!=(3&C.type),p&lt.Host&&g===C);return null!==k?Zc(u,v,k,C):Sd}function xd(c,u,d,f,p){const g=c.providerIndexes,v=u.data,C=1048575&g,E=c.directiveStart,k=g>>20,F=p?C+k:c.directiveEnd;for(let Z=f?C:C+k;Z<F;Z++){const ee=v[Z];if(Z<E&&d===ee||Z>=E&&ee.type===d)return Z}if(p){const Z=v[E];if(Z&&zi(Z)&&Z.type===d)return E}return null}function Zc(c,u,d,f){let p=c[d];const g=u.data;if(function(c){return c instanceof Ga}(p)){const v=p;v.resolving&&function(c,u){throw new De("200",`Circular dependency in DI detected for ${c}`)}(Ie(g[d]));const C=Td(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Pi(v.injectImpl):null;qg(c,f,lt.Default);try{p=c[d]=v.factory(void 0,g,c,f),u.firstCreatePass&&d>=f.directiveStart&&function(c,u,d){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:g}=u.type.prototype;if(f){const v=Kf(u);(d.preOrderHooks||(d.preOrderHooks=[])).push(c,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(c,v)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-c,p),g&&((d.preOrderHooks||(d.preOrderHooks=[])).push(c,g),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(c,g))}(d,g[d],u)}finally{null!==E&&Pi(E),Td(C),v.resolving=!1,Gv()}}return p}function gp(c,u,d){return!!(d[u+(c>>5)]&1<<c)}function Xv(c,u){return!(c&lt.Self||c&lt.Host&&u)}class kr{constructor(u,d){this._tNode=u,this._lView=d}get(u,d){return Hc(this._tNode,this._lView,u,void 0,d)}}function Ji(c){return en(()=>{const u=c.prototype.constructor,d=u[Xe]||xl(u),f=Object.prototype;let p=Object.getPrototypeOf(c.prototype).constructor;for(;p&&p!==f;){const g=p[Xe]||xl(p);if(g&&g!==d)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function xl(c){return K(c)?()=>{const u=xl(H(c));return u&&u()}:Va(c)}function Al(c){return function(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const d=c.attrs;if(d){const f=d.length;let p=0;for(;p<f;){const g=d[p];if($g(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<f&&"string"==typeof d[p];)p++;else{if(g===u)return d[p+1];p+=2}}}return null}(Xn(),c)}const so="__parameters__",fs="__prop__metadata__";function Ms(c){return function(...d){if(c){const f=c(...d);for(const p in f)this[p]=f[p]}}}function lr(c,u,d){return en(()=>{const f=Ms(u);function p(...g){if(this instanceof p)return f.apply(this,g),this;const v=new p(...g);return C.annotation=v,C;function C(E,x,k){const N=E.hasOwnProperty(so)?E[so]:Object.defineProperty(E,so,{value:[]})[so];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=c,p.annotationCls=p,p})}function Xg(c,u,d,f){return en(()=>{const p=Ms(u);function g(...v){if(this instanceof g)return p.apply(this,v),this;const C=new g(...v);return function(x,k){const N=x.constructor,F=N.hasOwnProperty(fs)?N[fs]:Object.defineProperty(N,fs,{value:{}})[fs];F[k]=F.hasOwnProperty(k)&&F[k]||[],F[k].unshift(C),f&&f(x,k,...v)}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=c,g.annotationCls=g,g})}class fi{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Nt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const VD=new fi("AnalyzeForEntryComponents"),Po=Function;function Hs(c,u){void 0===u&&(u=c);for(let d=0;d<c.length;d++){let f=c[d];Array.isArray(f)?(u===c&&(u=c.slice(0,d)),Hs(f,u)):u!==c&&u.push(f)}return u}function Zs(c,u){c.forEach(d=>Array.isArray(d)?Zs(d,u):u(d))}function Id(c,u,d){u>=c.length?c.push(d):c.splice(u,0,d)}function kl(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function za(c,u){const d=[];for(let f=0;f<c;f++)d.push(u);return d}function Es(c,u,d){let f=Gc(c,u);return f>=0?c[1|f]=d:(f=~f,function(c,u,d,f){let p=c.length;if(p==u)c.push(d,f);else if(1===p)c.push(f,c[0]),c[0]=d;else{for(p--,c.push(c[p-1],c[p]);p>u;)c[p]=c[p-2],p--;c[u]=d,c[u+1]=f}}(c,f,u,d)),f}function Rd(c,u){const d=Gc(c,u);if(d>=0)return c[1|d]}function Gc(c,u){return function(c,u,d){let f=0,p=c.length>>d;for(;p!==f;){const g=f+(p-f>>1),v=c[g<<d];if(u===v)return g<<d;v>u?p=g:f=g+1}return~(p<<d)}(c,u,1)}const Nd={},Pd="__NG_DI_FLAG__",jc="ngTempTokenPath",a_=/\n/gm,Fd="__source",Ld=te({provide:String,useValue:te});let zc;function $a(c){const u=zc;return zc=c,u}function jD(c,u=lt.Default){if(void 0===zc)throw new Error("inject() must be called from an injection context");return null===zc?Mt(c,void 0,u):zc.get(c,u&lt.Optional?null:void 0,u)}function pi(c,u=lt.Default){return(fn||jD)(H(c),u)}const c0=pi;function Il(c){const u=[];for(let d=0;d<c.length;d++){const f=H(c[d]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let p,g=lt.Default;for(let v=0;v<f.length;v++){const C=f[v],E=c_(C);"number"==typeof E?-1===E?p=C.token:g|=E:p=C}u.push(pi(p,g))}else u.push(pi(f))}return u}function $c(c,u){return c[Pd]=u,c.prototype[Pd]=u,c}function c_(c){return c[Pd]}function u0(c,u,d,f){const p=c[jc];throw u[Fd]&&p.unshift(u[Fd]),c.message=function(c,u,d,f=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let p=W(u);if(Array.isArray(u))p=u.map(W).join(" -> ");else if("object"==typeof u){let g=[];for(let v in u)if(u.hasOwnProperty(v)){let C=u[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):W(C)))}p=`{${g.join(", ")}}`}return`${d}${f?"("+f+")":""}[${p}]: ${c.replace(a_,"\n  ")}`}("\n"+c.message,p,d,f),c.ngTokenPath=p,c[jc]=null,c}const Wa=$c(lr("Inject",c=>({token:c})),-1),pa=$c(lr("Optional"),8),Bd=$c(lr("Self"),2),ma=$c(lr("SkipSelf"),4);let Cp,Qc;function Jc(c){var u;return(null===(u=function(){if(void 0===Cp&&(Cp=null,Cn.trustedTypes))try{Cp=Cn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Cp}())||void 0===u?void 0:u.createHTML(c))||c}function Ti(c){var u;return(null===(u=function(){if(void 0===Qc&&(Qc=null,Cn.trustedTypes))try{Qc=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Qc}())||void 0===u?void 0:u.createScriptURL(c))||c}class ps{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Kc extends ps{getTypeName(){return"HTML"}}class g0 extends ps{getTypeName(){return"Style"}}class _0 extends ps{getTypeName(){return"Script"}}class y0 extends ps{getTypeName(){return"URL"}}class wt extends ps{getTypeName(){return"ResourceURL"}}function ga(c){return c instanceof ps?c.changingThisBreaksApplicationSecurity:c}function M(c,u){const d=b(c);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===u}function b(c){return c instanceof ps&&c.getTypeName()||null}function D(c){return new Kc(c)}function S(c){return new g0(c)}function R(c){return new _0(c)}function P(c){return new y0(c)}function ue(c){return new wt(c)}function Pe(c){const u=new Dt(c);return function(){try{return!!(new window.DOMParser).parseFromString(Jc(""),"text/html")}catch(c){return!1}}()?new nt(u):u}class nt{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const d=(new window.DOMParser).parseFromString(Jc(u),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(u):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Dt{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(u){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Jc(u),d;const f=this.inertDocument.createElement("body");return f.innerHTML=Jc(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(u){const d=u.attributes;for(let p=d.length-1;0<p;p--){const v=d.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&u.removeAttribute(v)}let f=u.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const vn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ai(c){return(c=String(c)).match(vn)||c.match(_a)?c:"unsafe:"+c}function Be(c){return(c=String(c)).split(",").map(u=>ai(u.trim())).join(", ")}function Ss(c){const u={};for(const d of c.split(","))u[d]=!0;return u}function Rl(...c){const u={};for(const d of c)for(const f in d)d.hasOwnProperty(f)&&(u[f]=!0);return u}const xe=Ss("area,br,col,hr,img,wbr"),qt=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tp=Ss("rp,rt"),Hd=Rl(xe,Rl(qt,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rl(Tp,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rl(Tp,qt)),Ja=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rt=Ss("srcset"),b0=Rl(Ja,Rt,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tT=Ss("script,style,template");class Sp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let d=u.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(u){const d=u.nodeName.toLowerCase();if(!Hd.hasOwnProperty(d))return this.sanitizedSomething=!0,!tT.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=u.attributes;for(let p=0;p<f.length;p++){const g=f.item(p),v=g.name,C=v.toLowerCase();if(!b0.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=g.value;Ja[C]&&(E=ai(E)),Rt[C]&&(E=Be(E)),this.buf.push(" ",v,'="',xp(E),'"')}return this.buf.push(">"),!0}endElement(u){const d=u.nodeName.toLowerCase();Hd.hasOwnProperty(d)&&!xe.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(u){this.buf.push(xp(u))}checkClobberedElement(u,d){if(d&&(u.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return d}}const Ek=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lo=/([^\#-~ |!])/g;function xp(c){return c.replace(/&/g,"&amp;").replace(Ek,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Lo,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ya;function v0(c,u){let d=null;try{ya=ya||Pe(c);let f=u?String(u):"";d=ya.getInertBodyElement(f);let p=5,g=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=g,g=d.innerHTML,d=ya.getInertBodyElement(f)}while(f!==g);return Jc((new Sp).sanitizeChildren(eu(d)||d))}finally{if(d){const f=eu(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function eu(c){return"content"in c&&function(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function xs(c){const u=Ol();return u?u.sanitize(Mi.URL,c)||"":M(c,"URL")?ga(c):ai(we(c))}function kn(c){const u=Ol();if(u)return Ti(u.sanitize(Mi.RESOURCE_URL,c)||"");if(M(c,"ResourceURL"))return Ti(ga(c));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Ol(){const c=ke();return c&&c[12]}const rT="__ngContext__";function ei(c,u){c[rT]=u}function Rp(c){const u=function(c){return c[rT]||null}(c);return u?Array.isArray(u)?u:u.lView:null}function m_(c){return c.ngOriginalError}function Ok(c,...u){c.error(...u)}class Zd{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u),f=this._findContext(u),p=(c=u)&&c.ngErrorLogger||Ok;var c;p(this._console,"ERROR",u),d&&p(this._console,"ORIGINAL ERROR",d),f&&p(this._console,"ERROR CONTEXT",f)}_findContext(u){return u?u.ngDebugContext||this._findContext(m_(u)):null}_findOriginalError(u){let d=u&&m_(u);for(;d&&m_(d);)d=m_(d);return d||null}}const z2=/^>|^->|<!--|-->|--!>|<!-$/g,$2=/(<|>)/;const Op=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function Vo(c){return c instanceof Function?c():c}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();let y_;function Yd(c,u){return y_(c,u)}function Gd(c){const u=c[3];return Gr(u)?u[3]:u}function w_(c){return hT(c[13])}function nu(c){return hT(c[4])}function hT(c){for(;null!==c&&!Gr(c);)c=c[4];return c}function Np(c,u,d,f,p){if(null!=f){let g,v=!1;Gr(f)?g=f:xo(f)&&(v=!0,f=f[0]);const C=Yn(f);0===c&&null!==d?null==p?_T(u,d,C):Uo(u,d,C,p||null,!0):1===c&&null!==d?Uo(u,d,C,p||null,!0):2===c?wT(u,C,v):3===c&&u.destroyNode(C),null!=g&&function(c,u,d,f,p){const g=d[7];g!==Yn(d)&&Np(u,c,f,g,p);for(let C=10;C<d.length;C++){const E=d[C];mn(E[1],E,c,u,f,g)}}(u,c,g,d,p)}}function I0(c,u){return $n(c)?c.createText(u):c.createTextNode(u)}function Uk(c,u,d){$n(c)?c.setValue(u,d):u.textContent=d}function Hk(c,u){return c.createComment(function(c){return c.replace(z2,u=>u.replace($2,"\u200b$1\u200b"))}(u))}function Nl(c,u,d){return $n(c)?c.createElement(u,d):null===d?c.createElement(u):c.createElementNS(d,u)}function pT(c,u){const d=c[9],f=d.indexOf(u),p=u[3];1024&u[2]&&(u[2]&=-1025,Pc(p,-1)),d.splice(f,1)}function R0(c,u){if(c.length<=10)return;const d=10+u,f=c[d];if(f){const p=f[17];null!==p&&p!==c&&pT(p,f),u>0&&(c[d-1][4]=f[4]);const g=kl(c,10+u);!function(c,u){mn(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(f[1],f);const v=g[19];null!==v&&v.detachView(g[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function mT(c,u){if(!(256&u[2])){const d=u[11];$n(d)&&d.destroyNode&&mn(c,u,d,3,null,null),function(c){let u=c[13];if(!u)return O0(c[1],c);for(;u;){let d=null;if(xo(u))d=u[13];else{const f=u[10];f&&(d=f)}if(!d){for(;u&&!u[4]&&u!==c;)xo(u)&&O0(u[1],u),u=u[3];null===u&&(u=c),xo(u)&&O0(u[1],u),d=u&&u[4]}u=d}}(u)}}function O0(c,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(c,u){let d;if(null!=c&&null!=(d=c.destroyHooks))for(let f=0;f<d.length;f+=2){const p=u[d[f]];if(!(p instanceof Ga)){const g=d[f+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=p[g[v]],E=g[v+1];try{E.call(C)}finally{}}else try{g.call(p)}finally{}}}}(c,u),function(c,u){const d=c.cleanup,f=u[7];let p=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const v=d[g+1],C="function"==typeof v?v(u):Yn(u[v]),E=f[p=d[g+2]],x=d[g+3];"boolean"==typeof x?C.removeEventListener(d[g],E,x):x>=0?f[p=x]():f[p=-x].unsubscribe(),g+=2}else{const v=f[p=d[g+1]];d[g].call(v)}if(null!==f){for(let g=p+1;g<f.length;g++)f[g]();u[7]=null}}(c,u),1===u[1].type&&$n(u[11])&&u[11].destroy();const d=u[17];if(null!==d&&Gr(u[3])){d!==u[3]&&pT(d,u);const f=u[19];null!==f&&f.detachView(c)}}}function jk(c,u,d){return C_(c,u.parent,d)}function C_(c,u,d){let f=u;for(;null!==f&&40&f.type;)f=(u=f).parent;if(null===f)return d[0];if(2&f.flags){const p=c.data[f.directiveStart].encapsulation;if(p===Ye.None||p===Ye.Emulated)return null}return qr(f,d)}function Uo(c,u,d,f,p){$n(c)?c.insertBefore(u,d,f,p):u.insertBefore(d,f,p)}function _T(c,u,d){$n(c)?c.appendChild(u,d):u.appendChild(d)}function yT(c,u,d,f,p){null!==f?Uo(c,u,d,f,p):_T(c,u,d)}function qd(c,u){return $n(c)?c.parentNode(u):u.parentNode}function Pp(c,u,d){return Fp(c,u,d)}function bT(c,u,d){return 40&c.type?qr(c,d):null}let jd,Fp=bT;function vT(c,u){Fp=c,jd=u}function Pl(c,u,d,f){const p=jk(c,f,u),g=u[11],C=Pp(f.parent||u[6],f,u);if(null!=p)if(Array.isArray(d))for(let E=0;E<d.length;E++)yT(g,p,d[E],C,!1);else yT(g,p,d,C,!1);void 0!==jd&&jd(g,f,u,d,p)}function $t(c,u){if(null!==u){const d=u.type;if(3&d)return qr(u,c);if(4&d)return N0(-1,c[u.index]);if(8&d){const f=u.child;if(null!==f)return $t(c,f);{const p=c[u.index];return Gr(p)?N0(-1,p):Yn(p)}}if(32&d)return Yd(u,c)()||Yn(c[u.index]);{const f=Lp(c,u);return null!==f?Array.isArray(f)?f[0]:$t(Gd(c[16]),f):$t(c,u.next)}}return null}function Lp(c,u){return null!==u?c[16][6].projection[u.projection]:null}function N0(c,u){const d=10+c+1;if(d<u.length){const f=u[d],p=f[1].firstChild;if(null!==p)return $t(f,p)}return u[7]}function wT(c,u,d){const f=qd(c,u);f&&function(c,u,d,f){$n(c)?c.removeChild(u,d,f):u.removeChild(d)}(c,f,u,d)}function Bn(c,u,d,f,p,g,v){for(;null!=d;){const C=f[d.index],E=d.type;if(v&&0===u&&(C&&ei(Yn(C),f),d.flags|=4),64!=(64&d.flags))if(8&E)Bn(c,u,d.child,f,p,g,!1),Np(u,c,p,C,g);else if(32&E){const x=Yd(d,f);let k;for(;k=x();)Np(u,c,p,k,g);Np(u,c,p,C,g)}else 16&E?CT(c,u,f,d,p,g):Np(u,c,p,C,g);d=v?d.projectionNext:d.next}}function mn(c,u,d,f,p,g){Bn(d,f,c.firstChild,u,p,g,!1)}function CT(c,u,d,f,p,g){const v=d[16],E=v[6].projection[f.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)Np(u,c,p,E[x],g);else Bn(c,u,E,v[3],p,g,!0)}function DT(c,u,d){$n(c)?c.setAttribute(u,"style",d):u.style.cssText=d}function P0(c,u,d){$n(c)?""===d?c.removeAttribute(u,"class"):c.setAttribute(u,"class",d):u.className=d}function TT(c,u,d){let f=c.length;for(;;){const p=c.indexOf(u,d);if(-1===p)return p;if(0===p||c.charCodeAt(p-1)<=32){const g=u.length;if(p+g===f||c.charCodeAt(p+g)<=32)return p}d=p+1}}const MT="ng-template";function ET(c,u,d){let f=0;for(;f<c.length;){let p=c[f++];if(d&&"class"===p){if(p=c[f],-1!==TT(p.toLowerCase(),u,0))return!0}else if(1===p){for(;f<c.length&&"string"==typeof(p=c[f++]);)if(p.toLowerCase()===u)return!0;return!1}}return!1}function ST(c){return 4===c.type&&c.value!==MT}function gn(c,u,d){return u===(4!==c.type||d?c.value:MT)}function eB(c,u,d){let f=4;const p=c.attrs||[],g=function(c){for(let u=0;u<c.length;u++)if($g(c[u]))return u;return c.length}(p);let v=!1;for(let C=0;C<u.length;C++){const E=u[C];if("number"!=typeof E){if(!v)if(4&f){if(f=2|1&f,""!==E&&!gn(c,E,d)||""===E&&1===u.length){if($r(f))return!1;v=!0}}else{const x=8&f?E:u[++C];if(8&f&&null!==c.attrs){if(!ET(c.attrs,x,d)){if($r(f))return!1;v=!0}continue}const N=Jk(8&f?"class":E,p,ST(c),d);if(-1===N){if($r(f))return!1;v=!0;continue}if(""!==x){let F;F=N>g?"":p[N+1].toLowerCase();const Z=8&f?F:null;if(Z&&-1!==TT(Z,x,0)||2&f&&x!==F){if($r(f))return!1;v=!0}}}}else{if(!v&&!$r(f)&&!$r(E))return!1;if(v&&$r(E))continue;v=!1,f=E|1&f}}return $r(f)||v}function $r(c){return 0==(1&c)}function Jk(c,u,d,f){if(null===u)return-1;let p=0;if(f||!d){let g=!1;for(;p<u.length;){const v=u[p];if(v===c)return p;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=u[++p];for(;"string"==typeof C;)C=u[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=g?1:2}return-1}return function(c,u){let d=c.indexOf(4);if(d>-1)for(d++;d<c.length;){const f=c[d];if("number"==typeof f)return-1;if(f===u)return d;d++}return-1}(u,c)}function zd(c,u,d=!1){for(let f=0;f<u.length;f++)if(eB(c,u[f],d))return!0;return!1}function Vp(c,u){e:for(let d=0;d<u.length;d++){const f=u[d];if(c.length===f.length){for(let p=0;p<c.length;p++)if(c[p]!==f[p])continue e;return!0}}return!1}function Kk(c,u){return c?":not("+u.trim()+")":u}function T_(c){let u=c[0],d=1,f=2,p="",g=!1;for(;d<c.length;){let v=c[d];if("string"==typeof v)if(2&f){const C=c[++d];p+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&f?p+="."+v:4&f&&(p+=" "+v);else""!==p&&!$r(v)&&(u+=Kk(g,p),p=""),f=v,g=g||!$r(f);d++}return""!==p&&(u+=Kk(g,p)),u}const Lt={};function L0(c){AT(sn(),ke(),Ar()+c,gd())}function AT(c,u,d,f){if(!f)if(3==(3&u[2])){const g=c.preOrderCheckHooks;null!==g&&Sl(u,g,d)}else{const g=c.preOrderHooks;null!==g&&vd(u,g,0,d)}El(d)}function M_(c,u){return c<<17|u<<2}function wa(c){return c>>17&32767}function Fl(c){return 2|c}function Xa(c){return(131068&c)>>2}function mr(c,u){return-131069&c|u<<2}function B0(c){return 1|c}function PT(c,u){const d=c.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const p=d[f],g=d[f+1];if(-1!==g){const v=c.data[g];Ml(p),v.contentQueries(2,u[g],g)}}}function Jd(c,u,d,f,p,g,v,C,E,x){const k=u.blueprint.slice();return k[0]=p,k[2]=140|f,Nc(k),k[3]=k[15]=c,k[8]=d,k[10]=v||c&&c[10],k[11]=C||c&&c[11],k[12]=E||c&&c[12]||null,k[9]=x||c&&c[9]||null,k[6]=g,k[16]=2==u.type?c[16]:k,k}function ou(c,u,d,f,p){let g=c.data[u];if(null===g)g=N_(c,u,d,f,p),Ct.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=d,g.value=f,g.attrs=p;const v=Za();g.injectorIndex=null===v?-1:v.injectorIndex}return Ts(g,!0),g}function N_(c,u,d,f,p){const g=Lc(),v=Dl(),E=c.data[u]=function(c,u,d,f,p,g){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,d,u,f,p);return null===c.firstChild&&(c.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function Qd(c,u,d,f){if(0===d)return-1;const p=u.length;for(let g=0;g<d;g++)u.push(f),c.blueprint.push(f),c.data.push(null);return p}function Bl(c,u,d){Ro(u);try{const f=c.viewQuery;null!==f&&K0(1,f,d);const p=c.template;null!==p&&P_(c,u,p,1,d),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&PT(c,u),c.staticViewQueries&&K0(2,c.viewQuery,d);const g=c.components;null!==g&&function(c,u){for(let d=0;d<u.length;d++)tl(c,u[d])}(u,g)}catch(f){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),f}finally{u[2]&=-5,Vc()}}function au(c,u,d,f){const p=u[2];if(256==(256&p))return;Ro(u);const g=gd();try{Nc(u),function(c){Ct.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==d&&P_(c,u,d,2,f);const v=3==(3&p);if(!g)if(v){const x=c.preOrderCheckHooks;null!==x&&Sl(u,x,null)}else{const x=c.preOrderHooks;null!==x&&vd(u,x,0,null),hp(u,0)}if(function(c){for(let u=w_(c);null!==u;u=nu(u)){if(!u[2])continue;const d=u[9];for(let f=0;f<d.length;f++){const p=d[f],g=p[3];0==(1024&p[2])&&Pc(g,1),p[2]|=1024}}}(u),function(c){for(let u=w_(c);null!==u;u=nu(u))for(let d=10;d<u.length;d++){const f=u[d],p=f[1];fd(f)&&au(p,f,p.template,f[8])}}(u),null!==c.contentQueries&&PT(c,u),!g)if(v){const x=c.contentCheckHooks;null!==x&&Sl(u,x)}else{const x=c.contentHooks;null!==x&&vd(u,x,1),hp(u,1)}!function(c,u){const d=c.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const p=d[f];if(p<0)El(~p);else{const g=p,v=d[++f],C=d[++f];_d(v,g),C(2,u[g])}}}finally{El(-1)}}(c,u);const C=c.components;null!==C&&function(c,u){for(let d=0;d<u.length;d++)vI(c,u[d])}(u,C);const E=c.viewQuery;if(null!==E&&K0(2,E,f),!g)if(v){const x=c.viewCheckHooks;null!==x&&Sl(u,x)}else{const x=c.viewHooks;null!==x&&vd(u,x,2),hp(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),g||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Pc(u[3],-1))}finally{Vc()}}function dI(c,u,d,f){const p=u[10],g=!gd(),v=Lv(u);try{g&&!v&&p.begin&&p.begin(),v&&Bl(c,u,f),au(c,u,d,f)}finally{g&&!v&&p.end&&p.end()}}function P_(c,u,d,f,p){const g=Ar(),v=2&f;try{El(-1),v&&u.length>20&&AT(c,u,20,gd()),d(f,p)}finally{El(g)}}function F_(c,u,d){if(Jf(u)){const p=u.directiveEnd;for(let g=u.directiveStart;g<p;g++){const v=c.data[g];v.contentQueries&&v.contentQueries(1,d[g],g)}}}function Hp(c,u,d){!Uv()||(function(c,u,d,f){const p=d.directiveStart,g=d.directiveEnd;c.firstCreatePass||fa(d,u),ei(f,u);const v=d.initialInputs;for(let C=p;C<g;C++){const E=c.data[C],x=zi(E);x&&fB(u,d,E);const k=Zc(u,c,C,d);ei(k,u),null!==v&&el(0,C-p,k,E,0,v),x&&(xr(d.index,u)[8]=k)}}(c,u,d,qr(d,u)),128==(128&d.flags)&&function(c,u,d){const f=d.directiveStart,p=d.directiveEnd,v=d.index,C=Ct.lFrame.currentDirectiveIndex;try{El(v);for(let E=f;E<p;E++){const x=c.data[E],k=u[E];Bc(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&lo(x,k)}}finally{El(-1),Bc(C)}}(c,u,d))}function LT(c,u,d=qr){const f=u.localNames;if(null!==f){let p=u.index+1;for(let g=0;g<f.length;g+=2){const v=f[g+1],C=-1===v?d(u,c):c[v];c[p++]=C}}}function j0(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=z0(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function z0(c,u,d,f,p,g,v,C,E,x){const k=20+f,N=k+p,F=function(c,u){const d=[];for(let f=0;f<u;f++)d.push(f<c?null:Lt);return d}(k,N),Z="function"==typeof x?x():x;return F[1]={type:c,blueprint:F,template:d,queries:null,viewQuery:C,declTNode:u,data:F.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1}}function L_(c,u,d,f){const p=WT(u);null===d?p.push(f):(p.push(d),c.firstCreatePass&&lu(c).push(f,p.length-1))}function W0(c,u,d){for(let f in c)if(c.hasOwnProperty(f)){const p=c[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(u,p):d[f]=[u,p]}return d}function ao(c,u,d,f,p,g,v,C){const E=qr(u,d);let k,x=u.inputs;!C&&null!=x&&(k=x[f])?(JT(c,d,k,f,p),ua(u)&&function(c,u){const d=xr(u,c);16&d[2]||(d[2]|=64)}(d,u.index)):3&u.type&&(f=function(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(f),p=null!=v?v(p,u.value||"",f):p,$n(g)?g.setProperty(E,f,p):jr(f)||(E.setProperty?E.setProperty(f,p):E[f]=p))}function VT(c,u,d,f){let p=!1;if(Uv()){const g=function(c,u,d){const f=c.directiveRegistry;let p=null;if(f)for(let g=0;g<f.length;g++){const v=f[g];zd(d,v.selectors,!1)&&(p||(p=[]),ja(fa(d,u),c,v.type),zi(v)?(Xd(c,d),p.unshift(v)):p.push(v))}return p}(c,u,d),v=null===f?null:{"":-1};if(null!==g){p=!0,bI(d,c.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,x=Qd(c,u,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];d.mergedAttrs=Cd(d.mergedAttrs,N.hostAttrs),B_(c,d,u,x,N),UT(x,N,v),null!==N.contentQueries&&(d.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(d.flags|=128);const F=N.type.prototype;!C&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(d.index),C=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(d.index),E=!0),x++}!function(c,u){const f=u.directiveEnd,p=c.data,g=u.attrs,v=[];let C=null,E=null;for(let x=u.directiveStart;x<f;x++){const k=p[x],N=k.inputs,F=null===g||ST(u)?null:pB(N,g);v.push(F),C=W0(N,x,C),E=W0(k.outputs,x,E)}null!==C&&(C.hasOwnProperty("class")&&(u.flags|=16),C.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=v,u.inputs=C,u.outputs=E}(c,d)}v&&function(c,u,d){if(u){const f=c.localNames=[];for(let p=0;p<u.length;p+=2){const g=d[u[p+1]];if(null==g)throw new De("301",`Export of name '${u[p+1]}' not found!`);f.push(u[p],g)}}}(d,f,v)}return d.mergedAttrs=Cd(d.mergedAttrs,d.attrs),p}function _I(c,u,d,f,p,g){const v=g.hostBindings;if(v){let C=c.hostBindingOpCodes;null===C&&(C=c.hostBindingOpCodes=[]);const E=~u.index;(function(c){let u=c.length;for(;u>0;){const d=c[--u];if("number"==typeof d&&d<0)return d}return 0})(C)!=E&&C.push(E),C.push(f,p,v)}}function lo(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function Xd(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function UT(c,u,d){if(d){if(u.exportAs)for(let f=0;f<u.exportAs.length;f++)d[u.exportAs[f]]=c;zi(u)&&(d[""]=c)}}function bI(c,u,d){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+d,c.providerIndexes=u}function B_(c,u,d,f,p){c.data[f]=p;const g=p.factory||(p.factory=Va(p.type)),v=new Ga(g,zi(p),null);c.blueprint[f]=v,d[f]=v,_I(c,u,0,f,Qd(c,d,p.hostVars,Lt),p)}function fB(c,u,d){const f=qr(u,c),p=j0(d),g=c[10],v=eh(c,Jd(c,p,null,d.onPush?64:16,f,u,g,g.createRenderer(f,d),null,null));c[u.index]=v}function HT(c,u,d,f,p,g,v){if(null==g)$n(c)?c.removeAttribute(u,p,d):u.removeAttribute(p);else{const C=null==v?we(g):v(g,f||"",p);$n(c)?c.setAttribute(u,p,C,d):d?u.setAttributeNS(d,p,C):u.setAttribute(p,C)}}function el(c,u,d,f,p,g){const v=g[u];if(null!==v){const C=f.setInput;for(let E=0;E<v.length;){const x=v[E++],k=v[E++],N=v[E++];null!==C?f.setInput(d,N,x,k):d[k]=N}}}function pB(c,u){let d=null,f=0;for(;f<u.length;){const p=u[f];if(0!==p)if(5!==p){if("number"==typeof p)break;c.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,c[p],u[f+1])),f+=2}else f+=2;else f+=4}return d}function ZT(c,u,d,f){return new Array(c,!0,!1,u,null,0,f,d,null,null)}function vI(c,u){const d=xr(u,c);if(fd(d)){const f=d[1];80&d[2]?au(f,d,f.template,d[8]):d[5]>0&&qT(d)}}function qT(c){for(let f=w_(c);null!==f;f=nu(f))for(let p=10;p<f.length;p++){const g=f[p];if(1024&g[2]){const v=g[1];au(v,g,v.template,g[8])}else g[5]>0&&qT(g)}const d=c[1].components;if(null!==d)for(let f=0;f<d.length;f++){const p=xr(d[f],c);fd(p)&&p[5]>0&&qT(p)}}function tl(c,u){const d=xr(u,c),f=d[1];(function(c,u){for(let d=u.length;d<c.blueprint.length;d++)u.push(c.blueprint[d])})(f,d),Bl(f,d,d[8])}function eh(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function Vl(c){for(;c;){c[2]|=64;const u=Gd(c);if(ls(c)&&!u)return c;c=u}return null}function V_(c,u,d){const f=u[10];f.begin&&f.begin();try{au(c,u,c.template,d)}catch(p){throw Zp(u,p),p}finally{f.end&&f.end()}}function zT(c){!function(c){for(let u=0;u<c.components.length;u++){const d=c.components[u],f=Rp(d),p=f[1];dI(p,f,p.template,d)}}(c[8])}function K0(c,u,d){Ml(0),u(c,d)}const th=(()=>Promise.resolve(null))();function WT(c){return c[7]||(c[7]=[])}function lu(c){return c.cleanup||(c.cleanup=[])}function cu(c,u,d){return(null===c||zi(c))&&(d=function(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(d[u.index])),d[11]}function Zp(c,u){const d=c[9],f=d?d.get(Zd,null):null;f&&f.handleError(u)}function JT(c,u,d,f,p){for(let g=0;g<d.length;){const v=d[g++],C=d[g++],E=u[v],x=c.data[v];null!==x.setInput?x.setInput(E,p,f,C):E[C]=p}}function nl(c,u,d){const f=Ua(u,c);Uk(c[11],f,d)}function co(c,u,d){let f=d?c.styles:null,p=d?c.classes:null,g=0;if(null!==u)for(let v=0;v<u.length;v++){const C=u[v];"number"==typeof C?g=C:1==g?p=z(p,C):2==g&&(f=z(f,C+": "+u[++v]+";"))}d?c.styles=f:c.stylesWithoutHost=f,d?c.classes=p:c.classesWithoutHost=p}const Ul=new fi("INJECTOR",-1);class tw{get(u,d=Nd){if(d===Nd){const f=new Error(`NullInjectorError: No provider for ${W(u)}!`);throw f.name="NullInjectorError",f}return d}}const uu=new fi("Set Injector scope."),nh={},gB={};let Yp;function QT(){return void 0===Yp&&(Yp=new tw),Yp}function ih(c,u=null,d=null,f){return new EI(c,d,u||QT(),f)}class EI{constructor(u,d,f,p=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];d&&Zs(d,C=>this.processProvider(C,u,d)),Zs([u],C=>this.processInjectorType(C,[],g)),this.records.set(Ul,Hl(void 0,this));const v=this.records.get(uu);this.scope=null!=v?v.value:null,this.source=p||("object"==typeof u?null:W(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,d=Nd,f=lt.Default){this.assertNotDestroyed();const p=$a(this),g=Pi(void 0);try{if(!(f&lt.SkipSelf)){let C=this.records.get(u);if(void 0===C){const E=("function"==typeof(c=u)||"object"==typeof c&&c instanceof fi)&&Zi(u);C=E&&this.injectableDefInScope(E)?Hl(nw(u),nh):null,this.records.set(u,C)}if(null!=C)return this.hydrate(u,C)}return(f&lt.Self?QT():this.parent).get(u,d=f&lt.Optional&&d===Nd?null:d)}catch(v){if("NullInjectorError"===v.name){if((v[jc]=v[jc]||[]).unshift(W(u)),p)throw v;return u0(v,u,"R3InjectorError",this.source)}throw v}finally{Pi(g),$a(p)}var c}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((f,p)=>u.push(W(p))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,d,f){if(!(u=H(u)))return!1;let p=to(u);const g=null==p&&u.ngModule||void 0,v=void 0===g?u:g,C=-1!==f.indexOf(v);if(void 0!==g&&(p=to(g)),null==p)return!1;if(null!=p.imports&&!C){let k;f.push(v);try{Zs(p.imports,N=>{this.processInjectorType(N,d,f)&&(void 0===k&&(k=[]),k.push(N))})}finally{}if(void 0!==k)for(let N=0;N<k.length;N++){const{ngModule:F,providers:Z}=k[N];Zs(Z,ee=>this.processProvider(ee,F,Z||Y))}}this.injectorDefTypes.add(v);const E=Va(v)||(()=>new v);this.records.set(v,Hl(E,nh));const x=p.providers;if(null!=x&&!C){const k=u;Zs(x,N=>this.processProvider(N,k,x))}return void 0!==g&&void 0!==u.providers}processProvider(u,d,f){let p=du(u=H(u))?u:H(u&&u.provide);const g=H_(c=u)?Hl(void 0,c.useValue):Hl(Da(c),nh);var c;if(du(u)||!0!==u.multi)this.records.get(p);else{let v=this.records.get(p);v||(v=Hl(void 0,nh,!0),v.factory=()=>Il(v.multi),this.records.set(p,v)),p=u,v.multi.push(u)}this.records.set(p,g)}hydrate(u,d){return d.value===nh&&(d.value=gB,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(c=d.value)&&"object"==typeof c&&"function"==typeof c.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var c}injectableDefInScope(u){if(!u.providedIn)return!1;const d=H(u.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function nw(c){const u=Zi(c),d=null!==u?u.factory:Va(c);if(null!==d)return d;if(c instanceof fi)throw new Error(`Token ${W(c)} is missing a \u0275prov definition.`);if(c instanceof Function)return function(c){const u=c.length;if(u>0){const f=za(u,"?");throw new Error(`Can't resolve all parameters for ${W(c)}: (${f.join(", ")}).`)}const d=function(c){const u=c&&(c[Ds]||c[ia]);if(u){const d=function(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),u}return null}(c);return null!==d?()=>d.factory(c):()=>new c}(c);throw new Error("unreachable")}function Da(c,u,d){let f;if(du(c)){const p=H(c);return Va(p)||nw(p)}if(H_(c))f=()=>H(c.useValue);else if(function(c){return!(!c||!c.useFactory)}(c))f=()=>c.useFactory(...Il(c.deps||[]));else if(function(c){return!(!c||!c.useExisting)}(c))f=()=>pi(H(c.useExisting));else{const p=H(c&&(c.useClass||c.provide));if(!function(c){return!!c.deps}(c))return Va(p)||nw(p);f=()=>new p(...Il(c.deps))}return f}function Hl(c,u,d=!1){return{factory:c,value:u,multi:d?[]:void 0}}function H_(c){return null!==c&&"object"==typeof c&&Ld in c}function du(c){return"function"==typeof c}const xI=function(c,u,d){return function(c,u=null,d=null,f){const p=ih(c,u,d,f);return p._resolveInjectorDefTypes(),p}({name:d},u,c,d)};class Vn{static create(u,d){return Array.isArray(u)?xI(u,d,""):xI(u.providers,u.parent,u.name||"")}}function oM(c,u){bd(Rp(c)[1],Xn())}function cw(c){let u=function(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),d=!0;const f=[c];for(;u;){let p;if(zi(c))p=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");p=u.\u0275dir}if(p){if(d){f.push(p);const v=c;v.inputs=Zl(c.inputs),v.declaredInputs=Zl(c.declaredInputs),v.outputs=Zl(c.outputs);const C=p.hostBindings;C&&VI(c,C);const E=p.viewQuery,x=p.contentQueries;if(E&&BI(c,E),x&&AB(c,x),j(c.inputs,p.inputs),j(c.declaredInputs,p.declaredInputs),j(c.outputs,p.outputs),zi(p)&&p.data.animation){const k=c.data;k.animation=(k.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(c),C===cw&&(d=!1)}}u=Object.getPrototypeOf(u)}!function(c){let u=0,d=null;for(let f=c.length-1;f>=0;f--){const p=c[f];p.hostVars=u+=p.hostVars,p.hostAttrs=Cd(p.hostAttrs,d=Cd(d,p.hostAttrs))}}(f)}function Zl(c){return c===bn?{}:c===Y?[]:c}function BI(c,u){const d=c.viewQuery;c.viewQuery=d?(f,p)=>{u(f,p),d(f,p)}:u}function AB(c,u){const d=c.contentQueries;c.contentQueries=d?(f,p,g)=>{u(f,p,g),d(f,p,g)}:u}function VI(c,u){const d=c.hostBindings;c.hostBindings=d?(f,p)=>{u(f,p),d(f,p)}:u}Vn.THROW_IF_NOT_FOUND=Nd,Vn.NULL=new tw,Vn.\u0275prov=Nt({token:Vn,providedIn:"any",factory:()=>pi(Ul)}),Vn.__NG_ELEMENT_ID__=-1;let z_=null;function ah(){if(!z_){const c=Cn.Symbol;if(c&&c.iterator)z_=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<u.length;++d){const f=u[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(z_=f)}}}return z_}class uo{constructor(u){this.wrapped=u}static wrap(u){return new uo(u)}static unwrap(u){return uo.isWrapped(u)?u.wrapped:u}static isWrapped(u){return u instanceof uo}}function sl(c){return!!uw(c)&&(Array.isArray(c)||!(c instanceof Map)&&ah()in c)}function uw(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function ho(c,u,d){return c[u]=d}function Ir(c,u,d){return!Object.is(c[u],d)&&(c[u]=d,!0)}function Yl(c,u,d,f){const p=Ir(c,u,d);return Ir(c,u+1,f)||p}function dw(c,u,d,f){const p=ke();return Ir(p,Vs(),u)&&(sn(),function(c,u,d,f,p,g){const v=qr(c,u);HT(u[11],v,g,c.value,d,f,p)}(Ci(),p,c,u,d,f)),dw}function ch(c,u,d,f){return Ir(c,Vs(),d)?u+we(d)+f:Lt}function hu(c,u,d,f,p,g,v,C,E,x){const N=function(c,u,d,f,p,g){const v=Yl(c,u,d,f);return Yl(c,u+2,p,g)||v}(c,ds(),d,p,v,E);return Us(4),N?u+we(d)+f+we(p)+g+we(v)+C+we(E)+x:Lt}function fM(c,u,d,f,p,g,v,C){const E=ke(),x=sn(),k=c+20,N=x.firstCreatePass?function(c,u,d,f,p,g,v,C,E){const x=u.consts,k=ou(u,c,4,v||null,Io(x,C));VT(u,d,k,Io(x,E)),bd(u,k);const N=k.tViews=z0(2,k,f,p,g,u.directiveRegistry,u.pipeRegistry,null,u.schemas,x);return null!==u.queries&&(u.queries.template(u,k),N.queries=u.queries.embeddedTView(k)),k}(k,x,E,u,d,f,p,g,v):x.data[k];Ts(N,!1);const F=E[11].createComment("");Pl(x,E,F,N),ei(F,E),eh(E,E[k]=ZT(F,E,F,N)),wi(N)&&Hp(x,E,N),null!=v&&LT(E,N,C)}function pM(c){return Ha(Ct.lFrame.contextLView,20+c)}function K_(c,u=lt.Default){const d=ke();return null===d?pi(c,u):Hc(Xn(),d,H(c),u)}function ph(c,u,d){const f=ke();return Ir(f,Vs(),u)&&ao(sn(),Ci(),f,c,u,f[11],d,!1),ph}function pu(c,u,d,f,p){const v=p?"class":"style";JT(c,d,u.inputs[v],v,f)}function mh(c,u,d,f){const p=ke(),g=sn(),v=20+c,C=p[11],E=p[v]=Nl(C,u,Ct.lFrame.currentNamespace),x=g.firstCreatePass?function(c,u,d,f,p,g,v){const C=u.consts,x=ou(u,c,2,p,Io(C,g));return VT(u,d,x,Io(C,v)),null!==x.attrs&&co(x,x.attrs,!1),null!==x.mergedAttrs&&co(x,x.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,x),x}(v,g,p,0,u,d,f):g.data[v];Ts(x,!0);const k=x.mergedAttrs;null!==k&&mp(C,E,k);const N=x.classes;null!==N&&P0(C,E,N);const F=x.styles;null!==F&&DT(C,E,F),64!=(64&x.flags)&&Pl(g,p,E,x),0===Ct.lFrame.elementDepthCount&&ei(E,p),Ct.lFrame.elementDepthCount++,wi(x)&&(Hp(g,p,x),F_(g,x,p)),null!==f&&LT(p,x)}function Cw(){let c=Xn();Dl()?md():(c=c.parent,Ts(c,!1));const u=c;Ct.lFrame.elementDepthCount--;const d=sn();d.firstCreatePass&&(bd(d,c),Jf(c)&&d.queries.elementEnd(c)),null!=u.classesWithoutHost&&function(c){return 0!=(16&c.flags)}(u)&&pu(d,u,ke(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(c){return 0!=(32&c.flags)}(u)&&pu(d,u,ke(),u.stylesWithoutHost,!1)}function ey(c,u,d,f){mh(c,u,d,f),Cw()}function Tw(c,u,d){const f=ke(),p=sn(),g=c+20,v=p.firstCreatePass?function(c,u,d,f,p){const g=u.consts,v=Io(g,f),C=ou(u,c,8,"ng-container",v);return null!==v&&co(C,v,!0),VT(u,d,C,Io(g,p)),null!==u.queries&&u.queries.elementStart(u,C),C}(g,p,f,u,d):p.data[g];Ts(v,!0);const C=f[g]=f[11].createComment("");Pl(p,f,C,v),ei(C,f),wi(v)&&(Hp(p,f,v),F_(p,v,f)),null!=d&&LT(f,v)}function ty(){let c=Xn();const u=sn();Dl()?md():(c=c.parent,Ts(c,!1)),u.firstCreatePass&&(bd(u,c),Jf(c)&&u.queries.elementEnd(c))}function SM(c,u,d){Tw(c,u,d),ty()}function Mw(){return ke()}function Ew(c){return!!c&&"function"==typeof c.then}function nR(c){return!!c&&"function"==typeof c.subscribe}const Sw=nR;function Jp(c,u,d,f){const p=ke(),g=sn(),v=Xn();return ny(g,p,p[11],v,c,u,!!d,f),Jp}function xw(c,u){const d=Xn(),f=ke(),p=sn();return ny(p,f,cu(cp(p.data),d,f),d,c,u,!1),xw}function ny(c,u,d,f,p,g,v,C){const E=wi(f),k=c.firstCreatePass&&lu(c),N=u[8],F=WT(u);let Z=!0;if(3&f.type||C){const se=qr(f,u),Le=C?C(se):se,Ee=F.length,ft=C?At=>C(Yn(At[f.index])):f.index;if($n(d)){let At=null;if(!C&&E&&(At=function(c,u,d,f){const p=c.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const v=p[g];if(v===d&&p[g+1]===f){const C=u[7],E=p[g+2];return C.length>E?C[E]:null}"string"==typeof v&&(g+=2)}return null}(c,u,p,f.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=g,At.__ngLastListenerFn__=g,Z=!1;else{g=AM(f,u,N,g,!1);const on=d.listen(Le,p,g);F.push(g,on),k&&k.push(p,ft,Ee,Ee+1)}}else g=AM(f,u,N,g,!0),Le.addEventListener(p,g,v),F.push(g),k&&k.push(p,ft,Ee,v)}else g=AM(f,u,N,g,!1);const ee=f.outputs;let ge;if(Z&&null!==ee&&(ge=ee[p])){const se=ge.length;if(se)for(let Le=0;Le<se;Le+=2){const Pn=u[ge[Le]][ge[Le+1]].subscribe(g),Co=F.length;F.push(g,Pn),k&&k.push(p,f.index,Co,-(Co+1))}}}function Qp(c,u,d,f){try{return!1!==d(f)}catch(p){return Zp(c,p),!1}}function AM(c,u,d,f,p){return function g(v){if(v===Function)return f;const C=2&c.flags?xr(c.index,u):u;0==(32&u[2])&&Vl(C);let E=Qp(u,0,f,v),x=g.__ngNextListenerFn__;for(;x;)E=Qp(u,0,x,v)&&E,x=x.__ngNextListenerFn__;return p&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function gh(c=1){return function(c){return(Ct.lFrame.contextLView=function(c,u){for(;c>0;)u=u[15],c--;return u}(c,Ct.lFrame.contextLView))[8]}(c)}function iy(c,u){let d=null;const f=function(c){const u=c.attrs;if(null!=u){const d=u.indexOf(5);if(0==(1&d))return u[d+1]}return null}(c);for(let p=0;p<u.length;p++){const g=u[p];if("*"!==g){if(null===f?zd(c,g,!0):Vp(f,g))return p}else d=p}return d}function mu(c){const u=ke()[16][6];if(!u.projection){const f=u.projection=za(c?c.length:1,null),p=f.slice();let g=u.child;for(;null!==g;){const v=c?iy(g,c):0;null!==v&&(p[v]?p[v].projectionNext=g:f[v]=g,p[v]=g),g=g.next}}}function _h(c,u=0,d){const f=ke(),p=sn(),g=ou(p,20+c,16,null,d||null);null===g.projection&&(g.projection=u),md(),64!=(64&g.flags)&&function(c,u,d){CT(u[11],0,u,d,jk(c,d,u),Pp(d.parent||u[6],d,u))}(p,f,g)}function Aw(c,u,d){return yh(c,"",u,"",d),Aw}function yh(c,u,d,f,p){const g=ke(),v=ch(g,u,d,f);return v!==Lt&&ao(sn(),Ci(),g,c,v,g[11],p,!1),yh}function Gs(c,u,d,f,p){const g=c[d+1],v=null===u;let C=f?wa(g):Xa(g),E=!1;for(;0!==C&&(!1===E||v);){const k=c[C+1];kM(c[C],u)&&(E=!0,c[C+1]=f?B0(k):Fl(k)),C=f?wa(k):Xa(k)}E&&(c[d+1]=f?Fl(g):B0(g))}function kM(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&Gc(c,u)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iR(c){return c.substring(_r.key,_r.keyEnd)}function IM(c,u){const d=_r.textEnd;return d===u?-1:(u=_r.keyEnd=function(c,u,d){for(;u<d&&c.charCodeAt(u)>32;)u++;return u}(c,_r.key=u,d),_u(c,u,d))}function _u(c,u,d){for(;u<d&&c.charCodeAt(u)<=32;)u++;return u}function ly(c,u,d){return Go(c,u,d,!1),ly}function Ow(c,u){return Go(c,u,null,!0),Ow}function Nw(c){mo(Es,po,c,!0)}function po(c,u){for(let d=function(c){return function(c){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=c.length}(c),IM(c,_u(c,0,_r.textEnd))}(u);d>=0;d=IM(u,d))Es(c,iR(u),!0)}function Go(c,u,d,f){const p=ke(),g=sn(),v=Us(2);g.firstUpdatePass&&Si(g,c,v,f),u!==Lt&&Ir(p,v,u)&&UM(g,g.data[Ar()],p,p[11],c,p[v+1]=function(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=W(ga(c)))),c}(u,d),f,v)}function mo(c,u,d,f){const p=sn(),g=Us(2);p.firstUpdatePass&&Si(p,null,g,f);const v=ke();if(d!==Lt&&Ir(v,g,d)){const C=p.data[Ar()];if(Lw(C,f)&&!LM(p,g)){let E=f?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(d=z(E,d||"")),pu(p,C,v,d,f)}else!function(c,u,d,f,p,g,v,C){p===Lt&&(p=Y);let E=0,x=0,k=0<p.length?p[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const F=E<p.length?p[E+1]:void 0,Z=x<g.length?g[x+1]:void 0;let ge,ee=null;k===N?(E+=2,x+=2,F!==Z&&(ee=N,ge=Z)):null===N||null!==k&&k<N?(E+=2,ee=k):(x+=2,ee=N,ge=Z),null!==ee&&UM(c,u,d,f,ee,ge,v,C),k=E<p.length?p[E]:null,N=x<g.length?g[x]:null}}(p,C,v,v[11],v[g+1],v[g+1]=function(c,u,d){if(null==d||""===d)return Y;const f=[],p=ga(d);if(Array.isArray(p))for(let g=0;g<p.length;g++)c(f,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&c(f,g,p[g]);else"string"==typeof p&&u(f,p);return f}(c,u,d),f,g)}}function LM(c,u){return u>=c.expandoStartIndex}function Si(c,u,d,f){const p=c.data;if(null===p[d+1]){const g=p[Ar()],v=LM(c,d);Lw(g,f)&&null===u&&!v&&(u=!1),u=function(c,u,d,f){const p=cp(c);let g=f?u.residualClasses:u.residualStyles;if(null===p)0===(f?u.classBindings:u.styleBindings)&&(d=em(d=cy(null,c,u,d,f),u.attrs,f),g=null);else{const v=u.directiveStylingLast;if(-1===v||c[v]!==p)if(d=cy(p,c,u,d,f),null===g){let E=function(c,u,d){const f=d?u.classBindings:u.styleBindings;if(0!==Xa(f))return c[wa(f)]}(c,u,f);void 0!==E&&Array.isArray(E)&&(E=cy(null,c,u,E[1],f),E=em(E,u.attrs,f),function(c,u,d,f){c[wa(d?u.classBindings:u.styleBindings)]=f}(c,u,f,E))}else g=function(c,u,d){let f;const p=u.directiveEnd;for(let g=1+u.directiveStylingLast;g<p;g++)f=em(f,c[g].hostAttrs,d);return em(f,u.attrs,d)}(c,u,f)}return void 0!==g&&(f?u.residualClasses=g:u.residualStyles=g),d}(p,g,u,f),function(c,u,d,f,p,g){let v=g?u.classBindings:u.styleBindings,C=wa(v),E=Xa(v);c[f]=d;let k,x=!1;if(Array.isArray(d)){const N=d;k=N[1],(null===k||Gc(N,k)>0)&&(x=!0)}else k=d;if(p)if(0!==E){const F=wa(c[C+1]);c[f+1]=M_(F,C),0!==F&&(c[F+1]=mr(c[F+1],f)),c[C+1]=function(c,u){return 131071&c|u<<17}(c[C+1],f)}else c[f+1]=M_(C,0),0!==C&&(c[C+1]=mr(c[C+1],f)),C=f;else c[f+1]=M_(E,0),0===C?C=f:c[E+1]=mr(c[E+1],f),E=f;x&&(c[f+1]=Fl(c[f+1])),Gs(c,k,f,!0),Gs(c,k,f,!1),function(c,u,d,f,p){const g=p?c.residualClasses:c.residualStyles;null!=g&&"string"==typeof u&&Gc(g,u)>=0&&(d[f+1]=B0(d[f+1]))}(u,k,c,f,g),v=M_(C,E),g?u.classBindings=v:u.styleBindings=v}(p,g,u,d,v,f)}}function cy(c,u,d,f,p){let g=null;const v=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<v&&(g=u[C],f=em(f,g.hostAttrs,p),g!==c);)C++;return null!==c&&(d.directiveStylingLast=C),f}function em(c,u,d){const f=d?1:2;let p=-1;if(null!==u)for(let g=0;g<u.length;g++){const v=u[g];"number"==typeof v?p=v:p===f&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Es(c,v,!!d||u[++g]))}return void 0===c?null:c}function UM(c,u,d,f,p,g,v,C){if(!(3&u.type))return;const E=c.data,x=E[C+1];tm(function(c){return 1==(1&c)}(x)?uy(E,u,d,p,Xa(x),v):void 0)||(tm(g)||function(c){return 2==(2&c)}(x)&&(g=uy(E,null,d,p,C,v)),function(c,u,d,f,p){const g=$n(c);if(u)p?g?c.addClass(d,f):d.classList.add(f):g?c.removeClass(d,f):d.classList.remove(f);else{let v=-1===f.indexOf("-")?void 0:ba.DashCase;if(null==p)g?c.removeStyle(d,f,v):d.style.removeProperty(f);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),v|=ba.Important),g?c.setStyle(d,f,p,v):d.style.setProperty(f,p,C?"important":"")}}}(f,v,Ua(Ar(),d),p,g))}function uy(c,u,d,f,p,g){const v=null===u;let C;for(;p>0;){const E=c[p],x=Array.isArray(E),k=x?E[1]:E,N=null===k;let F=d[p+1];F===Lt&&(F=N?Y:void 0);let Z=N?Rd(F,f):k===f?F:void 0;if(x&&!tm(Z)&&(Z=Rd(E,f)),tm(Z)&&(C=Z,v))return C;const ee=c[p+1];p=v?wa(ee):Xa(ee)}if(null!==u){let E=g?u.residualClasses:u.residualStyles;null!=E&&(C=Rd(E,f))}return C}function tm(c){return void 0!==c}function Lw(c,u){return 0!=(c.flags&(u?16:32))}function HM(c,u=""){const d=ke(),f=sn(),p=c+20,g=f.firstCreatePass?ou(f,p,1,u,null):f.data[p],v=d[p]=I0(d[11],u);Pl(f,d,v,g),Ts(g,!1)}function ZM(c){return vh("",c,""),ZM}function vh(c,u,d){const f=ke(),p=ch(f,c,u,d);return p!==Lt&&nl(f,Ar(),p),vh}function dy(c,u,d,f,p){const g=ke(),v=function(c,u,d,f,p,g){const C=Yl(c,ds(),d,p);return Us(2),C?u+we(d)+f+we(p)+g:Lt}(g,c,u,d,f,p);return v!==Lt&&nl(g,Ar(),v),dy}function jM(c,u,d){mo(Es,po,ch(ke(),c,u,d),!0)}function zM(c,u,d,f,p,g,v,C,E){mo(Es,po,hu(ke(),c,u,d,f,p,g,v,C,E),!0)}function Gw(c,u,d){const f=ke();return Ir(f,Vs(),u)&&ao(sn(),Ci(),f,c,u,f[11],d,!0),Gw}function qw(c,u,d){const f=ke();if(Ir(f,Vs(),u)){const g=sn(),v=Ci();ao(g,v,f,c,u,cu(cp(g.data),v,f),d,!0)}return qw}const wh=void 0;var im=["en",[["a","p"],["AM","PM"],wh],[["AM","PM"],wh,wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wh,"{1} 'at' {0}",wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(c){const u=Math.floor(Math.abs(c)),d=c.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ch={};function jw(c){const u=function(c){return c.toLowerCase().replace(/_/g,"-")}(c);let d=nE(u);if(d)return d;const f=u.split("-")[0];if(d=nE(f),d)return d;if("en"===f)return im;throw new Error(`Missing locale data for the locale "${c}".`)}function al(c){return jw(c)[et.PluralCase]}function nE(c){return c in Ch||(Ch[c]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[c]),Ch[c]}var et=(()=>((et=et||{})[et.LocaleId=0]="LocaleId",et[et.DayPeriodsFormat=1]="DayPeriodsFormat",et[et.DayPeriodsStandalone=2]="DayPeriodsStandalone",et[et.DaysFormat=3]="DaysFormat",et[et.DaysStandalone=4]="DaysStandalone",et[et.MonthsFormat=5]="MonthsFormat",et[et.MonthsStandalone=6]="MonthsStandalone",et[et.Eras=7]="Eras",et[et.FirstDayOfWeek=8]="FirstDayOfWeek",et[et.WeekendRange=9]="WeekendRange",et[et.DateFormat=10]="DateFormat",et[et.TimeFormat=11]="TimeFormat",et[et.DateTimeFormat=12]="DateTimeFormat",et[et.NumberSymbols=13]="NumberSymbols",et[et.NumberFormats=14]="NumberFormats",et[et.CurrencyCode=15]="CurrencyCode",et[et.CurrencySymbol=16]="CurrencySymbol",et[et.CurrencyName=17]="CurrencyName",et[et.Currencies=18]="Currencies",et[et.Directionality=19]="Directionality",et[et.PluralCase=20]="PluralCase",et[et.ExtraData=21]="ExtraData",et))();const zw=["zero","one","two","few","many"],yy="en-US",by={marker:"element"},vy={marker:"ICU"};var xi=(()=>((xi=xi||{})[xi.SHIFT=2]="SHIFT",xi[xi.APPEND_EAGERLY=1]="APPEND_EAGERLY",xi[xi.COMMENT=2]="COMMENT",xi))();let rE=yy;function $w(c){(function(c,u){null==c&&yt(u,c,null,"!=")})(c,"Expected localeId to be defined"),"string"==typeof c&&(rE=c.toLowerCase().replace(/_/g,"-"))}function oE(c,u,d){const f=u.insertBeforeIndex,p=Array.isArray(f)?f[0]:f;return null===p?bT(c,0,d):Yn(d[p])}function $l(c,u,d,f,p){const g=u.insertBeforeIndex;if(Array.isArray(g)){let v=f,C=null;if(3&u.type||(C=v,v=p),null!==v&&0==(2&u.flags))for(let E=1;E<g.length;E++)Uo(c,v,d[g[E]],C,!1)}}function aE(c,u){if(c.push(u),c.length>1)for(let d=c.length-2;d>=0;d--){const f=c[d];Ww(f)||_R(f,u)&&null===yR(f)&&ll(f,u.index)}}function Ww(c){return!(64&c.type)}function _R(c,u){return Ww(u)||c.index>u.index}function yR(c){const u=c.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function ll(c,u){const d=c.insertBeforeIndex;Array.isArray(d)?d[0]=u:(vT(oE,$l),c.insertBeforeIndex=u)}function yu(c,u){const d=c.data[u];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function bR(c,u,d){const f=N_(c,d,64,null,null);return aE(u,f),f}function wy(c,u){const d=u[c.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function cE(c){return c>>>17}function uE(c){return(131070&c)>>>1}let Th=0,Mh=0;function hE(c,u,d,f){const p=d[11];let v,g=null;for(let C=0;C<u.length;C++){const E=u[C];if("string"==typeof E){const x=u[++C];null===d[x]&&(d[x]=I0(p,E))}else if("number"==typeof E)switch(1&E){case 0:const x=cE(E);let k,N;if(null===g&&(g=x,v=qd(p,f)),x===g?(k=f,N=v):(k=null,N=Yn(d[x])),null!==N){const ge=uE(E);Uo(p,N,d[ge],k,!1);const Le=yu(c,ge);if(null!==Le&&"object"==typeof Le){const Ee=wy(Le,d);null!==Ee&&hE(c,Le.create[Ee],d,d[Le.anchorIdx])}}break;case 1:const Z=u[++C],ee=u[++C];HT(p,Ua(E>>>1,d),null,null,Z,ee,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${E}"`)}else switch(E){case vy:const x=u[++C],k=u[++C];null===d[k]&&ei(d[k]=Hk(p,x),d);break;case by:const N=u[++C],F=u[++C];null===d[F]&&ei(d[F]=Nl(p,N,null),d)}}}function Jw(c,u,d,f,p){for(let g=0;g<d.length;g++){const v=d[g],C=d[++g];if(v&p){let E="";for(let x=g+1;x<=g+C;x++){const k=d[x];if("string"==typeof k)E+=k;else if("number"==typeof k)if(k<0)E+=we(u[f-k]);else{const N=k>>>2;switch(3&k){case 1:const F=d[++x],Z=d[++x],ee=c.data[N];"string"==typeof ee?HT(u[11],u[N],null,ee,F,E,Z):ao(c,ee,u,F,E,u[11],Z,!1);break;case 0:const ge=u[N];null!==ge&&Uk(u[11],ge,E);break;case 2:TR(c,yu(c,N),u,E);break;case 3:rn(c,yu(c,N),f,u)}}}}else{const E=d[g+1];if(E>0&&3==(3&E)){const k=yu(c,E>>>2);u[k.currentCaseLViewIndex]<0&&rn(c,k,f,u)}}g+=C}}function rn(c,u,d,f){let p=f[u.currentCaseLViewIndex];if(null!==p){let g=Th;p<0&&(p=f[u.currentCaseLViewIndex]=~p,g=-1),Jw(c,f,u.update[p],d,g)}}function TR(c,u,d,f){const p=function(c,u){let d=c.cases.indexOf(u);if(-1===d)switch(c.type){case 1:{const f=function(c,u){const d=al(u)(parseInt(c,10)),f=zw[d];return void 0!==f?f:"other"}(u,rE);d=c.cases.indexOf(f),-1===d&&"other"!==f&&(d=c.cases.indexOf("other"));break}case 0:d=c.cases.indexOf("other")}return-1===d?null:d}(u,f);if(wy(u,d)!==p&&(bu(c,u,d),d[u.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=d[u.anchorIdx];v&&hE(c,u.create[p],d,v)}}function bu(c,u,d){let f=wy(u,d);if(null!==f){const p=u.remove[f];for(let g=0;g<p.length;g++){const v=p[g];if(v>0){const C=Ua(v,d);null!==C&&wT(d[11],C)}else bu(c,yu(c,~v),d)}}}function Qw(){const c=[];let d,f,u=-1;function g(C,E){u=0;const x=wy(C,E);f=null!==x?C.remove[x]:Y}function v(){if(u<f.length){const C=f[u++];return C>0?d[C]:(c.push(u,f),g(d[1].data[~C],d),v())}return 0===c.length?null:(f=c.pop(),u=c.pop(),v())}return function(C,E){for(d=E;c.length;)c.pop();return g(C.value,E),v}}const sm=/\ufffd(\d+):?\d*\ufffd/gi,zB=/\ufffd(\d+)\ufffd/,yr=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,MR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ER=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,mE=/\uE500/g;function Xw(c,u,d,f,p,g,v){const C=Qd(c,f,1,null);let E=C<<xi.SHIFT,x=Za();u===x&&(x=null),null===x&&(E|=xi.APPEND_EAGERLY),v&&(E|=xi.COMMENT,function(c){void 0===y_&&(y_=c())}(Qw)),p.push(E,null===g?"":g);const k=N_(c,C,v?32:1,null===g?"":g,null);aE(d,k);const N=k.index;return Ts(k,!1),null!==x&&u!==x&&function(c,u){let d=c.insertBeforeIndex;null===d?(vT(oE,$l),d=c.insertBeforeIndex=[null,u]):(function(c,u,d){c!=u&&yt(d,c,u,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(u))}(x,N),k}function xR(c,u,d,f,p,g,v){const C=v.match(sm),E=Xw(c,u,d,g,f,C?null:v,!1);C&&vu(p,v,E.index,null,0,null)}function vu(c,u,d,f,p,g){const v=c.length,C=v+1;c.push(null,null);const E=v+2,x=u.split(sm);let k=0;for(let N=0;N<x.length;N++){const F=x[N];if(1&N){const Z=p+parseInt(F,10);c.push(-1-Z),k|=Wl(Z)}else""!==F&&c.push(F)}return c.push(d<<2|(f?1:0)),f&&c.push(f,g),c[v]=k,c[C]=c.length-E,k}function Wl(c){return 1<<Math.min(c,31)}function Eh(c){let u,g,d="",f=0,p=!1;for(;null!==(u=MR.exec(c));)p?u[0]===`\ufffd/*${g}\ufffd`&&(f=u.index,p=!1):(d+=c.substring(f,u.index+u[0].length),g=u[1],p=!0);return d+=c.substr(f),d}function Jl(c,u,d,f,p,g){let v=0;const C={type:p.type,currentCaseLViewIndex:Qd(c,u,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(c,u,d){c.push(Wl(u.mainBinding),2,-1-u.mainBinding,d<<2|2)})(d,p,g),function(c,u,d){const f=c.data[u];null===f?c.data[u]=d:f.value=d}(c,g,C);const E=p.values;for(let x=0;x<E.length;x++){const k=E[x],N=[];for(let F=0;F<k.length;F++){const Z=k[F];if("string"!=typeof Z){const ee=N.push(Z)-1;k[F]=`\x3c!--\ufffd${ee}\ufffd--\x3e`}}v=yE(c,C,u,d,f,p.cases[x],k.join(""),N)|v}v&&function(c,u,d){c.push(u,1,d<<2|3)}(d,v,g)}function kR(c){const u=[],d=[];let f=1,p=0;const g=om(c=c.replace(yr,function(v,C,E){return f="select"===E?0:1,p=parseInt(C.substr(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===f&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&u.push(C);const E=om(g[v++]);u.length>d.length&&d.push(E)}return{type:f,mainBinding:p,cases:u,values:d}}function om(c){if(!c)return[];let u=0;const d=[],f=[],p=/[{}]/g;let g;for(p.lastIndex=0;g=p.exec(c);){const C=g.index;if("}"==g[0]){if(d.pop(),0==d.length){const E=c.substring(u,C);yr.test(E)?f.push(kR(E)):f.push(E),u=C+1}}else{if(0==d.length){const E=c.substring(u,C);f.push(E),u=C+1}d.push("{")}}const v=c.substring(u);return f.push(v),f}function yE(c,u,d,f,p,g,v,C){const E=[],x=[],k=[];u.cases.push(g),u.create.push(E),u.remove.push(x),u.update.push(k);const F=Pe(dd()).getInertBodyElement(v),Z=eu(F)||F;return Z?bE(c,u,d,f,E,x,k,Z,p,C,0):0}function bE(c,u,d,f,p,g,v,C,E,x,k){let N=0,F=C.firstChild;for(;F;){const Z=Qd(c,d,1,null);switch(F.nodeType){case Node.ELEMENT_NODE:const ee=F,ge=ee.tagName.toLowerCase();if(Hd.hasOwnProperty(ge)){eC(p,by,ge,E,Z),c.data[Z]=ge;const ft=ee.attributes;for(let At=0;At<ft.length;At++){const on=ft.item(At),Pn=on.name.toLowerCase();on.value.match(sm)?b0.hasOwnProperty(Pn)&&vu(v,on.value,Z,on.name,0,Ja[Pn]?ai:Rt[Pn]?Be:null):tC(p,Z,on)}N=bE(c,u,d,f,p,g,v,F,Z,x,k+1)|N,am(g,Z,k)}break;case Node.TEXT_NODE:const se=F.textContent||"",Le=se.match(sm);eC(p,null,Le?"":se,E,Z),am(g,Z,k),Le&&(N=vu(v,se,Z,null,0,null)|N);break;case Node.COMMENT_NODE:const Ee=zB.exec(F.textContent||"");if(Ee){const At=x[parseInt(Ee[1],10)];eC(p,vy,"",E,Z),Jl(c,d,f,E,At,Z),lm(g,Z,k)}}F=F.nextSibling}return N}function am(c,u,d){0===d&&c.push(u)}function lm(c,u,d){0===d&&(c.push(~u),c.push(u))}function eC(c,u,d,f,p){null!==u&&c.push(u),c.push(d,p,function(c,u,d){return 0|u<<17|d<<1}(0,f,p))}function tC(c,u,d){c.push(u<<1|1,d.name,d.value)}function DE(c,u,d=-1){const f=sn(),p=ke(),g=20+c,v=Io(f.consts,u),C=Za();f.firstCreatePass&&function(c,u,d,f,p,g){const v=Za(),C=[],E=[],x=[[]],k=function(c){return c.replace(mE," ")}(p=function(c,u){if(function(c){return-1===c}(u))return Eh(c);{const d=c.indexOf(`:${u}\ufffd`)+2+u.toString().length,f=c.search(new RegExp(`\ufffd\\/\\*\\d+:${u}\ufffd`));return Eh(c.substring(d,f))}}(p,g)).split(ER);for(let N=0;N<k.length;N++){let F=k[N];if(0==(1&N)){const Z=om(F);for(let ee=0;ee<Z.length;ee++){let ge=Z[ee];if(0==(1&ee)){const se=ge;""!==se&&xR(c,v,x[0],C,E,d,se)}else{const se=ge;if("object"!=typeof se)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Jl(c,d,E,u,se,Xw(c,v,x[0],d,C,"",!0).index)}}}else{const Z=47===F.charCodeAt(0),ge=(F.charCodeAt(Z?1:0),20+Number.parseInt(F.substring(Z?2:1)));if(Z)x.shift(),Ts(Za(),!1);else{const se=bR(c,x[0],ge);x.unshift([]),Ts(se,!0)}}}c.data[f]={create:C,update:E}}(f,null===C?0:C.index,p,g,v,d);const E=f.data[g],k=C_(f,C===p[6]?null:C,p);(function(c,u,d,f){const p=c[11];for(let g=0;g<u.length;g++){const v=u[g++],C=u[g],E=(v&xi.COMMENT)===xi.COMMENT,x=(v&xi.APPEND_EAGERLY)===xi.APPEND_EAGERLY,k=v>>>xi.SHIFT;let N=c[k];null===N&&(N=c[k]=E?p.createComment(C):I0(p,C)),x&&null!==d&&Uo(p,d,N,f,!1)}})(p,E.create,k,C&&8&C.type?p[C.index]:null),Yg(!0)}function ME(c,u,d){DE(c,u,d),Yg(!1)}function um(c){return function(c){c&&(Th|=1<<Math.min(Mh,31)),Mh++}(Ir(ke(),Vs(),c)),um}function My(c){!function(c,u,d){if(Mh>0){const f=c.data[d];Jw(c,u,Array.isArray(f)?f:f.update,ds()-Mh-1,Th)}Th=0,Mh=0}(sn(),ke(),c+20)}function Ey(c,u,d,f,p){if(c=H(c),Array.isArray(c))for(let g=0;g<c.length;g++)Ey(c[g],u,d,f,p);else{const g=sn(),v=ke();let C=du(c)?c:H(c.provide),E=Da(c);const x=Xn(),k=1048575&x.providerIndexes,N=x.directiveStart,F=x.providerIndexes>>20;if(du(c)||!c.multi){const Z=new Ga(E,p,K_),ee=qs(C,u,p?k:k+F,N);-1===ee?(ja(fa(x,v),g,C),Sy(g,c,u.length),u.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),d.push(Z),v.push(Z)):(d[ee]=Z,v[ee]=Z)}else{const Z=qs(C,u,k+F,N),ee=qs(C,u,k,k+F),ge=Z>=0&&d[Z],se=ee>=0&&d[ee];if(p&&!se||!p&&!ge){ja(fa(x,v),g,C);const Le=function(c,u,d,f,p){const g=new Ga(c,d,K_);return g.multi=[],g.index=u,g.componentProviders=0,SE(g,p,f&&!d),g}(p?FR:xE,d.length,p,f,E);!p&&se&&(d[ee].providerFactory=Le),Sy(g,c,u.length,0),u.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),d.push(Le),v.push(Le)}else Sy(g,c,Z>-1?Z:ee,SE(d[p?ee:Z],E,!p&&f));!p&&f&&se&&d[ee].componentProviders++}}}function Sy(c,u,d,f){const p=du(u);if(p||function(c){return!!c.useClass}(u)){const v=(u.useClass||u).prototype.ngOnDestroy;if(v){const C=c.destroyHooks||(c.destroyHooks=[]);if(!p&&u.multi){const E=C.indexOf(d);-1===E?C.push(d,[f,v]):C[E+1].push(f,v)}else C.push(d,v)}}}function SE(c,u,d){return d&&c.componentProviders++,c.multi.push(u)-1}function qs(c,u,d,f){for(let p=d;p<f;p++)if(u[p]===c)return p;return-1}function xE(c,u,d,f){return Sh(this.multi,[])}function FR(c,u,d,f){const p=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Zc(d,d[1],this.providerFactory.index,f);g=C.slice(0,v),Sh(p,g);for(let E=v;E<C.length;E++)g.push(C[E])}else g=[],Sh(p,g);return g}function Sh(c,u){for(let d=0;d<c.length;d++)u.push((0,c[d])());return u}function xy(c,u=[]){return d=>{d.providersResolver=(f,p)=>function(c,u,d){const f=sn();if(f.firstCreatePass){const p=zi(c);Ey(d,f.data,f.blueprint,p,!0),Ey(u,f.data,f.blueprint,p,!1)}}(f,p?p(c):c,u)}}class Ay{}const IE="ngComponent";class RE{resolveComponentFactory(u){throw function(c){const u=Error(`No component factory found for ${W(c)}. Did you add it to @NgModule.entryComponents?`);return u[IE]=c,u}(u)}}class wu{}function Cu(...c){}function Ql(c,u){return new go(qr(c,u))}wu.NULL=new RE;const BR=function(){return Ql(Xn(),ke())};let go=(()=>{class c{constructor(d){this.nativeElement=d}}return c.__NG_ELEMENT_ID__=BR,c})();function NE(c){return c instanceof go?c.nativeElement:c}class Iy{}let PE=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>rC(),c})();const rC=function(){const c=ke(),d=xr(Xn().index,c);return function(c){return c[11]}(xo(d)?d:c)};let Oy=(()=>{class c{}return c.\u0275prov=Nt({token:c,providedIn:"root",factory:()=>null}),c})();class LE{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const sC=new LE("12.2.5");class oC{constructor(){}supports(u){return sl(u)}create(u){return new Kl(u)}}const UR=(c,u)=>u;class Kl{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||UR}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,f=this._removalsHead,p=0,g=null;for(;d||f;){const v=!f||d&&d.currentIndex<UE(f,p,g)?d:f,C=UE(v,p,g),E=v.currentIndex;if(v===f)p--,f=f._nextRemoved;else if(d=d._next,null==v.previousIndex)p++;else{g||(g=[]);const x=C-p,k=E-p;if(x!=k){for(let F=0;F<x;F++){const Z=F<g.length?g[F]:g[F]=0,ee=Z+F;k<=ee&&ee<x&&(g[F]=Z+1)}g[v.previousIndex]=k-x}}C!==E&&u(v,C,E)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!sl(u))throw new Error(`Error trying to diff '${W(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let p,g,v,d=this._itHead,f=!1;if(Array.isArray(u)){this.length=u.length;for(let C=0;C<this.length;C++)g=u[C],v=this._trackByFn(C,g),null!==d&&Object.is(d.trackById,v)?(f&&(d=this._verifyReinsertion(d,g,v,C)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,v,C),f=!0),d=d._next}else p=0,function(c,u){if(Array.isArray(c))for(let d=0;d<c.length;d++)u(c[d]);else{const d=c[ah()]();let f;for(;!(f=d.next()).done;)u(f.value)}}(u,C=>{v=this._trackByFn(p,C),null!==d&&Object.is(d.trackById,v)?(f&&(d=this._verifyReinsertion(d,C,v,p)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,v,p),f=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,f,p){let g;return null===u?g=this._itTail:(g=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,g,p)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,g,p)):u=this._addAfter(new HR(d,f),g,p),u}_verifyReinsertion(u,d,f,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==g?u=this._reinsertAfter(g,u._prev,p):u.currentIndex!=p&&(u.currentIndex=p,this._addToMoves(u,p)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const p=u._prevRemoved,g=u._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(u,d,f),this._addToMoves(u,f),u}_moveAfter(u,d,f){return this._unlink(u),this._insertAfter(u,d,f),this._addToMoves(u,f),u}_addAfter(u,d,f){return this._insertAfter(u,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,f){const p=null===d?this._itHead:d._next;return u._next=p,u._prev=d,null===p?this._itTail=u:p._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new VE),this._linkedRecords.put(u),u.currentIndex=f,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,f=u._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class HR{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Du{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,u))return f;return null}remove(u){const d=u._prevDup,f=u._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class VE{constructor(){this.map=new Map}put(u){const d=u.trackById;let f=this.map.get(d);f||(f=new Du,this.map.set(d,f)),f.add(u)}get(u,d){const p=this.map.get(u);return p?p.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(c,u,d){const f=c.previousIndex;if(null===f)return f;let p=0;return d&&f<d.length&&(p=d[f]),f+u+p}class HE{constructor(){}supports(u){return u instanceof Map||uw(u)}create(){return new ZR}}class ZR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||uw(u)))throw new Error(`Error trying to diff '${W(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(f,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(p,f);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const f=u._prev;return d._next=u,d._prev=f,u._prev=d,f&&(f._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const p=this._records.get(u);this._maybeAddToChanges(p,d);const g=p._prev,v=p._next;return g&&(g._next=v),v&&(v._prev=g),p._next=null,p._prev=null,p}const f=new fm(u);return this._records.set(u,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(f=>d(u[f],f))}}class fm{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xh(){return new pm([new oC])}let pm=(()=>{class c{constructor(d){this.factories=d}static create(d,f){if(null!=f){const p=f.factories.slice();d=d.concat(p)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||xh()),deps:[[c,new ma,new pa]]}}find(d){const f=this.factories.find(p=>p.supports(d));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(c){return c.name||typeof c}(d)}'`)}}return c.\u0275prov=Nt({token:c,providedIn:"root",factory:xh}),c})();function YE(){return new Ny([new HE])}let Ny=(()=>{class c{constructor(d){this.factories=d}static create(d,f){if(f){const p=f.factories.slice();d=d.concat(p)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||YE()),deps:[[c,new ma,new pa]]}}find(d){const f=this.factories.find(p=>p.supports(d));if(f)return f;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return c.\u0275prov=Nt({token:c,providedIn:"root",factory:YE}),c})();function Ah(c,u,d,f,p=!1){for(;null!==d;){const g=u[d.index];if(null!==g&&f.push(Yn(g)),Gr(g))for(let C=10;C<g.length;C++){const E=g[C],x=E[1].firstChild;null!==x&&Ah(E[1],E,x,f)}const v=d.type;if(8&v)Ah(c,u,d.child,f);else if(32&v){const C=Yd(d,u);let E;for(;E=C();)f.push(E)}else if(16&v){const C=Lp(u,d);if(Array.isArray(C))f.push(...C);else{const E=Gd(u[16]);Ah(E[1],E,C,f,!0)}}d=p?d.projectionNext:d.next}return f}class Wr{constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,d=u[1];return Ah(d,u,d.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Gr(u)){const d=u[8],f=d?d.indexOf(this):-1;f>-1&&(R0(u,f),kl(d,f))}this._attachedToViewContainer=!1}mT(this._lView[1],this._lView)}onDestroy(u){L_(this._lView[1],this._lView,null,u)}markForCheck(){Vl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){V_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(c,u,d){Tl(!0);try{V_(c,u,d)}finally{Tl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,mn(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class GE extends Wr{constructor(u){super(u),this._view=u}detectChanges(){zT(this._view)}checkNoChanges(){!function(c){Tl(!0);try{zT(c)}finally{Tl(!1)}}(this._view)}get context(){return null}}const Py=function(c){return function(c,u,d){if(ua(c)&&!d){const f=xr(c.index,u);return new Wr(f,f)}return 47&c.type?new Wr(u[16],u):null}(Xn(),ke(),16==(16&c))};let YR=(()=>{class c{}return c.__NG_ELEMENT_ID__=Py,c})();const jR=[new HE],jE=new pm([new oC]),zE=new Ny(jR),Ly=function(){return By(Xn(),ke())};let kh=(()=>{class c{}return c.__NG_ELEMENT_ID__=Ly,c})();const $R=kh,WR=class extends $R{constructor(u,d,f){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(u){const d=this._declarationTContainer.tViews,f=Jd(this._declarationLView,d,u,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(f[19]=g.createEmbeddedView(d)),Bl(d,f,u),new Wr(f)}};function By(c,u){return 4&c.type?new WR(u,c,Ql(c,u)):null}class Tu{}class Vy{}const Uy=function(){return WE(Xn(),ke())};let Hy=(()=>{class c{}return c.__NG_ELEMENT_ID__=Uy,c})();const Zy=Hy,$E=class extends Zy{constructor(u,d,f){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=f}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){const u=kt(this._hostTNode,this._hostLView);if(Dd(u)){const d=qa(u,this._hostLView),f=No(u);return new kr(d[1].data[f+8],d)}return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=Ih(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,d,f){const p=u.createEmbeddedView(d||{});return this.insert(p,f),p}createComponent(u,d,f,p,g){const v=f||this.parentInjector;if(!g&&null==u.ngModule&&v){const E=v.get(Tu,null);E&&(g=E)}const C=u.create(v,p,void 0,g);return this.insert(C.hostView,d),C}insert(u,d){const f=u._lView,p=f[1];if(Gr(f[3])){const k=this.indexOf(u);if(-1!==k)this.detach(k);else{const N=f[3],F=new $E(N,N[6],N[3]);F.detach(F.indexOf(u))}}const g=this._adjustIndex(d),v=this._lContainer;!function(c,u,d,f){const p=10+f,g=d.length;f>0&&(d[p-1][4]=u),f<g-10?(u[4]=d[p],Id(d,10+f,u)):(d.push(u),u[4]=null),u[3]=d;const v=u[17];null!==v&&d!==v&&function(c,u){const d=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===d?c[9]=[u]:d.push(u)}(v,u);const C=u[19];null!==C&&C.insertView(c),u[2]|=128}(p,f,v,g);const C=N0(g,v),E=f[11],x=qd(E,v[7]);return null!==x&&function(c,u,d,f,p,g){f[0]=p,f[6]=u,mn(c,f,d,1,p,g)}(p,v[6],E,f,x,C),u.attachToViewContainerRef(),Id(lC(v),g,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=Ih(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),f=R0(this._lContainer,d);f&&(kl(lC(this._lContainer),d),mT(f[1],f))}detach(u){const d=this._adjustIndex(u,-1),f=R0(this._lContainer,d);return f&&null!=kl(lC(this._lContainer),d)?new Wr(f):null}_adjustIndex(u,d=0){return null==u?this.length+d:u}};function Ih(c){return c[8]}function lC(c){return c[8]||(c[8]=[])}function WE(c,u){let d;const f=u[c.index];if(Gr(f))d=f;else{let p;if(8&c.type)p=Yn(f);else{const g=u[11];p=g.createComment("");const v=qr(c,u);Uo(g,qd(g,v),p,function(c,u){return $n(c)?c.nextSibling(u):u.nextSibling}(g,v),!1)}u[c.index]=d=ZT(f,u,p,c),eh(u,d)}return new $E(d,c,u)}const ic={};class TC extends wu{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=cn(u);return new Ky(d,this.ngModule)}}function Qy(c){const u=[];for(let d in c)c.hasOwnProperty(d)&&u.push({propName:c[d],templateName:d});return u}const dS=new fi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Op});class Ky extends Ay{constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=u.selectors.map(T_).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return Qy(this.componentDef.inputs)}get outputs(){return Qy(this.componentDef.outputs)}create(u,d,f,p){const g=(p=p||this.ngModule)?function(c,u){return{get:(d,f,p)=>{const g=c.get(d,ic,p);return g!==ic||f===ic?g:u.get(d,f,p)}}}(u,p.injector):u,v=g.get(Iy,da),C=g.get(Oy,null),E=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=f?function(c,u,d){if($n(c))return c.selectRootElement(u,d===Ye.ShadowDom);let f="string"==typeof u?c.querySelector(u):u;return f.textContent="",f}(E,f,this.componentDef.encapsulation):Nl(v.createRenderer(null,this.componentDef),x,function(c){const u=c.toLowerCase();return"svg"===u?wl:"math"===u?"http://www.w3.org/1998/MathML/":null}(x)),N=this.componentDef.onPush?576:528,F=function(c,u){return{components:[],scheduler:c||Op,clean:th,playerHandler:u||null,flags:0}}(),Z=z0(0,null,null,1,0,null,null,null,null,null),ee=Jd(null,Z,F,N,null,null,v,E,C,g);let ge,se;Ro(ee);try{const Le=function(c,u,d,f,p,g){const v=d[1];d[20]=c;const E=ou(v,20,2,"#host",null),x=E.mergedAttrs=u.hostAttrs;null!==x&&(co(E,x,!0),null!==c&&(mp(p,c,x),null!==E.classes&&P0(p,c,E.classes),null!==E.styles&&DT(p,c,E.styles)));const k=f.createRenderer(c,u),N=Jd(d,j0(u),null,u.onPush?64:16,d[20],E,f,k,g||null,null);return v.firstCreatePass&&(ja(fa(E,d),v,u.type),Xd(v,E),bI(E,d.length,1)),eh(d,N),d[20]=N}(k,this.componentDef,ee,v,E);if(k)if(f)mp(E,k,["ng-version",sC.full]);else{const{attrs:Ee,classes:ft}=function(c){const u=[],d=[];let f=1,p=2;for(;f<c.length;){let g=c[f];if("string"==typeof g)2===p?""!==g&&u.push(g,c[++f]):8===p&&d.push(g);else{if(!$r(p))break;p=g}f++}return{attrs:u,classes:d}}(this.componentDef.selectors[0]);Ee&&mp(E,k,Ee),ft&&ft.length>0&&P0(E,k,ft.join(" "))}if(se=Oc(Z,20),void 0!==d){const Ee=se.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const At=d[ft];Ee.push(null!=At?Array.from(At):null)}}ge=function(c,u,d,f,p){const g=d[1],v=function(c,u,d){const f=Xn();c.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),B_(c,f,u,Qd(c,u,1,null),d));const p=Zc(u,c,f.directiveStart,f);ei(p,u);const g=qr(f,u);return g&&ei(g,u),p}(g,d,u);if(f.components.push(v),c[8]=v,p&&p.forEach(E=>E(v,u)),u.contentQueries){const E=Xn();u.contentQueries(1,v,E.directiveStart)}const C=Xn();return!g.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(El(C.index),_I(d[1],C,0,C.directiveStart,C.directiveEnd,u),lo(u,v)),v}(Le,this.componentDef,ee,F,[oM]),Bl(Z,ee,null)}finally{Vc()}return new Bh(this.componentType,ge,Ql(se,ee),ee,se)}}class Bh extends class{}{constructor(u,d,f,p,g){super(),this.location=f,this._rootLView=p,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new GE(p),this.componentType=u}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const rc=new Map;class EC extends Tu{constructor(u,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new TC(this);const f=Ft(u),p=u[Ze]||null;p&&$w(p),this._bootstrapComponents=Vo(f.bootstrap),this._r3Injector=ih(u,d,[{provide:Tu,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],W(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,d=Vn.THROW_IF_NOT_FOUND,f=lt.Default){return u===Vn||u===Tu||u===Ul?this:this._r3Injector.get(u,d,f)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Dm extends Vy{constructor(u){super(),this.moduleType=u,null!==Ft(u)&&function(c){const u=new Set;!function d(f){const p=Ft(f,!0),g=p.id;null!==g&&(function(c,u,d){if(u&&u!==d)throw new Error(`Duplicate module registered for ${c} - ${W(u)} vs ${W(u.name)}`)}(g,rc.get(g),f),rc.set(g,f));const v=Vo(p.imports);for(const C of v)u.has(C)||(u.add(C),d(C))}(c)}(u)}create(u){return new EC(this.moduleType,u)}}function gS(c,u,d,f){return _S(ke(),$i(),c,u,d,f)}function eb(c,u,d,f,p){return Sm(ke(),$i(),c,u,d,f,p)}function SC(c,u,d,f,p,g){return function(c,u,d,f,p,g,v,C){const E=u+d;return function(c,u,d,f,p){const g=Yl(c,u,d,f);return Ir(c,u+2,p)||g}(c,E,p,g,v)?ho(c,E+3,C?f.call(C,p,g,v):f(p,g,v)):Em(c,E+3)}(ke(),$i(),c,u,d,f,p,g)}function Em(c,u){const d=c[u];return d===Lt?void 0:d}function _S(c,u,d,f,p,g){const v=u+d;return Ir(c,v,p)?ho(c,v+1,g?f.call(g,p):f(p)):Em(c,v+1)}function Sm(c,u,d,f,p,g,v){const C=u+d;return Yl(c,C,p,g)?ho(c,C+2,v?f.call(v,p,g):f(p,g)):Em(c,C+2)}function ib(c,u){const d=sn();let f;const p=c+20;d.firstCreatePass?(f=function(c,u){if(u)for(let d=u.length-1;d>=0;d--){const f=u[d];if(c===f.name)return f}throw new De("302",`The pipe '${c}' could not be found!`)}(u,d.pipeRegistry),d.data[p]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,f.onDestroy)):f=d.data[p];const g=f.factory||(f.factory=Va(f.type)),v=Pi(K_);try{const C=Td(!1),E=g();return Td(C),function(c,u,d,f){d>=c.data.length&&(c.data[d]=null,c.blueprint[d]=null),u[d]=f}(d,ke(),p,E),E}finally{Pi(v)}}function AC(c,u,d){const f=c+20,p=ke(),g=Ha(p,f);return Vh(p,Ru(p,f)?_S(p,$i(),u,g.transform,d,g):g.transform(d))}function kC(c,u,d,f){const p=c+20,g=ke(),v=Ha(g,p);return Vh(g,Ru(g,p)?Sm(g,$i(),u,v.transform,d,f,v):v.transform(d,f))}function Ru(c,u){return c[1].data[u].pure}function Vh(c,u){return uo.isWrapped(u)&&(u=uo.unwrap(u),c[ds()]=Lt),u}function Am(c){return u=>{setTimeout(c,void 0,u)}}const vo=class extends o.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,f){var p,g,v;let C=u,E=d||(()=>null),x=f;if(u&&"object"==typeof u){const N=u;C=null===(p=N.next)||void 0===p?void 0:p.bind(N),E=null===(g=N.error)||void 0===g?void 0:g.bind(N),x=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(E=Am(E),C&&(C=Am(C)),x&&(x=Am(x)));const k=super.subscribe({next:C,error:E,complete:x});return u instanceof q.w&&u.add(k),k}};function IC(){return this._results[ah()]()}class Ai{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=ah(),f=Ai.prototype;f[d]||(f[d]=IC)}get changes(){return this._changes||(this._changes=new vo)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const f=this;f.dirty=!1;const p=Hs(u);(this._changesDetected=!function(c,u,d){if(c.length!==u.length)return!1;for(let f=0;f<c.length;f++){let p=c[f],g=u[f];if(d&&(p=d(p),g=d(g)),g!==p)return!1}return!0}(f._results,p,d))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class RC{constructor(u){this.queryList=u,this.matches=null}clone(){return new RC(this.queryList)}setDirty(){this.queryList.setDirty()}}class OC{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const f=null!==u.contentQueries?u.contentQueries[0]:d.length,p=[];for(let g=0;g<f;g++){const v=d.getByIndex(g);p.push(this.queries[v.indexInDeclarationView].clone())}return new OC(p)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==GC(u,d).matches&&this.queries[d].setDirty()}}class NC{constructor(u,d,f=null){this.predicate=u,this.flags=d,this.read=f}}class PC{constructor(u=[]){this.queries=u}elementStart(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let f=0;f<this.length;f++){const p=null!==d?d.length:0,g=this.getByIndex(f).embeddedTView(u,p);g&&(g.indexInDeclarationView=f,null!==d?d.push(g):d=[g])}return null!==d?new PC(d):null}template(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class FC{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new FC(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=u.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const g=f[p];this.matchTNodeWithReadOption(u,d,LC(d,g)),this.matchTNodeWithReadOption(u,d,xd(d,u,g,!1,!1))}else f===kh?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,xd(d,u,f,!1,!1))}matchTNodeWithReadOption(u,d,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===go||p===Hy||p===kh&&4&d.type)this.addMatch(d.index,-2);else{const g=xd(d,u,p,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,f)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function LC(c,u){const d=c.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===u)return d[f+1];return null}function OO(c,u,d,f){return-1===d?function(c,u){return 11&c.type?Ql(c,u):4&c.type?By(c,u):null}(u,c):-2===d?function(c,u,d){return d===go?Ql(u,c):d===kh?By(u,c):d===Hy?WE(u,c):void 0}(c,u,f):Zc(c,c[1],d,u)}function UC(c,u,d,f){const p=u[19].queries[f];if(null===p.matches){const g=c.data,v=d.matches,C=[];for(let E=0;E<v.length;E+=2){const x=v[E];C.push(x<0?null:OO(u,g[x],v[E+1],d.metadata.read))}p.matches=C}return p.matches}function HC(c,u,d,f){const p=c.queries.getByIndex(d),g=p.matches;if(null!==g){const v=UC(c,u,p,d);for(let C=0;C<g.length;C+=2){const E=g[C];if(E>0)f.push(v[C/2]);else{const x=g[C+1],k=u[-E];for(let N=10;N<k.length;N++){const F=k[N];F[17]===F[3]&&HC(F[1],F,x,f)}if(null!==k[9]){const N=k[9];for(let F=0;F<N.length;F++){const Z=N[F];HC(Z[1],Z,x,f)}}}}}return f}function km(c){const u=ke(),d=sn(),f=Gg();Ml(f+1);const p=GC(d,f);if(c.dirty&&Lv(u)===(2==(2&p.metadata.flags))){if(null===p.matches)c.reset([]);else{const g=p.crossesNgTemplate?HC(d,u,f,[]):UC(d,u,p,f);c.reset(g,NE),c.notifyOnChanges()}return!0}return!1}function sb(c,u,d){const f=sn();f.firstCreatePass&&(YC(f,new NC(c,u,d),-1),2==(2&u)&&(f.staticViewQueries=!0)),Uh(f,ke(),u)}function ob(c,u,d,f){const p=sn();if(p.firstCreatePass){const g=Xn();YC(p,new NC(u,d,f),g.index),function(c,u){const d=c.contentQueries||(c.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(c.queries.length-1,u)}(p,c),2==(2&d)&&(p.staticContentQueries=!0)}Uh(p,ke(),d)}function ZC(){return c=ke(),u=Gg(),c[19].queries[u].queryList;var c,u}function Uh(c,u,d){const f=new Ai(4==(4&d));L_(c,u,f,f.destroy),null===u[19]&&(u[19]=new OC),u[19].queries.push(new RC(f))}function YC(c,u,d){null===c.queries&&(c.queries=new PC),c.queries.track(new FC(u,d))}function GC(c,u){return c.queries.getByIndex(u)}function Im(c,u){return By(c,u)}const Fm=Xg("Input",c=>({bindingPropertyName:c})),UO=Xg("HostBinding",c=>({hostPropertyName:c})),HO=Xg("HostListener",(c,u)=>({eventName:c,args:u})),yb=new fi("Application Initializer");let ac=(()=>{class c{constructor(d){this.appInits=d,this.resolve=Cu,this.reject=Cu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Ew(g))d.push(g);else if(Sw(g)){const v=new Promise((C,E)=>{g.subscribe({complete:C,error:E})});d.push(v)}}Promise.all(d).then(()=>{f()}).catch(p=>{this.reject(p)}),0===d.length&&f(),this.initialized=!0}}return c.\u0275fac=function(d){return new(d||c)(pi(yb,8))},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();const IS=new fi("AppId"),KO={provide:IS,useFactory:function(){return`${Jh()}${Jh()}${Jh()}`},deps:[]};function Jh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qh=new fi("Platform Initializer"),Bm=new fi("Platform ID"),bb=new fi("appBootstrapListener");let Kh=(()=>{class c{log(d){console.log(d)}warn(d){console.warn(d)}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();const lc=new fi("LocaleId"),RS=new fi("DefaultCurrencyCode");class OS{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}const Xh=function(c){return new Dm(c)},NS=Xh,sN=function(c){return Promise.resolve(Xh(c))},ef=function(c){const u=Xh(c),f=Vo(Ft(c).declarations).reduce((p,g)=>{const v=cn(g);return v&&p.push(new Ky(v)),p},[]);return new OS(u,f)},FS=ef,BS=function(c){return Promise.resolve(ef(c))};let Lu=(()=>{class c{constructor(){this.compileModuleSync=NS,this.compileModuleAsync=sN,this.compileModuleAndAllComponentsSync=FS,this.compileModuleAndAllComponentsAsync=BS}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();const VS=(()=>Promise.resolve(0))();function Bu(c){"undefined"==typeof Zone?VS.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class ks{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&d,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let c=Cn.requestAnimationFrame,u=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&u){const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(c){const u=()=>{!function(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(Cn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Db(c),c.isCheckStableRunning=!0,Vm(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Db(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,p,g,v,C)=>{try{return a1(c),d.invokeTask(p,g,v,C)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||c.shouldCoalesceRunChangeDetection)&&u(),uc(c)}},onInvoke:(d,f,p,g,v,C,E)=>{try{return a1(c),d.invoke(p,g,v,C,E)}finally{c.shouldCoalesceRunChangeDetection&&u(),uc(c)}},onHasTask:(d,f,p,g)=>{d.hasTask(p,g),f===p&&("microTask"==g.change?(c._hasPendingMicrotasks=g.microTask,Db(c),Vm(c)):"macroTask"==g.change&&(c.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,f,p,g)=>(d.handleError(p,g),c.runOutsideAngular(()=>c.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,d,f){return this._inner.run(u,d,f)}runTask(u,d,f,p){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+p,u,o1,Cu,Cu);try{return g.runTask(v,d,f)}finally{g.cancelTask(v)}}runGuarded(u,d,f){return this._inner.runGuarded(u,d,f)}runOutsideAngular(u){return this._outer.run(u)}}const o1={};function Vm(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Db(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function a1(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function uc(c){c._nesting--,Vm(c)}class ZS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(u,d,f){return u.apply(d,f)}runGuarded(u,d,f){return u.apply(d,f)}runOutsideAngular(u){return u()}runTask(u,d,f,p){return u.apply(d,f)}}let l1=(()=>{class c{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),Bu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bu(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,p){let g=-1;f&&f>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:p})}whenStable(d,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,p){return[]}}return c.\u0275fac=function(d){return new(d||c)(pi(ks))},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})(),c1=(()=>{class c{constructor(){this._applications=new Map,bs.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return bs.findTestabilityInTree(this,d,f)}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();class YS{addToWindow(u){}findTestabilityInTree(u,d,f){return null}}function Tb(c){bs=c}let bs=new YS,u1=!0,d1=!1;function dc(){return d1=!0,u1}function GS(){if(d1)throw new Error("Cannot enable prod mode after platform setup.");u1=!1}let wo;const br=new fi("AllowMultipleToken");class tf{constructor(u,d){this.name=u,this.token=d}}function Eb(c,u,d=[]){const f=`Platform: ${u}`,p=new fi(f);return(g=[])=>{let v=Bi();if(!v||v.injector.get(br,!1))if(c)c(d.concat(g).concat({provide:p,useValue:!0}));else{const C=d.concat(g).concat({provide:p,useValue:!0},{provide:uu,useValue:"platform"});!function(c){if(wo&&!wo.destroyed&&!wo.injector.get(br,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wo=c.get(nf);const u=c.get(Qh,null);u&&u.forEach(d=>d())}(Vn.create({providers:C,name:f}))}return function(c){const u=Bi();if(!u)throw new Error("No platform exists!");if(!u.injector.get(c,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(p)}}function Bi(){return wo&&!wo.destroyed?wo:null}let nf=(()=>{class c{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const C=function(c,u){let d;return d="noop"===c?new ZS:("zone.js"===c?void 0:c)||new ks({enableLongStackTrace:dc(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),E=[{provide:ks,useValue:C}];return C.run(()=>{const x=Vn.create({providers:E,parent:this.injector,name:d.moduleType.name}),k=d.create(x),N=k.injector.get(Zd,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const F=C.onError.subscribe({next:Z=>{N.handleError(Z)}});k.onDestroy(()=>{je(this._modules,k),F.unsubscribe()})}),function(c,u,d){try{const f=d();return Ew(f)?f.catch(p=>{throw u.runOutsideAngular(()=>c.handleError(p)),p}):f}catch(f){throw u.runOutsideAngular(()=>c.handleError(f)),f}}(N,C,()=>{const F=k.injector.get(ac);return F.runInitializers(),F.donePromise.then(()=>($w(k.injector.get(lc,yy)||yy),this._moduleDoBootstrap(k),k))})})}bootstrapModule(d,f=[]){const p=xt({},f);return function(c,u,d){const f=new Dm(d);return Promise.resolve(f)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(d){const f=d.injector.get(Hm);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${W(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(d){return new(d||c)(pi(Vn))},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();function xt(c,u){return Array.isArray(u)?u.reduce(xt,c):Object.assign(Object.assign({},c),u)}let Hm=(()=>{class c{constructor(d,f,p,g,v){this._zone=d,this._injector=f,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),E=new U.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),Bu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),N.unsubscribe()}});this.isStable=(0,oe.T)(C,E.pipe((0,de.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof Ay?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const g=function(c){return c.isBoundToModule}(p)?void 0:this._injector.get(Tu),C=p.create(Vn.NULL,[],f||p.selector,g),E=C.location.nativeElement,x=C.injector.get(l1,null),k=x&&C.injector.get(c1);return x&&k&&k.registerApplication(E,x),C.onDestroy(()=>{this.detachView(C.hostView),je(this.components,C),k&&k.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;je(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(bb,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(d){return new(d||c)(pi(ks),pi(Vn),pi(Zd),pi(wu),pi(ac))},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();function je(c,u){const d=c.indexOf(u);d>-1&&c.splice(d,1)}class vr{}class $s{}const dN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let QS=(()=>{class c{constructor(d,f){this._compiler=d,this._config=f||dN}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[f,p]=d.split("#");return void 0===p&&(p="default"),L(8255)(f).then(g=>g[p]).then(g=>an(g,f,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(d){let[f,p]=d.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),L(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(v=>v[p+g]).then(v=>an(v,f,p))}}return c.\u0275fac=function(d){return new(d||c)(pi(Lu),pi($s,8))},c.\u0275prov=Nt({token:c,factory:c.\u0275fac}),c})();function an(c,u,d){if(!c)throw new Error(`Cannot find '${d}' in '${u}'`);return c}const Uu=function(c){return null},xb=Eb(null,"core",[{provide:Bm,useValue:"unknown"},{provide:nf,deps:[Vn]},{provide:c1,deps:[]},{provide:Kh,deps:[]}]),Ym=[{provide:Hm,useClass:Hm,deps:[ks,Vn,Zd,wu,ac]},{provide:dS,deps:[ks],useFactory:function(c){let u=[];return c.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(d){u.push(d)}}},{provide:ac,useClass:ac,deps:[[new pa,yb]]},{provide:Lu,useClass:Lu,deps:[]},KO,{provide:pm,useFactory:function(){return jE},deps:[]},{provide:Ny,useFactory:function(){return zE},deps:[]},{provide:lc,useFactory:function(c){return $w(c=c||"undefined"!=typeof $localize&&$localize.locale||yy),c},deps:[[new Wa(lc),new pa,new ma]]},{provide:RS,useValue:"USD"}];let sx=(()=>{class c{constructor(d){}}return c.\u0275fac=function(d){return new(d||c)(pi(Hm))},c.\u0275mod=Se({type:c}),c.\u0275inj=zn({providers:Ym}),c})()},8939:(Ke,Me,L)=>{"use strict";L.d(Me,{hO:()=>K,xv:()=>z,Dh:()=>W,GT:()=>te,on:()=>V,pX:()=>de});var o=L(7716),q=L(7841),U=L(9126);Ke=L.hmd(Ke);const oe=["ngOnDestroy"],de=(ie,De,me,Oe={})=>new Proxy(ie,{get:(we,Ie)=>me.runOutsideAngular(()=>{var rt;if(ie[Ie])return(null===(rt=null==Oe?void 0:Oe.spy)||void 0===rt?void 0:rt.get)&&Oe.spy.get(Ie,ie[Ie]),ie[Ie];if(oe.indexOf(Ie)>-1)return()=>{};const mt=De.toPromise().then(Zt=>{const Ut=Zt&&Zt[Ie];return"function"==typeof Ut?Ut.bind(Zt):Ut&&Ut.then?Ut.then(jt=>me.run(()=>jt)):me.run(()=>Ut)});return new Proxy(()=>{},{get:(Zt,Ut)=>mt[Ut],apply:(Zt,Ut,jt)=>mt.then(Ae=>{var St;const he=Ae&&Ae(...jt);return(null===(St=null==Oe?void 0:Oe.spy)||void 0===St?void 0:St.apply)&&Oe.spy.apply(Ie,jt,he),he})})})}),te=(ie,De)=>{De.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Oe=>{Object.defineProperty(ie.prototype,Oe,Object.getOwnPropertyDescriptor(me.prototype||me,Oe))})})};class j{constructor(De){return De}}const W=new o.OlP("angularfire2.app.options"),z=new o.OlP("angularfire2.app.name");function V(ie,De,me){const we="object"==typeof me&&me||{};we.name=we.name||"string"==typeof me&&me||"[DEFAULT]";const rt=q.Z.apps.filter(mt=>mt&&mt.name===we.name)[0]||De.runOutsideAngular(()=>q.Z.initializeApp(ie,we));try{JSON.stringify(ie)!==JSON.stringify(rt.options)&&Q("error",`${rt.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return new j(rt)}const Q=(ie,...De)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ie](...De)},H={provide:j,useFactory:V,deps:[W,o.R0b,[new o.FiY,z]]};let K=(()=>{class ie{constructor(me){q.Z.registerVersion("angularfire",U.q4.full,"core"),q.Z.registerVersion("angularfire",U.q4.full,"app-compat"),q.Z.registerVersion("angular",o.q4F.full,me.toString())}static initializeApp(me,Oe){return{ngModule:ie,providers:[{provide:W,useValue:me},{provide:z,useValue:Oe}]}}}return ie.\u0275fac=function(me){return new(me||ie)(o.LFG(o.Lbi))},ie.\u0275mod=o.oAB({type:ie}),ie.\u0275inj=o.cJS({providers:[H]}),ie})()},9126:(Ke,Me,L)=>{"use strict";L.d(Me,{q4:()=>V,iC:()=>he,fc:()=>Ae,HU:()=>mt,cc:()=>K});var o=L(7716);(0,L(5452).registerVersion)("firebase","9.0.2","app");var de=L(7771),te=L(3637),j=L(8307),W=L(9746),z=L(9673);Ke=L.hmd(Ke);const V=new o.GfV("7.0.4"),Q=!!Ke.hot,H=(Ce,...re)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ce](...re)};function K(Ce,re,Ue,ot,Yt){const[,pt,at]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===Ce)||[];if(pt)return function(Ce,re){try{return Ce.toString()===re.toString()}catch(Ue){return Ce===re}}(Yt,at)||(H("error",`${re} was already initialized on the ${Ue} Firebase App with different settings.${Q?" You may need to reload as Firebase is not HMR aware.":""}`),H("warn",{is:Yt,was:at})),pt;{const yt=ot();return globalThis.\u0275AngularfireInstanceCache.push([Ce,yt,Yt]),yt}}function we(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ie{constructor(re,Ue=de.N){this.zone=re,this.delegate=Ue}now(){return this.delegate.now()}schedule(re,Ue,ot){const Yt=this.zone;return this.delegate.schedule(function(at){Yt.runGuarded(()=>{re.apply(this,[at])})},Ue,ot)}}class rt{constructor(re){this.zone=re,this.task=null}call(re,Ue){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)),Ue.pipe((0,j.b)({next:ot,complete:ot,error:ot})).subscribe(re).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mt=(()=>{class Ce{constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Ue.run(()=>new Ie(Zone.current,te.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ce.\u0275fac=function(Ue){return new(Ue||Ce)(o.LFG(o.R0b))},Ce.\u0275prov=o.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Zt(){const Ce=globalThis.\u0275AngularFireScheduler;if(!Ce)throw new Error("AngularFireModule has not been provided");return Ce}function Ae(Ce){return Ce.pipe((0,W.QV)(Zt().outsideAngular))}function he(Ce){return Zt(),function(Ce){return function(Ue){return(Ue=Ue.lift(new rt(Ce.ngZone))).pipe((0,z.R)(Ce.outsideAngular),(0,W.QV)(Ce.insideAngular))}}(Zt())(Ce)}},4486:(Ke,Me,L)=>{"use strict";L.d(Me,{Z:()=>me});var o=L(4685),q=L(6034),U=L(5452),oe=L(300);class de{constructor(we,Ie){this._delegate=we,this.firebase=Ie,(0,U._addComponent)(we,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(we,Ie=U._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(we);return!mt.isInitialized()&&"EXPLICIT"===(null===(rt=mt.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ie})}_removeServiceInstance(we,Ie=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ie)}_addComponent(we){(0,U._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,U._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function z(){const Oe=function(Oe){const we={},Ie={__esModule:!0,initializeApp:function(St,he={}){const _e=U.initializeApp(St,he);if((0,o.r3)(we,_e.name))return we[_e.name];const ye=new Oe(_e,Ie);return we[_e.name]=ye,ye},app:mt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(St){const he=St.name,_e=he.replace("-compat","");if(U._registerComponent(St)&&"PUBLIC"===St.type){const ye=(be=mt())=>{if("function"!=typeof be[_e])throw j.create("invalid-app-argument",{appName:he});return be[_e]()};void 0!==St.serviceProps&&(0,o.ZB)(ye,St.serviceProps),Ie[_e]=ye,Oe.prototype[_e]=function(...be){return this._getService.bind(this,he).apply(this,St.multipleInstances?be:[])}}return"PUBLIC"===St.type?Ie[_e]:null},removeApp:function(St){delete we[St]},useAsService:function(St,he){return"serverAuth"===he?null:he},modularAPIs:U}};function mt(St){if(!(0,o.r3)(we,St=St||U._DEFAULT_ENTRY_NAME))throw j.create("no-app",{appName:St});return we[St]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function(){return Object.keys(we).map(St=>we[St])}}),mt.App=Oe,Ie}(de);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(Ie){(0,o.ZB)(Oe,Ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Oe}(),Q=new oe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=V;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const me=De},5452:(Ke,Me,L)=>{"use strict";L.r(Me),L.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Eo,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>jn,_addOrOverwriteComponent:()=>Ls,_apps:()=>at,_clearComponents:()=>zn,_components:()=>yt,_getProvider:()=>Nt,_registerComponent:()=>Yr,_removeServiceInstance:()=>Fn,deleteApp:()=>ia,getApp:()=>Ds,getApps:()=>Er,initializeApp:()=>to,onLog:()=>fn,registerVersion:()=>lt,setLogLevel:()=>rs});var o=L(8239),q=L(6034),U=L(300),oe=L(4685);class de{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(en=>{if(function(Mt){const _t=Mt.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(en)){const Qt=en.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(en=>en).join(" ")}}const j="@firebase/app",z=new U.Yd("@firebase/app"),Yt="[DEFAULT]",pt={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,yt=new Map;function jn(Mt,_t){try{Mt.container.addComponent(_t)}catch(en){z.debug(`Component ${_t.name} failed to register with FirebaseApp ${Mt.name}`,en)}}function Ls(Mt,_t){Mt.container.addOrOverwriteComponent(_t)}function Yr(Mt){const _t=Mt.name;if(yt.has(_t))return z.debug(`There were multiple attempts to register component ${_t}.`),!1;yt.set(_t,Mt);for(const en of at.values())jn(en,Mt);return!0}function Nt(Mt,_t){return Mt.container.getProvider(_t)}function Fn(Mt,_t,en=Yt){Nt(Mt,_t).clearInstance(en)}function zn(){yt.clear()}const Cs=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mr{constructor(_t,en,Qt){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},en),this._name=en.name,this._automaticDataCollectionEnabled=en.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}const Eo="9.0.0";function to(Mt,_t={}){"object"!=typeof _t&&(_t={name:_t});const en=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},_t),Qt=en.name;if("string"!=typeof Qt||!Qt)throw Cs.create("bad-app-name",{appName:String(Qt)});const Yi=at.get(Qt);if(Yi){if((0,oe.vZ)(Mt,Yi.options)&&(0,oe.vZ)(en,Yi.config))return Yi;throw Cs.create("duplicate-app",{appName:Qt})}const yn=new q.H0(Qt);for(const st of yt.values())yn.addComponent(st);const Ye=new Mr(Mt,en,yn);return at.set(Qt,Ye),Ye}function Ds(Mt=Yt){const _t=at.get(Mt);if(!_t)throw Cs.create("no-app",{appName:Mt});return _t}function Er(){return Array.from(at.values())}function ia(Mt){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,o.Z)(function*(Mt){const _t=Mt.name;at.has(_t)&&(at.delete(_t),yield Promise.all(Mt.container.getProviders().map(en=>en.delete())),Mt.isDeleted=!0)})).apply(this,arguments)}function lt(Mt,_t,en){var Qt;let Yi=null!==(Qt=pt[Mt])&&void 0!==Qt?Qt:Mt;en&&(Yi+=`-${en}`);const yn=Yi.match(/\s|\//),Ye=_t.match(/\s|\//);if(yn||Ye){const st=[`Unable to register library "${Yi}" with version "${_t}":`];return yn&&st.push(`library name "${Yi}" contains illegal characters (whitespace or "/")`),yn&&Ye&&st.push("and"),Ye&&st.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void z.warn(st.join(" "))}Yr(new q.wA(`${Yi}-version`,()=>({library:Yi,version:_t}),"VERSION"))}function fn(Mt,_t){if(null!==Mt&&"function"!=typeof Mt)throw Cs.create("invalid-log-argument");(0,U.Am)(Mt,_t)}function rs(Mt){(0,U.Ub)(Mt)}Yr(new q.wA("platform-logger",_t=>new de(_t),"PRIVATE")),lt(j,"0.7.0",undefined),lt("fire-js","")},5893:(Ke,Me,L)=>{"use strict";L.d(Me,{$:()=>Bv,A:()=>Q,E:()=>qi,G:()=>Et,I:()=>ro,K:()=>tn,L:()=>Qf,M:()=>Bg,N:()=>Vg,P:()=>Qi,Q:()=>Va,R:()=>VD,T:()=>ud,V:()=>Pv,W:()=>ID,X:()=>Ua,Y:()=>hd,Z:()=>Ha,_:()=>pd,a:()=>Jv,a0:()=>Vv,a1:()=>Uv,a2:()=>Cl,a3:()=>sn,a4:()=>Xn,a5:()=>Za,a6:()=>Ts,a7:()=>md,a8:()=>RD,a9:()=>$i,aA:()=>l0,aB:()=>YD,aC:()=>An,aG:()=>jr,aJ:()=>Xt,aa:()=>Hv,ab:()=>Us,ae:()=>Zv,af:()=>cp,ag:()=>Gg,aj:()=>Fv,ak:()=>qv,am:()=>bd,an:()=>ha,ao:()=>si,ap:()=>he,aq:()=>On,ar:()=>Kt,as:()=>rt,at:()=>h_,au:()=>$c,av:()=>mt,aw:()=>Ae,ax:()=>ye,ay:()=>Qn,az:()=>pi,b:()=>Wv,c:()=>za,d:()=>vk,e:()=>ZD,f:()=>Od,g:()=>jc,h:()=>Ck,i:()=>Wi,j:()=>qD,k:()=>Gn,l:()=>yk,m:()=>ps,o:()=>W,r:()=>UD,s:()=>_k,u:()=>Ad,z:()=>ie});var o=L(8239),q=L(4685),U=L(5452),oe=L(4762),de=L(300),te=L(6034);const W={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ie=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new de.Yd("@firebase/auth");function Ie(M,...b){we.logLevel<=de.in.ERROR&&we.error(`Auth (${U.SDK_VERSION}): ${M}`,...b)}function rt(M,...b){throw jt(M,...b)}function mt(M,...b){return jt(M,...b)}function Zt(M,b,D){const S=Object.assign(Object.assign({},De()),{[b]:D});return new q.LL("auth","Firebase",S).create(b,{appName:M.name})}function Ut(M,b,D){if(!(b instanceof D))throw D.name!==b.constructor.name&&rt(M,"argument-error"),Zt(M,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jt(M,...b){if("string"!=typeof M){const D=b[0],S=[...b.slice(1)];return S[0]&&(S[0].appName=M.name),M._errorFactory.create(D,...S)}return me.create(M,...b)}function Ae(M,b,...D){if(!M)throw jt(b,...D)}function St(M){const b="INTERNAL ASSERTION FAILED: "+M;throw Ie(b),new Error(b)}function he(M,b){M||St(b)}const _e=new Map;function ye(M){he(M instanceof Function,"Expected a class definition");let b=_e.get(M);return b?(he(b instanceof M,"Instance stored in cache mismatched with class"),b):(b=new M,_e.set(M,b),b)}function re(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function Ue(){return"http:"===ot()||"https:"===ot()}function ot(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class at{constructor(b,D){this.shortDelay=b,this.longDelay=D,he(D>b,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yt(M,b){he(M.emulator,"Emulator should always be set here");const{url:D}=M.emulator;return b?`${D}${b.startsWith("/")?b.slice(1):b}`:D}class jn{static initialize(b,D,S){this.fetchImpl=b,D&&(this.headersImpl=D),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ls={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yr=new at(3e4,6e4);function Nt(M,b){return M.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:M.tenantId}):b}function Fn(M,b,D,S){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.Z)(function*(M,b,D,S,R={}){return Zi(M,R,()=>{let P={},ue={};S&&("GET"===b?ue=S:P={body:JSON.stringify(S)});const Pe=(0,q.xO)(Object.assign({key:M.config.apiKey},ue)).slice(1),nt=new(jn.headers());return nt.set("Content-Type","application/json"),nt.set("X-Client-Version",M._getSdkClientVersion()),M.languageCode&&nt.set("X-Firebase-Locale",M.languageCode),jn.fetch()(to(M,M.config.apiHost,D,Pe),Object.assign({method:b,headers:nt,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function Zi(M,b,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,o.Z)(function*(M,b,D){M._canInitEmulator=!1;const S=Object.assign(Object.assign({},Ls),b);try{const R=new Ds(M),P=yield Promise.race([D(),R.promise]);R.clearNetworkTimeout();const ue=yield P.json();if("needConfirmation"in ue)throw Er(M,"account-exists-with-different-credential",ue);if(P.ok&&!("errorMessage"in ue))return ue;{const Pe=P.ok?ue.errorMessage:ue.error.message,[nt,Dt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw Er(M,"credential-already-in-use",ue);if("EMAIL_EXISTS"===nt)throw Er(M,"email-already-in-use",ue);const nn=S[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Zt(M,nn,Dt);rt(M,nn)}}catch(R){if(R instanceof q.ZR)throw R;rt(M,"network-request-failed")}})).apply(this,arguments)}function Mr(M,b,D,S){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,o.Z)(function*(M,b,D,S,R={}){const P=yield Fn(M,b,D,S,R);return"mfaPendingCredential"in P&&rt(M,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function to(M,b,D,S){const R=`${b}${D}?${S}`;return M.config.emulator?yt(M.config,R):`${M.config.apiScheme}://${R}`}class Ds{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((D,S)=>{this.timer=setTimeout(()=>S(mt(this.auth,"timeout")),Yr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Er(M,b,D){const S={appName:M.name};D.email&&(S.email=D.email),D.phoneNumber&&(S.phoneNumber=D.phoneNumber);const R=mt(M,b,S);return R.customData._tokenResponse=D,R}function Bs(){return(Bs=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function lt(M,b){return fn.apply(this,arguments)}function fn(){return(fn=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function rs(M,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Mt(M){if(M)try{const b=new Date(Number(M));if(!isNaN(b.getTime()))return b.toUTCString()}catch(b){}}function Qt(){return(Qt=(0,o.Z)(function*(M,b=!1){const D=(0,q.m9)(M),S=yield D.getIdToken(b),R=yn(S);Ae(R&&R.exp&&R.auth_time&&R.iat,D.auth,"internal-error");const P="object"==typeof R.firebase?R.firebase:void 0,ue=null==P?void 0:P.sign_in_provider;return{claims:R,token:S,authTime:Mt(Yi(R.auth_time)),issuedAtTime:Mt(Yi(R.iat)),expirationTime:Mt(Yi(R.exp)),signInProvider:ue||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Yi(M){return 1e3*Number(M)}function yn(M){const[b,D,S]=M.split(".");if(void 0===b||void 0===D||void 0===S)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,q.tV)(D);return R?JSON.parse(R):(Ie("Failed to decode base64 JWT payload"),null)}catch(R){return Ie("Caught error parsing JWT payload as JSON",R),null}}function st(M,b){return ra.apply(this,arguments)}function ra(){return(ra=(0,o.Z)(function*(M,b,D=!1){if(D)return b;try{return yield b}catch(S){throw S instanceof q.ZR&&sa(S)&&M.auth.currentUser===M&&(yield M.auth.signOut()),S}})).apply(this,arguments)}function sa({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}class ss{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var D;if(b){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const R=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(b=!1){var D=this;if(!this.isRunning)return;const S=this.getInterval(b);this.timerId=setTimeout((0,o.Z)(function*(){yield D.iteration()}),S)}iteration(){var b=this;return(0,o.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===D.code&&b.schedule(!0))}b.schedule()})()}}class Cn{constructor(b,D){this.createdAt=b,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mt(this.lastLoginAt),this.creationTime=Mt(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(M){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(M){var b;const D=M.auth,S=yield M.getIdToken(),R=yield st(M,rs(D,{idToken:S}));Ae(null==R?void 0:R.users.length,D,"internal-error");const P=R.users[0];M._notifyReloadListener(P);const ue=(null===(b=P.providerUserInfo)||void 0===b?void 0:b.length)?ne(P.providerUserInfo):[],Pe=G(M.providerData,ue),nn=!!M.isAnonymous&&!(M.email&&P.passwordHash||(null==Pe?void 0:Pe.length)),vn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Pe,metadata:new Cn(P.createdAt,P.lastLoginAt),isAnonymous:nn};Object.assign(M,vn)})).apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(M){const b=(0,q.m9)(M);yield Dn(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function G(M,b){return[...M.filter(S=>!b.some(R=>R.providerId===S.providerId)),...b]}function ne(M){return M.map(b=>{var{providerId:D}=b,S=(0,oe._T)(b,["providerId"]);return{providerId:D,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function ae(){return(ae=(0,o.Z)(function*(M,b){const D=yield Zi(M,{},()=>{const S=(0,q.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:R,apiKey:P}=M.config,ue=to(M,R,"/v1/token",`key=${P}`);return jn.fetch()(ue,{method:"POST",headers:{"X-Client-Version":M._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class Ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){Ae(b.idToken,"internal-error"),Ae(void 0!==b.idToken,"internal-error"),Ae(void 0!==b.refreshToken,"internal-error");const D="expiresIn"in b&&void 0!==b.expiresIn?Number(b.expiresIn):function(M){const b=yn(M);return Ae(b,"internal-error"),Ae(void 0!==b.exp,"internal-error"),Ae(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,D)}getToken(b,D=!1){var S=this;return(0,o.Z)(function*(){return Ae(!S.accessToken||S.refreshToken,b,"user-token-expired"),D||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(b,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,D){var S=this;return(0,o.Z)(function*(){const{accessToken:R,refreshToken:P,expiresIn:ue}=yield function(M,b){return ae.apply(this,arguments)}(b,D);S.updateTokensAndExpiration(R,P,Number(ue))})()}updateTokensAndExpiration(b,D,S){this.refreshToken=D||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(b,D){const{refreshToken:S,accessToken:R,expirationTime:P}=D,ue=new Ze;return S&&(Ae("string"==typeof S,"internal-error",{appName:b}),ue.refreshToken=S),R&&(Ae("string"==typeof R,"internal-error",{appName:b}),ue.accessToken=R),P&&(Ae("number"==typeof P,"internal-error",{appName:b}),ue.expirationTime=P),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Ze,this.toJSON())}_performRefresh(){return St("not implemented")}}function Xe(M,b){Ae("string"==typeof M||void 0===M,"internal-error",{appName:b})}class Pt{constructor(b){var{uid:D,auth:S,stsTokenManager:R}=b,P=(0,oe._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=S,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new Cn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(b){var D=this;return(0,o.Z)(function*(){const S=yield st(D,D.stsTokenManager.getToken(D.auth,b));return Ae(S,D.auth,"internal-error"),D.accessToken!==S&&(D.accessToken=S,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),S})()}getIdTokenResult(b){return function(M){return Qt.apply(this,arguments)}(this,b)}reload(){return function(M){return Y.apply(this,arguments)}(this)}_assign(b){this!==b&&(Ae(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(D=>Object.assign({},D)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Pt(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,D=!1){var S=this;return(0,o.Z)(function*(){let R=!1;b.idToken&&b.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(b),R=!0),D&&(yield Dn(S)),yield S.auth._persistUserIfCurrent(S),R&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var b=this;return(0,o.Z)(function*(){const D=yield b.getIdToken();return yield st(b,function(M,b){return Bs.apply(this,arguments)}(b.auth,{idToken:D})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,D){var S,R,P,ue,Pe,nt,Dt,nn;const vn=null!==(S=D.displayName)&&void 0!==S?S:void 0,Fo=null!==(R=D.email)&&void 0!==R?R:void 0,_a=null!==(P=D.phoneNumber)&&void 0!==P?P:void 0,ai=null!==(ue=D.photoURL)&&void 0!==ue?ue:void 0,Be=null!==(Pe=D.tenantId)&&void 0!==Pe?Pe:void 0,Ss=null!==(nt=D._redirectEventId)&&void 0!==nt?nt:void 0,Rl=null!==(Dt=D.createdAt)&&void 0!==Dt?Dt:void 0,xe=null!==(nn=D.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:qt,emailVerified:Tp,isAnonymous:Xc,providerData:mi,stsTokenManager:li}=D;Ae(qt&&li,b,"internal-error");const Hd=Ze.fromJSON(this.name,li);Ae("string"==typeof qt,b,"internal-error"),Xe(vn,b.name),Xe(Fo,b.name),Ae("boolean"==typeof Tp,b,"internal-error"),Ae("boolean"==typeof Xc,b,"internal-error"),Xe(_a,b.name),Xe(ai,b.name),Xe(Be,b.name),Xe(Ss,b.name),Xe(Rl,b.name),Xe(xe,b.name);const Ja=new Pt({uid:qt,auth:b,email:Fo,emailVerified:Tp,displayName:vn,isAnonymous:Xc,photoURL:ai,phoneNumber:_a,tenantId:Be,stsTokenManager:Hd,createdAt:Rl,lastLoginAt:xe});return mi&&Array.isArray(mi)&&(Ja.providerData=mi.map(Rt=>Object.assign({},Rt))),Ss&&(Ja._redirectEventId=Ss),Ja}static _fromIdTokenResponse(b,D,S=!1){return(0,o.Z)(function*(){const R=new Ze;R.updateFromServerResponse(D);const P=new Pt({uid:D.localId,auth:b,stsTokenManager:R,isAnonymous:S});return yield Dn(P),P})()}}const tn=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(D,S){var R=this;return(0,o.Z)(function*(){R.storage[D]=S})()}_get(D){var S=this;return(0,o.Z)(function*(){const R=S.storage[D];return void 0===R?null:R})()}_remove(D){var S=this;return(0,o.Z)(function*(){delete S.storage[D]})()}_addListener(D,S){}_removeListener(D,S){}}return M.type="NONE",M})();function Qn(M,b,D){return`firebase:${M}:${b}:${D}`}class ce{constructor(b,D,S){this.persistence=b,this.auth=D,this.userKey=S;const{config:R,name:P}=this.auth;this.fullUserKey=Qn(this.userKey,R.apiKey,P),this.fullPersistenceKey=Qn("persistence",R.apiKey,P),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,o.Z)(function*(){const D=yield b.persistence._get(b.fullUserKey);return D?Pt._fromJSON(b.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var D=this;return(0,o.Z)(function*(){if(D.persistence===b)return;const S=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=b,S?D.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,D,S="authUser"){return(0,o.Z)(function*(){if(!D.length)return new ce(ye(tn),b,S);const R=(yield Promise.all(D.map(function(){var Dt=(0,o.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let P=R[0]||ye(tn);const ue=Qn(S,b.config.apiKey,b.name);let Pe=null;for(const Dt of D)try{const nn=yield Dt._get(ue);if(nn){const vn=Pt._fromJSON(b,nn);Dt!==P&&(Pe=vn),P=Dt;break}}catch(nn){}const nt=R.filter(Dt=>Dt._shouldAllowMigration);return P._shouldAllowMigration&&nt.length?(P=nt[0],Pe&&(yield P._set(ue,Pe.toJSON())),yield Promise.all(D.map(function(){var Dt=(0,o.Z)(function*(nn){if(nn!==P)try{yield nn._remove(ue)}catch(vn){}});return function(nn){return Dt.apply(this,arguments)}}())),new ce(P,b,S)):new ce(P,b,S)})()}}function J(M){const b=M.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(vt(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(X(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(pn(b))return"Blackberry";if(cn(b))return"Webos";if(Se(b))return"Safari";if((b.includes("chrome/")||ze(b))&&!b.includes("edge/"))return"Chrome";if(Kt(b))return"Android";{const S=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function X(M=(0,q.z$)()){return/firefox\//i.test(M)}function Se(M=(0,q.z$)()){const b=M.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function ze(M=(0,q.z$)()){return/crios\//i.test(M)}function vt(M=(0,q.z$)()){return/iemobile/i.test(M)}function Kt(M=(0,q.z$)()){return/android/i.test(M)}function pn(M=(0,q.z$)()){return/blackberry/i.test(M)}function cn(M=(0,q.z$)()){return/webos/i.test(M)}function On(M=(0,q.z$)()){return/iphone|ipad|ipod/i.test(M)}function si(M=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function Gi(M=(0,q.z$)()){return On(M)||Kt(M)||cn(M)||pn(M)||/windows phone/i.test(M)||vt(M)}function zt(M,b=[]){let D;switch(M){case"Browser":D=J((0,q.z$)());break;case"Worker":D=`${J((0,q.z$)())}-${M}`;break;default:D=M}const S=b.length?b.join(","):"FirebaseCore-web";return`${D}/JsCore/${U.SDK_VERSION}/${S}`}class Ln{constructor(b,D){this.app=b,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aa(this),this.idTokenSubscription=new aa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(b,D){var S=this;return D&&(this._popupRedirectResolver=ye(D)),this._initializationPromise=this.queue((0,o.Z)(function*(){var R;S._deleted||(S.persistenceManager=yield ce.create(S,b),!S._deleted&&((null===(R=S._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(D),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,o.Z)(function*(){if(b._deleted)return;const D=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||D){if(b.currentUser&&D&&b.currentUser.uid===D.uid)return b._currentUser._assign(D),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(D)}})()}initializeCurrentUser(b){var D=this;return(0,o.Z)(function*(){var S;let R=yield D.assertedPersistence.getCurrentUser();if(b&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const P=null===(S=D.redirectUser)||void 0===S?void 0:S._redirectEventId,ue=null==R?void 0:R._redirectEventId,Pe=yield D.tryRedirectSignIn(b);(!P||P===ue)&&(null==Pe?void 0:Pe.user)&&(R=Pe.user)}return R?R._redirectEventId?(Ae(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===R._redirectEventId?D.directlySetCurrentUser(R):D.reloadAndSetCurrentUserOrClear(R)):D.reloadAndSetCurrentUserOrClear(R):D.directlySetCurrentUser(null)})()}tryRedirectSignIn(b){var D=this;return(0,o.Z)(function*(){let S=null;try{S=yield D._popupRedirectResolver._completeRedirectFn(D,b,!0)}catch(R){yield D._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(b){var D=this;return(0,o.Z)(function*(){try{yield Dn(b)}catch(S){if("auth/network-request-failed"!==S.code)return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var b=this;return(0,o.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var D=this;return(0,o.Z)(function*(){const S=b?(0,q.m9)(b):null;return S&&Ae(S.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(S&&S._clone(D))})()}_updateCurrentUser(b){var D=this;return(0,o.Z)(function*(){if(!D._deleted)return b&&Ae(D.tenantId===b.tenantId,D,"tenant-id-mismatch"),D.queue((0,o.Z)(function*(){yield D.directlySetCurrentUser(b),D.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,o.Z)(function*(){return(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null)})()}setPersistence(b){var D=this;return this.queue((0,o.Z)(function*(){yield D.assertedPersistence.setPersistence(ye(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new q.LL("auth","Firebase",b())}onAuthStateChanged(b,D,S){return this.registerStateListener(this.authStateSubscription,b,D,S)}onIdTokenChanged(b,D,S){return this.registerStateListener(this.idTokenSubscription,b,D,S)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,D){var S=this;return(0,o.Z)(function*(){const R=yield S.getOrInitRedirectPersistenceManager(D);return null===b?R.removeCurrentUser():R.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var D=this;return(0,o.Z)(function*(){if(!D.redirectPersistenceManager){const S=b&&ye(b)||D._popupRedirectResolver;Ae(S,D,"argument-error"),D.redirectPersistenceManager=yield ce.create(D,[ye(S._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(b){var D=this;return(0,o.Z)(function*(){var S,R;return D._isInitialized&&(yield D.queue((0,o.Z)(function*(){}))),(null===(S=D._currentUser)||void 0===S?void 0:S._redirectEventId)===b?D._currentUser:(null===(R=D.redirectUser)||void 0===R?void 0:R._redirectEventId)===b?D.redirectUser:null})()}_persistUserIfCurrent(b){var D=this;return(0,o.Z)(function*(){if(b===D.currentUser)return D.queue((0,o.Z)(function*(){return D.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(D=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,D,S,R){if(this._deleted)return()=>{};const P="function"==typeof D?D:D.next.bind(D),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(ue,this,"internal-error"),ue.then(()=>P(this.currentUser)),"function"==typeof D?b.addObserver(D,S,R):b.addObserver(D)}directlySetCurrentUser(b){var D=this;return(0,o.Z)(function*(){D.currentUser&&D.currentUser!==b&&(D._currentUser._stopProactiveRefresh(),b&&D.isProactiveRefreshEnabled&&b._startProactiveRefresh()),D.currentUser=b,b?yield D.assertedPersistence.setCurrentUser(b):yield D.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function An(M){return(0,q.m9)(M)}class aa{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,q.ne)(D=>this.observer=D)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qi(M,b,D){const S=An(M);Ae(S._canInitEmulator,S,"emulator-config-failed"),Ae(/^https?:\/\//.test(b),S,"invalid-emulator-scheme");const R=!!(null==D?void 0:D.disableWarnings),P=io(b),{host:ue,port:Pe}=function(M){const b=io(M),D=/(\/\/)?([^?#/]+)/.exec(M.substr(b.length));if(!D)return{host:"",port:null};const S=D[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(S);if(R){const P=R[1];return{host:P,port:gl(S.substr(P.length+1))}}{const[P,ue]=S.split(":");return{host:P,port:gl(ue)}}}(b);S.config.emulator={url:`${P}//${ue}${null===Pe?"":`:${Pe}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ue,port:Pe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(M){function b(){const D=document.createElement("p"),S=D.style;D.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",D.classList.add("firebase-emulator-warning"),document.body.appendChild(D)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!M&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}(R)}function io(M){const b=M.indexOf(":");return b<0?"":M.substr(0,b+1)}function gl(M){if(!M)return null;const b=Number(M);return isNaN(b)?null:b}class Et{constructor(b,D){this.providerId=b,this.signInMethod=D}toJSON(){return St("not implemented")}_getIdTokenResponse(b){return St("not implemented")}_linkToIdToken(b,D){return St("not implemented")}_getReauthenticationResolver(b){return St("not implemented")}}function la(M,b){return So.apply(this,arguments)}function So(){return(So=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:resetPassword",Nt(M,b))})).apply(this,arguments)}function ad(M,b){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Sr(M,b){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:update",Nt(M,b))})).apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithPassword",Nt(M,b))})).apply(this,arguments)}function bt(M,b){return ld.apply(this,arguments)}function ld(){return(ld=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:sendOobCode",Nt(M,b))})).apply(this,arguments)}function Rv(M,b){return ct.apply(this,arguments)}function ct(){return(ct=(0,o.Z)(function*(M,b){return bt(M,b)})).apply(this,arguments)}function Wf(M,b){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(M,b){return bt(M,b)})).apply(this,arguments)}function bl(M,b){return ji.apply(this,arguments)}function ji(){return(ji=(0,o.Z)(function*(M,b){return bt(M,b)})).apply(this,arguments)}function Kn(M,b){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,o.Z)(function*(M,b){return bt(M,b)})).apply(this,arguments)}function Gr(){return(Gr=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithEmailLink",Nt(M,b))})).apply(this,arguments)}function ua(){return(ua=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithEmailLink",Nt(M,b))})).apply(this,arguments)}class wi extends Et{constructor(b,D,S,R=null){super("password",S),this._email=b,this._password=D,this._tenantId=R}static _fromEmailAndPassword(b,D){return new wi(b,D,"password")}static _fromEmailAndCode(b,D,S=null){return new wi(b,D,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b;if((null==D?void 0:D.email)&&(null==D?void 0:D.password)){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(b){var D=this;return(0,o.Z)(function*(){switch(D.signInMethod){case"password":return function(M,b){return as.apply(this,arguments)}(b,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(M,b){return Gr.apply(this,arguments)}(b,{email:D._email,oobCode:D._password});default:rt(b,"internal-error")}})()}_linkToIdToken(b,D){var S=this;return(0,o.Z)(function*(){switch(S.signInMethod){case"password":return ad(b,{idToken:D,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(M,b){return ua.apply(this,arguments)}(b,{idToken:D,email:S._email,oobCode:S._password});default:rt(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function zi(M,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithIdp",Nt(M,b))})).apply(this,arguments)}class ro extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const D=new ro(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(D.idToken=b.idToken),b.accessToken&&(D.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(D.nonce=b.nonce),b.pendingToken&&(D.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(D.accessToken=b.oauthToken,D.secret=b.oauthTokenSecret):rt("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:S,signInMethod:R}=D,P=(0,oe._T)(D,["providerId","signInMethod"]);if(!S||!R)return null;const ue=new ro(S,R);return Object.assign(ue,P),ue}_getIdTokenResponse(b){return zi(b,this.buildRequest())}_linkToIdToken(b,D){const S=this.buildRequest();return S.idToken=D,zi(b,S)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,zi(b,D)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),b.postBody=(0,q.xO)(D)}return b}}function Ov(M,b){return Og.apply(this,arguments)}function Og(){return(Og=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:sendVerificationCode",Nt(M,b))})).apply(this,arguments)}function Pg(){return(Pg=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithPhoneNumber",Nt(M,b))})).apply(this,arguments)}function Fg(){return(Fg=(0,o.Z)(function*(M,b){const D=yield Mr(M,"POST","/v1/accounts:signInWithPhoneNumber",Nt(M,b));if(D.temporaryProof)throw Er(M,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const SD={USER_NOT_FOUND:"user-not-found"};function Lg(){return(Lg=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithPhoneNumber",Nt(M,Object.assign(Object.assign({},b),{operation:"REAUTH"})),SD)})).apply(this,arguments)}class vl extends Et{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,D){return new vl({verificationId:b,verificationCode:D})}static _fromTokenResponse(b,D){return new vl({phoneNumber:b,temporaryProof:D})}_getIdTokenResponse(b){return function(M,b){return Pg.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,D){return function(M,b){return Fg.apply(this,arguments)}(b,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function(M,b){return Lg.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:D,verificationId:S,verificationCode:R}=this.params;return b&&D?{temporaryProof:b,phoneNumber:D}:{sessionInfo:S,code:R}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:D,verificationCode:S,phoneNumber:R,temporaryProof:P}=b;return S||D||R||P?new vl({verificationId:D,verificationCode:S,phoneNumber:R,temporaryProof:P}):null}}class cd{constructor(b){var D,S,R,P,ue,Pe;const nt=(0,q.zd)((0,q.pd)(b)),Dt=null!==(D=nt.apiKey)&&void 0!==D?D:null,nn=null!==(S=nt.oobCode)&&void 0!==S?S:null,vn=function(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=nt.mode)&&void 0!==R?R:null);Ae(Dt&&nn&&vn,"argument-error"),this.apiKey=Dt,this.operation=vn,this.code=nn,this.continueUrl=null!==(P=nt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ue=nt.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Pe=nt.tenantId)&&void 0!==Pe?Pe:null}static parseLink(b){const D=function(M){const b=(0,q.zd)((0,q.pd)(M)).link,D=b?(0,q.zd)((0,q.pd)(b)).deep_link_id:null,S=(0,q.zd)((0,q.pd)(M)).deep_link_id;return(S?(0,q.zd)((0,q.pd)(S)).link:null)||S||D||b||M}(b);try{return new cd(D)}catch(S){return null}}}let Qf=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(D,S){return wi._fromEmailAndPassword(D,S)}static credentialWithLink(D,S){const R=cd.parseLink(S);return Ae(R,"argument-error"),wi._fromEmailAndCode(D,R.code,R.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class Ao{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class ko extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class ud extends ko{static credentialFromJSON(b){const D="string"==typeof b?JSON.parse(b):b;return Ae("providerId"in D&&"signInMethod"in D,"argument-error"),ro._fromParams(D)}credential(b){return this._credential(b)}_credential(b){return Ae(b.idToken||b.accessToken,"argument-error"),ro._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return ud.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return ud.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:R,pendingToken:P,nonce:ue,providerId:Pe}=b;if(!S&&!R&&!D&&!P||!Pe)return null;try{return new ud(Pe)._credential({idToken:D,accessToken:S,rawNonce:ue,pendingToken:P})}catch(nt){return null}}}let Bg=(()=>{class M extends ko{constructor(){super("facebook.com")}static credential(D){return ro._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return M.credentialFromTaggedObject(D)}static credentialFromError(D){return M.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return M.credential(D.oauthAccessToken)}catch(S){return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),Vg=(()=>{class M extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(D,S){return ro._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:S})}static credentialFromResult(D){return M.credentialFromTaggedObject(D)}static credentialFromError(D){return M.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:S,oauthAccessToken:R}=D;if(!S&&!R)return null;try{return M.credential(S,R)}catch(P){return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),Va=(()=>{class M extends ko{constructor(){super("github.com")}static credential(D){return ro._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return M.credentialFromTaggedObject(D)}static credentialFromError(D){return M.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return M.credential(D.oauthAccessToken)}catch(S){return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class Xt extends Et{constructor(b,D){super(b,b),this.pendingToken=D}_getIdTokenResponse(b){return zi(b,this.buildRequest())}_linkToIdToken(b,D){const S=this.buildRequest();return S.idToken=D,zi(b,S)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,zi(b,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:S,signInMethod:R,pendingToken:P}=D;return S&&R&&P&&S===R?new Xt(S,P):null}static _create(b,D){return new Xt(b,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Pv=(()=>{class M extends ko{constructor(){super("twitter.com")}static credential(D,S){return ro._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:S})}static credentialFromResult(D){return M.credentialFromTaggedObject(D)}static credentialFromError(D){return M.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:S,oauthTokenSecret:R}=D;if(!S||!R)return null;try{return M.credential(S,R)}catch(P){return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function ep(M,b){return kc.apply(this,arguments)}function kc(){return(kc=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signUp",Nt(M,b))})).apply(this,arguments)}class cs{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,D,S,R=!1){return(0,o.Z)(function*(){const P=yield Pt._fromIdTokenResponse(b,S,R),ue=tp(S);return new cs({user:P,providerId:ue,_tokenResponse:S,operationType:D})})()}static _forOperation(b,D,S){return(0,o.Z)(function*(){yield b._updateTokensIfNecessary(S,!0);const R=tp(S);return new cs({user:b,providerId:R,_tokenResponse:S,operationType:D})})()}}function tp(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function ID(M){return us.apply(this,arguments)}function us(){return(us=(0,o.Z)(function*(M){var b;const D=An(M);if(yield D._initializationPromise,null===(b=D.currentUser)||void 0===b?void 0:b.isAnonymous)return new cs({user:D.currentUser,providerId:null,operationType:"signIn"});const S=yield ep(D,{returnSecureToken:!0}),R=yield cs._fromIdTokenResponse(D,"signIn",S,!0);return yield D._updateCurrentUser(R.user),R})).apply(this,arguments)}class wl extends q.ZR{constructor(b,D,S,R){var P;super(D.code,D.message),this.operationType=S,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,wl.prototype),this.appName=b.name,this.code=D.code,this.tenantId=null!==(P=b.tenantId)&&void 0!==P?P:void 0,this.serverResponse=D.customData.serverResponse}static _fromErrorAndOperation(b,D,S,R){return new wl(b,D,S,R)}}function np(M,b,D,S){return("reauthenticate"===b?D._getReauthenticationResolver(M):D._getIdTokenResponse(M)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?wl._fromErrorAndOperation(M,P,b,S):P})}function Ic(M){return new Set(M.map(({providerId:b})=>b).filter(b=>!!b))}function Fv(M,b){return dd.apply(this,arguments)}function dd(){return(dd=(0,o.Z)(function*(M,b){const D=(0,q.m9)(M);yield Rc(!0,D,b);const{providerUserInfo:S}=yield lt(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[b]}),R=Ic(S||[]);return D.providerData=D.providerData.filter(P=>R.has(P.providerId)),R.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function ip(M,b){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(M,b,D=!1){const S=yield st(M,b._linkToIdToken(M.auth,yield M.getIdToken()),D);return cs._forOperation(M,"link",S)})).apply(this,arguments)}function Rc(M,b,D){return da.apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(M,b,D){yield Dn(b);const R=!1===M?"provider-already-linked":"no-such-provider";Ae(Ic(b.providerData).has(D)===M,b.auth,R)})).apply(this,arguments)}function Ug(M,b){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,o.Z)(function*(M,b,D=!1){const{auth:S}=M,R="reauthenticate";try{const P=yield st(M,np(S,R,b,M),D);Ae(P.idToken,S,"internal-error");const ue=yn(P.idToken);Ae(ue,S,"internal-error");const{sub:Pe}=ue;return Ae(M.uid===Pe,S,"user-mismatch"),cs._forOperation(M,R,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&rt(S,"user-mismatch"),P}})).apply(this,arguments)}function Hg(M,b){return rp.apply(this,arguments)}function rp(){return(rp=(0,o.Z)(function*(M,b,D=!1){const S="signIn",R=yield np(M,S,b),P=yield cs._fromIdTokenResponse(M,S,R);return D||(yield M._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ua(M,b){return qr.apply(this,arguments)}function qr(){return(qr=(0,o.Z)(function*(M,b){return Hg(An(M),b)})).apply(this,arguments)}function hd(M,b){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,o.Z)(function*(M,b){const D=(0,q.m9)(M);return yield Rc(!1,D,b.providerId),ip(D,b)})).apply(this,arguments)}function Ha(M,b){return xr.apply(this,arguments)}function xr(){return(xr=(0,o.Z)(function*(M,b){return Ug((0,q.m9)(M),b)})).apply(this,arguments)}function Lv(M,b){return fd.apply(this,arguments)}function fd(){return(fd=(0,o.Z)(function*(M,b){return Mr(M,"POST","/v1/accounts:signInWithCustomToken",Nt(M,b))})).apply(this,arguments)}function pd(M,b){return Io.apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(M,b){const D=An(M),S=yield Lv(D,{token:b,returnSecureToken:!0}),R=yield cs._fromIdTokenResponse(D,"signIn",S);return yield D._updateCurrentUser(R.user),R})).apply(this,arguments)}class Nc{constructor(b,D){this.factorId=b,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(b,D){return"phoneInfo"in D?Pc._fromServerResponse(b,D):rt(b,"internal-error")}}class Pc extends Nc{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,D){return new Pc(D)}}function Ct(M,b,D){var S;Ae((null===(S=D.url)||void 0===S?void 0:S.length)>0,M,"invalid-continue-uri"),Ae(void 0===D.dynamicLinkDomain||D.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),b.continueUrl=D.url,b.dynamicLinkDomain=D.dynamicLinkDomain,b.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(Ae(D.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),b.iosBundleId=D.iOS.bundleId),D.android&&(Ae(D.android.packageName.length>0,M,"missing-android-pkg-name"),b.androidInstallApp=D.android.installApp,b.androidMinimumVersionCode=D.android.minimumVersion,b.androidPackageName=D.android.packageName)}function Bv(M,b,D){return sp.apply(this,arguments)}function sp(){return(sp=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M),R={requestType:"PASSWORD_RESET",email:b};D&&Ct(S,R,D),yield Wf(S,R)})).apply(this,arguments)}function Vv(M,b,D){return op.apply(this,arguments)}function op(){return(op=(0,o.Z)(function*(M,b,D){yield la((0,q.m9)(M),{oobCode:b,newPassword:D})})).apply(this,arguments)}function Uv(M,b){return ap.apply(this,arguments)}function ap(){return(ap=(0,o.Z)(function*(M,b){yield Sr((0,q.m9)(M),{oobCode:b})})).apply(this,arguments)}function Cl(M,b){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.Z)(function*(M,b){const D=(0,q.m9)(M),S=yield la(D,{oobCode:b}),R=S.requestType;switch(Ae(R,D,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(S.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(S.mfaInfo,D,"internal-error");default:Ae(S.email,D,"internal-error")}let P=null;return S.mfaInfo&&(P=Nc._fromServerResponse(An(D),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:P},operation:R}})).apply(this,arguments)}function sn(M,b){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.Z)(function*(M,b){const{data:D}=yield Cl((0,q.m9)(M),b);return D.email})).apply(this,arguments)}function Xn(M,b,D){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,o.Z)(function*(M,b,D){const S=An(M),R=yield ep(S,{returnSecureToken:!0,email:b,password:D}),P=yield cs._fromIdTokenResponse(S,"signIn",R);return yield S._updateCurrentUser(P.user),P})).apply(this,arguments)}function Za(M,b,D){return Ua((0,q.m9)(M),Qf.credential(b,D))}function Ts(M,b,D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M),R={requestType:"EMAIL_SIGNIN",email:b};Ae(D.handleCodeInApp,S,"argument-error"),D&&Ct(S,R,D),yield bl(S,R)})).apply(this,arguments)}function md(M,b){const D=cd.parseLink(b);return"EMAIL_SIGNIN"===(null==D?void 0:D.operation)}function RD(M,b,D){return lp.apply(this,arguments)}function lp(){return(lp=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M),R=Qf.credentialWithLink(b,D||re());return Ae(R._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Ua(S,R)})).apply(this,arguments)}function gd(M,b){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:createAuthUri",Nt(M,b))})).apply(this,arguments)}function $i(M,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,o.Z)(function*(M,b){const S={identifier:b,continueUri:Ue()?re():"http://localhost"},{signinMethods:R}=yield gd((0,q.m9)(M),S);return R||[]})).apply(this,arguments)}function Hv(M,b){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,o.Z)(function*(M,b){const D=(0,q.m9)(M),R={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};b&&Ct(D.auth,R,b);const{email:P}=yield Rv(D.auth,R);P!==M.email&&(yield M.reload())})).apply(this,arguments)}function Us(M,b,D){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:b};D&&Ct(S.auth,P,D);const{email:ue}=yield Kn(S.auth,P);ue!==M.email&&(yield M.reload())})).apply(this,arguments)}function Yg(M,b){return _d.apply(this,arguments)}function _d(){return(_d=(0,o.Z)(function*(M,b){return Fn(M,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Zv(M,b){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,o.Z)(function*(M,{displayName:b,photoURL:D}){if(void 0===b&&void 0===D)return;const S=(0,q.m9)(M),P={idToken:yield S.getIdToken(),displayName:b,photoUrl:D,returnSecureToken:!0},ue=yield st(S,Yg(S.auth,P));S.displayName=ue.displayName||null,S.photoURL=ue.photoUrl||null;const Pe=S.providerData.find(({providerId:nt})=>"password"===nt);Pe&&(Pe.displayName=S.displayName,Pe.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ue)})).apply(this,arguments)}function cp(M,b){return Ml((0,q.m9)(M),b,null)}function Gg(M,b){return Ml((0,q.m9)(M),null,b)}function Ml(M,b,D){return yd.apply(this,arguments)}function yd(){return(yd=(0,o.Z)(function*(M,b,D){const{auth:S}=M,P={idToken:yield M.getIdToken(),returnSecureToken:!0};b&&(P.email=b),D&&(P.password=D);const ue=yield st(M,ad(S,P));yield M._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class Ro{constructor(b,D,S={}){this.isNewUser=b,this.providerId=D,this.profile=S}}class up extends Ro{constructor(b,D,S,R){super(b,D,S),this.username=R}}class Yv extends Ro{constructor(b,D){super(b,"facebook.com",D)}}class jg extends up{constructor(b,D){super(b,"github.com",D,"string"==typeof(null==D?void 0:D.login)?null==D?void 0:D.login:null)}}class Gv extends Ro{constructor(b,D){super(b,"google.com",D)}}class Vc extends up{constructor(b,D,S){super(b,"twitter.com",D,S)}}function qv(M){const{user:b,_tokenResponse:D}=M;return b.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function(M){var b,D;if(!M)return null;const{providerId:S}=M,R=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},P=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!S&&(null==M?void 0:M.idToken)){const ue=null===(D=null===(b=yn(M.idToken))||void 0===b?void 0:b.firebase)||void 0===D?void 0:D.sign_in_provider;if(ue)return new Ro(P,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!S)return null;switch(S){case"facebook.com":return new Yv(P,R);case"github.com":return new jg(P,R);case"google.com":return new Gv(P,R);case"twitter.com":return new Vc(P,R,M.screenName||null);case"custom":case"anonymous":return new Ro(P,null);default:return new Ro(P,S,R)}}(D)}class Ya{constructor(b,D){this.type=b,this.credential=D}static _fromIdtoken(b){return new Ya("enroll",b)}static _fromMfaPendingCredential(b){return new Ya("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var D,S;if(null==b?void 0:b.multiFactorSession){if(null===(D=b.multiFactorSession)||void 0===D?void 0:D.pendingCredential)return Ya._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null===(S=b.multiFactorSession)||void 0===S?void 0:S.idToken)return Ya._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Oo{constructor(b,D,S){this.session=b,this.hints=D,this.signInResolver=S}static _fromError(b,D){const S=An(b),R=(D.serverResponse.mfaInfo||[]).map(ue=>Nc._fromServerResponse(S,ue));Ae(D.serverResponse.mfaPendingCredential,S,"internal-error");const P=Ya._fromMfaPendingCredential(D.serverResponse.mfaPendingCredential);return new Oo(P,R,function(){var ue=(0,o.Z)(function*(Pe){const nt=yield Pe._process(S,P);delete D.serverResponse.mfaInfo,delete D.serverResponse.mfaPendingCredential;const Dt=Object.assign(Object.assign({},D.serverResponse),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(D.operationType){case"signIn":const nn=yield cs._fromIdTokenResponse(S,D.operationType,Dt);return yield S._updateCurrentUser(nn.user),nn;case"reauthenticate":return Ae(D.user,S,"internal-error"),cs._forOperation(D.user,D.operationType,Dt);default:rt(S,"internal-error")}});return function(Pe){return ue.apply(this,arguments)}}())}resolveSignIn(b){var D=this;return(0,o.Z)(function*(){return D.signInResolver(b)})()}}function bd(M,b){var D;const S=(0,q.m9)(M),R=b;return Ae(b.operationType,S,"argument-error"),Ae(null===(D=R.serverResponse)||void 0===D?void 0:D.mfaPendingCredential,S,"argument-error"),Oo._fromError(S,R)}function Sl(M,b){return Fn(M,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:M.tenantId},b))}class wd{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(S=>Nc._fromServerResponse(b.auth,S)))})}static _fromUser(b){return new wd(b)}getSession(){var b=this;return(0,o.Z)(function*(){return Ya._fromIdtoken(yield b.user.getIdToken())})()}enroll(b,D){var S=this;return(0,o.Z)(function*(){const R=b,P=yield S.getSession(),ue=yield st(S.user,R._process(S.user.auth,P,D));return yield S.user._updateTokensIfNecessary(ue),S.user.reload()})()}unenroll(b){var D=this;return(0,o.Z)(function*(){const S="string"==typeof b?b:b.uid,R=yield D.user.getIdToken(),P=yield st(D.user,function(M,b){return Fn(M,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:M.tenantId},b))}(D.user.auth,{idToken:R,mfaEnrollmentId:S}));D.enrolledFactors=D.enrolledFactors.filter(({uid:ue})=>ue!==S),yield D.user._updateTokensIfNecessary(P);try{yield D.user.reload()}catch(ue){if("auth/user-token-expired"!==ue.code)throw ue}})()}}const fp=new WeakMap;function ha(M){const b=(0,q.m9)(M);return fp.has(b)||fp.set(b,wd._fromUser(b)),fp.get(b)}const Ga="__sak";class zv{constructor(b,D){this.storage=b,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(Ga,"1"),this.storage.removeItem(Ga),Promise.resolve(!0)):Promise.resolve(!1)}catch(b){return Promise.resolve(!1)}}_set(b,D){return this.storage.setItem(b,JSON.stringify(D)),Promise.resolve()}_get(b){const D=this.storage.getItem(b);return Promise.resolve(D?JSON.parse(D):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}}const Wv=(()=>{class M extends zv{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const M=(0,q.z$)();return Se(M)||On(M)}()&&function(){try{return!(!window||window===window.top)}catch(M){return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(D){for(const S of Object.keys(this.listeners)){const R=this.storage.getItem(S),P=this.localCache[S];R!==P&&D(S,P,R)}}onStorageEvent(D,S=!1){if(!D.key)return void this.forAllChangedKeys((Pe,nt,Dt)=>{this.notifyListeners(Pe,Dt)});const R=D.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(R);if(D.newValue!==Pe)null!==D.newValue?this.storage.setItem(R,D.newValue):this.storage.removeItem(R);else if(this.localCache[R]===D.newValue&&!S)return}const P=()=>{const Pe=this.storage.getItem(R);!S&&this.localCache[R]===Pe||this.notifyListeners(R,Pe)},ue=this.storage.getItem(R);(0,q.w1)()&&10===document.documentMode&&ue!==D.newValue&&D.newValue!==D.oldValue?setTimeout(P,10):P()}notifyListeners(D,S){this.localCache[D]=S;const R=this.listeners[D];if(R)for(const P of Array.from(R))P(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,S,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:S,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(S)}_removeListener(D,S){this.listeners[D]&&(this.listeners[D].delete(S),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,S){var R=()=>super._set,P=this;return(0,o.Z)(function*(){yield R().call(P,D,S),P.localCache[D]=JSON.stringify(S)})()}_get(D){var S=()=>super._get,R=this;return(0,o.Z)(function*(){const P=yield S().call(R,D);return R.localCache[D]=JSON.stringify(P),P})()}_remove(D){var S=()=>super._remove,R=this;return(0,o.Z)(function*(){yield S().call(R,D),delete R.localCache[D]})()}}return M.type="LOCAL",M})(),Jv=(()=>{class M extends zv{constructor(){super(window.sessionStorage,"SESSION")}_addListener(D,S){}_removeListener(D,S){}}return M.type="SESSION",M})();let $g=(()=>{class M{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const S=this.receivers.find(P=>P.isListeningto(D));if(S)return S;const R=new M(D);return this.receivers.push(R),R}isListeningto(D){return this.eventTarget===D}handleEvent(D){var S=this;return(0,o.Z)(function*(){const R=D,{eventId:P,eventType:ue,data:Pe}=R.data,nt=S.handlersMap[ue];if(!(null==nt?void 0:nt.size))return;R.ports[0].postMessage({status:"ack",eventId:P,eventType:ue});const Dt=Array.from(nt).map(function(){var vn=(0,o.Z)(function*(Fo){return Fo(R.origin,Pe)});return function(Fo){return vn.apply(this,arguments)}}()),nn=yield function(M){return Promise.all(M.map(function(){var b=(0,o.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(S){return{fulfilled:!1,reason:S}}});return function(D){return b.apply(this,arguments)}}()))}(Dt);R.ports[0].postMessage({status:"done",eventId:P,eventType:ue,response:nn})})()}_subscribe(D,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(S)}_unsubscribe(D,S){this.handlersMap[D]&&S&&this.handlersMap[D].delete(S),(!S||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function jr(M="",b=10){let D="";for(let S=0;S<b;S++)D+=Math.floor(10*Math.random());return M+D}class Cd{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,D,S=50){var R=this;return(0,o.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ue,Pe;return new Promise((nt,Dt)=>{const nn=jr("",20);P.port1.start();const vn=setTimeout(()=>{Dt(new Error("unsupported_event"))},S);Pe={messageChannel:P,onMessage(Fo){const _a=Fo;if(_a.data.eventId===nn)switch(_a.data.status){case"ack":clearTimeout(vn),ue=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),nt(_a.data.response);break;default:clearTimeout(vn),clearTimeout(ue),Dt(new Error("invalid_response"))}}},R.handlers.add(Pe),P.port1.addEventListener("message",Pe.onMessage),R.target.postMessage({eventType:b,eventId:nn,data:D},[P.port2])}).finally(()=>{Pe&&R.removeMessageHandler(Pe)})})()}}function Di(){return window}function No(){return void 0!==Di().WorkerGlobalScope&&"function"==typeof Di().importScripts}function qa(){return(qa=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(M){return null}})).apply(this,arguments)}const FD="firebaseLocalStorageDb",Md="firebaseLocalStorage",Qv="fbase_key";class Ed{constructor(b){this.request=b}toPromise(){return new Promise((b,D)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function fa(M,b){return M.transaction([Md],b?"readwrite":"readonly").objectStore(Md)}function pe(){const M=indexedDB.open(FD,1);return new Promise((b,D)=>{M.addEventListener("error",()=>{D(M.error)}),M.addEventListener("upgradeneeded",()=>{const S=M.result;try{S.createObjectStore(Md,{keyPath:Qv})}catch(R){D(R)}}),M.addEventListener("success",(0,o.Z)(function*(){const S=M.result;S.objectStoreNames.contains(Md)?b(S):(S.close(),yield function(){const M=indexedDB.deleteDatabase(FD);return new Ed(M).toPromise()}(),b(yield pe()))}))})}function kt(M,b,D){return ja.apply(this,arguments)}function ja(){return(ja=(0,o.Z)(function*(M,b,D){const S=fa(M,!0).put({[Qv]:b,value:D});return new Ed(S).toPromise()})).apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(M,b){const D=fa(M,!1).get(b),S=yield new Ed(D).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Kg(M,b){const D=fa(M,!0).delete(b);return new Ed(D).toPromise()}const Wi=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,o.Z)(function*(){return D.db||(D.db=yield pe()),D.db})()}_withRetries(D){var S=this;return(0,o.Z)(function*(){let R=0;for(;;)try{const P=yield S._openDb();return yield D(P)}catch(P){if(R++>3)throw P;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,o.Z)(function*(){return No()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,o.Z)(function*(){D.receiver=$g._getInstance(No()?self:null),D.receiver._subscribe("keyChanged",function(){var S=(0,o.Z)(function*(R,P){return{keyProcessed:(yield D._poll()).includes(P.key)}});return function(R,P){return S.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var S=(0,o.Z)(function*(R,P){return["keyChanged"]});return function(R,P){return S.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,o.Z)(function*(){var S,R;if(D.activeServiceWorker=yield function(){return qa.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new Cd(D.activeServiceWorker);const P=yield D.sender._send("ping",{},800);!P||(null===(S=P[0])||void 0===S?void 0:S.fulfilled)&&(null===(R=P[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var S=this;return(0,o.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var M;return(null===(M=null==navigator?void 0:navigator.serviceWorker)||void 0===M?void 0:M.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:D},S.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const D=yield pe();return yield kt(D,Ga,"1"),yield Kg(D,Ga),!0}catch(D){}return!1})()}_withPendingWrite(D){var S=this;return(0,o.Z)(function*(){S.pendingWrites++;try{yield D()}finally{S.pendingWrites--}})()}_set(D,S){var R=this;return(0,o.Z)(function*(){return R._withPendingWrite((0,o.Z)(function*(){return yield R._withRetries(P=>kt(P,D,S)),R.localCache[D]=S,R.notifyServiceWorker(D)}))})()}_get(D){var S=this;return(0,o.Z)(function*(){const R=yield S._withRetries(P=>function(M,b){return qe.apply(this,arguments)}(P,D));return S.localCache[D]=R,R})()}_remove(D){var S=this;return(0,o.Z)(function*(){return S._withPendingWrite((0,o.Z)(function*(){return yield S._withRetries(R=>Kg(R,D)),delete S.localCache[D],S.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,o.Z)(function*(){const S=yield D._withRetries(ue=>{const Pe=fa(ue,!1).getAll();return new Ed(Pe).toPromise()});if(!S)return[];if(0!==D.pendingWrites)return[];const R=[],P=new Set;for(const{fbase_key:ue,value:Pe}of S)P.add(ue),JSON.stringify(D.localCache[ue])!==JSON.stringify(Pe)&&(D.notifyListeners(ue,Pe),R.push(ue));for(const ue of Object.keys(D.localCache))D.localCache[ue]&&!P.has(ue)&&(D.notifyListeners(ue,null),R.push(ue));return R})()}notifyListeners(D,S){this.localCache[D]=S;const R=this.listeners[D];if(R)for(const P of Array.from(R))P(S)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(S)}_removeListener(D,S){this.listeners[D]&&(this.listeners[D].delete(S),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})();function xd(M,b){return Fn(M,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:M.tenantId},b))}function gp(){return(gp=(0,o.Z)(function*(M){return(yield Fn(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kr(M){return new Promise((b,D)=>{const S=document.createElement("script");S.setAttribute("src",M),S.onload=b,S.onerror=R=>{const P=mt("internal-error");P.customData=R,D(P)},S.type="text/javascript",S.charset="UTF-8",function(){var M,b;return null!==(b=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==b?b:document}().appendChild(S)})}function Ji(M){return`__${M}${Math.floor(1e6*Math.random())}`}const hs=1e12;class so{constructor(b){this.auth=b,this.counter=hs,this._widgets=new Map}render(b,D){const S=this.counter;return this._widgets.set(S,new fs(b,this.auth.name,D||{})),this.counter++,S}reset(b){var D;const S=b||hs;null===(D=this._widgets.get(S))||void 0===D||D.delete(),this._widgets.delete(S)}getResponse(b){var D;return(null===(D=this._widgets.get(b||hs))||void 0===D?void 0:D.getResponse())||""}execute(b){var D=this;return(0,o.Z)(function*(){var S;return null===(S=D._widgets.get(b||hs))||void 0===S||S.execute(),""})()}}class fs{constructor(b,D,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof b?document.getElementById(b):b;Ae(R,"argument-error",{appName:D}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(M){const b=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)b.push(D.charAt(Math.floor(Math.random()*D.length)));return b.join("")}();const{callback:b,"expired-callback":D}=this.params;if(b)try{b(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ms=Ji("rcb"),lr=new at(3e4,6e4);class gk{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Di().grecaptcha}load(b,D=""){return Ae((M=D).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M),b,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(Di().grecaptcha):new Promise((S,R)=>{const P=Di().setTimeout(()=>{R(mt(b,"network-request-failed"))},lr.get());Di()[Ms]=()=>{Di().clearTimeout(P),delete Di()[Ms];const Pe=Di().grecaptcha;if(!Pe)return void R(mt(b,"internal-error"));const nt=Pe.render;Pe.render=(Dt,nn)=>{const vn=nt(Dt,nn);return this.counter++,vn},this.hostLanguage=D,S(Pe)},kr(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Ms,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(P),R(mt(b,"internal-error"))})});var M}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){return!!Di().grecaptcha&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class BD{load(b){return(0,o.Z)(function*(){return new so(b)})()}clearedOneInstance(){}}const e_="recaptcha",fi={theme:"light",type:"image"};class VD{constructor(b,D=Object.assign({},fi),S){this.parameters=D,this.type=e_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(S),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof b?document.getElementById(b):b;Ae(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BD:new gk,this.validateStartingState()}verify(){var b=this;return(0,o.Z)(function*(){b.assertNotDestroyed();const D=yield b.render(),S=b.getAssertedRecaptcha();return S.getResponse(D)||new Promise(P=>{const ue=Pe=>{!Pe||(b.tokenChangeListeners.delete(ue),P(Pe))};b.tokenChangeListeners.add(ue),b.isInvisible&&S.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return D=>{if(this.tokenChangeListeners.forEach(S=>S(D)),"function"==typeof b)b(D);else if("string"==typeof b){const S=Di()[b];"function"==typeof S&&S(D)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,o.Z)(function*(){if(yield b.init(),!b.widgetId){let D=b.container;if(!b.isInvisible){const S=document.createElement("div");D.appendChild(S),D=S}b.widgetId=b.getAssertedRecaptcha().render(D,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,o.Z)(function*(){Ae(Ue()&&!No(),b.auth,"internal-error"),yield function(){let M=null;return new Promise(b=>{"complete"!==document.readyState?(M=()=>b(),window.addEventListener("load",M)):b()}).catch(b=>{throw M&&window.removeEventListener("load",M),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const D=yield function(M){return gp.apply(this,arguments)}(b.auth);Ae(D,b.auth,"internal-error"),b.parameters.sitekey=D})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class t0{constructor(b,D){this.verificationId=b,this.onConfirmation=D}confirm(b){const D=vl._fromVerification(this.verificationId,b);return this.onConfirmation(D)}}function _k(M,b,D){return n0.apply(this,arguments)}function n0(){return(n0=(0,o.Z)(function*(M,b,D){const S=An(M),R=yield t_(S,b,(0,q.m9)(D));return new t0(R,P=>Ua(S,P))})).apply(this,arguments)}function yk(M,b,D){return r0.apply(this,arguments)}function r0(){return(r0=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M);yield Rc(!1,S,"phone");const R=yield t_(S.auth,b,(0,q.m9)(D));return new t0(R,P=>hd(S,P))})).apply(this,arguments)}function UD(M,b,D){return s0.apply(this,arguments)}function s0(){return(s0=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M),R=yield t_(S.auth,b,(0,q.m9)(D));return new t0(R,P=>Ha(S,P))})).apply(this,arguments)}function t_(M,b,D){return o0.apply(this,arguments)}function o0(){return(o0=(0,o.Z)(function*(M,b,D){var S;const R=yield D.verify();try{let P;if(Ae("string"==typeof R,M,"argument-error"),Ae(D.type===e_,M,"argument-error"),P="string"==typeof b?{phoneNumber:b}:b,"session"in P){const ue=P.session;if("phoneNumber"in P)return Ae("enroll"===ue.type,M,"internal-error"),(yield Sl(M,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ae("signin"===ue.type,M,"internal-error");const Pe=(null===(S=P.multiFactorHint)||void 0===S?void 0:S.uid)||P.multiFactorUid;return Ae(Pe,M,"missing-multi-factor-info"),(yield xd(M,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield Ov(M,{phoneNumber:P.phoneNumber,recaptchaToken:R});return ue}}finally{D._reset()}})).apply(this,arguments)}function Ad(M,b){return kd.apply(this,arguments)}function kd(){return(kd=(0,o.Z)(function*(M,b){yield ip((0,q.m9)(M),b)})).apply(this,arguments)}let Qi=(()=>{class M{constructor(D){this.providerId=M.PROVIDER_ID,this.auth=An(D)}verifyPhoneNumber(D,S){return t_(this.auth,D,(0,q.m9)(S))}static credential(D,S){return vl._fromVerification(D,S)}static credentialFromResult(D){return M.credentialFromTaggedObject(D)}static credentialFromError(D){return M.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:S,temporaryProof:R}=D;return S&&R?vl._fromTokenResponse(S,R):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function Po(M,b){return b?ye(b):(Ae(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class Yc extends Et{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return zi(b,this._buildIdpRequest())}_linkToIdToken(b,D){return zi(b,this._buildIdpRequest(D))}_getReauthenticationResolver(b){return zi(b,this._buildIdpRequest())}_buildIdpRequest(b){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(D.idToken=b),D}}function bk(M){return Hg(M.auth,new Yc(M),M.bypassAuthState)}function HD(M){const{auth:b,user:D}=M;return Ae(D,b,"internal-error"),Ug(D,new Yc(M),M.bypassAuthState)}function Hs(M){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.Z)(function*(M){const{auth:b,user:D}=M;return Ae(D,b,"internal-error"),ip(D,new Yc(M),M.bypassAuthState)})).apply(this,arguments)}class Id{constructor(b,D,S,R,P=!1){this.auth=b,this.resolver=S,this.user=R,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var b=this;return new Promise(function(){var D=(0,o.Z)(function*(S,R){b.pendingPromise={resolve:S,reject:R};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(P){b.reject(P)}});return function(S,R){return D.apply(this,arguments)}}())}onAuthEvent(b){var D=this;return(0,o.Z)(function*(){const{urlResponse:S,sessionId:R,postBody:P,tenantId:ue,error:Pe,type:nt}=b;if(Pe)return void D.reject(Pe);const Dt={auth:D.auth,requestUri:S,sessionId:R,tenantId:ue||void 0,postBody:P||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(nt)(Dt))}catch(nn){D.reject(nn)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return bk;case"linkViaPopup":case"linkViaRedirect":return Hs;case"reauthViaPopup":case"reauthViaRedirect":return HD;default:rt(this.auth,"internal-error")}}resolve(b){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kl=new at(2e3,1e4);function za(M,b,D){return _p.apply(this,arguments)}function _p(){return(_p=(0,o.Z)(function*(M,b,D){const S=An(M);Ut(M,b,Ao);const R=Po(S,D);return new yp(S,"signInViaPopup",b,R).executeNotNull()})).apply(this,arguments)}function ZD(M,b,D){return n_.apply(this,arguments)}function n_(){return(n_=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M);Ut(S.auth,b,Ao);const R=Po(S.auth,D);return new yp(S.auth,"reauthViaPopup",b,R,S).executeNotNull()})).apply(this,arguments)}function vk(M,b,D){return a0.apply(this,arguments)}function a0(){return(a0=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M);Ut(S.auth,b,Ao);const R=Po(S.auth,D);return new yp(S.auth,"linkViaPopup",b,R,S).executeNotNull()})).apply(this,arguments)}let yp=(()=>{class M extends Id{constructor(D,S,R,P,ue){super(D,S,P,ue),this.provider=R,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var D=this;return(0,o.Z)(function*(){const S=yield D.execute();return Ae(S,D.auth,"internal-error"),S})()}onExecution(){var D=this;return(0,o.Z)(function*(){he(1===D.filter.length,"Popup operations only handle one event");const S=jr();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],S),D.authWindow.associatedEvent=S,D.resolver._originValidation(D.auth).catch(R=>{D.reject(R)}),D.resolver._isIframeWebStorageSupported(D.auth,R=>{R||D.reject(mt(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const D=()=>{var S,R;this.pollId=(null===(R=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,kl.get())};D()}}return M.currentPopupAction=null,M})();const Rd=new Map;class Gc extends Id{constructor(b,D,S=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,S),this.eventId=null}execute(){var b=()=>super.execute,D=this;return(0,o.Z)(function*(){let S=Rd.get(D.auth._key());if(!S){try{const P=(yield function(M,b){return bp.apply(this,arguments)}(D.resolver,D.auth))?yield b().call(D):null;S=()=>Promise.resolve(P)}catch(R){S=()=>Promise.reject(R)}Rd.set(D.auth._key(),S)}return S()})()}onAuthEvent(b){var D=()=>super.onAuthEvent,S=this;return(0,o.Z)(function*(){if("signInViaRedirect"===b.type)return D().call(S,b);if("unknown"!==b.type){if(b.eventId){const R=yield S.auth._redirectUserForId(b.eventId);if(R)return S.user=R,D().call(S,b);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function bp(){return(bp=(0,o.Z)(function*(M,b){const D=s_(b),S="true"===(yield vp(M)._get(D));return yield vp(M)._remove(D),S})).apply(this,arguments)}function i_(M,b){return r_.apply(this,arguments)}function r_(){return(r_=(0,o.Z)(function*(M,b){return vp(M)._set(s_(b),"true")})).apply(this,arguments)}function YD(){Rd.clear()}function vp(M){return ye(M._redirectPersistence)}function s_(M){return Qn("pendingRedirect",M.config.apiKey,M.name)}function Od(M,b,D){return function(M,b,D){return qc.apply(this,arguments)}(M,b,D)}function qc(){return(qc=(0,o.Z)(function*(M,b,D){const S=An(M);Ut(M,b,Ao);const R=Po(S,D);return yield i_(R,S),R._openRedirect(S,b,"signInViaRedirect")})).apply(this,arguments)}function Ck(M,b,D){return function(M,b,D){return Pd.apply(this,arguments)}(M,b,D)}function Pd(){return(Pd=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M);Ut(S.auth,b,Ao);const R=Po(S.auth,D);yield i_(R,S.auth);const P=yield zc(S);return R._openRedirect(S.auth,b,"reauthViaRedirect",P)})).apply(this,arguments)}function jc(M,b,D){return function(M,b,D){return a_.apply(this,arguments)}(M,b,D)}function a_(){return(a_=(0,o.Z)(function*(M,b,D){const S=(0,q.m9)(M);Ut(S.auth,b,Ao);const R=Po(S.auth,D);yield Rc(!1,S,b.providerId),yield i_(R,S.auth);const P=yield zc(S);return R._openRedirect(S.auth,b,"linkViaRedirect",P)})).apply(this,arguments)}function qD(M,b){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,o.Z)(function*(M,b){return yield An(M)._initializationPromise,l0(M,b,!1)})).apply(this,arguments)}function l0(M,b){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,o.Z)(function*(M,b,D=!1){const S=An(M),R=Po(S,b),ue=yield new Gc(S,R,D).execute();return ue&&!D&&(delete ue.user._redirectEventId,yield S._persistUserIfCurrent(ue.user),yield S._setRedirectUser(null,b)),ue})).apply(this,arguments)}function zc(M){return $a.apply(this,arguments)}function $a(){return($a=(0,o.Z)(function*(M){const b=jr(`${M.uid}:::`);return M._redirectEventId=b,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),b})).apply(this,arguments)}class pi{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let D=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(b,S)&&(D=!0,this.sendToConsumer(b,S),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c0(M);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=b,D=!0)),D}sendToConsumer(b,D){var S;if(b.error&&!c0(b)){const R=(null===(S=b.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";D.onError(mt(this.auth,R))}else D.onAuthEvent(b)}isEventForConsumer(b,D){const S=null===D.eventId||!!b.eventId&&b.eventId===D.eventId;return D.filter.includes(b.type)&&S}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(b))}saveEventToCache(b){this.cachedEventUids.add(l_(b)),this.lastProcessedEventTime=Date.now()}}function l_(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(b=>b).join("-")}function c0({type:M,error:b}){return"unknown"===M&&"auth/no-auth-event"===(null==b?void 0:b.code)}function $c(M){return c_.apply(this,arguments)}function c_(){return(c_=(0,o.Z)(function*(M,b={}){return Fn(M,"GET","/v1/projects",b)})).apply(this,arguments)}const u0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d0=/^https?/;function Wa(){return(Wa=(0,o.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:b}=yield $c(M);for(const D of b)try{if(pa(D))return}catch(S){}rt(M,"unauthorized-domain")})).apply(this,arguments)}function pa(M){const b=re(),{protocol:D,hostname:S}=new URL(b);if(M.startsWith("chrome-extension://")){const ue=new URL(M);return""===ue.hostname&&""===S?"chrome-extension:"===D&&M.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===D&&ue.hostname===S}if(!d0.test(D))return!1;if(u0.test(M))return S===M;const R=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(S)}const Bd=new at(3e4,6e4);function ma(){const M=Di().___jsl;if(null==M?void 0:M.H)for(const b of Object.keys(M.H))if(M.H[b].r=M.H[b].r||[],M.H[b].L=M.H[b].L||[],M.H[b].r=[...M.H[b].L],M.CP)for(let D=0;D<M.CP.length;D++)M.CP[D]=null}let Vd=null;function u_(M){return Vd=Vd||function(M){return new Promise((b,D)=>{var S,R,P;function ue(){ma(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{ma(),D(mt(M,"network-request-failed"))},timeout:Bd.get()})}if(null===(R=null===(S=Di().gapi)||void 0===S?void 0:S.iframes)||void 0===R?void 0:R.Iframe)b(gapi.iframes.getContext());else{if(!(null===(P=Di().gapi)||void 0===P?void 0:P.load)){const Pe=Ji("iframefcb");return Di()[Pe]=()=>{gapi.load?ue():D(mt(M,"network-request-failed"))},kr(`https://apis.google.com/js/api.js?onload=${Pe}`)}ue()}}).catch(b=>{throw Vd=null,b})}(M),Vd}const wp=new at(5e3,15e3),WD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Wc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ud(M){const b=M.config;Ae(b.authDomain,M,"auth-domain-config-required");const D=b.emulator?yt(b,"emulator/auth/iframe"):`https://${M.config.authDomain}/__/auth/iframe`,S={apiKey:b.apiKey,appName:M.name,v:U.SDK_VERSION},R=Wc.get(M.config.apiHost);R&&(S.eid=R);const P=M._getFrameworks();return P.length&&(S.fw=P.join(",")),`${D}?${(0,q.xO)(S).slice(1)}`}function f0(){return(f0=(0,o.Z)(function*(M){const b=yield u_(M),D=Di().gapi;return Ae(D,M,"internal-error"),b.open({where:document.body,url:Ud(M),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WD,dontclear:!0},S=>new Promise(function(){var R=(0,o.Z)(function*(P,ue){yield S.restyle({setHideOnLeave:!1});const Pe=mt(M,"network-request-failed"),nt=Di().setTimeout(()=>{ue(Pe)},wp.get());function Dt(){Di().clearTimeout(nt),P(S)}S.ping(Dt).then(Dt,()=>{ue(Pe)})});return function(P,ue){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const p0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class m0{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(b){}}}function h_(M,b,D,S,R,P){Ae(M.config.authDomain,M,"auth-domain-config-required"),Ae(M.config.apiKey,M,"invalid-api-key");const ue={apiKey:M.config.apiKey,appName:M.name,authType:D,redirectUrl:S,v:U.SDK_VERSION,eventId:R};if(b instanceof Ao){b.setDefaultLanguage(M.languageCode),ue.providerId=b.providerId||"",(0,q.xb)(b.getCustomParameters())||(ue.customParameters=JSON.stringify(b.getCustomParameters()));for(const[nt,Dt]of Object.entries(P||{}))ue[nt]=Dt}if(b instanceof ko){const nt=b.getScopes().filter(Dt=>""!==Dt);nt.length>0&&(ue.scopes=nt.join(","))}M.tenantId&&(ue.tid=M.tenantId);const Pe=ue;for(const nt of Object.keys(Pe))void 0===Pe[nt]&&delete Pe[nt];return`${function({config:M}){return M.emulator?yt(M,"emulator/auth/handler"):`https://${M.authDomain}/__/auth/handler`}(M)}?${(0,q.xO)(Pe).slice(1)}`}const Qc="webStorageSupport",Gn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jv,this._completeRedirectFn=l0}_openPopup(b,D,S,R){var P=this;return(0,o.Z)(function*(){var ue;he(null===(ue=P.eventManagers[b._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Pe=h_(b,D,S,re(),R);return function(M,b,D,S=500,R=600){const P=Math.max((window.screen.availHeight-R)/2,0).toString(),ue=Math.max((window.screen.availWidth-S)/2,0).toString();let Pe="";const nt=Object.assign(Object.assign({},p0),{width:S.toString(),height:R.toString(),top:P,left:ue}),Dt=(0,q.z$)().toLowerCase();D&&(Pe=ze(Dt)?"_blank":D),X(Dt)&&(b=b||"http://localhost",nt.scrollbars="yes");const nn=Object.entries(nt).reduce((Fo,[_a,ai])=>`${Fo}${_a}=${ai},`,"");if(function(M=(0,q.z$)()){var b;return On(M)&&!!(null===(b=window.navigator)||void 0===b?void 0:b.standalone)}(Dt)&&"_self"!==Pe)return function(M,b){const D=document.createElement("a");D.href=M,D.target=b;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(S)}(b||"",Pe),new m0(null);const vn=window.open(b||"",Pe,nn);Ae(vn,M,"popup-blocked");try{vn.focus()}catch(Fo){}return new m0(vn)}(b,Pe,jr())})()}_openRedirect(b,D,S,R){var P=this;return(0,o.Z)(function*(){return yield P._originValidation(b),M=h_(b,D,S,re(),R),Di().location.href=M,new Promise(()=>{});var M})()}_initialize(b){const D=b._key();if(this.eventManagers[D]){const{manager:R,promise:P}=this.eventManagers[D];return R?Promise.resolve(R):(he(P,"If manager is not set, promise should be"),P)}const S=this.initAndGetManager(b);return this.eventManagers[D]={promise:S},S}initAndGetManager(b){var D=this;return(0,o.Z)(function*(){const S=yield function(M){return f0.apply(this,arguments)}(b),R=new pi(b);return S.register("authEvent",P=>(Ae(null==P?void 0:P.authEvent,b,"invalid-auth-event"),{status:R.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[b._key()]={manager:R},D.iframes[b._key()]=S,R})()}_isIframeWebStorageSupported(b,D){this.iframes[b._key()].send(Qc,{type:Qc},R=>{var P;const ue=null===(P=null==R?void 0:R[0])||void 0===P?void 0:P[Qc];void 0!==ue&&D(!!ue),rt(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const D=b._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function(M){return Wa.apply(this,arguments)}(b)),this.originValidationPromises[D]}get _shouldInitProactively(){return Gi()||Se()||On()}};class Ti extends class{constructor(b){this.factorId=b}_process(b,D,S){switch(D.type){case"enroll":return this._finalizeEnroll(b,D.credential,S);case"signin":return this._finalizeSignIn(b,D.credential);default:return St("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Ti(b)}_finalizeEnroll(b,D,S){return function(M,b){return Fn(M,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:M.tenantId},b))}(b,{idToken:D,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,D){return function(M,b){return Fn(M,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:M.tenantId},b))}(b,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ps{constructor(){}static assertion(b){return Ti._fromCredential(b)}}var M;class _0{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var D=this;return(0,o.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const D=this.auth.onIdTokenChanged(S=>{var R;b((null===(R=S)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,D),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const D=this.internalListeners.get(b);!D||(this.internalListeners.delete(b),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}M="Browser",(0,U._registerComponent)(new te.wA("auth",(b,{options:D})=>{const S=b.getProvider("app").getImmediate(),{apiKey:R,authDomain:P}=S.options;return(ue=>{Ae(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),Ae(!(null==P?void 0:P.includes(":")),"argument-error",{appName:ue.name});const Pe={apiKey:R,authDomain:P,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zt(M)},nt=new Ln(ue,Pe);return function(M,b){const D=(null==b?void 0:b.persistence)||[],S=(Array.isArray(D)?D:[D]).map(ye);(null==b?void 0:b.errorMap)&&M._updateErrorMap(b.errorMap),M._initializeWithPersistence(S,null==b?void 0:b.popupRedirectResolver)}(nt,D),nt})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,D,S)=>{b.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new te.wA("auth-internal",b=>{const D=An(b.getProvider("auth").getImmediate());return new _0(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)("@firebase/auth","0.17.2",void 0)},6034:(Ke,Me,L)=>{"use strict";L.d(Me,{wA:()=>U,H0:()=>W});var o=L(4762),q=L(4685),U=function(){function z(V,Q,H){this.name=V,this.instanceFactory=Q,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},z.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},z.prototype.setServiceProps=function(V){return this.serviceProps=V,this},z.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},z}(),oe="[DEFAULT]",de=function(){function z(V,Q){this.name=V,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(V){var Q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Q)){var H=new q.BH;if(this.instancesDeferred.set(Q,H),this.isInitialized(Q)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:Q});K&&H.resolve(K)}catch(ie){}}return this.instancesDeferred.get(Q).promise},z.prototype.getImmediate=function(V){var Q,H=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),K=null!==(Q=null==V?void 0:V.optional)&&void 0!==Q&&Q;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(ie){if(K)return null;throw ie}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(V){var Q,H;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(rt){}try{for(var K=(0,o.XA)(this.instancesDeferred.entries()),ie=K.next();!ie.done;ie=K.next()){var De=(0,o.CR)(ie.value,2),Oe=De[1],we=this.normalizeInstanceIdentifier(De[0]);try{var Ie=this.getOrInitializeService({instanceIdentifier:we});Oe.resolve(Ie)}catch(rt){}}}catch(rt){Q={error:rt}}finally{try{ie&&!ie.done&&(H=K.return)&&H.call(K)}finally{if(Q)throw Q.error}}}},z.prototype.clearInstance=function(V){void 0===V&&(V=oe),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},z.prototype.delete=function(){return(0,o.mG)(this,void 0,void 0,function(){var V;return(0,o.Jh)(this,function(Q){switch(Q.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,o.ev)((0,o.ev)([],(0,o.CR)(V.filter(function(H){return"INTERNAL"in H}).map(function(H){return H.INTERNAL.delete()}))),(0,o.CR)(V.filter(function(H){return"_delete"in H}).map(function(H){return H._delete()}))))];case 1:return Q.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(V){return void 0===V&&(V=oe),this.instances.has(V)},z.prototype.getOptions=function(V){return void 0===V&&(V=oe),this.instancesOptions.get(V)||{}},z.prototype.initialize=function(V){var Q,H;void 0===V&&(V={});var K=V.options,ie=void 0===K?{}:K,De=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(De))throw Error(this.name+"("+De+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var me=this.getOrInitializeService({instanceIdentifier:De,options:ie});try{for(var Oe=(0,o.XA)(this.instancesDeferred.entries()),we=Oe.next();!we.done;we=Oe.next()){var Ie=(0,o.CR)(we.value,2),mt=Ie[1];De===this.normalizeInstanceIdentifier(Ie[0])&&mt.resolve(me)}}catch(Ut){Q={error:Ut}}finally{try{we&&!we.done&&(H=Oe.return)&&H.call(Oe)}finally{if(Q)throw Q.error}}return me},z.prototype.onInit=function(V,Q){var H,K=this.normalizeInstanceIdentifier(Q),ie=null!==(H=this.onInitCallbacks.get(K))&&void 0!==H?H:new Set;ie.add(V),this.onInitCallbacks.set(K,ie);var De=this.instances.get(K);return De&&V(De,K),function(){ie.delete(V)}},z.prototype.invokeOnInitCallbacks=function(V,Q){var H,K,ie=this.onInitCallbacks.get(Q);if(ie)try{for(var De=(0,o.XA)(ie),me=De.next();!me.done;me=De.next()){var Oe=me.value;try{Oe(V,Q)}catch(we){}}}catch(we){H={error:we}}finally{try{me&&!me.done&&(K=De.return)&&K.call(De)}finally{if(H)throw H.error}}},z.prototype.getOrInitializeService=function(V){var Q=V.instanceIdentifier,H=V.options,K=void 0===H?{}:H,ie=this.instances.get(Q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:te(Q),options:K}),this.instances.set(Q,ie),this.instancesOptions.set(Q,K),this.invokeOnInitCallbacks(ie,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ie)}catch(De){}return ie||null},z.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=oe),this.component?this.component.multipleInstances?V:oe:V},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function te(z){return z===oe?void 0:z}var W=function(){function z(V){this.name=V,this.providers=new Map}return z.prototype.addComponent=function(V){var Q=this.getProvider(V.name);if(Q.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);Q.setComponent(V)},z.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},z.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var Q=new de(V,this);return this.providers.set(V,Q),Q},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(Ke,Me,L)=>{"use strict";function o(){for(var H=0,K=0,ie=arguments.length;K<ie;K++)H+=arguments[K].length;var De=Array(H),me=0;for(K=0;K<ie;K++)for(var Oe=arguments[K],we=0,Ie=Oe.length;we<Ie;we++,me++)De[me]=Oe[we];return De}L.d(Me,{in:()=>oe,Yd:()=>z,Ub:()=>V,Am:()=>Q});var q,U=[],oe=(()=>{return(H=oe||(oe={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",oe;var H})(),de={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},te=oe.INFO,j=((q={})[oe.DEBUG]="log",q[oe.VERBOSE]="log",q[oe.INFO]="info",q[oe.WARN]="warn",q[oe.ERROR]="error",q),W=function(H,K){for(var ie=[],De=2;De<arguments.length;De++)ie[De-2]=arguments[De];if(!(K<H.logLevel)){var me=(new Date).toISOString(),Oe=j[K];if(!Oe)throw new Error("Attempted to log a message with an invalid logType (value: "+K+")");console[Oe].apply(console,o(["["+me+"]  "+H.name+":"],ie))}},z=function(){function H(K){this.name=K,this._logLevel=te,this._logHandler=W,this._userLogHandler=null,U.push(this)}return Object.defineProperty(H.prototype,"logLevel",{get:function(){return this._logLevel},set:function(K){if(!(K in oe))throw new TypeError('Invalid value "'+K+'" assigned to `logLevel`');this._logLevel=K},enumerable:!1,configurable:!0}),H.prototype.setLogLevel=function(K){this._logLevel="string"==typeof K?de[K]:K},Object.defineProperty(H.prototype,"logHandler",{get:function(){return this._logHandler},set:function(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(K){this._userLogHandler=K},enumerable:!1,configurable:!0}),H.prototype.debug=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,oe.DEBUG],K)),this._logHandler.apply(this,o([this,oe.DEBUG],K))},H.prototype.log=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,oe.VERBOSE],K)),this._logHandler.apply(this,o([this,oe.VERBOSE],K))},H.prototype.info=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,oe.INFO],K)),this._logHandler.apply(this,o([this,oe.INFO],K))},H.prototype.warn=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,oe.WARN],K)),this._logHandler.apply(this,o([this,oe.WARN],K))},H.prototype.error=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,oe.ERROR],K)),this._logHandler.apply(this,o([this,oe.ERROR],K))},H}();function V(H){U.forEach(function(K){K.setLogLevel(H)})}function Q(H,K){for(var ie=function(we){var Ie=null;K&&K.level&&(Ie=de[K.level]),we.userLogHandler=null===H?null:function(rt,mt){for(var Zt=[],Ut=2;Ut<arguments.length;Ut++)Zt[Ut-2]=arguments[Ut];var jt=Zt.map(function(Ae){if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch(St){return null}}).filter(function(Ae){return Ae}).join(" ");mt>=(null!=Ie?Ie:rt.logLevel)&&H({level:oe[mt].toLowerCase(),message:jt,args:Zt,type:rt.name})}},De=0,me=U;De<me.length;De++)ie(me[De])}},4685:(Ke,Me,L)=>{"use strict";L.d(Me,{BH:()=>ie,LL:()=>Ue,ZR:()=>re,tV:()=>V,r3:()=>Fn,Sg:()=>De,ne:()=>Bs,vZ:()=>Mr,ZB:()=>H,pd:()=>Er,m9:()=>bn,z$:()=>me,jU:()=>Ie,ru:()=>rt,d:()=>Zt,xb:()=>Zi,w1:()=>Ut,hl:()=>he,uI:()=>Oe,UG:()=>we,b$:()=>mt,G6:()=>St,Mn:()=>jt,xO:()=>to,zd:()=>Ds});var o=L(4762),de=function(Y){for(var G=[],ne=0,fe=0;fe<Y.length;fe++){var ae=Y.charCodeAt(fe);ae<128?G[ne++]=ae:ae<2048?(G[ne++]=ae>>6|192,G[ne++]=63&ae|128):55296==(64512&ae)&&fe+1<Y.length&&56320==(64512&Y.charCodeAt(fe+1))?(ae=65536+((1023&ae)<<10)+(1023&Y.charCodeAt(++fe)),G[ne++]=ae>>18|240,G[ne++]=ae>>12&63|128,G[ne++]=ae>>6&63|128,G[ne++]=63&ae|128):(G[ne++]=ae>>12|224,G[ne++]=ae>>6&63|128,G[ne++]=63&ae|128)}return G},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[],ae=0;ae<Y.length;ae+=3){var Ze=Y[ae],Xe=ae+1<Y.length,Pt=Xe?Y[ae+1]:0,Tn=ae+2<Y.length,tn=Tn?Y[ae+2]:0,J=(15&Pt)<<2|tn>>6,X=63&tn;Tn||(X=64,Xe||(J=64)),fe.push(ne[Ze>>2],ne[(3&Ze)<<4|Pt>>4],ne[J],ne[X])}return fe.join("")},encodeString:function(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(de(Y),G)},decodeString:function(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){for(var G=[],ne=0,fe=0;ne<Y.length;){var ae=Y[ne++];if(ae<128)G[fe++]=String.fromCharCode(ae);else if(ae>191&&ae<224){var Ze=Y[ne++];G[fe++]=String.fromCharCode((31&ae)<<6|63&Ze)}else if(ae>239&&ae<365){var Tn=((7&ae)<<18|(63&(Ze=Y[ne++]))<<12|(63&(Xe=Y[ne++]))<<6|63&Y[ne++])-65536;G[fe++]=String.fromCharCode(55296+(Tn>>10)),G[fe++]=String.fromCharCode(56320+(1023&Tn))}else{Ze=Y[ne++];var Xe=Y[ne++];G[fe++]=String.fromCharCode((15&ae)<<12|(63&Ze)<<6|63&Xe)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray:function(Y,G){this.init_();for(var ne=G?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[],ae=0;ae<Y.length;){var Ze=ne[Y.charAt(ae++)],Pt=ae<Y.length?ne[Y.charAt(ae)]:0,tn=++ae<Y.length?ne[Y.charAt(ae)]:64,ce=++ae<Y.length?ne[Y.charAt(ae)]:64;if(++ae,null==Ze||null==Pt||null==tn||null==ce)throw Error();fe.push(Ze<<2|Pt>>4),64!==tn&&(fe.push(Pt<<4&240|tn>>2),64!==ce&&fe.push(tn<<6&192|ce))}return fe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},z=function(Y){return function(Y){var G=de(Y);return j.encodeByteArray(G,!0)}(Y).replace(/\./g,"")},V=function(Y){try{return j.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function H(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(var fe in G)!G.hasOwnProperty(fe)||!K(fe)||(Y[fe]=H(Y[fe],G[fe]));return Y}function K(Y){return"__proto__"!==Y}var ie=function(){function Y(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,fe){G.resolve=ne,G.reject=fe})}return Y.prototype.wrapCallback=function(G){var ne=this;return function(fe,ae){fe?ne.reject(fe):ne.resolve(ae),"function"==typeof G&&(ne.promise.catch(function(){}),1===G.length?G(fe):G(fe,ae))}},Y}();function De(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var fe=G||"demo-project",ae=Y.iat||0,Ze=Y.sub||Y.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Xe=(0,o.pi)({iss:"https://securetoken.google.com/"+fe,aud:fe,iat:ae,exp:ae+3600,auth_time:ae,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Xe)),""].join(".")}function me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function rt(){var Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zt(){return me().indexOf("Electron/")>=0}function Ut(){var Y=me();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function jt(){return me().indexOf("MSAppHost/")>=0}function St(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"indexedDB"in self&&null!=indexedDB}var re=function(Y){function G(ne,fe,ae){var Ze=Y.call(this,fe)||this;return Ze.code=ne,Ze.customData=ae,Ze.name="FirebaseError",Object.setPrototypeOf(Ze,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ze,Ue.prototype.create),Ze}return(0,o.ZT)(G,Y),G}(Error),Ue=function(){function Y(G,ne,fe){this.service=G,this.serviceName=ne,this.errors=fe}return Y.prototype.create=function(G){for(var ne=[],fe=1;fe<arguments.length;fe++)ne[fe-1]=arguments[fe];var ae=ne[0]||{},Ze=this.service+"/"+G,Xe=this.errors[G],Pt=Xe?ot(Xe,ae):"Error",Tn=this.serviceName+": "+Pt+" ("+Ze+").",tn=new re(Ze,Tn,ae);return tn},Y}();function ot(Y,G){return Y.replace(Yt,function(ne,fe){var ae=G[fe];return null!=ae?String(ae):"<"+fe+"?>"})}var Yt=/\{\$([^}]+)}/g;function Fn(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function Zi(Y){for(var G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function Mr(Y,G){if(Y===G)return!0;for(var ne=Object.keys(Y),fe=Object.keys(G),ae=0,Ze=ne;ae<Ze.length;ae++){if(!fe.includes(Xe=Ze[ae]))return!1;var Pt=Y[Xe],Tn=G[Xe];if(Eo(Pt)&&Eo(Tn)){if(!Mr(Pt,Tn))return!1}else if(Pt!==Tn)return!1}for(var tn=0,Qn=fe;tn<Qn.length;tn++){var Xe;if(!ne.includes(Xe=Qn[tn]))return!1}return!0}function Eo(Y){return null!==Y&&"object"==typeof Y}function to(Y){for(var G=[],ne=function(Tn,tn){Array.isArray(tn)?tn.forEach(function(Qn){G.push(encodeURIComponent(Tn)+"="+encodeURIComponent(Qn))}):G.push(encodeURIComponent(Tn)+"="+encodeURIComponent(tn))},fe=0,ae=Object.entries(Y);fe<ae.length;fe++){var Ze=ae[fe];ne(Ze[0],Ze[1])}return G.length?"&"+G.join("&"):""}function Ds(Y){var G={};return Y.replace(/^\?/,"").split("&").forEach(function(fe){if(fe){var ae=fe.split("="),Xe=ae[1];G[decodeURIComponent(ae[0])]=decodeURIComponent(Xe)}}),G}function Er(Y){var G=Y.indexOf("?");if(!G)return"";var ne=Y.indexOf("#",G);return Y.substring(G,ne>0?ne:void 0)}function Bs(Y,G){var ne=new lt(Y,G);return ne.subscribe.bind(ne)}!function(){function Y(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}Y.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Y.prototype.compress_=function(G,ne){ne||(ne=0);var fe=this.W_;if("string"==typeof G)for(var ae=0;ae<16;ae++)fe[ae]=G.charCodeAt(ne)<<24|G.charCodeAt(ne+1)<<16|G.charCodeAt(ne+2)<<8|G.charCodeAt(ne+3),ne+=4;else for(ae=0;ae<16;ae++)fe[ae]=G[ne]<<24|G[ne+1]<<16|G[ne+2]<<8|G[ne+3],ne+=4;for(ae=16;ae<80;ae++)fe[ae]=4294967295&((Ze=fe[ae-3]^fe[ae-8]^fe[ae-14]^fe[ae-16])<<1|Ze>>>31);var ce,J,Xe=this.chain_[0],Pt=this.chain_[1],Tn=this.chain_[2],tn=this.chain_[3],Qn=this.chain_[4];for(ae=0;ae<80;ae++){ae<40?ae<20?(ce=tn^Pt&(Tn^tn),J=1518500249):(ce=Pt^Tn^tn,J=1859775393):ae<60?(ce=Pt&Tn|tn&(Pt|Tn),J=2400959708):(ce=Pt^Tn^tn,J=3395469782);var Ze=(Xe<<5|Xe>>>27)+ce+Qn+J+fe[ae]&4294967295;Qn=tn,tn=Tn,Tn=4294967295&(Pt<<30|Pt>>>2),Pt=Xe,Xe=Ze}this.chain_[0]=this.chain_[0]+Xe&4294967295,this.chain_[1]=this.chain_[1]+Pt&4294967295,this.chain_[2]=this.chain_[2]+Tn&4294967295,this.chain_[3]=this.chain_[3]+tn&4294967295,this.chain_[4]=this.chain_[4]+Qn&4294967295},Y.prototype.update=function(G,ne){if(null!=G){void 0===ne&&(ne=G.length);for(var fe=ne-this.blockSize,ae=0,Ze=this.buf_,Xe=this.inbuf_;ae<ne;){if(0===Xe)for(;ae<=fe;)this.compress_(G,ae),ae+=this.blockSize;if("string"==typeof G){for(;ae<ne;)if(Ze[Xe]=G.charCodeAt(ae),++ae,++Xe===this.blockSize){this.compress_(Ze),Xe=0;break}}else for(;ae<ne;)if(Ze[Xe]=G[ae],++ae,++Xe===this.blockSize){this.compress_(Ze),Xe=0;break}}this.inbuf_=Xe,this.total_+=ne}},Y.prototype.digest=function(){var G=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&ne,ne/=256;this.compress_(this.buf_);var ae=0;for(fe=0;fe<5;fe++)for(var Ze=24;Ze>=0;Ze-=8)G[ae]=this.chain_[fe]>>Ze&255,++ae;return G}}();var lt=function(){function Y(G,ne){var fe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){G(fe)}).catch(function(ae){fe.error(ae)})}return Y.prototype.next=function(G){this.forEachObserver(function(ne){ne.next(G)})},Y.prototype.error=function(G){this.forEachObserver(function(ne){ne.error(G)}),this.close(G)},Y.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},Y.prototype.subscribe=function(G,ne,fe){var Ze,ae=this;if(void 0===G&&void 0===ne&&void 0===fe)throw new Error("Missing Observer.");void 0===(Ze=function(Y,G){if("object"!=typeof Y||null===Y)return!1;for(var ne=0,fe=["next","error","complete"];ne<fe.length;ne++){var ae=fe[ne];if(ae in Y&&"function"==typeof Y[ae])return!0}return!1}(G)?G:{next:G,error:ne,complete:fe}).next&&(Ze.next=Pi),void 0===Ze.error&&(Ze.error=Pi),void 0===Ze.complete&&(Ze.complete=Pi);var Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ae.finalError?Ze.error(ae.finalError):Ze.complete()}catch(Pt){}}),this.observers.push(Ze),Xe},Y.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Y.prototype.forEachObserver=function(G){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,G)},Y.prototype.sendOne=function(G,ne){var fe=this;this.task.then(function(){if(void 0!==fe.observers&&void 0!==fe.observers[G])try{ne(fe.observers[G])}catch(ae){"undefined"!=typeof console&&console.error&&console.error(ae)}})},Y.prototype.close=function(G){var ne=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},Y}();function Pi(){}function bn(Y){return Y&&Y._delegate?Y._delegate:Y}},7841:(Ke,Me,L)=>{"use strict";L.d(Me,{Z:()=>o.Z});var o=L(4486);o.Z.registerVersion("firebase","9.0.2","app-compat")},4828:(Ke,Me,L)=>{"use strict";L.r(Me);var o=L(8239),q=L(4486),U=L(5893),oe=L(4685),j=(L(5452),L(300),L(6034));function W(){return window}function Q(){return(Q=(0,o.Z)(function*(ce,J,X){var Se;const{BuildInfo:ze}=W();(0,U.ap)(J.sessionId,"AuthEvent did not contain a session ID");const vt=yield we(J.sessionId),Kt={};return(0,U.aq)()?Kt.ibi=ze.packageName:(0,U.ar)()?Kt.apn=ze.packageName:(0,U.as)(ce,"operation-not-supported-in-this-environment"),ze.displayName&&(Kt.appDisplayName=ze.displayName),Kt.sessionId=vt,(0,U.at)(ce,X,J.type,void 0,null!==(Se=J.eventId)&&void 0!==Se?Se:void 0,Kt)})).apply(this,arguments)}function K(){return(K=(0,o.Z)(function*(ce){const{BuildInfo:J}=W(),X={};(0,U.aq)()?X.iosBundleId=J.packageName:(0,U.ar)()?X.androidPackageName=J.packageName:(0,U.as)(ce,"operation-not-supported-in-this-environment"),yield(0,U.au)(ce,X)})).apply(this,arguments)}function me(){return(me=(0,o.Z)(function*(ce,J,X){const{cordova:Se}=W();let ze=()=>{};try{yield new Promise((vt,Kt)=>{let pn=null;function cn(){var Ft;vt();const no=null===(Ft=Se.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof no&&no(),"function"==typeof(null==X?void 0:X.close)&&X.close()}function On(){pn||(pn=window.setTimeout(()=>{Kt((0,U.av)(ce,"redirect-cancelled-by-user"))},2e3))}function si(){"visible"===(null==document?void 0:document.visibilityState)&&On()}J.addPassiveListener(cn),document.addEventListener("resume",On,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",si,!1),ze=()=>{J.removePassiveListener(cn),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",si,!1),pn&&window.clearTimeout(pn)}})}finally{ze()}})).apply(this,arguments)}function we(ce){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,o.Z)(function*(ce){const J=rt(ce),X=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(X)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rt(ce){if((0,U.ap)(/[0-9a-zA-Z]+/.test(ce),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ce);const J=new ArrayBuffer(ce.length),X=new Uint8Array(J);for(let Se=0;Se<ce.length;Se++)X[Se]=ce.charCodeAt(Se);return X}class Zt extends U.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(J)),super.onEvent(J)}initialized(){var J=this;return(0,o.Z)(function*(){yield J.initPromise})()}}function Ae(ce){return St.apply(this,arguments)}function St(){return(St=(0,o.Z)(function*(ce){const J=yield ye()._get(be(ce));return J&&(yield ye()._remove(be(ce))),J})).apply(this,arguments)}function _e(){const ce=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let X=0;X<20;X++){const Se=Math.floor(Math.random()*J.length);ce.push(J.charAt(Se))}return ce.join("")}function ye(){return(0,U.ax)(U.b)}function be(ce){return(0,U.ay)("authEvent",ce.config.apiKey,ce.name)}function Ue(ce){if(!(null==ce?void 0:ce.includes("?")))return{};const[J,...X]=ce.split("?");return(0,oe.zd)(X.join("?"))}function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.av)("no-auth-event")}}function Nt(){var ce;return(null===(ce=null==self?void 0:self.location)||void 0===ce?void 0:ce.protocol)||null}function zn(ce=(0,oe.z$)()){return!("file:"!==Nt()&&"ionic:"!==Nt()||!ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function to(){try{const ce=self.localStorage,J=U.aG();if(ce)return ce.setItem(J,"1"),ce.removeItem(J),!function(ce=(0,oe.z$)()){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)||function(ce=(0,oe.z$)()){return/Edge\/\d+/.test(ce)}(ce)}()||(0,oe.hl)()}catch(ce){return Ds()&&(0,oe.hl)()}return!1}function Ds(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Er(){return("http:"===Nt()||"https:"===Nt()||(0,oe.ru)()||zn())&&!((0,oe.b$)()||(0,oe.UG)())&&to()&&!Ds()}function ia(){return zn()&&"undefined"!=typeof document}function lt(){return(lt=(0,o.Z)(function*(){return!!ia()&&new Promise(ce=>{const J=setTimeout(()=>{ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),ce(!0)})})})).apply(this,arguments)}const fn={LOCAL:"local",NONE:"none",SESSION:"session"},rs=U.aw,Pi="persistence";function _t(ce){return en.apply(this,arguments)}function en(){return(en=(0,o.Z)(function*(ce){yield ce._initializationPromise;const J=Yi(),X=U.ay(Pi,ce.config.apiKey,ce.name);(null==J?void 0:J.sessionStorage)&&J.sessionStorage.setItem(X,ce._getPersistence())})).apply(this,arguments)}function Yi(){return"undefined"!=typeof window?window:null}const yn=U.aw;class Ye{constructor(){this.browserResolver=U.ax(U.k),this.cordovaResolver=U.ax(class{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aA}_initialize(J){var X=this;return(0,o.Z)(function*(){const Se=J._key();let ze=X.eventManagers.get(Se);return ze||(ze=new Zt(J),X.eventManagers.set(Se,ze),X.attachCallbackListeners(J,ze)),ze})()}_openPopup(J){(0,U.as)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,X,Se,ze){var vt=this;return(0,o.Z)(function*(){!function(ce){var J,X,Se,ze,vt,Kt,pn,cn,On,si;const Ft=W();(0,U.aw)("function"==typeof(null===(J=null==Ft?void 0:Ft.universalLinks)||void 0===J?void 0:J.subscribe),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aw)(void 0!==(null===(X=null==Ft?void 0:Ft.BuildInfo)||void 0===X?void 0:X.packageName),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aw)("function"==typeof(null===(vt=null===(ze=null===(Se=null==Ft?void 0:Ft.cordova)||void 0===Se?void 0:Se.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===vt?void 0:vt.openUrl),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(cn=null===(pn=null===(Kt=null==Ft?void 0:Ft.cordova)||void 0===Kt?void 0:Kt.plugins)||void 0===pn?void 0:pn.browsertab)||void 0===cn?void 0:cn.isAvailable),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(si=null===(On=null==Ft?void 0:Ft.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===si?void 0:si.open),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Kt=yield vt._initialize(J);yield Kt.initialized(),Kt.resetRedirect(),(0,U.aB)(),yield vt._originValidation(J);const pn=function(ce,J,X=null){return{type:J,eventId:X,urlResponse:null,sessionId:_e(),postBody:null,tenantId:ce.tenantId,error:(0,U.av)(ce,"no-auth-event")}}(J,Se,ze);yield function(ce,J){return ye()._set(be(ce),J)}(J,pn);const cn=yield function(ce,J,X){return Q.apply(this,arguments)}(J,pn,X),On=yield function(ce){const{cordova:J}=W();return new Promise(X=>{J.plugins.browsertab.isAvailable(Se=>{let ze=null;Se?J.plugins.browsertab.openUrl(ce):ze=J.InAppBrowser.open(ce,(0,U.ao)()?"_blank":"_system","location=yes"),X(ze)})})}(cn);return function(ce,J,X){return me.apply(this,arguments)}(J,Kt,On)})()}_isIframeWebStorageSupported(J,X){throw new Error("Method not implemented.")}_originValidation(J){const X=J._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function(ce){return K.apply(this,arguments)}(J)),this.originValidationPromises[X]}attachCallbackListeners(J,X){const{universalLinks:Se,handleOpenURL:ze,BuildInfo:vt}=W(),Kt=setTimeout((0,o.Z)(function*(){yield Ae(J),X.onEvent(at())}),500),pn=function(){var si=(0,o.Z)(function*(Ft){clearTimeout(Kt);const no=yield Ae(J);let Gi=null;no&&(null==Ft?void 0:Ft.url)&&(Gi=function(ce,J){var X,Se;const ze=function(ce){const J=Ue(ce),X=J.link?decodeURIComponent(J.link):void 0,Se=Ue(X).link,ze=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Ue(ze).link||ze||Se||X||ce}(J);if(ze.includes("/__/auth/callback")){const vt=Ue(ze),Kt=vt.firebaseError?function(ce){try{return JSON.parse(ce)}catch(J){return null}}(decodeURIComponent(vt.firebaseError)):null,pn=null===(Se=null===(X=null==Kt?void 0:Kt.code)||void 0===X?void 0:X.split("auth/"))||void 0===Se?void 0:Se[1],cn=pn?(0,U.av)(pn):null;return cn?{type:ce.type,eventId:ce.eventId,tenantId:ce.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:ce.type,eventId:ce.eventId,tenantId:ce.tenantId,sessionId:ce.sessionId,urlResponse:ze,postBody:null}}return null}(no,Ft.url)),X.onEvent(Gi||at())});return function(no){return si.apply(this,arguments)}}();void 0!==Se&&"function"==typeof Se.subscribe&&Se.subscribe(null,pn);const cn=ze,On=`${vt.packageName.toLowerCase()}://`;W().handleOpenURL=function(){var si=(0,o.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(On)&&pn({url:Ft}),"function"==typeof cn)try{cn(Ft)}catch(no){console.error(no)}});return function(Ft){return si.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aA}_initialize(J){var X=this;return(0,o.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,X,Se,ze){var vt=this;return(0,o.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(J,X,Se,ze)})()}_openRedirect(J,X,Se,ze){var vt=this;return(0,o.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(J,X,Se,ze)})()}_isIframeWebStorageSupported(J,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,X)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return ia()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,o.Z)(function*(){if(J.underlyingResolver)return;const X=yield function(){return lt.apply(this,arguments)}();J.underlyingResolver=X?J.cordovaResolver:J.browserResolver})()}}function st(ce){return ce.unwrap()}function sa(ce){return Cn(ce)}function ss(ce,J){var X;const Se=null===(X=J.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===J.code)J.resolver=new G(ce,U.am(ce,J));else if(Se){const ze=Cn(J),vt=J;ze&&(vt.credential=ze,vt.tenantId=Se.tenantId||void 0,vt.email=Se.email||void 0,vt.phoneNumber=Se.phoneNumber||void 0)}}function Cn(ce){const{_tokenResponse:J}=ce instanceof oe.ZR?ce.customData:ce;if(!J)return null;if(!(ce instanceof oe.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return U.P.credentialFromResult(ce);const X=J.providerId;if(!X||X===U.o.PASSWORD)return null;let Se;switch(X){case U.o.GOOGLE:Se=U.N;break;case U.o.FACEBOOK:Se=U.M;break;case U.o.GITHUB:Se=U.Q;break;case U.o.TWITTER:Se=U.V;break;default:const{oauthIdToken:ze,oauthAccessToken:vt,oauthTokenSecret:Kt,pendingToken:pn,nonce:cn}=J;return vt||Kt||ze||pn?pn?X.startsWith("saml.")?U.aJ._create(X,pn):U.I._fromParams({providerId:X,signInMethod:X,pendingToken:pn,idToken:ze,accessToken:vt}):new U.T(X).credential({idToken:ze,accessToken:vt,rawNonce:cn}):null}return ce instanceof oe.ZR?Se.credentialFromError(ce):Se.credentialFromResult(ce)}function Dn(ce,J){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(ce,J){let X;try{X=yield J}catch(vt){throw vt instanceof oe.ZR&&ss(ce,vt),vt}const{operationType:Se,user:ze}=X;return{operationType:Se,credential:sa(X),additionalUserInfo:U.ak(X),user:ne.getOrCreate(ze)}})).apply(this,arguments)}function bn(ce,J){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(ce,J){const X=yield J;return{verificationId:X.verificationId,confirm:Se=>Dn(ce,X.confirm(Se))}})).apply(this,arguments)}class G{constructor(J,X){this.resolver=X,this.auth=J.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Dn(st(this.auth),this.resolver.resolveSignIn(J))}}class ne{constructor(J){this._delegate=J,this.multiFactor=U.an(J)}static getOrCreate(J){return ne.USER_MAP.has(J)||ne.USER_MAP.set(J,new ne(J)),ne.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var X=this;return(0,o.Z)(function*(){return Dn(X.auth,U.Y(X._delegate,J))})()}linkWithPhoneNumber(J,X){var Se=this;return(0,o.Z)(function*(){return bn(Se.auth,U.l(Se._delegate,J,X))})()}linkWithPopup(J){var X=this;return(0,o.Z)(function*(){return Dn(X.auth,U.d(X._delegate,J,Ye))})()}linkWithRedirect(J){var X=this;return(0,o.Z)(function*(){return yield _t(U.aC(X.auth)),U.g(X._delegate,J,Ye)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var X=this;return(0,o.Z)(function*(){return Dn(X.auth,U.Z(X._delegate,J))})()}reauthenticateWithPhoneNumber(J,X){return bn(this.auth,U.r(this._delegate,J,X))}reauthenticateWithPopup(J){return Dn(this.auth,U.e(this._delegate,J,Ye))}reauthenticateWithRedirect(J){var X=this;return(0,o.Z)(function*(){return yield _t(U.aC(X.auth)),U.h(X._delegate,J,Ye)})()}sendEmailVerification(J){return U.aa(this._delegate,J)}unlink(J){var X=this;return(0,o.Z)(function*(){return yield U.aj(X._delegate,J),X})()}updateEmail(J){return U.af(this._delegate,J)}updatePassword(J){return U.ag(this._delegate,J)}updatePhoneNumber(J){return U.u(this._delegate,J)}updateProfile(J){return U.ae(this._delegate,J)}verifyBeforeUpdateEmail(J,X){return U.ab(this._delegate,J,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ne.USER_MAP=new WeakMap;const fe=U.aw;let ae=(()=>{class ce{constructor(X,Se){if(this.app=X,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=X.options;fe(ze,"invalid-api-key",{appName:X.name});let vt=[U.K];if("undefined"!=typeof window){vt=function(ce,J){const X=Yi();if(!(null==X?void 0:X.sessionStorage))return[];const Se=U.ay(Pi,ce,J);switch(X.sessionStorage.getItem(Se)){case fn.NONE:return[U.K];case fn.LOCAL:return[U.i,U.a];case fn.SESSION:return[U.a];default:return[]}}(ze,X.name);for(const pn of[U.i,U.b,U.a])vt.includes(pn)||vt.push(pn)}fe(ze,"invalid-api-key",{appName:X.name});const Kt="undefined"!=typeof window?Ye:void 0;this._delegate=Se.initialize({options:{persistence:vt,popupRedirectResolver:Kt}}),this._delegate._updateErrorMap(U.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,Se){U.E(this._delegate,X,Se)}applyActionCode(X){return U.a1(this._delegate,X)}checkActionCode(X){return U.a2(this._delegate,X)}confirmPasswordReset(X,Se){return U.a0(this._delegate,X,Se)}createUserWithEmailAndPassword(X,Se){var ze=this;return(0,o.Z)(function*(){return Dn(ze._delegate,U.a4(ze._delegate,X,Se))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return U.a9(this._delegate,X)}isSignInWithEmailLink(X){return U.a7(this._delegate,X)}getRedirectResult(){var X=this;return(0,o.Z)(function*(){fe(Er(),X._delegate,"operation-not-supported-in-this-environment");const Se=yield U.j(X._delegate,Ye);return Se?Dn(X._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function(ce,J){(0,U.aC)(ce)._logFramework(J)}(this._delegate,X)}onAuthStateChanged(X,Se,ze){const{next:vt,error:Kt,complete:pn}=Ze(X,Se,ze);return this._delegate.onAuthStateChanged(vt,Kt,pn)}onIdTokenChanged(X,Se,ze){const{next:vt,error:Kt,complete:pn}=Ze(X,Se,ze);return this._delegate.onIdTokenChanged(vt,Kt,pn)}sendSignInLinkToEmail(X,Se){return U.a6(this._delegate,X,Se)}sendPasswordResetEmail(X,Se){return U.$(this._delegate,X,Se||void 0)}setPersistence(X){var Se=this;return(0,o.Z)(function*(){let ze;switch(function(ce,J){rs(Object.values(fn).includes(J),ce,"invalid-persistence-type"),(0,oe.b$)()?rs(J!==fn.SESSION,ce,"unsupported-persistence-type"):(0,oe.UG)()?rs(J===fn.NONE,ce,"unsupported-persistence-type"):Ds()?rs(J===fn.NONE||J===fn.LOCAL&&(0,oe.hl)(),ce,"unsupported-persistence-type"):rs(J===fn.NONE||to(),ce,"unsupported-persistence-type")}(Se._delegate,X),X){case fn.SESSION:ze=U.a;break;case fn.LOCAL:ze=(yield U.ax(U.i)._isAvailable())?U.i:U.b;break;case fn.NONE:ze=U.K;break;default:return U.as("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Dn(this._delegate,U.W(this._delegate))}signInWithCredential(X){return Dn(this._delegate,U.X(this._delegate,X))}signInWithCustomToken(X){return Dn(this._delegate,U._(this._delegate,X))}signInWithEmailAndPassword(X,Se){return Dn(this._delegate,U.a5(this._delegate,X,Se))}signInWithEmailLink(X,Se){return Dn(this._delegate,U.a8(this._delegate,X,Se))}signInWithPhoneNumber(X,Se){return bn(this._delegate,U.s(this._delegate,X,Se))}signInWithPopup(X){var Se=this;return(0,o.Z)(function*(){return fe(Er(),Se._delegate,"operation-not-supported-in-this-environment"),Dn(Se._delegate,U.c(Se._delegate,X,Ye))})()}signInWithRedirect(X){var Se=this;return(0,o.Z)(function*(){return fe(Er(),Se._delegate,"operation-not-supported-in-this-environment"),yield _t(Se._delegate),U.f(Se._delegate,X,Ye)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return U.a3(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ce.Persistence=fn,ce})();function Ze(ce,J,X){let Se=ce;"function"!=typeof ce&&({next:Se,error:J,complete:X}=ce);const ze=Se;return{next:Kt=>ze(Kt&&ne.getOrCreate(Kt)),error:J,complete:X}}class Xe{constructor(){this.providerId="phone",this._delegate=new U.P(st(q.Z.auth()))}static credential(J,X){return U.P.credential(J,X)}verifyPhoneNumber(J,X){return this._delegate.verifyPhoneNumber(J,X)}unwrap(){return this._delegate}}Xe.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Xe.PROVIDER_ID=U.P.PROVIDER_ID;const Pt=U.aw;var ce;(ce=q.Z).INTERNAL.registerComponent(new j.wA("auth-compat",J=>{const X=J.getProvider("app-compat").getImmediate(),Se=J.getProvider("auth");return new ae(X,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.L,FacebookAuthProvider:U.M,GithubAuthProvider:U.Q,GoogleAuthProvider:U.N,OAuthProvider:U.T,PhoneAuthProvider:Xe,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:class{constructor(J,X,Se=q.Z.app()){var ze;Pt(null===(ze=Se.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new U.R(J,X,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:U.V,Auth:ae,AuthCredential:U.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ce.registerVersion("@firebase/auth-compat","0.1.2")},3098:(Ke,Me,L)=>{"use strict";L.d(Me,{P:()=>de});var o=L(9193),q=L(5917),U=L(205);class de{constructor(j,W,z){this.kind=j,this.value=W,this.error=z,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,W,z){switch(this.kind){case"N":return j&&j(this.value);case"E":return W&&W(this.error);case"C":return z&&z()}}accept(j,W,z){return j&&"function"==typeof j.next?this.observe(j):this.do(j,W,z)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return(0,U._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new de("N",j):de.undefinedValueNotification}static createError(j){return new de("E",void 0,j)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(Ke,Me,L)=>{"use strict";L.d(Me,{y:()=>Q});var o=L(7393),U=L(9181),oe=L(6490),te=L(6554),j=L(4487);var V=L(2494);let Q=(()=>{class K{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const me=new K;return me.source=this,me.operator=De,me}subscribe(De,me,Oe){const{operator:we}=this,Ie=function(K,ie,De){if(K){if(K instanceof o.L)return K;if(K[U.b])return K[U.b]()}return K||ie||De?new o.L(K,ie,De):new o.L(oe.c)}(De,me,Oe);if(Ie.add(we?we.call(Ie,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),V.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(De){try{return this._subscribe(De)}catch(me){V.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=me),function(K){for(;K;){const{closed:ie,destination:De,isStopped:me}=K;if(ie||me)return!1;K=De&&De instanceof o.L?De:null}return!0}(De)?De.error(me):console.warn(me)}}forEach(De,me){return new(me=H(me))((Oe,we)=>{let Ie;Ie=this.subscribe(rt=>{try{De(rt)}catch(mt){we(mt),Ie&&Ie.unsubscribe()}},we,Oe)})}_subscribe(De){const{source:me}=this;return me&&me.subscribe(De)}[te.L](){return this}pipe(...De){return 0===De.length?this:function(K){return 0===K.length?j.y:1===K.length?K[0]:function(De){return K.reduce((me,Oe)=>Oe(me),De)}}(De)(this)}toPromise(De){return new(De=H(De))((me,Oe)=>{let we;this.subscribe(Ie=>we=Ie,Ie=>Oe(Ie),()=>me(we))})}}return K.create=ie=>new K(ie),K})();function H(K){if(K||(K=V.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Ke,Me,L)=>{"use strict";L.d(Me,{c:()=>U});var o=L(2494),q=L(4449);const U={closed:!0,next(oe){},error(oe){if(o.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,q.z)(oe)},complete(){}}},9765:(Ke,Me,L)=>{"use strict";L.d(Me,{Yc:()=>j,xQ:()=>W});var o=L(7574),q=L(7393),U=L(5319),oe=L(7971),de=L(8858),te=L(9181);class j extends q.L{constructor(Q){super(Q),this.destination=Q}}let W=(()=>{class V extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new j(this)}lift(H){const K=new z(this,this);return K.operator=H,K}next(H){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:K}=this,ie=K.length,De=K.slice();for(let me=0;me<ie;me++)De[me].next(H)}}error(H){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:K}=this,ie=K.length,De=K.slice();for(let me=0;me<ie;me++)De[me].error(H);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:H}=this,K=H.length,ie=H.slice();for(let De=0;De<K;De++)ie[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new oe.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new oe.N;return this.hasError?(H.error(this.thrownError),U.w.EMPTY):this.isStopped?(H.complete(),U.w.EMPTY):(this.observers.push(H),new de.W(this,H))}asObservable(){const H=new o.y;return H.source=this,H}}return V.create=(Q,H)=>new z(Q,H),V})();class z extends W{constructor(Q,H){super(),this.destination=Q,this.source=H}next(Q){const{destination:H}=this;H&&H.next&&H.next(Q)}error(Q){const{destination:H}=this;H&&H.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:H}=this;return H?this.source.subscribe(Q):U.w.EMPTY}}},8858:(Ke,Me,L)=>{"use strict";L.d(Me,{W:()=>q});var o=L(5319);class q extends o.w{constructor(oe,de){super(),this.subject=oe,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,de=oe.observers;if(this.subject=null,!de||0===de.length||oe.isStopped||oe.closed)return;const te=de.indexOf(this.subscriber);-1!==te&&de.splice(te,1)}}},7393:(Ke,Me,L)=>{"use strict";L.d(Me,{L:()=>j});var o=L(9105),q=L(6490),U=L(5319),oe=L(9181),de=L(2494),te=L(4449);class j extends U.w{constructor(V,Q,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=q.c;break;case 1:if(!V){this.destination=q.c;break}if("object"==typeof V){V instanceof j?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,V,Q,H)}}[oe.b](){return this}static create(V,Q,H){const K=new j(V,Q,H);return K.syncErrorThrowable=!1,K}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class W extends j{constructor(V,Q,H,K){super(),this._parentSubscriber=V;let ie,De=this;(0,o.m)(Q)?ie=Q:Q&&(ie=Q.next,H=Q.error,K=Q.complete,Q!==q.c&&(De=Object.create(Q),(0,o.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ie,this._error=H,this._complete=K}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;de.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:H}=de.v;if(this._error)H&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(Q.syncErrorThrowable)H?(Q.syncErrorValue=V,Q.syncErrorThrown=!0):(0,te.z)(V),this.unsubscribe();else{if(this.unsubscribe(),H)throw V;(0,te.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const Q=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,Q){try{V.call(this._context,Q)}catch(H){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw H;(0,te.z)(H)}}__tryOrSetError(V,Q,H){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,H)}catch(K){return de.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=K,V.syncErrorThrown=!0,!0):((0,te.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Ke,Me,L)=>{"use strict";L.d(Me,{w:()=>te});var o=L(9796),q=L(1555),U=L(9105);const de=(()=>{function W(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((V,Q)=>`${Q+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return W.prototype=Object.create(Error.prototype),W})();class te{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:Q,_unsubscribe:H,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof te)V.remove(this);else if(null!==V)for(let ie=0;ie<V.length;++ie)V[ie].remove(this);if((0,U.m)(H)){Q&&(this._unsubscribe=void 0);try{H.call(this)}catch(ie){z=ie instanceof de?j(ie.errors):[ie]}}if((0,o.k)(K)){let ie=-1,De=K.length;for(;++ie<De;){const me=K[ie];if((0,q.K)(me))try{me.unsubscribe()}catch(Oe){z=z||[],Oe instanceof de?z=z.concat(j(Oe.errors)):z.push(Oe)}}}if(z)throw new de(z)}add(z){let V=z;if(!z)return te.EMPTY;switch(typeof z){case"function":V=new te(z);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof te)){const K=V;V=new te,V._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:Q}=V;if(null===Q)V._parentOrParents=this;else if(Q instanceof te){if(Q===this)return V;V._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return V;Q.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[V]:H.push(V),V}remove(z){const V=this._subscriptions;if(V){const Q=V.indexOf(z);-1!==Q&&V.splice(Q,1)}}}var W;function j(W){return W.reduce((z,V)=>z.concat(V instanceof de?V.errors:V),[])}te.EMPTY=((W=new te).closed=!0,W)},2494:(Ke,Me,L)=>{"use strict";L.d(Me,{v:()=>q});let o=!1;const q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=U},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Ke,Me,L)=>{"use strict";L.d(Me,{IY:()=>oe,Ds:()=>te,ft:()=>W});var o=L(7393),q=L(7574),U=L(7444);class oe extends o.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class te extends o.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function W(z,V){if(V.closed)return;if(z instanceof q.y)return z.subscribe(V);let Q;try{Q=(0,U.s)(z)(V)}catch(H){V.error(H)}return Q}},2441:(Ke,Me,L)=>{"use strict";L.d(Me,{c:()=>de,N:()=>te});var o=L(9765),q=L(7574),U=L(5319),oe=L(1307);class de extends q.y{constructor(Q,H){super(),this.source=Q,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new U.w,Q.add(this.source.subscribe(new j(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=U.w.EMPTY)),Q}refCount(){return(0,oe.x)()(this)}}const te=(()=>{const V=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class j extends o.Yc{constructor(Q,H){super(Q),this.connectable=H}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const H=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,H&&H.unsubscribe()}}}},9193:(Ke,Me,L)=>{"use strict";L.d(Me,{E:()=>q,c:()=>U});var o=L(7574);const q=new o.y(de=>de.complete());function U(de){return de?function(de){return new o.y(te=>de.schedule(()=>te.complete()))}(de):q}},4402:(Ke,Me,L)=>{"use strict";L.d(Me,{D:()=>De});var o=L(7574),q=L(7444),U=L(5319),oe=L(6554),j=L(4087),W=L(377),Q=L(4072),H=L(9489);function De(me,Oe){return Oe?function(me,Oe){if(null!=me){if(function(me){return me&&"function"==typeof me[oe.L]}(me))return function(me,Oe){return new o.y(we=>{const Ie=new U.w;return Ie.add(Oe.schedule(()=>{const rt=me[oe.L]();Ie.add(rt.subscribe({next(mt){Ie.add(Oe.schedule(()=>we.next(mt)))},error(mt){Ie.add(Oe.schedule(()=>we.error(mt)))},complete(){Ie.add(Oe.schedule(()=>we.complete()))}}))})),Ie})}(me,Oe);if((0,Q.t)(me))return function(me,Oe){return new o.y(we=>{const Ie=new U.w;return Ie.add(Oe.schedule(()=>me.then(rt=>{Ie.add(Oe.schedule(()=>{we.next(rt),Ie.add(Oe.schedule(()=>we.complete()))}))},rt=>{Ie.add(Oe.schedule(()=>we.error(rt)))}))),Ie})}(me,Oe);if((0,H.z)(me))return(0,j.r)(me,Oe);if(function(me){return me&&"function"==typeof me[W.hZ]}(me)||"string"==typeof me)return function(me,Oe){if(!me)throw new Error("Iterable cannot be null");return new o.y(we=>{const Ie=new U.w;let rt;return Ie.add(()=>{rt&&"function"==typeof rt.return&&rt.return()}),Ie.add(Oe.schedule(()=>{rt=me[W.hZ](),Ie.add(Oe.schedule(function(){if(we.closed)return;let mt,Zt;try{const Ut=rt.next();mt=Ut.value,Zt=Ut.done}catch(Ut){return void we.error(Ut)}Zt?we.complete():(we.next(mt),this.schedule())}))})),Ie})}(me,Oe)}throw new TypeError((null!==me&&typeof me||me)+" is not observable")}(me,Oe):me instanceof o.y?me:new o.y((0,q.s)(me))}},6693:(Ke,Me,L)=>{"use strict";L.d(Me,{n:()=>oe});var o=L(7574),q=L(5015),U=L(4087);function oe(de,te){return te?(0,U.r)(de,te):new o.y((0,q.V)(de))}},6682:(Ke,Me,L)=>{"use strict";L.d(Me,{T:()=>de});var o=L(7574),q=L(4869),U=L(3282),oe=L(6693);function de(...te){let j=Number.POSITIVE_INFINITY,W=null,z=te[te.length-1];return(0,q.K)(z)?(W=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(j=te.pop())):"number"==typeof z&&(j=te.pop()),null===W&&1===te.length&&te[0]instanceof o.y?te[0]:(0,U.J)(j)((0,oe.n)(te,W))}},5917:(Ke,Me,L)=>{"use strict";L.d(Me,{of:()=>oe});var o=L(4869),q=L(6693),U=L(4087);function oe(...de){let te=de[de.length-1];return(0,o.K)(te)?(de.pop(),(0,U.r)(de,te)):(0,q.n)(de)}},205:(Ke,Me,L)=>{"use strict";L.d(Me,{_:()=>q});var o=L(7574);function q(oe,de){return new o.y(de?te=>de.schedule(U,0,{error:oe,subscriber:te}):te=>te.error(oe))}function U({error:oe,subscriber:de}){de.error(oe)}},8002:(Ke,Me,L)=>{"use strict";L.d(Me,{U:()=>q});var o=L(7393);function q(de,te){return function(W){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new U(de,te))}}class U{constructor(te,j){this.project=te,this.thisArg=j}call(te,j){return j.subscribe(new oe(te,this.project,this.thisArg))}}class oe extends o.L{constructor(te,j,W){super(te),this.project=j,this.count=0,this.thisArg=W||this}_next(te){let j;try{j=this.project.call(this.thisArg,te,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(j)}}},3282:(Ke,Me,L)=>{"use strict";L.d(Me,{J:()=>U});var o=L(9773),q=L(4487);function U(oe=Number.POSITIVE_INFINITY){return(0,o.zg)(q.y,oe)}},9773:(Ke,Me,L)=>{"use strict";L.d(Me,{zg:()=>oe});var o=L(8002),q=L(4402),U=L(5345);function oe(W,z,V=Number.POSITIVE_INFINITY){return"function"==typeof z?Q=>Q.pipe(oe((H,K)=>(0,q.D)(W(H,K)).pipe((0,o.U)((ie,De)=>z(H,ie,K,De))),V)):("number"==typeof z&&(V=z),Q=>Q.lift(new de(W,V)))}class de{constructor(z,V=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=V}call(z,V){return V.subscribe(new te(z,this.project,this.concurrent))}}class te extends U.Ds{constructor(z,V,Q=Number.POSITIVE_INFINITY){super(z),this.project=V,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let V;const Q=this.index++;try{V=this.project(z,Q)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(V)}_innerSub(z){const V=new U.IY(this),Q=this.destination;Q.add(V);const H=(0,U.ft)(z,V);H!==V&&Q.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ke,Me,L)=>{"use strict";L.d(Me,{QV:()=>U,ht:()=>de});var o=L(7393),q=L(3098);function U(j,W=0){return function(V){return V.lift(new oe(j,W))}}class oe{constructor(W,z=0){this.scheduler=W,this.delay=z}call(W,z){return z.subscribe(new de(W,this.scheduler,this.delay))}}class de extends o.L{constructor(W,z,V=0){super(W),this.scheduler=z,this.delay=V}static dispatch(W){const{notification:z,destination:V}=W;z.observe(V),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new te(W,this.destination)))}_next(W){this.scheduleMessage(q.P.createNext(W))}_error(W){this.scheduleMessage(q.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(q.P.createComplete()),this.unsubscribe()}}class te{constructor(W,z){this.notification=W,this.destination=z}}},1307:(Ke,Me,L)=>{"use strict";L.d(Me,{x:()=>q});var o=L(7393);function q(){return function(te){return te.lift(new U(te))}}class U{constructor(te){this.connectable=te}call(te,j){const{connectable:W}=this;W._refCount++;const z=new oe(te,W),V=j.subscribe(z);return z.closed||(z.connection=W.connect()),V}}class oe extends o.L{constructor(te,j){super(te),this.connectable=j}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const j=te._refCount;if(j<=0)return void(this.connection=null);if(te._refCount=j-1,j>1)return void(this.connection=null);const{connection:W}=this,z=te._connection;this.connection=null,z&&(!W||z===W)&&z.unsubscribe()}}},8819:(Ke,Me,L)=>{"use strict";L.d(Me,{B:()=>j});var o=L(2441);var oe=L(1307),de=L(9765);function te(){return new de.xQ}function j(){return W=>(0,oe.x)()(function(W,z){return function(Q){let H;H="function"==typeof W?W:function(){return W};const K=Object.create(Q,o.N);return K.source=Q,K.subjectFactory=H,K}}(te)(W))}},9673:(Ke,Me,L)=>{"use strict";L.d(Me,{R:()=>de});var o=L(7574),q=L(4581),U=L(6561);class oe extends o.y{constructor(W,z=0,V=q.e){super(),this.source=W,this.delayTime=z,this.scheduler=V,(!(0,U.k)(z)||z<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=q.e)}static create(W,z=0,V=q.e){return new oe(W,z,V)}static dispatch(W){const{source:z,subscriber:V}=W;return this.add(z.subscribe(V))}_subscribe(W){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function de(j,W=0){return function(V){return V.lift(new te(j,W))}}class te{constructor(W,z){this.scheduler=W,this.delay=z}call(W,z){return new oe(z,this.delay,this.scheduler).subscribe(W)}}},8307:(Ke,Me,L)=>{"use strict";L.d(Me,{b:()=>oe});var o=L(7393),q=L(8640),U=L(9105);function oe(j,W,z){return function(Q){return Q.lift(new de(j,W,z))}}class de{constructor(W,z,V){this.nextOrObserver=W,this.error=z,this.complete=V}call(W,z){return z.subscribe(new te(W,this.nextOrObserver,this.error,this.complete))}}class te extends o.L{constructor(W,z,V,Q){super(W),this._tapNext=q.Z,this._tapError=q.Z,this._tapComplete=q.Z,this._tapError=V||q.Z,this._tapComplete=Q||q.Z,(0,U.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||q.Z,this._tapError=z.error||q.Z,this._tapComplete=z.complete||q.Z)}_next(W){try{this._tapNext.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Ke,Me,L)=>{"use strict";L.d(Me,{r:()=>U});var o=L(7574),q=L(5319);function U(oe,de){return new o.y(te=>{const j=new q.w;let W=0;return j.add(de.schedule(function(){W!==oe.length?(te.next(oe[W++]),te.closed||j.add(this.schedule())):te.complete()})),j})}},6465:(Ke,Me,L)=>{"use strict";L.d(Me,{o:()=>U});var o=L(5319);class q extends o.w{constructor(de,te){super()}schedule(de,te=0){return this}}class U extends q{constructor(de,te){super(de,te),this.scheduler=de,this.work=te,this.pending=!1}schedule(de,te=0){if(this.closed)return this;this.state=de;const j=this.id,W=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(W,j,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(W,this.id,te),this}requestAsyncId(de,te,j=0){return setInterval(de.flush.bind(de,this),j)}recycleAsyncId(de,te,j=0){if(null!==j&&this.delay===j&&!1===this.pending)return te;clearInterval(te)}execute(de,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(de,te);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,te){let W,j=!1;try{this.work(de)}catch(z){j=!0,W=!!z&&z||new Error(z)}if(j)return this.unsubscribe(),W}_unsubscribe(){const de=this.id,te=this.scheduler,j=te.actions,W=j.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&j.splice(W,1),null!=de&&(this.id=this.recycleAsyncId(te,de,null)),this.delay=null}}},6102:(Ke,Me,L)=>{"use strict";L.d(Me,{v:()=>q});let o=(()=>{class U{constructor(de,te=U.now){this.SchedulerAction=de,this.now=te}schedule(de,te=0,j){return new this.SchedulerAction(this,de).schedule(j,te)}}return U.now=()=>Date.now(),U})();class q extends o{constructor(oe,de=o.now){super(oe,()=>q.delegate&&q.delegate!==this?q.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,de=0,te){return q.delegate&&q.delegate!==this?q.delegate.schedule(oe,de,te):super.schedule(oe,de,te)}flush(oe){const{actions:de}=this;if(this.active)return void de.push(oe);let te;this.active=!0;do{if(te=oe.execute(oe.state,oe.delay))break}while(oe=de.shift());if(this.active=!1,te){for(;oe=de.shift();)oe.unsubscribe();throw te}}}},4581:(Ke,Me,L)=>{"use strict";L.d(Me,{e:()=>H,E:()=>Q});let o=1;const q=Promise.resolve(),U={};function oe(K){return K in U&&(delete U[K],!0)}const de={setImmediate(K){const ie=o++;return U[ie]=!0,q.then(()=>oe(ie)&&K()),ie},clearImmediate(K){oe(K)}};var j=L(6465),z=L(6102);const Q=new class extends z.v{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let me,Oe=-1,we=De.length;ie=ie||De.shift();do{if(me=ie.execute(ie.state,ie.delay))break}while(++Oe<we&&(ie=De.shift()));if(this.active=!1,me){for(;++Oe<we&&(ie=De.shift());)ie.unsubscribe();throw me}}}(class extends j.o{constructor(ie,De){super(ie,De),this.scheduler=ie,this.work=De}requestAsyncId(ie,De,me=0){return null!==me&&me>0?super.requestAsyncId(ie,De,me):(ie.actions.push(this),ie.scheduled||(ie.scheduled=de.setImmediate(ie.flush.bind(ie,null))))}recycleAsyncId(ie,De,me=0){if(null!==me&&me>0||null===me&&this.delay>0)return super.recycleAsyncId(ie,De,me);0===ie.actions.length&&(de.clearImmediate(De),ie.scheduled=void 0)}}),H=Q},3637:(Ke,Me,L)=>{"use strict";L.d(Me,{z:()=>U,P:()=>oe});var o=L(6465);const U=new(L(6102).v)(o.o),oe=U},7771:(Ke,Me,L)=>{"use strict";L.d(Me,{c:()=>te,N:()=>de});var o=L(6465),U=L(6102);const de=new class extends U.v{}(class extends o.o{constructor(W,z){super(W,z),this.scheduler=W,this.work=z}schedule(W,z=0){return z>0?super.schedule(W,z):(this.delay=z,this.state=W,this.scheduler.flush(this),this)}execute(W,z){return z>0||this.closed?super.execute(W,z):this._execute(W,z)}requestAsyncId(W,z,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(W,z,V):W.flush(this)}}),te=de},377:(Ke,Me,L)=>{"use strict";L.d(Me,{hZ:()=>q});const q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ke,Me,L)=>{"use strict";L.d(Me,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ke,Me,L)=>{"use strict";L.d(Me,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ke,Me,L)=>{"use strict";L.d(Me,{N:()=>q});const q=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Ke,Me,L)=>{"use strict";function o(q){setTimeout(()=>{throw q},0)}L.d(Me,{z:()=>o})},4487:(Ke,Me,L)=>{"use strict";function o(q){return q}L.d(Me,{y:()=>o})},9796:(Ke,Me,L)=>{"use strict";L.d(Me,{k:()=>o});const o=Array.isArray||(q=>q&&"number"==typeof q.length)},9489:(Ke,Me,L)=>{"use strict";L.d(Me,{z:()=>o});const o=q=>q&&"number"==typeof q.length&&"function"!=typeof q},9105:(Ke,Me,L)=>{"use strict";function o(q){return"function"==typeof q}L.d(Me,{m:()=>o})},6561:(Ke,Me,L)=>{"use strict";L.d(Me,{k:()=>q});var o=L(9796);function q(U){return!(0,o.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Ke,Me,L)=>{"use strict";function o(q){return null!==q&&"object"==typeof q}L.d(Me,{K:()=>o})},4072:(Ke,Me,L)=>{"use strict";function o(q){return!!q&&"function"!=typeof q.subscribe&&"function"==typeof q.then}L.d(Me,{t:()=>o})},4869:(Ke,Me,L)=>{"use strict";function o(q){return q&&"function"==typeof q.schedule}L.d(Me,{K:()=>o})},8640:(Ke,Me,L)=>{"use strict";function o(){}L.d(Me,{Z:()=>o})},7444:(Ke,Me,L)=>{"use strict";L.d(Me,{s:()=>Q});var o=L(5015),q=L(4449),oe=L(377),te=L(6554),W=L(9489),z=L(4072),V=L(1555);const Q=H=>{if(H&&"function"==typeof H[te.L])return(H=>K=>{const ie=H[te.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(K)})(H);if((0,W.z)(H))return(0,o.V)(H);if((0,z.t)(H))return(H=>K=>(H.then(ie=>{K.closed||(K.next(ie),K.complete())},ie=>K.error(ie)).then(null,q.z),K))(H);if(H&&"function"==typeof H[oe.hZ])return(H=>K=>{const ie=H[oe.hZ]();for(;;){let De;try{De=ie.next()}catch(me){return K.error(me),K}if(De.done){K.complete();break}if(K.next(De.value),K.closed)break}return"function"==typeof ie.return&&K.add(()=>{ie.return&&ie.return()}),K})(H);{const ie=`You provided ${(0,V.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Ke,Me,L)=>{"use strict";L.d(Me,{V:()=>o});const o=q=>U=>{for(let oe=0,de=q.length;oe<de&&!U.closed;oe++)U.next(q[oe]);U.complete()}},8723:(Ke,Me,L)=>{"use strict";var o=L(7716);let q=null;function U(){return q}const j=new o.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:z,token:r,providedIn:"platform"}),r})();function z(){return(0,o.LFG)(Q)}const V=new o.OlP("Location Initialized");let Q=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,a){H()?this._history.pushState(n,s,a):this.location.hash=a}replaceState(n,s,a){H()?this._history.replaceState(n,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=(0,o.Yz7)({factory:K,token:r,providedIn:"platform"}),r})();function H(){return!!window.history.pushState}function K(){return new Q((0,o.LFG)(j))}function ie(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function De(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function me(r){return r&&"?"!==r[0]?"?"+r:r}let Oe=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:we,token:r,providedIn:"root"}),r})();function we(r){const i=(0,o.LFG)(j).location;return new rt((0,o.LFG)(W),i&&i.origin||"")}const Ie=new o.OlP("appBaseHref");let rt=(()=>{class r extends Oe{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ie(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+me(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${s}${a}`:s}pushState(n,s,a,l){const h=this.prepareExternalUrl(a+me(l));this._platformLocation.pushState(n,s,h)}replaceState(n,s,a,l){const h=this.prepareExternalUrl(a+me(l));this._platformLocation.replaceState(n,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(W),o.LFG(Ie,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),mt=(()=>{class r extends Oe{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=ie(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,a,l){let h=this.prepareExternalUrl(a+me(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,s,h)}replaceState(n,s,a,l){let h=this.prepareExternalUrl(a+me(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(W),o.LFG(Ie,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Zt=(()=>{class r{constructor(n,s){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=De(Ae(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+me(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,Ae(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",a=null){this._platformStrategy.pushState(a,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+me(s)),a)}replaceState(n,s="",a=null){this._platformStrategy.replaceState(a,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+me(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(a=>a(n,s))}subscribe(n,s,a){return this._subject.subscribe({next:n,error:s,complete:a})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Oe),o.LFG(W))},r.normalizeQueryParams=me,r.joinWithSlash=ie,r.stripTrailingSlash=De,r.\u0275prov=(0,o.Yz7)({factory:Ut,token:r,providedIn:"root"}),r})();function Ut(){return new Zt((0,o.LFG)(Oe),(0,o.LFG)(W))}function Ae(r){return r.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const Ds=o.kL8;class la{}let ad=(()=>{class r extends la{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(Ds(s||this.locale)(n)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.soG))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class as{constructor(i,n,s,a){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bt=(()=>{class r{constructor(n,s,a){this._viewContainer=n,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new as(null,this._ngForOf,-1,-1),null===h?void 0:h),_=new ld(a,m);s.push(_)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const _=new ld(a,m);s.push(_)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class ld{constructor(i,n){this.record=i,this.view=n}}let ct=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new Wf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ca("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ca("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class Wf{constructor(){this.$implicit=null,this.ngIf=null}}function ca(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,o.AaK)(i)}'.`)}class bl{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let ji=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Kn=(()=>{class r{constructor(n,s,a){this.ngSwitch=a,a._addCase(),this._view=new bl(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ji,9))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),ua=(()=>{class r{constructor(n,s,a){this._ngEl=n,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[a,l]=n.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})(),wi=(()=>{class r{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(n){if(n.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),r})();class MD{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class ro{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const Ov=new ro,Og=new MD;let Ng=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,o.QGY)(n))return Ov;if((0,o.F4k)(n))return Og;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,o.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO,16))},r.\u0275pipe=o.Yjl({name:"async",type:r,pure:!1}),r})(),Xt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:la,useClass:ad}]}),r})();function kc(r){return"browser"===r}function cs(r){return"server"===r}let wl=(()=>{class r{}return r.\u0275prov=(0,o.Yz7)({token:r,providedIn:"root",factory:()=>new np((0,o.LFG)(j),window)}),r})();class np{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Ic(this.window.history)||Ic(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function Ic(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Rc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new Rc,q||(q=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(da=da||document.querySelector("base"),da?da.getAttribute("href"):null);return null==n?null:function(r){Yn=Yn||document.createElement("a"),Yn.setAttribute("href",r);const i=Yn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[a,l]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}(document.cookie,i)}}let Yn,da=null;const rp=new o.OlP("TRANSITION_ID"),qr=[{provide:o.ip1,useFactory:function(r,i,n){return()=>{n.get(o.CZH).donePromise.then(()=>{const s=U(),a=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[rp,j,o.zs3],multi:!0}];class hd{static init(){(0,o.VLi)(new hd)}addToWindow(i){o.dqk.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const m=function(_){h=h||_,l--,0==l&&s(h)};a.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const a=i.getTestability(n);return null!=a?a:s?U().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Oc=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Cl=new o.OlP("EventManagerPlugins");let ke=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(a=>a.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,a){return this._findPluginFor(s).addEventListener(n,s,a)}addGlobalEventListener(n,s,a){return this._findPluginFor(s).addGlobalEventListener(n,s,a)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(n))return this._eventNameToPlugin.set(n,h),h}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Cl),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class sn{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const a=U().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${n}`);return this.addEventListener(a,n,s)}}let Fc=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Xn=(()=>{class r extends Fc{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,a){n.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(s.appendChild(h))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(Lc),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(n,a,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Lc))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function Lc(r){U().remove(r)}const Za={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ts=/%COMP%/g;function $i(r,i,n){for(let s=0;s<i.length;s++){let a=i[s];Array.isArray(a)?$i(r,a,n):(a=a.replace(Ts,r),n.push(a))}return n}function ds(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Vs=(()=>{class r{constructor(n,s,a){this.eventManager=n,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Us(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Zv(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(n),a}case 1:case o.ifc.ShadowDom:return new Bc(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const a=$i(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ke),o.LFG(Xn),o.LFG(o.AFp))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Us{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(Za[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,a){if(a){n=a+":"+n;const l=Za[a];l?i.setAttributeNS(l,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const a=Za[s];a?i.removeAttributeNS(a,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,a){a&(o.JOm.DashCase|o.JOm.Important)?i.style.setProperty(n,s,a&o.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&o.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,ds(s)):this.eventManager.addEventListener(i,n,ds(s))}}class Zv extends Us{constructor(i,n,s,a){super(i),this.component=s;const l=$i(a+"-"+s.id,s.styles,[]);n.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Ts,a+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(Ts,r)}(a+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class Bc extends Us{constructor(i,n,s,a){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=$i(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let cp=(()=>{class r extends sn{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,a){return n.addEventListener(s,a,!1),()=>this.removeEventListener(n,s,a)}removeEventListener(n,s,a){return n.removeEventListener(s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Vc=["alt","control","meta","shift"],OD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jv={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let dp=(()=>{class r extends sn{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,a){const l=r.parseEventName(s),h=r.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,l.domEventName,h))}static parseEventName(n){const s=n.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=r._normalizeKey(s.pop());let h="";if(Vc.forEach(_=>{const w=s.indexOf(_);w>-1&&(s.splice(w,1),h+=_+".")}),h+=l,0!=s.length||0===l.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(n){let s="",a=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&Ar.hasOwnProperty(i)&&(i=Ar[i]))}return OD[i]||i}(n);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Vc.forEach(l=>{l!=a&&jv[l](n)&&(s+=l+".")}),s+=a,s}static eventCallback(n,s,a){return l=>{r.getEventFullKey(l)===n&&a.runGuarded(()=>s(l))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Oo=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(Sl)},token:r,providedIn:"root"}),r})(),Sl=(()=>{class r extends Oo{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case o.q3G.NONE:return s;case o.q3G.HTML:return(0,o.qzn)(s,"HTML")?(0,o.z3N)(s):(0,o.EiD)(this._doc,String(s)).toString();case o.q3G.STYLE:return(0,o.qzn)(s,"Style")?(0,o.z3N)(s):s;case o.q3G.SCRIPT:if((0,o.qzn)(s,"Script"))return(0,o.z3N)(s);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(s),(0,o.qzn)(s,"URL")?(0,o.z3N)(s):(0,o.mCW)(String(s));case o.q3G.RESOURCE_URL:if((0,o.qzn)(s,"ResourceURL"))return(0,o.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,o.JVY)(n)}bypassSecurityTrustStyle(n){return(0,o.L6k)(n)}bypassSecurityTrustScript(n){return(0,o.eBb)(n)}bypassSecurityTrustUrl(n){return(0,o.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,o.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=(0,o.Yz7)({factory:function(){return function(r){return new Sl(r.get(j))}((0,o.LFG)(o.gxx))},token:r,providedIn:"root"}),r})();const Uc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Rc.makeCurrent(),hd.init()},multi:!0},{provide:j,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),pp=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Cl,useClass:cp,multi:!0,deps:[j,o.R0b,o.Lbi]},{provide:Cl,useClass:dp,multi:!0,deps:[j]},[],{provide:Vs,useClass:Vs,deps:[ke,Xn,o.AFp]},{provide:o.FYo,useExisting:Vs},{provide:Fc,useExisting:Xn},{provide:Xn,useClass:Xn,deps:[j]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:ke,useClass:ke,deps:[Cl,o.R0b]},{provide:class{},useClass:Oc,deps:[]},[]];let zg=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:o.AFp,useValue:n.appId},{provide:rp,useExisting:o.AFp},qr]}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(r,12))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:pp,imports:[Xt,o.hGG]}),r})();"undefined"!=typeof window&&window;var pe=L(9765),kt=L(5319),ja=L(7971);class oi extends pe.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ja.N;return this._value}next(i){super.next(this._value=i)}}var qe=L(5917);function Gn(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var Wn=L(8307),Ti=L(7393),ps=L(3637);function Kc(r,i=ps.P){return n=>n.lift(new g0(r,i))}class g0{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new _0(i,this.dueTime,this.scheduler))}}class _0 extends Ti.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(y0,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function y0(r){r.debouncedNext()}function wt(r,i){return function(s){return s.lift(new ga(r,i))}}class ga{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new M(i,this.predicate,this.thisArg))}}class M extends Ti.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}var b=L(8002);const S=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();var R=L(9193);function P(r){return i=>0===r?(0,R.c)():i.lift(new ue(r))}class ue{constructor(i){if(this.total=i,this.total<0)throw new S}call(i,n){return n.subscribe(new Pe(i,this.total))}}class Pe extends Ti.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function nt(r){return i=>i.lift(new Dt(r))}class Dt{constructor(i){this.total=i}call(i,n){return n.subscribe(new nn(i,this.total))}}class nn extends Ti.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}function vn(r,i){return n=>n.lift(new Fo(r,i))}class Fo{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new _a(i,this.compare,this.keySelector))}}class _a extends Ti.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:a}=this;n=a?a(i):i}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}var ai=L(5345);function Be(r){return i=>i.lift(new Ss(r))}class Ss{constructor(i){this.notifier=i}call(i,n){const s=new Rl(i),a=(0,ai.ft)(this.notifier,new ai.IY(s));return a&&!s.seenValue?(s.add(a),n.subscribe(s)):s}}class Rl extends ai.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function xe(r){return null!=r&&"false"!=`${r}`}function qt(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function Xc(r){return Array.isArray(r)?r:[r]}function mi(r){return null==r?"":"string"==typeof r?r:`${r}px`}function li(r){return r instanceof o.SBq?r.nativeElement:r}let Ja;try{Ja="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){Ja=!1}let Ep,Rt=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?kc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ja)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.Lbi))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.Lbi))},token:r,providedIn:"root"}),r})(),Mp=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const b0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tT(){if(Ep)return Ep;if("object"!=typeof document||!document)return Ep=new Set(b0),Ep;let r=document.createElement("input");return Ep=new Set(b0.filter(i=>(r.setAttribute("type",i),r.type===i))),Ep}let Sp,xp,ya,w0;function Lo(r){return function(){if(null==Sp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sp=!0}))}finally{Sp=Sp||!1}return Sp}()?r:!!r.capture}function v0(){if(null==ya){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ya=!1,ya;if("scrollBehavior"in document.documentElement.style)ya=!0;else{const r=Element.prototype.scrollTo;ya=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ya}function eu(){if("object"!=typeof document||!document)return 0;if(null==xp){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),xp=0,0===r.scrollLeft&&(r.scrollLeft=1,xp=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return xp}function f_(r){if(function(){if(null==w0){const r="undefined"!=typeof document?document.head:null;w0=!(!r||!r.createShadowRoot&&!r.attachShadow)}return w0}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Qa(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function xs(r){return r.composedPath?r.composedPath()[0]:r.target}var kn=L(7574);let C0=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),nT=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=li(n);return new kn.y(a=>{const h=this._observeElement(s).subscribe(a);return()=>{h.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new pe.xQ,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:a,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:a}=this._observedElements.get(n);s&&s.disconnect(),a.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(C0))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(C0))},token:r,providedIn:"root"}),r})(),Ap=(()=>{class r{constructor(n,s,a){this._contentObserver=n,this._elementRef=s,this._ngZone=a,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=xe(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=qt(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(Kc(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(nT),o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),kp=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[C0]}),r})();class tu extends class{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pe.xQ,this._typeaheadSubscription=kt.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new pe.xQ,this.change=new pe.xQ,i instanceof o.n_E&&i.changes.subscribe(n=>{if(this._activeItem){const a=n.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Wn.b)(n=>this._pressedLetters.push(n)),Kc(i),wt(()=>this._pressedLetters.length>0),(0,b.U)(()=>this._pressedLetters.join(""))).subscribe(n=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,h=s[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const n=this._activeItem;this.updateActiveItem(i),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(i){const n=i.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!i[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||Gn(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const n=this._getItemsArray(),s="number"==typeof i?i:n.indexOf(i),a=n[s];this._activeItem=null==a?null:a,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const n=this._getItemsArray();for(let s=1;s<=n.length;s++){const a=(this._activeItemIndex+i*s+n.length)%n.length;if(!this._skipPredicateFn(n[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,n){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=n])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let M0=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===S0(s)||!this.isVisible(s)))return!1;let a=n.nodeName.toLowerCase(),l=S0(n);return n.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===a?!!n.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||Ik(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rt))},token:r,providedIn:"root"}),r})();function Ik(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function S0(r){if(!Ik(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class Zd{constructor(i,n,s,a,l=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let a=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let a=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(P(1)).subscribe(i)}}let g_=(()=>{class r{constructor(n,s,a){this._checker=n,this._ngZone=s,this._document=a}create(n,s=!1){return new Zd(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(M0),o.LFG(o.R0b),o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(M0),o.LFG(o.R0b),o.LFG(j))},token:r,providedIn:"root"}),r})();function x0(r){return 0===r.offsetX&&0===r.offsetY}function Op(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const uT=new o.OlP("cdk-input-modality-detector-options"),Lk={ignoreKeys:[18,17,224,91,16]},Bo=Lo({passive:!0,capture:!0});let Vo=(()=>{class r{constructor(n,s,a,l){this._platform=n,this._mostRecentTarget=null,this._modality=new oi(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,_;(null===(_=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===_?void 0:_.some(w=>w===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=xs(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(x0(h)?"keyboard":"mouse"),this._mostRecentTarget=xs(h))},this._onTouchstart=h=>{Op(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xs(h))},this._options=Object.assign(Object.assign({},Lk),l),this.modalityDetected=this._modality.pipe(nt(1)),this.modalityChanged=this.modalityDetected.pipe(vn()),n.isBrowser&&s.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Bo),a.addEventListener("mousedown",this._onMousedown,Bo),a.addEventListener("touchstart",this._onTouchstart,Bo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,Bo),document.removeEventListener("mousedown",this._onMousedown,Bo),document.removeEventListener("touchstart",this._onTouchstart,Bo))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rt),o.LFG(o.R0b),o.LFG(j),o.LFG(uT,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rt),o.LFG(o.R0b),o.LFG(j),o.LFG(uT,8))},token:r,providedIn:"root"}),r})();const y_=new o.OlP("cdk-focus-monitor-default-options"),Yd=Lo({passive:!0,capture:!0});let ti=(()=>{class r{constructor(n,s,a,l,h){this._ngZone=n,this._platform=s,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe.xQ,this._rootNodeFocusAndBlurListener=m=>{const _=xs(m),w="focus"===m.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)w.call(this,m,T)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(n,s=!1){const a=li(n);if(!this._platform.isBrowser||1!==a.nodeType)return(0,qe.of)(null);const l=f_(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return s&&(h.checkChildren=!0),h.subject;const m={checkChildren:s,subject:new pe.xQ,rootNode:l};return this._elementInfo.set(a,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(n){const s=li(n),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(n,s,a){const l=li(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,_])=>this._originChanged(m,s,_)):(this._setOrigin(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,a){a?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const a=this._elementInfo.get(s),l=xs(n);!a||!a.checkChildren&&s!==l||this._originChanged(s,this._getFocusOrigin(l),a)}_onBlur(n,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(a.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yd),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yd)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Be(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yd),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yd),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,a){this._setClasses(n,s),this._emitOrigin(a.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((a,l)=>{(l===n||a.checkChildren&&l.contains(n))&&s.push([l,a])}),s}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(Rt),o.LFG(Vo),o.LFG(j,8),o.LFG(y_,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(Rt),o.LFG(Vo),o.LFG(j,8),o.LFG(y_,8))},token:r,providedIn:"root"}),r})(),b_=(()=>{class r{constructor(n,s){this._elementRef=n,this._focusMonitor=s,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,1===n.nodeType&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(ti))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const Gd="cdk-high-contrast-black-on-white",k0="cdk-high-contrast-white-on-black",v_="cdk-high-contrast-active";let w_=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(n):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(v_),n.remove(Gd),n.remove(k0),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(v_),n.add(Gd)):2===s&&(n.add(v_),n.add(k0))}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rt),o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rt),o.LFG(j))},token:r,providedIn:"root"}),r})(),nu=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(w_))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Mp,kp]]}),r})(),Hk=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();var Nl=L(9796),Zk=L(9105);function Nn(r,i,n,s){return(0,Zk.m)(n)&&(s=n,n=void 0),s?Nn(r,i,n).pipe((0,b.U)(a=>(0,Nl.k)(a)?s(...a):s(a))):new kn.y(a=>{fT(r,i,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,n)})}function fT(r,i,n,s,a){let l;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const h=r;r.addEventListener(i,n,a),l=()=>h.removeEventListener(i,n,a)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const h=r;r.on(i,n),l=()=>h.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const h=r;r.addListener(i,n),l=()=>h.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let h=0,m=r.length;h<m;h++)fT(r[h],i,n,s,a)}s.add(l)}var R0=L(6465),O0=L(6102);const gT=new class extends O0.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,a=-1,l=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++a<l&&(i=n.shift()));if(this.active=!1,s){for(;++a<l&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends R0.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});L(4581);class yT{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new zk(i,this.durationSelector))}}class zk extends ai.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:a}=this;n=a(i)}catch(a){return this.destination.error(a)}const s=(0,ai.ft)(n,new ai.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var qd=L(6561),D_=L(4869);function Pp(r=0,i,n){let s=-1;return(0,qd.k)(i)?s=Number(i)<1?1:Number(i):(0,D_.K)(i)&&(n=i),(0,D_.K)(n)||(n=ps.P),new kn.y(a=>{const l=(0,qd.k)(r)?r:+r-n.now();return n.schedule(bT,l,{index:0,period:s,subscriber:a})})}function bT(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function Fp(r,i=ps.P){return function(r){return function(n){return n.lift(new yT(r))}}(()=>Pp(r,i))}var jd=L(3282);function Pl(...r){return(0,jd.J)(1)((0,qe.of)(...r))}function $t(...r){const i=r[r.length-1];return(0,D_.K)(i)?(r.pop(),n=>Pl(r,n,i)):n=>Pl(r,n)}function Lp(){return r=>r.lift(new N0)}class N0{call(i,n){return n.subscribe(new wT(i))}}class wT extends Ti.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}var Bn=L(4402);function mn(r,i){return"function"==typeof i?n=>n.pipe(mn((s,a)=>(0,Bn.D)(r(s,a)).pipe((0,b.U)((l,h)=>i(s,l,a,h))))):n=>n.lift(new $k(r))}class $k{constructor(i){this.project=i}call(i,n){return n.subscribe(new CT(i,this.project))}}class CT extends ai.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(a){return void this.destination.error(a)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new ai.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,ai.ft)(i,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var Wk=L(7771),Bp=L(9746),DT=L(8858);class P0 extends pe.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new TT(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let h;if(this.closed)throw new ja.N;if(this.isStopped||this.hasError?h=kt.w.EMPTY:(this.observers.push(i),h=new DT.W(this,i)),a&&i.add(i=new Bp.ht(i,a)),n)for(let m=0;m<l&&!i.closed;m++)i.next(s[m]);else for(let m=0;m<l&&!i.closed;m++)i.next(s[m].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),h}_getNow(){return(this.scheduler||Wk.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(i-a[h].time<s);)h++;return l>n&&(h=Math.max(h,l-n)),h>0&&a.splice(0,h),a}}class TT{constructor(i,n){this.time=i,this.value=n}}function va(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},a=>a.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let a,h,l=0,m=!1,_=!1;return function(T){let A;l++,!a||m?(m=!1,a=new P0(r,i,s),A=a.subscribe(this),h=T.subscribe({next(I){a.next(I)},error(I){m=!0,a.error(I)},complete(){_=!0,h=void 0,a.complete()}}),_&&(h=void 0)):A=a.subscribe(this),this.add(()=>{l--,A.unsubscribe(),A=void 0,h&&!_&&n&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}const ET=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(j)}});let gn=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new o.vpe,n){const a=n.documentElement?n.documentElement.dir:null,l=(n.body?n.body.dir:null)||a;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ET,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(ET,8))},token:r,providedIn:"root"}),r})(),$r=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();function zd(r){return r&&"function"==typeof r.connect}class xT{applyChanges(i,n,s,a,l){i.forEachOperation((h,m,_)=>{let w,T;if(null==h.previousIndex){const A=s(h,m,_);w=n.createEmbeddedView(A.templateRef,A.context,A.index),T=1}else null==_?(n.remove(m),T=3):(w=n.get(m),n.move(w,_),T=2);l&&l({context:null==w?void 0:w.context,operation:T,record:h})})}detach(){}}const iu=new o.OlP("_ViewRepeater");let Ka=(()=>{class r{constructor(n,s,a){this._ngZone=n,this._platform=s,this._scrolled=new pe.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new kn.y(s=>{this._globalSubscription||this._addGlobalListener();const a=n>0?this._scrolled.pipe(Fp(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,qe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const a=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(wt(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,n)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let a=li(s),l=n.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Nn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(Rt),o.LFG(j,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(Rt),o.LFG(j,8))},token:r,providedIn:"root"}),r})(),Fl=(()=>{class r{constructor(n,s,a,l){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new pe.xQ,this._elementScrolled=new kn.y(h=>this.ngZone.runOutsideAngular(()=>Nn(this.elementRef.nativeElement,"scroll").pipe(Be(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),a&&0!=eu()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==eu()?n.left=n.right:1==eu()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;v0()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==n)return l.scrollTop;if("bottom"==n)return l.scrollHeight-l.clientHeight-l.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==n?n=h?a:s:"end"==n&&(n=h?s:a),h&&2==eu()?n==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:h&&1==eu()?n==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:n==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Ka),o.Y36(o.R0b),o.Y36(gn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),mr=(()=>{class r{constructor(n,s,a){this._platform=n,this._change=new pe.xQ,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+a,right:n.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),a=n.documentElement,l=a.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||n.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(Fp(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rt),o.LFG(o.R0b),o.LFG(j,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rt),o.LFG(o.R0b),o.LFG(j,8))},token:r,providedIn:"root"}),r})(),gr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),ru=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[$r,Mp,gr],$r,gr]}),r})();function U0(r){const{subscriber:i,counter:n,period:s}=r;i.next(n),this.schedule({subscriber:i,counter:n+1,period:s},s)}var In=L(6682);function H0(r,i,n){for(let s in i)if(i.hasOwnProperty(s)){const a=i[s];a?r.setProperty(s,a,(null==n?void 0:n.has(s))?"important":""):r.removeProperty(s)}return r}function su(r,i){const n=i?"":"none";H0(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function eI(r,i,n){H0(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},n)}function S_(r,i){return i&&"none"!=i?r+" "+i:r}function tI(r){const i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i}function x_(r,i){return r.getPropertyValue(i).split(",").map(s=>s.trim())}function Z0(r){const i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}function Up(r,i,n){const{top:s,bottom:a,left:l,right:h}=r;return n>=s&&n<=a&&i>=l&&i<=h}function A_(r,i,n){r.top+=i,r.bottom=r.top+r.height,r.left+=n,r.right=r.left+r.width}function nI(r,i,n,s){const{top:a,right:l,bottom:h,left:m,width:_,height:w}=r,T=_*i,A=w*i;return s>a-A&&s<h+A&&n>m-T&&n<l+T}class iI{constructor(i,n){this._document=i,this._viewportRuler=n,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),i.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Z0(n)})})}handleScroll(i){const n=xs(i),s=this.positions.get(n);if(!s)return null;const a=n===this._document?n.documentElement:n,l=s.scrollPosition;let h,m;if(n===this._document){const T=this._viewportRuler.getViewportScrollPosition();h=T.top,m=T.left}else h=n.scrollTop,m=n.scrollLeft;const _=l.top-h,w=l.left-m;return this.positions.forEach((T,A)=>{T.clientRect&&n!==A&&a.contains(A)&&A_(T.clientRect,_,w)}),l.top=h,l.left=m,{top:_,left:w}}}function rI(r){const i=r.cloneNode(!0),n=i.querySelectorAll("[id]"),s=r.nodeName.toLowerCase();i.removeAttribute("id");for(let a=0;a<n.length;a++)n[a].removeAttribute("id");return"canvas"===s?aI(r,i):("input"===s||"select"===s||"textarea"===s)&&oI(r,i),sI("canvas",r,i,aI),sI("input, textarea, select",r,i,oI),i}function sI(r,i,n,s){const a=i.querySelectorAll(r);if(a.length){const l=n.querySelectorAll(r);for(let h=0;h<a.length;h++)s(a[h],l[h])}}let nB=0;function oI(r,i){"file"!==i.type&&(i.value=r.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${nB++}`)}function aI(r,i){const n=i.getContext("2d");if(n)try{n.drawImage(r,0,0)}catch(s){}}const lI=Lo({passive:!0}),cI=Lo({passive:!1}),Ca=new Set(["position"]);class Y0{constructor(i,n,s,a,l,h){this._config=n,this._document=s,this._ngZone=a,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new pe.xQ,this._pointerMoveSubscription=kt.w.EMPTY,this._pointerUpSubscription=kt.w.EMPTY,this._scrollSubscription=kt.w.EMPTY,this._resizeSubscription=kt.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new pe.xQ,this.started=new pe.xQ,this.released=new pe.xQ,this.ended=new pe.xQ,this.entered=new pe.xQ,this.exited=new pe.xQ,this.dropped=new pe.xQ,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const _=this._handles.find(w=>{const T=xs(m);return!!T&&(T===w||w.contains(T))});_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const _=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const O=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),B=this._dropContainer;if(!O)return void this._endDragSequence(m);(!B||!B.isDragging()&&!B.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),m.preventDefault();const w=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,_);else{const T=this._activeTransform;T.x=w.x-this._pickupPositionOnPage.x+this._passiveTransform.x,T.y=w.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(T.x,T.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${T.x} ${T.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:m,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this.withRootElement(i).withParent(n.parentDragRef||null),this._parentPositions=new iI(s,l),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const n=xe(i);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(s=>su(s,n)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(s=>li(s)),this._handles.forEach(s=>su(s,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&n.add(s)}),this._disabledHandles=n,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const n=li(i);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,cI),n.addEventListener("touchstart",this._pointerDown,lI)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?li(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&$d(this._rootElement),$d(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),su(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),su(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&$d(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&$d(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Wd(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const s=this._rootElement,a=s.parentNode,l=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();a.insertBefore(h,s),this._initialTransform=s.style.transform||"",this._preview=this._createPreviewElement(),eI(s,!1,Ca),this._document.body.appendChild(a.replaceChild(l,s)),this._getPreviewInsertionPoint(a,m).appendChild(this._preview),this.started.next({source:this}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,n){this._parentDragRef&&n.stopPropagation();const s=this.isDragging(),a=Wd(n),l=!a&&0!==n.button,h=this._rootElement,m=xs(n),_=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=a?Op(n):x0(n);if(m&&m.draggable&&"mousedown"===n.type&&n.preventDefault(),s||l||_||w)return;this._handles.length&&(this._rootElementTapHighlight=h.style.webkitTapHighlightColor||"",h.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(I=>this._updateOnScroll(I)),this._boundaryElement&&(this._boundaryRect=Z0(this._boundaryElement));const T=this._previewTemplate;this._pickupPositionInElement=T&&T.template&&!T.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,n);const A=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:A.x,y:A.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(i){eI(this._rootElement,!0,Ca),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,s=n.getItemIndex(this),a=this._getPointerPositionOnPage(i),l=this._getDragDistance(a),h=n._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:l,dropPoint:a}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:a}),n.drop(this,s,this._initialIndex,this._initialContainer,h,l,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:n},{x:s,y:a}){let l=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,i,n,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,a),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,n=this.previewClass,s=i?i.template:null;let a;if(s&&i){const l=i.matchSize?this._rootElement.getBoundingClientRect():null,h=i.viewContainer.createEmbeddedView(s,i.context);h.detectChanges(),a=I_(h,this._document),this._previewRef=h,i.matchSize?OT(a,l):a.style.transform=k_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const l=this._rootElement;a=rI(l),OT(a,l.getBoundingClientRect()),this._initialTransform&&(a.style.transform=this._initialTransform)}return H0(a.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ca),su(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(l=>a.classList.add(l)):a.classList.add(n)),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const n=function(r){const i=getComputedStyle(r),n=x_(i,"transition-property"),s=n.find(m=>"transform"===m||"all"===m);if(!s)return 0;const a=n.indexOf(s),l=x_(i,"transition-duration"),h=x_(i,"transition-delay");return tI(l[a])+tI(h[a])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{const a=h=>{(!h||xs(h)===this._preview&&"transform"===h.propertyName)&&(this._preview.removeEventListener("transitionend",a),s(),clearTimeout(l))},l=setTimeout(a,1.5*n);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,n=i?i.template:null;let s;return n?(this._placeholderRef=i.viewContainer.createEmbeddedView(n,i.context),this._placeholderRef.detectChanges(),s=I_(this._placeholderRef,this._document)):s=rI(this._rootElement),s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(i,n){const s=this._rootElement.getBoundingClientRect(),a=i===this._rootElement?null:i,l=a?a.getBoundingClientRect():s,h=Wd(n)?n.targetTouches[0]:n,m=this._getViewportScrollPosition();return{x:l.left-s.left+(h.pageX-l.left-m.left),y:l.top-s.top+(h.pageY-l.top-m.top)}}_getPointerPositionOnPage(i){const n=this._getViewportScrollPosition(),s=Wd(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,a=s.pageX-n.left,l=s.pageY-n.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const m=this._ownerSVGElement.createSVGPoint();return m.x=a,m.y=l,m.matrixTransform(h.inverse())}}return{x:a,y:l}}_getConstrainedPointerPosition(i){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:s,y:a}=this.constrainPosition?this.constrainPosition(i,this):i;if("x"===this.lockAxis||"x"===n?a=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===n)&&(s=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:h}=this._pickupPositionInElement,m=this._boundaryRect,_=this._previewRect,w=m.top+h,T=m.bottom-(_.height-h);s=G0(s,m.left+l,m.right-(_.width-l)),a=G0(a,w,T)}return{x:s,y:a}}_updatePointerDirectionDelta(i){const{x:n,y:s}=i,a=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(n-l.x),m=Math.abs(s-l.y);return h>this._config.pointerDirectionChangeThreshold&&(a.x=n>l.x?1:-1,l.x=n),m>this._config.pointerDirectionChangeThreshold&&(a.y=s>l.y?1:-1,l.y=s),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,su(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,cI),i.removeEventListener("touchstart",this._pointerDown,lI)}_applyRootElementTransform(i,n){const s=k_(i,n);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=S_(s,this._initialTransform)}_applyPreviewTransform(i,n){var s;const a=(null===(s=this._previewTemplate)||void 0===s?void 0:s.template)?void 0:this._initialTransform,l=k_(i,n);this._preview.style.transform=S_(l,a)}_getDragDistance(i){const n=this._pickupPositionOnPage;return n?{x:i.x-n.x,y:i.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:n}=this._passiveTransform;if(0===i&&0===n||this.isDragging()||!this._boundaryElement)return;const s=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===a.width&&0===a.height)return;const l=s.left-a.left,h=a.right-s.right,m=s.top-a.top,_=a.bottom-s.bottom;s.width>a.width?(l>0&&(i+=l),h>0&&(i-=h)):i=0,s.height>a.height?(m>0&&(n+=m),_>0&&(n-=_)):n=0,(i!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:i})}_getDragStartDelay(i){const n=this.dragStartDelay;return"number"==typeof n?n:Wd(i)?n.touch:n?n.mouse:0}_updateOnScroll(i){const n=this._parentPositions.handleScroll(i);if(n){const s=xs(i);this._boundaryRect&&(s===this._document||s!==this._boundaryElement&&s.contains(this._boundaryElement))&&A_(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const i=this._parentPositions.positions.get(this._document);return i?i.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=f_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,n){const s=this._previewContainer||"global";if("parent"===s)return i;if("global"===s){const a=this._document;return n||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return li(s)}}function k_(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`}function G0(r,i,n){return Math.max(i,Math.min(n,r))}function $d(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Wd(r){return"t"===r.type[0]}function I_(r,i){const n=r.rootNodes;if(1===n.length&&n[0].nodeType===i.ELEMENT_NODE)return n[0];const s=i.createElement("div");return n.forEach(a=>s.appendChild(a)),s}function OT(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=k_(i.left,i.top)}function R_(r,i){return Math.max(0,Math.min(i,r))}class PT{constructor(i,n,s,a,l){this._dragDropRegistry=n,this._ngZone=a,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new pe.xQ,this.entered=new pe.xQ,this.exited=new pe.xQ,this.dropped=new pe.xQ,this.sorted=new pe.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=kt.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new pe.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(r=0,i=ps.P){return(!(0,qd.k)(r)||r<0)&&(r=0),(!i||"function"!=typeof i.schedule)&&(i=ps.P),new kn.y(n=>(n.add(i.schedule(U0,r,{subscriber:n,counter:0,period:r})),n))}(0,gT).pipe(Be(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?FT(h,-m):2===this._verticalScrollDirection&&FT(h,m),1===this._horizontalScrollDirection?Jd(h,-m):2===this._horizontalScrollDirection&&Jd(h,m)})},this.element=li(i),this._document=s,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new iI(s,l)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,n,s,a){let l;this._draggingStarted(),null==a?(l=this.sortingDisabled?this._draggables.indexOf(i):-1,-1===l&&(l=this._getItemIndexFromPointerPosition(i,n,s))):l=a;const h=this._activeDraggables,m=h.indexOf(i),_=i.getPlaceholderElement();let w=h[l];if(w===i&&(w=h[l+1]),m>-1&&h.splice(m,1),w&&!this._dragDropRegistry.isDragging(w)){const T=w.getRootElement();T.parentElement.insertBefore(_,T),h.splice(l,0,i)}else if(this._shouldEnterAsFirstChild(n,s)){const T=h[0].getRootElement();T.parentNode.insertBefore(_,T),h.unshift(i)}else li(this.element).appendChild(_),h.push(i);_.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,n,s,a,l,h,m){this._reset(),this.dropped.next({item:i,currentIndex:n,previousIndex:s,container:this,previousContainer:a,isPointerOverContainer:l,distance:h,dropPoint:m})}withItems(i){const n=this._draggables;return this._draggables=i,i.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(n.filter(a=>a.isDragging()).every(a=>-1===i.indexOf(a))?this._reset():this._cacheItems()),this}withDirection(i){return this._direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._orientation=i,this}withScrollableParents(i){const n=li(this.element);return this._scrollableElements=-1===i.indexOf(n)?[n,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?q0("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,s=>s.drag===i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,n,s,a){if(this.sortingDisabled||!this._clientRect||!nI(this._clientRect,.05,n,s))return;const l=this._itemPositions,h=this._getItemIndexFromPointerPosition(i,n,s,a);if(-1===h&&l.length>0)return;const m="horizontal"===this._orientation,_=q0(l,le=>le.drag===i),w=l[h],A=w.clientRect,I=_>h?1:-1,O=this._getItemOffsetPx(l[_].clientRect,A,I),B=this._getSiblingOffsetPx(_,l,I),$=l.slice();(function(r,i,n){const s=R_(i,r.length-1),a=R_(n,r.length-1);if(s===a)return;const l=r[s],h=a<s?-1:1;for(let m=s;m!==a;m+=h)r[m]=r[m+h];r[a]=l})(l,_,h),this.sorted.next({previousIndex:_,currentIndex:h,container:this,item:i}),l.forEach((le,Re)=>{if($[Re]===le)return;const Ve=le.drag===i,He=Ve?O:B,We=Ve?i.getPlaceholderElement():le.drag.getRootElement();le.offset+=He,m?(We.style.transform=S_(`translate3d(${Math.round(le.offset)}px, 0, 0)`,le.initialTransform),A_(le.clientRect,0,He)):(We.style.transform=S_(`translate3d(0, ${Math.round(le.offset)}px, 0)`,le.initialTransform),A_(le.clientRect,He,0))}),this._previousSwap.overlaps=Up(A,n,s),this._previousSwap.drag=w.drag,this._previousSwap.delta=m?a.x:a.y}_startScrollingIfNecessary(i,n){if(this.autoScrollDisabled)return;let s,a=0,l=0;if(this._parentPositions.positions.forEach((h,m)=>{m===this._document||!h.clientRect||s||nI(h.clientRect,.05,i,n)&&([a,l]=function(r,i,n,s){const a=ou(i,s),l=N_(i,n);let h=0,m=0;if(a){const _=r.scrollTop;1===a?_>0&&(h=1):r.scrollHeight-_>r.clientHeight&&(h=2)}if(l){const _=r.scrollLeft;1===l?_>0&&(m=1):r.scrollWidth-_>r.clientWidth&&(m=2)}return[h,m]}(m,h.clientRect,i,n),(a||l)&&(s=m))}),!a&&!l){const{width:h,height:m}=this._viewportRuler.getViewportSize(),_={width:h,height:m,top:0,right:h,bottom:m,left:0};a=ou(_,n),l=N_(_,i),s=window}s&&(a!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=l,this._scrollNode=s,(a||l)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=li(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=li(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_cacheItemPositions(){const i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(n=>{const s=n.getVisibleElement();return{drag:n,offset:0,initialTransform:s.style.transform||"",clientRect:Z0(s)}}).sort((n,s)=>i?n.clientRect.left-s.clientRect.left:n.clientRect.top-s.clientRect.top)}_reset(){this._isDragging=!1;const i=li(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(n=>{var s;const a=n.getRootElement();if(a){const l=null===(s=this._itemPositions.find(h=>h.drag===n))||void 0===s?void 0:s.initialTransform;a.style.transform=l||""}}),this._siblings.forEach(n=>n._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(i,n,s){const a="horizontal"===this._orientation,l=n[i].clientRect,h=n[i+-1*s];let m=l[a?"width":"height"]*s;if(h){const _=a?"left":"top",w=a?"right":"bottom";-1===s?m-=h.clientRect[_]-l[w]:m+=l[_]-h.clientRect[w]}return m}_getItemOffsetPx(i,n,s){const a="horizontal"===this._orientation;let l=a?n.left-i.left:n.top-i.top;return-1===s&&(l+=a?n.width-i.width:n.height-i.height),l}_shouldEnterAsFirstChild(i,n){if(!this._activeDraggables.length)return!1;const s=this._itemPositions,a="horizontal"===this._orientation;if(s[0].drag!==this._activeDraggables[0]){const h=s[s.length-1].clientRect;return a?i>=h.right:n>=h.bottom}{const h=s[0].clientRect;return a?i<=h.left:n<=h.top}}_getItemIndexFromPointerPosition(i,n,s,a){const l="horizontal"===this._orientation,h=q0(this._itemPositions,({drag:m,clientRect:_},w,T)=>{if(m===i)return T.length<2;if(a){const A=l?a.x:a.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&A===this._previousSwap.delta)return!1}return l?n>=Math.floor(_.left)&&n<Math.floor(_.right):s>=Math.floor(_.top)&&s<Math.floor(_.bottom)});return-1!==h&&this.sortPredicate(h,i,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(i,n){return null!=this._clientRect&&Up(this._clientRect,i,n)}_getSiblingContainerFromPosition(i,n,s){return this._siblings.find(a=>a._canReceive(i,n,s))}_canReceive(i,n,s){if(!this._clientRect||!Up(this._clientRect,n,s)||!this.enterPredicate(i,this))return!1;const a=this._getShadowRoot().elementFromPoint(n,s);if(!a)return!1;const l=li(this.element);return a===l||l.contains(a)}_startReceiving(i,n){const s=this._activeSiblings;!s.has(i)&&n.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(s.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(i);n&&(this._itemPositions.forEach(({clientRect:s})=>{A_(s,n.top,n.left)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=f_(li(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._activeDraggables.filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,i))}}function q0(r,i){for(let n=0;n<r.length;n++)if(i(r[n],n,r))return n;return-1}function FT(r,i){r===window?r.scrollBy(0,i):r.scrollTop+=i}function Jd(r,i){r===window?r.scrollBy(i,0):r.scrollLeft+=i}function ou(r,i){const{top:n,bottom:s,height:a}=r,l=.05*a;return i>=n-l&&i<=n+l?1:i>=s-l&&i<=s+l?2:0}function N_(r,i){const{left:n,right:s,width:a}=r,l=.05*a;return i>=n-l&&i<=n+l?1:i>=s-l&&i<=s+l?2:0}const Bl=Lo({passive:!1,capture:!0});let au=(()=>{class r{constructor(n,s){this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new pe.xQ,this.pointerUp=new pe.xQ,this.scroll=new pe.xQ,this._preventDefaultWhileDragging=a=>{this._activeDragInstances.length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=s}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Bl)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Bl)}startDragging(n,s){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._activeDragInstances.push(n),1===this._activeDragInstances.length)){const a=s.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Bl}),a||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:Bl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(n){const s=this._activeDragInstances.indexOf(n);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){const s=[this.scroll];return n&&n!==this._document&&s.push(new kn.y(a=>this._ngZone.runOutsideAngular(()=>{const h=m=>{this._activeDragInstances.length&&a.next(m)};return n.addEventListener("scroll",h,!0),()=>{n.removeEventListener("scroll",h,!0)}}))),(0,In.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,s)=>{this._document.removeEventListener(s,n.handler,n.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(j))},token:r,providedIn:"root"}),r})();const dI={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let P_=(()=>{class r{constructor(n,s,a,l){this._document=n,this._ngZone=s,this._viewportRuler=a,this._dragDropRegistry=l}createDrag(n,s=dI){return new Y0(n,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new PT(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j),o.LFG(o.R0b),o.LFG(mr),o.LFG(au))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(j),o.LFG(o.R0b),o.LFG(mr),o.LFG(au))},token:r,providedIn:"root"}),r})(),cB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[P_],imports:[gr]}),r})();class J0{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Kd extends J0{constructor(i,n,s,a){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=a}}class lo extends J0{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class yI extends J0{constructor(i){super(),this.element=i instanceof o.SBq?i.nativeElement:i}}class Xd{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Kd?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof lo?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof yI?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class UT extends Xd{constructor(i,n,s,a,l){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=h=>{const m=h.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=l}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=n.indexOf(s);-1!==a&&n.remove(a)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let ci=(()=>{class r extends Xd{constructor(n,s,a){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=a}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,l=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),h=s.createComponent(l,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=n,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(j))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),r})(),el=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),V_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[$r]]}),r})();const zT=[[["caption"]],[["colgroup"],["col"]]],CI=["caption","colgroup, col"];function $T(r){return class extends r{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const n=this._sticky;this._sticky=xe(i),this._hasStickyChanged=n!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const th=new o.OlP("CDK_TABLE");let lu=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),cu=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),Zp=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class JT{}const nl=$T(JT);let co=(()=>{class r extends nl{constructor(n){super(),this._table=n,this._stickyEnd=!1}get name(){return this._name}set name(n){this._setNameInput(n)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){const s=this._stickyEnd;this._stickyEnd=xe(n),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(th,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,lu,5),o.Suo(a,cu,5),o.Suo(a,Zp,5)),2&n){let l;o.iGM(l=o.CRH())&&(s.cell=l.first),o.iGM(l=o.CRH())&&(s.headerCell=l.first),o.iGM(l=o.CRH())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),o.qOj]}),r})();class X0{constructor(i,n){const s=n.nativeElement.classList;for(const a of i._columnCssClassName)s.add(a)}}let ew=(()=>{class r extends X0{constructor(n,s){super(n,s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(co),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),r})(),Ul=(()=>{class r extends X0{constructor(n,s){var a;if(super(n,s),1===(null===(a=n._table)||void 0===a?void 0:a._elementRef.nativeElement.nodeType)){const l=n._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(co),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),r})();class tw{constructor(){this.tasks=[],this.endTasks=[]}}const uu=new o.OlP("_COALESCED_STYLE_SCHEDULER");let nh=(()=>{class r{constructor(n){this._ngZone=n,this._currentSchedule=null,this._destroyed=new pe.xQ}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new tw,this._getScheduleObservable().pipe(Be(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const n=this._currentSchedule;this._currentSchedule=new tw;for(const s of n.tasks)s();for(const s of n.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Bn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(P(1))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Yp=(()=>{class r{constructor(n,s){this.template=n,this._differs=s}ngOnChanges(n){if(!this._columnsDiffer){const s=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof ih?n.headerCell.template:this instanceof Gp?n.footerCell.template:n.cell.template}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},r.\u0275dir=o.lG2({type:r,features:[o.TTD]}),r})();class QT extends Yp{}const MI=$T(QT);let ih=(()=>{class r extends MI{constructor(n,s,a){super(n,s),this._table=a}ngOnChanges(n){super.ngOnChanges(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(th,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),r})();class EI extends Yp{}const nw=$T(EI);let Gp=(()=>{class r extends nw{constructor(n,s,a){super(n,s),this._table=a}ngOnChanges(n){super.ngOnChanges(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(th,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),r})(),U_=(()=>{class r extends Yp{constructor(n,s,a){super(n,s),this._table=a}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(th,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),r})(),Da=(()=>{class r{constructor(n){this._viewContainer=n,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r.mostRecentCellOutlet=null,r})(),Hl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Da],encapsulation:2}),r})(),iw=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Da],encapsulation:2}),r})(),Z_=(()=>{class r{constructor(n){this.templateRef=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const du=["top","bottom","left","right"];class SI{constructor(i,n,s,a,l=!0,h=!0,m){this._isNativeHtmlTable=i,this._stickCellCss=n,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=m,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(i,n){const s=[];for(const a of i)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const a of s)this._removeStickyStyle(a,n)})}updateStickyColumns(i,n,s,a=!0){if(!i.length||!this._isBrowser||!n.some(I=>I)&&!s.some(I=>I))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=i[0],h=l.children.length,m=this._getCellWidths(l,a),_=this._getStickyStartColumnPositions(m,n),w=this._getStickyEndColumnPositions(m,s),T=n.lastIndexOf(!0),A=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const I="rtl"===this.direction,O=I?"right":"left",B=I?"left":"right";for(const $ of i)for(let le=0;le<h;le++){const Re=$.children[le];n[le]&&this._addStickyStyle(Re,O,_[le],le===T),s[le]&&this._addStickyStyle(Re,B,w[le],le===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:m.slice(0,T+1).map(($,le)=>n[le]?$:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:m.slice(A).map(($,le)=>s[le+A]?$:null).reverse()}))})}stickRows(i,n,s){if(!this._isBrowser)return;const a="bottom"===s?i.slice().reverse():i,l="bottom"===s?n.slice().reverse():n,h=[],m=[],_=[];for(let T=0,A=0;T<a.length;T++){if(!l[T])continue;h[T]=A;const I=a[T];_[T]=this._isNativeHtmlTable?Array.from(I.children):[I];const O=I.getBoundingClientRect().height;A+=O,m[T]=O}const w=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,A;for(let I=0;I<a.length;I++){if(!l[I])continue;const O=h[I],B=I===w;for(const $ of _[I])this._addStickyStyle($,s,O,B)}"top"===s?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:m,offsets:h,elements:_}):null===(A=this._positionListener)||void 0===A||A.stickyFooterRowsUpdated({sizes:m,offsets:h,elements:_})})}updateStickyFooterContainer(i,n){if(!this._isNativeHtmlTable)return;const s=i.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{n.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(i,n){for(const a of n)i.style[a]="",i.classList.remove(this._borderCellCss[a]);du.some(a=>-1===n.indexOf(a)&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,n,s,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[n]),i.style[n]=`${s}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const n={top:100,bottom:10,left:1,right:1};let s=0;for(const a of du)i.style[a]&&(s+=n[a]);return s?`${s}`:""}_getCellWidths(i,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=i.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(i,n){const s=[];let a=0;for(let l=0;l<i.length;l++)n[l]&&(s[l]=a,a+=i[l]);return s}_getStickyEndColumnPositions(i,n){const s=[];let a=0;for(let l=i.length;l>0;l--)n[l]&&(s[l]=a,a+=i[l]);return s}}const XT=new o.OlP("CDK_SPL");let rh=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),sh=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),rw=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),Y_=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),qp=(()=>{class r{constructor(n,s,a,l,h,m,_,w,T,A,I){this._differs=n,this._changeDetectorRef=s,this._elementRef=a,this._dir=h,this._platform=_,this._viewRepeater=w,this._coalescedStyleScheduler=T,this._viewportRuler=A,this._stickyPositioningListener=I,this._onDestroy=new pe.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new oi({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=m,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=xe(n),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=xe(n),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((n,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe(Be(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),zd(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const n=this._dataDiffer.diff(this._renderRows);if(!n)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,s,(a,l,h)=>this._getEmbeddedViewArgs(a.item,h),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){const n=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=n.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const n=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=n.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const n=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let m=0;m<s.length;m++)this._renderRows[m].rowDef===l&&h.push(s[m]);this._addStickyColumnStyles(h,l)}),a.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const n=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const h=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let m=0;m<h.length;m++){let _=h[m];const w=this._cachedRenderRowsMap.get(_.data);w.has(_.rowDef)?w.get(_.rowDef).push(_):w.set(_.rowDef,[_]),n.push(_)}}return n}_getRenderRowsForData(n,s,a){return this._getRowDefs(n,s).map(h=>{const m=a&&a.has(h)?a.get(h):[];if(m.length){const _=m.shift();return _.dataIndex=s,_}return{data:n,rowDef:h,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),jp(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=jp(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=jp(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=jp(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const n=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=n[0]}_renderUpdatedColumns(){const n=(h,m)=>h||!!m.getColumnsDiff(),s=this._rowDefs.reduce(n,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(n,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(n,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(n){this._data=[],zd(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;zd(this.dataSource)?n=this.dataSource.connect(this):function(r){return!!r&&(r instanceof kn.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=(0,qe.of)(this.dataSource)),this._renderChangeSubscription=n.pipe(Be(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,s)=>this._renderRow(this._headerRowOutlet,n,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,s)=>this._renderRow(this._footerRowOutlet,n,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,s){const a=Array.from(s.columns||[]).map(m=>this._columnDefsByName.get(m)),l=a.map(m=>m.sticky),h=a.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(n,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){const s=[];for(let a=0;a<n.viewContainer.length;a++){const l=n.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(n,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,n));else{let l=this._rowDefs.find(h=>h.when&&h.when(s,n))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(n,s){return{templateRef:n.rowDef.template,context:{$implicit:n.data},index:s}}_renderRow(n,s,a,l={}){const h=n.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),h}_renderCellTemplateForItem(n,s){for(let a of this._getCellTemplates(n))Da.mostRecentCellOutlet&&Da.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const n=this._rowOutlet.viewContainer;for(let s=0,a=n.length;s<a;s++){const h=n.get(s).context;h.count=a,h.first=0===s,h.last=s===a-1,h.even=s%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[s].dataIndex,h.renderIndex=s):h.index=this._renderRows[s].dataIndex}}_getCellTemplates(n){return n&&n.columns?Array.from(n.columns,s=>{const a=this._columnDefsByName.get(s);return n.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const n=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const h of a.outlets)l.appendChild(h.elementRef.nativeElement);n.appendChild(l)}this._elementRef.nativeElement.appendChild(n)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const n=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new SI(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,qe.of)()).pipe(Be(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const n=this._customNoDataRow||this._noDataRow;if(n){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;s?a.createEmbeddedView(n.templateRef):a.clear(),this._isShowingNoDataRow=s}}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(gn,8),o.Y36(j),o.Y36(Rt),o.Y36(iu),o.Y36(uu),o.Y36(mr),o.Y36(XT,12))},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,Z_,5),o.Suo(a,co,5),o.Suo(a,U_,5),o.Suo(a,ih,5),o.Suo(a,Gp,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._noDataRow=l.first),o.iGM(l=o.CRH())&&(s._contentColumnDefs=l),o.iGM(l=o.CRH())&&(s._contentRowDefs=l),o.iGM(l=o.CRH())&&(s._contentHeaderRowDefs=l),o.iGM(l=o.CRH())&&(s._contentFooterRowDefs=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(rh,7),o.Gf(sh,7),o.Gf(rw,7),o.Gf(Y_,7)),2&n){let a;o.iGM(a=o.CRH())&&(s._rowOutlet=a.first),o.iGM(a=o.CRH())&&(s._headerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._footerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:th,useExisting:r},{provide:iu,useClass:xT},{provide:uu,useClass:nh},{provide:XT,useValue:null}])],ngContentSelectors:CI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,s){1&n&&(o.F$t(zT),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[sh,rh,Y_,rw],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),r})();function jp(r,i){return r.concat(Array.from(i))}let eM=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[ru]]}),r})(),NI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const PI=v0();class rM{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=mi(-this._previousScrollPosition.left),i.style.top=mi(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,a=this._document.body.style,l=s.scrollBehavior||"",h=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),PI&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PI&&(s.scrollBehavior=l,a.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class sM{constructor(i,n,s,a){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oM{enable(){}disable(){}attach(){}}function aM(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function lw(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class cw{constructor(i,n,s,a){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();aM(n,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let LI=(()=>{class r{constructor(n,s,a,l){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new oM,this.close=h=>new sM(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new rM(this._viewportRuler,this._document),this.reposition=h=>new cw(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ka),o.LFG(mr),o.LFG(o.R0b),o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Ka),o.LFG(mr),o.LFG(o.R0b),o.LFG(j))},token:r,providedIn:"root"}),r})();class Zl{constructor(i){if(this.scrollStrategy=new oM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class BI{constructor(i,n,s,a,l){this.offsetX=s,this.offsetY=a,this.panelClass=l,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class VI{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let lM=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(j))},token:r,providedIn:"root"}),r})(),z_=(()=>{class r extends lM{constructor(n){super(n),this._keydownListener=s=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){a[l]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(j))},token:r,providedIn:"root"}),r})(),ah=(()=>{class r extends lM{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=a=>{const l=xs(a),h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const _=h[m];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(l))break;_._outsidePointerEvents.next(a)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j),o.LFG(Rt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(j),o.LFG(Rt))},token:r,providedIn:"root"}),r})();const rl="undefined"!=typeof window?window:{},uo=void 0!==rl.__karma__&&!!rl.__karma__||void 0!==rl.jasmine&&!!rl.jasmine||void 0!==rl.jest&&!!rl.jest||void 0!==rl.Mocha&&!!rl.Mocha;let sl=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||uo){const a=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l])}const s=this._document.createElement("div");s.classList.add(n),uo?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j),o.LFG(Rt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(j),o.LFG(Rt))},token:r,providedIn:"root"}),r})();class UI{constructor(i,n,s,a,l,h,m,_,w){this._portalOutlet=i,this._host=n,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=h,this._document=m,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new pe.xQ,this._attachments=new pe.xQ,this._detachments=new pe.xQ,this._locationChanges=kt.w.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new pe.xQ,this._outsidePointerEvents=new pe.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(P(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=mi(this._config.width),i.height=mi(this._config.height),i.minWidth=mi(this._config.minWidth),i.minHeight=mi(this._config.minHeight),i.maxWidth=mi(this._config.maxWidth),i.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const a=i.classList;Xc(n).forEach(l=>{l&&(s?a.add(l):a.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Be((0,In.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const cM="cdk-overlay-connected-position-bounding-box",uw=/([A-Za-z%]+)$/;class ho{constructor(i,n,s,a,l){this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe.xQ,this._resizeSubscription=kt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(cM),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,a=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(i,h),_=this._getOverlayPoint(m,n,h),w=this._getOverlayFit(_,n,s,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(w,_,s)?a.push({position:h,origin:m,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:_,originPoint:m,position:h,overlayRect:n})}if(a.length){let h=null,m=-1;for(const _ of a){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>m&&(m=w,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(cM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,a;if("center"==n.originX)s=i.left+i.width/2;else{const l=this._isRtl()?i.right:i.left,h=this._isRtl()?i.left:i.right;s="start"==n.originX?l:h}return a="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:a}}_getOverlayPoint(i,n,s){let a,l;return a="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,l="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+a,y:i.y+l}}_getOverlayFit(i,n,s,a){const l=Yl(n);let{x:h,y:m}=i,_=this._getOffset(a,"x"),w=this._getOffset(a,"y");_&&(h+=_),w&&(m+=w);let I=0-m,O=m+l.height-s.height,B=this._subtractOverflows(l.width,0-h,h+l.width-s.width),$=this._subtractOverflows(l.height,I,O),le=B*$;return{visibleArea:le,isCompletelyWithinViewport:l.width*l.height===le,fitsInViewportVertically:$===l.height,fitsInViewportHorizontally:B==l.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const a=s.bottom-n.y,l=s.right-n.x,h=Ir(this._overlayRef.getConfig().minHeight),m=Ir(this._overlayRef.getConfig().minWidth),w=i.fitsInViewportHorizontally||null!=m&&m<=l;return(i.fitsInViewportVertically||null!=h&&h<=a)&&w}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=Yl(n),l=this._viewportRect,h=Math.max(i.x+a.width-l.width,0),m=Math.max(i.y+a.height-l.height,0),_=Math.max(l.top-s.top-i.y,0),w=Math.max(l.left-s.left-i.x,0);let T=0,A=0;return T=a.width<=l.width?w||-h:i.x<this._viewportMargin?l.left-s.left-i.x:0,A=a.height<=l.height?_||-m:i.y<this._viewportMargin?l.top-s.top-i.y:0,this._previousPushAmount={x:T,y:A},{x:i.x+T,y:i.y+A}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new VI(i,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let l=0;l<n.length;l++)n[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,a=this._isRtl();let l,h,m,T,A,I;if("top"===n.overlayY)h=i.y,l=s.height-h+this._viewportMargin;else if("bottom"===n.overlayY)m=s.height-i.y+2*this._viewportMargin,l=s.height-m+this._viewportMargin;else{const O=Math.min(s.bottom-i.y+s.top,i.y),B=this._lastBoundingBoxSize.height;l=2*O,h=i.y-O,l>B&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.y-B/2)}if("end"===n.overlayX&&!a||"start"===n.overlayX&&a)I=s.width-i.x+this._viewportMargin,T=i.x-this._viewportMargin;else if("start"===n.overlayX&&!a||"end"===n.overlayX&&a)A=i.x,T=s.right-i.x;else{const O=Math.min(s.right-i.x+s.left,i.x),B=this._lastBoundingBoxSize.width;T=2*O,A=i.x-O,T>B&&!this._isInitialRender&&!this._growAfterOpen&&(A=i.x-B/2)}return{top:h,left:A,bottom:m,right:I,width:T,height:l}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;a.height=mi(s.height),a.top=mi(s.top),a.bottom=mi(s.bottom),a.width=mi(s.width),a.left=mi(s.left),a.right=mi(s.right),a.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",a.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=mi(l)),h&&(a.maxWidth=mi(h))}this._lastBoundingBoxSize=s,Zo(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Zo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(a){const T=this._viewportRuler.getViewportScrollPosition();Zo(s,this._getExactOverlayY(n,i,T)),Zo(s,this._getExactOverlayX(n,i,T))}else s.position="static";let m="",_=this._getOffset(n,"x"),w=this._getOffset(n,"y");_&&(m+=`translateX(${_}px) `),w&&(m+=`translateY(${w}px)`),s.transform=m.trim(),h.maxHeight&&(a?s.maxHeight=mi(h.maxHeight):l&&(s.maxHeight="")),h.maxWidth&&(a?s.maxWidth=mi(h.maxWidth):l&&(s.maxWidth="")),Zo(this._pane.style,s)}_getExactOverlayY(i,n,s){let a={top:"",bottom:""},l=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=mi(l.y),a}_getExactOverlayX(i,n,s){let h,a={left:"",right:""},l=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),h=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===h?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=mi(l.x),a}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lw(i,s),isOriginOutsideView:aM(i,s),isOverlayClipped:lw(n,s),isOverlayOutsideView:aM(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,a)=>s-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Xc(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof o.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function Zo(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function Ir(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(uw);return n&&"px"!==n?null:parseFloat(i)}return r||null}function Yl(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class $_{constructor(i,n,s,a,l,h,m){this._preferredPositions=[],this._positionStrategy=new ho(s,a,l,h,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,a){const l=new BI(i,n,s,a);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const Ys="cdk-global-overlay-wrapper";class dw{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(Ys),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:h,maxHeight:m}=s,_=!("100%"!==a&&"100vw"!==a||h&&"100%"!==h&&"100vw"!==h),w=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);i.position=this._cssPosition,i.marginLeft=_?"0":this._leftOffset,i.marginTop=w?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,_?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(Ys),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let lh=(()=>{class r{constructor(n,s,a,l){this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new dw}connectedTo(n,s,a){return new $_(s,a,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new ho(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(mr),o.LFG(j),o.LFG(Rt),o.LFG(sl))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(mr),o.LFG(j),o.LFG(Rt),o.LFG(sl))},token:r,providedIn:"root"}),r})(),ch=0,Li=(()=>{class r{constructor(n,s,a,l,h,m,_,w,T,A,I){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=m,this._ngZone=_,this._document=w,this._directionality=T,this._location=A,this._outsideClickDispatcher=I}create(n){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),h=new Zl(n);return h.direction=h.direction||this._directionality.value,new UI(l,s,a,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+ch++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new UT(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(LI),o.LFG(sl),o.LFG(o._Vd),o.LFG(lh),o.LFG(z_),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(j),o.LFG(gn),o.LFG(Zt),o.LFG(ah))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const fh={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let Ea=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Li,fh],imports:[[$r,el,ru],ru]}),r})();var uM=L(1555);function hw(...r){if(1===r.length){const i=r[0];if((0,Nl.k)(i))return $p(i,null);if((0,uM.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return $p(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return $p(r=1===r.length&&(0,Nl.k)(r[0])?r[0]:r,null).pipe((0,b.U)(n=>i(...n)))}return $p(r,null)}function $p(r,i){return new kn.y(n=>{const s=r.length;if(0===s)return void n.complete();const a=new Array(s);let l=0,h=0;for(let m=0;m<s;m++){const _=(0,Bn.D)(r[m]);let w=!1;n.add(_.subscribe({next:T=>{w||(w=!0,h++),a[m]=T},error:T=>n.error(T),complete:()=>{l++,(l===s||!w)&&(h===s&&n.next(i?i.reduce((T,A,I)=>(T[A]=a[I],T),{}):a),n.complete())}}))}})}let fw=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Qsj),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r}),r})(),Gl=(()=>{class r extends fw{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,features:[o.qOj]}),r})();const Un=new o.OlP("NgValueAccessor"),fM={provide:Un,useExisting:(0,o.Gpc)(()=>fo),multi:!0},pM=new o.OlP("CompositionEventMode");let fo=(()=>{class r extends fw{constructor(n,s,a){super(n,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(pM,8))},r.\u0275dir=o.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&o.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[o._Bn([fM]),o.qOj]}),r})();function ql(r){return null==r||0===r.length}function YI(r){return null!=r&&"number"==typeof r.length}const Ei=new o.OlP("NgValidators"),ol=new o.OlP("NgAsyncValidators"),GI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(i){return function(r){return i=>{if(ql(i.value)||ql(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<r?{min:{min:r,actual:i.value}}:null}}(i)}static max(i){return function(r){return i=>{if(ql(i.value)||ql(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>r?{max:{max:r,actual:i.value}}:null}}(i)}static required(i){return function(r){return ql(r.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(r){return!0===r.value?null:{required:!0}}(i)}static email(i){return function(r){return ql(r.value)||GI.test(r.value)?null:{email:!0}}(i)}static minLength(i){return function(r){return i=>ql(i.value)||!YI(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(r){return i=>YI(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(r){if(!r)return jl;let i,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),i=new RegExp(n)):(n=r.toString(),i=r),s=>{if(ql(s.value))return null;const a=s.value;return i.test(a)?null:{pattern:{requiredPattern:n,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return JI(i)}static composeAsync(i){return QI(i)}}function jl(r){return null}function WI(r){return null!=r}function yM(r){const i=(0,o.QGY)(r)?(0,Bn.D)(r):r;return(0,o.CqO)(i),i}function bM(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function W_(r,i){return i.map(n=>n(r))}function vM(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function JI(r){if(!r)return null;const i=r.filter(WI);return 0==i.length?null:function(n){return bM(W_(n,i))}}function wM(r){return null!=r?JI(vM(r)):null}function QI(r){if(!r)return null;const i=r.filter(WI);return 0==i.length?null:function(n){return hw(W_(n,i).map(yM)).pipe((0,b.U)(bM))}}function gw(r){return null!=r?QI(vM(r)):null}function _w(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function KI(r){return r._rawValidators}function CM(r){return r._rawAsyncValidators}function zl(r){return r?Array.isArray(r)?r:[r]:[]}function J_(r,i){return Array.isArray(r)?r.includes(i):r===i}function yw(r,i){const n=zl(i);return zl(r).forEach(a=>{J_(n,a)||n.push(a)}),n}function DM(r,i){return zl(i).filter(n=>!J_(r,n))}let bw=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=wM(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=gw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r}),r})(),cr=(()=>{class r extends bw{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,features:[o.qOj]}),r})();class ms extends bw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vw{constructor(i){this._cd=i}is(i){var n,s,a;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[i])}}let Sa=(()=>{class r extends vw{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ms,2))},r.\u0275dir=o.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[o.qOj]}),r})(),xa=(()=>{class r extends vw{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(cr,10))},r.\u0275dir=o.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[o.qOj]}),r})();function pu(r,i){ey(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&ty(r,i)})}(r,i),function(r,i){const n=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&ty(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function X_(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),Dw(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function mh(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function ey(r,i){const n=KI(r);null!==i.validator?r.setValidators(_w(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=CM(r);null!==i.asyncValidator?r.setAsyncValidators(_w(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const a=()=>r.updateValueAndValidity();mh(i._rawValidators,a),mh(i._rawAsyncValidators,a)}function Dw(r,i){let n=!1;if(null!==r){if(null!==i.validator){const a=KI(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.validator);l.length!==a.length&&(n=!0,r.setValidators(l))}}if(null!==i.asyncValidator){const a=CM(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.asyncValidator);l.length!==a.length&&(n=!0,r.setAsyncValidators(l))}}}const s=()=>{};return mh(i._rawValidators,s),mh(i._rawAsyncValidators,s),n}function ty(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Mw(r,i){ey(r,i)}function xM(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function Qp(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const gh="VALID",iy="INVALID",mu="PENDING",_h="DISABLED";function yh(r){return(sy(r)?r.validators:r)||null}function kw(r){return Array.isArray(r)?wM(r):r||null}function ry(r,i){return(sy(i)?i.asyncValidators:r)||null}function Iw(r){return Array.isArray(r)?gw(r):r||null}function sy(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class oy{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=kw(this._rawValidators),this._composedAsyncValidatorFn=Iw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===gh}get invalid(){return this.status===iy}get pending(){return this.status==mu}get disabled(){return this.status===_h}get enabled(){return this.status!==_h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=kw(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=Iw(i)}addValidators(i){this.setValidators(yw(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(yw(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(DM(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(DM(i,this._rawAsyncValidators))}hasValidator(i){return J_(this._rawValidators,i)}hasAsyncValidator(i){return J_(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=mu,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=_h,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=gh,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gh||this.status===mu)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_h:gh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=mu,this._hasOwnPendingAsyncValidator=!0;const n=yM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(a=>{s=s instanceof bh?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof ay&&s.at(a)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?_h:this.errors?iy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mu)?mu:this._anyControlsHaveStatus(iy)?iy:gh}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){sy(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gu extends oy{constructor(i=null,n,s){super(yh(n),ry(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Qp(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Qp(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class bh extends oy{constructor(i,n,s){super(yh(n),ry(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof gu?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((a,l)=>{s=n(s,a,l)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class ay extends oy{constructor(i,n,s){super(yh(n),ry(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof gu?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const PB={provide:cr,useExisting:(0,o.Gpc)(()=>Gs)},Kp=(()=>Promise.resolve(null))();let Gs=(()=>{class r extends cr{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new bh({},wM(n),gw(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Kp.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),pu(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Kp.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),Qp(this._directives,n)})}addFormGroup(n){Kp.then(()=>{const s=this._findContainer(n.path),a=new bh({});Mw(a,n),s.registerControl(n.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Kp.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){Kp.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,xM(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ei,10),o.Y36(ol,10))},r.\u0275dir=o.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([PB]),o.qOj]}),r})(),Xp=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const PM={provide:Un,useExisting:(0,o.Gpc)(()=>Rw),multi:!0};let Rw=(()=>{class r extends Gl{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=s=>{n(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,s){1&n&&o.NdJ("input",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},features:[o._Bn([PM]),o.qOj]}),r})(),ly=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const po=new o.OlP("NgModelWithFormControlWarning"),LM={provide:cr,useExisting:(0,o.Gpc)(()=>Si)};let Si=(()=>{class r extends cr{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return pu(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){X_(n.control||null,n,!1),Qp(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,xM(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,a=this.form.get(n.path);s!==a&&(X_(s||null,n),a instanceof gu&&(pu(a,n),n.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);Mw(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return Dw(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ey(this.form,this),this._oldForm&&Dw(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ei,10),o.Y36(ol,10))},r.\u0275dir=o.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([LM]),o.qOj,o.TTD]}),r})();const em={provide:ms,useExisting:(0,o.Gpc)(()=>qo)};let qo=(()=>{class r extends ms{constructor(n,s,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(r,i){if(!i)return null;let n,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===fo?n=l:function(r){return Object.getPrototypeOf(r.constructor)===Gl}(l)?s=l:a=l}),a||s||n||null}(0,l)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(r,i){return[...i.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(cr,13),o.Y36(Ei,10),o.Y36(ol,10),o.Y36(Un,10),o.Y36(po,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([em]),o.qOj,o.TTD]}),r._ngModelWarningSentOnce=!1,r})(),KM=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[ly]]}),r})(),hR=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[KM]}),r})(),XM=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:po,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[KM]}),r})(),Aa=(()=>{class r{group(n,s=null){const a=this._reduceControls(n);let m,l=null,h=null;return null!=s&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(s)?(l=null!=s.validators?s.validators:null,h=null!=s.asyncValidators?s.asyncValidators:null,m=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,h=null!=s.asyncValidator?s.asyncValidator:null)),new bh(a,{asyncValidators:h,updateOn:m,validators:l})}control(n,s,a){return new gu(n,s,a)}array(n,s,a){const l=n.map(h=>this._createControl(h));return new ay(l,s,a)}_reduceControls(n){const s={};return Object.keys(n).forEach(a=>{s[a]=this._createControl(n[a])}),s}_createControl(n){return n instanceof gu||n instanceof bh||n instanceof ay?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:function(){return new r},token:r,providedIn:XM}),r})();class fy extends Ti.L{notifyNext(i,n,s,a,l){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class eE extends Ti.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var tE=L(7444);function py(r,i,n,s,a=new eE(r,n,s)){if(!a.closed)return i instanceof kn.y?i.subscribe(a):(0,tE.s)(i)(a)}var my=L(6693);const Yw={};function nm(...r){let i,n;return(0,D_.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Nl.k)(r[0])&&(r=r[0]),(0,my.n)(r,n).lift(new Gw(i))}class Gw{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new qw(i,this.resultSelector))}}class qw extends fy{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(Yw),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(py(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const a=this.values,h=this.toRespond?a[s]===Yw?--this.toRespond:this.toRespond:0;a[s]=n,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const gy=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();function im(r){return new kn.y(i=>{let n;try{n=r()}catch(a){return void i.error(a)}return(n?(0,Bn.D)(n):(0,R.c)()).subscribe(i)})}var Ch=L(2441);function _y(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(a){return a.lift(new jw(r,i,n))}}class jw{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new ZB(i,this.accumulator,this.seed,this.hasSeed))}}class ZB extends Ti.L{constructor(i,n,s,a){super(i),this.accumulator=n,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function al(r){return function(n){const s=new nE(r),a=n.lift(s);return s.caught=a}}class nE{constructor(i){this.selector=i}call(i,n){return n.subscribe(new YB(i,this.selector,this.caught))}}class YB extends ai.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new ai.IY(this);this.add(s);const a=(0,ai.ft)(n,s);a!==s&&this.add(a)}}}var et=L(9773);function Dh(r,i){return(0,et.zg)(r,i,1)}function zw(r){return function(n){return 0===r?(0,R.c)():n.lift(new mR(r))}}class mR{constructor(i){if(this.total=i,this.total<0)throw new S}call(i,n){return n.subscribe(new yy(i,this.total))}}class yy extends Ti.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,a=this.count++;n.length<s?n.push(i):n[a%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const h=n++%s;i.next(a[h])}}i.complete()}}function iE(r=xi){return i=>i.lift(new by(r))}class by{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new vy(i,this.errorFactory))}}class vy extends Ti.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function xi(){return new gy}function gR(r=null){return i=>i.lift(new rE(r))}class rE{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new $w(i,this.defaultValue))}}class $w extends Ti.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var sE=L(4487);function $l(r,i){const n=arguments.length>=2;return s=>s.pipe(r?wt((a,l)=>r(a,l,s)):sE.y,P(1),n?gR(i):iE(()=>new gy))}var aE=L(1307);function Ww(r){return i=>i.lift(new _R(r))}class _R{constructor(i){this.callback=i}call(i,n){return n.subscribe(new yR(i,this.callback))}}class yR extends Ti.L{constructor(i,n){super(i),this.add(new kt.w(n))}}class ll{constructor(i,n){this.id=i,this.url=n}}class yu extends ll{constructor(i,n,s="imperative",a=null){super(i,n),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rm extends ll{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lE extends ll{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bR extends ll{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wy extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cE extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uE extends ll{constructor(i,n,s,a,l){super(i,n),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dE extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vR extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Th{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mh{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wR{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CR{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DR{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hE{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jw{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class TR{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bu(r){return new TR(r)}const fE="ngNavigationCancelingError";function Qw(r){const i=Error("NavigationCancelingError: "+r);return i[fE]=!0,i}function qB(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const a={};for(let l=0;l<s.length;l++){const h=s[l],m=r[l];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:r.slice(0,s.length),posParams:a}}function cl(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let a;for(let l=0;l<n.length;l++)if(a=n[l],!Kw(r[a],i[a]))return!1;return!0}function Kw(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((a,l)=>s[l]===a)}return r===i}function sm(r){return Array.prototype.concat.apply([],r)}function pE(r){return r.length>0?r[r.length-1]:null}function yr(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function As(r){return(0,o.CqO)(r)?r:(0,o.QGY)(r)?(0,Bn.D)(Promise.resolve(r)):(0,qe.of)(r)}const ER={exact:function Xw(r,i,n){if(!Jl(r.segments,i.segments)||!Cy(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!Xw(r.children[s],i.children[s],n))return!1;return!0},subset:_E},mE={exact:function(r,i){return cl(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>Kw(r[n],i[n]))},ignored:()=>!0};function gE(r,i,n){return ER[n.paths](r.root,i.root,n.matrixParams)&&mE[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function _E(r,i,n){return vu(r,i,i.segments,n)}function vu(r,i,n,s){if(r.segments.length>n.length){const a=r.segments.slice(0,n.length);return!(!Jl(a,n)||i.hasChildren()||!Cy(a,n,s))}if(r.segments.length===n.length){if(!Jl(r.segments,n)||!Cy(r.segments,n,s))return!1;for(const a in i.children)if(!r.children[a]||!_E(r.children[a],i.children[a],s))return!1;return!0}{const a=n.slice(0,r.segments.length),l=n.slice(r.segments.length);return!!(Jl(r.segments,a)&&Cy(r.segments,a,s)&&r.children[rn])&&vu(r.children[rn],i,l,s)}}function Cy(r,i,n){return i.every((s,a)=>mE[n](r[a].parameters,s.parameters))}class Wl{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return bE.serialize(this)}}class un{constructor(i,n){this.segments=i,this.children=n,this.parent=null,yr(n,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return am(this)}}class Eh{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bu(this.parameters)),this._parameterMap}toString(){return CE(this)}}function Jl(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class om{}class yE{parse(i){const n=new ME(i);return new Wl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){var r;return`${`/${lm(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(a=>`${Dy(n)}=${Dy(a)}`).join("&"):`${Dy(n)}=${Dy(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${r=i.fragment,encodeURI(r)}`:""}`}}const bE=new yE;function am(r){return r.segments.map(i=>CE(i)).join("/")}function lm(r,i){if(!r.hasChildren())return am(r);if(i){const n=r.children[rn]?lm(r.children[rn],!1):"",s=[];return yr(r.children,(a,l)=>{l!==rn&&s.push(`${l}:${lm(a,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return yr(r.children,(s,a)=>{a===rn&&(n=n.concat(i(s,a)))}),yr(r.children,(s,a)=>{a!==rn&&(n=n.concat(i(s,a)))}),n}(r,(s,a)=>a===rn?[lm(r.children[rn],!1)]:[`${a}:${lm(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[rn]?`${am(r)}/${n[0]}`:`${am(r)}/(${n.join("//")})`}}function vE(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dy(r){return vE(r).replace(/%3B/gi,";")}function tC(r){return vE(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cm(r){return decodeURIComponent(r)}function wE(r){return cm(r.replace(/\+/g,"%20"))}function CE(r){return`${tC(r.path)}${function(r){return Object.keys(r).map(i=>`;${tC(i)}=${tC(r[i])}`).join("")}(r.parameters)}`}const OR=/^[^\/()?;=#]+/;function Ty(r){const i=r.match(OR);return i?i[0]:""}const NR=/^[^=?&#]+/,DE=/^[^?&#]+/;class ME{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[rn]=new un(i,n)),s}parseSegment(){const i=Ty(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Eh(cm(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=Ty(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const a=Ty(this.remaining);a&&(s=a,this.capture(s))}i[cm(n)]=cm(s)}parseQueryParam(i){const n=function(r){const i=r.match(NR);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const h=function(r){const i=r.match(DE);return i?i[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=wE(n),l=wE(s);if(i.hasOwnProperty(a)){let h=i[a];Array.isArray(h)||(h=[h],i[a]=h),h.push(l)}else i[a]=l}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Ty(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=rn);const h=this.parseChildren();n[l]=1===Object.keys(h).length?h[rn]:new un([],h),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class EE{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=um(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=um(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=My(i,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return My(i,this._root).map(n=>n.value)}}function um(r,i){if(r===i.value)return i;for(const n of i.children){const s=um(r,n);if(s)return s}return null}function My(r,i){if(r===i.value)return[i];for(const n of i.children){const s=My(r,n);if(s.length)return s.unshift(i),s}return[]}class ul{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function dm(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class Ey extends EE{constructor(i,n){super(i),this.snapshot=n,xy(this,i)}toString(){return this.snapshot.toString()}}function Sy(r,i){const n=function(r,i){const h=new Sh([],{},{},"",{},rn,i,null,r.root,-1,{});return new AE("",new ul(h,[]))}(r,i),s=new oi([new Eh("",{})]),a=new oi({}),l=new oi({}),h=new oi({}),m=new oi(""),_=new qs(s,a,h,m,l,rn,i,n.root);return _.snapshot=n.root,new Ey(new ul(_,[]),n)}class qs{constructor(i,n,s,a,l,h,m,_){this.url=i,this.params=n,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,b.U)(i=>bu(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,b.U)(i=>bu(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xE(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const a=n[s],l=n[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class Sh{constructor(i,n,s,a,l,h,m,_,w,T,A){this.url=i,this.params=n,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AE extends EE{constructor(i,n){super(n),this.url=i,xy(this,n)}toString(){return kE(this._root)}}function xy(r,i){i.value._routerState=r,i.children.forEach(n=>xy(r,n))}function kE(r){const i=r.children.length>0?` { ${r.children.map(kE).join(", ")} } `:"";return`${r.value}${i}`}function Ay(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,cl(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),cl(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!cl(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),cl(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function ky(r,i){return cl(r.params,i.params)&&function(r,i){return Jl(r,i)&&r.every((n,s)=>cl(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||ky(r.parent,i.parent))}function nC(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const a=function(r,i,n){return i.children.map(s=>{for(const a of n.children)if(r.shouldReuseRoute(s.value,a.value.snapshot))return nC(r,s,a);return nC(r,s)})}(r,i,n);return new ul(s,a)}{if(r.shouldAttach(i.value)){const l=r.retrieve(i.value);if(null!==l){const h=l.route;return RE(i,h),h}}const s=function(r){return new qs(new oi(r.url),new oi(r.params),new oi(r.queryParams),new oi(r.fragment),new oi(r.data),r.outlet,r.component,r)}(i.value),a=i.children.map(l=>nC(r,l));return new ul(s,a)}}function RE(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)RE(r.children[n],i.children[n])}function Cu(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function hm(r){return"object"==typeof r&&null!=r&&r.outlets}function Ql(r,i,n,s,a){let l={};return s&&yr(s,(h,m)=>{l[m]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),new Wl(n.root===r?i:OE(n.root,r,i),l,a)}function OE(r,i,n){const s={};return yr(r.children,(a,l)=>{s[l]=a===i?n:OE(a,i,n)}),new un(r.segments,s)}class LR{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&Cu(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(hm);if(a&&a!==pE(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class go{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function PE(r,i,n){if(r||(r=new un([],{})),0===r.segments.length&&r.hasChildren())return Ry(r,i,n);const s=function(r,i,n){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<r.segments.length;){if(s>=n.length)return l;const h=r.segments[a],m=n[s];if(hm(m))break;const _=`${m}`,w=s<n.length-1?n[s+1]:null;if(a>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Oy(_,w,h))return l;s+=2}else{if(!Oy(_,{},h))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(r,i,n),a=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const l=new un(r.segments.slice(0,s.pathIndex),{});return l.children[rn]=new un(r.segments.slice(s.pathIndex),r.children),Ry(l,0,a)}return s.match&&0===a.length?new un(r.segments,{}):s.match&&!r.hasChildren()?rC(r,i,n):s.match?Ry(r,0,a):rC(r,i,n)}function Ry(r,i,n){if(0===n.length)return new un(r.segments,{});{const s=function(r){return hm(r[0])?r[0].outlets:{[rn]:r}}(n),a={};return yr(s,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=PE(r.children[h],i,l))}),yr(r.children,(l,h)=>{void 0===s[h]&&(a[h]=l)}),new un(r.segments,a)}}function rC(r,i,n){const s=r.segments.slice(0,i);let a=0;for(;a<n.length;){const l=n[a];if(hm(l)){const _=VR(l.outlets);return new un(s,_)}if(0===a&&Cu(n[0])){s.push(new Eh(r.segments[i].path,FE(n[0]))),a++;continue}const h=hm(l)?l.outlets[rn]:`${l}`,m=a<n.length-1?n[a+1]:null;h&&m&&Cu(m)?(s.push(new Eh(h,FE(m))),a+=2):(s.push(new Eh(h,{})),a++)}return new un(s,{})}function VR(r){const i={};return yr(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=rC(new un([],{}),0,n))}),i}function FE(r){const i={};return yr(r,(n,s)=>i[s]=`${n}`),i}function Oy(r,i,n){return r==n.path&&cl(i,n.parameters)}class sC{constructor(i,n,s,a){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=a}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),Ay(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const a=dm(n);i.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],s),delete a[h]}),yr(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,n,s){const a=i.value,l=n?n.value:null;if(a===l)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(i,n,h.children)}else this.deactivateChildRoutes(i,n,s);else l&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),a=s&&i.value.component?s.children:n,l=dm(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const a=dm(n);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new hE(l.value.snapshot))}),i.children.length&&this.forwardEvent(new CR(i.value.snapshot))}activateRoutes(i,n,s){const a=i.value,l=n?n.value:null;if(Ay(a),a===l)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,n,h.children)}else this.activateChildRoutes(i,n,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),oC(m.route)}else{const m=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(a.snapshot),_=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=_,h.outlet&&h.outlet.activateWith(a,_),this.activateChildRoutes(i,null,h.children)}}else this.activateChildRoutes(i,null,s)}}function oC(r){Ay(r.value),r.children.forEach(oC)}class BE{constructor(i,n){this.routes=i,this.module=n}}function Kl(r){return"function"==typeof r}function Du(r){return r instanceof Wl}const fm=Symbol("INITIAL_VALUE");function xh(){return mn(r=>nm(r.map(i=>i.pipe(P(1),$t(fm)))).pipe(_y((i,n)=>{let s=!1;return n.reduce((a,l,h)=>a!==fm?a:(l===fm&&(s=!0),s||!1!==l&&h!==n.length-1&&!Du(l)?a:l),i)},fm),wt(i=>i!==fm),(0,b.U)(i=>Du(i)?i:!0===i),P(1)))}let pm=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&o._UZ(0,"router-outlet")},directives:function(){return[vm]},encapsulation:2}),r})();function ZE(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];YE(s,Ny(i,s))}}function YE(r,i){r.children&&ZE(r.children,i)}function Ny(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function Ah(r){const i=r.children&&r.children.map(Ah),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==rn&&(n.component=pm),n}function Wr(r){return r.outlet||rn}function GE(r,i){const n=r.filter(s=>Wr(s)===i);return n.push(...r.filter(s=>Wr(s)!==i)),n}const qE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function aC(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},qE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(i.matcher||qB)(n,r,i);if(!l)return Object.assign({},qE);const h={};yr(l.posParams,(_,w)=>{h[w]=_.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function Py(r,i,n,s,a="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>Fy(r,i,s)&&Wr(s)!==rn)}(r,n,s)){const h=new un(i,function(r,i,n,s){const a={};a[rn]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const l of n)if(""===l.path&&Wr(l)!==rn){const h=new un([],{});h._sourceSegment=r,h._segmentIndexShift=i.length,a[Wr(l)]=h}return a}(r,i,s,new un(n,r.children)));return h._sourceSegment=r,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>Fy(r,i,s))}(r,n,s)){const h=new un(r.segments,function(r,i,n,s,a,l){const h={};for(const m of s)if(Fy(r,n,m)&&!a[Wr(m)]){const _=new un([],{});_._sourceSegment=r,_._segmentIndexShift="legacy"===l?r.segments.length:i.length,h[Wr(m)]=_}return Object.assign(Object.assign({},a),h)}(r,i,n,s,r.children,a));return h._sourceSegment=r,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:n}}const l=new un(r.segments,r.children);return l._sourceSegment=r,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:n}}function Fy(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function jE(r,i,n,s){return!!(Wr(r)===s||s!==rn&&Fy(i,n,r))&&("**"===r.path||aC(i,r,n).matched)}function zE(r,i,n){return 0===i.length&&!r.children[n]}class mm{constructor(i){this.segmentGroup=i||null}}class zR{constructor(i){this.urlTree=i}}function Ly(r){return new kn.y(i=>i.error(new mm(r)))}function kh(r){return new kn.y(i=>i.error(new zR(r)))}function $R(r){return new kn.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class By{constructor(i,n,s,a,l){this.configLoader=n,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(o.h0i)}apply(){const i=Py(this.urlTree.root,[],[],this.config).segmentGroup,n=new un(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,rn).pipe((0,b.U)(l=>this.createUrlTree(Vy(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(al(l=>{if(l instanceof zR)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof mm?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,rn).pipe((0,b.U)(a=>this.createUrlTree(Vy(a),i.queryParams,i.fragment))).pipe(al(a=>{throw a instanceof mm?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const a=i.segments.length>0?new un([],{[rn]:i}):i;return new Wl(a,n,s)}expandSegmentGroup(i,n,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,b.U)(l=>new un([],l))):this.expandSegment(i,s,n,s.segments,a,!0)}expandChildren(i,n,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Bn.D)(a).pipe(Dh(l=>{const h=s.children[l],m=GE(n,l);return this.expandSegmentGroup(i,m,h,l).pipe((0,b.U)(_=>({segment:_,outlet:l})))}),_y((l,h)=>(l[h.outlet]=h.segment,l),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?wt((a,l)=>r(a,l,s)):sE.y,zw(1),n?gR(i):iE(()=>new gy))}())}expandSegment(i,n,s,a,l,h){return(0,Bn.D)(s).pipe(Dh(m=>this.expandSegmentAgainstRoute(i,n,s,m,a,l,h).pipe(al(w=>{if(w instanceof mm)return(0,qe.of)(null);throw w}))),$l(m=>!!m),al((m,_)=>{if(m instanceof gy||"EmptyError"===m.name){if(zE(n,a,l))return(0,qe.of)(new un([],{}));throw new mm(n)}throw m}))}expandSegmentAgainstRoute(i,n,s,a,l,h,m){return jE(a,n,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,n,a,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h):Ly(n):Ly(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?kh(l):this.lineralizeSegments(s,l).pipe((0,et.zg)(h=>{const m=new un(h,{});return this.expandSegment(i,m,n,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h){const{matched:m,consumedSegments:_,lastChild:w,positionalParamSegments:T}=aC(n,a,l);if(!m)return Ly(n);const A=this.applyRedirectCommands(_,a.redirectTo,T);return a.redirectTo.startsWith("/")?kh(A):this.lineralizeSegments(a,A).pipe((0,et.zg)(I=>this.expandSegment(i,n,s,I.concat(l.slice(w)),h,!1)))}matchSegmentAgainstRoute(i,n,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,b.U)(I=>(s._loadedConfig=I,new un(a,{})))):(0,qe.of)(new un(a,{}));const{matched:h,consumedSegments:m,lastChild:_}=aC(n,s,a);if(!h)return Ly(n);const w=a.slice(_);return this.getChildConfig(i,s,a).pipe((0,et.zg)(A=>{const I=A.module,O=A.routes,{segmentGroup:B,slicedSegments:$}=Py(n,m,w,O),le=new un(B.segments,B.children);if(0===$.length&&le.hasChildren())return this.expandChildren(I,O,le).pipe((0,b.U)(We=>new un(m,We)));if(0===O.length&&0===$.length)return(0,qe.of)(new un(m,{}));const Re=Wr(s)===l;return this.expandSegment(I,le,O,$,Re?rn:l,!0).pipe((0,b.U)(He=>new un(m.concat(He.segments),He.children)))}))}getChildConfig(i,n,s){return n.children?(0,qe.of)(new BE(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,qe.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,et.zg)(a=>{return a?this.configLoader.load(i.injector,n).pipe((0,b.U)(l=>(n._loadedConfig=l,l))):(r=n,new kn.y(i=>i.error(Qw(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,qe.of)(new BE([],i))}runCanLoadGuards(i,n,s){const a=n.canLoad;if(!a||0===a.length)return(0,qe.of)(!0);const l=a.map(h=>{const m=i.get(h);let _;if((r=m)&&Kl(r.canLoad))_=m.canLoad(n,s);else{if(!Kl(m))throw new Error("Invalid CanLoad guard");_=m(n,s)}var r;return As(_)});return(0,qe.of)(l).pipe(xh(),(0,Wn.b)(h=>{if(!Du(h))return;const m=Qw(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,b.U)(h=>!0===h))}lineralizeSegments(i,n){let s=[],a=n.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,qe.of)(s);if(a.numberOfChildren>1||!a.children[rn])return $R(i.redirectTo);a=a.children[rn]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,a){const l=this.createSegmentGroup(i,n.root,s,a);return new Wl(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return yr(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);s[l]=n[m]}else s[l]=a}),s}createSegmentGroup(i,n,s,a){const l=this.createSegments(i,n.segments,s,a);let h={};return yr(n.children,(m,_)=>{h[_]=this.createSegmentGroup(i,m,s,a)}),new un(l,h)}createSegments(i,n,s,a){return n.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,n,s){const a=s[n.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return a}findOrReturn(i,n){let s=0;for(const a of n){if(a.path===i.path)return n.splice(s),a;s++}return i}}function Vy(r){const i={};for(const s of Object.keys(r.children)){const l=Vy(r.children[s]);(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function(r){if(1===r.numberOfChildren&&r.children[rn]){const i=r.children[rn];return new un(r.segments.concat(i.segments),i.children)}return r}(new un(r.segments,i))}class KR{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Uy{constructor(i,n){this.component=i,this.route=n}}function Hy(r,i,n){const s=r._root;return Ih(s,i?i._root:null,n,[s.value])}function Zy(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function Ih(r,i,n,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=dm(i);return r.children.forEach(h=>{(function(r,i,n,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=r.value,h=i?i.value:null,m=n?n.getContext(r.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const _=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!Jl(r.url,i.url);case"pathParamsOrQueryParamsChange":return!Jl(r.url,i.url)||!cl(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ky(r,i)||!cl(r.queryParams,i.queryParams);case"paramsChange":default:return!ky(r,i)}}(h,l,l.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new KR(s)):(l.data=h.data,l._resolvedData=h._resolvedData),Ih(r,i,l.component?m?m.children:null:n,s,a),_&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Uy(m.outlet.component,h))}else h&&Rh(i,m,a),a.canActivateChecks.push(new KR(s)),Ih(r,null,l.component?m?m.children:null:n,s,a)})(h,l[h.value.outlet],n,s.concat([h.value]),a),delete l[h.value.outlet]}),yr(l,(h,m)=>Rh(h,n.getContext(m),a)),a}function Rh(r,i,n){const s=dm(r),a=r.value;yr(s,(l,h)=>{Rh(l,a.component?i?i.children.getContext(h):null:i,n)}),n.canDeactivateChecks.push(new Uy(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class gm{}function Mn(r){return new kn.y(i=>i.error(r))}class Oh{constructor(i,n,s,a,l,h){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const i=Py(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,rn);if(null===n)return null;const s=new Sh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ul(s,n),l=new AE(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const n=i.value,s=xE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const l of Object.keys(n.children)){const h=n.children[l],m=GE(i,l),_=this.processSegmentGroup(m,h,l);if(null===_)return null;s.push(..._)}const a=js(s);return a.sort((i,n)=>i.value.outlet===rn?-1:n.value.outlet===rn?1:i.value.outlet.localeCompare(n.value.outlet)),a}processSegment(i,n,s,a){for(const l of i){const h=this.processSegmentAgainstRoute(l,n,s,a);if(null!==h)return h}return zE(n,s,a)?[]:null}processSegmentAgainstRoute(i,n,s,a){if(i.redirectTo||!jE(i,n,s,a))return null;let l,h=[],m=[];if("**"===i.path){const O=s.length>0?pE(s).parameters:{};l=new Sh(s,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cC(i),Wr(i),i.component,i,ec(n),iO(n)+s.length,uC(i))}else{const O=aC(n,i,s);if(!O.matched)return null;h=O.consumedSegments,m=s.slice(O.lastChild),l=new Sh(h,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cC(i),Wr(i),i.component,i,ec(n),iO(n)+h.length,uC(i))}const _=(r=i).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:T}=Py(n,h,m,_.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);var r;if(0===T.length&&w.hasChildren()){const O=this.processChildren(_,w);return null===O?null:[new ul(l,O)]}if(0===_.length&&0===T.length)return[new ul(l,[])];const A=Wr(i)===a,I=this.processSegment(_,w,T,A?rn:a);return null===I?null:[new ul(l,I)]}}function Bt(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function js(r){const i=[],n=new Set;for(const s of r){if(!Bt(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),n.add(a)):i.push(s)}for(const s of n){const a=js(s.children);i.push(new ul(s.value,a))}return i.filter(s=>!n.has(s))}function ec(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function iO(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function cC(r){return r.data||{}}function uC(r){return r.resolve||{}}function zs(r){return mn(i=>{const n=r(i);return n?(0,Bn.D)(n).pipe((0,b.U)(()=>i)):(0,qe.of)(i)})}class eS extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const ym=new o.OlP("ROUTES");class Mu{constructor(i,n,s,a){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=a}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const a=this.loadModuleFactory(n.loadChildren).pipe((0,b.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);const h=l.create(i);return new BE(sm(h.injector.get(ym,void 0,o.XFs.Self|o.XFs.Optional)).map(Ah),h)}),al(l=>{throw n._loader$=void 0,l}));return n._loader$=new Ch.c(a,()=>new pe.xQ).pipe((0,aE.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Bn.D)(this.loader.load(i)):As(i()).pipe((0,et.zg)(n=>n instanceof o.YKP?(0,qe.of)(n):(0,Bn.D)(this.compiler.compileModuleAsync(n))))}}class bm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nh,this.attachRef=null}}class Nh{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new bm,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class aO{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function tS(r){throw r}function dC(r,i,n){return i.parse("/")}function Ph(r,i){return(0,qe.of)(null)}const hC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class r{constructor(n,s,a,l,h,m,_,w){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pe.xQ,this.errorHandler=tS,this.malformedUriErrorHandler=dC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ph,afterPreactivation:Ph},this.urlHandlingStrategy=new aO,this.routeReuseStrategy=new eS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const I=h.get(o.R0b);this.isNgZoneEnabled=I instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Wl(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mu(m,_,O=>this.triggerEvent(new Th(O)),O=>this.triggerEvent(new Mh(O))),this.routerState=Sy(this.currentUrlTree,this.rootComponentType),this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(wt(a=>0!==a.id),(0,b.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),mn(a=>{let l=!1,h=!1;return(0,qe.of)(a).pipe((0,Wn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mn(m=>{const _=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),w=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(Su(m.source)&&(this.browserUrlTree=m.rawUrl),w)return(0,qe.of)(m).pipe(mn(T=>{const A=this.transitions.getValue();return s.next(new yu(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions.getValue()?R.E:Promise.resolve(T)}),function(r,i,n,s){return mn(a=>function(r,i,n,s,a){return new By(r,i,n,s,a).apply()}(r,i,n,a.extractedUrl,s).pipe((0,b.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wn.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(r,i,n,s,a){return(0,et.zg)(l=>function(r,i,n,s,a="emptyOnly",l="legacy"){try{const h=new Oh(r,i,n,s,a,l).recognize();return null===h?Mn(new gm):(0,qe.of)(h)}catch(h){return Mn(h)}}(r,i,l.urlAfterRedirects,n(l.urlAfterRedirects),s,a).pipe((0,b.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wn.b)(T=>{"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(T.urlAfterRedirects,T),this.browserUrlTree=T.urlAfterRedirects);const A=new wy(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);s.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:O,restoredState:B,extras:$}=m,le=new yu(A,this.serializeUrl(I),O,B);s.next(le);const Re=Sy(I,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},m),{targetSnapshot:Re,urlAfterRedirects:I,extras:Object.assign(Object.assign({},$),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),R.E}),zs(m=>{const{targetSnapshot:_,id:w,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:I,replaceUrl:O}}=m;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!I,replaceUrl:!!O})}),(0,Wn.b)(m=>{const _=new cE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),(0,b.U)(m=>Object.assign(Object.assign({},m),{guards:Hy(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(r,i){return(0,et.zg)(n=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=n;return 0===h.length&&0===l.length?(0,qe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,Bn.D)(r).pipe((0,et.zg)(a=>function(r,i,n,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qe.of)(!0);const h=l.map(m=>{const _=Zy(m,i,a);let w;if(function(r){return r&&Kl(r.canDeactivate)}(_))w=As(_.canDeactivate(r,i,n,s));else{if(!Kl(_))throw new Error("Invalid CanDeactivate guard");w=As(_(r,i,n,s))}return w.pipe($l())});return(0,qe.of)(h).pipe(xh())}(a.component,a.route,n,i,s)),$l(a=>!0!==a,!0))}(h,s,a,r).pipe((0,et.zg)(m=>m&&function(r){return"boolean"==typeof r}(m)?function(r,i,n,s){return(0,Bn.D)(i).pipe(Dh(a=>Pl(function(r,i){return null!==r&&i&&i(new wR(r)),(0,qe.of)(!0)}(a.route.parent,s),function(r,i){return null!==r&&i&&i(new DR(r)),(0,qe.of)(!0)}(a.route,s),function(r,i,n){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(h=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(h)).filter(h=>null!==h).map(h=>im(()=>{const m=h.guards.map(_=>{const w=Zy(_,h.node,n);let T;if(function(r){return r&&Kl(r.canActivateChild)}(w))T=As(w.canActivateChild(s,r));else{if(!Kl(w))throw new Error("Invalid CanActivateChild guard");T=As(w(s,r))}return T.pipe($l())});return(0,qe.of)(m).pipe(xh())}));return(0,qe.of)(l).pipe(xh())}(r,a.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,qe.of)(!0);const a=s.map(l=>im(()=>{const h=Zy(l,i,n);let m;if(function(r){return r&&Kl(r.canActivate)}(h))m=As(h.canActivate(i,r));else{if(!Kl(h))throw new Error("Invalid CanActivate guard");m=As(h(i,r))}return m.pipe($l())}));return(0,qe.of)(a).pipe(xh())}(r,a.route,n))),$l(a=>!0!==a,!0))}(s,l,r,i):(0,qe.of)(m)),(0,b.U)(m=>Object.assign(Object.assign({},n),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Wn.b)(m=>{if(Du(m.guardsResult)){const w=Qw(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw w.url=m.guardsResult,w}const _=new uE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),wt(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),zs(m=>{if(m.guards.canActivateChecks.length)return(0,qe.of)(m).pipe((0,Wn.b)(_=>{const w=new dE(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),mn(_=>{let w=!1;return(0,qe.of)(_).pipe(function(r,i){return(0,et.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=n;if(!a.length)return(0,qe.of)(n);let l=0;return(0,Bn.D)(a).pipe(Dh(h=>function(r,i,n,s){return function(r,i,n,s){const a=Object.keys(r);if(0===a.length)return(0,qe.of)({});const l={};return(0,Bn.D)(a).pipe((0,et.zg)(h=>function(r,i,n,s){const a=Zy(r,i,s);return As(a.resolve?a.resolve(i,n):a(i,n))}(r[h],i,n,s).pipe((0,Wn.b)(m=>{l[h]=m}))),zw(1),(0,et.zg)(()=>Object.keys(l).length===a.length?(0,qe.of)(l):R.E))}(r._resolve,r,i,s).pipe((0,b.U)(l=>(r._resolvedData=l,r.data=Object.assign(Object.assign({},r.data),xE(r,n).resolve),null)))}(h.route,s,r,i)),(0,Wn.b)(()=>l++),zw(1),(0,et.zg)(h=>l===a.length?(0,qe.of)(n):R.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Wn.b)(_=>{const w=new vR(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),zs(m=>{const{targetSnapshot:_,id:w,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:I,replaceUrl:O}}=m;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!I,replaceUrl:!!O})}),(0,b.U)(m=>{const _=function(r,i,n){const s=nC(r,i._root,n?n._root:void 0);return new Ey(s,i)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:_})}),(0,Wn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((r,i,n)=>(0,b.U)(s=>(new sC(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Wn.b)({next(){l=!0},complete(){l=!0}}),Ww(()=>{if(!l&&!h){const m=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,m)):this.cancelNavigationTransition(a,m)}this.currentNavigation=null}),al(m=>{if(h=!0,function(r){return r&&r[fE]}(m)){const _=Du(m.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const w=new lE(a.id,this.serializeUrl(a.extractedUrl),m.message);s.next(w),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Su(a.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new bR(a.id,this.serializeUrl(a.extractedUrl),m);s.next(_);try{a.resolve(this.errorHandler(m))}catch(w){a.reject(w)}}return R.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=s,m={replaceUrl:!0};if(l){const _=Object.assign({},l);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(m.state=_)}this.scheduleNavigation(h,a,l,m)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const a=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!a||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){ZE(n),this.config=n.map(Ah),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:_}=s,w=a||this.routerState.root,T=_?this.currentUrlTree.fragment:h;let A=null;switch(m){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function(r,i,n,s,a){if(0===n.length)return Ql(i.root,i.root,i,s,a);const l=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new LR(!0,0,r);let i=0,n=!1;const s=r.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return yr(l.outlets,(_,w)=>{m[w]="string"==typeof _?_.split("/"):_}),[...a,{outlets:m}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?n=!0:".."===m?i++:""!=m&&a.push(m))}),a):[...a,l]},[]);return new LR(n,i,s)}(n);if(l.toRoot())return Ql(i.root,new un([],{}),i,s,a);const h=function(r,i,n){if(r.isAbsolute)return new go(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const l=n.snapshot._urlSegment;return new go(l,l===i.root,0)}const s=Cu(r.commands[0])?0:1;return function(r,i,n){let s=r,a=i,l=n;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new go(s,!1,a-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(l,i,r),m=h.processChildren?Ry(h.segmentGroup,h.index,l.commands):PE(h.segmentGroup,h.index,l.commands);return Ql(h.segmentGroup,m,i,s,a)}(w,this.currentUrlTree,n,A,null!=T?T:null)}navigateByUrl(n,s={skipLocationChange:!1}){const a=Du(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return s}isActive(n,s){let a;if(a=!0===s?Object.assign({},hC):!1===s?Object.assign({},nS):s,Du(n))return gE(this.currentUrlTree,n,a);const l=this.parseUrl(n);return gE(this.currentUrlTree,l,a)}removeEmptyProps(n){return Object.keys(n).reduce((s,a)=>{const l=n[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new rm(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,a,l,h){var m,_;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),T=Su(s)&&w&&!Su(w.source),O=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===n.toString();if(T&&O)return Promise.resolve(!0);let B,$,le;h?(B=h.resolve,$=h.reject,le=h.promise):le=new Promise((He,We)=>{B=He,$=We});const Re=++this.navigationId;let Ve;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Ve=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Ve=0,this.setTransition({id:Re,targetPageId:Ve,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:B,reject:$,promise:le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),le.catch(He=>Promise.reject(He))}setBrowserUrl(n,s){const a=this.urlSerializer.serialize(n),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(n,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const a=new lE(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(a),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.DyG),o.LFG(om),o.LFG(Nh),o.LFG(Zt),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function Su(r){return"imperative"!==r}let vm=(()=>{class r{constructor(n,s,a,l,h){this.parentContexts=n,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||rn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const h=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,_=new fC(n,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Nh),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},r.\u0275dir=o.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class fC{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===qs?this.route:i===Nh?this.childContexts:this.parent.get(i,n)}}class uO{}class Ot{preload(i,n){return(0,qe.of)(null)}}let dO=(()=>{class r{constructor(n,s,a,l,h){this.router=n,this.injector=l,this.preloadingStrategy=h,this.loader=new Mu(s,a,w=>n.triggerEvent(new Th(w)),w=>n.triggerEvent(new Mh(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(wt(n=>n instanceof rm),Dh(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(o.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(n,l)):l.children&&a.push(this.processRoutes(n,l.children));return(0,Bn.D)(a).pipe((0,jd.J)(),(0,b.U)(l=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,et.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Hn),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(uO))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Au=(()=>{class r{constructor(n,s,a={}){this.router=n,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof yu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof rm&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Jw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new Jw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Hn),o.LFG(wl),o.LFG(void 0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const ku=new o.OlP("ROUTER_CONFIGURATION"),iS=new o.OlP("ROUTER_FORROOT_GUARD"),iV=[Zt,{provide:om,useClass:yE},{provide:Hn,useFactory:function(r,i,n,s,a,l,h,m={},_,w){const T=new Hn(null,r,i,n,s,a,l,sm(h));return _&&(T.urlHandlingStrategy=_),w&&(T.routeReuseStrategy=w),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(m,T),m.enableTracing&&T.events.subscribe(A=>{var I,O;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(O=console.groupEnd)||void 0===O||O.call(console)}),T},deps:[om,Nh,Zt,o.zs3,o.v3s,o.Sil,ym,ku,[class{},new o.FiY],[class{},new o.FiY]]},Nh,{provide:qs,useFactory:function(r){return r.routerState.root},deps:[Hn]},{provide:o.v3s,useClass:o.EAV},dO,Ot,class{preload(i,n){return n().pipe(al(()=>(0,qe.of)(null)))}},{provide:ku,useValue:{enableTracing:!1}}];function hO(){return new o.PXZ("Router",Hn)}let Rr=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[iV,rS(n),{provide:iS,useFactory:pC,deps:[[Hn,new o.FiY,new o.tp0]]},{provide:ku,useValue:s||{}},{provide:Oe,useFactory:pO,deps:[W,[new o.tBr(Ie),new o.FiY],ku]},{provide:Au,useFactory:fO,deps:[Hn,wl,ku]},{provide:uO,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Ot},{provide:o.PXZ,multi:!0,useFactory:hO},[mC,{provide:o.ip1,multi:!0,useFactory:yO,deps:[mC]},{provide:sS,useFactory:gC,deps:[mC]},{provide:o.tb,multi:!0,useExisting:sS}]]}}static forChild(n){return{ngModule:r,providers:[rS(n)]}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(iS,8),o.LFG(Hn,8))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();function fO(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new Au(r,i,n)}function pO(r,i,n={}){return n.useHash?new mt(r,i):new rt(r,i)}function pC(r){return"guarded"}function rS(r){return[{provide:o.deG,multi:!0,useValue:r},{provide:ym,multi:!0,useValue:r}]}let mC=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pe.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(m=>s=m),l=this.injector.get(Hn),h=this.injector.get(ku);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(n){const s=this.injector.get(ku),a=this.injector.get(dO),l=this.injector.get(Au),h=this.injector.get(Hn),m=this.injector.get(o.z2F);n===m.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.zs3))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function yO(r){return r.appInitializer.bind(r)}function gC(r){return r.bootstrapListener.bind(r)}const sS=new o.OlP("Router Initializer");let yo=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Je=(()=>{return(r=Je||(Je={}))[r.visiteur=1]="visiteur",r[r.moderateur=28]="moderateur",r[r.editArticle=4]="editArticle",r[r.editPhotosDeClasse=8]="editPhotosDeClasse",r[r.editPdf=16]="editPdf",r[r.administrateur=255]="administrateur",Je;var r})(),Jn=(()=>{return(r=Jn||(Jn={}))[r.initial=0]="initial",r[r.valide=1]="valide",r[r.rejete=256]="rejete",r[r.supprime=4096]="supprime",r[r.visiteur=65536]="visiteur",Jn;var r})(),ui=L(9126),bo=L(8939),oS=(L(4828),L(4486)),Te=L(8239),Fh=L(5452),tc=L(6034),Iu=L(300),Wt=L(4685),$y=function(r,i){return($y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])})(r,i)};function wO(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var it,aS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_C=_C||{},Vt=aS||self;function Wy(){}function yC(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function Lh(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var bC="closure_uid_"+(1e9*Math.random()>>>0),sV=0;function oV(r,i,n){return r.call.apply(r.bind,arguments)}function aV(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(i,a)}}return function(){return r.apply(i,arguments)}}function ur(r,i,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oV:aV).apply(null,arguments)}function Jy(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Or(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,a,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return i.prototype[a].apply(s,h)}}function nc(){this.s=this.s,this.o=this.o}var TO={};nc.prototype.s=!1,nc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,bC)&&r[bC]||(r[bC]=++sV)}(this);delete TO[r]}},nc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var lS=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},vC=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,a="string"==typeof r?r.split(""):r,l=0;l<s;l++)l in a&&i.call(n,a[l],l,r)};function cS(r){return Array.prototype.concat.apply([],arguments)}function ic(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function dr(r){return/^[\s\xa0]*$/.test(r)}var gs,CC=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ni(r,i){return-1!=r.indexOf(i)}function Cm(r,i){return r<i?-1:r>i?1:0}e:{var DC=Vt.navigator;if(DC){var TC=DC.userAgent;if(TC){gs=TC;break e}}gs=""}function Qy(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function uS(r){var i={};for(var n in r)i[n]=r[n];return i}var dS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hS(r,i){for(var n,s,a=1;a<arguments.length;a++){for(n in s=arguments[a])r[n]=s[n];for(var l=0;l<dS.length;l++)n=dS[l],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function Ky(r){return Ky[" "](r),r}Ky[" "]=Wy;var MC,r,lV=ni(gs,"Opera"),Bh=ni(gs,"Trident")||ni(gs,"MSIE"),fS=ni(gs,"Edge"),rc=fS||Bh,EO=ni(gs,"Gecko")&&!(ni(gs.toLowerCase(),"webkit")&&!ni(gs,"Edge"))&&!(ni(gs,"Trident")||ni(gs,"MSIE"))&&!ni(gs,"Edge"),pS=ni(gs.toLowerCase(),"webkit")&&!ni(gs,"Edge");function mS(){var r=Vt.document;return r?r.documentMode:void 0}e:{var Xy="",EC=(r=gs,EO?/rv:([^\);]+)(\)|;)/.exec(r):fS?/Edge\/([\d\.]+)/.exec(r):Bh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):pS?/WebKit\/(\S+)/.exec(r):lV?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(EC&&(Xy=EC?EC[1]:""),Bh){var Dm=mS();if(null!=Dm&&Dm>parseFloat(Xy)){MC=String(Dm);break e}}MC=Xy}var SO={};function gS(){return i=SO,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=CC(String(MC)).split("."),n=CC("9").split("."),s=Math.max(i.length,n.length),a=0;0==r&&a<s;a++){var l=i[a]||"",h=n[a]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;r=Cm(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||Cm(0==l[2].length,0==h[2].length)||Cm(l[2],h[2]),l=l[3],h=h[3]}while(0==r)}return 0<=r}();var i}var xO=Vt.document&&Bh&&(mS()||parseInt(MC,10))||void 0,AO=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Vt.addEventListener("test",Wy,i),Vt.removeEventListener("test",Wy,i)}catch(n){}return r}();function Jr(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function Tm(r,i){if(Jr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(EO){e:{try{Ky(i.nodeName);var a=!0;break e}catch(l){}a=!1}a||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:kO[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Tm.Z.h.call(this)}}Jr.prototype.h=function(){this.defaultPrevented=!0},Or(Tm,Jr);var kO={2:"touch",3:"pen",4:"mouse"};Tm.prototype.h=function(){Tm.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Mm="closure_listenable_"+(1e6*Math.random()|0),Em=0;function _S(r,i,n,s,a){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=a,this.key=++Em,this.ca=this.fa=!1}function Sm(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function xm(r){this.src=r,this.g={},this.h=0}function tb(r,i){var n=i.type;if(n in r.g){var l,s=r.g[n],a=lS(s,i);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Sm(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function nb(r,i,n,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.ca&&l.listener==i&&l.capture==!!n&&l.ia==s)return a}return-1}xm.prototype.add=function(r,i,n,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var h=nb(r,i,s,a);return-1<h?(i=r[h],n||(i.fa=!1)):((i=new _S(i,this.src,l,!!s,a)).fa=n,r.push(i)),i};var ib="closure_lm_"+(1e6*Math.random()|0),xC={};function AC(r,i,n,s,a){if(s&&s.once)return yS(r,i,n,s,a);if(Array.isArray(i)){for(var l=0;l<i.length;l++)AC(r,i[l],n,s,a);return null}return n=IC(n),r&&r[Mm]?r.N(i,n,Lh(s)?!!s.capture:!!s,a):kC(r,i,n,!1,s,a)}function kC(r,i,n,s,a,l){if(!i)throw Error("Invalid event type");var h=Lh(a)?!!a.capture:!!a,m=Am(r);if(m||(r[ib]=m=new xm(r)),(n=m.add(i,n,s,h,l)).proxy)return n;if(s=function(){var i=RO;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)AO||(a=h),void 0===a&&(a=!1),r.addEventListener(i.toString(),s,a);else if(r.attachEvent)r.attachEvent(Vh(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function yS(r,i,n,s,a){if(Array.isArray(i)){for(var l=0;l<i.length;l++)yS(r,i[l],n,s,a);return null}return n=IC(n),r&&r[Mm]?r.O(i,n,Lh(s)?!!s.capture:!!s,a):kC(r,i,n,!0,s,a)}function bS(r,i,n,s,a){if(Array.isArray(i))for(var l=0;l<i.length;l++)bS(r,i[l],n,s,a);else s=Lh(s)?!!s.capture:!!s,n=IC(n),r&&r[Mm]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=nb(l=r.g[i],n,s,a))&&(Sm(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete r.g[i],r.h--))):r&&(r=Am(r))&&(i=r.g[i.toString()],r=-1,i&&(r=nb(i,n,s,a)),(n=-1<r?i[r]:null)&&Ru(n))}function Ru(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[Mm])tb(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(Vh(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=Am(i))?(tb(n,r),0==n.h&&(n.src=null,i[ib]=null)):Sm(r)}}}function Vh(r){return r in xC?xC[r]:xC[r]="on"+r}function RO(r,i){if(r.ca)r=!0;else{i=new Tm(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&Ru(r),r=n.call(s,i)}return r}function Am(r){return(r=r[ib])instanceof xm?r:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function IC(r){return"function"==typeof r?r:(r[vo]||(r[vo]=function(i){return r.handleEvent(i)}),r[vo])}function Ai(){nc.call(this),this.i=new xm(this),this.P=this,this.I=null}function Nr(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Jr(i,r);else if(i instanceof Jr)i.target=i.target||r;else{var a=i;hS(i=new Jr(s,r),a)}if(a=!0,n)for(var l=n.length-1;0<=l;l--){var h=i.g=n[l];a=rb(h,s,!0,i)&&a}if(a=rb(h=i.g=r,s,!0,i)&&a,a=rb(h,s,!1,i)&&a,n)for(l=0;l<n.length;l++)a=rb(h=i.g=n[l],s,!1,i)&&a}function rb(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,l=0;l<i.length;++l){var h=i[l];if(h&&!h.ca&&h.capture==n){var m=h.listener,_=h.ia||h.src;h.fa&&tb(r.i,h),a=!1!==m.call(_,s)&&a}}return a&&!s.defaultPrevented}Or(Ai,nc),Ai.prototype[Mm]=!0,Ai.prototype.removeEventListener=function(r,i,n,s){bS(this,r,i,n,s)},Ai.prototype.M=function(){if(Ai.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)Sm(n[s]);delete r.g[i],r.h--}}this.I=null},Ai.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},Ai.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var vS=Vt.JSON.stringify;function RC(){var r=UC,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var BC,OC=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=NC.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),NC=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new PC},function(r){return r.reset()}),PC=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function FC(r){Vt.setTimeout(function(){throw r},0)}function LC(r,i){BC||function(){var r=Vt.Promise.resolve(void 0);BC=function(){r.then(HC)}}(),VC||(BC(),VC=!0),UC.add(r,i)}var VC=!1,UC=new OC;function HC(){for(var r;r=RC();){try{r.h.call(r.g)}catch(n){FC(n)}var i=NC;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}VC=!1}function km(r,i){Ai.call(this),this.h=r||1,this.g=i||Vt,this.j=ur(this.kb,this),this.l=Date.now()}function sb(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function ob(r,i,n){if("function"==typeof r)n&&(r=ur(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ur(r.handleEvent,r)}return 2147483647<Number(i)?-1:Vt.setTimeout(r,i||0)}function ZC(r){r.g=ob(function(){r.g=null,r.i&&(r.i=!1,ZC(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}Or(km,Ai),(it=km.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nr(this,"tick"),this.da&&(sb(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){km.Z.M.call(this),sb(this),delete this.g};var NO=function(r){function i(n,s){var a=r.call(this)||this;return a.m=n,a.j=s,a.h=null,a.i=!1,a.g=null,a}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}$y(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:ZC(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(nc);function Uh(r){nc.call(this),this.h=r,this.g={}}Or(Uh,nc);var YC=[];function wS(r,i,n,s){Array.isArray(n)||(n&&(YC[0]=n.toString()),n=YC);for(var a=0;a<n.length;a++){var l=AC(i,n[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function GC(r){Qy(r.g,function(i,n){this.g.hasOwnProperty(n)&&Ru(i)},r),r.g={}}function Im(){this.g=!0}function jo(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return vS(n)}catch(m){return i}}(r,n)+(s?" "+s:"")})}Uh.prototype.M=function(){Uh.Z.M.call(this),GC(this)},Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Im.prototype.Aa=function(){this.g=!1},Im.prototype.info=function(){};var Hh={},Zh=null;function ab(){return Zh=Zh||new Ai}function lb(r){Jr.call(this,Hh.Ma,r)}function Rm(r){var i=ab();Nr(i,new lb(i,r))}function qC(r,i){Jr.call(this,Hh.STAT_EVENT,r),this.stat=i}function ys(r){var i=ab();Nr(i,new qC(i,r))}function CS(r,i){Jr.call(this,Hh.Na,r),this.size=i}function Ou(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){r()},i)}Hh.Ma="serverreachability",Or(lb,Jr),Hh.STAT_EVENT="statevent",Or(qC,Jr),Hh.Na="timingevent",Or(CS,Jr);var Om={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yh(){}function LO(){}Yh.prototype.h=null;var qh,Gh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zC(){Jr.call(this,"d")}function ub(){Jr.call(this,"c")}function Nm(){}function Pm(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new Uh(this),this.P=$C,this.W=new km(r=rc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new db}function db(){this.i=null,this.g="",this.h=!1}Or(zC,Jr),Or(ub,Jr),Or(Nm,Yh),Nm.prototype.g=function(){return new XMLHttpRequest},Nm.prototype.i=function(){return{}},qh=new Nm;var $C=45e3,WC={},hb={};function fb(r,i,n){r.K=1,r.v=n1(sc(i)),r.s=n,r.U=!0,JC(r,null)}function JC(r,i){r.F=Date.now(),jh(r),r.A=sc(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),qO(n.h,"t",s),r.C=0,n=r.l.H,r.h=new db,r.g=c1(r.l,n?i:null,!r.s),0<r.O&&(r.L=new NO(ur(r.Ia,r,r.g),r.O)),wS(r.V,r.g,"readystatechange",r.gb),i=r.H?uS(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),Rm(1),function(r,i,n,s,a,l){r.info(function(){if(r.g)if(l)for(var h="",m=l.split("&"),_=0;_<m.length;_++){var w=m[_].split("=");if(1<w.length){var T=w[0];w=w[1];var A=T.split("_");h=2<=A.length&&"type"==A[1]?h+(T+"=")+w+"&":h+(T+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+i+"\n"+n+"\n"+h})}(r.j,r.u,r.A,r.m,r.X,r.s)}function QC(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function DS(r,i,n){for(var a,s=!0;!r.I&&r.C<n.length;){if((a=TS(r,n))==hb){4==i&&(r.o=4,ys(14),s=!1),jo(r.j,r.m,null,"[Incomplete Response]");break}if(a==WC){r.o=4,ys(15),jo(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}jo(r.j,r.m,a,null),mb(r,a)}QC(r)&&a!=hb&&a!=WC&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,ys(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vm(i),i.L=!0,ys(11))):(jo(r.j,r.m,n,"[Invalid Chunked Response]"),Nu(r),zh(r))}function TS(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?hb:(n=Number(i.substring(n,s)),isNaN(n)?WC:(s+=1)+n>i.length?hb:(i=i.substr(s,n),r.C=s+n,i))}function jh(r){r.Y=Date.now()+r.P,MS(r,r.P)}function MS(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ou(ur(r.eb,r),i)}function pb(r){r.B&&(Vt.clearTimeout(r.B),r.B=null)}function zh(r){0==r.l.G||r.I||Db(r.l,r)}function Nu(r){pb(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,sb(r.W),GC(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function mb(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||r1(n.i,r)))if(n.I=r.N,!r.J&&r1(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(le){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(n.u)n.ta=a[1],0<n.ta-n.U&&37500>a[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ou(ur(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;Cb(n),s1(n)}o1(n),ys(18)}if(1>=JO(n.i)&&n.ka){try{n.ka()}catch(le){}n.ka=void 0}}else uc(n,11)}else if((r.J||n.g==r)&&Cb(n),!dr(i))for(a=n.Ca.g.parse(i),i=0;i<a.length;i++){var l=a[i];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];var h=l[3];null!=h&&(n.ma=h,n.h.info("VER="+n.ma));var m=l[4];null!=m&&(n.za=m,n.h.info("SVER="+n.za));var _=l[5];null!=_&&"number"==typeof _&&0<_&&(n.K=s=1.5*_,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var w=r.g;if(w){var T=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var A=s.i;!A.g&&(ni(T,"spdy")||ni(T,"quic")||ni(T,"h2"))&&(A.j=A.l,A.g=new Set,A.h&&(AS(A,A.h),A.h=null))}if(s.D){var I=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(s.sa=I,_i(s.F,s.D,I))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var O=r;if((s=n).oa=l1(s,s.H?s.la:null,s.W),O.J){kS(s.i,O);var B=O,$=s.K;$&&B.setTimeout($),B.B&&(pb(B),jh(B)),s.g=O}else ks(s);0<n.l.length&&wb(n)}else"stop"!=l[0]&&"close"!=l[0]||uc(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?uc(n,7):LS(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}Rm(4)}catch(le){}}function gb(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(yC(r)||"string"==typeof r)vC(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(yC(r)||"string"==typeof r){n=[];for(var s=r.length,a=0;a<s;a++)n.push(a)}else for(a in n=[],s=0,r)n[s++]=a;a=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(yC(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var l=0;l<a;l++)i.call(void 0,s[l],n&&n[l],r)}}function Pu(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Pu)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function KC(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];Fu(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var a={};for(n=i=0;i<r.g.length;)Fu(a,s=r.g[i])||(r.g[n++]=s,a[s]=1),i++;r.g.length=n}}function Fu(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(it=Pm.prototype).setTimeout=function(r){this.P=r},it.gb=function(r){r=r.target;var i=this.L;i&&3==cc(r)?i.l():this.Ia(r)},it.Ia=function(r){try{if(r==this.g)e:{var i=cc(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||rc||this.g&&(this.h.h||this.g.ga()||rN(this.g)))){this.I||4!=i||7==n||Rm(8==n||0>=s?3:2),pb(this);var a=this.g.ba();this.N=a;t:if(QC(this)){var l=rN(this.g);r="";var h=l.length,m=4==cc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Nu(this),zh(this);var _="";break t}this.h.i=new Vt.TextDecoder}for(n=0;n<h;n++)this.h.h=!0,r+=this.h.i.decode(l[n],{stream:m&&n==h-1});l.splice(0,h),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==a,function(r,i,n,s,a,l,h){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+i+"\n"+n+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var w,T=this.g;if((w=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dr(w)){var A=w;break t}}A=null}if(!(a=A)){this.i=!1,this.o=3,ys(12),Nu(this),zh(this);break e}jo(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mb(this,a)}this.U?(DS(this,i,_),rc&&this.i&&3==i&&(wS(this.V,this.W,"tick",this.fb),this.W.start())):(jo(this.j,this.m,_,null),mb(this,_)),4==i&&Nu(this),this.i&&!this.I&&(4==i?Db(this.l,this):(this.i=!1,jh(this)))}else 400==a&&0<_.indexOf("Unknown SID")?(this.o=3,ys(12)):(this.o=0,ys(13)),Nu(this),zh(this)}}}catch(I){}},it.fb=function(){if(this.g){var r=cc(this.g),i=this.g.ga();this.C<i.length&&(pb(this),DS(this,r,i),this.i&&4!=r&&jh(this))}},it.cancel=function(){this.I=!0,Nu(this)},it.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Rm(3),ys(17)),Nu(this),this.o=2,zh(this)):MS(this,this.Y-r)},(it=Pu.prototype).R=function(){KC(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},it.T=function(){return KC(this),this.g.concat()},it.get=function(r,i){return Fu(this.h,r)?this.h[r]:i},it.set=function(r,i){Fu(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},it.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var a=n[s],l=this.get(a);r.call(i,l,a,this)}};var SS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $h(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof $h){this.g=void 0!==i?i:r.g,XC(this,r.j),this.s=r.s,e1(this,r.i),t1(this,r.m),this.l=r.l,i=r.h;var n=new Lm;n.i=i.i,i.g&&(n.g=new Pu(i.g),n.h=i.h),BO(this,n),this.o=r.o}else r&&(n=String(r).match(SS))?(this.g=!!i,XC(this,n[1]||"",!0),this.s=Fm(n[2]||""),e1(this,n[3]||"",!0),t1(this,n[4]),this.l=Fm(n[5]||"",!0),BO(this,n[6]||"",!0),this.o=Fm(n[7]||"")):(this.g=!!i,this.h=new Lm(null,this.g))}function sc(r){return new $h(r)}function XC(r,i,n){r.j=n?Fm(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function e1(r,i,n){r.i=n?Fm(i,!0):i}function t1(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function BO(r,i,n){i instanceof Lm?(r.h=i,function(r,i){i&&!r.j&&(oc(r),r.i=null,r.g.forEach(function(n,s){var a=s.toLowerCase();s!=a&&(YO(this,s),qO(this,a,n))},r)),r.j=i}(r.h,r.g)):(n||(i=_b(i,HO)),r.h=new Lm(i,r.g))}function _i(r,i,n){r.h.set(i,n)}function n1(r){return _i(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Fm(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function _b(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,hV),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function hV(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}$h.prototype.toString=function(){var r=[],i=this.j;i&&r.push(_b(i,VO,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(_b(i,VO,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(_b(n,"/"==n.charAt(0)?fV:UO,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",_b(n,ZO)),r.join("")};var VO=/[#\/\?@]/g,UO=/[#\?:]/g,fV=/[#\?]/g,HO=/[#\?@]/g,ZO=/#/g;function Lm(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function oc(r){r.g||(r.g=new Pu,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),a=null;if(0<=s){var l=r[n].substring(0,s);a=r[n].substring(s+1)}else l=r[n];i(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function YO(r,i){oc(r),i=Wh(r,i),Fu(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,Fu((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&KC(r)))}function GO(r,i){return oc(r),i=Wh(r,i),Fu(r.g.h,i)}function qO(r,i,n){YO(r,i),0<n.length&&(r.i=null,r.g.set(Wh(r,i),ic(n)),r.h+=n.length)}function Wh(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(it=Lm.prototype).add=function(r,i){oc(this),this.i=null,r=Wh(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},it.forEach=function(r,i){oc(this),this.g.forEach(function(n,s){vC(n,function(a){r.call(i,a,s,this)},this)},this)},it.T=function(){oc(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var a=r[s],l=0;l<a.length;l++)n.push(i[s]);return n},it.R=function(r){oc(this);var i=[];if("string"==typeof r)GO(this,r)&&(i=cS(i,this.g.get(Wh(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=cS(i,r[n])}return i},it.set=function(r,i){return oc(this),this.i=null,GO(this,r=Wh(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},it.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var h=a;""!==s[l]&&(h+="="+encodeURIComponent(String(s[l]))),r.push(h)}}return this.i=r.join("&")};var zO=function(i,n){this.h=i,this.g=n};function $O(r){this.l=r||pV,r=Vt.PerformanceNavigationTiming?0<(r=Vt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pV=10;function WO(r){return!!r.h||!!r.g&&r.g.size>=r.j}function JO(r){return r.h?1:r.g?r.g.size:0}function r1(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function AS(r,i){r.g?r.g.add(i):r.h=i}function kS(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function yb(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var a=wO(r.g.values()),l=a.next();!l.done;l=a.next())s=s.concat(l.value.D)}catch(m){i={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}return ic(r.i)}function ac(){}function IS(){this.g=new ac}function QO(r,i,n){var s=n||"";try{gb(r,function(a,l){var h=a;Lh(a)&&(h=vS(a)),i.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw i.push(s+"type="+encodeURIComponent("_badmap")),a}}function Jh(r,i,n,s,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(s)}catch(l){}}function Qh(r){this.l=r.$b||null,this.j=r.ib||!1}function Bm(r,i){Ai.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=bb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$O.prototype.cancel=function(){var r,i;if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=wO(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},ac.prototype.stringify=function(r){return Vt.JSON.stringify(r,void 0)},ac.prototype.parse=function(r){return Vt.JSON.parse(r,void 0)},Or(Qh,Yh),Qh.prototype.g=function(){return new Bm(this.l,this.j)},Qh.prototype.i=function(r){return function(){return r}}({}),Or(Bm,Ai);var bb=0;function XO(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Kh(r){r.readyState=4,r.l=null,r.j=null,r.A=null,lc(r)}function lc(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(it=Bm.prototype).open=function(r,i){if(this.readyState!=bb)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,lc(this)},it.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||Vt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kh(this)),this.readyState=bb},it.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XO(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?Kh(this):lc(this),3==this.readyState&&XO(this)}},it.Ua=function(r){this.g&&(this.response=this.responseText=r,Kh(this))},it.Ta=function(r){this.g&&(this.response=r,Kh(this))},it.ha=function(){this.g&&Kh(this)},it.setRequestHeader=function(r,i){this.v.append(r,i)},it.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(Bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var RS=Vt.JSON.parse;function hr(r){Ai.call(this),this.headers=new Pu,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eN,this.K=this.L=!1}Or(hr,Ai);var eN="",mV=/^https?$/i,tN=["POST","PUT"];function vb(r){return"content-type"==r.toLowerCase()}function OS(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,nN(r),Xh(r)}function nN(r){r.D||(r.D=!0,Nr(r,"complete"),Nr(r,"error"))}function iN(r){if(r.h&&void 0!==_C&&(!r.C[1]||4!=cc(r)||2!=r.ba()))if(r.v&&4==cc(r))ob(r.Fa,0,r);else if(Nr(r,"readystatechange"),4==cc(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var a;if(a=0===i){var l=String(r.H).match(SS)[1]||null;if(!l&&Vt.self&&Vt.self.location){var h=Vt.self.location.protocol;l=h.substr(0,h.length-1)}a=!mV.test(l?l.toLowerCase():"")}s=a}if(s)Nr(r,"complete"),Nr(r,"success");else{r.m=6;try{var m=2<cc(r)?r.g.statusText:""}catch(_){m=""}r.j=m+" ["+r.ba()+"]",nN(r)}}finally{Xh(r)}}}function Xh(r,i){if(r.g){NS(r);var n=r.g,s=r.C[0]?Wy:null;r.g=null,r.C=null,i||Nr(r,"ready");try{n.onreadystatechange=s}catch(a){}}}function NS(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Vt.clearTimeout(r.A),r.A=null)}function cc(r){return r.g?r.g.readyState:0}function rN(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case eN:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function PS(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return Qy(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):_i(r,i,n))}function ef(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function FS(r){this.za=0,this.l=[],this.h=new Im,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ef("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ef("baseRetryDelayMs",5e3,r),this.$a=ef("retryDelaySeedMs",1e4,r),this.Ya=ef("forwardChannelMaxRetries",2,r),this.ra=ef("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new $O(r&&r.concurrentRequestLimit),this.Ca=new IS,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function LS(r){if(BS(r),3==r.G){var i=r.V++,n=sc(r.F);_i(n,"SID",r.J),_i(n,"RID",i),_i(n,"TYPE","terminate"),Bu(r,n),(i=new Pm(r,r.h,i,void 0)).K=2,i.v=n1(sc(n)),n=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(n=Vt.navigator.sendBeacon(i.v.toString(),"")),!n&&Vt.Image&&((new Image).src=i.v,n=!0),n||(i.g=c1(i.l,null),i.g.ea(i.v)),i.F=Date.now(),jh(i)}ZS(r)}function s1(r){r.g&&(Vm(r),r.g.cancel(),r.g=null)}function BS(r){s1(r),r.u&&(Vt.clearTimeout(r.u),r.u=null),Cb(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Vt.clearTimeout(r.m),r.m=null)}function Lu(r,i){r.l.push(new zO(r.Za++,i)),3==r.G&&wb(r)}function wb(r){WO(r.i)||r.m||(r.m=!0,LC(r.Ha,r),r.C=0)}function VS(r,i){var n;n=i?i.m:r.V++;var s=sc(r.F);_i(s,"SID",r.J),_i(s,"RID",n),_i(s,"AID",r.U),Bu(r,s),r.o&&r.s&&PS(s,r.o,r.s),n=new Pm(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=US(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),AS(r.i,n),fb(n,s,i)}function Bu(r,i){r.j&&gb({},function(n,s){_i(i,s,n)})}function US(r,i,n){n=Math.min(r.l.length,n);var s=r.j?ur(r.j.Oa,r.j,r):null;e:for(var a=r.l,l=-1;;){var h=["count="+n];-1==l?0<n?h.push("ofs="+(l=a[0].h)):l=0:h.push("ofs="+l);for(var m=!0,_=0;_<n;_++){var w=a[_].h,T=a[_].g;if(0>(w-=l))l=Math.max(0,a[_].h-100),m=!1;else try{QO(T,h,"req"+w+"_")}catch(A){s&&s(T)}}if(m){s=h.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function ks(r){r.g||r.u||(r.Y=1,LC(r.Ga,r),r.A=0)}function o1(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Ou(ur(r.Ga,r),a1(r,r.A)),r.A++,0))}function Vm(r){null!=r.B&&(Vt.clearTimeout(r.B),r.B=null)}function HS(r){r.g=new Pm(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=sc(r.oa);_i(i,"RID","rpc"),_i(i,"SID",r.J),_i(i,"CI",r.N?"0":"1"),_i(i,"AID",r.U),Bu(r,i),_i(i,"TYPE","xmlhttp"),r.o&&r.s&&PS(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=n1(sc(i)),n.s=null,n.U=!0,JC(n,r)}function Cb(r){null!=r.v&&(Vt.clearTimeout(r.v),r.v=null)}function Db(r,i){var n=null;if(r.g==i){Cb(r),Vm(r),r.g=null;var s=2}else{if(!r1(r.i,i))return;n=i.D,kS(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var a=r.C;Nr(s=ab(),new CS(s,n,i,a)),wb(r)}else ks(r);else if(3==(a=i.o)||0==a&&0<r.I||!(1==s&&function(r,i){return!(JO(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Ou(ur(r.Ha,r,i),a1(r,r.C)),r.C++,0)))}(r,i)||2==s&&o1(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),a){case 1:uc(r,5);break;case 4:uc(r,10);break;case 3:uc(r,6);break;default:uc(r,2)}}function a1(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function uc(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=ur(r.jb,r);n||(n=new $h("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||XC(n,"https"),n1(n)),function(r,i){var n=new Im;if(Vt.Image){var s=new Image;s.onload=Jy(Jh,n,s,"TestLoadImage: loaded",!0,i),s.onerror=Jy(Jh,n,s,"TestLoadImage: error",!1,i),s.onabort=Jy(Jh,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=Jy(Jh,n,s,"TestLoadImage: timeout",!1,i),Vt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else ys(2);r.G=0,r.j&&r.j.va(i),ZS(r),BS(r)}function ZS(r){r.G=0,r.I=-1,r.j&&((0!=yb(r.i).length||0!=r.l.length)&&(r.i.i.length=0,ic(r.l),r.l.length=0),r.j.ua())}function l1(r,i,n){var s=function(r){return r instanceof $h?sc(r):new $h(r,void 0)}(n);if(""!=s.i)i&&e1(s,i+"."+s.i),t1(s,s.m);else{var a=Vt.location;s=function(r,i,n,s){var a=new $h(null,void 0);return r&&XC(a,r),i&&e1(a,i),n&&t1(a,n),s&&(a.l=s),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,n)}return r.aa&&Qy(r.aa,function(l,h){_i(s,h,l)}),n=r.sa,(i=r.D)&&n&&_i(s,i,n),_i(s,"VER",r.ma),Bu(r,s),s}function c1(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new hr(n&&r.Ba&&!r.qa?new Qh({ib:!0}):r.qa)).L=r.H,i}function YS(){}function Tb(){if(Bh&&!(10<=Number(xO)))throw Error("Environmental error: no available transport.")}function bs(r,i){Ai.call(this),this.g=new FS(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!dr(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!dr(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new dc(this)}function u1(r){zC.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function d1(){ub.call(this),this.status=1}function dc(r){this.g=r}(it=hr.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qh.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:qh),this.g.onreadystatechange=ur(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(l){return void OS(this,l)}r=n||"";var a=new Pu(this.headers);s&&gb(s,function(l,h){a.set(h,l)}),s=function(r){e:{for(var i=vb,n=r.length,s="string"==typeof r?r.split(""):r,a=0;a<n;a++)if(a in s&&i.call(void 0,s[a],a,r)){i=a;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(a.T()),n=Vt.FormData&&r instanceof Vt.FormData,!(0<=lS(tN,i))||s||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NS(this),0<this.B&&((this.K=function(r){return Bh&&gS()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.pa,this)):this.A=ob(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){OS(this,l)}},it.pa=function(){void 0!==_C&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},it.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Nr(this,"complete"),Nr(this,"abort"),Xh(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xh(this,!0)),hr.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?iN(this):this.cb())},it.cb=function(){iN(this)},it.ba=function(){try{return 2<cc(this)?this.g.status:-1}catch(r){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},it.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),RS(i)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=FS.prototype).ma=8,it.G=1,it.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},it.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new Pm(this,this.h,r,void 0),n=this.s;if(this.P&&(n?hS(n=uS(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,a=0;a<this.l.length;a++){var l=this.l[a];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(s+=l)){s=a;break e}if(4096===s||a===this.l.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=US(this,i,s),_i(a=sc(this.F),"RID",r),_i(a,"CVER",22),this.D&&_i(a,"X-HTTP-Session-Id",this.D),Bu(this,a),this.o&&n&&PS(a,this.o,n),AS(this.i,i),this.Ra&&_i(a,"TYPE","init"),this.ja?(_i(a,"$req",s),_i(a,"SID","null"),i.$=!0,fb(i,a,null)):fb(i,a,s),this.G=2}}else 3==this.G&&(r?VS(this,r):0==this.l.length||WO(this.i)||VS(this))},it.Ga=function(){if(this.u=null,HS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Ou(ur(this.bb,this),r)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ys(10),s1(this),HS(this))},it.ab=function(){null!=this.v&&(this.v=null,s1(this),o1(this),ys(19))},it.jb=function(r){r?(this.h.info("Successfully pinged google.com"),ys(2)):(this.h.info("Failed to ping google.com"),ys(1))},(it=YS.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},Tb.prototype.g=function(r,i){return new bs(r,i)},Or(bs,Ai),bs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),LC(ur(r.hb,r,i))),ys(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=l1(r,null,r.W),wb(r)},bs.prototype.close=function(){LS(this.g)},bs.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,Lu(this.g,i)}else this.v?((i={}).__data__=vS(r),Lu(this.g,i)):Lu(this.g,r)},bs.prototype.M=function(){this.g.j=null,delete this.j,LS(this.g),delete this.g,bs.Z.M.call(this)},Or(u1,zC),Or(d1,ub),Or(dc,YS),dc.prototype.xa=function(){Nr(this.g,"a")},dc.prototype.wa=function(r){Nr(this.g,new u1(r))},dc.prototype.va=function(r){Nr(this.g,new d1(r))},dc.prototype.ua=function(){Nr(this.g,"b")},Tb.prototype.createWebChannel=Tb.prototype.g,bs.prototype.send=bs.prototype.u,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,Om.NO_ERROR=0,Om.TIMEOUT=8,Om.HTTP_ERROR=6,jC.COMPLETE="complete",LO.EventType=Gh,Gh.OPEN="a",Gh.CLOSE="b",Gh.ERROR="c",Gh.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var Mb=Om,aN=jC,qS=Hh,jS_PROXY=10,jS_NOPROXY=11,zS=Qh,Um=LO,$S=hr;class br{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let tf="9.0.2";const hc=new Iu.Yd("@firebase/firestore");function Eb(){return hc.logLevel}function Ge(r,...i){if(hc.logLevel<=Iu.in.DEBUG){const n=i.map(h1);hc.debug(`Firestore (${tf}): ${r}`,...n)}}function Bi(r,...i){if(hc.logLevel<=Iu.in.ERROR){const n=i.map(h1);hc.error(`Firestore (${tf}): ${r}`,...n)}}function nf(r,...i){if(hc.logLevel<=Iu.in.WARN){const n=i.map(h1);hc.warn(`Firestore (${tf}): ${r}`,...n)}}function h1(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function ht(r="Unexpected state"){const i=`FIRESTORE (${tf}) INTERNAL ASSERTION FAILED: `+r;throw Bi(i),new Error(i)}function xt(r,i){r||ht()}function je(r,i){return r}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class cN{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class yV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(br.UNAUTHENTICATED))}shutdown(){}}class bV{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WS{constructor(i){this.t=i,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let a=this.i;const l=w=>this.i!==a?(a=this.i,n(w)):Promise.resolve();let h=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new vr,i.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const w=h;i.enqueueRetryable((0,Te.Z)(function*(){yield w.promise,yield l(s.currentUser)}))},_=w=>{Ge("FirebaseCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ge("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new vr)}},0),m()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Ge("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xt("string"==typeof s.accessToken),new cN(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return xt(null===i||"string"==typeof i),new br(i)}}class JS{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=br.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class uN{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new JS(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $s{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function dN(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}$s.T=-1;class QS{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const a=dN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=i.charAt(a[l]%i.length))}return s}}function an(r,i){return r<i?-1:r>i?1:0}function Zm(r,i,n){return r.length===i.length&&r.every((s,a)=>n(s,i[a]))}function hN(r){return r+"\0"}class wr{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return wr.fromMillis(Date.now())}static fromDate(i){return wr.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new wr(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?an(this.nanoseconds,i.nanoseconds):an(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ht(i)}static min(){return new Ht(new wr(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fr(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function rf(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function f1(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class sf{constructor(i,n,s){void 0===n?n=0:n>i.length&&ht(),void 0===s?s=i.length-n:s>i.length-n&&ht(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===sf.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof sf?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let a=0;a<s;a++){const l=i.get(a),h=n.get(a);if(l<h)return-1;if(l>h)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class En extends sf{construct(i,n,s){return new En(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Fe(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new En(n)}static emptyPath(){return new En([])}}const Sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends sf{construct(i,n,s){return new Pr(i,n,s)}static isValidIdentifier(i){return Sb.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(i){const n=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Fe(ve.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<i.length;){const m=i[a];if("\\"===m){if(a+1===i.length)throw new Fe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const _=i[a+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=_,a+=2}else"`"===m?(h=!h,a++):"."!==m||h?(s+=m,a++):(l(),a++)}if(l(),h)throw new Fe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Pr(n)}static emptyPath(){return new Pr([])}}class af{constructor(i){this.fields=i,i.sort(Pr.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return Zm(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class di{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new di(n)}static fromUint8Array(i){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(i);return new di(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return an(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}di.EMPTY_BYTE_STRING=new di("");const XS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(r){if(xt(!!r),"string"==typeof r){let i=0;const n=XS.exec(r);if(xt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),i=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:ki(r.seconds),nanos:ki(r.nanos)}}function ki(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function lf(r){return"string"==typeof r?di.fromBase64String(r):di.fromUint8Array(r)}function cf(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ex(r){const i=r.mapValue.fields.__previous_value__;return cf(i)?ex(i):i}function Vu(r){const i=ka(r.mapValue.fields.__local_write_time__.timestampValue);return new wr(i.seconds,i.nanos)}function fc(r){return null==r}function Vi(r){return 0===r&&1/r==-1/0}function fN(r){return"number"==typeof r&&Number.isInteger(r)&&!Vi(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class dt{constructor(i){this.path=i}static fromPath(i){return new dt(En.fromString(i))}static fromName(i){return new dt(En.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===En.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return En.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new dt(new En(i.slice()))}}function Uu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cf(r)?4:10:ht()}function dl(r,i){const n=Uu(r);if(n!==Uu(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return Vu(r).isEqual(Vu(i));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ka(s.timestampValue),h=ka(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return a=i,lf(r.bytesValue).isEqual(lf(a.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,a){return ki(s.geoPointValue.latitude)===ki(a.geoPointValue.latitude)&&ki(s.geoPointValue.longitude)===ki(a.geoPointValue.longitude)}(r,i);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ki(s.integerValue)===ki(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ki(s.doubleValue),h=ki(a.doubleValue);return l===h?Vi(l)===Vi(h):isNaN(l)&&isNaN(h)}return!1}(r,i);case 9:return Zm(r.arrayValue.values||[],i.arrayValue.values||[],dl);case 10:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(fr(l)!==fr(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!dl(l[m],h[m])))return!1;return!0}(r,i);default:return ht()}var a}function pc(r,i){return void 0!==(r.values||[]).find(n=>dl(n,i))}function uf(r,i){const n=Uu(r),s=Uu(i);if(n!==s)return an(n,s);switch(n){case 0:return 0;case 1:return an(r.booleanValue,i.booleanValue);case 2:return function(a,l){const h=ki(a.integerValue||a.doubleValue),m=ki(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(r,i);case 3:return pN(r.timestampValue,i.timestampValue);case 4:return pN(Vu(r),Vu(i));case 5:return an(r.stringValue,i.stringValue);case 6:return function(a,l){const h=lf(a),m=lf(l);return h.compareTo(m)}(r.bytesValue,i.bytesValue);case 7:return function(a,l){const h=a.split("/"),m=l.split("/");for(let _=0;_<h.length&&_<m.length;_++){const w=an(h[_],m[_]);if(0!==w)return w}return an(h.length,m.length)}(r.referenceValue,i.referenceValue);case 8:return function(a,l){const h=an(ki(a.latitude),ki(l.latitude));return 0!==h?h:an(ki(a.longitude),ki(l.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(a,l){const h=a.values||[],m=l.values||[];for(let _=0;_<h.length&&_<m.length;++_){const w=uf(h[_],m[_]);if(w)return w}return an(h.length,m.length)}(r.arrayValue,i.arrayValue);case 10:return function(a,l){const h=a.fields||{},m=Object.keys(h),_=l.fields||{},w=Object.keys(_);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const A=an(m[T],w[T]);if(0!==A)return A;const I=uf(h[m[T]],_[w[T]]);if(0!==I)return I}return an(m.length,w.length)}(r.mapValue,i.mapValue);default:throw ht()}}function pN(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return an(r,i);const n=ka(r),s=ka(i),a=an(n.seconds,s.seconds);return 0!==a?a:an(n.nanos,s.nanos)}function tx(r){return nx(r)}function nx(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=ka(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?lf(r.bytesValue).toBase64():"referenceValue"in r?dt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const h of s.values||[])l?l=!1:a+=",",a+=nx(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${nx(s.fields[m])}`;return l+"}"}(r.mapValue):ht();var i}function xb(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function p1(r){return!!r&&"integerValue"in r}function m1(r){return!!r&&"arrayValue"in r}function ix(r){return!!r&&"nullValue"in r}function rx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function g1(r){return!!r&&"mapValue"in r}function Ym(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return rf(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=Ym(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=Ym(r.arrayValue.values[n]);return i}return Object.assign({},r)}class Qr{constructor(i){this.value=i}static empty(){return new Qr({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!g1(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=Ym(n)}setAll(i){let n=Pr.emptyPath(),s={},a=[];i.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=Ym(h):a.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(i){const n=this.field(i.popLast());g1(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return dl(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let a=n.mapValue.fields[i.get(s)];g1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(i,n,s){rf(n,(a,l)=>i[a]=l);for(const a of s)delete i[a]}clone(){return new Qr(Ym(this.value))}}function sx(r){const i=[];return rf(r.fields,(n,s)=>{const a=new Pr([n]);if(g1(s)){const l=sx(s.mapValue).fields;if(0===l.length)i.push(a);else for(const h of l)i.push(a.child(h))}else i.push(a)}),new af(i)}class yi{constructor(i,n,s,a,l){this.key=i,this.documentType=n,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(i){return new yi(i,0,Ht.min(),Qr.empty(),0)}static newFoundDocument(i,n,s){return new yi(i,1,n,s,0)}static newNoDocument(i,n){return new yi(i,2,n,Qr.empty(),0)}static newUnknownDocument(i,n){return new yi(i,3,n,Qr.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof yi&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new yi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vV{constructor(i,n=null,s=[],a=[],l=null,h=null,m=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.A=null}}function ox(r,i=null,n=[],s=[],a=null,l=null,h=null){return new vV(r,i,n,s,a,l,h)}function Gm(r){const i=je(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+tx(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),fc(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=_1(i.startAt)),i.endAt&&(n+="|ub:",n+=_1(i.endAt)),i.A=n}return i.A}function Ab(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!wV(r.orderBy[a],i.orderBy[a]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((n=r.filters[a]).op!==(s=i.filters[a]).op||!n.field.isEqual(s.field)||!dl(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!MN(r.startAt,i.startAt)&&MN(r.endAt,i.endAt)}function kb(r){return dt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ii extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new _N(i,n,s):"array-contains"===n?new wN(i,s):"in"===n?new CN(i,s):"not-in"===n?new DN(i,s):"array-contains-any"===n?new qm(i,s):new ii(i,n,s)}static R(i,n,s){return"in"===n?new yN(i,s):new bN(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(uf(n,this.value)):null!==n&&Uu(this.value)===Uu(n)&&this.P(uf(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return ht()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _N extends ii{constructor(i,n,s){super(i,n,s),this.key=dt.fromName(s.referenceValue)}matches(i){const n=dt.comparator(i.key,this.key);return this.P(n)}}class yN extends ii{constructor(i,n){super(i,"in",n),this.keys=vN(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class bN extends ii{constructor(i,n){super(i,"not-in",n),this.keys=vN(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function vN(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class wN extends ii{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return m1(n)&&pc(n.arrayValue,this.value)}}class CN extends ii{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&pc(this.value.arrayValue,n)}}class DN extends ii{constructor(i,n){super(i,"not-in",n)}matches(i){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!pc(this.value.arrayValue,n)}}class qm extends ii{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!m1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pc(this.value.arrayValue,s))}}class df{constructor(i,n){this.position=i,this.before=n}}function _1(r){return`${r.before?"b":"a"}:${r.position.map(i=>tx(i)).join(",")}`}class hf{constructor(i,n="asc"){this.field=i,this.dir=n}}function wV(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function TN(r,i,n){let s=0;for(let a=0;a<r.position.length;a++){const l=i[a],h=r.position[a];if(s=l.field.isKeyField()?dt.comparator(dt.fromName(h.referenceValue),n.key):uf(h,n.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function MN(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!dl(r.position[n],i.position[n]))return!1;return!0}class zo{constructor(i,n=null,s=[],a=[],l=null,h="F",m=null,_=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=_,this.V=null,this.S=null}}function ax(r,i,n,s,a,l,h,m){return new zo(r,i,n,s,a,l,h,m)}function ff(r){return new zo(r)}function Ib(r){return!fc(r.limit)&&"F"===r.limitType}function y1(r){return!fc(r.limit)&&"L"===r.limitType}function b1(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function v1(r){for(const i of r.filters)if(i.v())return i.field;return null}function w1(r){return null!==r.collectionGroup}function Kr(r){const i=je(r);if(null===i.V){i.V=[];const n=v1(i),s=b1(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new hf(n)),i.V.push(new hf(Pr.keyField(),"asc"));else{let a=!1;for(const l of i.explicitOrderBy)i.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new hf(Pr.keyField(),l))}}}return i.V}function $o(r){const i=je(r);if(!i.S)if("F"===i.limitType)i.S=ox(i.path,i.collectionGroup,Kr(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const l of Kr(i))n.push(new hf(l.field,"desc"===l.dir?"asc":"desc"));const s=i.endAt?new df(i.endAt.position,!i.endAt.before):null,a=i.startAt?new df(i.startAt.position,!i.startAt.before):null;i.S=ox(i.path,i.collectionGroup,n,i.filters,i.limit,s,a)}return i.S}function C1(r,i,n){return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function jm(r,i){return Ab($o(r),$o(i))&&r.limitType===i.limitType}function D1(r){return`${Gm($o(r))}|lt:${r.limitType}`}function Rb(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${tx(s.value)}`;var s}).join(", ")}]`),fc(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+_1(r.startAt)),r.endAt&&(i+=", endAt: "+_1(r.endAt)),`Target(${i})`}($o(r))}; limitType=${r.limitType})`}function pf(r,i){return i.isFoundDocument()&&function(n,s){const a=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):dt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,i)&&function(n,s){for(const a of n.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,i)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!TN(n.startAt,Kr(n),s)||n.endAt&&TN(n.endAt,Kr(n),s)));var n,s}function Ob(r){return(i,n)=>{let s=!1;for(const a of Kr(r)){const l=T1(a,i,n);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function T1(r,i,n){const s=r.field.isKeyField()?dt.comparator(i.key,n.key):function(a,l,h){const m=l.data.field(a),_=h.data.field(a);return null!==m&&null!==_?uf(m,_):ht()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ht()}}function Nb(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vi(i)?"-0":i}}function zm(r){return{integerValue:""+r}}function $m(r,i){return fN(i)?zm(i):Nb(r,i)}class Wm{constructor(){this._=void 0}}function lx(r,i,n){return r instanceof Hu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,i):r instanceof Zu?ux(r,i):r instanceof Yu?Pb(r,i):function(s,a){const l=cx(s,a),h=Xr(l)+Xr(s.C);return p1(l)&&p1(s.C)?zm(h):Nb(s.N,h)}(r,i)}function EN(r,i,n){return r instanceof Zu?ux(r,i):r instanceof Yu?Pb(r,i):n}function cx(r,i){return r instanceof mf?p1(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class Hu extends Wm{}class Zu extends Wm{constructor(i){super(),this.elements=i}}function ux(r,i){const n=gf(i);for(const s of r.elements)n.some(a=>dl(a,s))||n.push(s);return{arrayValue:{values:n}}}class Yu extends Wm{constructor(i){super(),this.elements=i}}function Pb(r,i){let n=gf(i);for(const s of r.elements)n=n.filter(a=>!dl(a,s));return{arrayValue:{values:n}}}class mf extends Wm{constructor(i,n){super(),this.N=i,this.C=n}}function Xr(r){return ki(r.integerValue||r.doubleValue)}function gf(r){return m1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class mc{constructor(i,n){this.field=i,this.transform=n}}class Fb{constructor(i,n){this.version=i,this.transformResults=n}}class Ii{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new Ii}static exists(i){return new Ii(void 0,i)}static updateTime(i){return new Ii(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Jm(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class Gu{}function SN(r,i,n){r instanceof Qm?function(s,a,l){const h=s.value.clone(),m=hl(s.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,i,n):r instanceof gc?function(s,a,l){if(!Jm(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=hl(s.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(fx(s)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function M1(r,i,n){var a;r instanceof Qm?function(s,a,l){if(!Jm(s.precondition,a))return;const h=s.value.clone(),m=_f(s.fieldTransforms,l,a);h.setAll(m),a.convertToFoundDocument(E1(a),h).setHasLocalMutations()}(r,i,n):r instanceof gc?function(s,a,l){if(!Jm(s.precondition,a))return;const h=_f(s.fieldTransforms,l,a),m=a.data;m.setAll(fx(s)),m.setAll(h),a.convertToFoundDocument(E1(a),m).setHasLocalMutations()}(r,i,n):Jm(r.precondition,a=i)&&a.convertToNoDocument(Ht.min())}function xN(r,i){let n=null;for(const s of r.fieldTransforms){const a=i.data.field(s.field),l=cx(s.transform,a||null);null!=l&&(null==n&&(n=Qr.empty()),n.set(s.field,l))}return n||null}function hx(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&Zm(n,s,(a,l)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof Zu&&s instanceof Zu||n instanceof Yu&&s instanceof Yu?Zm(n.elements,s.elements,dl):n instanceof mf&&s instanceof mf?dl(n.C,s.C):n instanceof Hu&&s instanceof Hu);var n,s}(a,l))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function E1(r){return r.isFoundDocument()?r.version:Ht.min()}class Qm extends Gu{constructor(i,n,s,a=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}}class gc extends Gu{constructor(i,n,s,a,l=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function fx(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function hl(r,i,n){const s=new Map;xt(r.length===n.length);for(let a=0;a<n.length;a++){const l=r[a],h=l.transform,m=i.data.field(l.field);s.set(l.field,EN(h,m,n[a]))}return s}function _f(r,i,n){const s=new Map;for(const a of r){const l=a.transform,h=n.data.field(a.field);s.set(a.field,lx(l,h,i))}return s}class qu extends Gu{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class S1 extends Gu{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class AN{constructor(i){this.count=i}}var Ki,dn;function px(r){switch(r){case ve.OK:return ht();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return ht()}}function x1(r){if(void 0===r)return Bi("GRPC error has no .code"),ve.UNKNOWN;switch(r){case Ki.OK:return ve.OK;case Ki.CANCELLED:return ve.CANCELLED;case Ki.UNKNOWN:return ve.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return ve.INTERNAL;case Ki.UNAVAILABLE:return ve.UNAVAILABLE;case Ki.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Ki.NOT_FOUND:return ve.NOT_FOUND;case Ki.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Ki.ABORTED:return ve.ABORTED;case Ki.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Ki.DATA_LOSS:return ve.DATA_LOSS;default:return ht()}}(dn=Ki||(Ki={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class Xi{constructor(i,n){this.comparator=i,this.root=n||Fr.EMPTY}insert(i,n){return new Xi(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(i){return new Xi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(i,s.key);if(0===a)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Lb(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Lb(this.root,i,this.comparator,!1)}getReverseIterator(){return new Lb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Lb(this.root,i,this.comparator,!0)}}class Lb{constructor(i,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!i.isEmpty();)if(l=n?s(i.key,n):1,a&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Fr{constructor(i,n,s,a,l){this.key=i,this.value=n,this.color=null!=s?s:Fr.RED,this.left=null!=a?a:Fr.EMPTY,this.right=null!=l?l:Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,a,l){return new Fr(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let a=this;const l=s(i,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(i,n,s),null):0===l?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(i,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,a=this;if(n(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(i,a.key)){if(a.right.isEmpty())return Fr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const i=this.left.check();if(i!==this.right.check())throw ht();return i+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(r,i,n,s,a){return this}insert(r,i,n){return new Fr(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(i){this.comparator=i,this.data=new Xi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,i[1])>=0)return;n(a.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ia(this.data.getIterator())}getIteratorFrom(i){return new Ia(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof Ri)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new Ri(this.comparator);return n.data=i,n}}class Ia{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Km=new Xi(dt.comparator);function Lr(){return Km}const Bb=new Xi(dt.comparator);function _c(){return Bb}const kN=new Xi(dt.comparator);function mx(){return kN}const IN=new Ri(dt.comparator);function Rn(...r){let i=IN;for(const n of r)i=i.add(n);return i}const gx=new Ri(an);function Xm(){return gx}class yf{constructor(i,n,s,a,l){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,ju.createSynthesizedTargetChangeForCurrentChange(i,n)),new yf(Ht.min(),s,Xm(),Lr(),Rn())}}class ju{constructor(i,n,s,a,l){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(i,n){return new ju(di.EMPTY_BYTE_STRING,n,Rn(),Rn(),Rn())}}class Vb{constructor(i,n,s,a){this.k=i,this.removedTargetIds=n,this.key=s,this.$=a}}class _x{constructor(i,n){this.targetId=i,this.O=n}}class A1{constructor(i,n,s=di.EMPTY_BYTE_STRING,a=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=a}}class yc{constructor(){this.F=0,this.M=bx(),this.L=di.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=Rn(),n=Rn(),s=Rn();return this.M.forEach((a,l)=>{switch(l){case 0:i=i.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ht()}}),new ju(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=bx()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class k1{constructor(i){this.tt=i,this.et=new Map,this.nt=Lr(),this.st=yx(),this.it=new Ri(an)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:ht()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,a)=>{this.ht(a)&&n(a)})}ft(i){const n=i.targetId,s=i.O.count,a=this.dt(n);if(a){const l=a.target;if(kb(l))if(0===s){const h=new dt(l.path);this.at(n,h,yi.newNoDocument(h,Ht.min()))}else xt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((l,h)=>{const m=this.dt(h);if(m){if(l.current&&kb(m.target)){const _=new dt(m.target.path);null!==this.nt.get(_)||this.gt(h,_)||this.at(h,_,yi.newNoDocument(_,i))}l.K&&(n.set(h,l.W()),l.G())}});let s=Rn();this.st.forEach((l,h)=>{let m=!0;h.forEachWhile(_=>{const w=this.dt(_);return!w||2===w.purpose||(m=!1,!1)}),m&&(s=s.add(l))});const a=new yf(i,n,this.it,this.nt,s);return this.nt=Lr(),this.st=yx(),this.it=new Ri(an),a}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const a=this.ut(i);this.gt(i,n)?a.H(n,1):a.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new yc,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new Ri(an),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Ge("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new yc),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function yx(){return new Xi(dt.comparator)}function bx(){return new Xi(dt.comparator)}const CV={asc:"ASCENDING",desc:"DESCENDING"},DV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class TV{constructor(i,n){this.databaseId=i,this.D=n}}function Ub(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function vx(r,i){return r.D?i.toBase64():i.toUint8Array()}function RN(r,i){return Ub(r,i.toTimestamp())}function Br(r){return xt(!!r),Ht.fromTimestamp(function(i){const n=ka(i);return new wr(n.seconds,n.nanos)}(r))}function wx(r,i){return(n=r,new En(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function ON(r){const i=En.fromString(r);return xt(on(i)),i}function Hb(r,i){return wx(r.databaseId,i.path)}function Ra(r,i){const n=ON(i);if(n.get(1)!==r.databaseId.projectId)throw new Fe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Fe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(PN(n))}function Cx(r,i){return wx(r.databaseId,i)}function NN(r){const i=ON(r);return 4===i.length?En.emptyPath():PN(i)}function Zb(r){return new En(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PN(r){return xt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function c(r,i,n){return{name:Hb(r,i),fields:n.value.mapValue.fields}}function u(r,i,n){const s=Ra(r,i.name),a=Br(i.updateTime),l=new Qr({mapValue:{fields:i.fields}}),h=yi.newFoundDocument(s,a,l);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function p(r,i){let n;if(i instanceof Qm)n={update:c(r,i.key,i.value)};else if(i instanceof qu)n={delete:Hb(r,i.key)};else if(i instanceof gc)n={update:c(r,i.key,i.data),updateMask:At(i.fieldMask)};else{if(!(i instanceof S1))return ht();n={verify:Hb(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(a,l){const h=l.transform;if(h instanceof Hu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof mf)return{fieldPath:l.field.canonicalString(),increment:h.C};throw ht()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:RN(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ht()),n;var a}function g(r,i){const n=i.currentDocument?void 0!==(a=i.currentDocument).updateTime?Ii.updateTime(Br(a.updateTime)):void 0!==a.exists?Ii.exists(a.exists):Ii.none():Ii.none(),s=i.updateTransforms?i.updateTransforms.map(a=>function(l,h){let m=null;"setToServerValue"in h?(xt("REQUEST_TIME"===h.setToServerValue),m=new Hu):"appendMissingElements"in h?m=new Zu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Yu(h.removeAllFromArray.values||[]):"increment"in h?m=new mf(l,h.increment):ht();const _=Pr.fromServerFormat(h.fieldPath);return new mc(_,m)}(r,a)):[];var a;if(i.update){const a=Ra(r,i.update.name),l=new Qr({mapValue:{fields:i.update.fields}});if(i.updateMask){const h=new af((i.updateMask.fieldPaths||[]).map(w=>Pr.fromServerFormat(w)));return new gc(a,l,h,n,s)}return new Qm(a,l,n,s)}if(i.delete){const a=Ra(r,i.delete);return new qu(a,n)}if(i.verify){const a=Ra(r,i.verify);return new S1(a,n)}return ht()}function C(r,i){return{documents:[Cx(r,i.path)]}}function E(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=Cx(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=Cx(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(m){if(0===m.length)return;const _=m.map(w=>function(T){if("=="===T.op){if(rx(T.value))return{unaryFilter:{field:se(T.field),op:"IS_NAN"}};if(ix(T.value))return{unaryFilter:{field:se(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(rx(T.value))return{unaryFilter:{field:se(T.field),op:"IS_NOT_NAN"}};if(ix(T.value))return{unaryFilter:{field:se(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:se(T.field),op:ge(T.op),value:T.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(i.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(0!==m.length)return m.map(_=>{return{field:se((w=_).field),direction:ee(w.dir)};var w})}(i.orderBy);l&&(n.structuredQuery.orderBy=l);const h=(_=i.limit,r.D||fc(_)?_:{value:_});var _;return null!==h&&(n.structuredQuery.limit=h),i.startAt&&(n.structuredQuery.startAt=F(i.startAt)),i.endAt&&(n.structuredQuery.endAt=F(i.endAt)),n}function x(r){let i=NN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){xt(1===s);const T=n.from[0];T.allDescendants?a=T.collectionId:i=i.child(T.collectionId)}let l=[];n.where&&(l=N(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(T=>{return new hf(Le((A=T).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let m=null;n.limit&&(m=function(T){let A;return A="object"==typeof T?T.value:T,fc(A)?null:A}(n.limit));let _=null;n.startAt&&(_=Z(n.startAt));let w=null;return n.endAt&&(w=Z(n.endAt)),ax(i,a,h,l,m,"F",_,w)}function N(r){return r?void 0!==r.unaryFilter?[ft(r)]:void 0!==r.fieldFilter?[Ee(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>N(i)).reduce((i,n)=>i.concat(n)):ht():[]}function F(r){return{before:r.before,values:r.position}}function Z(r){return new df(r.values||[],!!r.before)}function ee(r){return CV[r]}function ge(r){return DV[r]}function se(r){return{fieldPath:r.canonicalString()}}function Le(r){return Pr.fromServerFormat(r.fieldPath)}function Ee(r){return ii.create(Le(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ht()}}(r.fieldFilter.op),r.fieldFilter.value)}function ft(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Le(r.unaryFilter.field);return ii.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=Le(r.unaryFilter.field);return ii.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Le(r.unaryFilter.field);return ii.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Le(r.unaryFilter.field);return ii.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ht()}}function At(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function on(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Pn(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=bf(i)),i=Co(r.get(n),i);return bf(i)}function Co(r,i){let n=i;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function bf(r){return r+"\x01\x01"}function Is(r){const i=r.length;if(xt(i>=2),2===i)return xt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),En.emptyPath();const n=i-2,s=[];let a="";for(let l=0;l<i;){const h=r.indexOf("\x01",l);switch((h<0||h>n)&&ht(),r.charAt(h+1)){case"\x01":const m=r.substring(l,h);let _;0===a.length?_=m:(a+=m,_=a,a=""),s.push(_);break;case"\x10":a+=r.substring(l,h),a+="\0";break;case"\x11":a+=r.substring(l,h+1);break;default:ht()}l=h+2}return new En(s)}class vf{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class Cr{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}Cr.store="owner",Cr.key="owner";class Oa{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Oa.store="mutationQueues",Oa.keyPath="userId";class qn{constructor(i,n,s,a,l){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}qn.store="mutations",qn.keyPath="batchId",qn.userMutationsIndex="userMutationsIndex",qn.userMutationsKeyPath=["userId","batchId"];class Dr{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,Pn(n)]}static key(i,n,s){return[i,Pn(n),s]}}Dr.store="documentMutations",Dr.PLACEHOLDER=new Dr;class I1{constructor(i,n){this.path=i,this.readTime=n}}class R1{constructor(i,n){this.path=i,this.version=n}}class er{constructor(i,n,s,a,l,h){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}er.store="remoteDocuments",er.readTimeIndex="readTimeIndex",er.readTimeIndexPath="readTime",er.collectionReadTimeIndex="collectionReadTimeIndex",er.collectionReadTimeIndexPath=["parentPath","readTime"];class bc{constructor(i){this.byteSize=i}}bc.store="remoteDocumentGlobal",bc.key="remoteDocumentGlobalKey";class Do{constructor(i,n,s,a,l,h,m){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Do.store="targets",Do.keyPath="targetId",Do.queryTargetsIndexName="queryTargetsIndex",Do.queryTargetsKeyPath=["canonicalId","targetId"];class vs{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}vs.store="targetDocuments",vs.keyPath=["targetId","path"],vs.documentTargetsIndex="documentTargetsIndex",vs.documentTargetsKeyPath=["path","targetId"];class Wo{constructor(i,n,s,a){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}Wo.key="targetGlobalKey",Wo.store="targetGlobal";class eg{constructor(i,n){this.collectionId=i,this.parent=n}}eg.store="collectionParents",eg.keyPath=["collectionId","parent"];class zu{constructor(i,n,s,a){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=a}}zu.store="clientMetadata",zu.keyPath="clientId";class Yb{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}Yb.store="bundles",Yb.keyPath="bundleId";class Gb{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}Gb.store="namedQueries",Gb.keyPath="name";const Lq=[Oa.store,qn.store,Dr.store,er.store,Do.store,Cr.store,Wo.store,vs.store,zu.store,bc.store,eg.store,Yb.store,Gb.store],MV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Ne{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(i,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Ne.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Ne.reject(n)}static resolve(i){return new Ne((n,s)=>{n(i)})}static reject(i){return new Ne((n,s)=>{s(i)})}static waitFor(i){return new Ne((n,s)=>{let a=0,l=0,h=!1;i.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&n()},_=>s(_))}),h=!0,l===a&&n()})}static or(i){let n=Ne.resolve(!1);for(const s of i)n=n.next(a=>a?Ne.resolve(a):s());return n}static forEach(i,n){const s=[];return i.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}}class Dx{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new vr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new O1(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const a=FN(s.target.error);this.Tt.reject(new O1(i,a))}}static open(i,n,s,a){try{return new Dx(n,i.transaction(a,s))}catch(l){throw new O1(n,l)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Ge("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new Vq(n)}}class fl{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===fl.Rt((0,Wt.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Ge("SimpleDb","Removing database:",i),ng(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(fl.Pt())return!0;const i=(0,Wt.z$)(),n=fl.Rt(i),s=0<n&&n<10,a=fl.vt(i),l=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||l)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,Te.Z)(function*(){return n.db||(Ge("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,a)=>{const l=indexedDB.open(n.name,n.version);l.onsuccess=h=>{s(h.target.result)},l.onblocked=()=>{a(new O1(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;a("VersionError"===m.name?new Fe(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new O1(i,m))},l.onupgradeneeded=h=>{Ge("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',h.oldVersion),n.At.Ct(h.target.result,l.transaction,h.oldVersion,n.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,a){var l=this;return(0,Te.Z)(function*(){const h="readonly"===n;let m=0;for(;;){++m;try{l.db=yield l.Dt(i);const _=Dx.open(l.db,i,h?"readonly":"readwrite",s),w=a(_).catch(T=>(_.abort(T),Ne.reject(T))).toPromise();return w.catch(()=>{}),yield _.It,w}catch(_){const w="FirebaseError"!==_.name&&m<3;if(Ge("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Bq{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return ng(this.kt.delete())}}class O1 extends Fe{constructor(i,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function tg(r){return"IndexedDbTransactionError"===r.name}class Vq{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Ge("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),ng(s)}add(i){return Ge("SimpleDb","ADD",this.store.name,i,i),ng(this.store.add(i))}get(i){return ng(this.store.get(i)).next(n=>(void 0===n&&(n=null),Ge("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Ge("SimpleDb","DELETE",this.store.name,i),ng(this.store.delete(i))}count(){return Ge("SimpleDb","COUNT",this.store.name),ng(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),a=[];return this.Bt(s,(l,h)=>{a.push(h)}).next(()=>a)}Ut(i,n){Ge("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,h,m)=>m.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const a=this.cursor(s);return this.Bt(a,n)}jt(i){const n=this.cursor({});return new Ne((s,a)=>{n.onerror=l=>{const h=FN(l.target.error);a(h)},n.onsuccess=l=>{const h=l.target.result;h?i(h.primaryKey,h.value).next(m=>{m?h.continue():s()}):s()}})}Bt(i,n){const s=[];return new Ne((a,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{const m=h.target.result;if(!m)return void a();const _=new Bq(m),w=n(m.primaryKey,m.value,_);if(w instanceof Ne){const T=w.catch(A=>(_.done(),Ne.reject(A)));s.push(T)}_.isDone?a():null===_.Ft?m.continue():m.continue(_.Ft)}}).next(()=>Ne.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function ng(r){return new Ne((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const a=FN(s.target.error);n(a)}})}let SV=!1;function FN(r){const i=fl.Rt((0,Wt.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SV||(SV=!0,setTimeout(()=>{throw s},0)),s}}return r}class xV extends EV{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function To(r,i){const n=je(r);return fl.St(n.Qt,i)}class LN{constructor(i,n,s,a){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(i.key)&&SN(l,i,s[a])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&M1(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&M1(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Ht.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),Rn())}isEqual(i){return this.batchId===i.batchId&&Zm(this.mutations,i.mutations,(n,s)=>hx(n,s))&&Zm(this.baseMutations,i.baseMutations,(n,s)=>hx(n,s))}}class BN{constructor(i,n,s,a){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(i,n,s){xt(i.mutations.length===s.length);let a=mx();const l=i.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new BN(i,n,s,a)}}class wf{constructor(i,n,s,a,l=Ht.min(),h=Ht.min(),m=di.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(i){return new wf(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class AV{constructor(i){this.Wt=i}}function VN(r,i){if(i.document)return u(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=dt.fromSegments(i.noDocument.path),s=jb(i.noDocument.readTime),a=yi.newNoDocument(n,s);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){const n=dt.fromSegments(i.unknownDocument.path),s=jb(i.unknownDocument.version);return yi.newUnknownDocument(n,s)}return ht()}function kV(r,i,n){const s=UN(n),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){const l={name:Hb(m=r.Wt,(_=i).key),fields:_.data.value.mapValue.fields,updateTime:Ub(m,_.version.toTimestamp())};return new er(null,null,l,i.hasCommittedMutations,s,a)}var m,_;if(i.isNoDocument()){const l=i.key.path.toArray(),h=qb(i.version),m=i.hasCommittedMutations;return new er(null,new I1(l,h),null,m,s,a)}if(i.isUnknownDocument()){const l=i.key.path.toArray(),h=qb(i.version);return new er(new R1(l,h),null,null,!0,s,a)}return ht()}function UN(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function IV(r){const i=new wr(r[0],r[1]);return Ht.fromTimestamp(i)}function qb(r){const i=r.toTimestamp();return new vf(i.seconds,i.nanoseconds)}function jb(r){const i=new wr(r.seconds,r.nanoseconds);return Ht.fromTimestamp(i)}function zb(r,i){const n=(i.baseMutations||[]).map(l=>g(r.Wt,l));for(let l=0;l<i.mutations.length-1;++l){const h=i.mutations[l];l+1<i.mutations.length&&void 0!==i.mutations[l+1].transform&&(h.updateTransforms=i.mutations[l+1].transform.fieldTransforms,i.mutations.splice(l+1,1),++l)}const s=i.mutations.map(l=>g(r.Wt,l)),a=wr.fromMillis(i.localWriteTimeMs);return new LN(i.batchId,a,n,s)}function N1(r){const i=jb(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?jb(r.lastLimboFreeSnapshotVersion):Ht.min();let s;var a;return void 0!==r.query.documents?(xt(1===(a=r.query).documents.length),s=$o(ff(NN(a.documents[0])))):s=$o(x(r.query)),new wf(s,r.targetId,0,r.lastListenSequenceNumber,i,n,di.fromBase64String(r.resumeToken))}function RV(r,i){const n=qb(i.snapshotVersion),s=qb(i.lastLimboFreeSnapshotVersion);let a;a=kb(i.target)?C(r.Wt,i.target):E(r.Wt,i.target);const l=i.resumeToken.toBase64();return new Do(i.targetId,Gm(i.target),n,l,i.sequenceNumber,s,a)}function HN(r){const i=x({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?C1(i,i.limit,"L"):i}class Uq{getBundleMetadata(i,n){return OV(i).get(n).next(s=>{if(s)return{id:(a=s).bundleId,createTime:jb(a.createTime),version:a.version};var a})}saveBundleMetadata(i,n){return OV(i).put({bundleId:(s=n).id,createTime:qb(Br(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return NV(i).get(n).next(s=>{if(s)return{name:(a=s).name,query:HN(a.bundledQuery),readTime:jb(a.readTime)};var a})}saveNamedQuery(i,n){return NV(i).put({name:(s=n).name,readTime:qb(Br(s.readTime)),bundledQuery:s.bundledQuery});var s}}function OV(r){return To(r,Yb.store)}function NV(r){return To(r,Gb.store)}class Hq{constructor(){this.Gt=new ZN}addToCollectionParentIndex(i,n){return this.Gt.add(n),Ne.resolve()}getCollectionParents(i,n){return Ne.resolve(this.Gt.getEntries(n))}}class ZN{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),a=this.index[n]||new Ri(En.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(i){const n=i.lastSegment(),s=i.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(i){return(this.index[i]||new Ri(En.comparator)).toArray()}}class Zq{constructor(){this.zt=new ZN}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),a=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const l={collectionId:s,parent:Pn(a)};return PV(i).put(l)}return Ne.resolve()}getCollectionParents(i,n){const s=[],a=IDBKeyRange.bound([n,""],[hN(n),""],!1,!0);return PV(i).Lt(a).next(l=>{for(const h of l){if(h.collectionId!==n)break;s.push(Is(h.parent))}return s})}}function PV(r){return To(r,eg.store)}const FV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mo{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new Mo(i,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function LV(r,i,n){const s=r.store(qn.store),a=r.store(Dr.store),l=[],h=IDBKeyRange.only(n.batchId);let m=0;const _=s.Kt({range:h},(T,A,I)=>(m++,I.delete()));l.push(_.next(()=>{xt(1===m)}));const w=[];for(const T of n.mutations){const A=Dr.key(i,T.key.path,n.batchId);l.push(a.delete(A)),w.push(T.key)}return Ne.waitFor(l).next(()=>w)}function Tx(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw ht();i=r.noDocument}return JSON.stringify(i).length}Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(41943040,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);class YN{constructor(i,n,s,a){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(i,n,s,a){xt(""!==i.uid);const l=i.isAuthenticated()?i.uid:"";return new YN(l,n,s,a)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cf(i).Kt({index:qn.userMutationsIndex,range:s},(a,l,h)=>{n=!1,h.done()}).next(()=>n)}addMutationBatch(i,n,s,a){const l=$b(i),h=Cf(i);return h.add({}).next(m=>{xt("number"==typeof m);const _=new LN(m,n,s,a),w=function(I,O,B){const $=B.baseMutations.map(Re=>p(I.Wt,Re)),le=B.mutations.map(Re=>p(I.Wt,Re));return new qn(O,B.batchId,B.localWriteTime.toMillis(),$,le)}(this.N,this.userId,_),T=[];let A=new Ri((I,O)=>an(I.canonicalString(),O.canonicalString()));for(const I of a){const O=Dr.key(this.userId,I.key.path,m);A=A.add(I.key.path.popLast()),T.push(h.put(w)),T.push(l.put(O,Dr.PLACEHOLDER))}return A.forEach(I=>{T.push(this.Ht.addToCollectionParentIndex(i,I))}),i.addOnCommittedListener(()=>{this.Jt[m]=_.keys()}),Ne.waitFor(T).next(()=>_)})}lookupMutationBatch(i,n){return Cf(i).get(n).next(s=>s?(xt(s.userId===this.userId),zb(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Ne.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const a=s.keys();return this.Jt[n]=a,a}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Cf(i).Kt({index:qn.userMutationsIndex,range:a},(h,m,_)=>{m.userId===this.userId&&(xt(m.batchId>=s),l=zb(this.N,m)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Cf(i).Kt({index:qn.userMutationsIndex,range:n,reverse:!0},(a,l,h)=>{s=l.batchId,h.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cf(i).Lt(qn.userMutationsIndex,n).next(s=>s.map(a=>zb(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=Dr.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(s),l=[];return $b(i).Kt({range:a},(h,m,_)=>{const[w,T,A]=h,I=Is(T);if(w===this.userId&&n.path.isEqual(I))return Cf(i).get(A).next(O=>{if(!O)throw ht();xt(O.userId===this.userId),l.push(zb(this.N,O))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Ri(an);const a=[];return n.forEach(l=>{const h=Dr.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),_=$b(i).Kt({range:m},(w,T,A)=>{const[I,O,B]=w,$=Is(O);I===this.userId&&l.path.isEqual($)?s=s.add(B):A.done()});a.push(_)}),Ne.waitFor(a).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,a=s.length+1,l=Dr.prefixForPath(this.userId,s),h=IDBKeyRange.lowerBound(l);let m=new Ri(an);return $b(i).Kt({range:h},(_,w,T)=>{const[A,I,O]=_,B=Is(I);A===this.userId&&s.isPrefixOf(B)?B.length===a&&(m=m.add(O)):T.done()}).next(()=>this.Zt(i,m))}Zt(i,n){const s=[],a=[];return n.forEach(l=>{a.push(Cf(i).get(l).next(h=>{if(null===h)throw ht();xt(h.userId===this.userId),s.push(zb(this.N,h))}))}),Ne.waitFor(a).next(()=>s)}removeMutationBatch(i,n){return LV(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Ne.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(i,a))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Ne.resolve();const s=IDBKeyRange.lowerBound(Dr.prefixForUser(this.userId)),a=[];return $b(i).Kt({range:s},(l,h,m)=>{if(l[0]===this.userId){const _=Is(l[1]);a.push(_)}else m.done()}).next(()=>{xt(0===a.length)})})}containsKey(i,n){return BV(i,this.userId,n)}ee(i){return VV(i).get(this.userId).next(n=>n||new Oa(this.userId,-1,""))}}function BV(r,i,n){const s=Dr.prefixForPath(i,n.path),a=s[1],l=IDBKeyRange.lowerBound(s);let h=!1;return $b(r).Kt({range:l,qt:!0},(m,_,w)=>{const[T,A,I]=m;T===i&&A===a&&(h=!0),w.done()}).next(()=>h)}function Cf(r){return To(r,qn.store)}function $b(r){return To(r,Dr.store)}function VV(r){return To(r,Oa.store)}class ig{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new ig(0)}static ie(){return new ig(-1)}}class Yq{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new ig(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>Ht.fromTimestamp(new wr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(a=>(a.highestListenSequenceNumber=n,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.oe(i,a)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>Wb(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(xt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let a=0;const l=[];return Wb(i).Kt((h,m)=>{const _=N1(m);_.sequenceNumber<=n&&null===s.get(_.targetId)&&(a++,l.push(this.removeTargetData(i,_)))}).next(()=>Ne.waitFor(l)).next(()=>a)}forEachTarget(i,n){return Wb(i).Kt((s,a)=>{const l=N1(a);n(l)})}re(i){return UV(i).get(Wo.key).next(n=>(xt(null!==n),n))}oe(i,n){return UV(i).put(Wo.key,n)}ae(i,n){return Wb(i).put(RV(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=Gm(n),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Wb(i).Kt({range:a,index:Do.queryTargetsIndexName},(h,m,_)=>{const w=N1(m);Ab(n,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(i,n,s){const a=[],l=Df(i);return n.forEach(h=>{const m=Pn(h.path);a.push(l.put(new vs(s,m))),a.push(this.referenceDelegate.addReference(i,s,h))}),Ne.waitFor(a)}removeMatchingKeys(i,n,s){const a=Df(i);return Ne.forEach(n,l=>{const h=Pn(l.path);return Ne.waitFor([a.delete([s,h]),this.referenceDelegate.removeReference(i,s,l)])})}removeMatchingKeysForTargetId(i,n){const s=Df(i),a=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),a=Df(i);let l=Rn();return a.Kt({range:s,qt:!0},(h,m,_)=>{const w=Is(h[1]),T=new dt(w);l=l.add(T)}).next(()=>l)}containsKey(i,n){const s=Pn(n.path),a=IDBKeyRange.bound([s],[hN(s)],!1,!0);let l=0;return Df(i).Kt({index:vs.documentTargetsIndex,qt:!0,range:a},([h,m],_,w)=>{0!==h&&(l++,w.done())}).next(()=>l>0)}Et(i,n){return Wb(i).get(n).next(s=>s?N1(s):null)}}function Wb(r){return To(r,Do.store)}function UV(r){return To(r,Wo.store)}function Df(r){return To(r,vs.store)}function rg(r){return GN.apply(this,arguments)}function GN(){return(GN=(0,Te.Z)(function*(r){if(r.code!==ve.FAILED_PRECONDITION||r.message!==MV)throw r;Ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function HV([r,i],[n,s]){const a=an(r,n);return 0===a?an(i,s):a}class Gq{constructor(i){this.ue=i,this.buffer=new Ri(HV),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();HV(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qq{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Te.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(a){tg(a)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield rg(a)}yield n._e(i)}))}}class jq{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Ne.resolve($s.T);const s=new Gq(n);return this.me.forEachTarget(i,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(i,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(FV)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FV):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,a,l,h,m,_,w;const T=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,h=Date.now(),this.nthSequenceNumber(i,a))).next(A=>(s=A,m=Date.now(),this.removeTargets(i,s,n))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(i,s))).next(A=>(w=Date.now(),Eb()<=Iu.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-T}ms\n\tDetermined least recently used ${a} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(_-m)+`ms\n\tRemoved ${A} documents in `+(w-_)+`ms\nTotal Duration: ${w-T}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:A})))}}class zq{constructor(i,n){this.db=i,this.garbageCollector=new jq(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(a=>s+a))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,a)=>n(a))}addReference(i,n,s){return Mx(i,s)}removeReference(i,n,s){return Mx(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return Mx(i,n)}Ie(i,n){return function(s,a){let l=!1;return VV(s).jt(h=>BV(s,h,a).next(m=>(m&&(l=!0),Ne.resolve(!m)))).next(()=>l)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Te(i,(h,m)=>{if(m<=n){const _=this.Ie(i,h).next(w=>{if(!w)return l++,s.getEntry(i,h).next(()=>(s.removeEntry(h),Df(i).delete([0,Pn(h.path)])))});a.push(_)}}).next(()=>Ne.waitFor(a)).next(()=>s.apply(i)).next(()=>l)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return Mx(i,n)}Te(i,n){const s=Df(i);let a,l=$s.T;return s.Kt({index:vs.documentTargetsIndex},([h,m],{path:_,sequenceNumber:w})=>{0===h?(l!==$s.T&&n(new dt(Is(a)),l),l=w,a=_):l=$s.T}).next(()=>{l!==$s.T&&n(new dt(Is(a)),l)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Mx(r,i){return Df(r).put((s=r.currentSequenceNumber,new vs(0,Pn(i.path),s)));var s}class Jb{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,i))return l}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],i))return void(a[l]=[i,n]);a.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],i))return 1===s.length?delete this.inner[n]:s.splice(a,1),!0;return!1}forEach(i){rf(this.inner,(n,s)=>{for(const[a,l]of s)i(a,l)})}isEmpty(){return f1(this.inner)}}class ZV{constructor(){this.changes=new Jb(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:Ht.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:yi.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Ne.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class $q{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return Tf(i).put(Ex(n),s)}removeEntry(i,n){const s=Tf(i),a=Ex(n);return s.delete(a)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return Tf(i).get(Ex(n)).next(s=>this.Re(n,s))}be(i,n){return Tf(i).get(Ex(n)).next(s=>({document:this.Re(n,s),size:Tx(s)}))}getEntries(i,n){let s=Lr();return this.Pe(i,n,(a,l)=>{const h=this.Re(a,l);s=s.insert(a,h)}).next(()=>s)}ve(i,n){let s=Lr(),a=new Xi(dt.comparator);return this.Pe(i,n,(l,h)=>{const m=this.Re(l,h);s=s.insert(l,m),a=a.insert(l,Tx(h))}).next(()=>({documents:s,Ve:a}))}Pe(i,n,s){if(n.isEmpty())return Ne.resolve();const a=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),l=n.getIterator();let h=l.getNext();return Tf(i).Kt({range:a},(m,_,w)=>{const T=dt.fromSegments(m);for(;h&&dt.comparator(h,T)<0;)s(h,null),h=l.getNext();h&&h.isEqual(T)&&(s(h,_),h=l.hasNext()?l.getNext():null),h?w.Mt(h.path.toArray()):w.done()}).next(()=>{for(;h;)s(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(i,n,s){let a=Lr();const l=n.path.length+1,h={};if(s.isEqual(Ht.min())){const m=n.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=n.path.toArray(),_=UN(s);h.range=IDBKeyRange.lowerBound([m,_],!0),h.index=er.collectionReadTimeIndex}return Tf(i).Kt(h,(m,_,w)=>{if(m.length!==l)return;const T=VN(this.N,_);n.path.isPrefixOf(T.key.path)?pf(n,T)&&(a=a.insert(T.key,T)):w.done()}).next(()=>a)}newChangeBuffer(i){return new Wq(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return YV(i).get(bc.key).next(n=>(xt(!!n),n))}Ae(i,n){return YV(i).put(bc.key,n)}Re(i,n){if(n){const s=VN(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Ht.min()))return s}return yi.newInvalidDocument(i)}}class Wq extends ZV{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new Jb(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(i){const n=[];let s=0,a=new Ri((l,h)=>an(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.De.get(l);if(h.document.isValidDocument()){const _=kV(this.Se.N,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=Tx(_)-m,n.push(this.Se.addEntry(i,l,_))}else if(s-=m,this.trackRemovals){const _=kV(this.Se.N,yi.newNoDocument(l,Ht.min()),this.getReadTime(l));n.push(this.Se.addEntry(i,l,_))}else n.push(this.Se.removeEntry(i,l))}),a.forEach(l=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,l))}),n.push(this.Se.updateMetadata(i,s)),Ne.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:a})=>(a.forEach((l,h)=>{this.De.set(l,h)}),s))}}function YV(r){return To(r,bc.store)}function Tf(r){return To(r,er.store)}function Ex(r){return r.path.toArray()}class Jq{constructor(i){this.N=i}Ct(i,n,s,a){xt(s<a&&s>=0&&a<=11);const l=new Dx("createOrUpgrade",n);var m;s<1&&a>=1&&(i.createObjectStore(Cr.store),(m=i).createObjectStore(Oa.store,{keyPath:Oa.keyPath}),m.createObjectStore(qn.store,{keyPath:qn.keyPath,autoIncrement:!0}).createIndex(qn.userMutationsIndex,qn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Dr.store),GV(i),function(m){m.createObjectStore(er.store)}(i));let h=Ne.resolve();return s<3&&a>=3&&(0!==s&&(function(m){m.deleteObjectStore(vs.store),m.deleteObjectStore(Do.store),m.deleteObjectStore(Wo.store)}(i),GV(i)),h=h.next(()=>function(m){const _=m.store(Wo.store),w=new Wo(0,0,Ht.min().toTimestamp(),0);return _.put(Wo.key,w)}(l))),s<4&&a>=4&&(0!==s&&(h=h.next(()=>function(m,_){return _.store(qn.store).Lt().next(w=>{m.deleteObjectStore(qn.store),m.createObjectStore(qn.store,{keyPath:qn.keyPath,autoIncrement:!0}).createIndex(qn.userMutationsIndex,qn.userMutationsKeyPath,{unique:!0});const T=_.store(qn.store),A=w.map(I=>T.put(I));return Ne.waitFor(A)})}(i,l))),h=h.next(()=>{!function(m){m.createObjectStore(zu.store,{keyPath:zu.keyPath})}(i)})),s<5&&a>=5&&(h=h.next(()=>this.Ce(l))),s<6&&a>=6&&(h=h.next(()=>(function(m){m.createObjectStore(bc.store)}(i),this.Ne(l)))),s<7&&a>=7&&(h=h.next(()=>this.xe(l))),s<8&&a>=8&&(h=h.next(()=>this.ke(i,l))),s<9&&a>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(i),function(m){const _=m.objectStore(er.store);_.createIndex(er.readTimeIndex,er.readTimeIndexPath,{unique:!1}),_.createIndex(er.collectionReadTimeIndex,er.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&a>=10&&(h=h.next(()=>this.$e(l))),s<11&&a>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Yb.store,{keyPath:Yb.keyPath})})(i),function(m){m.createObjectStore(Gb.store,{keyPath:Gb.keyPath})}(i)})),h}Ne(i){let n=0;return i.store(er.store).Kt((s,a)=>{n+=Tx(a)}).next(()=>{const s=new bc(n);return i.store(bc.store).put(bc.key,s)})}Ce(i){const n=i.store(Oa.store),s=i.store(qn.store);return n.Lt().next(a=>Ne.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(qn.userMutationsIndex,h).next(m=>Ne.forEach(m,_=>{xt(_.userId===l.userId);const w=zb(this.N,_);return LV(i,l.userId,w).next(()=>{})}))}))}xe(i){const n=i.store(vs.store),s=i.store(er.store);return i.store(Wo.store).get(Wo.key).next(a=>{const l=[];return s.Kt((h,m)=>{const _=new En(h),w=[0,Pn(_)];l.push(n.get(w).next(T=>T?Ne.resolve():n.put(new vs(0,Pn(_),a.highestListenSequenceNumber))))}).next(()=>Ne.waitFor(l))})}ke(i,n){i.createObjectStore(eg.store,{keyPath:eg.keyPath});const s=n.store(eg.store),a=new ZN,l=h=>{if(a.add(h)){const m=h.lastSegment(),_=h.popLast();return s.put({collectionId:m,parent:Pn(_)})}};return n.store(er.store).Kt({qt:!0},(h,m)=>{const _=new En(h);return l(_.popLast())}).next(()=>n.store(Dr.store).Kt({qt:!0},([h,m,_],w)=>{const T=Is(m);return l(T.popLast())}))}$e(i){const n=i.store(Do.store);return n.Kt((s,a)=>{const l=N1(a),h=RV(this.N,l);return n.put(h)})}}function GV(r){r.createObjectStore(vs.store,{keyPath:vs.keyPath}).createIndex(vs.documentTargetsIndex,vs.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(Do.store,{keyPath:Do.keyPath}).createIndex(Do.queryTargetsIndexName,Do.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(Wo.store)}const qN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jN{constructor(i,n,s,a,l,h,m,_,w,T){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=l,this.window=h,this.document=m,this.Fe=w,this.Me=T,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=A=>Promise.resolve(),!jN.bt())throw new Fe(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zq(this,a),this.We=n+"main",this.N=new AV(_),this.Ge=new fl(this.We,11,new Jq(this.N)),this.ze=new Yq(this.referenceDelegate,this.N),this.Ht=new Zq,this.He=new $q(this.N,this.Ht),this.Je=new Uq,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===T&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ve.FAILED_PRECONDITION,qN);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new $s(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,Te.Z)(function*(a){if(n.started)return i(a)});return function(a){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,Te.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,Te.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Sx(i).put(new zu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(tg(i))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return P1(i).get(Cr.key).next(n=>Ne.resolve(this.cn(n)))}un(i){return Sx(i).delete(this.clientId)}hn(){var i=this;return(0,Te.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=To(s,zu.store);return a.Lt().next(l=>{const h=i.fn(l,18e5),m=l.filter(_=>-1===h.indexOf(_));return Ne.forEach(m,_=>a.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Ne.resolve(!0):P1(i).get(Cr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Fe(ve.FAILED_PRECONDITION,qN);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sx(i).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&m)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Ge("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,Te.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[Cr.store,zu.store],n=>{const s=new xV(n,$s.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>Sx(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return YN.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let l;return Ge("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",Lq,h=>(l=new xV(h,this.Le?this.Le.next():$s.T),"readwrite-primary"===n?this.sn(l).next(m=>!!m||this.rn(l)).next(m=>{if(!m)throw Bi(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Fe(ve.FAILED_PRECONDITION,MV);return s(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>s(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(i){return P1(i).get(Cr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Fe(ve.FAILED_PRECONDITION,qN)})}an(i){const n=new Cr(this.clientId,this.allowTabSynchronization,Date.now());return P1(i).put(Cr.key,n)}static bt(){return fl.bt()}on(i){const n=P1(i);return n.get(Cr.key).next(s=>this.cn(s)?(Ge("IndexedDbPersistence","Releasing primary lease."),n.delete(Cr.key)):Ne.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(Bi(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,Wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Ge("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Bi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){Bi("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function P1(r){return To(r,Cr.store)}function Sx(r){return To(r,zu.store)}function zN(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class Qq{constructor(i,n){this.progress=i,this.Tn=n}}class qV{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(i,n){i.forEach((s,a)=>{for(const l of n)l.applyToLocalView(a)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return dt.isDocumentKey((a=n).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(i,n.path):w1(n)?this.Sn(i,n,s):this.Dn(i,n,s);var a}Vn(i,n){return this.An(i,new dt(n)).next(s=>{let a=_c();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(i,n,s){const a=n.collectionGroup;let l=_c();return this.Ht.getCollectionParents(i,a).next(h=>Ne.forEach(h,m=>{const _=(w=n,T=m.child(a),new zo(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.Dn(i,_,s).next(w=>{w.forEach((T,A)=>{l=l.insert(T,A)})})}).next(()=>l))}Dn(i,n,s){let a,l;return this.He.getDocumentsMatchingQuery(i,n,s).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(h=>(l=h,this.Cn(i,l,a).next(m=>{a=m;for(const _ of l)for(const w of _.mutations){const T=w.key;let A=a.get(T);null==A&&(A=yi.newInvalidDocument(T),a=a.insert(T,A)),M1(w,A,_.localWriteTime),A.isFoundDocument()||(a=a.remove(T))}}))).next(()=>(a.forEach((h,m)=>{pf(n,m)||(a=a.remove(h))}),a))}Cn(i,n,s){let a=Rn();for(const h of n)for(const m of h.mutations)m instanceof gc&&null===s.get(m.key)&&(a=a.add(m.key));let l=s;return this.He.getEntries(i,a).next(h=>(h.forEach((m,_)=>{_.isFoundDocument()&&(l=l.insert(m,_))}),l))}}class $N{constructor(i,n,s,a){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=a}static kn(i,n){let s=Rn(),a=Rn();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new $N(i,n.fromCache,s,a)}}class jV{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,a){return 0===(l=n).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ht.min())?this.Fn(i,n):this.On.Pn(i,a).next(l=>{const h=this.Mn(n,l);return(Ib(n)||y1(n))&&this.Ln(n.limitType,h,a,s)?this.Fn(i,n):(Eb()<=Iu.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rb(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(m=>(h.forEach(_=>{m=m.insert(_.key,_)}),m)))});var l}Mn(i,n){let s=new Ri(Ob(i));return n.forEach((a,l)=>{pf(i,l)&&(s=s.add(l))}),s}Ln(i,n,s,a){if(s.size!==n.size)return!0;const l="F"===i?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(i,n){return Eb()<=Iu.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Rb(n)),this.On.getDocumentsMatchingQuery(i,n,Ht.min())}}class Kq{constructor(i,n,s,a){this.persistence=i,this.Bn=n,this.N=a,this.Un=new Xi(an),this.qn=new Jb(l=>Gm(l),Ab),this.Kn=Ht.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new qV(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function zV(r,i,n,s){return new Kq(r,i,n,s)}function $V(r,i){return WN.apply(this,arguments)}function WN(){return(WN=(0,Te.Z)(function*(r,i){const n=je(r);let s=n.In,a=n.Qn;const l=yield n.persistence.runTransaction("Handle user change","readonly",h=>{let m;return n.In.getAllMutationBatches(h).next(_=>(m=_,s=n.persistence.getMutationQueue(i),a=new qV(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(h))).next(_=>{const w=[],T=[];let A=Rn();for(const I of m){w.push(I.batchId);for(const O of I.mutations)A=A.add(O.key)}for(const I of _){T.push(I.batchId);for(const O of I.mutations)A=A.add(O.key)}return a.Pn(h,A).next(I=>({Wn:I,removedBatchIds:w,addedBatchIds:T}))})});return n.In=s,n.Qn=a,n.Bn.$n(n.Qn),l})).apply(this,arguments)}function Xq(r,i){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=i.batch.keys(),l=n.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,_,w){const T=_.batch,A=T.keys();let I=Ne.resolve();return A.forEach(O=>{I=I.next(()=>w.getEntry(m,O)).next(B=>{const $=_.docVersions.get(O);xt(null!==$),B.version.compareTo($)<0&&(T.applyToRemoteDocument(B,_),B.isValidDocument()&&w.addEntry(B,_.commitVersion))})}),I.next(()=>h.In.removeMutationBatch(m,T))}(n,s,i,l).next(()=>l.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,a))})}function WV(r){const i=je(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function ej(r,i){const n=je(r),s=i.snapshotVersion;let a=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=n.jn.newChangeBuffer({trackRemovals:!0});a=n.Un;const m=[];i.targetChanges.forEach((w,T)=>{const A=a.get(T);if(!A)return;m.push(n.ze.removeMatchingKeys(l,w.removedDocuments,T).next(()=>n.ze.addMatchingKeys(l,w.addedDocuments,T)));const I=w.resumeToken;if(I.approximateByteSize()>0){const O=A.withResumeToken(I,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(T,O),B=A,le=w,xt(($=O).resumeToken.approximateByteSize()>0),(0===B.resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&m.push(n.ze.updateTargetData(l,O))}var B,$,le});let _=Lr();if(i.documentUpdates.forEach((w,T)=>{i.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,w))}),m.push(JV(l,h,i.documentUpdates,s,void 0).next(w=>{_=w})),!s.isEqual(Ht.min())){const w=n.ze.getLastRemoteSnapshotVersion(l).next(T=>n.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(w)}return Ne.waitFor(m).next(()=>h.apply(l)).next(()=>n.Qn.vn(l,_)).next(()=>_)}).then(l=>(n.Un=a,l))}function JV(r,i,n,s,a){let l=Rn();return n.forEach(h=>l=l.add(h)),i.getEntries(r,l).next(h=>{let m=Lr();return n.forEach((_,w)=>{const T=h.get(_),A=(null==a?void 0:a.get(_))||s;w.isNoDocument()&&w.version.isEqual(Ht.min())?(i.removeEntry(_,A),m=m.insert(_,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(i.addEntry(w,A),m=m.insert(_,w)):Ge("LocalStore","Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",w.version)}),m})}function tj(r,i){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function Qb(r,i){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ze.getTargetData(s,i).next(l=>l?(a=l,Ne.resolve(a)):n.ze.allocateTargetId(s).next(h=>(a=new wf(i,h,0,s.currentSequenceNumber),n.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Kb(r,i,n){return JN.apply(this,arguments)}function JN(){return(JN=(0,Te.Z)(function*(r,i,n){const s=je(r),a=s.Un.get(i),l=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!tg(h))throw h;Ge("LocalStore",`Failed to update sequence numbers for target ${i}: ${h}`)}s.Un=s.Un.remove(i),s.qn.delete(a.target)})).apply(this,arguments)}function xx(r,i,n){const s=je(r);let a=Ht.min(),l=Rn();return s.persistence.runTransaction("Execute query","readonly",h=>function(m,_,w){const T=je(m),A=T.qn.get(w);return void 0!==A?Ne.resolve(T.Un.get(A)):T.ze.getTargetData(_,w)}(s,h,$o(i)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(h,m.targetId).next(_=>{l=_})}).next(()=>s.Bn.getDocumentsMatchingQuery(h,i,n?a:Ht.min(),n?l:Rn())).next(m=>({documents:m,Gn:l})))}function QV(r,i){const n=je(r),s=je(n.ze),a=n.Un.get(i);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",l=>s.Et(l,i).next(h=>h?h.target:null))}function KV(r){const i=je(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,a,l){const h=je(s);let m=Lr(),_=UN(l);const w=Tf(a),T=IDBKeyRange.lowerBound(_,!0);return w.Kt({index:er.readTimeIndex,range:T},(A,I)=>{const O=VN(h.N,I);m=m.insert(O.key,O),_=I.readTime}).next(()=>({Tn:m,readTime:IV(_)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function QN(){return(QN=(0,Te.Z)(function*(r){const i=je(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const a=Tf(s);let l=Ht.min();return a.Kt({index:er.readTimeIndex,reverse:!0},(h,m,_)=>{m.readTime&&(l=IV(m.readTime)),_.done()}).next(()=>l)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function KN(){return(KN=(0,Te.Z)(function*(r,i,n,s){const a=je(r);let l=Rn(),h=Lr(),m=mx();for(const T of n){const A=i.zn(T.metadata.name);T.document&&(l=l.add(A)),h=h.insert(A,i.Hn(T)),m=m.insert(A,i.Jn(T.metadata.readTime))}const _=a.jn.newChangeBuffer({trackRemovals:!0}),w=yield Qb(a,(T=s,$o(ff(En.fromString(`__bundle__/docs/${T}`)))));var T;return a.persistence.runTransaction("Apply bundle documents","readwrite",T=>JV(T,_,h,Ht.min(),m).next(A=>(_.apply(T),A)).next(A=>a.ze.removeMatchingKeysForTargetId(T,w.targetId).next(()=>a.ze.addMatchingKeys(T,l,w.targetId)).next(()=>a.Qn.vn(T,A)).next(()=>A)))})).apply(this,arguments)}function rj(r,i){return XN.apply(this,arguments)}function XN(){return(XN=(0,Te.Z)(function*(r,i,n=Rn()){const s=yield Qb(r,$o(HN(i.bundledQuery))),a=je(r);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=Br(i.readTime);if(s.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(l,i);const m=s.withResumeToken(di.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(m.targetId,m),a.ze.updateTargetData(l,m).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,n,s.targetId)).next(()=>a.Je.saveNamedQuery(l,i))})})).apply(this,arguments)}class sj{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Ne.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:Br(s.createTime)}),Ne.resolve()}getNamedQuery(i,n){return Ne.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:HN(s.bundledQuery),readTime:Br(s.readTime)}),Ne.resolve();var s}}class eP{constructor(){this.Zn=new Ri(es.ts),this.es=new Ri(es.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new es(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new es(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new dt(new En([])),s=new es(n,i),a=new es(n,i+1),l=[];return this.es.forEachInRange([s,a],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new dt(new En([])),s=new es(n,i),a=new es(n,i+1);let l=Rn();return this.es.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(i){const n=new es(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class es{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return dt.comparator(i.key,n.key)||an(i.ls,n.ls)}static ns(i,n){return an(i.ls,n.ls)||dt.comparator(i.key,n.key)}}class oj{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Ri(es.ts)}checkEmpty(i){return Ne.resolve(0===this.In.length)}addMutationBatch(i,n,s,a){const l=this.fs;this.fs++;const h=new LN(l,n,s,a);this.In.push(h);for(const m of a)this.ds=this.ds.add(new es(m.key,l)),this.Ht.addToCollectionParentIndex(i,m.key.path.popLast());return Ne.resolve(h)}lookupMutationBatch(i,n){return Ne.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const a=this._s(n+1),l=a<0?0:a;return Ne.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Ne.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new es(n,0),a=new es(n,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],h=>{const m=this.ws(h.ls);l.push(m)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Ri(an);return n.forEach(a=>{const l=new es(a,0),h=new es(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],m=>{s=s.add(m.ls)})}),Ne.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,a=s.length+1;let l=s;dt.isDocumentKey(l)||(l=l.child(""));const h=new es(new dt(l),0);let m=new Ri(an);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!s.isPrefixOf(w)&&(w.length===a&&(m=m.add(_.ls)),!0)},h),Ne.resolve(this.gs(m))}gs(i){const n=[];return i.forEach(s=>{const a=this.ws(s);null!==a&&n.push(a)}),n}removeMutationBatch(i,n){xt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Ne.forEach(n.mutations,a=>{const l=new es(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(i,a.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new es(n,0),a=this.ds.firstAfterOrEqual(s);return Ne.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(i){return Ne.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class aj{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Xi(dt.comparator),this.size=0}addEntry(i,n,s){const a=n.key,l=this.docs.get(a),h=l?l.size:0,m=this.ps(n);return this.docs=this.docs.insert(a,{document:n.clone(),size:m,readTime:s}),this.size+=m-h,this.Ht.addToCollectionParentIndex(i,a.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Ne.resolve(s?s.document.clone():yi.newInvalidDocument(n))}getEntries(i,n){let s=Lr();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():yi.newInvalidDocument(a))}),Ne.resolve(s)}getDocumentsMatchingQuery(i,n,s){let a=Lr();const l=new dt(n.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:_,readTime:w}}=h.getNext();if(!n.path.isPrefixOf(m.path))break;w.compareTo(s)<=0||pf(n,_)&&(a=a.insert(_.key,_.clone()))}return Ne.resolve(a)}Es(i,n){return Ne.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new lj(this)}getSize(i){return Ne.resolve(this.size)}}class lj extends ZV{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?n.push(this.Se.addEntry(i,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ne.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class cj{constructor(i){this.persistence=i,this.Ts=new Jb(n=>Gm(n),Ab),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Is=0,this.As=new eP,this.targetCount=0,this.Rs=ig.se()}forEachTarget(i,n){return this.Ts.forEach((s,a)=>n(a)),Ne.resolve()}getLastRemoteSnapshotVersion(i){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Ne.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Ne.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new ig(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Ne.resolve()}updateTargetData(i,n){return this.ae(n),Ne.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(i,n,s){let a=0;const l=[];return this.Ts.forEach((h,m)=>{m.sequenceNumber<=n&&null===s.get(m.targetId)&&(this.Ts.delete(h),l.push(this.removeMatchingKeysForTargetId(i,m.targetId)),a++)}),Ne.waitFor(l).next(()=>a)}getTargetCount(i){return Ne.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Ne.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Ne.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(h=>{l.push(a.markPotentiallyOrphaned(i,h))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Ne.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Ne.resolve(s)}containsKey(i,n){return Ne.resolve(this.As.containsKey(n))}}class uj{constructor(i,n){this.bs={},this.Le=new $s(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new cj(this),this.Ht=new Hq,this.He=new aj(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new AV(n),this.Je=new sj(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new oj(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Ge("MemoryPersistence","Starting transaction:",i);const a=new dj(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(i,n){return Ne.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class dj extends EV{constructor(i){super(),this.currentSequenceNumber=i}}class tP{constructor(i){this.persistence=i,this.Ds=new eP,this.Cs=null}static Ns(i){return new tP(i)}get xs(){if(this.Cs)return this.Cs;throw ht()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Ne.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Ne.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Ne.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.xs,s=>{const a=dt.fromPath(s);return this.ks(i,a).next(l=>{l||n.removeEntry(a)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Ne.or([()=>Ne.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function XV(r,i){return`firestore_clients_${r}_${i}`}function e3(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function nP(r,i){return`firestore_targets_${r}_${i}`}class Ax{constructor(i,n,s,a){this.user=i,this.batchId=n,this.state=s,this.error=a}static $s(i,n,s){const a=JSON.parse(s);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Fe(a.error.code,a.error.message))),h?new Ax(i,n,a.state,l):(Bi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class F1{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Fe(s.error.code,s.error.message))),l?new F1(i,s.state,a):(Bi("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class kx{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Xm();for(let h=0;a&&h<s.activeTargetIds.length;++h)a=fN(s.activeTargetIds[h]),l=l.add(s.activeTargetIds[h]);return a?new kx(i,l):(Bi("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class iP{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new iP(n.clientId,n.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${i}`),null)}}class rP{constructor(){this.activeTargetIds=Xm()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class sP{constructor(i,n,s,a,l){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Xi(an),this.started=!1,this.Ks=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=XV(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new rP),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,Te.Z)(function*(){const n=yield i.syncEngine.pn();for(const a of n){if(a===i.Ls)continue;const l=i.getItem(XV(i.persistenceKey,a));if(l){const h=kx.$s(a,l);h&&(i.qs=i.qs.insert(h.clientId,h))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const a=i.Xs(s);a&&i.Zs(a)}for(const a of i.Ks)i.Us(a);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(nP(this.persistenceKey,i));if(s){const a=F1.$s(i,s);a&&(n=a.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(nP(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(a=>{this.ni(a)}),this.currentUser=i,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Ge("SharedClientState","READ",i,n),n}setItem(i,n){Ge("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Ge("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Ge("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Te.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const a=n.ai(s.key);return n.ci(a,null)}{const a=n.ui(s.key,s.newValue);if(a)return n.ci(a.clientId,a)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const a=n.hi(s.key,s.newValue);if(a)return n.li(a)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const a=n.fi(s.key,s.newValue);if(a)return n.di(a)}}else if(s.key===n.Hs){if(null!==s.newValue){const a=n.Xs(s.newValue);if(a)return n.Zs(a)}}else if(s.key===n.Qs){const a=function(l){let h=$s.T;if(null!=l)try{const m=JSON.parse(l);xt("number"==typeof m),h=m}catch(m){Bi("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(s.newValue);a!==$s.T&&n.sequenceNumberHandler(a)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const a=new Ax(this.currentUser,i,n,s),l=e3(this.persistenceKey,this.currentUser,i);this.setItem(l,a.Os())}ni(i){const n=e3(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const a=nP(this.persistenceKey,i),l=new F1(i,n,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return kx.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),a=Number(s[1]);return Ax.$s(new br(void 0!==s[2]?s[2]:null),a,n)}fi(i,n){const s=this.zs.exec(i),a=Number(s[1]);return F1.$s(a,n)}Xs(i){return iP.$s(i)}li(i){var n=this;return(0,Te.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),a=this.ti(this.qs),l=this.ti(s),h=[],m=[];return l.forEach(_=>{a.has(_)||h.push(_)}),a.forEach(_=>{l.has(_)||m.push(_)}),this.syncEngine.gi(h,m).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=Xm();return i.forEach((s,a)=>{n=n.unionWith(a.activeTargetIds)}),n}}class t3{constructor(){this.yi=new rP,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new rP,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class hj{Ei(i){}shutdown(){}}class n3{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class pj{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class mj extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,a){const l=this.Bi(i,n);Ge("RestConnection","Sending: ",l,s);const h={};return this.Ui(h,a),this.qi(i,l,h,s).then(m=>(Ge("RestConnection","Received: ",m),m),m=>{throw nf("RestConnection",`${i} failed with error: `,m,"url: ",l,"request:",s),m})}Ki(i,n,s,a){return this.Li(i,n,s,a)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+tf,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${fj[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,a){return new Promise((l,h)=>{const m=new $S;m.listenOnce(aN.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Mb.NO_ERROR:const w=m.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Mb.TIMEOUT:Ge("Connection",'RPC "'+i+'" timed out'),h(new Fe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Mb.HTTP_ERROR:const T=m.getStatus();if(Ge("Connection",'RPC "'+i+'" failed with status:',T,"response text:",m.getResponseText()),T>0){const A=m.getResponseJson().error;if(A&&A.status&&A.message){const I=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(B)>=0?B:ve.UNKNOWN}(A.status);h(new Fe(I,A.message))}else h(new Fe(ve.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Fe(ve.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ge("Connection",'RPC "'+i+'" completed.')}});const _=JSON.stringify(a);m.send(n,"POST",_,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],a=new Tb,l=ab(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new zS({})),this.Ui(h.initMessageHeaders,n),(0,Wt.uI)()||(0,Wt.b$)()||(0,Wt.d)()||(0,Wt.w1)()||(0,Wt.Mn)()||(0,Wt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=s.join("");Ge("Connection","Creating WebChannel: "+m,h);const _=a.createWebChannel(m,h);let w=!1,T=!1;const A=new pj({vi:O=>{T?Ge("Connection","Not sending because WebChannel is closed:",O):(w||(Ge("Connection","Opening WebChannel transport."),_.open(),w=!0),Ge("Connection","WebChannel sending:",O),_.send(O))},Vi:()=>_.close()}),I=(O,B,$)=>{O.listen(B,le=>{try{$(le)}catch(Re){setTimeout(()=>{throw Re},0)}})};return I(_,Um.EventType.OPEN,()=>{T||Ge("Connection","WebChannel transport opened.")}),I(_,Um.EventType.CLOSE,()=>{T||(T=!0,Ge("Connection","WebChannel transport closed"),A.$i())}),I(_,Um.EventType.ERROR,O=>{T||(T=!0,nf("Connection","WebChannel transport errored:",O),A.$i(new Fe(ve.UNAVAILABLE,"The operation could not be completed")))}),I(_,Um.EventType.MESSAGE,O=>{var B;if(!T){const $=O.data[0];xt(!!$);const le=$,Re=le.error||(null===(B=le[0])||void 0===B?void 0:B.error);if(Re){Ge("Connection","WebChannel received error:",Re);const Ve=Re.status;let He=function(wn){const vi=Ki[wn];if(void 0!==vi)return x1(vi)}(Ve),We=Re.message;void 0===He&&(He=ve.INTERNAL,We="Unknown error status: "+Ve+" with message "+Re.message),T=!0,A.$i(new Fe(He,We)),_.close()}else Ge("Connection","WebChannel received:",$),A.Oi($)}}),I(l,qS.STAT_EVENT,O=>{O.stat===jS_PROXY?Ge("Connection","Detected buffering proxy"):O.stat===jS_NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.ki()},0),A}}function r3(){return"undefined"!=typeof window?window:null}function Ix(){return"undefined"!=typeof document?document:null}function L1(r){return new TV(r,!0)}class oP{constructor(i,n,s=1e3,a=1.5,l=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,n-s);a>0&&Ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class s3{constructor(i,n,s,a,l,h){this.Oe=i,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=h,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new oP(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,Te.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,Te.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,Te.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===ve.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const a=new Fe(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,Te.Z)(function*(){i.state=0,i.start()}))}pr(i){return Ge("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gj extends s3{constructor(i,n,s,a,l){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,l),this.N=a}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(_=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ht(),a=i.targetChange.targetIds||[],l=function(_,w){return _.D?(xt(void 0===w||"string"==typeof w),di.fromBase64String(w||"")):(xt(void 0===w||w instanceof Uint8Array),di.fromUint8Array(w||new Uint8Array))}(r,i.targetChange.resumeToken),h=i.targetChange.cause,m=h&&function(_){const w=void 0===_.code?ve.UNKNOWN:x1(_.code);return new Fe(w,_.message||"")}(h);n=new A1(s,a,l,m||null)}else if("documentChange"in i){const s=i.documentChange,a=Ra(r,s.document.name),l=Br(s.document.updateTime),h=new Qr({mapValue:{fields:s.document.fields}}),m=yi.newFoundDocument(a,l,h);n=new Vb(s.targetIds||[],s.removedTargetIds||[],m.key,m)}else if("documentDelete"in i){const s=i.documentDelete,a=Ra(r,s.document),l=s.readTime?Br(s.readTime):Ht.min(),h=yi.newNoDocument(a,l);n=new Vb([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in i){const s=i.documentRemove,a=Ra(r,s.document);n=new Vb([],s.removedTargetIds||[],a,null)}else{if(!("filter"in i))return ht();{const s=i.filter,l=new AN(s.count||0);n=new _x(s.targetId,l)}}var _;return n}(this.N,i),s=function(a){if(!("targetChange"in a))return Ht.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ht.min():l.readTime?Br(l.readTime):Ht.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=Zb(this.N),n.addTarget=function(a,l){let h;const m=l.target;return h=kb(m)?{documents:C(a,m)}:{query:E(a,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=vx(a,l.resumeToken):l.snapshotVersion.compareTo(Ht.min())>0&&(h.readTime=Ub(a,l.snapshotVersion.toTimestamp())),h}(this.N,i);const s=function(r,i){const n=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=Zb(this.N),n.removeTarget=i,this.wr(n)}}class _j extends s3{constructor(i,n,s,a,l){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(xt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(xt(void 0!==i),r.map(n=>function(s,a){let l=Br(s.updateTime?s.updateTime:a);return l.isEqual(Ht.min())&&(l=Br(a)),new Fb(l,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=Br(i.commitTime);return this.listener.vr(s,n)}return xt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=Zb(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>p(this.N,s))};this.wr(n)}}class yj extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Fe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(i,n,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Fe(ve.UNKNOWN,a.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(i,n,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Fe(ve.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class bj{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Bi(n),this.$r=!1):Ge("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class vj{constructor(i,n,s,a,l){var h=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ei(m=>{s.enqueueAndForget((0,Te.Z)(function*(){var _;Mf(h)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Te.Z)(function*(w){const T=je(w);T.Kr.add(4),yield Xb(T),T.Wr.set("Unknown"),T.Kr.delete(4),yield B1(T)}),function(w){return _.apply(this,arguments)})(h))}))}),this.Wr=new bj(s,a)}}function B1(r){return aP.apply(this,arguments)}function aP(){return(aP=(0,Te.Z)(function*(r){if(Mf(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function Xb(r){return lP.apply(this,arguments)}function lP(){return(lP=(0,Te.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function Rx(r,i){const n=je(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),dP(n)?uP(n):tv(n).cr()&&cP(n,i))}function V1(r,i){const n=je(r),s=tv(n);n.qr.delete(i),s.cr()&&o3(n,i),0===n.qr.size&&(s.cr()?s.lr():Mf(n)&&n.Wr.set("Unknown"))}function cP(r,i){r.Gr.Y(i.targetId),tv(r).Ir(i)}function o3(r,i){r.Gr.Y(i),tv(r).Ar(i)}function uP(r){r.Gr=new k1({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),tv(r).start(),r.Wr.Or()}function dP(r){return Mf(r)&&!tv(r).ar()&&r.qr.size>0}function Mf(r){return 0===je(r).Kr.size}function a3(r){r.Gr=void 0}function wj(r){return hP.apply(this,arguments)}function hP(){return(hP=(0,Te.Z)(function*(r){r.qr.forEach((i,n)=>{cP(r,i)})})).apply(this,arguments)}function Cj(r,i){return fP.apply(this,arguments)}function fP(){return(fP=(0,Te.Z)(function*(r,i){a3(r),dP(r)?(r.Wr.Lr(i),uP(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function Dj(r,i,n){return pP.apply(this,arguments)}function pP(){return(pP=(0,Te.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof A1&&2===i.state&&i.cause)try{yield(s=(0,Te.Z)(function*(a,l){const h=l.cause;for(const m of l.targetIds)a.qr.has(m)&&(yield a.remoteSyncer.rejectListen(m,h),a.qr.delete(m),a.Gr.removeTarget(m))}),function(a,l){return s.apply(this,arguments)})(r,i)}catch(s){Ge("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield Ox(r,s)}else if(i instanceof Vb?r.Gr.rt(i):i instanceof _x?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(Ht.min()))try{const s=yield WV(r.localStore);n.compareTo(s)>=0&&(yield function(a,l){const h=a.Gr._t(l);return h.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const w=a.qr.get(_);w&&a.qr.set(_,w.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const _=a.qr.get(m);if(!_)return;a.qr.set(m,_.withResumeToken(di.EMPTY_BYTE_STRING,_.snapshotVersion)),o3(a,m);const w=new wf(_.target,m,1,_.sequenceNumber);cP(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(r,n))}catch(s){Ge("RemoteStore","Failed to raise snapshot:",s),yield Ox(r,s)}var s})).apply(this,arguments)}function Ox(r,i,n){return mP.apply(this,arguments)}function mP(){return(mP=(0,Te.Z)(function*(r,i,n){if(!tg(i))throw i;r.Kr.add(1),yield Xb(r),r.Wr.set("Offline"),n||(n=()=>WV(r.localStore)),r.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield B1(r)}))})).apply(this,arguments)}function l3(r,i){return i().catch(n=>Ox(r,n,i))}function ev(r){return gP.apply(this,arguments)}function gP(){return(gP=(0,Te.Z)(function*(r){const i=je(r),n=Ef(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;Tj(i);)try{const a=yield tj(i.localStore,s);if(null===a){0===i.Ur.length&&n.lr();break}s=a.batchId,Mj(i,a)}catch(a){yield Ox(i,a)}c3(i)&&u3(i)})).apply(this,arguments)}function Tj(r){return Mf(r)&&r.Ur.length<10}function Mj(r,i){r.Ur.push(i);const n=Ef(r);n.cr()&&n.br&&n.Pr(i.mutations)}function c3(r){return Mf(r)&&!Ef(r).ar()&&r.Ur.length>0}function u3(r){Ef(r).start()}function Ej(r){return _P.apply(this,arguments)}function _P(){return(_P=(0,Te.Z)(function*(r){Ef(r).Sr()})).apply(this,arguments)}function Sj(r){return yP.apply(this,arguments)}function yP(){return(yP=(0,Te.Z)(function*(r){const i=Ef(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function xj(r,i,n){return bP.apply(this,arguments)}function bP(){return(bP=(0,Te.Z)(function*(r,i,n){const s=r.Ur.shift(),a=BN.from(s,i,n);yield l3(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield ev(r)})).apply(this,arguments)}function Aj(r,i){return vP.apply(this,arguments)}function vP(){return(vP=(0,Te.Z)(function*(r,i){var n;i&&Ef(r).br&&(yield(n=(0,Te.Z)(function*(s,a){if(px(l=a.code)&&l!==ve.ABORTED){const h=s.Ur.shift();Ef(s).hr(),yield l3(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield ev(s)}var l}),function(s,a){return n.apply(this,arguments)})(r,i)),c3(r)&&u3(r)})).apply(this,arguments)}function wP(r,i){return CP.apply(this,arguments)}function CP(){return(CP=(0,Te.Z)(function*(r,i){const n=je(r);i?(n.Kr.delete(2),yield B1(n)):i||(n.Kr.add(2),yield Xb(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function tv(r){return r.zr||(r.zr=function(i,n,s){const a=je(i);return a.Cr(),new gj(n,a.nr,a.credentials,a.N,s)}(r.datastore,r.asyncQueue,{Si:wj.bind(null,r),Ci:Cj.bind(null,r),Tr:Dj.bind(null,r)}),r.jr.push(function(){var i=(0,Te.Z)(function*(n){n?(r.zr.hr(),dP(r)?uP(r):r.Wr.set("Unknown")):(yield r.zr.stop(),a3(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function Ef(r){return r.Hr||(r.Hr=function(i,n,s){const a=je(i);return a.Cr(),new _j(n,a.nr,a.credentials,a.N,s)}(r.datastore,r.asyncQueue,{Si:Ej.bind(null,r),Ci:Aj.bind(null,r),Vr:Sj.bind(null,r),vr:xj.bind(null,r)}),r.jr.push(function(){var i=(0,Te.Z)(function*(n){n?(r.Hr.hr(),yield ev(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Ge("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class DP{constructor(i,n,s,a,l){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(i,n,s,a,l){const h=Date.now()+s,m=new DP(i,n,h,a,l);return m.start(s),m}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ve.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(r,i){if(Bi("AsyncQueue",`${i}: ${r}`),tg(r))return new Fe(ve.UNAVAILABLE,`${i}: ${r}`);throw r}class iv{constructor(i){this.comparator=i?(n,s)=>i(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=_c(),this.sortedSet=new Xi(this.comparator)}static emptySet(i){return new iv(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof iv)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new iv;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class d3{constructor(){this.Jr=new Xi(dt.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):ht():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class rv{constructor(i,n,s,a,l,h,m,_){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=_}static fromInitialDocuments(i,n,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new rv(i,n,iv.emptySet(n),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&jm(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class kj{constructor(){this.Xr=void 0,this.listeners=[]}}class Ij{constructor(){this.queries=new Jb(i=>D1(i),jm),this.onlineState="Unknown",this.Zr=new Set}}function TP(r,i){return MP.apply(this,arguments)}function MP(){return(MP=(0,Te.Z)(function*(r,i){const n=je(r),s=i.query;let a=!1,l=n.queries.get(s);if(l||(a=!0,l=new kj),a)try{l.Xr=yield n.onListen(s)}catch(h){const m=nv(h,`Initialization of query '${Rb(i.query)}' failed`);return void i.onError(m)}n.queries.set(s,l),l.listeners.push(i),i.eo(n.onlineState),l.Xr&&i.no(l.Xr)&&xP(n)})).apply(this,arguments)}function EP(r,i){return SP.apply(this,arguments)}function SP(){return(SP=(0,Te.Z)(function*(r,i){const n=je(r),s=i.query;let a=!1;const l=n.queries.get(s);if(l){const h=l.listeners.indexOf(i);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function Rj(r,i){const n=je(r);let s=!1;for(const a of i){const h=n.queries.get(a.query);if(h){for(const m of h.listeners)m.no(a)&&(s=!0);h.Xr=a}}s&&xP(n)}function Oj(r,i,n){const s=je(r),a=s.queries.get(i);if(a)for(const l of a.listeners)l.onError(n);s.queries.delete(i)}function xP(r){r.Zr.forEach(i=>{i.next()})}class AP{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const a of i.docChanges)3!==a.type&&s.push(a);i=new rv(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=rv.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class Nj{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class h3{constructor(i){this.N=i}zn(i){return Ra(this.N,i)}Hn(i){return i.metadata.exists?u(this.N,i.document,!1):yi.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return Br(i)}}class Pj{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=f3(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new h3(this.N);for(const a of i)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const h of a.metadata.queries){const m=(n.get(h)||Rn()).add(l);n.set(h,m)}}return n}complete(){var i=this;return(0,Te.Z)(function*(){const n=yield function(r,i,n,s){return KN.apply(this,arguments)}(i.localStore,new h3(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const a of i.queries)yield rj(i.localStore,a,s.get(a.name));return i.progress.taskState="Success",new Qq(Object.assign({},i.progress),n)})()}}function f3(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class p3{constructor(i){this.key=i}}class m3{constructor(i){this.key=i}}class g3{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=Rn(),this.mutatedKeys=Rn(),this.po=Ob(i),this.Eo=new iv(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new d3,a=n?n.Eo:this.Eo;let l=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const _=Ib(this.query)&&a.size===this.query.limit?a.last():null,w=y1(this.query)&&a.size===this.query.limit?a.first():null;if(i.inorderTraversal((T,A)=>{const I=a.get(T),O=pf(this.query,A)?A:null,B=!!I&&this.mutatedKeys.has(I.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let le=!1;I&&O?I.data.isEqual(O.data)?B!==$&&(s.track({type:3,doc:O}),le=!0):this.Ro(I,O)||(s.track({type:2,doc:O}),le=!0,(_&&this.po(O,_)>0||w&&this.po(O,w)<0)&&(m=!0)):!I&&O?(s.track({type:0,doc:O}),le=!0):I&&!O&&(s.track({type:1,doc:I}),le=!0,(_||w)&&(m=!0)),le&&(O?(h=h.add(O),l=$?l.add(T):l.delete(T)):(h=h.delete(T),l=l.delete(T)))}),Ib(this.query)||y1(this.query))for(;h.size>this.query.limit;){const T=Ib(this.query)?h.last():h.first();h=h.delete(T.key),l=l.delete(T.key),s.track({type:1,doc:T})}return{Eo:h,Ao:s,Ln:m,mutatedKeys:l}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const a=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const l=i.Ao.Yr();l.sort((w,T)=>function(A,I){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return O(A)-O(I)}(w.type,T.type)||this.po(w.doc,T.doc)),this.bo(s);const h=n?this.Po():[],m=0===this.yo.size&&this.current?1:0,_=m!==this.mo;return this.mo=m,0!==l.length||_?{snapshot:new rv(this.query,i.Eo,a,l,i.mutatedKeys,0===m,_,!1),vo:h}:{vo:h}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new d3,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=Rn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new m3(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new p3(s))}),n}So(i){this._o=i.Gn,this.yo=Rn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return rv.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Fj{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class Lj{constructor(i){this.key=i,this.Co=!1}}class Bj{constructor(i,n,s,a,l,h){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.No={},this.xo=new Jb(m=>D1(m),jm),this.ko=new Map,this.$o=new Set,this.Oo=new Xi(dt.comparator),this.Fo=new Map,this.Mo=new eP,this.Lo={},this.Bo=new Map,this.Uo=ig.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Vj(r,i){return kP.apply(this,arguments)}function kP(){return(kP=(0,Te.Z)(function*(r,i){const n=XP(r);let s,a;const l=n.xo.get(i);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const h=yield Qb(n.localStore,$o(i)),m=n.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield IP(n,i,s,"current"===m),n.isPrimaryClient&&Rx(n.remoteStore,h)}return a})).apply(this,arguments)}function IP(r,i,n,s){return RP.apply(this,arguments)}function RP(){return(RP=(0,Te.Z)(function*(r,i,n,s){r.Ko=(T,A,I)=>{return(O=(0,Te.Z)(function*(B,$,le,Re){let Ve=$.view.Io(le);Ve.Ln&&(Ve=yield xx(B.localStore,$.query,!1).then(({documents:wn})=>$.view.Io(wn,Ve)));const He=Re&&Re.targetChanges.get($.targetId),We=$.view.applyChanges(Ve,B.isPrimaryClient,He);return ZP(B,$.targetId,We.vo),We.snapshot}),function(B,$,le,Re){return O.apply(this,arguments)})(r,T,A,I);var O};const a=yield xx(r.localStore,i,!0),l=new g3(i,a.Gn),h=l.Io(a.documents),m=ju.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),_=l.applyChanges(h,r.isPrimaryClient,m);ZP(r,n,_.vo);const w=new Fj(i,n,l);return r.xo.set(i,w),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),_.snapshot})).apply(this,arguments)}function Uj(r,i){return OP.apply(this,arguments)}function OP(){return(OP=(0,Te.Z)(function*(r,i){const n=je(r),s=n.xo.get(i),a=n.ko.get(s.targetId);if(a.length>1)return n.ko.set(s.targetId,a.filter(l=>!jm(l,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Kb(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),V1(n.remoteStore,s.targetId),sv(n,s.targetId)}).catch(rg))):(sv(n,s.targetId),yield Kb(n.localStore,s.targetId,!0))})).apply(this,arguments)}function NP(){return(NP=(0,Te.Z)(function*(r,i,n){const s=eF(r);try{const a=yield function(l,h){const m=je(l),_=wr.now(),w=h.reduce((A,I)=>A.add(I.key),Rn());let T;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>m.Qn.Pn(A,w).next(I=>{T=I;const O=[];for(const B of h){const $=xN(B,T.get(B.key));null!=$&&O.push(new gc(B.key,$,sx($.value.mapValue),Ii.exists(!0)))}return m.In.addMutationBatch(A,_,O,h)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(s.localStore,i);s.sharedClientState.addPendingMutation(a.batchId),function(l,h,m){let _=l.Lo[l.currentUser.toKey()];_||(_=new Xi(an)),_=_.insert(h,m),l.Lo[l.currentUser.toKey()]=_}(s,a.batchId,n),yield $u(s,a.changes),yield ev(s.remoteStore)}catch(a){const l=nv(a,"Failed to persist write");n.reject(l)}})).apply(this,arguments)}function _3(r,i){return PP.apply(this,arguments)}function PP(){return(PP=(0,Te.Z)(function*(r,i){const n=je(r);try{const s=yield ej(n.localStore,i);i.targetChanges.forEach((a,l)=>{const h=n.Fo.get(l);h&&(xt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Co=!0:a.modifiedDocuments.size>0?xt(h.Co):a.removedDocuments.size>0&&(xt(h.Co),h.Co=!1))}),yield $u(n,s,i)}catch(s){yield rg(s)}})).apply(this,arguments)}function y3(r,i,n){const s=je(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const a=[];s.xo.forEach((l,h)=>{const m=h.view.eo(i);m.snapshot&&a.push(m.snapshot)}),function(l,h){const m=je(l);m.onlineState=h;let _=!1;m.queries.forEach((w,T)=>{for(const A of T.listeners)A.eo(h)&&(_=!0)}),_&&xP(m)}(s.eventManager,i),a.length&&s.No.Tr(a),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function Zj(r,i,n){return FP.apply(this,arguments)}function FP(){return(FP=(0,Te.Z)(function*(r,i,n){const s=je(r);s.sharedClientState.updateQueryState(i,"rejected",n);const a=s.Fo.get(i),l=a&&a.key;if(l){let h=new Xi(dt.comparator);h=h.insert(l,yi.newNoDocument(l,Ht.min()));const m=Rn().add(l),_=new yf(Ht.min(),new Map,new Ri(an),h,m);yield _3(s,_),s.Oo=s.Oo.remove(l),s.Fo.delete(i),YP(s)}else yield Kb(s.localStore,i,!1).then(()=>sv(s,i,n)).catch(rg)})).apply(this,arguments)}function Yj(r,i){return LP.apply(this,arguments)}function LP(){return(LP=(0,Te.Z)(function*(r,i){const n=je(r),s=i.batch.batchId;try{const a=yield Xq(n.localStore,i);HP(n,s,null),UP(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield $u(n,a)}catch(a){yield rg(a)}})).apply(this,arguments)}function Gj(r,i,n){return BP.apply(this,arguments)}function BP(){return(BP=(0,Te.Z)(function*(r,i,n){const s=je(r);try{const a=yield function(l,h){const m=je(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return m.In.lookupMutationBatch(_,h).next(T=>(xt(null!==T),w=T.keys(),m.In.removeMutationBatch(_,T))).next(()=>m.In.performConsistencyCheck(_)).next(()=>m.Qn.Pn(_,w))})}(s.localStore,i);HP(s,i,n),UP(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield $u(s,a)}catch(a){yield rg(a)}})).apply(this,arguments)}function VP(){return(VP=(0,Te.Z)(function*(r,i){const n=je(r);Mf(n.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const h=je(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===s)return void i.resolve();const a=n.Bo.get(s)||[];a.push(i),n.Bo.set(s,a)}catch(s){const a=nv(s,"Initialization of waitForPendingWrites() operation failed");i.reject(a)}})).apply(this,arguments)}function UP(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function HP(r,i,n){const s=je(r);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(i);l&&(n?l.reject(n):l.resolve(),a=a.remove(i)),s.Lo[s.currentUser.toKey()]=a}}function sv(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||b3(r,s)})}function b3(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(V1(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),YP(r))}function ZP(r,i,n){for(const s of n)s instanceof p3?(r.Mo.addReference(s.key,i),jj(r,s)):s instanceof m3?(Ge("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||b3(r,s.key)):ht()}function jj(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Ge("SyncEngine","New document in limbo: "+n),r.$o.add(s),YP(r))}function YP(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new dt(En.fromString(i)),s=r.Uo.next();r.Fo.set(s,new Lj(n)),r.Oo=r.Oo.insert(n,s),Rx(r.remoteStore,new wf($o(ff(n.path)),s,2,$s.T))}}function $u(r,i,n){return GP.apply(this,arguments)}function GP(){return(GP=(0,Te.Z)(function*(r,i,n){const s=je(r),a=[],l=[],h=[];var m;s.xo.isEmpty()||(s.xo.forEach((m,_)=>{h.push(s.Ko(_,i,n).then(w=>{if(w){s.isPrimaryClient&&s.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),a.push(w);const T=$N.kn(_.targetId,w);l.push(T)}}))}),yield Promise.all(h),s.No.Tr(a),yield(m=(0,Te.Z)(function*(_,w){const T=je(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Ne.forEach(w,I=>Ne.forEach(I.Nn,O=>T.persistence.referenceDelegate.addReference(A,I.targetId,O)).next(()=>Ne.forEach(I.xn,O=>T.persistence.referenceDelegate.removeReference(A,I.targetId,O)))))}catch(A){if(!tg(A))throw A;Ge("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const I=A.targetId;if(!A.fromCache){const O=T.Un.get(I),$=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);T.Un=T.Un.insert(I,$)}}}),function(_,w){return m.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function zj(r,i){return qP.apply(this,arguments)}function qP(){return(qP=(0,Te.Z)(function*(r,i){const n=je(r);if(!n.currentUser.isEqual(i)){Ge("SyncEngine","User change. New user:",i.toKey());const s=yield $V(n.localStore,i);n.currentUser=i,(a=n).Bo.forEach(h=>{h.forEach(m=>{m.reject(new Fe(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield $u(n,s.Wn)}var a})).apply(this,arguments)}function $j(r,i){const n=je(r),s=n.Fo.get(i);if(s&&s.Co)return Rn().add(s.key);{let a=Rn();const l=n.ko.get(i);if(!l)return a;for(const h of l){const m=n.xo.get(h);a=a.unionWith(m.view.To)}return a}}function Wj(r,i){return jP.apply(this,arguments)}function jP(){return(jP=(0,Te.Z)(function*(r,i){const n=je(r),s=yield xx(n.localStore,i.query,!0),a=i.view.So(s);return n.isPrimaryClient&&ZP(n,i.targetId,a.vo),a})).apply(this,arguments)}function Jj(r){return zP.apply(this,arguments)}function zP(){return(zP=(0,Te.Z)(function*(r){const i=je(r);return KV(i.localStore).then(n=>$u(i,n))})).apply(this,arguments)}function Qj(r,i,n,s){return $P.apply(this,arguments)}function $P(){return($P=(0,Te.Z)(function*(r,i,n,s){const a=je(r),l=yield function(h,m){const _=je(h),w=je(_.In);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Xt(T,m).next(A=>A?_.Qn.Pn(T,A):Ne.resolve(null)))}(a.localStore,i);var m;null!==l?("pending"===n?yield ev(a.remoteStore):"acknowledged"===n||"rejected"===n?(HP(a,i,s||null),UP(a,i),m=i,je(je(a.localStore).In).te(m)):ht(),yield $u(a,l)):Ge("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function WP(){return(WP=(0,Te.Z)(function*(r,i){const n=je(r);if(XP(n),eF(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),a=yield v3(n,s.toArray());n.qo=!0,yield wP(n.remoteStore,!0);for(const l of a)Rx(n.remoteStore,l)}else if(!1===i&&!1!==n.qo){const s=[];let a=Promise.resolve();n.ko.forEach((l,h)=>{n.sharedClientState.isLocalQueryTarget(h)?s.push(h):a=a.then(()=>(sv(n,h),Kb(n.localStore,h,!0))),V1(n.remoteStore,h)}),yield a,yield v3(n,s),function(l){const h=je(l);h.Fo.forEach((m,_)=>{V1(h.remoteStore,_)}),h.Mo.us(),h.Fo=new Map,h.Oo=new Xi(dt.comparator)}(n),n.qo=!1,yield wP(n.remoteStore,!1)}})).apply(this,arguments)}function v3(r,i,n){return JP.apply(this,arguments)}function JP(){return(JP=(0,Te.Z)(function*(r,i,n){const s=je(r),a=[],l=[];for(const h of i){let m;const _=s.ko.get(h);if(_&&0!==_.length){m=yield Qb(s.localStore,$o(_[0]));for(const w of _){const T=s.xo.get(w),A=yield Wj(s,T);A.snapshot&&l.push(A.snapshot)}}else{const w=yield QV(s.localStore,h);m=yield Qb(s.localStore,w),yield IP(s,w3(w),h,!1)}a.push(m)}return s.No.Tr(l),a})).apply(this,arguments)}function w3(r){return ax(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Xj(r){const i=je(r);return je(je(i.localStore).persistence).pn()}function e4(r,i,n,s){return QP.apply(this,arguments)}function QP(){return(QP=(0,Te.Z)(function*(r,i,n,s){const a=je(r);if(a.qo)Ge("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(i))switch(n){case"current":case"not-current":{const l=yield KV(a.localStore),h=yf.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield $u(a,l,h);break}case"rejected":yield Kb(a.localStore,i,!0),sv(a,i,s);break;default:ht()}})).apply(this,arguments)}function t4(r,i,n){return KP.apply(this,arguments)}function KP(){return(KP=(0,Te.Z)(function*(r,i,n){const s=XP(r);if(s.qo){for(const a of i){if(s.ko.has(a)){Ge("SyncEngine","Adding an already active target "+a);continue}const l=yield QV(s.localStore,a),h=yield Qb(s.localStore,l);yield IP(s,w3(l),h.targetId,!1),Rx(s.remoteStore,h)}for(const a of n)s.ko.has(a)&&(yield Kb(s.localStore,a,!1).then(()=>{V1(s.remoteStore,a),sv(s,a)}).catch(rg))}})).apply(this,arguments)}function XP(r){const i=je(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=_3.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=$j.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Zj.bind(null,i),i.No.Tr=Rj.bind(null,i.eventManager),i.No.jo=Oj.bind(null,i.eventManager),i}function eF(r){const i=je(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=Yj.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Gj.bind(null,i),i}class C3{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,Te.Z)(function*(){n.N=L1(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return zV(this.persistence,new jV,i.initialUser,this.N)}Go(i){return new uj(tP.Ns,this.N)}Wo(i){return new t3}terminate(){var i=this;return(0,Te.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class D3 extends C3{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,Te.Z)(function*(){yield n().call(s,i),yield function(r){return QN.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield eF(s.Jo.syncEngine),yield ev(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return zV(this.persistence,new jV,i.initialUser,this.N)}zo(i){return new qq(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=zN(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Mo.withCacheSize(this.cacheSizeBytes):Mo.DEFAULT;return new jN(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,r3(),Ix(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new t3}}class i4 extends D3{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,Te.Z)(function*(){yield n().call(s,i);const a=s.Jo.syncEngine;s.sharedClientState instanceof sP&&(s.sharedClientState.syncEngine={_i:Qj.bind(null,a),mi:e4.bind(null,a),gi:t4.bind(null,a),pn:Xj.bind(null,a),wi:Jj.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,Te.Z)(function*(h){yield function(r,i){return WP.apply(this,arguments)}(s.Jo.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):h||s.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Wo(i){const n=r3();if(!sP.bt(n))throw new Fe(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=zN(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new sP(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class tF{initialize(i,n){var s=this;return(0,Te.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>y3(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=zj.bind(null,s.syncEngine),yield wP(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Ij}createDatastore(i){const n=L1(i.databaseInfo.databaseId),s=new mj(i.databaseInfo);return new yj(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,a=i.asyncQueue,l=m=>y3(this.syncEngine,m,0),h=n3.bt()?new n3:new hj,new vj(n,s,a,l,h);var n,s,a,l,h}createSyncEngine(i,n){return function(s,a,l,h,m,_,w){const T=new Bj(s,a,l,h,m,_);return w&&(T.qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,Te.Z)(function*(n){const s=je(n);Ge("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Xb(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function T3(r,i=10240){let n=0;return{read:()=>(0,Te.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Nx{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class r4{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new vr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,Te.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,Te.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,Te.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),a=Number(s);isNaN(a)&&i.sa(`length string (${s}) is not valid number`);const l=yield i.ia(a);return new Nj(JSON.parse(l),n.length+a)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,Te.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,Te.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,Te.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class s4{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,Te.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Fe(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Te.Z)(function*(l,h){const m=je(l),_=Zb(m.N)+"/documents",w={documents:h.map(O=>Hb(m.N,O))},T=yield m.Ki("BatchGetDocuments",_,w),A=new Map;T.forEach(O=>{const B=function(r,i){return"found"in i?function(n,s){xt(!!s.found);const a=Ra(n,s.found.name),l=Br(s.found.updateTime),h=new Qr({mapValue:{fields:s.found.fields}});return yi.newFoundDocument(a,l,h)}(r,i):"missing"in i?function(n,s){xt(!!s.missing),xt(!!s.readTime);const a=Ra(n,s.missing),l=Br(s.readTime);return yi.newNoDocument(a,l)}(r,i):ht()}(m.N,O);A.set(B.key.toString(),B)});const I=[];return h.forEach(O=>{const B=A.get(O.toString());xt(!!B),I.push(B)}),I}),function(l,h){return a.apply(this,arguments)})(n.datastore,i);var a;return s.forEach(a=>n.recordVersion(a)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new qu(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,Te.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,a)=>{const l=dt.fromPath(a);i.mutations.push(new S1(l,i.precondition(l)))}),yield(s=(0,Te.Z)(function*(a,l){const h=je(a),m=Zb(h.N)+"/documents",_={writes:l.map(w=>p(h.N,w))};yield h.Li("Commit",m,_)}),function(a,l){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw ht();n=Ht.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Fe(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?Ii.updateTime(n):Ii.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(Ht.min()))throw new Fe(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(n)}return Ii.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class o4{constructor(i,n,s,a){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new oP(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,Te.Z)(function*(){const n=new s4(i.datastore),s=i.ua(n);s&&s.then(a=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(a)}).catch(l=>{i.ha(l)}))}).catch(a=>{i.ha(a)})}))}ua(i){try{const n=this.updateFunction(i);return!fc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!px(n)}return!1}}class a4{constructor(i,n,s){var a=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=br.UNAUTHENTICATED,this.clientId=QS.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var l=(0,Te.Z)(function*(h){Ge("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,Te.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const a=nv(s,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}function M3(r,i){return nF.apply(this,arguments)}function nF(){return(nF=(0,Te.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var a=(0,Te.Z)(function*(l){s.isEqual(l)||(yield $V(i.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function E3(r,i){return iF.apply(this,arguments)}function iF(){return(iF=(0,Te.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield rF(r);Ge("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(a=>{return(l=(0,Te.Z)(function*(h,m){const _=je(h);_.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const w=Mf(_);_.Kr.add(3),yield Xb(_),w&&_.Wr.set("Unknown"),yield _.remoteSyncer.handleCredentialChange(m),_.Kr.delete(3),yield B1(_)}),function(h,m){return l.apply(this,arguments)})(i.remoteStore,a);var l}),r.onlineComponents=i})).apply(this,arguments)}function rF(r){return sF.apply(this,arguments)}function sF(){return(sF=(0,Te.Z)(function*(r){return r.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield M3(r,new C3)),r.offlineComponents})).apply(this,arguments)}function Px(r){return oF.apply(this,arguments)}function oF(){return(oF=(0,Te.Z)(function*(r){return r.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield E3(r,new tF)),r.onlineComponents})).apply(this,arguments)}function S3(r){return rF(r).then(i=>i.persistence)}function aF(r){return rF(r).then(i=>i.localStore)}function x3(r){return Px(r).then(i=>i.remoteStore)}function lF(r){return Px(r).then(i=>i.syncEngine)}function ov(r){return cF.apply(this,arguments)}function cF(){return(cF=(0,Te.Z)(function*(r){const i=yield Px(r),n=i.eventManager;return n.onListen=Vj.bind(null,i.syncEngine),n.onUnlisten=Uj.bind(null,i.syncEngine),n})).apply(this,arguments)}function A3(r,i,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(a,l,h,m,_){const w=new Nx({next:A=>{l.enqueueAndForget(()=>EP(a,T));const I=A.docs.has(h);!I&&A.fromCache?_.reject(new Fe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&m&&"server"===m.source?_.reject(new Fe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new AP(ff(h.path),w,{includeMetadataChanges:!0,uo:!0});return TP(a,T)}(yield ov(r),r.asyncQueue,i,n,s)})),s.promise}function k3(r,i,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(a,l,h,m,_){const w=new Nx({next:A=>{l.enqueueAndForget(()=>EP(a,T)),A.fromCache&&"server"===m.source?_.reject(new Fe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new AP(h,w,{includeMetadataChanges:!0,uo:!0});return TP(a,T)}(yield ov(r),r.asyncQueue,i,n,s)})),s.promise}class g4{constructor(i,n,s,a,l,h,m,_){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class av{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof av&&i.projectId===this.projectId&&i.database===this.database}}const I3=new Map;function uF(r,i,n){if(!n)throw new Fe(ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function R3(r,i,n,s){if(!0===i&&!0===s)throw new Fe(ve.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function O3(r){if(!dt.isDocumentKey(r))throw new Fe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N3(r){if(dt.isDocumentKey(r))throw new Fe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Fx(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":ht()}function Sn(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Fe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fx(r);throw new Fe(ve.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function P3(r,i){if(i<=0)throw new Fe(ve.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class F3{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Fe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Fe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,R3("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class U1{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F3({}),this._settingsFrozen=!1,i instanceof av?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Fe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new av(s.options.projectId)}(i))}get app(){if(!this._app)throw new Fe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Fe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F3(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new yV;switch(n.type){case"gapi":const s=n.client;return xt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new uN(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Fe(ve.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=I3.get(i);n&&(Ge("ComponentProvider","Removing Datastore"),I3.delete(i),n.terminate())}(this),Promise.resolve()}}class bi{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new bi(this.firestore,i,this._key)}}class Rs{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Rs(this.firestore,i,this._query)}}class vc extends Rs{constructor(i,n,s){super(i,n,ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new bi(this.firestore,null,new dt(i))}withConverter(i){return new vc(this.firestore,i,this._path)}}function L3(r,i,...n){if(r=(0,Wt.m9)(r),uF("collection","path",i),r instanceof U1){const s=En.fromString(i,...n);return N3(s),new vc(r,null,s)}{if(!(r instanceof bi||r instanceof vc))throw new Fe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(En.fromString(i,...n));return N3(s),new vc(r.firestore,null,s)}}function Lx(r,i,...n){if(r=(0,Wt.m9)(r),1===arguments.length&&(i=QS.I()),uF("doc","path",i),r instanceof U1){const s=En.fromString(i,...n);return O3(s),new bi(r,null,new dt(s))}{if(!(r instanceof bi||r instanceof vc))throw new Fe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(En.fromString(i,...n));return O3(s),new bi(r.firestore,r instanceof vc?r.converter:null,new dt(s))}}function B3(r,i){return r=(0,Wt.m9)(r),i=(0,Wt.m9)(i),(r instanceof bi||r instanceof vc)&&(i instanceof bi||i instanceof vc)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function V3(r,i){return r=(0,Wt.m9)(r),i=(0,Wt.m9)(i),r instanceof Rs&&i instanceof Rs&&r.firestore===i.firestore&&jm(r._query,i._query)&&r.converter===i.converter}class b4{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new oP(this,"async_queue_retry"),this.Ea=()=>{const n=Ix();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=Ix();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=Ix();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new vr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,Te.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!tg(n))throw n;Ge("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const a=DP.createAndSchedule(this,i,n,s,l=>this.Ra(l));return this._a.push(a),a}Ta(){this.ma&&ht()}verifyOperationInProgress(){}ba(){var i=this;return(0,Te.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function dF(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class v4{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class tr extends U1{constructor(i,n){super(i,n),this.type="firestore",this._queue=new b4,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||U3(this),this._firestoreClient.terminate()}}function Vr(r){return r._firestoreClient||U3(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function U3(r){var i;const n=r._freezeSettings(),s=(l=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new g4(r._databaseId,l,r._persistenceKey,(m=n).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;r._firestoreClient=new a4(r._credentials,r._queue,s)}function H3(r,i,n){const s=new vr;return r.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield M3(r,n),yield E3(r,i),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===ve.FAILED_PRECONDITION||l.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function Z3(r){if(r._initialized||r._terminated)throw new Fe(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wu{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Fe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class wc{constructor(i){this._byteString=i}static fromBase64String(i){try{return new wc(di.fromBase64String(i))}catch(n){throw new Fe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new wc(di.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class sg{constructor(i){this._methodName=i}}class Bx{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Fe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Fe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return an(this._lat,i._lat)||an(this._long,i._long)}}const k4=/^__.*__$/;class I4{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new gc(i,this.data,this.fieldMask,n,this.fieldTransforms):new Qm(i,this.data,n,this.fieldTransforms)}}class Y3{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new gc(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function G3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class Vx{constructor(i,n,s,a,l,h){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new Vx(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),a=this.Ca({path:s,xa:!1});return a.ka(i),a}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return Hx(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(G3(this.Da)&&k4.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class R4{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||L1(i)}Ba(i,n,s,a=!1){return new Vx({Da:i,methodName:n,La:s,path:Pr.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function og(r){const i=r._freezeSettings(),n=L1(r._databaseId);return new R4(r._databaseId,!!i.ignoreUndefinedProperties,n)}function Ux(r,i,n,s,a,l={}){const h=r.Ba(l.merge||l.mergeFields?2:0,i,n,a);mF("Data must be an object, but it was:",h,s);const m=z3(s,h);let _,w;if(l.merge)_=new af(h.fieldMask),w=h.fieldTransforms;else if(l.mergeFields){const T=[];for(const A of l.mergeFields){const I=gF(i,A,n);if(!h.contains(I))throw new Fe(ve.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);W3(T,I)||T.push(I)}_=new af(T),w=h.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,w=h.fieldTransforms;return new I4(new Qr(m),_,w)}class H1 extends sg{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof H1}}function q3(r,i,n){return new Vx({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class hF extends sg{_toFieldTransform(i){return new mc(i.path,new Hu)}isEqual(i){return i instanceof hF}}class O4 extends sg{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=q3(this,i,!0),s=this.Ua.map(l=>ag(l,n)),a=new Zu(s);return new mc(i.path,a)}isEqual(i){return this===i}}class N4 extends sg{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=q3(this,i,!0),s=this.Ua.map(l=>ag(l,n)),a=new Yu(s);return new mc(i.path,a)}isEqual(i){return this===i}}class P4 extends sg{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new mf(i.N,$m(i.N,this.qa));return new mc(i.path,n)}isEqual(i){return this===i}}function fF(r,i,n,s){const a=r.Ba(1,i,n);mF("Data must be an object, but it was:",a,s);const l=[],h=Qr.empty();rf(s,(_,w)=>{const T=_F(i,_,n);w=(0,Wt.m9)(w);const A=a.$a(T);if(w instanceof H1)l.push(T);else{const I=ag(w,A);null!=I&&(l.push(T),h.set(T,I))}});const m=new af(l);return new Y3(h,m,a.fieldTransforms)}function pF(r,i,n,s,a,l){const h=r.Ba(1,i,n),m=[gF(i,s,n)],_=[a];if(l.length%2!=0)throw new Fe(ve.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)m.push(gF(i,l[I])),_.push(l[I+1]);const w=[],T=Qr.empty();for(let I=m.length-1;I>=0;--I)if(!W3(w,m[I])){const O=m[I];let B=_[I];B=(0,Wt.m9)(B);const $=h.$a(O);if(B instanceof H1)w.push(O);else{const le=ag(B,$);null!=le&&(w.push(O),T.set(O,le))}}const A=new af(w);return new Y3(T,A,h.fieldTransforms)}function j3(r,i,n,s=!1){return ag(n,r.Ba(s?4:3,i))}function ag(r,i){if($3(r=(0,Wt.m9)(r)))return mF("Unsupported field value:",i,r),z3(r,i);if(r instanceof sg)return function(n,s){if(!G3(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const h of n){let m=ag(h,s.Oa(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(r,i)}return function(n,s){if(null===(n=(0,Wt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return $m(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const a=wr.fromDate(n);return{timestampValue:Ub(s.N,a)}}if(n instanceof wr){const a=new wr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ub(s.N,a)}}if(n instanceof Bx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wc)return{bytesValue:vx(s.N,n._byteString)};if(n instanceof bi){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:wx(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${Fx(n)}`)}(r,i)}function z3(r,i){const n={};return f1(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):rf(r,(s,a)=>{const l=ag(a,i.Na(s));null!=l&&(n[s]=l)}),{mapValue:{fields:n}}}function $3(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof wr||r instanceof Bx||r instanceof wc||r instanceof bi||r instanceof sg)}function mF(r,i,n){if(!$3(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Fx(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function gF(r,i,n){if((i=(0,Wt.m9)(i))instanceof Wu)return i._internalPath;if("string"==typeof i)return _F(r,i);throw Hx("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const F4=new RegExp("[~\\*/\\[\\]]");function _F(r,i,n){if(i.search(F4)>=0)throw Hx(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wu(...i.split("."))._internalPath}catch(s){throw Hx(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hx(r,i,n,s,a){const l=s&&!s.isEmpty(),h=void 0!==a;let m=`Function ${i}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(l||h)&&(_+=" (found",l&&(_+=` in field ${s}`),h&&(_+=` in document ${a}`),_+=")"),new Fe(ve.INVALID_ARGUMENT,m+r+_)}function W3(r,i){return r.some(n=>n.isEqual(i))}class Z1{constructor(i,n,s,a,l){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new L4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(Zx("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class L4 extends Z1{data(){return super.data()}}function Zx(r,i){return"string"==typeof i?_F(r,i):i instanceof Wu?i._internalPath:i._delegate._internalPath}class lg{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Ju extends Z1{constructor(i,n,s,a,l,h){super(i,n,s,a,h),this._firestore=i,this._firestoreImpl=i,this.metadata=l}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new Y1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(Zx("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Y1 extends Ju{data(i={}){return super.data(i)}}class Sf{constructor(i,n,s,a){this._firestore=i,this._userDataWriter=n,this._snapshot=a,this.metadata=new lg(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new Y1(this._firestore,this._userDataWriter,s.key,s,new lg(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new Y1(s._firestore,s._userDataWriter,h.doc.key,h.doc,new lg(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const m=new Y1(s._firestore,s._userDataWriter,h.doc.key,h.doc,new lg(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,w=-1;return 0!==h.type&&(_=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),w=l.indexOf(h.doc.key)),{type:B4(h.type),doc:m,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function J3(r,i){return r instanceof Ju&&i instanceof Ju?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof Sf&&i instanceof Sf&&r._firestore===i._firestore&&V3(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function Q3(r){if(y1(r)&&0===r.explicitOrderBy.length)throw new Fe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G1{}function xf(r,...i){for(const n of i)r=n._apply(r);return r}class V4 extends G1{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=og(i.firestore),s=function(a,l,h,m,_,w,T){let A;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on FieldPath.documentId().`);if("in"===w||"not-in"===w){i6(T,w);const O=[];for(const B of T)O.push(n6(m,a,B));A={arrayValue:{values:O}}}else A=n6(m,a,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||i6(T,w),A=j3(h,"where",T,"in"===w||"not-in"===w);const I=ii.create(_,w,A);return function(O,B){if(B.v()){const le=v1(O);if(null!==le&&!le.isEqual(B.field))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${le.toString()}' and '${B.field.toString()}'`);const Re=b1(O);null!==Re&&r6(0,B.field,Re)}const $=function(le,Re){for(const Ve of le.filters)if(Re.indexOf(Ve.op)>=0)return Ve.op;return null}(O,function(le){switch(le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==$)throw new Fe(ve.INVALID_ARGUMENT,$===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${$.toString()}' filters.`)}(a,I),I}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Rs(i.firestore,i.converter,function(a,l){const h=a.filters.concat([l]);return new zo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(i._query,s))}}class H4 extends G1{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,a,l){if(null!==s.startAt)throw new Fe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Fe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new hf(a,l);return function(m,_){if(null===b1(m)){const w=v1(m);null!==w&&r6(0,w,_.field)}}(s,h),h}(i._query,this.Ka,this.Wa);return new Rs(i.firestore,i.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new zo(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class K3 extends G1{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Rs(i.firestore,i.converter,C1(i._query,this.Ga,this.za))}}class X3 extends G1{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=t6(i,this.type,this.Ha,this.Ja);return new Rs(i.firestore,i.converter,(a=n,new zo((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class e6 extends G1{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=t6(i,this.type,this.Ha,this.Ja);return new Rs(i.firestore,i.converter,(a=n,new zo((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function t6(r,i,n,s){if(n[0]=(0,Wt.m9)(n[0]),n[0]instanceof Z1)return function(a,l,h,m,_){if(!m)throw new Fe(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const w=[];for(const T of Kr(a))if(T.field.isKeyField())w.push(xb(l,m.key));else{const A=m.data.field(T.field);if(cf(A))throw new Fe(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const I=T.field.canonicalString();throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}w.push(A)}return new df(w,_)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const a=og(r.firestore);return function(l,h,m,_,w,T){const A=l.explicitOrderBy;if(w.length>A.length)throw new Fe(ve.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let O=0;O<w.length;O++){const B=w[O];if(A[O].field.isKeyField()){if("string"!=typeof B)throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof B}`);if(!w1(l)&&-1!==B.indexOf("/"))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${_}() must be a plain document ID, but '${B}' contains a slash.`);const $=l.path.child(En.fromString(B));if(!dt.isDocumentKey($))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${_}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const le=new dt($);I.push(xb(h,le))}else{const $=j3(m,_,B);I.push($)}}return new df(I,T)}(r._query,r.firestore._databaseId,a,i,n,s)}}function n6(r,i,n){if("string"==typeof(n=(0,Wt.m9)(n))){if(""===n)throw new Fe(ve.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(i)&&-1!==n.indexOf("/"))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(En.fromString(n));if(!dt.isDocumentKey(s))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xb(r,new dt(s))}if(n instanceof bi)return xb(r,n._key);throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fx(n)}.`)}function i6(r,i){if(!Array.isArray(r)||0===r.length)throw new Fe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Fe(ve.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function r6(r,i,n){if(!n.isEqual(i))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class yF{convertValue(i,n="none"){switch(Uu(i)){case 0:return null;case 1:return i.booleanValue;case 2:return ki(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(lf(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw ht()}}convertObject(i,n){const s={};return rf(i.fields,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertGeoPoint(i){return new Bx(ki(i.latitude),ki(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=ex(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vu(i));default:return null}}convertTimestamp(i){const n=ka(i);return new wr(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=En.fromString(i);xt(on(s));const a=new av(s.get(1),s.get(3)),l=new dt(s.popFirst(5));return a.isEqual(n)||Bi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Yx(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class W4 extends yF{constructor(i){super(),this.firestore=i}convertBytes(i){return new wc(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new bi(this.firestore,null,n)}}class s6{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=og(i)}set(i,n,s){this._verifyNotCommitted();const a=Af(i,this._firestore),l=Yx(a.converter,n,s),h=Ux(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,Ii.none())),this}update(i,n,s,...a){this._verifyNotCommitted();const l=Af(i,this._firestore);let h;return h="string"==typeof(n=(0,Wt.m9)(n))||n instanceof Wu?pF(this._dataReader,"WriteBatch.update",l._key,n,s,a):fF(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(h.toMutation(l._key,Ii.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=Af(i,this._firestore);return this._mutations=this._mutations.concat(new qu(n._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(r,i){if((r=(0,Wt.m9)(r)).firestore!==i)throw new Fe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class cg extends yF{constructor(i){super(),this.firestore=i}convertBytes(i){return new wc(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new bi(this.firestore,null,n)}}function o6(r,i,n){r=Sn(r,bi);const s=Sn(r.firestore,tr),a=Yx(r.converter,i,n);return lv(s,[Ux(og(s),"setDoc",r._key,a,null!==r.converter,n).toMutation(r._key,Ii.none())])}function a6(r,i,n,...s){r=Sn(r,bi);const a=Sn(r.firestore,tr),l=og(a);let h;return h="string"==typeof(i=(0,Wt.m9)(i))||i instanceof Wu?pF(l,"updateDoc",r._key,i,n,s):fF(l,"updateDoc",r._key,i),lv(a,[h.toMutation(r._key,Ii.exists(!0))])}function l6(r,...i){var n,s,a;r=(0,Wt.m9)(r);let l={includeMetadataChanges:!1},h=0;"object"!=typeof i[h]||dF(i[h])||(l=i[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(dF(i[h])){const A=i[h];i[h]=null===(n=A.next)||void 0===n?void 0:n.bind(A),i[h+1]=null===(s=A.error)||void 0===s?void 0:s.bind(A),i[h+2]=null===(a=A.complete)||void 0===a?void 0:a.bind(A)}let _,w,T;if(r instanceof bi)w=Sn(r.firestore,tr),T=ff(r._key.path),_={next:A=>{i[h]&&i[h](bF(w,r,A))},error:i[h+1],complete:i[h+2]};else{const A=Sn(r,Rs);w=Sn(A.firestore,tr),T=A._query;const I=new cg(w);_={next:O=>{i[h]&&i[h](new Sf(w,I,A,O))},error:i[h+1],complete:i[h+2]},Q3(r._query)}return function(A,I,O,B){const $=new Nx(B),le=new AP(I,$,O);return A.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return TP(yield ov(A),le)})),()=>{$.Xo(),A.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return EP(yield ov(A),le)}))}}(Vr(w),T,m,_)}function lv(r,i){return function(n,s){const a=new vr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,i,n){return NP.apply(this,arguments)}(yield lF(n),s,a)})),a.promise}(Vr(r),i)}function bF(r,i,n){const s=n.docs.get(i._key),a=new cg(r);return new Ju(r,a,i._key,s,new lg(n.hasPendingWrites,n.fromCache),i.converter)}class s5 extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=og(i)}get(i){const n=Af(i,this._firestore),s=new W4(this._firestore);return this._transaction.lookup([n._key]).then(a=>{if(!a||1!==a.length)return ht();const l=a[0];if(l.isFoundDocument())return new Z1(this._firestore,s,l.key,l,n.converter);if(l.isNoDocument())return new Z1(this._firestore,s,n._key,null,n.converter);throw ht()})}set(i,n,s){const a=Af(i,this._firestore),l=Yx(a.converter,n,s),h=Ux(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,h),this}update(i,n,s,...a){const l=Af(i,this._firestore);let h;return h="string"==typeof(n=(0,Wt.m9)(n))||n instanceof Wu?pF(this._dataReader,"Transaction.update",l._key,n,s,a):fF(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,h),this}delete(i){const n=Af(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=Af(i,this._firestore),s=new cg(this._firestore);return super.get(i).then(a=>new Ju(this._firestore,s,n._key,a._document,new lg(!1,!1),n.converter))}}function vF(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function c6(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function u6(){if("undefined"==typeof atob)throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){tf=r})(Fh.SDK_VERSION),(0,Fh._registerComponent)(new tc.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new tr(n,new WS(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,Fh.registerVersion)("@firebase/firestore","3.0.2",void 0);class q1{constructor(i){this._delegate=i}static fromBase64String(i){return u6(),new q1(wc.fromBase64String(i))}static fromUint8Array(i){return c6(),new q1(wc.fromUint8Array(i))}toBase64(){return u6(),this._delegate.toBase64()}toUint8Array(){return c6(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wF(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class g5{enableIndexedDbPersistence(i,n){return function(r,i){Z3(r=Sn(r,tr));const n=Vr(r),s=r._freezeSettings(),a=new tF;return H3(n,a,new D3(a,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){Z3(r=Sn(r,tr));const i=Vr(r),n=r._freezeSettings(),s=new tF;return H3(i,s,new i4(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Fe(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new vr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(n=(0,Te.Z)(function*(s){if(!fl.bt())return Promise.resolve();const a=s+"main";yield fl.delete(a)}),function(s){return n.apply(this,arguments)})(zN(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class d6{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof av||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&nf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var a;const l=(r=Sn(r,U1))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==i&&nf("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},l),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let h,m;if("string"==typeof s.mockUserToken)h=s.mockUserToken,m=br.MOCK_USER;else{h=(0,Wt.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new Fe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new br(_)}r._credentials=new bV(new cN(h,m))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,Te.Z)(function*(){const i=yield S3(r),n=yield x3(r);return i.setNetworkEnabled(!0),function(s){const a=je(s);return a.Kr.delete(0),B1(a)}(n)}))}(Vr(r=Sn(r,tr)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,Te.Z)(function*(){const i=yield S3(r),n=yield x3(r);return i.setNetworkEnabled(!1),(s=(0,Te.Z)(function*(a){const l=je(a);l.Kr.add(0),yield Xb(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(n);var s}))}(Vr(r=Sn(r,tr)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,R3("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new vr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,i){return VP.apply(this,arguments)}(yield lF(i),n)})),n.promise}(Vr(r=Sn(r,tr)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new Nx(i);return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return s=yield ov(r),a=n,je(s).Zr.add(a),void a.next();var s,a})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return s=yield ov(r),a=n,void je(s).Zr.delete(a);var s,a}))}}(Vr(r=Sn(r,tr)),dF(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new cv(this,L3(this._delegate,i))}catch(n){throw Ws(n,"collection()","Firestore.collection()")}}doc(i){try{return new Na(this,Lx(this._delegate,i))}catch(n){throw Ws(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Js(this,function(r,i){if(r=Sn(r,U1),uF("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Fe(ve.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(r,null,(n=i,new zo(En.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw Ws(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new vr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const s=yield(a=r,Px(a).then(l=>l.datastore));var a;new o4(r.asyncQueue,s,i,n).run()})),n.promise}(Vr(r),n=>i(new s5(r,n)))}(this._delegate,n=>i(new h6(this,n)))}batch(){return Vr(this._delegate),new f6(new s6(this._delegate,i=>lv(this._delegate,i)))}loadBundle(i){return function(r,i){const n=Vr(r=Sn(r,tr)),s=new v4;return function(r,i,n,s){const a=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return T3(_,w);if(_ instanceof ArrayBuffer)return T3(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new r4(_,h);var _}(n,L1(i));r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function(r,i,n){const s=je(r);var a;(a=(0,Te.Z)(function*(l,h,m){try{const _=yield h.getMetadata();if(yield function(I,O){const B=je(I),$=Br(O.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",le=>B.Je.getBundleMetadata(le,O.id)).then(le=>!!le&&le.createTime.compareTo($)>=0)}(l.localStore,_))return yield h.close(),void m._completeWith((I=_,{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}));m._updateProgress(f3(_));const w=new Pj(_,l.localStore,h.N);let T=yield h.Qo();for(;T;){const I=yield w.fo(T);I&&m._updateProgress(I),T=yield h.Qo()}const A=yield w.complete();yield $u(l,A.Tn,void 0),yield function(I,O){const B=je(I);return B.persistence.runTransaction("Save bundle","readwrite",$=>B.Je.saveBundleMetadata($,O))}(l.localStore,_),m._completeWith(A.progress)}catch(_){nf("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_)}var I}),function(l,h,m){return a.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield lF(r),a,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,Te.Z)(function*(){return function(n,s){const a=je(n);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield aF(r),i)}))}(Vr(r=Sn(r,tr)),i).then(n=>n?new Rs(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Js(this,n):null)}}class Gx extends yF{constructor(i){super(),this.firestore=i}convertBytes(i){return new q1(new wc(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return Na.forKey(n,this.firestore,null)}}class h6{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new Gx(i)}get(i){const n=dg(i);return this._delegate.get(n).then(s=>new j1(this._firestore,new Ju(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const a=dg(i);return s?(vF("Transaction.set",s),this._delegate.set(a,n,s)):this._delegate.set(a,n),this}update(i,n,s,...a){const l=dg(i);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,s,...a),this}delete(i){const n=dg(i);return this._delegate.delete(n),this}}class f6{constructor(i){this._delegate=i}set(i,n,s){const a=dg(i);return s?(vF("WriteBatch.set",s),this._delegate.set(a,n,s)):this._delegate.set(a,n),this}update(i,n,s,...a){const l=dg(i);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,s,...a),this}delete(i){const n=dg(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ug{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new Y1(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new z1(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=ug.INSTANCES;let a=s.get(i);a||(a=new WeakMap,s.set(i,a));let l=a.get(n);return l||(l=new ug(i,new Gx(i),n),a.set(n,l)),l}}ug.INSTANCES=new WeakMap;class Na{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Gx(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new Na(n,new bi(n._delegate,s,new dt(i)))}static forKey(i,n,s){return new Na(n,new bi(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new cv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new cv(this.firestore,L3(this._delegate,i))}catch(n){throw Ws(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Wt.m9)(i))instanceof bi&&B3(this._delegate,i)}set(i,n){n=vF("DocumentReference.set",n);try{return n?o6(this._delegate,i,n):o6(this._delegate,i)}catch(s){throw Ws(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?a6(this._delegate,i):a6(this._delegate,i,n,...s)}catch(a){throw Ws(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return lv(Sn(r.firestore,tr),[new qu(r._key,Ii.none())])}(this._delegate)}onSnapshot(...i){const n=p6(i),s=m6(i,a=>new j1(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return l6(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Sn(r,bi);const i=Sn(r.firestore,tr),n=Vr(i),s=new cg(i);return function(r,i){const n=new vr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(s=(0,Te.Z)(function*(a,l,h){try{const m=yield function(_,w){const T=je(_);return T.persistence.runTransaction("read document","readonly",A=>T.Qn.An(A,w))}(a,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Fe(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=nv(m,`Failed to get document '${l} from cache`);h.reject(_)}}),function(a,l,h){return s.apply(this,arguments)})(yield aF(r),i,n);var s})),n.promise}(n,r._key).then(a=>new Ju(i,s,r._key,a,new lg(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Sn(r,bi);const i=Sn(r.firestore,tr);return A3(Vr(i),r._key,{source:"server"}).then(n=>bF(i,r,n))}(this._delegate):function(r){r=Sn(r,bi);const i=Sn(r.firestore,tr);return A3(Vr(i),r._key).then(n=>bF(i,r,n))}(this._delegate),n.then(s=>new j1(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new Na(this.firestore,this._delegate.withConverter(i?ug.getInstance(this.firestore,i):null))}}function Ws(r,i,n){return r.message=r.message.replace(i,n),r}function p6(r){for(const i of r)if("object"==typeof i&&!wF(i))return i;return{}}function m6(r,i){var n,s;let a;return a=wF(r[0])?r[0]:wF(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:l=>{a.next&&a.next(i(l))},error:null===(n=a.error)||void 0===n?void 0:n.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class j1{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return J3(this._delegate,i._delegate)}}class z1 extends j1{data(i){const n=this._delegate.data(i);return function(r,i){r||ht()}(void 0!==n),n}}class Js{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Gx(i)}where(i,n,s){try{return new Js(this.firestore,xf(this._delegate,function(r,i,n){const s=i,a=Zx("where",r);return new V4(a,s,n)}(i,n,s)))}catch(a){throw Ws(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Js(this.firestore,xf(this._delegate,function(r,i="asc"){const n=i,s=Zx("orderBy",r);return new H4(s,n)}(i,n)))}catch(s){throw Ws(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Js(this.firestore,xf(this._delegate,function(r){return P3("limit",r),new K3("limit",r,"F")}(i)))}catch(n){throw Ws(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Js(this.firestore,xf(this._delegate,function(r){return P3("limitToLast",r),new K3("limitToLast",r,"L")}(i)))}catch(n){throw Ws(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Js(this.firestore,xf(this._delegate,function(...r){return new X3("startAt",r,!0)}(...i)))}catch(n){throw Ws(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Js(this.firestore,xf(this._delegate,function(...r){return new X3("startAfter",r,!1)}(...i)))}catch(n){throw Ws(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Js(this.firestore,xf(this._delegate,function(...r){return new e6("endBefore",r,!0)}(...i)))}catch(n){throw Ws(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Js(this.firestore,xf(this._delegate,function(...r){return new e6("endAt",r,!1)}(...i)))}catch(n){throw Ws(n,"endAt()","Query.endAt()")}}isEqual(i){return V3(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Sn(r,Rs);const i=Sn(r.firestore,tr),n=Vr(i),s=new cg(i);return function(r,i){const n=new vr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(s=(0,Te.Z)(function*(a,l,h){try{const m=yield xx(a,l,!0),_=new g3(l,m.Gn),w=_.Io(m.documents),T=_.applyChanges(w,!1);h.resolve(T.snapshot)}catch(m){const _=nv(m,`Failed to execute query '${l} against cache`);h.reject(_)}}),function(a,l,h){return s.apply(this,arguments)})(yield aF(r),i,n);var s})),n.promise}(n,r._query).then(a=>new Sf(i,s,r,a))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Sn(r,Rs);const i=Sn(r.firestore,tr),n=Vr(i),s=new cg(i);return k3(n,r._query,{source:"server"}).then(a=>new Sf(i,s,r,a))}(this._delegate):function(r){r=Sn(r,Rs);const i=Sn(r.firestore,tr),n=Vr(i),s=new cg(i);return Q3(r._query),k3(n,r._query).then(a=>new Sf(i,s,r,a))}(this._delegate),n.then(s=>new CF(this.firestore,new Sf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=p6(i),s=m6(i,a=>new CF(this.firestore,new Sf(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return l6(this._delegate,n,s)}withConverter(i){return new Js(this.firestore,this._delegate.withConverter(i?ug.getInstance(this.firestore,i):null))}}class y5{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new z1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CF{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new z1(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new y5(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new z1(this._firestore,s))})}isEqual(i){return J3(this._delegate,i._delegate)}}class cv extends Js{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new Na(this.firestore,i):null}doc(i){try{return new Na(this.firestore,void 0===i?Lx(this._delegate):Lx(this._delegate,i))}catch(n){throw Ws(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=Sn(r.firestore,tr),s=Lx(r),a=Yx(r.converter,i);return lv(n,[Ux(og(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,Ii.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new Na(this.firestore,n))}isEqual(i){return B3(this._delegate,i._delegate)}withConverter(i){return new cv(this.firestore,this._delegate.withConverter(i?ug.getInstance(this.firestore,i):null))}}function dg(r){return Sn(r,bi)}class DF{constructor(...i){this._delegate=new Wu(...i)}static documentId(){return new DF(Pr.keyField().canonicalString())}isEqual(i){return(i=(0,Wt.m9)(i))instanceof Wu&&this._delegate._internalPath.isEqual(i._internalPath)}}class hg{constructor(i){this._delegate=i}static serverTimestamp(){const i=new hF("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new hg(i)}static delete(){const i=new H1("deleteField");return i._methodName="FieldValue.delete",new hg(i)}static arrayUnion(...i){const n=function(...r){return new O4("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new hg(n)}static arrayRemove(...i){const n=function(...r){return new N4("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new hg(n)}static increment(i){const n=function(r){return new P4("increment",r)}(i);return n._methodName="FieldValue.increment",new hg(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const b5={Firestore:d6,GeoPoint:Bx,Timestamp:wr,Blob:q1,Transaction:h6,WriteBatch:f6,DocumentReference:Na,DocumentSnapshot:j1,Query:Js,QueryDocumentSnapshot:z1,QuerySnapshot:CF,CollectionReference:cv,FieldPath:DF,FieldValue:hg,setLogLevel:function(r){!function(r){hc.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function g6(r,i){return i?mn(()=>r,i):mn(()=>r)}!function(r){(function(r,i){r.INTERNAL.registerComponent(new tc.wA("firestore-compat",n=>((i,n)=>new d6(i,n,new g5))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},b5)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(oS.Z);var TF=L(9673),_6=L(7841);const y6=new o.OlP("angularfire2.auth.use-emulator"),b6=new o.OlP("angularfire2.auth.settings"),v6=new o.OlP("angularfire2.auth.tenant-id"),w6=new o.OlP("angularfire2.auth.langugage-code"),C6=new o.OlP("angularfire2.auth.use-device-language"),D6=new o.OlP("angularfire.auth.persistence"),T6=(r,i,n,s,a,l,h,m)=>(0,ui.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const _=i.runOutsideAngular(()=>r.auth());if(n&&_.useEmulator(...n),s&&(_.tenantId=s),_.languageCode=a,l&&_.useDeviceLanguage(),h)for(const[w,T]of Object.entries(h))_.settings[w]=T;return m&&_.setPersistence(m),_},[n,s,a,l,h,m]);let MF=(()=>{class r{constructor(n,s,a,l,h,m,_,w,T,A,I){const O=new pe.xQ,B=(0,qe.of)(void 0).pipe((0,Bp.QV)(h.outsideAngular),mn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4828)))),(0,b.U)(()=>(0,bo.on)(n,l,s)),(0,b.U)($=>T6($,l,m,w,T,A,_,I)),va({bufferSize:1,refCount:!1}));if(cs(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{B.pipe($l()).subscribe();const le=B.pipe(mn(He=>He.getRedirectResult().then(We=>We,()=>null)),ui.iC,va({bufferSize:1,refCount:!1})),Re=B.pipe(mn(He=>new kn.y(We=>({unsubscribe:l.runOutsideAngular(()=>He.onAuthStateChanged(wn=>We.next(wn),wn=>We.error(wn),()=>We.complete()))})))),Ve=B.pipe(mn(He=>new kn.y(We=>({unsubscribe:l.runOutsideAngular(()=>He.onIdTokenChanged(wn=>We.next(wn),wn=>We.error(wn),()=>We.complete()))}))));this.authState=le.pipe(g6(Re),(0,TF.R)(h.outsideAngular),(0,Bp.QV)(h.insideAngular)),this.user=le.pipe(g6(Ve),(0,TF.R)(h.outsideAngular),(0,Bp.QV)(h.insideAngular)),this.idToken=this.user.pipe(mn(He=>He?(0,Bn.D)(He.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(mn(He=>He?(0,Bn.D)(He.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,In.T)(le,O,this.authState.pipe(wt(He=>!He))).pipe((0,b.U)(He=>(null==He?void 0:He.user)?He:null),(0,TF.R)(h.outsideAngular),(0,Bp.QV)(h.insideAngular))}return(0,bo.pX)(this,B,l,{spy:{apply:($,le,Re)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&Re.then(Ve=>O.next(Ve))}}})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(bo.Dh),o.LFG(bo.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ui.HU),o.LFG(y6,8),o.LFG(b6,8),o.LFG(v6,8),o.LFG(w6,8),o.LFG(C6,8),o.LFG(D6,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function M6(r,i){return function(r,i=ps.z){return new kn.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function EF(r,i){return M6(r,i).pipe((0,b.U)(n=>({payload:n,type:"query"})))}function qx(r,i){return EF(r,i).pipe($t(void 0),Lp(),(0,b.U)(([n,s])=>{const a=s.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,m)=>{const _=a.find(T=>T.doc.ref.isEqual(h.ref)),w=null==n?void 0:n.payload.docs.find(T=>T.ref.isEqual(h.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(h.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function E6(r,i,n){return qx(r,n).pipe(_y((s,a)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return SF(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return SF(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return SF(r,i.oldIndex,1)}return r}(r,s))}),r}(s,a.map(l=>l.payload),i),[]),vn(),(0,b.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function SF(r,i,n,...s){const a=r.slice();return a.splice(i,n,...s),a}function S6(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class x6{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=qx(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,b.U)(s=>s.filter(a=>i.indexOf(a.type)>-1)))),n.pipe($t(void 0),Lp(),wt(([s,a])=>a.length>0||!s),(0,b.U)(([s,a])=>a),ui.iC)}auditTrail(i){return this.stateChanges(i).pipe(_y((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=S6(i);return E6(this.query,n,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(i={}){return EF(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),ui.iC)}get(i){return(0,Bn.D)(this.query.get(i)).pipe(ui.iC)}add(i){return this.ref.add(i)}doc(i){return new A6(this.ref.doc(i),this.afs)}}class A6{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:a,query:l}=R6(s,n);return new x6(a,l,this.afs)}snapshotChanges(){return function(r,i){return M6(r,i).pipe($t(void 0),Lp(),(0,b.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,b.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Bn.D)(this.ref.get(i)).pipe(ui.iC)}}class S5{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?qx(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),wt(n=>n.length>0),ui.iC):qx(this.query,this.afs.schedulers.outsideAngular).pipe(ui.iC)}auditTrail(i){return this.stateChanges(i).pipe(_y((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=S6(i);return E6(this.query,n,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(i={}){return EF(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(s=>s.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),ui.iC)}get(i){return(0,Bn.D)(this.query.get(i)).pipe(ui.iC)}}const k6=new o.OlP("angularfire2.enableFirestorePersistence"),I6=new o.OlP("angularfire2.firestore.persistenceSettings"),x5=new o.OlP("angularfire2.firestore.settings"),A5=new o.OlP("angularfire2.firestore.use-emulator");function R6(r,i=(n=>n)){return{query:i(r),ref:r}}let Qu=(()=>{class r{constructor(n,s,a,l,h,m,_,w,T,A,I,O,B,$,le,Re){this.schedulers=_;const Ve=(0,bo.on)(n,m,s),He=T;A&&T6(Ve,m,I,B,$,le,O,Re),[this.firestore,this.persistenceEnabled$]=(0,ui.cc)(`${Ve.name}.firestore`,"AngularFirestore",Ve.name,()=>{const We=m.runOutsideAngular(()=>Ve.firestore());if(l&&We.settings(l),He&&We.useEmulator(...He),a&&!cs(h)){const wn=()=>{try{return(0,Bn.D)(We.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(vi){return"undefined"!=typeof console&&console.warn(vi),(0,qe.of)(!1)}};return[We,m.runOutsideAngular(wn)]}return[We,(0,qe.of)(!1)]},[l,He,a])}collection(n,s){let a;a="string"==typeof n?this.firestore.collection(n):n;const{ref:l,query:h}=R6(a,s),m=this.schedulers.ngZone.run(()=>l);return new x6(m,h,this)}collectionGroup(n,s){const a=s||(h=>h),l=this.firestore.collectionGroup(n);return new S5(a(l),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const a=this.schedulers.ngZone.run(()=>s);return new A6(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(bo.Dh),o.LFG(bo.xv,8),o.LFG(k6,8),o.LFG(x5,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ui.HU),o.LFG(I6,8),o.LFG(A5,8),o.LFG(MF,8),o.LFG(y6,8),o.LFG(b6,8),o.LFG(v6,8),o.LFG(w6,8),o.LFG(C6,8),o.LFG(D6,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),k5=(()=>{class r{constructor(){_6.Z.registerVersion("angularfire",ui.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:k6,useValue:!0},{provide:I6,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Qu]}),r})(),kf=(()=>{class r{constructor(n){this.angularFirestore=n,this.photos=[],this.photosCarousel=[],this.photosAValider=[],this.photoSubject=new pe.xQ,this.photosCarouselSubject=new pe.xQ}emitPhoto(){this.photoSubject.next(this.photos)}emitPhotoCarousel(){this.photosCarouselSubject.next(this.photosCarousel)}addPhoto(n){this.angularFirestore.collection("Photos").add({annee:n.annee,auteur:n.auteur,listeEleves:n.listeEleves,photo:n.photo,titre:n.titre,status:Jn.initial})}getPhotos(){return this.angularFirestore.collection("Photos").get().subscribe(n=>{this.photos=n.docs.map(s=>{let a=s.data();return a.id=s.id,a}),this.photos.length>0&&(this.currentPhoto=this.photos[0]),this.emitPhoto()})}getPhotosCarousel(){this.angularFirestore.collection("Carousel",n=>n.orderBy("indice")).get().subscribe(n=>{this.photosCarousel=n.docs.map(s=>{let a=s.data();return a.id=s.id,a})}),this.emitPhotoCarousel()}getPhoto(n){return this.angularFirestore.collection("Photos").doc(n).get()}getPhotosByPeriode(n,s){return this.angularFirestore.collection("Photos").get()}updatePhoto(n){console.log(n),this.angularFirestore.collection("Photos").doc(n.id).update({auteur:n.auteur,titre:n.titre,annee:n.annee,listeEleves:n.listeEleves,photo:n.photo,status:n.status})}getPhotosAValider(){return this.angularFirestore.collection("Photos",n=>n.where("status","==",0)).get()}validerPhoto(n){return this.angularFirestore.collection("Photos").doc(n.id).update({status:Jn.valide})}rejeterPhoto(n){return this.angularFirestore.collection("Photos").doc(n.id).update({status:Jn.rejete})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),uv=(()=>{class r{constructor(n){this.angulatFirestore=n}getUsers(){return this.angulatFirestore.collection("Users").get()}getUser(n){return this.angulatFirestore.collection("Users").doc(n).get()}getUserByUid(n){return this.angulatFirestore.collection("Users",s=>s.where("uid","==",n)).get()}addUser(n){return this.angulatFirestore.collection("Users").add({nom:n.nom,prenom:n.prenom,email:n.email,emailVerified:n.emailVerified,uid:n.uid,status:n.status})}changeDroitsUser(n,s){console.log(n+"  "+s),this.angulatFirestore.collection("Users").doc(n).update({status:s})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$1=(()=>{class r{constructor(n){this.angularFirestore=n,this.themes=[]}getThemes(){this.angularFirestore.collection("Themes").get().subscribe(n=>{this.themes=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.themes.length>0&&null==this.currentTheme&&(this.currentTheme=this.themes[0])}getTheme(n){return this.angularFirestore.collection("Themes").doc(n).get()}addTheme(n){return this.angularFirestore.collection("Themes").add({nom:n.nom,status:n.status})}changeCurrentTheme(n){this.currentTheme=n}VideListeThemes(){this.themes.splice(0),this.currentTheme=void 0}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ku=(()=>{class r{constructor(n,s,a){this.angularFirestore=n,this.usersService=s,this.themesService=a,this.articles=[],this.articlesSubject=new pe.xQ}emitArticles(){this.articlesSubject.next(this.articles)}addArticle(n){return this.angularFirestore.collection("Articles").add({auteur:n.auteur,titre:n.titre,texte:n.texte,date:n.date,idTheme:n.idTheme.trim(),photo:n.photo,legende:n.legende,status:Jn.initial})}getArticles(){this.angularFirestore.collection("Articles",n=>n.where("status",">",Jn.initial)).get().subscribe(n=>{this.articles=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.emitArticles()})}getArticle(n){return this.angularFirestore.collection("Articles").doc(n).get()}getArticlesCurrentTheme(){this.angularFirestore.collection("Articles",n=>n.where("idTheme","==",this.themesService.currentTheme.id).where("status","==",Jn.valide)).get().subscribe(n=>{this.themesService.currentTheme.articles=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.themesService.currentTheme.articles.forEach(s=>{this.usersService.getUserByUid(s.auteur.trim()).subscribe(a=>{a.docs.filter(l=>{s.nomAuteur=l.data().prenom})})})}),this.articles.length>0&&(this.currentArticle=this.articles[0])}getArticlesAValider(){return this.angularFirestore.collection("Articles",n=>n.where("status","==",Jn.initial)).get()}valideArticle(n){return this.angularFirestore.collection("Articles").doc(n.id).update({status:Jn.valide})}rejeteArticle(n){return this.angularFirestore.collection("Articles").doc(n.id).update({status:Jn.rejete})}ChangeCurrentArticle(n){this.currentArticle=n}AddArticleToTheme(n,s){return s.articles.push(n),this.addArticle(n)}updateArticle(n){return console.log(n.id),void 0===n.photo?this.angularFirestore.collection("Articles").doc(n.id).update({titre:n.titre,texte:n.texte,legende:n.legende,date:n.date,idTheme:n.idTheme.trim(),status:n.status}):this.angularFirestore.collection("Articles").doc(n.id).update({titre:n.titre,texte:n.texte,legende:n.legende,date:n.date,idTheme:n.idTheme.trim(),status:n.status,photo:n.photo})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu),o.LFG(uv),o.LFG($1))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),jx=(()=>{class r{constructor(n,s){this.angularFirestore=n,this.usersService=s,this.actualites=[],this.actualitesSubject=new pe.xQ}emitActualites(){console.log("emit"),this.actualitesSubject.next(this.actualites)}getActualites(){this.angularFirestore.collection("Actualites",n=>n.where("status","==",Jn.valide)).get().subscribe(n=>{this.actualites=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.emitActualites()})}getActualitesNonSelect(){return this.angularFirestore.collection("Actualites",n=>n.where("status","==",Jn.initial)).get()}getActualite(n){return this.angularFirestore.collection("Actualites").doc(n).get()}AddActualite(n){this.angularFirestore.collection("Actualites").add({auteur:n.auteur,titre:n.titre,sousTitre:n.sousTitre,texte:n.texte,date:n.date,photo:n.photo,status:n.status}).then(()=>{this.getActualites()})}UpdateActualite(n){this.angularFirestore.collection("Actualites").doc(n.id).update({titre:n.titre,sousTitre:n.sousTitre,texte:n.texte}).then(()=>{this.getActualites()})}SupprimeActualite(n){this.angularFirestore.collection("Actualites").doc(n.id).update({status:Jn.supprime}).then(()=>{this.getActualites()})}DesactiveActualite(n){this.angularFirestore.collection("Actualites").doc(n.id).update({status:Jn.initial}).then(()=>{this.getActualites()})}ValideActualite(n){this.angularFirestore.collection("Actualites").doc(n.id).update({status:Jn.valide}).then(()=>{this.getActualites()})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu),o.LFG(uv))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class zx{constructor(i,n,s,a,l,h,m){this.id=i,this.uid=n,this.nom=s,this.prenom=a,this.email=l,this.emailVerified=h,this.status=m}}const O6=new o.GfV("12.2.5");class N6{}const Xu="*";function Ui(r,i){return{type:7,name:r,definitions:i,options:{}}}function _n(r,i=null){return{type:4,styles:i,timings:r}}function P6(r,i=null){return{type:2,steps:r,options:i}}function Qe(r){return{type:6,styles:r,offset:null}}function Jt(r,i,n){return{type:0,name:r,styles:i,options:n}}function hn(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function B6(r){Promise.resolve(null).then(r)}class dv{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){B6(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class V6{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,a=0;const l=this.players.length;0==l?B6(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++n==l&&this._onFinish()}),h.onDestroy(()=>{++s==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(a)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function U6(){return"undefined"!=typeof window&&void 0!==window.document}function AF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function If(r){switch(r.length){case 0:return new dv;case 1:return r[0];default:return new V6(r)}}function H6(r,i,n,s,a={},l={}){const h=[],m=[];let _=-1,w=null;if(s.forEach(T=>{const A=T.offset,I=A==_,O=I&&w||{};Object.keys(T).forEach(B=>{let $=B,le=T[B];if("offset"!==B)switch($=i.normalizePropertyName($,h),le){case"!":le=a[B];break;case Xu:le=l[B];break;default:le=i.normalizeStyleValue(B,$,le,h)}O[$]=le}),I||m.push(O),w=O,_=A}),h.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${h.join(T)}`)}return m}function kF(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&IF(n,"start",r)));break;case"done":r.onDone(()=>s(n&&IF(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&IF(n,"destroy",r)))}}function IF(r,i,n){const s=n.totalTime,l=RF(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),h=r._data;return null!=h&&(l._data=h),l}function RF(r,i,n,s,a="",l=0,h){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:a,totalTime:l,disabled:!!h}}function Jo(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function Z6(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let OF=(r,i)=>!1,NF=(r,i)=>!1,Y6=(r,i,n)=>[];const G6=AF();(G6||"undefined"!=typeof Element)&&(OF=U6()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),NF=(()=>{if(G6||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):NF}})(),Y6=(r,i,n)=>{let s=[];if(n){const a=r.querySelectorAll(i);for(let l=0;l<a.length;l++)s.push(a[l])}else{const a=r.querySelector(i);a&&s.push(a)}return s});let pg=null,q6=!1;function PF(r){pg||(pg=("undefined"!=typeof document?document.body:null)||{},q6=!!pg.style&&"WebkitAppearance"in pg.style);let i=!0;return pg.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in pg.style,!i&&q6&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in pg.style)),i}const FF=NF,LF=OF,BF=Y6;function j6(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let z6=(()=>{class r{validateStyleProperty(n){return PF(n)}matchesElement(n,s){return FF(n,s)}containsElement(n,s){return LF(n,s)}query(n,s,a){return BF(n,s,a)}computeStyle(n,s,a){return a||""}animate(n,s,a,l,h,m=[],_){return new dv(a,l)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class $x{}$x.NOOP=new z6;const VF="ng-enter",Wx="ng-leave",Jx="ng-trigger",Qx=".ng-trigger",W6="ng-animating",UF=".ng-animating";function mg(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:HF(parseFloat(i[1]),i[2])}function HF(r,i){switch(i){case"s":return 1e3*r;default:return r}}function Kx(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let a,l=0,h="";if("string"==typeof r){const m=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};a=HF(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(l=HF(parseFloat(_),m[4]));const w=m[5];w&&(h=w)}else a=r;if(!n){let m=!1,_=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&i.splice(_,0,`The provided timing value "${r}" is invalid.`)}return{duration:a,delay:l,easing:h}}(r,i,n)}function hv(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function Rf(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else hv(r,n);return n}function Q6(r,i,n){return n?i+":"+n+";":""}function K6(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=Q6(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=Q6(0,V5(n),r.style[n]));r.setAttribute("style",i)}function Cc(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const a=YF(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[a]),r.style[a]=i[s]}),AF()&&K6(r))}function gg(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=YF(n);r.style[s]=""}),AF()&&K6(r))}function W1(r){return Array.isArray(r)?1==r.length?r[0]:P6(r):r}const ZF=new RegExp("{{\\s*(.+?)\\s*}}","g");function X6(r){let i=[];if("string"==typeof r){let n;for(;n=ZF.exec(r);)i.push(n[1]);ZF.lastIndex=0}return i}function Xx(r,i,n){const s=r.toString(),a=s.replace(ZF,(l,h)=>{let m=i[h];return i.hasOwnProperty(h)||(n.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return a==s?r:a}function eA(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const B5=/-+([a-z0-9])/g;function YF(r){return r.replace(B5,(...i)=>i[1].toUpperCase())}function V5(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eU(r,i){return 0===r||0===i}function tU(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let l=i[0],h=[];if(s.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=n[m]}),h.length)for(var a=1;a<i.length;a++){let m=i[a];h.forEach(function(_){m[_]=GF(r,_)})}}return i}function Qo(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function GF(r,i){return window.getComputedStyle(r)[i]}function U5(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const _=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof _)return void i.push(_);r=_}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const a=s[1],l=s[2],h=s[3];i.push(nU(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&i.push(nU(h,a))}(s,n,i)):n.push(r),n}const nA=new Set(["true","1"]),iA=new Set(["false","0"]);function nU(r,i){const n=nA.has(r)||iA.has(r),s=nA.has(i)||iA.has(i);return(a,l)=>{let h="*"==r||r==a,m="*"==i||i==l;return!h&&n&&"boolean"==typeof a&&(h=a?nA.has(r):iA.has(r)),!m&&s&&"boolean"==typeof l&&(m=l?nA.has(i):iA.has(i)),h&&m}}const Y5=new RegExp("s*:selfs*,?","g");function qF(r,i,n){return new G5(r).build(i,n)}class G5{constructor(i){this._driver=i}build(i,n){const s=new z5(n);return this._resetContextStyleTimingState(s),Qo(this,W1(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,a=n.depCount=0;const l=[],h=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(m=>{if(this._resetContextStyleTimingState(n),0==m.type){const _=m,w=_.name;w.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,l.push(this.visitState(_,n))}),_.name=w}else if(1==m.type){const _=this.visitTransition(m,n);s+=_.queryCount,a+=_.depCount,h.push(_)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:h,queryCount:s,depCount:a,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),a=i.options&&i.options.params||null;if(s.containsDynamicStyles){const l=new Set,h=a||{};if(s.styles.forEach(m=>{if(rA(m)){const _=m;Object.keys(_).forEach(w=>{X6(_[w]).forEach(T=>{h.hasOwnProperty(T)||l.add(T)})})}}),l.size){const m=eA(l.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:i.name,style:s,options:a?{params:a}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=Qo(this,W1(i.animation),n);return{type:1,matchers:U5(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:_g(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>Qo(this,s,n)),options:_g(i.options)}}visitGroup(i,n){const s=n.currentTime;let a=0;const l=i.steps.map(h=>{n.currentTime=s;const m=Qo(this,h,n);return a=Math.max(a,n.currentTime),m});return n.currentTime=a,{type:3,steps:l,options:_g(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return jF(Kx(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=jF(0,0,"");return l.dynamic=!0,l.strValue=s,l}return n=n||Kx(s,i),jF(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let a,l=i.styles?i.styles:Qe({});if(5==l.type)a=this.visitKeyframes(l,n);else{let h=i.styles,m=!1;if(!h){m=!0;const w={};s.easing&&(w.easing=s.easing),h=Qe(w)}n.currentTime+=s.duration+s.delay;const _=this.visitStyle(h,n);_.isEmptyStep=m,a=_}return n.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(h=>{"string"==typeof h?h==Xu?s.push(h):n.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(i.styles);let a=!1,l=null;return s.forEach(h=>{if(rA(h)){const m=h,_=m.easing;if(_&&(l=_,delete m.easing),!a)for(let w in m)if(m[w].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let a=n.currentTime,l=n.currentTime;s&&l>0&&(l-=s.duration+s.delay),i.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void n.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const _=n.collectedStyles[n.currentQuerySelector],w=_[m];let T=!0;w&&(l!=a&&l>=w.startTime&&a<=w.endTime&&(n.errors.push(`The CSS property "${m}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),T=!1),l=w.startTime),T&&(_[m]={startTime:l,endTime:a}),n.options&&function(r,i,n){const s=i.params||{},a=X6(r);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||n.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let l=0;const h=[];let m=!1,_=!1,w=0;const T=i.steps.map(Re=>{const Ve=this._makeStyleAst(Re,n);let He=null!=Ve.offset?Ve.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(rA(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(rA(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(Ve.styles),We=0;return null!=He&&(l++,We=Ve.offset=He),_=_||We<0||We>1,m=m||We<w,w=We,h.push(We),Ve});_&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&n.errors.push("Please ensure that all keyframe offsets are in order");const A=i.steps.length;let I=0;l>0&&l<A?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(I=1/(A-1));const O=A-1,B=n.currentTime,$=n.currentAnimateTimings,le=$.duration;return T.forEach((Re,Ve)=>{const He=I>0?Ve==O?1:I*Ve:h[Ve],We=He*le;n.currentTime=B+$.delay+We,$.duration=We,this._validateStyleAst(Re,n),Re.offset=He,s.styles.push(Re)}),s}visitReference(i,n){return{type:8,animation:Qo(this,W1(i.animation),n),options:_g(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:_g(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:_g(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,a=i.options||{};n.queryCount++,n.currentQuery=i;const[l,h]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(Y5,"")),[r=r.replace(/@\*/g,Qx).replace(/@\w+/g,n=>Qx+"-"+n.substr(1)).replace(/:animating/g,UF),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+l:l,Jo(n.collectedStyles,n.currentQuerySelector,{});const m=Qo(this,W1(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:m,originalSelector:i.selector,options:_g(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:Kx(i.timings,n.errors,!0);return{type:12,animation:Qo(this,W1(i.animation),n),timings:s,options:null}}}class z5{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rA(r){return!Array.isArray(r)&&"object"==typeof r}function _g(r){return r?(r=hv(r)).params&&(r.params=function(r){return r?hv(r):null}(r.params)):r={},r}function jF(r,i,n){return{duration:r,delay:i,easing:n}}function zF(r,i,n,s,a,l,h=null,m=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:m}}class sA{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const K5=new RegExp(":enter","g"),ez=new RegExp(":leave","g");function $F(r,i,n,s,a,l={},h={},m,_,w=[]){return(new tz).buildKeyframes(r,i,n,s,a,l,h,m,_,w)}class tz{buildKeyframes(i,n,s,a,l,h,m,_,w,T=[]){w=w||new sA;const A=new WF(i,n,w,a,l,T,[]);A.options=_,A.currentTimeline.setStyles([h],null,A.errors,_),Qo(this,s,A);const I=A.timelines.filter(O=>O.containsAnimation());if(I.length&&Object.keys(m).length){const O=I[I.length-1];O.allowOnlyTimelineStyles()||O.setStyles([m],null,A.errors,_)}return I.length?I.map(O=>O.buildKeyframes()):[zF(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const a=n.createSubContext(i.options),l=n.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);l!=h&&n.transformIntoNewTimeline(h)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let l=n.currentTimeline.currentTime;const h=null!=s.duration?mg(s.duration):null,m=null!=s.delay?mg(s.delay):null;return 0!==h&&i.forEach(_=>{const w=n.appendInstructionToTimeline(_,h,m);l=Math.max(l,w.duration+w.delay)}),l}visitReference(i,n){n.updateOptions(i.options,!0),Qo(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let a=n;const l=i.options;if(l&&(l.params||l.delay)&&(a=n.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=oA);const h=mg(l.delay);a.delayNextStep(h)}i.steps.length&&(i.steps.forEach(h=>Qo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let a=n.currentTimeline.currentTime;const l=i.options&&i.options.delay?mg(i.options.delay):0;i.steps.forEach(h=>{const m=n.createSubContext(i.options);l&&m.delayNextStep(l),Qo(this,h,m),a=Math.max(a,m.currentTimeline.currentTime),s.push(m.currentTimeline)}),s.forEach(h=>n.currentTimeline.mergeTimelineCollectedStyles(h)),n.transformIntoNewTimeline(a),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return Kx(n.params?Xx(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),a=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,n):(n.incrementTime(s.duration),this.visitStyle(l,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,a=n.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(l):s.setStyles(i.styles,l,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,a=n.currentTimeline.duration,l=s.duration,m=n.createSubContext().currentTimeline;m.easing=s.easing,i.styles.forEach(_=>{m.forwardTime((_.offset||0)*l),m.setStyles(_.styles,_.easing,n.errors,n.options),m.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(m),n.transformIntoNewTimeline(a+l),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,a=i.options||{},l=a.delay?mg(a.delay):0;l&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=oA);let h=s;const m=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=m.length;let _=null;m.forEach((w,T)=>{n.currentQueryIndex=T;const A=n.createSubContext(i.options,w);l&&A.delayNextStep(l),w===n.element&&(_=A.currentTimeline),Qo(this,i.animation,A),A.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,A.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(h),_&&(n.currentTimeline.mergeTimelineCollectedStyles(_),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,a=n.currentTimeline,l=i.timings,h=Math.abs(l.duration),m=h*(n.currentQueryTotal-1);let _=h*n.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=m-_;break;case"full":_=s.currentStaggerTime}const T=n.currentTimeline;_&&T.delayNextStep(_);const A=T.currentTime;Qo(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=a.currentTime-A+(a.startTime-s.currentTimeline.startTime)}}const oA={};class WF{constructor(i,n,s,a,l,h,m,_){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new aA(this._driver,n,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let a=this.options;null!=s.duration&&(a.duration=mg(s.duration)),null!=s.delay&&(a.delay=mg(s.delay));const l=s.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!n||!h.hasOwnProperty(m))&&(h[m]=Xx(l[m],h,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(a=>{s[a]=n[a]})}}return i}createSubContext(i=null,n,s){const a=n||this.element,l=new WF(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=oA,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const a={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},l=new nz(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,a,l,h){let m=[];if(a&&m.push(this.element),i.length>0){i=(i=i.replace(K5,"."+this._enterClassName)).replace(ez,"."+this._leaveClassName);let w=this._driver.query(this.element,i,1!=s);0!==s&&(w=s<0?w.slice(w.length+s,w.length):w.slice(0,s)),m.push(...w)}return!l&&0==m.length&&h.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),m}}class aA{constructor(i,n,s,a){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new aA(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Xu,this._currentKeyframe[n]=Xu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,a){n&&(this._previousKeyframe.easing=n);const l=a&&a.params||{},h=function(r,i){const n={};let s;return r.forEach(a=>{"*"===a?(s=s||Object.keys(i),s.forEach(l=>{n[l]=Xu})):Rf(a,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const _=Xx(h[m],l,s);this._pendingStyles[m]=_,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Xu),this._updateStyle(m,_)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],a=i._styleSummary[n];(!s||a.time>s.time)&&this._updateStyle(n,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,_)=>{const w=Rf(m,!0);Object.keys(w).forEach(T=>{const A=w[T];"!"==A?i.add(T):A==Xu&&n.add(T)}),s||(w.offset=_/this.duration),a.push(w)});const l=i.size?eA(i.values()):[],h=n.size?eA(n.values()):[];if(s){const m=a[0],_=hv(m);m.offset=0,_.offset=1,a=[m,_]}return zF(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class nz extends aA{constructor(i,n,s,a,l,h,m=!1){super(i,n,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){const l=[],h=s+n,m=n/h,_=Rf(i[0],!1);_.offset=0,l.push(_);const w=Rf(i[0],!1);w.offset=sU(m),l.push(w);const T=i.length-1;for(let A=1;A<=T;A++){let I=Rf(i[A],!1);I.offset=sU((n+I.offset*s)/h),l.push(I)}s=h,n=0,a="",i=l}return zF(this.element,i,this.preStyleProps,this.postStyleProps,s,n,a,!0)}}function sU(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class JF{}class rz extends JF{normalizePropertyName(i,n){return YF(i)}normalizeStyleValue(i,n,s,a){let l="";const h=s.toString().trim();if(sz[n]&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const m=s.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(`Please provide a CSS unit value for ${i}:${s}`)}return h+l}}const sz=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function oU(r,i,n,s,a,l,h,m,_,w,T,A,I){return{type:0,element:r,triggerName:i,isRemovalTransition:a,fromState:n,fromStyles:l,toState:s,toStyles:h,timelines:m,queriedElements:_,preStyleProps:w,postStyleProps:T,totalTime:A,errors:I}}const QF={};class aU{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,a){return function(r,i,n,s,a){return r.some(l=>l(i,n,s,a))}(this.ast.matchers,i,n,s,a)}buildStyles(i,n,s){const a=this._stateStyles["*"],l=this._stateStyles[i],h=a?a.buildStyles(n,s):{};return l?l.buildStyles(n,s):h}build(i,n,s,a,l,h,m,_,w,T){const A=[],I=this.ast.options&&this.ast.options.params||QF,B=this.buildStyles(s,m&&m.params||QF,A),$=_&&_.params||QF,le=this.buildStyles(a,$,A),Re=new Set,Ve=new Map,He=new Map,We="void"===a,wn={params:Object.assign(Object.assign({},I),$)},vi=T?[]:$F(i,n,this.ast.animation,l,h,B,le,wn,w,A);let or=0;if(vi.forEach(ta=>{or=Math.max(ta.duration+ta.delay,or)}),A.length)return oU(n,this._triggerName,s,a,We,B,le,[],[],Ve,He,or,A);vi.forEach(ta=>{const od=ta.element,Eq=Jo(Ve,od,{});ta.preStyleProps.forEach(Ig=>Eq[Ig]=!0);const DD=Jo(He,od,{});ta.postStyleProps.forEach(Ig=>DD[Ig]=!0),od!==n&&Re.add(od)});const Ni=eA(Re.values());return oU(n,this._triggerName,s,a,We,B,le,vi,Ni,Ve,He,or)}}class lz{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},a=hv(this.defaultParams);return Object.keys(i).forEach(l=>{const h=i[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let _=h[m];_.length>1&&(_=Xx(_,a,n));const w=this.normalizer.normalizePropertyName(m,n);_=this.normalizer.normalizeStyleValue(m,w,_,n),s[w]=_})}}),s}}class uz{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(a=>{this.states[a.name]=new lz(a.style,a.options&&a.options.params||{},s)}),lU(this.states,"true","1"),lU(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new aU(i,a,this.states))}),this.fallbackTransition=function(r,i,n){return new aU(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,a){return this.transitionFactories.find(h=>h.match(i,n,s,a))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function lU(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const hz=new sA;class fz{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],a=qF(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=a}_buildPlayer(i,n,s){const a=i.element,l=H6(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const a=[],l=this._animations[i];let h;const m=new Map;if(l?(h=$F(this._driver,n,l,VF,Wx,{},{},s,hz,a),h.forEach(T=>{const A=Jo(m,T.element,{});T.postStyleProps.forEach(I=>A[I]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);m.forEach((T,A)=>{Object.keys(T).forEach(I=>{T[I]=this._driver.computeStyle(A,I,Xu)})});const w=If(h.map(T=>{const A=m.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[i]=w,w.onDestroy(()=>this.destroy(i)),this.players.push(w),w}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,a){const l=RF(n,"","","");return kF(this._getPlayer(i),s,l,a),()=>{}}command(i,n,s,a){if("register"==s)return void this.register(i,a[0]);if("create"==s)return void this.create(i,n,a[0]||{});const l=this._getPlayer(i);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const cU="ng-animate-queued",uU="ng-animate-disabled",dU=".ng-animate-disabled",_z=[],hU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pa="__ng_removed";class KF{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const l=hv(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(a=>{null==s[a]&&(s[a]=n[a])})}}}const J1="void",XF=new KF(J1);class bz{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Fa(n,this._hostClassName)}listen(i,n,s,a){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const l=Jo(this._elementListeners,i,[]),h={name:n,phase:s,callback:a};l.push(h);const m=Jo(this._engine.statesByElement,i,{});return m.hasOwnProperty(n)||(Fa(i,Jx),Fa(i,Jx+"-"+n),m[n]=XF),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(h);_>=0&&l.splice(_,1),this._triggers[n]||delete m[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,a=!0){const l=this._getTrigger(n),h=new eL(this.id,n,i);let m=this._engine.statesByElement.get(i);m||(Fa(i,Jx),Fa(i,Jx+"-"+n),this._engine.statesByElement.set(i,m={}));let _=m[n];const w=new KF(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),m[n]=w,_||(_=XF),w.value!==J1&&_.value===w.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let a=0;a<n.length;a++){const l=n[a];if(!i.hasOwnProperty(l)||r[l]!==i[l])return!1}return!0}(_.params,w.params)){const $=[],le=l.matchStyles(_.value,_.params,$),Re=l.matchStyles(w.value,w.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{gg(i,le),Cc(i,Re)})}return}const I=Jo(this._engine.playersByElement,i,[]);I.forEach($=>{$.namespaceId==this.id&&$.triggerName==n&&$.queued&&$.destroy()});let O=l.matchTransition(_.value,w.value,i,w.params),B=!1;if(!O){if(!a)return;O=l.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:O,fromState:_,toState:w,player:h,isFallbackTransition:B}),B||(Fa(i,cU),h.onStart(()=>{fv(i,cU)})),h.onDone(()=>{let $=this.players.indexOf(h);$>=0&&this.players.splice($,1);const le=this._engine.playersByElement.get(i);if(le){let Re=le.indexOf(h);Re>=0&&le.splice(Re,1)}}),this.players.push(h),I.push(h),h}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,Qx,!0);s.forEach(a=>{if(a[Pa])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,n,s,a){const l=this._engine.statesByElement.get(i);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const _=this.trigger(i,m,J1,a);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&If(h).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const a=new Set;n.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const _=this._triggers[h].fallbackTransition,w=s[h]||XF,T=new KF(J1),A=new eL(this.id,h,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:h,transition:_,fromState:w,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let h=i;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)s.markElementAsRemoved(this.id,i,!1,n);else{const l=i[Pa];(!l||l===hU)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Fa(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==s.triggerName){const _=RF(l,s.triggerName,s.fromState.value,s.toState.value);_._data=i,kF(s.player,m.phase,_,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(s)}),this._queue=[],n.sort((s,a)=>{const l=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class vz{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new bz(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let l=s;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,n)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let a=this._namespaceLookup[i];a&&a.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const a=Object.keys(s);for(let l=0;l<a.length;l++){const h=s[a[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&n.add(m)}}}return n}trigger(i,n,s,a){if(lA(n)){const l=this._fetchNamespace(i);if(l)return l.trigger(n,s,a),!0}return!1}insertNode(i,n,s,a){if(!lA(n))return;const l=n[Pa];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(n);h>=0&&this.collectedLeaveElements.splice(h,1)}if(i){const h=this._fetchNamespace(i);h&&h.insertNode(n,s)}a&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Fa(i,uU)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),fv(i,uU))}removeNode(i,n,s,a){if(lA(n)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(n,a):this.markElementAsRemoved(i,n,!1,a),s){const h=this.namespacesByHostElement.get(n);h&&h.id!==i&&h.removeNode(n,a)}}else this._onRemovalComplete(n,a)}markElementAsRemoved(i,n,s,a){this.collectedLeaveElements.push(n),n[Pa]={namespaceId:i,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,a,l){return lA(n)?this._fetchNamespace(i).listen(n,s,a,l):()=>{}}_buildInstruction(i,n,s,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,a,i.fromState.options,i.toState.options,n,l)}destroyInnerAnimations(i){let n=this.driver.query(i,Qx,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,UF,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return If(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Pa];if(n&&n.setForRemoval){if(i[Pa]=hU,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,dU)&&this.markElementAsDisabled(i,!1),this.driver.query(i,dU,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Fa(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?If(n).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new sA,a=[],l=new Map,h=[],m=new Map,_=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(ut=>{T.add(ut);const Tt=this.driver.query(ut,".ng-animate-queued",!0);for(let Gt=0;Gt<Tt.length;Gt++)T.add(Tt[Gt])});const A=this.bodyNode,I=Array.from(this.statesByElement.keys()),O=mU(I,this.collectedEnterElements),B=new Map;let $=0;O.forEach((ut,Tt)=>{const Gt=VF+$++;B.set(Tt,Gt),ut.forEach(xn=>Fa(xn,Gt))});const le=[],Re=new Set,Ve=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Tt=this.collectedLeaveElements[ut],Gt=Tt[Pa];Gt&&Gt.setForRemoval&&(le.push(Tt),Re.add(Tt),Gt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(xn=>Re.add(xn)):Ve.add(Tt))}const He=new Map,We=mU(I,Array.from(Re));We.forEach((ut,Tt)=>{const Gt=Wx+$++;He.set(Tt,Gt),ut.forEach(xn=>Fa(xn,Gt))}),i.push(()=>{O.forEach((ut,Tt)=>{const Gt=B.get(Tt);ut.forEach(xn=>fv(xn,Gt))}),We.forEach((ut,Tt)=>{const Gt=He.get(Tt);ut.forEach(xn=>fv(xn,Gt))}),le.forEach(ut=>{this.processLeaveNode(ut)})});const wn=[],vi=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(n).forEach(Gt=>{const xn=Gt.player,is=Gt.element;if(wn.push(xn),this.collectedEnterElements.length){const xc=is[Pa];if(xc&&xc.setForMove)return void xn.destroy()}const Sc=!A||!this.driver.containsElement(A,is),na=He.get(is),$f=B.get(is),ar=this._buildInstruction(Gt,s,$f,na,Sc);if(ar.errors&&ar.errors.length)vi.push(ar);else{if(Sc)return xn.onStart(()=>gg(is,ar.fromStyles)),xn.onDestroy(()=>Cc(is,ar.toStyles)),void a.push(xn);if(Gt.isFallbackTransition)return xn.onStart(()=>gg(is,ar.fromStyles)),xn.onDestroy(()=>Cc(is,ar.toStyles)),void a.push(xn);ar.timelines.forEach(xc=>xc.stretchStartingKeyframe=!0),s.append(is,ar.timelines),h.push({instruction:ar,player:xn,element:is}),ar.queriedElements.forEach(xc=>Jo(m,xc,[]).push(xn)),ar.preStyleProps.forEach((xc,TD)=>{const dk=Object.keys(xc);if(dk.length){let Rg=_.get(TD);Rg||_.set(TD,Rg=new Set),dk.forEach(Y2=>Rg.add(Y2))}}),ar.postStyleProps.forEach((xc,TD)=>{const dk=Object.keys(xc);let Rg=w.get(TD);Rg||w.set(TD,Rg=new Set),dk.forEach(Y2=>Rg.add(Y2))})}});if(vi.length){const ut=[];vi.forEach(Tt=>{ut.push(`@${Tt.triggerName} has failed due to:\n`),Tt.errors.forEach(Gt=>ut.push(`- ${Gt}\n`))}),wn.forEach(Tt=>Tt.destroy()),this.reportError(ut)}const or=new Map,Ni=new Map;h.forEach(ut=>{const Tt=ut.element;s.has(Tt)&&(Ni.set(Tt,Tt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,or))}),a.forEach(ut=>{const Tt=ut.element;this._getPreviousPlayers(Tt,!1,ut.namespaceId,ut.triggerName,null).forEach(xn=>{Jo(or,Tt,[]).push(xn),xn.destroy()})});const ta=le.filter(ut=>_U(ut,_,w)),od=new Map;pU(od,this.driver,Ve,w,Xu).forEach(ut=>{_U(ut,_,w)&&ta.push(ut)});const DD=new Map;O.forEach((ut,Tt)=>{pU(DD,this.driver,new Set(ut),_,"!")}),ta.forEach(ut=>{const Tt=od.get(ut),Gt=DD.get(ut);od.set(ut,Object.assign(Object.assign({},Tt),Gt))});const Ig=[],Sq=[],xq={};h.forEach(ut=>{const{element:Tt,player:Gt,instruction:xn}=ut;if(s.has(Tt)){if(T.has(Tt))return Gt.onDestroy(()=>Cc(Tt,xn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(xn.totalTime),void a.push(Gt);let is=xq;if(Ni.size>1){let na=Tt;const $f=[];for(;na=na.parentNode;){const ar=Ni.get(na);if(ar){is=ar;break}$f.push(na)}$f.forEach(ar=>Ni.set(ar,is))}const Sc=this._buildAnimation(Gt.namespaceId,xn,or,l,DD,od);if(Gt.setRealPlayer(Sc),is===xq)Ig.push(Gt);else{const na=this.playersByElement.get(is);na&&na.length&&(Gt.parentPlayer=If(na)),a.push(Gt)}}else gg(Tt,xn.fromStyles),Gt.onDestroy(()=>Cc(Tt,xn.toStyles)),Sq.push(Gt),T.has(Tt)&&a.push(Gt)}),Sq.forEach(ut=>{const Tt=l.get(ut.element);if(Tt&&Tt.length){const Gt=If(Tt);ut.setRealPlayer(Gt)}}),a.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<le.length;ut++){const Tt=le[ut],Gt=Tt[Pa];if(fv(Tt,Wx),Gt&&Gt.hasAnimation)continue;let xn=[];if(m.size){let Sc=m.get(Tt);Sc&&Sc.length&&xn.push(...Sc);let na=this.driver.query(Tt,UF,!0);for(let $f=0;$f<na.length;$f++){let ar=m.get(na[$f]);ar&&ar.length&&xn.push(...ar)}}const is=xn.filter(Sc=>!Sc.destroyed);is.length?Tz(this,Tt,is):this.processLeaveNode(Tt)}return le.length=0,Ig.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Tt=this.players.indexOf(ut);this.players.splice(Tt,1)}),ut.play()}),Ig}elementContainsData(i,n){let s=!1;const a=n[Pa];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,a,l){let h=[];if(n){const m=this.playersByQueriedElement.get(i);m&&(h=m)}else{const m=this.playersByElement.get(i);if(m){const _=!l||l==J1;m.forEach(w=>{w.queued||!_&&w.triggerName!=a||h.push(w)})}}return(s||a)&&(h=h.filter(m=>!(s&&s!=m.namespaceId||a&&a!=m.triggerName))),h}_beforeAnimationBuild(i,n,s){const l=n.element,h=n.isRemovalTransition?void 0:i,m=n.isRemovalTransition?void 0:n.triggerName;for(const _ of n.timelines){const w=_.element,T=w!==l,A=Jo(s,w,[]);this._getPreviousPlayers(w,T,h,m,n.toState).forEach(O=>{const B=O.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),O.destroy(),A.push(O)})}gg(l,n.fromStyles)}_buildAnimation(i,n,s,a,l,h){const m=n.triggerName,_=n.element,w=[],T=new Set,A=new Set,I=n.timelines.map(B=>{const $=B.element;T.add($);const le=$[Pa];if(le&&le.removedBeforeQueried)return new dv(B.duration,B.delay);const Re=$!==_,Ve=function(r){const i=[];return gU(r,i),i}((s.get($)||_z).map(or=>or.getRealPlayer())).filter(or=>!!or.element&&or.element===$),He=l.get($),We=h.get($),wn=H6(0,this._normalizer,0,B.keyframes,He,We),vi=this._buildPlayer(B,wn,Ve);if(B.subTimeline&&a&&A.add($),Re){const or=new eL(i,m,$);or.setRealPlayer(vi),w.push(or)}return vi});w.forEach(B=>{Jo(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const a=s.indexOf(n);s.splice(a,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const a=s.indexOf(n);s.splice(a,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,B.element,B))}),T.forEach(B=>Fa(B,W6));const O=If(I);return O.onDestroy(()=>{T.forEach(B=>fv(B,W6)),Cc(_,n.toStyles)}),A.forEach(B=>{Jo(a,B,[]).push(O)}),O}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new dv(i.duration,i.delay)}}class eL{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new dv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>kF(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){Jo(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function lA(r){return r&&1===r.nodeType}function fU(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function pU(r,i,n,s,a){const l=[];n.forEach(_=>l.push(fU(_)));const h=[];s.forEach((_,w)=>{const T={};_.forEach(A=>{const I=T[A]=i.computeStyle(w,A,a);(!I||0==I.length)&&(w[Pa]=yz,h.push(w))}),r.set(w,T)});let m=0;return n.forEach(_=>fU(_,l[m++])),h}function mU(r,i){const n=new Map;if(r.forEach(m=>n.set(m,[])),0==i.length)return n;const a=new Set(i),l=new Map;function h(m){if(!m)return 1;let _=l.get(m);if(_)return _;const w=m.parentNode;return _=n.has(w)?w:a.has(w)?1:h(w),l.set(m,_),_}return i.forEach(m=>{const _=h(m);1!==_&&n.get(_).push(m)}),n}const cA="$$classes";function Fa(r,i){if(r.classList)r.classList.add(i);else{let n=r[cA];n||(n=r[cA]={}),n[i]=!0}}function fv(r,i){if(r.classList)r.classList.remove(i);else{let n=r[cA];n&&delete n[i]}}function Tz(r,i,n){If(n).onDone(()=>r.processLeaveNode(i))}function gU(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof V6?gU(s.players,i):i.push(s)}}function _U(r,i,n){const s=n.get(r);if(!s)return!1;let a=i.get(r);return a?s.forEach(l=>a.add(l)):i.set(r,s),n.delete(r),!0}class uA{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new vz(i,n,s),this._timelineEngine=new fz(i,n,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,n,s,a,l){const h=i+"-"+a;let m=this._triggerCache[h];if(!m){const _=[],w=qF(this._driver,l,_);if(_.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);m=function(r,i,n){return new uz(r,i,n)}(a,w,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(n,a,m)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,a){this._transitionEngine.insertNode(i,n,s,a)}onRemove(i,n,s,a){this._transitionEngine.removeNode(i,n,a||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,a){if("@"==s.charAt(0)){const[l,h]=Z6(s);this._timelineEngine.command(l,n,h,a)}else this._transitionEngine.trigger(i,n,s,a)}listen(i,n,s,a,l){if("@"==s.charAt(0)){const[h,m]=Z6(s);return this._timelineEngine.listen(h,n,m,l)}return this._transitionEngine.listen(i,n,s,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function yU(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=tL(i[0]),i.length>1&&(s=tL(i[i.length-1]))):i&&(n=tL(i)),n||s?new pv(r,n,s):null}class pv{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let a=pv.initialStylesByElement.get(i);a||pv.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Cc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cc(this._element,this._initialStyles),this._endStyles&&(Cc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(pv.initialStylesByElement.delete(this._element),this._startStyles&&(gg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gg(this._element,this._endStyles),this._endStyles=null),Cc(this._element,this._initialStyles),this._state=3)}}function tL(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const a=n[s];Sz(a)&&(i=i||{},i[a]=r[a])}return i}function Sz(r){return"display"===r||"position"===r}pv.initialStylesByElement=new WeakMap;const bU="animation",vU="animationend";class kz{constructor(i,n,s,a,l,h,m){this._element=i,this._name=n,this._duration=s,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(r,i){const n=iL(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),dA(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),DU(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wU(this._element,this._name,"paused")}resume(){wU(this._element,this._name,"running")}setPosition(i){const n=CU(this._element,this._name);this._position=i*this._duration,dA(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),DU(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=iL(r,"").split(","),a=nL(s,i);a>=0&&(s.splice(a,1),dA(r,"",s.join(",")))}(this._element,this._name))}}function wU(r,i,n){dA(r,"PlayState",n,CU(r,i))}function CU(r,i){const n=iL(r,"");return n.indexOf(",")>0?nL(n.split(","),i):nL([n],i)}function nL(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function DU(r,i,n){n?r.removeEventListener(vU,i):r.addEventListener(vU,i)}function dA(r,i,n,s){const a=bU+i;if(null!=s){const l=r.style[a];if(l.length){const h=l.split(",");h[s]=n,n=h.join(",")}}r.style[a]=n}function iL(r,i){return r.style[bU+i]||""}class TU{constructor(i,n,s,a,l,h,m,_){this.element=i,this.keyframes=n,this.animationName=s,this._duration=a,this._delay=l,this._finalStyles=m,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:GF(this.element,s))})}this.currentSnapshot=i}}class Fz extends dv{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=j6(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class EU{constructor(){this._count=0}validateStyleProperty(i){return PF(i)}matchesElement(i,n){return FF(i,n)}containsElement(i,n){return LF(i,n)}query(i,n,s){return BF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(m=>j6(m));let a=`@keyframes ${n} {\n`,l="";s.forEach(m=>{l=" ";const _=parseFloat(m.offset);a+=`${l}${100*_}% {\n`,l+=" ",Object.keys(m).forEach(w=>{const T=m[w];switch(w){case"offset":return;case"easing":return void(T&&(a+=`${l}animation-timing-function: ${T};\n`));default:return void(a+=`${l}${w}: ${T};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(i,n,s,a,l,h=[],m){const _=h.filter(le=>le instanceof TU),w={};eU(s,a)&&_.forEach(le=>{let Re=le.currentSnapshot;Object.keys(Re).forEach(Ve=>w[Ve]=Re[Ve])});const T=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(i[a]=s[a])})}),i}(n=tU(i,n,w));if(0==s)return new Fz(i,T);const A="gen_css_kf_"+this._count++,I=this.buildKeyframeElement(i,A,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(I);const B=yU(i,n),$=new TU(i,n,A,s,a,l,T,B);return $.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(I)),$}}class xU{constructor(i,n,s,a){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:GF(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Hz{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(AU().toString()),this._cssKeyframesDriver=new EU}validateStyleProperty(i){return PF(i)}matchesElement(i,n){return FF(i,n)}containsElement(i,n){return LF(i,n)}query(i,n,s){return BF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,a,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,a,l,h);const T={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(T.easing=l);const A={},I=h.filter(B=>B instanceof xU);eU(s,a)&&I.forEach(B=>{let $=B.currentSnapshot;Object.keys($).forEach(le=>A[le]=$[le])});const O=yU(i,n=tU(i,n=n.map(B=>Rf(B,!1)),A));return new xU(i,n,T,O)}}function AU(){return U6()&&Element.prototype.animate||{}}let Yz=(()=>{class r extends N6{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(n)?P6(n):n;return kU(this._renderer,null,s,"register",[a]),new Gz(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.FYo),o.LFG(j))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Gz extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new qz(this._id,i,n||{},this._renderer)}}class qz{constructor(i,n,s,a){this.id=i,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return kU(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function kU(r,i,n,s,a){return r.setProperty(i,`@@${n}:${s}`,a)}const IU="@.disabled";let jz=(()=>{class r{constructor(n,s,a){this.delegate=n,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(n,s){const l=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let T=this._rendererCache.get(l);return T||(T=new RU("",l,this.engine),this._rendererCache.set(l,T)),T}const h=s.id,m=s.id+"-"+this._currentId;this._currentId++,this.engine.register(m,n);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(h,m,n,T.name,T)};return s.data.animation.forEach(_),new zz(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,a){n>=0&&n<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.FYo),o.LFG(uA),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class RU{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>n.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,a=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,a)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,a){this.delegate.setAttribute(i,n,s,a)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,a){this.delegate.setStyle(i,n,s,a)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==IU?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class zz extends RU{constructor(i,n,s,a){super(n,s,a),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==IU?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const a=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let l=n.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,s,m)})}return this.delegate.listen(i,n,s)}}let Jz=(()=>{class r extends uA{constructor(n,s,a){super(n.body,s,a)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j),o.LFG($x),o.LFG(JF))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Zn=new o.OlP("AnimationModuleType"),OU=[{provide:N6,useClass:Yz},{provide:JF,useFactory:function(){return new rz}},{provide:uA,useClass:Jz},{provide:o.FYo,useFactory:function(r,i,n){return new jz(r,i,n)},deps:[Vs,uA,o.R0b]}],NU=[{provide:$x,useFactory:function(){return"function"==typeof AU()?new Hz:new EU}},{provide:Zn,useValue:"BrowserAnimations"},...OU],PU=[{provide:$x,useClass:z6},{provide:Zn,useValue:"NoopAnimations"},...OU];let e8=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?PU:NU}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:NU,imports:[zg]}),r})();const FU=new o.GfV("12.2.5"),a8=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let tt=(()=>{class r{constructor(n,s,a){this._hasDoneGlobalChecks=!1,this._document=a,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,o.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&FU.full!==O6.full&&console.warn("The Angular Material version ("+FU.full+") does not match the Angular CDK version ("+O6.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(w_),o.LFG(a8,8),o.LFG(j))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[$r],$r]}),r})();function Os(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=xe(i)}}}function Ko(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Qs(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=xe(i)}}}function ed(r,i=0){return class extends r{constructor(...n){super(...n),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?qt(n):this.defaultTabIndex}}}function Q1(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new pe.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==i&&(this.errorState=l,this.stateChanges.next())}}}const l8=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,o.f3M)(o.soG)}});class nr{constructor(){this._localeChanges=new pe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return null==i||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,n){return this.getYear(i)-this.getYear(n)||this.getMonth(i)-this.getMonth(n)||this.getDate(i)-this.getDate(n)}sameDate(i,n){if(i&&n){let s=this.isValid(i),a=this.isValid(n);return s&&a?!this.compareDate(i,n):s==a}return i==n}clampDate(i,n,s){return n&&this.compareDate(i,n)<0?n:s&&this.compareDate(i,s)>0?s:i}}const Dc=new o.OlP("mat-date-formats");let yg;try{yg="undefined"!=typeof Intl}catch(r){yg=!1}const u8={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},d8=fA(31,r=>String(r+1)),h8={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},f8=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fA(r,i){const n=Array(r);for(let s=0;s<r;s++)n[s]=i(s);return n}let p8=(()=>{class r extends nr{constructor(n,s){super(),this.useUtcForDisplay=!0,super.setLocale(n),this.useUtcForDisplay=!s.TRIDENT,this._clampDate=s.TRIDENT||s.EDGE}getYear(n){return n.getFullYear()}getMonth(n){return n.getMonth()}getDate(n){return n.getDate()}getDayOfWeek(n){return n.getDay()}getMonthNames(n){if(yg){const s=new Intl.DateTimeFormat(this.locale,{month:n,timeZone:"utc"});return fA(12,a=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,a,1))))}return u8[n]}getDateNames(){if(yg){const n=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fA(31,s=>this._stripDirectionalityCharacters(this._format(n,new Date(2017,0,s+1))))}return d8}getDayOfWeekNames(n){if(yg){const s=new Intl.DateTimeFormat(this.locale,{weekday:n,timeZone:"utc"});return fA(7,a=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,0,a+1))))}return h8[n]}getYearName(n){if(yg){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(s,n))}return String(this.getYear(n))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(n){return this.getDate(this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+1,0))}clone(n){return new Date(n.getTime())}createDate(n,s,a){let l=this._createDateWithOverflow(n,s,a);return l.getMonth(),l}today(){return new Date}parse(n){return"number"==typeof n?new Date(n):n?new Date(Date.parse(n)):null}format(n,s){if(!this.isValid(n))throw Error("NativeDateAdapter: Cannot format invalid date.");if(yg){this._clampDate&&(n.getFullYear()<1||n.getFullYear()>9999)&&(n=this.clone(n)).setFullYear(Math.max(1,Math.min(9999,n.getFullYear()))),s=Object.assign(Object.assign({},s),{timeZone:"utc"});const a=new Intl.DateTimeFormat(this.locale,s);return this._stripDirectionalityCharacters(this._format(a,n))}return this._stripDirectionalityCharacters(n.toDateString())}addCalendarYears(n,s){return this.addCalendarMonths(n,12*s)}addCalendarMonths(n,s){let a=this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+s,this.getDate(n));return this.getMonth(a)!=((this.getMonth(n)+s)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a}addCalendarDays(n,s){return this._createDateWithOverflow(this.getYear(n),this.getMonth(n),this.getDate(n)+s)}toIso8601(n){return[n.getUTCFullYear(),this._2digit(n.getUTCMonth()+1),this._2digit(n.getUTCDate())].join("-")}deserialize(n){if("string"==typeof n){if(!n)return null;if(f8.test(n)){let s=new Date(n);if(this.isValid(s))return s}}return super.deserialize(n)}isDateInstance(n){return n instanceof Date}isValid(n){return!isNaN(n.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(n,s,a){const l=new Date;return l.setFullYear(n,s,a),l.setHours(0,0,0,0),l}_2digit(n){return("00"+n).slice(-2)}_stripDirectionalityCharacters(n){return n.replace(/[\u200e\u200f]/g,"")}_format(n,s){const a=new Date;return a.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),a.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),n.format(a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(l8,8),o.LFG(Rt))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),g8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:nr,useClass:p8}],imports:[[Mp]]}),r})();const _8={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let y8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:Dc,useValue:_8}],imports:[[g8]]}),r})(),Ks=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),pA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt],tt]}),r})();class b8{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const BU={enterDuration:225,exitDuration:150},lL=Lo({passive:!0}),VU=["mousedown","touchstart"],UU=["mouseup","mouseleave","touchend","touchcancel"];class cL{constructor(i,n,s,a){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=li(s))}fadeInRipple(i,n,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},BU),s.animation);s.centered&&(i=a.left+a.width/2,n=a.top+a.height/2);const h=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),a=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+a*a)}(i,n,a),m=i-a.left,_=n-a.top,w=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=m-h+"px",T.style.top=_-h+"px",T.style.height=2*h+"px",T.style.width=2*h+"px",null!=s.color&&(T.style.backgroundColor=s.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const A=new b8(this,T,s);return A.state=0,this._activeRipples.add(A),s.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const I=A===this._mostRecentTransientRipple;A.state=1,!s.persistent&&(!I||!this._isPointerDown)&&A.fadeOut()},w),A}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,a=Object.assign(Object.assign({},BU),i.config.animation);s.style.transitionDuration=`${a.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=li(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(VU))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(UU),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=x0(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Op(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,lL)})})}_removeTriggerEvents(){this._triggerElement&&(VU.forEach(i=>{this._triggerElement.removeEventListener(i,this,lL)}),this._pointerUpEventsRegistered&&UU.forEach(i=>{this._triggerElement.removeEventListener(i,this,lL)}))}}const mA=new o.OlP("mat-ripple-global-options");let Ns=(()=>{class r{constructor(n,s,a,l,h){this._elementRef=n,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new cL(this,s,n,a)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,a){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Rt),o.Y36(mA,8),o.Y36(Zn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),pl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt,Mp],tt]}),r})(),uL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt]]}),r})(),yA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[pl,Xt,tt,uL]]}),r})();function S8(r,i){}class Of{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const x8={dialogContainer:Ui("dialogContainer",[Jt("void, exit",Qe({opacity:0,transform:"scale(0.7)"})),Jt("enter",Qe({transform:"none"})),hn("* => enter",_n("150ms cubic-bezier(0, 0, 0.2, 1)",Qe({transform:"none",opacity:1}))),hn("* => void, * => exit",_n("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Qe({opacity:0})))])};let A8=(()=>{class r extends Xd{constructor(n,s,a,l,h,m){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=a,this._config=h,this._focusMonitor=m,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(_)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=Qa(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Qa())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=Qa();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(g_),o.Y36(o.sBO),o.Y36(j,8),o.Y36(Of),o.Y36(ti))},r.\u0275dir=o.lG2({type:r,viewQuery:function(n,s){if(1&n&&o.Gf(ci,7),2&n){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},features:[o.qOj]}),r})(),k8=(()=>{class r extends A8{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&o.WFA("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&n&&(o.Ikx("id",s._id),o.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),o.d8E("@dialogContainer",s._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&o.YNc(0,S8,0,0,"ng-template",0)},directives:[ci],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[x8.dialogContainer]}}),r})(),I8=0;class Nf{constructor(i,n,s="mat-dialog-"+I8++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new pe.xQ,this._afterClosed=new pe.xQ,this._beforeClosed=new pe.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(wt(a=>"opened"===a.state),P(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(wt(a=>"closed"===a.state),P(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(wt(a=>27===a.keyCode&&!this.disableClose&&!Gn(a))).subscribe(a=>{a.preventDefault(),fL(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():fL(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(wt(n=>"closing"===n.state),P(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function fL(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const X1=new o.OlP("MatDialogData"),R8=new o.OlP("mat-dialog-default-options"),qU=new o.OlP("mat-dialog-scroll-strategy"),N8={provide:qU,deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.block()}};let P8=(()=>{class r{constructor(n,s,a,l,h,m,_,w,T){this._overlay=n,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pe.xQ,this._afterOpenedAtThisLevel=new pe.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=im(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe($t(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new Of)).id&&this.getDialogById(s.id);const a=this._createOverlay(s),l=this._attachDialogContainer(a,s),h=this._attachDialogContent(n,l,a,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new Zl({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:Of,useValue:s}]}),h=new Kd(this._dialogContainerType,s.viewContainerRef,l,s.componentFactoryResolver);return n.attach(h).instance}_attachDialogContent(n,s,a,l){const h=new this._dialogRefConstructor(a,s,l.id);if(n instanceof o.Rgc)s.attachTemplatePortal(new lo(n,null,{$implicit:l.data,dialogRef:h}));else{const m=this._createInjector(l,h,s),_=s.attachComponentPortal(new Kd(n,l.viewContainerRef,m));h.componentInstance=_.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(n,s,a){const l=n&&n.viewContainerRef&&n.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!l||!l.get(gn,null,o.XFs.Optional))&&h.push({provide:gn,useValue:{value:n.direction,change:(0,qe.of)()}}),o.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let a=s.length-1;a>-1;a--){let l=s[a];l!==n&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Li),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(sl),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},r.\u0275dir=o.lG2({type:r}),r})(),Pf=(()=>{class r extends P8{constructor(n,s,a,l,h,m,_){super(n,s,l,m,_,h,Nf,k8,X1)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Li),o.LFG(o.zs3),o.LFG(Zt,8),o.LFG(R8,8),o.LFG(qU),o.LFG(r,12),o.LFG(sl))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),L8=0,pL=(()=>{class r{constructor(n,s,a){this.dialogRef=n,this._elementRef=s,this._dialog=a,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=zU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(n){const s=n._matDialogClose||n._matDialogCloseResult;s&&(this.dialogResult=s.currentValue)}_onButtonClick(n){fL(this.dialogRef,0===n.screenX&&0===n.screenY?"keyboard":"mouse",this.dialogResult)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Nf,8),o.Y36(o.SBq),o.Y36(Pf))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,s){1&n&&o.NdJ("click",function(l){return s._onButtonClick(l)}),2&n&&o.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),r})(),jU=(()=>{class r{constructor(n,s,a){this._dialogRef=n,this._elementRef=s,this._dialog=a,this.id="mat-dialog-title-"+L8++}ngOnInit(){this._dialogRef||(this._dialogRef=zU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const n=this._dialogRef._containerInstance;n&&!n._ariaLabelledBy&&(n._ariaLabelledBy=this.id)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Nf,8),o.Y36(o.SBq),o.Y36(Pf))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(n,s){2&n&&o.Ikx("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),r})(),eD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),r})(),tD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),r})();function zU(r,i){let n=r.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?i.find(s=>s.id===n.id):null}let B8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Pf,N8],imports:[[Ea,el,tt],tt]}),r})();const V8=["underline"],U8=["connectionContainer"],H8=["inputContainer"],Z8=["label"];function Y8(r,i){1&r&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function G8(r,i){1&r&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function q8(r,i){if(1&r&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&r){const n=o.oxw(2);o.xp6(3),o.Oqu(n._control.placeholder)}}function j8(r,i){1&r&&o.Hsn(0,3,["*ngSwitchCase","true"])}function z8(r,i){1&r&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function $8(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(n),o.oxw().updateOutlineGap()}),o.YNc(2,q8,4,1,"ng-container",12),o.YNc(3,j8,1,0,"ng-content",12),o.YNc(4,z8,2,0,"span",22),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),o.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),o.uIk("for",n._control.id)("aria-owns",n._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function W8(r,i){1&r&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function J8(r,i){if(1&r&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function Q8(r,i){if(1&r&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&r){const n=o.oxw();o.Q6J("@transitionMessages",n._subscriptAnimationState)}}function K8(r,i){if(1&r&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.Q6J("id",n._hintLabelId),o.xp6(1),o.Oqu(n.hintLabel)}}function X8(r,i){if(1&r&&(o.TgZ(0,"div",28),o.YNc(1,K8,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&r){const n=o.oxw();o.Q6J("@transitionMessages",n._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",n.hintLabel)}}const e$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],t$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let n$=0;const $U=new o.OlP("MatError");let Ff=(()=>{class r{constructor(n,s){this.id="mat-error-"+n$++,n||s.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(n){return new(n||r)(o.$8M("aria-live"),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(n,s){2&n&&o.uIk("id",s.id)},inputs:{id:"id"},features:[o._Bn([{provide:$U,useExisting:r}])]}),r})();const i$={transitionMessages:Ui("transitionMessages",[Jt("enter",Qe({opacity:1,transform:"translateY(0%)"})),hn("void => enter",[Qe({opacity:0,transform:"translateY(-5px)"}),_n("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r}),r})();const WU=new o.OlP("MatHint");let mL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-label"]]}),r})(),s$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const JU=new o.OlP("MatPrefix"),QU=new o.OlP("MatSuffix");let mv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:QU,useExisting:r}])]}),r})(),KU=0;const a$=Ko(class{constructor(r){this._elementRef=r}},"primary"),l$=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gv=new o.OlP("MatFormField");let td=(()=>{class r extends a${constructor(n,s,a,l,h,m,_,w){super(n),this._changeDetectorRef=s,this._dir=l,this._defaults=h,this._platform=m,this._ngZone=_,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pe.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+KU++,this._labelId="mat-form-field-label-"+KU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==w,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=xe(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe($t(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Be(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Be(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,In.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($t(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($t(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Be(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Nn(this._label.nativeElement,"transitionend").pipe(P(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,a=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),a&&n.push(a.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),m=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=l.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(_),T=n.children,A=this._getStartEnd(T[0].getBoundingClientRect());let I=0;for(let O=0;O<T.length;O++)I+=T[O].offsetWidth;s=Math.abs(A-w)-5,a=I>0?.75*I+10:0}for(let _=0;_<h.length;_++)h[_].style.width=`${s}px`;for(let _=0;_<m.length;_++)m[_].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(gn,8),o.Y36(l$,8),o.Y36(Rt),o.Y36(o.R0b),o.Y36(Zn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,bg,5),o.Suo(a,bg,7),o.Suo(a,mL,5),o.Suo(a,mL,7),o.Suo(a,s$,5),o.Suo(a,$U,5),o.Suo(a,WU,5),o.Suo(a,JU,5),o.Suo(a,QU,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._controlNonStatic=l.first),o.iGM(l=o.CRH())&&(s._controlStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(s._placeholderChild=l.first),o.iGM(l=o.CRH())&&(s._errorChildren=l),o.iGM(l=o.CRH())&&(s._hintChildren=l),o.iGM(l=o.CRH())&&(s._prefixChildren=l),o.iGM(l=o.CRH())&&(s._suffixChildren=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(V8,5),o.Gf(U8,7),o.Gf(H8,5),o.Gf(Z8,5)),2&n){let a;o.iGM(a=o.CRH())&&(s.underlineRef=a.first),o.iGM(a=o.CRH())&&(s._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(s._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(s._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&o.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:gv,useExisting:r}]),o.qOj],ngContentSelectors:t$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(o.F$t(e$),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(l){return s._control.onContainerClick&&s._control.onContainerClick(l)}),o.YNc(3,Y8,9,0,"ng-container",3),o.YNc(4,G8,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,$8,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,W8,2,0,"div",9),o.qZA(),o.YNc(11,J8,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,Q8,2,1,"div",12),o.YNc(14,X8,5,2,"div",13),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Q6J("ngIf","outline"==s.appearance),o.xp6(1),o.Q6J("ngIf",s._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",s._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",s._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=s.appearance),o.xp6(1),o.Q6J("ngSwitch",s._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[ct,ji,Kn,Ap],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[i$.transitionMessages]},changeDetection:0}),r})(),gL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,tt,kp],tt]}),r})();const eH=Lo({passive:!0});let tH=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return R.E;const s=li(n),a=this._monitoredElements.get(s);if(a)return a.subject;const l=new pe.xQ,h="cdk-text-field-autofilled",m=_=>{"cdk-text-field-autofill-start"!==_.animationName||s.classList.contains(h)?"cdk-text-field-autofill-end"===_.animationName&&s.classList.contains(h)&&(s.classList.remove(h),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(s.classList.add(h),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",m,eH),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:l,unlisten:()=>{s.removeEventListener("animationstart",m,eH)}}),l}stopMonitoring(n){const s=li(n),a=this._monitoredElements.get(s);a&&(a.unlisten(),a.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rt),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rt),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})(),nH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Mp]]}),r})();const iH=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),u$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let d$=0;const h$=Q1(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let Lf=(()=>{class r extends h${constructor(n,s,a,l,h,m,_,w,T,A){super(m,l,h,a),this._elementRef=n,this._platform=s,this._autofillMonitor=w,this._formField=A,this._uid="mat-input-"+d$++,this.focused=!1,this.stateChanges=new pe.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>tT().has(B));const I=this._elementRef.nativeElement,O=I.nodeName.toLowerCase();this._inputValueAccessor=_||I,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&T.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",B=>{const $=B.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=xe(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=xe(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&tT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=xe(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const a=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(a!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=a,a?l.setAttribute("placeholder",a):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){u$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Rt),o.Y36(ms,10),o.Y36(Gs,8),o.Y36(Si,8),o.Y36(Ks),o.Y36(iH,10),o.Y36(tH),o.Y36(o.R0b),o.Y36(gv,8))},r.\u0275dir=o.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&o.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(o.Ikx("disabled",s.disabled)("required",s.required),o.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),o.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[o._Bn([{provide:bg,useExisting:r}]),o.qOj,o.TTD]}),r})(),f$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ks],imports:[[nH,gL,tt],nH,gL]}),r})();function p$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function m$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function g$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function _$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}let rH=(()=>{class r{constructor(n,s,a,l){this.formBuilder=n,this.authService=s,this.dialogRef=a,this.data=l,this.userDatasForm=this.formBuilder.group({nom:["",[gt.required,gt.minLength(5),gt.maxLength(25)]],prenom:["",[gt.required,gt.minLength(3),gt.maxLength(25)]],email:[{value:this.authService.getCurrentUser().email,disabled:!0}]}),this.errorMessage="",this.description=""}ngOnInit(){this.initForm()}initForm(){}close(){this.dialogRef.close()}save(){this.dialogRef.close(this.userDatasForm.value)}getErrorMessage(n){let s="";switch(n){case"nom":this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("required")&&(s="Vous devez saisir votre nom"),(this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("minlength")||this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("maxlength"))&&(s="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("required")&&(s="Vous devez saisir votre pr\xe9nom"),(this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("minlength")||this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("maxlength"))&&(s="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("required")&&(s="Vous devez saisir une adresse email"),this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("email")&&(s="L'adresse saisie n'est pas valide.");break;case"password1":this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(ts),o.Y36(Nf),o.Y36(X1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-user-datas"]],decls:21,vars:5,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2),o.TgZ(3,"div",3),o.YNc(4,p$,2,1,"mat-error",4),o.YNc(5,m$,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"mat-form-field",1),o._UZ(8,"input",5),o.TgZ(9,"div",3),o.YNc(10,g$,2,1,"mat-error",4),o.YNc(11,_$,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",1),o._UZ(14,"input",6),o.qZA(),o._UZ(15,"br"),o.qZA(),o.TgZ(16,"mat-dialog-actions"),o.TgZ(17,"button",7),o.NdJ("click",function(){return s.save()}),o._uU(18,"Ok"),o.qZA(),o.TgZ(19,"button",8),o.NdJ("click",function(){return s.close()}),o._uU(20,"Annuler"),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.userDatasForm),o.xp6(4),o.Q6J("ngIf",(s.userDatasForm.controls.nom.hasError("minlength")||s.userDatasForm.controls.nom.hasError("maxlength"))&&!s.userDatasForm.controls.nom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.userDatasForm.controls.nom.hasError("required")),o.xp6(5),o.Q6J("ngIf",(s.userDatasForm.controls.prenom.hasError("minlength")||s.userDatasForm.controls.prenom.hasError("maxlength"))&&!s.userDatasForm.controls.prenom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.userDatasForm.controls.prenom.hasError("required")))},directives:[eD,xa,Si,td,Lf,fo,Sa,qo,ct,tD,Ff],styles:[""]}),r})();var y$=L(5893);let ts=(()=>{class r{constructor(n,s,a,l,h,m){this.dialog=n,this.router=s,this.ngZone=a,this.usersService=l,this.angularFirestore=h,this.angularFireAuth=m,this.visiteur={email:"memoiremorieroise@gmail.com",password:"MyPepita51"},this.userId="",this.authSubject=new pe.xQ,this.status=0,this.angularFireAuth.onAuthStateChanged(_=>{null==_?this.signInVisiteur().then(w=>{this.emitUserChanged()}):_.email==this.visiteur.email?(this.currentUser=new zx("",_.uid,"Visiteur","Visiteur","Visiteur",!0,Jn.initial),this.emitUserChanged()):l.getUserByUid(_.uid).subscribe(T=>{T&&T.docs.length>0?(this.currentUser=new zx(T.docs[0].id,_.uid,T.docs[0].data().nom,T.docs[0].data().prenom,T.docs[0].data().email,T.docs[0].data().emailVerified,T.docs[0].data().status),this.emitUserChanged()):this.emitUserChanged()},T=>{console.log(T.message)})})}emitUserChanged(){this.authSubject.next(this.currentUser)}getVisiteur(){return this.visiteur.email}getCurrentUser(){return this.currentUser}getStatus(){return this.status}signInVisiteur(){return this.SignInUser(this.visiteur.email,this.visiteur.password)}createNewUser(n,s){return new Promise((a,l)=>{this.angularFireAuth.createUserWithEmailAndPassword(n.email.trim(),s.trim()).then(h=>{h.user.updateProfile({displayName:n.nom+"/"+n.prenom}),n.uid=h.user.uid,h.user.sendEmailVerification().then(()=>{alert("Un email vous a \xe9t\xe9 envoy\xe9, merci de cliquer sur le lien qu'il contien afin de valider v\xf4tre inscription.")}).catch(m=>{console.log(m),l(m)}),this.angularFireAuth.signInWithEmailAndPassword(this.visiteur.email,this.visiteur.password).then(m=>{}),this.router.navigate(["app-accueil"]),a(!0)})})}updateCurrentUser(n){}SignInUser(n,s){return this.angularFireAuth.signInWithEmailAndPassword(n,s).then(a=>{a.user.emailVerified?this.emitUserChanged():this.router.navigate(["app-unvalidate-user-message"])}).catch(a=>{console.log(a.message),alert("Erreur de connexion, mail ou mot de passe incorrect ?")})}SignOut(){this.currentUser=void 0,this.angularFireAuth.signOut().then(()=>{}).catch(n=>{console.log(n)}).finally(()=>{this.signInVisiteur().then(()=>{this.emitUserChanged()})})}sendMailNewUser(){this.angularFireAuth.currentUser.then(n=>{null==n||n.sendEmailVerification()})}getCurrentAuthUser(){return this.angularFireAuth.currentUser}ForgotPassword(n){return this.angularFireAuth.sendPasswordResetEmail(n).then(()=>{alert("Un email de r\xe9initialisation du mot de passe vous a \xe9t\xe9 envoy\xe9, v\xe9rifiez votre bo\xeete de r\xe9ception.")}).catch(s=>{alert("Erreur de connexion, avez-vous bien saisi l'adresse ?."),console.log(s)})}connectWidthGoogle(){const n=new y$.N;let s=[];return this.angularFireAuth.signInWithPopup(n).then(a=>{var l,h,m,_,w,T;null==this.currentUser&&(this.currentUser=new zx),(null===(l=a.user)||void 0===l?void 0:l.emailVerified)?(this.currentUser.email=null===(h=a.user.email)||void 0===h?void 0:h.toString(),this.currentUser.emailVerified=!0,this.currentUser.uid=a.user.uid,this.currentUser.nom=null===(m=a.user.displayName)||void 0===m?void 0:m.substring(0,null===(_=a.user.displayName)||void 0===_?void 0:_.indexOf("/")),this.currentUser.prenom=null===(w=a.user.displayName)||void 0===w?void 0:w.substring((null===(T=a.user.displayName)||void 0===T?void 0:T.indexOf("/"))+1),this.currentUser.status=Je.visiteur,this.getUserFromDB(a.user).subscribe(A=>{var I;if(s=A.docs.map(O=>{O.data().id=O.id}),0===s.length){const O=new Of;O.disableClose=!0,O.autoFocus=!0,O.width="500px",O.data={email:null===(I=this.currentUser)||void 0===I?void 0:I.email},this.dialog.open(rH,O).afterClosed().subscribe($=>{this.currentUser.nom=$.nom,this.currentUser.prenom=$.prenom,this.usersService.addUser(this.currentUser)})}})):this.router.navigate(["app-unvalidate-user-message"])},a=>{console.log(a),alert("Erreur de connexion, adresse mail ou mot de passe incorrect ?")})}getUserFromDB(n){return this.angularFirestore.collection("Users/",s=>s.where("uid","==",n.uid)).get()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Pf),o.LFG(Hn),o.LFG(o.R0b),o.LFG(uv),o.LFG(Qu),o.LFG(MF))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function b$(r,i){1&r&&o.Hsn(0)}const _L=["*"];function v$(r,i){}const w$=function(r){return{animationDuration:r}},C$=function(r,i){return{value:r,params:i}},D$=["tabBodyWrapper"],T$=["tabHeader"];function M$(r,i){}function E$(r,i){if(1&r&&o.YNc(0,M$,0,0,"ng-template",9),2&r){const n=o.oxw().$implicit;o.Q6J("cdkPortalOutlet",n.templateLabel)}}function S$(r,i){if(1&r&&o._uU(0),2&r){const n=o.oxw().$implicit;o.Oqu(n.textLabel)}}function x$(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const a=o.CHM(n),l=a.$implicit,h=a.index,m=o.oxw(),_=o.MAs(1);return m._handleClick(l,_,h)})("cdkFocusChange",function(a){const h=o.CHM(n).index;return o.oxw()._tabFocusChanged(a,h)}),o.TgZ(1,"div",7),o.YNc(2,E$,1,1,"ng-template",8),o.YNc(3,S$,1,1,"ng-template",8),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=i.index,a=o.oxw();o.ekj("mat-tab-label-active",a.selectedIndex==s),o.Q6J("id",a._getTabLabelId(s))("disabled",n.disabled)("matRippleDisabled",n.disabled||a.disableRipple),o.uIk("tabIndex",a._getTabIndex(n,s))("aria-posinset",s+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(s))("aria-selected",a.selectedIndex==s)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),o.xp6(2),o.Q6J("ngIf",n.templateLabel),o.xp6(1),o.Q6J("ngIf",!n.templateLabel)}}function A$(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-tab-body",10),o.NdJ("_onCentered",function(){return o.CHM(n),o.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(a){return o.CHM(n),o.oxw()._setTabBodyWrapperHeight(a)}),o.qZA()}if(2&r){const n=i.$implicit,s=i.index,a=o.oxw();o.ekj("mat-tab-body-active",a.selectedIndex===s),o.Q6J("id",a._getTabContentId(s))("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",a.animationDuration),o.uIk("tabindex",null!=a.contentTabIndex&&a.selectedIndex===s?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(s))}}const sH=["tabListContainer"],oH=["tabList"],aH=["nextPaginator"],lH=["previousPaginator"],I$=new o.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return i=>({left:i?(i.offsetLeft||0)+"px":"0",width:i?(i.offsetWidth||0)+"px":"0"})}});let bA=(()=>{class r{constructor(n,s,a,l){this._elementRef=n,this._ngZone=s,this._inkBarPositioner=a,this._animationMode=l}alignToElement(n){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(n))}):this._setStyles(n)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(n){const s=this._inkBarPositioner(n),a=this._elementRef.nativeElement;a.style.left=s.left,a.style.width=s.width}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(I$),o.Y36(Zn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)}}),r})();const cH=new o.OlP("MatTabContent"),uH=new o.OlP("MatTabLabel"),O$=Os(class{}),dH=new o.OlP("MAT_TAB_GROUP");let yL=(()=>{class r extends O${constructor(n,s){super(),this._viewContainerRef=n,this._closestTabGroup=s,this.textLabel="",this._contentPortal=null,this._stateChanges=new pe.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new lo(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&(this._templateLabel=n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(dH,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,uH,5),o.Suo(a,cH,7,o.Rgc)),2&n){let l;o.iGM(l=o.CRH())&&(s.templateLabel=l.first),o.iGM(l=o.CRH())&&(s._explicitContent=l.first)}},viewQuery:function(n,s){if(1&n&&o.Gf(o.Rgc,7),2&n){let a;o.iGM(a=o.CRH())&&(s._implicitContent=a.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.qOj,o.TTD],ngContentSelectors:_L,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.YNc(0,b$,1,0,"ng-template"))},encapsulation:2}),r})();const N$={translateTab:Ui("translateTab",[Jt("center, void, left-origin-center, right-origin-center",Qe({transform:"none"})),Jt("left",Qe({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Jt("right",Qe({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),hn("* => left, * => right, left => center, right => center",_n("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),hn("void => left-origin-center",[Qe({transform:"translate3d(-100%, 0, 0)"}),_n("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),hn("void => right-origin-center",[Qe({transform:"translate3d(100%, 0, 0)"}),_n("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let P$=(()=>{class r extends ci{constructor(n,s,a,l){super(n,s,l),this._host=a,this._centeringSub=kt.w.EMPTY,this._leavingSub=kt.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe($t(this._host._isCenterPosition(this._host._position))).subscribe(n=>{n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36((0,o.Gpc)(()=>hH)),o.Y36(j))},r.\u0275dir=o.lG2({type:r,selectors:[["","matTabBodyHost",""]],features:[o.qOj]}),r})(),F$=(()=>{class r{constructor(n,s,a){this._elementRef=n,this._dir=s,this._dirChangeSubscription=kt.w.EMPTY,this._translateTabComplete=new pe.xQ,this._onCentering=new o.vpe,this._beforeCentering=new o.vpe,this._afterLeavingCenter=new o.vpe,this._onCentered=new o.vpe(!0),this.animationDuration="500ms",s&&(this._dirChangeSubscription=s.change.subscribe(l=>{this._computePositionAnimationState(l),a.markForCheck()})),this._translateTabComplete.pipe(vn((l,h)=>l.fromState===h.fromState&&l.toState===h.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(n){this._positionIndex=n,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){const s=this._isCenterPosition(n.toState);this._beforeCentering.emit(s),s&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(n){return"center"==n||"left-origin-center"==n||"right-origin-center"==n}_computePositionAnimationState(n=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==n?"left":"right":this._positionIndex>0?"ltr"==n?"right":"left":"center"}_computePositionFromOrigin(n){const s=this._getLayoutDirection();return"ltr"==s&&n<=0||"rtl"==s&&n>0?"left-origin-center":"right-origin-center"}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(gn,8),o.Y36(o.sBO))},r.\u0275dir=o.lG2({type:r,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),r})(),hH=(()=>{class r extends F${constructor(n,s,a){super(n,s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(gn,8),o.Y36(o.sBO))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-body"]],viewQuery:function(n,s){if(1&n&&o.Gf(ci,5),2&n){let a;o.iGM(a=o.CRH())&&(s._portalHost=a.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(n,s){1&n&&(o.TgZ(0,"div",0,1),o.NdJ("@translateTab.start",function(l){return s._onTranslateTabStarted(l)})("@translateTab.done",function(l){return s._translateTabComplete.next(l)}),o.YNc(2,v$,0,0,"ng-template",2),o.qZA()),2&n&&o.Q6J("@translateTab",o.WLB(3,C$,s._position,o.VKq(1,w$,s.animationDuration)))},directives:[P$],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[N$.translateTab]}}),r})();const fH=new o.OlP("MAT_TABS_CONFIG");let L$=0;class B${}const V$=Ko(Qs(class{constructor(r){this._elementRef=r}}),"primary");let U$=(()=>{class r extends V${constructor(n,s,a,l){var h;super(n),this._changeDetectorRef=s,this._animationMode=l,this._tabs=new o.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=kt.w.EMPTY,this._tabLabelSubscription=kt.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.vpe,this.focusChange=new o.vpe,this.animationDone=new o.vpe,this.selectedTabChange=new o.vpe(!0),this._groupId=L$++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,this.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,this.contentTabIndex=null!==(h=null==a?void 0:a.contentTabIndex)&&void 0!==h?h:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(n){this._dynamicHeight=xe(n)}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=qt(n,null)}get animationDuration(){return this._animationDuration}set animationDuration(n){this._animationDuration=/^\d+$/.test(n)?n+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=qt(n,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){const s=this._elementRef.nativeElement;s.classList.remove(`mat-background-${this.backgroundColor}`),n&&s.classList.add(`mat-background-${n}`),this._backgroundColor=n}ngAfterContentChecked(){const n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){const s=null==this._selectedIndex;if(!s){this.selectedTabChange.emit(this._createChangeEvent(n));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,l)=>a.isActive=l===n),s||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((s,a)=>{s.position=a-n,null!=this._selectedIndex&&0==s.position&&!s.origin&&(s.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const s=this._tabs.toArray();for(let a=0;a<s.length;a++)if(s[a].isActive){this._indexToSelect=this._selectedIndex=a;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe($t(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(s=>s._closestTabGroup===this||!s._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(n){const s=this._tabHeader;s&&(s.focusIndex=n)}_focusChanged(n){this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){const s=new B$;return s.index=n,this._tabs&&this._tabs.length&&(s.tab=this._tabs.toArray()[n]),s}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,In.T)(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const s=this._tabBodyWrapper.nativeElement;s.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(s.style.height=n+"px")}_removeTabBodyWrapperHeight(){const n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,s,a){n.disabled||(this.selectedIndex=s.focusIndex=a)}_getTabIndex(n,s){return n.disabled?null:this.selectedIndex===s?0:-1}_tabFocusChanged(n,s){n&&"mouse"!==n&&"touch"!==n&&(this._tabHeader.focusIndex=s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(fH,8),o.Y36(Zn,8))},r.\u0275dir=o.lG2({type:r,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.qOj]}),r})(),pH=(()=>{class r extends U${constructor(n,s,a,l){super(n,s,a,l)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(fH,8),o.Y36(Zn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-group"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,yL,5),2&n){let l;o.iGM(l=o.CRH())&&(s._allTabs=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(D$,5),o.Gf(T$,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._tabBodyWrapper=a.first),o.iGM(a=o.CRH())&&(s._tabHeader=a.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-tab-group-dynamic-height",s.dynamicHeight)("mat-tab-group-inverted-header","below"===s.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o._Bn([{provide:dH,useExisting:r}]),o.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-tab-header",0,1),o.NdJ("indexFocused",function(l){return s._focusChanged(l)})("selectFocusedIndex",function(l){return s.selectedIndex=l}),o.YNc(2,x$,4,14,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.YNc(5,A$,1,9,"mat-tab-body",5),o.qZA()),2&n&&(o.Q6J("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination),o.xp6(2),o.Q6J("ngForOf",s._tabs),o.xp6(1),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),o.xp6(2),o.Q6J("ngForOf",s._tabs))},directives:function(){return[q$,bt,mH,Ns,b_,ct,ci,hH]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),r})();const H$=Os(class{});let mH=(()=>{class r extends H${constructor(n){super(),this.elementRef=n}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,s){2&n&&(o.uIk("aria-disabled",!!s.disabled),o.ekj("mat-tab-disabled",s.disabled))},inputs:{disabled:"disabled"},features:[o.qOj]}),r})();const gH=Lo({passive:!0});let yH=(()=>{class r{constructor(n,s,a,l,h,m,_){this._elementRef=n,this._changeDetectorRef=s,this._viewportRuler=a,this._dir=l,this._ngZone=h,this._platform=m,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new pe.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new pe.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.vpe,this.indexFocused=new o.vpe,h.runOutsideAngular(()=>{Nn(n.nativeElement,"mouseleave").pipe(Be(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){n=qt(n),this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}ngAfterViewInit(){Nn(this._previousPaginator.nativeElement,"touchstart",gH).pipe(Be(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Nn(this._nextPaginator.nativeElement,"touchstart",gH).pipe(Be(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const n=this._dir?this._dir.change:(0,qe.of)("ltr"),s=this._viewportRuler.change(150),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new tu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(a):a(),(0,In.T)(n,s,this._items.changes).pipe(Be(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(a)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Be(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Gn(n))switch(n.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n));break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){const n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){if(!this._items)return!0;const s=this._items?this._items.toArray()[n]:null;return!!s&&!s.disabled}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();const s=this._tabListContainer.nativeElement;s.scrollLeft="ltr"==this._getLayoutDirection()?0:s.scrollWidth-s.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const n=this.scrollDistance,s="ltr"===this._getLayoutDirection()?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(s)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){return this._scrollTo(this._scrollDistance+("before"==n?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;const s=this._items?this._items.toArray()[n]:null;if(!s)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:h}=s.elementRef.nativeElement;let m,_;"ltr"==this._getLayoutDirection()?(m=l,_=m+h):(_=this._tabList.nativeElement.offsetWidth-l,m=_-h);const w=this.scrollDistance,T=this.scrollDistance+a;m<w?this.scrollDistance-=w-m+60:_>T&&(this.scrollDistance+=_-T+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const n=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;n||(this.scrollDistance=0),n!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=n}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,s=n?n.elementRef.nativeElement:null;s?this._inkBar.alignToElement(s):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,s){s&&null!=s.button&&0!==s.button||(this._stopInterval(),Pp(650,100).pipe(Be((0,In.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:l}=this._scrollHeader(n);(0===l||l>=a)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const s=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(s,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:s,distance:this._scrollDistance}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(mr),o.Y36(gn,8),o.Y36(o.R0b),o.Y36(Rt),o.Y36(Zn,8))},r.\u0275dir=o.lG2({type:r,inputs:{disablePagination:"disablePagination"}}),r})(),G$=(()=>{class r extends yH{constructor(n,s,a,l,h,m,_){super(n,s,a,l,h,m,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=xe(n)}_itemSelected(n){n.preventDefault()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(mr),o.Y36(gn,8),o.Y36(o.R0b),o.Y36(Rt),o.Y36(Zn,8))},r.\u0275dir=o.lG2({type:r,inputs:{disableRipple:"disableRipple"},features:[o.qOj]}),r})(),q$=(()=>{class r extends G${constructor(n,s,a,l,h,m,_){super(n,s,a,l,h,m,_)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(mr),o.Y36(gn,8),o.Y36(o.R0b),o.Y36(Rt),o.Y36(Zn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-header"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,mH,4),2&n){let l;o.iGM(l=o.CRH())&&(s._items=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(bA,7),o.Gf(sH,7),o.Gf(oH,7),o.Gf(aH,5),o.Gf(lH,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._inkBar=a.first),o.iGM(a=o.CRH())&&(s._tabListContainer=a.first),o.iGM(a=o.CRH())&&(s._tabList=a.first),o.iGM(a=o.CRH())&&(s._nextPaginator=a.first),o.iGM(a=o.CRH())&&(s._previousPaginator=a.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-tab-header-rtl","rtl"==s._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.qOj],ngContentSelectors:_L,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return s._handlePaginatorClick("before")})("mousedown",function(l){return s._handlePaginatorPress("before",l)})("touchend",function(){return s._stopInterval()}),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.NdJ("keydown",function(l){return s._handleKeydown(l)}),o.TgZ(5,"div",5,6),o.NdJ("cdkObserveContent",function(){return s._onContentChanges()}),o.TgZ(7,"div",7),o.Hsn(8),o.qZA(),o._UZ(9,"mat-ink-bar"),o.qZA(),o.qZA(),o.TgZ(10,"div",8,9),o.NdJ("mousedown",function(l){return s._handlePaginatorPress("after",l)})("click",function(){return s._handlePaginatorClick("after")})("touchend",function(){return s._stopInterval()}),o._UZ(12,"div",2),o.qZA()),2&n&&(o.ekj("mat-tab-header-pagination-disabled",s._disableScrollBefore),o.Q6J("matRippleDisabled",s._disableScrollBefore||s.disableRipple),o.xp6(5),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),o.xp6(5),o.ekj("mat-tab-header-pagination-disabled",s._disableScrollAfter),o.Q6J("matRippleDisabled",s._disableScrollAfter||s.disableRipple))},directives:[Ns,Ap,bA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),r})(),J$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,tt,el,pl,kp,nu],tt]}),r})();class Q${call(i,n){return n.subscribe(new K$(i))}}class K$ extends fy{constructor(i){super(i),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(i){this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{for(let s=0;s<n&&!this.hasFirst;s++){const l=py(this,i[s],void 0,s);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(i,n,s){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==s){let l=this.subscriptions[a];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(n)}}var X$=L(8640);const wH=new kn.y(X$.Z);var vA=L(377);function wA(...r){const i=r[r.length-1];return"function"==typeof i&&r.pop(),(0,my.n)(r,void 0).lift(new e7(i))}class e7{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new t7(i,this.resultSelector))}}class t7 extends Ti.L{constructor(i,n,s=Object.create(null)){super(i),this.resultSelector=n,this.iterators=[],this.active=0,this.resultSelector="function"==typeof n?n:void 0}_next(i){const n=this.iterators;(0,Nl.k)(i)?n.push(new i7(i)):n.push("function"==typeof i[vA.hZ]?new n7(i[vA.hZ]()):new r7(this.destination,this,i))}_complete(){const i=this.iterators,n=i.length;if(this.unsubscribe(),0!==n){this.active=n;for(let s=0;s<n;s++){let a=i[s];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const i=this.iterators,n=i.length,s=this.destination;for(let h=0;h<n;h++){let m=i[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let a=!1;const l=[];for(let h=0;h<n;h++){let m=i[h],_=m.next();if(m.hasCompleted()&&(a=!0),_.done)return void s.complete();l.push(_.value)}this.resultSelector?this._tryresultSelector(l):s.next(l),a&&s.complete()}_tryresultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}class n7{constructor(i){this.iterator=i,this.nextResult=i.next()}hasValue(){return!0}next(){const i=this.nextResult;return this.nextResult=this.iterator.next(),i}hasCompleted(){const i=this.nextResult;return Boolean(i&&i.done)}}class i7{constructor(i){this.array=i,this.index=0,this.length=0,this.length=i.length}[vA.hZ](){return this}next(i){const n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class r7 extends ai.Ds{constructor(i,n,s){super(i),this.parent=n,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[vA.hZ](){return this}next(){const i=this.buffer;return 0===i.length&&this.isComplete?{value:null,done:!0}:{value:i.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(i){this.buffer.push(i),this.parent.checkIterators()}subscribe(){return(0,ai.ft)(this.observable,new ai.IY(this))}}function bL(...r){return i=>{let n;return"function"==typeof r[r.length-1]&&(n=r.pop()),i.lift(new o7(r,n))}}class o7{constructor(i,n){this.observables=i,this.project=n}call(i,n){return n.subscribe(new a7(i,this.observables,this.project))}}class a7 extends fy{constructor(i,n,s){super(i),this.observables=n,this.project=s,this.toRespond=[];const a=n.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(py(this,n[l],void 0,l))}notifyNext(i,n,s){this.values[s]=n;const a=this.toRespond;if(a.length>0){const l=a.indexOf(s);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const n=[i,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(i){let n;try{n=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}L(3098);var DH=L(8819);const _v=["*"];function b7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"li",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit,h=o.oxw();return h.focus(),h.select(l.id,h.NgbSlideEventSource.INDICATOR)}),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw();o.ekj("active",n.id===s.activeId),o.uIk("aria-labelledby","slide-"+n.id)("aria-controls","slide-"+n.id)("aria-selected",n.id===s.activeId)}}function v7(r,i){}function w7(r,i){if(1&r&&(o.TgZ(0,"div",7),o.TgZ(1,"span",8),o.SDv(2,9),o.qZA(),o.YNc(3,v7,0,0,"ng-template",10),o.qZA()),2&r){const n=i.$implicit,s=i.index,a=i.count;o.Q6J("id","slide-"+n.id),o.xp6(2),o.pQV(s+1)(a),o.QtT(2),o.xp6(1),o.Q6J("ngTemplateOutlet",n.tplRef)}}function C7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"a",11),o.NdJ("click",function(){return o.CHM(n),o.oxw().arrowLeft()}),o._UZ(1,"span",12),o.TgZ(2,"span",8),o.SDv(3,13),o.qZA(),o.qZA()}}function D7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"a",14),o.NdJ("click",function(){return o.CHM(n),o.oxw().arrowRight()}),o._UZ(1,"span",15),o.TgZ(2,"span",8),o.SDv(3,16),o.qZA(),o.qZA()}}const K7=["dialog"];function Bf(r){return null!=r}function bv(r){return(r||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(r){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(r))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const EH={animation:!0,transitionTimerDelayMs:5};let ns=(()=>{class r{constructor(){this.animation=EH.animation}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const uJ=()=>{},{transitionTimerDelayMs:dJ}=EH,rD=new Map,Ur=(r,i,n,s)=>{let a=s.context||{};const l=rD.get(i);if(l)switch(s.runningTransition){case"continue":return R.E;case"stop":r.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),rD.delete(i)}const h=n(i,s.animation,a)||uJ;if(!s.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>h()),(0,qe.of)(void 0).pipe(function(r){return i=>new kn.y(n=>i.subscribe(h=>r.run(()=>n.next(h)),h=>r.run(()=>n.error(h)),()=>r.run(()=>n.complete())))}(r));const m=new pe.xQ,_=new pe.xQ,w=m.pipe(function(...r){return i=>Pl(i,(0,qe.of)(...r))}(!0));rD.set(i,{transition$:m,complete:()=>{_.next(),_.complete()},context:a});const T=function(r){const{transitionDelay:i,transitionDuration:n}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(n))}(i);return r.runOutsideAngular(()=>{const A=Nn(i,"transitionend").pipe(Be(w),wt(({target:O})=>O===i));(function(...r){if(1===r.length){if(!(0,Nl.k)(r[0]))return r[0];r=r[0]}return(0,my.n)(r,void 0).lift(new Q$)})(Pp(T+dJ).pipe(Be(w)),A,_).pipe(Be(w)).subscribe(()=>{rD.delete(i),r.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let IH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),RH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),NH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),vJ=(()=>{class r{constructor(n){this._ngbConfig=n,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ns))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(ns))},token:r,providedIn:"root"}),r})();var Vf=(()=>(function(r){r.LEFT="left",r.RIGHT="right"}(Vf||(Vf={})),Vf))();const PH=({classList:r})=>r.contains("carousel-item-left")||r.contains("carousel-item-right"),sD=r=>{r.remove("carousel-item-left"),r.remove("carousel-item-right")},TA=r=>{sD(r),r.remove("carousel-item-prev"),r.remove("carousel-item-next")},wJ=(r,i,{direction:n})=>{const{classList:s}=r;return i?(PH(r)?sD(s):(s.add("carousel-item-"+(n===Vf.LEFT?"next":"prev")),bv(r),s.add("carousel-item-"+n)),()=>{TA(s),s.add("active")}):(sD(s),TA(s),void s.add("active"))},CJ=(r,i,{direction:n})=>{const{classList:s}=r;return i?(PH(r)?sD(s):s.add("carousel-item-"+n),()=>{TA(s),s.remove("active")}):(sD(s),TA(s),void s.remove("active"))};let DJ=0,EL=(()=>{class r{constructor(n){this.tplRef=n,this.id="ngb-slide-"+DJ++,this.slid=new o.vpe}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),r})(),FH=(()=>{class r{constructor(n,s,a,l,h){this._platformId=s,this._ngZone=a,this._cd=l,this._container=h,this.NgbSlideEventSource=vg,this._destroy$=new pe.xQ,this._interval$=new oi(0),this._mouseHover$=new oi(!1),this._focused$=new oi(!1),this._pauseOnHover$=new oi(!1),this._pauseOnFocus$=new oi(!1),this._pause$=new oi(!1),this._wrap$=new oi(!1),this.slide=new o.vpe,this.slid=new o.vpe,this._transitionIds=null,this.animation=n.animation,this.interval=n.interval,this.wrap=n.wrap,this.keyboard=n.keyboard,this.pauseOnHover=n.pauseOnHover,this.pauseOnFocus=n.pauseOnFocus,this.showNavigationArrows=n.showNavigationArrows,this.showNavigationIndicators=n.showNavigationIndicators}set interval(n){this._interval$.next(n)}get interval(){return this._interval$.value}set wrap(n){this._wrap$.next(n)}get wrap(){return this._wrap$.value}set pauseOnHover(n){this._pauseOnHover$.next(n)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(n){this._pauseOnFocus$.next(n)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(n){this._mouseHover$.next(n)}get mouseHover(){return this._mouseHover$.value}set focused(n){this._focused$.next(n)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(vg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(vg.ARROW_RIGHT)}ngAfterContentInit(){kc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const n=nm([this.slide.pipe((0,b.U)(s=>s.current),$t(this.activeId)),this._wrap$,this.slides.changes.pipe($t(null))]).pipe((0,b.U)(([s,a])=>{const l=this.slides.toArray(),h=this._getSlideIdxById(s);return a?l.length>1:h<l.length-1}),vn());nm([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,n]).pipe((0,b.U)(([s,a,l,h,m,_,w])=>s||a&&l||h&&m||!w?0:_),vn(),mn(s=>s>0?Pp(s,s):wH),Be(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(vg.TIMER)))}),this.slides.changes.pipe(Be(this._destroy$)).subscribe(()=>{var n;null===(n=this._transitionIds)||void 0===n||n.forEach(s=>(r=>{var i;null===(i=rD.get(r))||void 0===i||i.complete()})(this._getSlideElement(s))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(P(1)).subscribe(()=>{for(const{id:s}of this.slides){const a=this._getSlideElement(s);s===this.activeId?a.classList.add("active"):a.classList.remove("active")}})})}ngAfterContentChecked(){let n=this._getSlideById(this.activeId);this.activeId=n?n.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const n=this._getSlideElement(this.activeId);n&&n.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(n,s){this._cycleToSelected(n,this._getSlideEventDirection(this.activeId,n),s)}prev(n){this._cycleToSelected(this._getPrevSlide(this.activeId),Vf.RIGHT,n)}next(n){this._cycleToSelected(this._getNextSlide(this.activeId),Vf.LEFT,n)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(n,s,a){const l=this._transitionIds;if(l&&(l[0]!==n||l[1]!==this.activeId))return;let h=this._getSlideById(n);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,n],this.slide.emit({prev:this.activeId,current:h.id,direction:s,paused:this._pause$.value,source:a});const m={animation:this.animation,runningTransition:"stop",context:{direction:s}},_=[],w=this._getSlideById(this.activeId);if(w){const O=Ur(this._ngZone,this._getSlideElement(w.id),CJ,m);O.subscribe(()=>{w.slid.emit({isShown:!1,direction:s,source:a})}),_.push(O)}const T=this.activeId;this.activeId=h.id;const A=this._getSlideById(this.activeId),I=Ur(this._ngZone,this._getSlideElement(h.id),wJ,m);I.subscribe(()=>{null==A||A.slid.emit({isShown:!0,direction:s,source:a})}),_.push(I),wA(..._).pipe(P(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:T,current:h.id,direction:s,paused:this._pause$.value,source:a})})}this._cd.markForCheck()}_getSlideEventDirection(n,s){return this._getSlideIdxById(n)>this._getSlideIdxById(s)?Vf.RIGHT:Vf.LEFT}_getSlideById(n){return this.slides.find(s=>s.id===n)||null}_getSlideIdxById(n){const s=this._getSlideById(n);return null!=s?this.slides.toArray().indexOf(s):-1}_getNextSlide(n){const s=this.slides.toArray(),a=this._getSlideIdxById(n);return a===s.length-1?this.wrap?s[0].id:s[s.length-1].id:s[a+1].id}_getPrevSlide(n){const s=this.slides.toArray(),a=this._getSlideIdxById(n);return 0===a?this.wrap?s[s.length-1].id:s[0].id:s[a-1].id}_getSlideElement(n){return this._container.nativeElement.querySelector(`#slide-${n}`)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(vJ),o.Y36(o.Lbi),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.SBq))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-carousel"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,EL,4),2&n){let l;o.iGM(l=o.CRH())&&(s.slides=l)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(n,s){1&n&&o.NdJ("keydown.arrowLeft",function(){return s.keyboard&&s.arrowLeft()})("keydown.arrowRight",function(){return s.keyboard&&s.arrowRight()})("mouseenter",function(){return s.mouseHover=!0})("mouseleave",function(){return s.mouseHover=!1})("focusin",function(){return s.focused=!0})("focusout",function(){return s.focused=!1}),2&n&&(o.uIk("aria-activedescendant","slide-"+s.activeId),o.Udp("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,n,s;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-numbera65b1b49aa7dd8c4f3004da6a8c2241814dae621783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,n=$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,s=$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],n,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],s]},template:function(n,s){1&n&&(o.TgZ(0,"ol",0),o.YNc(1,b7,1,5,"li",1),o.qZA(),o.TgZ(2,"div",2),o.YNc(3,w7,4,4,"div",3),o.qZA(),o.YNc(4,C7,4,0,"a",4),o.YNc(5,D7,4,0,"a",5)),2&n&&(o.ekj("sr-only",!s.showNavigationIndicators),o.xp6(1),o.Q6J("ngForOf",s.slides),o.xp6(2),o.Q6J("ngForOf",s.slides),o.xp6(1),o.Q6J("ngIf",s.showNavigationArrows),o.xp6(1),o.Q6J("ngIf",s.showNavigationArrows))},directives:[bt,ct,wi],encapsulation:2,changeDetection:0}),r})();var vg=(()=>(function(r){r.TIMER="timer",r.ARROW_LEFT="arrowLeft",r.ARROW_RIGHT="arrowRight",r.INDICATOR="indicator"}(vg||(vg={})),vg))();let LH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),BH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();var ln=(()=>(function(r){r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown"}(ln||(ln={})),ln))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const YH=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function GH(r){const i=Array.from(r.querySelectorAll(YH)).filter(n=>-1!==n.tabIndex);return[i[0],i[i.length-1]]}new class{getAllStyles(i){return window.getComputedStyle(i)}getStyle(i,n){return this.getAllStyles(i)[n]}isStaticPositioned(i){return"static"===(this.getStyle(i,"position")||"static")}offsetParent(i){let n=i.offsetParent||document.documentElement;for(;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement}position(i,n=!0){let s,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))s=i.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const l=this.offsetParent(i);s=this.offset(i,!1),l!==document.documentElement&&(a=this.offset(l,!1)),a.top+=l.clientTop,a.left+=l.clientLeft}return s.top-=a.top,s.bottom-=a.top,s.left-=a.left,s.right-=a.left,n&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(i,n=!0){const s=i.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:s.height||i.offsetHeight,width:s.width||i.offsetWidth,top:s.top+a_top,bottom:s.bottom+a_top,left:s.left+a_left,right:s.right+a_left};return n&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(i,n,s,a){const[l="top",h="center"]=s.split("-"),m=a?this.offset(i,!1):this.position(i,!1),_=this.getAllStyles(n),w=parseFloat(_.marginTop),T=parseFloat(_.marginBottom),A=parseFloat(_.marginLeft),I=parseFloat(_.marginRight);let O=0,B=0;switch(l){case"top":O=m.top-(n.offsetHeight+w+T);break;case"bottom":O=m.top+m.height;break;case"left":B=m.left-(n.offsetWidth+A+I);break;case"right":B=m.left+m.width}switch(h){case"top":O=m.top;break;case"bottom":O=m.top+m.height-n.offsetHeight;break;case"left":B=m.left;break;case"right":B=m.left+m.width-n.offsetWidth;break;case"center":"top"===l||"bottom"===l?B=m.left+m.width/2-n.offsetWidth/2:O=m.top+m.height/2-n.offsetHeight/2}n.style.transform=`translate(${Math.round(B)}px, ${Math.round(O)}px)`;const $=n.getBoundingClientRect(),le=document.documentElement,Re=window.innerHeight||le.clientHeight,Ve=window.innerWidth||le.clientWidth;return $.left>=0&&$.top>=0&&$.right<=Ve&&$.bottom<=Re}},new Date(1882,10,12),new Date(2174,10,25);let eZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,hR]]}),r})(),rZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),sZ=(()=>{class r{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ns))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(ns))},token:r,providedIn:"root"}),r})();class Tg{constructor(i,n,s){this.nodes=i,this.viewRef=n,this.componentRef=s}}const a9=()=>{};let oZ=(()=>{class r{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):a9}_adjustBody(n){const s=this._document.body,a=s.style.paddingRight,l=parseFloat(window.getComputedStyle(s)["padding-right"]);return s.style["padding-right"]=`${l+n}px`,()=>s.style["padding-right"]=a}_isPresent(n){const s=this._document.body.getBoundingClientRect();return window.innerWidth-(s.left+s.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const s=this._document.body;s.appendChild(n);const a=n.getBoundingClientRect().width-n.clientWidth;return s.removeChild(n),a}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(j))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(j))},token:r,providedIn:"root"}),r})(),l9=(()=>{class r{constructor(n,s){this._el=n,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe(P(1)).subscribe(()=>{Ur(this._zone,this._el.nativeElement,(n,s)=>{s&&bv(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ur(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(n,s){2&n&&(o.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),o.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,s){},encapsulation:2}),r})();class aZ{close(i){}dismiss(i){}}class c9{constructor(i,n,s,a){this._windowCmptRef=i,this._contentRef=n,this._backdropCmptRef=s,this._beforeDismiss=a,this._closed=new pe.xQ,this._dismissed=new pe.xQ,this._hidden=new pe.xQ,i.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Be(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Be(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();n&&n.then?n.then(s=>{!1!==s&&this._dismiss(i)},()=>{}):!1!==n&&this._dismiss(i)}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,qe.of)(void 0);i.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),wA(i,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var uD=(()=>(function(r){r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC"}(uD||(uD={})),uD))();let u9=(()=>{class r{constructor(n,s,a){this._document=n,this._elRef=s,this._zone=a,this._closed$=new pe.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new pe.xQ,this.hidden=new pe.xQ}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,s={animation:this.animation,runningTransition:"stop"},h=wA(Ur(this._zone,n,()=>n.classList.remove("show"),s),Ur(this._zone,this._dialogEl.nativeElement,()=>{},s));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const n={animation:this.animation,runningTransition:"continue"};wA(Ur(this._zone,this._elRef.nativeElement,(l,h)=>{h&&bv(l),l.classList.add("show")},n),Ur(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Nn(n,"keydown").pipe(Be(this._closed$),wt(a=>a.which===ln.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(uD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;Nn(this._dialogEl.nativeElement,"mousedown").pipe(Be(this._closed$),(0,Wn.b)(()=>s=!1),mn(()=>Nn(n,"mouseup").pipe(Be(this._closed$),P(1))),wt(({target:a})=>n===a)).subscribe(()=>{s=!0}),Nn(n,"click").pipe(Be(this._closed$)).subscribe(({target:a})=>{n===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(uD.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const s=n.querySelector("[ngbAutofocus]"),a=GH(n)[0];(s||a||n).focus()}}_restoreFocus(){const n=this._document.body,s=this._elWithFocus;let a;a=s&&s.focus&&n.contains(s)?s:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ur(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(j),o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,s){if(1&n&&o.Gf(K7,7),2&n){let a;o.iGM(a=o.CRH())&&(s._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,s){2&n&&(o.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),o.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),o.ekj("fade",s.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_v,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&n&&o.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),r})(),lZ=(()=>{class r{constructor(n,s,a,l,h,m){this._applicationRef=n,this._injector=s,this._document=a,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new pe.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((r,i,n,s=!1)=>{r.runOutsideAngular(()=>{const a=Nn(i,"focusin").pipe(Be(n),(0,b.U)(l=>l.target));Nn(i,"keydown").pipe(Be(n),wt(l=>l.which===ln.Tab),bL(a)).subscribe(([l,h])=>{const[m,_]=GH(i);(h===m||h===i)&&l.shiftKey&&(_.focus(),l.preventDefault()),h===_&&!l.shiftKey&&(m.focus(),l.preventDefault())}),s&&Nn(i,"click").pipe(Be(n),bL(a),(0,b.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}open(n,s,a,l){const h=l.container instanceof HTMLElement?l.container:Bf(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),_=this._scrollBar.compensate(),w=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const T=new aZ,A=this._getContentRef(n,l.injector||s,a,T,l);let I=!1!==l.backdrop?this._attachBackdrop(n,h):void 0,O=this._attachWindowComponent(n,h,A),B=new c9(O,A,I,l.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(O),B.result.then(_,_),B.result.then(w,w),T.close=$=>{B.close($)},T.dismiss=$=>{B.dismiss($)},this._applyWindowOptions(O.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,l),I.changeDetectorRef.detectChanges()),O.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(s=>s.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,s){let l=n.resolveComponentFactory(l9).create(this._injector);return this._applicationRef.attachView(l.hostView),s.appendChild(l.location.nativeElement),l}_attachWindowComponent(n,s,a){let h=n.resolveComponentFactory(u9).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),s.appendChild(h.location.nativeElement),h}_applyWindowOptions(n,s){this._windowAttributes.forEach(a=>{Bf(s[a])&&(n[a]=s[a])})}_applyBackdropOptions(n,s){this._backdropAttributes.forEach(a=>{Bf(s[a])&&(n[a]=s[a])})}_getContentRef(n,s,a,l,h){return a?a instanceof o.Rgc?this._createFromTemplateRef(a,l):function(r){return"string"==typeof r}(a)?this._createFromString(a):this._createFromComponent(n,s,a,l,h):new Tg([])}_createFromTemplateRef(n,s){const l=n.createEmbeddedView({$implicit:s,close(h){s.close(h)},dismiss(h){s.dismiss(h)}});return this._applicationRef.attachView(l),new Tg([l.rootNodes],l)}_createFromString(n){const s=this._document.createTextNode(`${n}`);return new Tg([[s]])}_createFromComponent(n,s,a,l,h){const m=n.resolveComponentFactory(a),_=o.zs3.create({providers:[{provide:aZ,useValue:l}],parent:s}),w=m.create(_),T=w.location.nativeElement;return h.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Tg([[T]],w.hostView,w)}_setAriaHidden(n){const s=n.parentElement;s&&n!==this._document.body&&(Array.from(s.children).forEach(a=>{a!==n&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const s=()=>{const a=this._modalRefs.indexOf(n);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(s,s)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const s=this._windowCmpts.indexOf(n);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(j),o.LFG(oZ),o.LFG(o.FYo),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.z2F),o.LFG(o.gxx),o.LFG(j),o.LFG(oZ),o.LFG(o.FYo),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})(),d9=(()=>{class r{constructor(n,s,a,l){this._moduleCFR=n,this._injector=s,this._modalStack=a,this._config=l}open(n,s={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._moduleCFR,this._injector,n,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(lZ),o.LFG(sZ))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o._Vd),o.LFG(o.gxx),o.LFG(lZ),o.LFG(sZ))},token:r,providedIn:"root"}),r})(),cZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[d9]}),r})(),fZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),wZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),TZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),MZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),EZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),kZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),IZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),RZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();new o.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let PZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})();const $9=[IH,RH,NH,LH,BH,eZ,rZ,cZ,fZ,wZ,TZ,MZ,EZ,kZ,IZ,RZ,PZ];let W9=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[$9,IH,RH,NH,LH,BH,eZ,rZ,cZ,fZ,wZ,TZ,MZ,EZ,kZ,IZ,RZ,PZ]}),r})();const FZ=["*"],LZ=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class K9{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(s=>this._trackTile(s))}_trackTile(i){const n=this._findMatchingGap(i.colspan);return this._markTilePosition(n,i),this.columnIndex=n+i.colspan,new X9(this.rowIndex,n)}_findMatchingGap(i){let n=-1,s=-1;do{this.columnIndex+i>this.tracker.length?(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)):(n=this.tracker.indexOf(0,this.columnIndex),-1!=n?(s=this._findGapEndIndex(n),this.columnIndex=n+1):(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)))}while(s-n<i||0==s);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let n=i+1;n<this.tracker.length;n++)if(0!=this.tracker[n])return n;return this.tracker.length}_markTilePosition(i,n){for(let s=0;s<n.colspan;s++)this.tracker[i+s]=n.rowspan}}class X9{constructor(i,n){this.row=i,this.col=n}}const BZ=new o.OlP("MAT_GRID_LIST");let VZ=(()=>{class r{constructor(n,s){this._element=n,this._gridList=s,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(n){this._rowspan=Math.round(qt(n))}get colspan(){return this._colspan}set colspan(n){this._colspan=Math.round(qt(n))}_setStyle(n,s){this._element.nativeElement.style[n]=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(BZ,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(n,s){2&n&&o.uIk("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:FZ,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[LZ],encapsulation:2,changeDetection:0}),r})();const eQ=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class BL{constructor(){this._rows=0,this._rowspan=0}init(i,n,s,a){this._gutterSize=UZ(i),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=s,this._direction=a}getBaseTileSize(i,n){return`(${i}% - (${this._gutterSize} * ${n}))`}getTilePosition(i,n){return 0===n?"0":Mg(`(${i} + ${this._gutterSize}) * ${n}`)}getTileSize(i,n){return`(${i} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(i,n,s){let a=100/this._cols,l=(this._cols-1)/this._cols;this.setColStyles(i,s,a,l),this.setRowStyles(i,n,a,l)}setColStyles(i,n,s,a){let l=this.getBaseTileSize(s,a);i._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(l,n)),i._setStyle("width",Mg(this.getTileSize(l,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}}class tQ extends BL{constructor(i){super(),this.fixedRowHeight=i}init(i,n,s,a){super.init(i,n,s,a),this.fixedRowHeight=UZ(this.fixedRowHeight),eQ.test(this.fixedRowHeight)}setRowStyles(i,n){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),i._setStyle("height",Mg(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",Mg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}class nQ extends BL{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,n,s,a){this.baseTileHeight=this.getBaseTileSize(s/this.rowHeightRatio,a),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),i._setStyle("paddingTop",Mg(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",Mg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(i){const n=i.split(":");this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}}class iQ extends BL{setRowStyles(i,n){let l=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);i._setStyle("top",this.getTilePosition(l,n)),i._setStyle("height",Mg(this.getTileSize(l,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}function Mg(r){return`calc(${r})`}function UZ(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let sQ=(()=>{class r{constructor(n,s){this._element=n,this._dir=s,this._gutter="1px"}get cols(){return this._cols}set cols(n){this._cols=Math.max(1,Math.round(qt(n)))}get gutterSize(){return this._gutter}set gutterSize(n){this._gutter=`${null==n?"":n}`}get rowHeight(){return this._rowHeight}set rowHeight(n){const s=`${null==n?"":n}`;s!==this._rowHeight&&(this._rowHeight=s,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(n){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===n?new iQ:n&&n.indexOf(":")>-1?new nQ(n):new tQ(n)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new K9);const n=this._tileCoordinator,s=this._tiles.filter(l=>!l._gridList||l._gridList===this),a=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,s),this._tileStyler.init(this.gutterSize,n,this.cols,a),s.forEach((l,h)=>{const m=n.positions[h];this._tileStyler.setStyle(l,m.row,m.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(n){n&&(this._element.nativeElement.style[n[0]]=n[1])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(gn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-grid-list"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,VZ,5),2&n){let l;o.iGM(l=o.CRH())&&(s._tiles=l)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(n,s){2&n&&o.uIk("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:BZ,useExisting:r}])],ngContentSelectors:FZ,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[LZ],encapsulation:2,changeDetection:0}),r})(),oQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[pA,tt],pA,tt]}),r})();const aQ=["*",[["mat-card-footer"]]],lQ=["*","mat-card-footer"],cQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],uQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],dQ=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],hQ=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let Eg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),Uf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),Sg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),dD=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),VL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),r})(),Hf=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Zn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:lQ,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(aQ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),UL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:uQ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(n,s){1&n&&(o.F$t(cQ),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),r})(),fQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:hQ,decls:4,vars:0,template:function(n,s){1&n&&(o.F$t(dQ),o.TgZ(0,"div"),o.Hsn(1),o.qZA(),o.Hsn(2,1),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),r})(),pQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt],tt]}),r})();const HZ=["mat-button",""],ZZ=["*"],gQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_Q=Ko(Os(Qs(class{constructor(r){this._elementRef=r}})));let rr=(()=>{class r extends _Q{constructor(n,s,a){super(n),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of gQ)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(ti),o.Y36(Zn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&o.Gf(Ns,5),2&n){let a;o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(o.uIk("disabled",s.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:HZ,ngContentSelectors:ZZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&n&&(o.xp6(2),o.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),o.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Ns],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),hD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[pl,tt],tt]}),r})();const yQ=["ngcarousel"];function bQ(r,i){if(1&r&&(o.TgZ(0,"div",15),o._UZ(1,"img",16),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(1),o.s9C("src",n.path,o.LSH)}}function vQ(r,i){1&r&&o.YNc(0,bQ,2,1,"ng-template",14)}function wQ(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card",17),o.TgZ(2,"mat-card-title-group"),o.TgZ(3,"mat-card-title"),o._uU(4),o.qZA(),o.TgZ(5,"mat-card-subtitle"),o.TgZ(6,"pre"),o._uU(7),o.qZA(),o.qZA(),o._UZ(8,"img",18),o.qZA(),o.TgZ(9,"mat-card-content"),o.TgZ(10,"pre"),o._uU(11),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=i.$implicit;o.xp6(4),o.Oqu(n.titre),o.xp6(3),o.hij("              ",n.sousTitre,"\n            "),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(3),o.hij("            ",n.texte,"\n          ")}}function CQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementePhoto()}),o._uU(1,"<<"),o.qZA()}}function DQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,"<<"),o.qZA())}function TQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementePhoto()}),o._uU(1,">>"),o.qZA()}}function MQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,">>"),o.qZA())}function EQ(r,i){if(1&r&&(o.TgZ(0,"pre"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2).$implicit;o.xp6(1),o.hij("                  ",n.listeEleves.substring(0,300)," ...\n                ")}}function SQ(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-header"),o.TgZ(3,"mat-card-title"),o._uU(4),o.qZA(),o.TgZ(5,"mat-card-subtitle"),o._uU(6),o.qZA(),o.qZA(),o._UZ(7,"img",22),o.TgZ(8,"mat-card-content"),o.YNc(9,EQ,2,1,"pre",21),o.TgZ(10,"p"),o._uU(11,"Photo \xe0 voir dans la rubrique Photos de classes"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(4),o.Oqu(n.annee),o.xp6(2),o.Oqu(n.titre),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(2),o.Q6J("ngIf",n.listeEleves)}}function xQ(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,SQ,12,4,"mat-grid-tile",21),o.qZA()),2&r){const n=i.index,s=o.oxw();o.xp6(1),o.Q6J("ngIf",n>=s.photoCourante&&n<s.photoCourante+s.pasPhotos)}}function AQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementePhoto()}),o._uU(1,"<<"),o.qZA()}}function kQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,"<<"),o.qZA())}function IQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementePhoto()}),o._uU(1,">>"),o.qZA()}}function RQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,">>"),o.qZA())}function OQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementeArticle()}),o._uU(1,"<<"),o.qZA()}}function NQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,"<<"),o.qZA())}function PQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementeArticle()}),o._uU(1,">>"),o.qZA()}}function FQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,">>"),o.qZA())}function LQ(r,i){if(1&r&&(o.TgZ(0,"pre"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2).$implicit;o.xp6(1),o.hij("                ",n.texte.substring(0,300)," ...\n              ")}}function BQ(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-header"),o.TgZ(3,"mat-card-title"),o._uU(4),o.qZA(),o.TgZ(5,"mat-card-subtitle"),o._uU(6),o.qZA(),o.qZA(),o._UZ(7,"img",23),o.TgZ(8,"mat-card-content"),o.YNc(9,LQ,2,1,"pre",21),o.TgZ(10,"p"),o._uU(11,"Article \xe0 lire dans les rubriques Articles"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(4),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(2),o.Q6J("ngIf",n.texte)}}function VQ(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,BQ,12,4,"mat-grid-tile",21),o.qZA()),2&r){const n=i.index,s=o.oxw();o.xp6(1),o.Q6J("ngIf",n>=s.articleCourant&&n<s.articleCourant+s.pasArticles)}}function UQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementeArticle()}),o._uU(1,"<<"),o.qZA()}}function HQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,"<<"),o.qZA())}function ZQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementeArticle()}),o._uU(1,">>"),o.qZA()}}function YQ(r,i){1&r&&(o.TgZ(0,"button",20),o._uU(1,">>"),o.qZA())}let GQ=(()=>{class r{constructor(n,s,a,l){this.photosService=n,this.articlesService=s,this.actualitesService=a,this.authService=l,this.photos=[],this.articleCourant=0,this.photoCourante=0,this.pasPhotos=4,this.pasArticles=4,this.pageCourantePhoto=1,this.pageCouranteArticle=1,this.nbPagesPhotos=0,this.nbPagesArticles=0,this.articlesService.getArticles(),this.photosService.getPhotos()}ngOnInit(){this.photosSubscription=this.photosService.photoSubject.subscribe(n=>{this.photos=n,this.nbPagesPhotos=Math.round(n.length/this.pasPhotos)}),this.photosCarouselSubscription=this.photosService.photosCarouselSubject.subscribe(n=>{}),this.articlesSubscription=this.articlesService.articlesSubject.subscribe(n=>{this.nbPagesArticles=Math.round(this.articlesService.articles.length/this.pasArticles)}),this.articlesService.emitArticles(),this.actualitesSubscription=this.actualitesService.actualitesSubject.subscribe(n=>{}),this.photosService.getPhotosCarousel(),this.actualitesService.getActualites()}ngOnDestroy(){null!=this.photosSubscription&&this.photosSubscription.unsubscribe(),null!=this.articlesSubscription&&this.articlesSubscription.unsubscribe()}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.round(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onIncrementePhoto(){this.photoCourante+=this.pasArticles,this.pageCourantePhoto=Math.round(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onDecrementeArticle(){this.articleCourant-=this.pasArticles,this.pageCouranteArticle=Math.round(this.articleCourant/this.pasArticles)+1}onIncrementeArticle(){this.articleCourant+=this.pasArticles,this.pageCouranteArticle=Math.round(this.articleCourant/this.pasArticles)+1}prevSlide(){this.ngCarousel.prev()}nextSlide(){this.ngCarousel.next()}stopSlider(){this.ngCarousel.pause()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(kf),o.Y36(Ku),o.Y36(jx),o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-accueil"]],viewQuery:function(n,s){if(1&n&&o.Gf(yQ,7),2&n){let a;o.iGM(a=o.CRH())&&(s.ngCarousel=a.first)}},decls:48,vars:40,consts:[["label","Accueil"],[3,"cellSpacing","cellPadding"],[1,"texte-entete",3,"width"],["src","../../assets/images/blason/Blason_ville_fr_Mori\xe8res-l\xe8s-Avignon_(Vaucluse).svg.png","alt","","height","250",2,"align-items","center"],[3,"width"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard","pauseOnHover","wrap","activeId"],["ngCarousel",""],[4,"ngFor","ngForOf"],["cols","3"],["label","Photos de classes"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],["label","Articles sur Mori\xe8res"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","",2,"width","600px",3,"src"],[1,"card"],["mat-card-image","",1,"",2,"width","480px",3,"src"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-image","","alt","Photo de classe",3,"src"],["mat-card-image","","alt","Photo",3,"src"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-tab-group"),o.TgZ(1,"mat-tab",0),o.TgZ(2,"table",1),o.TgZ(3,"tr"),o.TgZ(4,"td",2),o._UZ(5,"img",3),o.TgZ(6,"h4"),o._uU(7,"Nomine ne moreris"),o.qZA(),o.qZA(),o.TgZ(8,"td",2),o._uU(9," M\xe9moire Mori\xe9roise "),o._UZ(10,"br"),o._uU(11," Association r\xe9gie par la loi de 1901 "),o._UZ(12,"br"),o._uU(13," 1375 route de Gadagne "),o._UZ(14,"br"),o._uU(15," 84310 Mori\xe8res les Avignon "),o.qZA(),o.TgZ(16,"td",4),o.TgZ(17,"ngb-carousel",5,6),o.YNc(19,vQ,1,0,void 0,7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"mat-grid-list",8),o.YNc(21,wQ,12,4,"mat-grid-tile",7),o.qZA(),o.qZA(),o.TgZ(22,"mat-tab",9),o.YNc(23,CQ,2,0,"button",10),o.YNc(24,DQ,2,0,"button",11),o._uU(25),o.YNc(26,TQ,2,0,"button",10),o.YNc(27,MQ,2,0,"button",11),o.TgZ(28,"mat-grid-list",12),o.YNc(29,xQ,2,1,"div",7),o.qZA(),o.YNc(30,AQ,2,0,"button",10),o.YNc(31,kQ,2,0,"button",11),o._uU(32),o.YNc(33,IQ,2,0,"button",10),o.YNc(34,RQ,2,0,"button",11),o.qZA(),o.TgZ(35,"mat-tab",13),o.YNc(36,OQ,2,0,"button",10),o.YNc(37,NQ,2,0,"button",11),o._uU(38),o.YNc(39,PQ,2,0,"button",10),o.YNc(40,FQ,2,0,"button",11),o.TgZ(41,"mat-grid-list",12),o.YNc(42,VQ,2,1,"div",7),o.qZA(),o.YNc(43,UQ,2,0,"button",10),o.YNc(44,HQ,2,0,"button",11),o._uU(45),o.YNc(46,ZQ,2,0,"button",10),o.YNc(47,YQ,2,0,"button",11),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("cellSpacing",0)("cellPadding",30),o.xp6(2),o.Q6J("width",300),o.xp6(4),o.Q6J("width",300),o.xp6(8),o.Q6J("width",700),o.xp6(1),o.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!1)("interval",3e3)("keyboard",!1)("pauseOnHover",!1)("wrap",!1)("activeId","1"),o.xp6(2),o.Q6J("ngForOf",s.photosService.photosCarousel),o.xp6(2),o.Q6J("ngForOf",s.actualitesService.actualites),o.xp6(2),o.Q6J("ngIf",s.pageCourantePhoto>1),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<=1),o.xp6(1),o.AsE(" Page ",s.pageCourantePhoto," sur ",s.nbPagesPhotos," "),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<s.nbPagesPhotos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>=s.nbPagesPhotos),o.xp6(2),o.Q6J("ngForOf",s.photosService.photos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>1),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<=1),o.xp6(1),o.AsE(" Page ",s.pageCourantePhoto," sur ",s.nbPagesPhotos," "),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<s.nbPagesPhotos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>=s.nbPagesPhotos),o.xp6(2),o.Q6J("ngIf",s.pageCouranteArticle>1),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<=1),o.xp6(1),o.AsE(" Page ",s.pageCouranteArticle," sur ",s.nbPagesArticles," "),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<s.nbPagesArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>=s.nbPagesArticles),o.xp6(2),o.Q6J("ngForOf",s.articlesService.articles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>1),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<=1),o.xp6(1),o.AsE(" Page ",s.pageCouranteArticle," sur ",s.nbPagesArticles," "),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<s.nbPagesArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>=s.nbPagesArticles))},directives:[pH,yL,FH,bt,sQ,ct,EL,VZ,Hf,fQ,Uf,Sg,VL,Eg,rr,UL],styles:[".card[_ngcontent-%COMP%]{background-color:#323228}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:45%;height:40%}mat-grid-tile[_ngcontent-%COMP%]{margin:20px}mat-grid-list[_ngcontent-%COMP%]{max-width:97%}.header-image[_ngcontent-%COMP%]{vertical-align:top}button[_ngcontent-%COMP%]{background-color:#282832;font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:150px}"]}),r})();var Zf=(()=>(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"}(Zf||(Zf={})),Zf))();const GZ="firebasestorage.googleapis.com",qZ="storageBucket";class sr extends Wt.ZR{constructor(i,n){super(HL(i),`Firebase Storage: ${n} (${HL(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}_codeEquals(i){return HL(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function HL(r){return"storage/"+r}function ZL(){return new sr("unknown","An unknown error occurred, please check the error payload for server response.")}function jZ(){return new sr("canceled","User canceled the upload/download.")}function zZ(){return new sr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function iK(){return new sr("no-download-url","The given file does not have any download URLs.")}function Dv(r){return new sr("invalid-argument",r)}function $Z(){return new sr("app-deleted","The Firebase app was deleted.")}function WZ(r){return new sr("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fD(r,i){return new sr("invalid-format","String does not match format '"+r+"': "+i)}function NA(r){throw new sr("internal-error","Internal error: "+r)}class rK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Zf.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zf.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zf.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,a){if(this.sent_)throw NA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw NA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw NA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw NA("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class oK{createConnection(){return new rK}}class Ps{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=Ps.makeFromUrl(i,n)}catch(a){return new Ps(i,"")}if(""===s.path)return s;throw function(r){return new sr("invalid-default-bucket","Invalid default bucket '"+r+"'.")}(i)}static makeFromUrl(i,n){let s=null;const a="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+a+"(/(.*))?$","i");function w(We){We.path_=decodeURIComponent(We.path)}const A=n.replace(/[.]/g,"\\."),He=[{regex:m,indices:{bucket:1,path:3},postModify:function(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${n===GZ?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let We=0;We<He.length;We++){const wn=He[We],vi=wn.regex.exec(i);if(vi){let Ni=vi[wn.indices.path];Ni||(Ni=""),s=new Ps(vi[wn.indices.bucket],Ni),wn.postModify(s);break}}if(null==s)throw function(r){return new sr("invalid-url","Invalid URL '"+r+"'.")}(i);return s}}class aK{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function PA(r){return"string"==typeof r||r instanceof String}function JZ(r){return YL()&&r instanceof Blob}function YL(){return"undefined"!=typeof Blob}function GL(r,i,n,s){if(s<i)throw Dv(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw Dv(`Invalid value for '${r}'. Expected ${n} or less.`)}function Yf(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function QZ(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class fK{constructor(i,n,s,a,l,h,m,_,w,T,A){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l.slice(),this.additionalRetryCodes_=h.slice(),this.callback_=m,this.errorCallback_=_,this.progressCallback_=T,this.timeout_=w,this.pool_=A,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const i=this;function s(a,l){const h=i.resolve_,m=i.reject_,_=l.connection;if(l.wasSuccessCode)try{const w=i.callback_(_,_.getResponseText());!function(r){return void 0!==r}(w)?h():h(w)}catch(w){m(w)}else if(null!==_){const w=ZL();w.serverResponse=_.getResponseText(),m(i.errorCallback_?i.errorCallback_(_,w):w)}else m(l.canceled?i.appDelete_?$Z():jZ():new sr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new FA(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,a=null,l=!1,h=0;function m(){return 2===h}let _=!1;function w(...B){_||(_=!0,i.apply(null,B))}function T(B){a=setTimeout(()=>{a=null,r(A,m())},B)}function A(B,...$){if(_)return;if(B)return void w.call(null,B,...$);if(m()||l)return void w.call(null,B,...$);let Re;s<64&&(s*=2),1===h?(h=2,Re=0):Re=1e3*(s+Math.random()),T(Re)}let I=!1;function O(B){I||(I=!0,!_&&(null!==a?(B||(h=2),clearTimeout(a),T(0)):B||(h=1)))}return T(0),setTimeout(()=>{l=!0,O(!0)},n),O}(function(a,l){if(l)return void a(!1,new FA(!1,null,!0));const h=i.pool_.createConnection();function m(_){null!==i.progressCallback_&&i.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)}i.pendingConnection_=h,null!==i.progressCallback_&&h.addUploadProgressListener(m),h.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&h.removeUploadProgressListener(m),i.pendingConnection_=null;const _=h.getErrorCode()===Zf.NO_ERROR,w=h.getStatus();if(!_||i.isRetryStatusCode_(w)){const A=h.getErrorCode()===Zf.ABORT;return void a(!1,new FA(!1,null,A))}const T=-1!==i.successCodes_.indexOf(w);a(!0,new FA(T,h))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,a=-1!==[408,429].indexOf(i),l=-1!==this.additionalRetryCodes_.indexOf(i);return n||a||l}}class FA{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function vK(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(YL())return new Blob(r);throw new sr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qL{constructor(i,n){this.data=i,this.contentType=n||null}}function jL(r,i){switch(r){case Xo.RAW:return new qL(KZ(i));case Xo.BASE64:case Xo.BASE64URL:return new qL(XZ(r,i));case Xo.DATA_URL:return new qL(function(r){const i=new eY(r);return i.base64?XZ(Xo.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw fD(Xo.DATA_URL,"Malformed data URL.")}return KZ(i)}(i.rest)}(i),function(r){return new eY(r).contentType}(i))}throw ZL()}function KZ(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function XZ(r,i){switch(r){case Xo.BASE64:{const a=-1!==i.indexOf("-"),l=-1!==i.indexOf("_");if(a||l)throw fD(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const a=-1!==i.indexOf("+"),l=-1!==i.indexOf("/");if(a||l)throw fD(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(a){throw fD(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class eY{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw fD(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Tc{constructor(i,n){let s=0,a="";JZ(i)?(this.data_=i,s=i.size,a=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(i,n){if(JZ(this.data_)){const a=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===a?null:new Tc(a)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Tc(s,!0)}}static getBlob(...i){if(YL()){const n=i.map(s=>s instanceof Tc?s.data_:s);return new Tc(vK.apply(null,n))}{const n=i.map(h=>PA(h)?jL(Xo.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)a[l++]=h[m]}),new Tc(a,!0)}}uploadData(){return this.data_}}function zL(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function tY(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function AK(r,i){return i}class Xs{constructor(i,n,s,a){this.server=i,this.local=n||i,this.writable=!!s,this.xform=a||AK}}let LA=null;function pD(){if(LA)return LA;const r=[];r.push(new Xs("bucket")),r.push(new Xs("generation")),r.push(new Xs("metageneration")),r.push(new Xs("name","fullPath",!0));const n=new Xs("name");n.xform=function(l,h){return function(r){return!PA(r)||r.length<2?r:tY(r)}(h)},r.push(n);const a=new Xs("size");return a.xform=function(l,h){return void 0!==h?Number(h):h},r.push(a),r.push(new Xs("timeCreated")),r.push(new Xs("updated")),r.push(new Xs("md5Hash",null,!0)),r.push(new Xs("cacheControl",null,!0)),r.push(new Xs("contentDisposition",null,!0)),r.push(new Xs("contentEncoding",null,!0)),r.push(new Xs("contentLanguage",null,!0)),r.push(new Xs("contentType",null,!0)),r.push(new Xs("metadata","customMetadata",!0)),LA=r,LA}function nY(r,i,n){const s=zL(i);return null===s?null:function(r,i,n){const s={type:"file"},a=n.length;for(let l=0;l<a;l++){const h=n[l];s[h.local]=h.xform(s,i[h.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const l=new Ps(r.bucket,r.fullPath);return i._makeStorageReference(l)}})}(s,r),s}(r,s,n)}function $L(r,i){const n={},s=i.length;for(let a=0;a<s;a++){const l=i[a];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}const iY="prefixes";class nd{constructor(i,n,s,a){this.url=i,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mc(r){if(!r)throw ZL()}function BA(r,i){return function(s,a){const l=nY(r,a,i);return Mc(null!==l),l}}function Tv(r){return function(n,s){let a;return a=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new sr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new sr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new sr("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new sr("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,a.serverResponse=s.serverResponse,a}}function VA(r){const i=Tv(r);return function(s,a){let l=i(s,a);return 404===s.getStatus()&&(l=function(r){return new sr("object-not-found","Object '"+r+"' does not exist.")}(r.path)),l.serverResponse=a.serverResponse,l}}function sY(r,i,n){const a=Yf(i.fullServerUrl(),r.host,r._protocol),h=r.maxOperationRetryTime,m=new nd(a,"GET",BA(r,n),h);return m.errorHandler=VA(i),m}function BK(r,i,n,s,a){const l={};l.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(l.delimiter=n),s&&(l.pageToken=s),a&&(l.maxResults=a);const m=Yf(i.bucketOnlyServerUrl(),r.host,r._protocol),w=r.maxOperationRetryTime,T=new nd(m,"GET",function(r,i){return function(s,a){const l=function(r,i,n){const s=zL(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[iY])for(const a of n[iY]){const l=a.replace(/\/$/,""),h=r._makeStorageReference(new Ps(i,l));s.prefixes.push(h)}if(n.items)for(const a of n.items){const l=r._makeStorageReference(new Ps(i,a.name));s.items.push(l)}return s}(r,i,s)}(r,i,a);return Mc(null!==l),l}}(r,i.bucket),w);return T.urlParams=l,T.errorHandler=Tv(i),T}function VK(r,i,n){const a=Yf(i.fullServerUrl(),r.host,r._protocol),h=r.maxOperationRetryTime,m=new nd(a,"GET",function(r,i){return function(s,a){const l=nY(r,a,i);return Mc(null!==l),function(r,i,n,s){const a=zL(i);if(null===a||!PA(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(w=>{const A=r.fullPath;return Yf("/b/"+h(r.bucket)+"/o/"+h(A),n,s)+QZ({alt:"media",token:w})})[0]}(l,a,r.host,r._protocol)}}(r,n),h);return m.errorHandler=VA(i),m}function UK(r,i,n,s){const l=Yf(i.fullServerUrl(),r.host,r._protocol),m=$L(n,s),w=r.maxOperationRetryTime,T=new nd(l,"PATCH",BA(r,s),w);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=m,T.errorHandler=VA(i),T}function HK(r,i){const s=Yf(i.fullServerUrl(),r.host,r._protocol),m=new nd(s,"DELETE",function(_,w){},r.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=VA(i),m}function oY(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class UA{constructor(i,n,s,a){this.current=i,this.total=n,this.finalized=!!s,this.metadata=a||null}}function WL(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(a){Mc(!1)}return Mc(!!n&&-1!==(i||["active"]).indexOf(n)),n}const jK={STATE_CHANGED:"state_changed"},eo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JL(r){switch(r){case"running":case"pausing":case"canceling":return eo.RUNNING;case"paused":return eo.PAUSED;case"success":return eo.SUCCESS;case"canceled":return eo.CANCELED;case"error":default:return eo.ERROR}}class zK{constructor(i,n,s){if(function(r){return"function"==typeof r}(i)||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const l=i;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Mv(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class cY{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=pD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,a){const l=i.bucketOnlyServerUrl(),h=oY(i,s,a),m={name:h.fullPath},_=Yf(l,r.host,r._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},A=$L(h,n),B=new nd(_,"POST",function($){let le;WL($);try{le=$.getResponseHeader("X-Goog-Upload-URL")}catch(Re){Mc(!1)}return Mc(PA(le)),le},r.maxUploadRetryTime);return B.urlParams=m,B.headers=T,B.body=A,B.errorHandler=Tv(i),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const a=function(r,i,n,s){const _=new nd(n,"POST",function(w){const T=WL(w,["active","final"]);let A=null;try{A=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){Mc(!1)}A||Mc(!1);const I=Number(A);return Mc(!isNaN(I)),new UA(I,s.size(),"final"===T)},r.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Tv(i),_}(this._ref.storage,this._ref._location,i,this._blob),l=this._ref.storage._makeRequest(a,n,s);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new UA(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let h;try{h=function(r,i,n,s,a,l,h,m){const _=new UA(0,0);if(h?(_.current=h.current,_.total=h.total):(_.current=0,_.total=s.size()),s.size()!==_.total)throw new sr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const w=_.total-_.current;let T=w;a>0&&(T=Math.min(T,a));const A=_.current,B={"X-Goog-Upload-Command":T===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},$=s.slice(A,A+T);if(null===$)throw zZ();const He=new nd(n,"POST",function(We,wn){const vi=WL(We,["active","final"]),or=_.current+T,Ni=s.size();let ta;return ta="final"===vi?BA(i,l)(We,wn):null,new UA(or,Ni,"final"===vi,ta)},i.maxUploadRetryTime);return He.headers=B,He.body=$.uploadData(),He.progressCallback=m||null,He.errorHandler=Tv(r),He}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const m=this._ref.storage._makeRequest(h,a,l);this._request=m,m.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=sY(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,a){const l=i.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},_=function(){let He="";for(let We=0;We<2;We++)He+=Math.random().toString().slice(2);return He}();h["Content-Type"]="multipart/related; boundary="+_;const w=oY(i,s,a),T=$L(w,n),O=Tc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",s,"\r\n--"+_+"--");if(null===O)throw zZ();const B={name:w.fullPath},$=Yf(l,r.host,r._protocol),Re=r.maxUploadRetryTime,Ve=new nd($,"POST",BA(r,n),Re);return Ve.urlParams=B,Ve.headers=h,Ve.body=O.uploadData(),Ve.errorHandler=Tv(i),Ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=jZ(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=JL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,a){const l=new zK(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(JL(this._state)){case eo.SUCCESS:Mv(this._resolve.bind(null,this.snapshot))();break;case eo.CANCELED:case eo.ERROR:Mv(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(JL(this._state)){case eo.RUNNING:case eo.PAUSED:i.next&&Mv(i.next.bind(i,this.snapshot))();break;case eo.SUCCESS:i.complete&&Mv(i.complete.bind(i))();break;case eo.CANCELED:case eo.ERROR:i.error&&Mv(i.error.bind(i,this._error))();break;default:i.error&&Mv(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class xg{constructor(i,n){this._service=i,this._location=n instanceof Ps?n:Ps.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new xg(i,n)}get root(){const i=new Ps(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tY(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new Ps(this._location.bucket,i);return new xg(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw WZ(i)}}function dY(r,i,n){return QL.apply(this,arguments)}function QL(){return(QL=(0,Te.Z)(function*(r,i,n){const a=yield hY(r,{pageToken:n});i.prefixes.push(...a.prefixes),i.items.push(...a.items),null!=a.nextPageToken&&(yield dY(r,i,a.nextPageToken))})).apply(this,arguments)}function hY(r,i){return KL.apply(this,arguments)}function KL(){return(KL=(0,Te.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&GL("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=BK(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function XL(){return(XL=(0,Te.Z)(function*(r){r._throwIfRoot("getMetadata");const i=sY(r.storage,r._location,pD());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function e2(){return(e2=(0,Te.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=UK(r.storage,r._location,i,pD());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function t2(){return(t2=(0,Te.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=VK(r.storage,r._location,pD());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw iK();return n})})).apply(this,arguments)}function n2(){return(n2=(0,Te.Z)(function*(r){r._throwIfRoot("deleteObject");const i=HK(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function fY(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new Ps(r._location.bucket,n);return new xg(r.storage,s)}function pY(r,i){if(r instanceof r2){const n=r;if(null==n._bucket)throw new sr("no-default-bucket","No default bucket found. Did you set the '"+qZ+"' property when initializing the app?");const s=new xg(n,n._bucket);return null!=i?pY(s,i):s}return void 0!==i?fY(r,i):r}function iX(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof r2)return function(r,i){return new xg(r,i)}(r,i);throw Dv("To use ref(service, url), the first argument must be a Storage instance.")}return pY(r,i)}function mY(r,i){const n=null==i?void 0:i[qZ];return null==n?null:Ps.makeFromBucketSpec(n,r)}class r2{constructor(i,n,s,a,l,h){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=a,this._url=l,this._firebaseVersion=h,this._bucket=null,this._host=GZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=l?Ps.makeFromBucketSpec(l,this._host):mY(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Ps.makeFromBucketSpec(this._url,i):mY(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){GL("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){GL("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Te.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Te.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new xg(this,i)}_makeRequest(i,n,s){if(this._deleted)return new aK($Z());{const a=function(r,i,n,s,a,l){const h=QZ(r.urlParams),m=r.url+h,_=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(_,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(_,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(_,l),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(_,s),new fK(m,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(i){var n=this;return(0,Te.Z)(function*(){const[s,a]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,a)})()}}function _Y(r,i){return iX(r=(0,Wt.m9)(r),i)}(0,Fh._registerComponent)(new tc.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new r2(n,s,a,new oK,i,Fh.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Fh.registerVersion)("@firebase/storage","0.8.2");class HA{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yY{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new HA(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new HA(s,this,this._ref))},n)}on(i,n,s,a){let l;return n&&(l="function"==typeof n?h=>n(new HA(h,this,this._ref)):{next:n.next?h=>n.next(new HA(h,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,l,s||void 0,a||void 0)}}class bY{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new id(i,this._service))}get items(){return this._delegate.items.map(i=>new id(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class id{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return fY(r,i)}(this._delegate,i);return new id(n,this.storage)}get root(){return new id(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new id(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new yY(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new cY(r,new Tc(i),n)}(r=(0,Wt.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=Xo.RAW,s){this._throwIfRoot("putString");const a=jL(n,i),l=Object.assign({},s);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new yY(new cY(this._delegate,new Tc(a.data,!0),l),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return dY(r,i).then(()=>i)}(r=(0,Wt.m9)(r))}(this._delegate).then(i=>new bY(i,this.storage))}list(i){return function(r,i){return hY(r=(0,Wt.m9)(r),i)}(this._delegate,i||void 0).then(n=>new bY(n,this.storage))}getMetadata(){return function(r){return function(r){return XL.apply(this,arguments)}(r=(0,Wt.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return e2.apply(this,arguments)}(r=(0,Wt.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return t2.apply(this,arguments)}(r=(0,Wt.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return n2.apply(this,arguments)}(r=(0,Wt.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw WZ(i)}}class vY{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(wY(i))throw Dv("ref() expected a child path but got a URL, use refFromURL instead.");return new id(_Y(this._delegate,i),this)}refFromURL(i){if(!wY(i))throw Dv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ps.makeFromUrl(i,this._delegate.host)}catch(n){throw Dv("refFromUrl() expected a valid full URL but got an invalid one.")}return new id(_Y(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:a}=s;a&&(r._overrideAuthToken="string"==typeof a?a:(0,Wt.Sg)(a,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function wY(r){return/^[A-Za-z]+:\/\//.test(r)}function wX(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new vY(n,s)}function CY(r){const i=function(r){return new kn.y(i=>{const n=h=>i.next(h);n(r.snapshot);const l=r.on("state_changed",n);return r.then(h=>{n(h),i.complete()},h=>{n(r.snapshot),(h=>{i.error(h)})(h)}),function(){l()}}).pipe(Kc(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,b.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function ZA(r){return{getDownloadURL:()=>(0,qe.of)(void 0).pipe(ui.fc,mn(()=>r.getDownloadURL()),ui.iC),getMetadata:()=>(0,qe.of)(void 0).pipe(ui.fc,mn(()=>r.getMetadata()),ui.iC),delete:()=>(0,Bn.D)(r.delete()),child:i=>ZA(r.child(i)),updateMetadata:i=>(0,Bn.D)(r.updateMetadata(i)),put:(i,n)=>CY(r.put(i,n)),putString:(i,n,s)=>CY(r.putString(i,n,s)),listAll:()=>(0,Bn.D)(r.listAll())}}!function(r){const i={TaskState:eo,TaskEvent:jK,StringFormat:Xo,Storage:vY,Reference:id};r.INTERNAL.registerComponent(new tc.wA("storage-compat",wX,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(oS.Z);const TX=new o.OlP("angularfire2.storageBucket"),MX=new o.OlP("angularfire2.storage.maxUploadRetryTime"),EX=new o.OlP("angularfire2.storage.maxOperationRetryTime"),SX=new o.OlP("angularfire2.storage.use-emulator");let Ev=(()=>{class r{constructor(n,s,a,l,h,m,_,w,T){const A=(0,bo.on)(n,h,s);this.storage=(0,ui.cc)(`${A.name}.storage.${a}`,"AngularFireStorage",A.name,()=>{const I=h.runOutsideAngular(()=>A.storage(a||void 0)),O=T;return O&&I.useEmulator(...O),_&&I.setMaxUploadRetryTime(_),w&&I.setMaxOperationRetryTime(w),I},[_,w])}ref(n){return ZA(this.storage.ref(n))}refFromURL(n){return ZA(this.storage.refFromURL(n))}upload(n,s,a){return ZA(this.storage.ref(n)).put(s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(bo.Dh),o.LFG(bo.xv,8),o.LFG(TX,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ui.HU),o.LFG(MX,8),o.LFG(EX,8),o.LFG(SX,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),xX=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),AX=(()=>{class r{constructor(){_6.Z.registerVersion("angularfire",ui.q4.full,"gcs-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ev],imports:[xX]}),r})();var It=L(4762);new o.OlP("ngx-mat-file-input.config");class YA{constructor(i,n=", "){this._files=i,this.delimiter=n,this._fileNames=(this._files||[]).map(s=>s.name).join(n)}get files(){return this._files||[]}get fileNames(){return this._fileNames}}const RX=Q1(class{constructor(i,n,s,a){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=s,this.ngControl=a}});var GA;let ri=GA=class extends RX{constructor(i,n,s,a,l,h,m){super(a,h,m,l),this.fm=i,this._elementRef=n,this._renderer=s,this._defaultErrorStateMatcher=a,this.ngControl=l,this._parentForm=h,this._parentFormGroup=m,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.accept=null,this.id="ngx-mat-file-input-"+GA.nextId++,this.describedBy="",this._onChange=_=>{},this._onTouched=()=>{},null!=this.ngControl&&(this.ngControl.valueAccessor=this),i.monitor(n.nativeElement,!0).subscribe(_=>{this.focused=!!_,this.stateChanges.next()})}setDescribedByIds(i){this.describedBy=i.join(" ")}get value(){return this.empty?null:new YA(this._elementRef.nativeElement.value||[])}set value(i){i&&(this.writeValue(i),this.stateChanges.next())}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get empty(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length}get shouldLabelFloat(){return this.focused||!this.empty||void 0!==this.valuePlaceholder}get required(){return this._required}set required(i){this._required=xe(i),this.stateChanges.next()}get isDisabled(){return this.disabled}get disabled(){return this._elementRef.nativeElement.disabled}set disabled(i){this.setDisabledState(xe(i)),this.stateChanges.next()}onContainerClick(i){"input"!==i.target.tagName.toLowerCase()&&!this.disabled&&(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())}get fileNames(){return this.value?this.value.fileNames:this.valuePlaceholder}writeValue(i){this._renderer.setProperty(this._elementRef.nativeElement,"value",i instanceof YA?i.files:null)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}clear(i){i&&(i.preventDefault(),i.stopPropagation()),this.value=new YA([]),this._elementRef.nativeElement.querySelector("input").value=null,this._onChange(this.value)}change(i){const n=i.target.files,s=[];if(n)for(let a=0;a<n.length;a++)s.push(n[a]);this.value=new YA(s),this._onChange(this.value)}blur(){this.focused=!1,this._onTouched()}setDisabledState(i){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",i)}ngOnInit(){this.multiple=xe(this.multiple)}open(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()}ngOnDestroy(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}};ri.\u0275fac=function(i){return new(i||ri)(o.Y36(ti),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Ks),o.Y36(ms,10),o.Y36(Gs,8),o.Y36(Si,8))},ri.\u0275cmp=o.Xpm({type:ri,selectors:[["ngx-mat-file-input"]],hostVars:6,hostBindings:function(i,n){1&i&&o.NdJ("change",function(a){return n.change(a)})("focusout",function(){return n.blur()}),2&i&&(o.Ikx("id",n.id),o.uIk("aria-describedby",n.describedBy),o.ekj("mat-form-field-should-float",n.shouldLabelFloat)("file-input-disabled",n.isDisabled))},inputs:{autofilled:"autofilled",accept:"accept",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",multiple:"multiple",valuePlaceholder:"valuePlaceholder",errorStateMatcher:"errorStateMatcher"},features:[o._Bn([{provide:bg,useExisting:GA}]),o.qOj],decls:4,vars:4,consts:[["type","file"],["input",""],[1,"filename",3,"title"]],template:function(i,n){1&i&&(o._UZ(0,"input",0,1),o.TgZ(2,"span",2),o._uU(3),o.qZA()),2&i&&(o.uIk("multiple",n.multiple?"":null)("accept",n.accept),o.xp6(2),o.Q6J("title",n.fileNames),o.xp6(1),o.Oqu(n.fileNames))},styles:["[_nghost-%COMP%]{display:inline-block;width:100%}[_nghost-%COMP%]:not(.file-input-disabled){cursor:pointer}input[_ngcontent-%COMP%]{width:0;height:0;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),ri.nextId=0,ri.ctorParameters=()=>[{type:ti},{type:o.SBq},{type:o.Qsj},{type:Ks},{type:ms,decorators:[{type:o.FiY},{type:o.PiD}]},{type:Gs,decorators:[{type:o.FiY}]},{type:Si,decorators:[{type:o.FiY}]}],(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Object)],ri.prototype,"autofilled",void 0),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",String)],ri.prototype,"valuePlaceholder",void 0),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Boolean)],ri.prototype,"multiple",void 0),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Object)],ri.prototype,"accept",void 0),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Ks)],ri.prototype,"errorStateMatcher",void 0),(0,It.gn)([(0,o.pfw)(),(0,It.w6)("design:type",Object)],ri.prototype,"id",void 0),(0,It.gn)([(0,o.pfw)("attr.aria-describedby"),(0,It.w6)("design:type",Object)],ri.prototype,"describedBy",void 0),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Object),(0,It.w6)("design:paramtypes",[Object])],ri.prototype,"value",null),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Object),(0,It.w6)("design:paramtypes",[Object])],ri.prototype,"placeholder",null),(0,It.gn)([(0,o.pfw)("class.mat-form-field-should-float"),(0,It.w6)("design:type",Object),(0,It.w6)("design:paramtypes",[])],ri.prototype,"shouldLabelFloat",null),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Boolean),(0,It.w6)("design:paramtypes",[Boolean])],ri.prototype,"required",null),(0,It.gn)([(0,o.pfw)("class.file-input-disabled"),(0,It.w6)("design:type",Object),(0,It.w6)("design:paramtypes",[])],ri.prototype,"isDisabled",null),(0,It.gn)([(0,o.IIB)(),(0,It.w6)("design:type",Boolean),(0,It.w6)("design:paramtypes",[Boolean])],ri.prototype,"disabled",null),(0,It.gn)([(0,o.L6J)("change",["$event"]),(0,It.w6)("design:type",Function),(0,It.w6)("design:paramtypes",[Event]),(0,It.w6)("design:returntype",void 0)],ri.prototype,"change",null),(0,It.gn)([(0,o.L6J)("focusout"),(0,It.w6)("design:type",Function),(0,It.w6)("design:paramtypes",[]),(0,It.w6)("design:returntype",void 0)],ri.prototype,"blur",null),ri=GA=(0,It.gn)([(0,It.fM)(4,(0,o.FiY)()),(0,It.fM)(4,(0,o.PiD)()),(0,It.fM)(5,(0,o.FiY)()),(0,It.fM)(6,(0,o.FiY)()),(0,It.w6)("design:paramtypes",[ti,o.SBq,o.Qsj,Ks,ms,Gs,Si])],ri);let OX=(()=>{let r=class{};return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[ti]}),r})();var TY;!function(r){r.maxContentSize=function(s){return a=>{const l=a&&a.value?a.value.files.map(m=>m.size).reduce((m,_)=>m+_,0):0;return s>=l?null:{maxContentSize:{actualSize:l,maxSize:s}}}},r.allowedExtensions=function(s){return a=>a&&a.value&&a.value.files.every(h=>{const m=h.name.split(".");return-1!==s.indexOf(m[m.length-1])})?null:{allowedExtensions:s}}}(TY||(TY={}));var NX=L(205);class MY{}class rd{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const a=n.slice(0,s),l=a.toLowerCase(),h=n.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const a=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(n,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof rd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new rd;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof rd?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const a=("a"===i.op?this.headers.get(n):void 0)||[];a.push(...s),this.headers.set(n,a);break;case"d":const l=i.value;if(l){let h=this.headers.get(n);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,h)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class PX{encodeKey(i){return SY(i)}encodeValue(i){return SY(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const LX=/%(\d[a-f0-9])/gi,BX={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function SY(r){return encodeURIComponent(r).replace(LX,(i,n)=>{var s;return null!==(s=BX[n])&&void 0!==s?s:i})}function xY(r){return`${r}`}class Gf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new PX,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[h,m]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],_=n.get(h)||[];_.push(m),n.set(h,_)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{n.push({param:s,value:l,op:"a"})}):n.push({param:s,value:a,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new Gf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(xY(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(xY(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class VX{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function AY(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function kY(r){return"undefined"!=typeof Blob&&r instanceof Blob}function IY(r){return"undefined"!=typeof FormData&&r instanceof FormData}class mD{constructor(i,n,s,a){let l;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new rd),this.context||(this.context=new VX),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=n;else{const m=n.indexOf("?");this.urlWithParams=n+(-1===m?"?":m<n.length-1?"&":"")+h}}else this.params=new Gf,this.urlWithParams=n}serializeBody(){return null===this.body?null:AY(this.body)||kY(this.body)||IY(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IY(this.body)?null:kY(this.body)?this.body.type||null:AY(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,a=i.url||this.url,l=i.responseType||this.responseType,h=void 0!==i.body?i.body:this.body,m=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,_=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let w=i.headers||this.headers,T=i.params||this.params;const A=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(w=Object.keys(i.setHeaders).reduce((I,O)=>I.set(O,i.setHeaders[O]),w)),i.setParams&&(T=Object.keys(i.setParams).reduce((I,O)=>I.set(O,i.setParams[O]),T)),new mD(s,a,h,{params:T,headers:w,context:A,reportProgress:_,responseType:l,withCredentials:m})}}var Tr=(()=>((Tr=Tr||{})[Tr.Sent=0]="Sent",Tr[Tr.UploadProgress=1]="UploadProgress",Tr[Tr.ResponseHeader=2]="ResponseHeader",Tr[Tr.DownloadProgress=3]="DownloadProgress",Tr[Tr.Response=4]="Response",Tr[Tr.User=5]="User",Tr))();class qA extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new rd,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=Tr.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new qA({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function a2(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let jA=(()=>{class r{constructor(n){this.handler=n}request(n,s,a={}){let l;if(n instanceof mD)l=n;else{let _,w;_=a.headers instanceof rd?a.headers:new rd(a.headers),a.params&&(w=a.params instanceof Gf?a.params:new Gf({fromObject:a.params})),l=new mD(n,s,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:w,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=(0,qe.of)(l).pipe(Dh(_=>this.handler.handle(_)));if(n instanceof mD||"events"===a.observe)return h;const m=h.pipe(wt(_=>_ instanceof qA));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,b.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,b.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,b.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));case"json":default:return m.pipe((0,b.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Gf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,a={}){return this.request("PATCH",n,a2(a,s))}post(n,s,a={}){return this.request("POST",n,a2(a,s))}put(n,s,a={}){return this.request("PUT",n,a2(a,s))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(MY))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const $X=["*"];function LY(r){return Error(`Unable to find icon with the name "${r}"`)}function BY(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function VY(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Ag{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let zA=(()=>{class r{constructor(n,s,a,l){this._httpClient=n,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(n,s,a){return this.addSvgIconInNamespace("",n,s,a)}addSvgIconLiteral(n,s,a){return this.addSvgIconLiteralInNamespace("",n,s,a)}addSvgIconInNamespace(n,s,a,l){return this._addSvgIconConfig(n,s,new Ag(a,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,a,l){const h=this._sanitizer.sanitize(o.q3G.HTML,a);if(!h)throw VY(a);return this._addSvgIconConfig(n,s,new Ag("",h,l))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,a){return this._addSvgIconSetConfig(n,new Ag(s,null,a))}addSvgIconSetLiteralInNamespace(n,s,a){const l=this._sanitizer.sanitize(o.q3G.HTML,s);if(!l)throw VY(s);return this._addSvgIconSetConfig(n,new Ag("",l,a))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,n);if(!s)throw BY(n);const a=this._cachedIconsByUrl.get(s);return a?(0,qe.of)($A(a)):this._loadSvgIconFromConfig(new Ag(n,null)).pipe((0,Wn.b)(l=>this._cachedIconsByUrl.set(s,l)),(0,b.U)(l=>$A(l)))}getNamedSvgIcon(n,s=""){const a=UY(s,n);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,n),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(s);return h?this._getSvgFromIconSetConfigs(n,h):(0,NX._)(LY(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,qe.of)($A(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,b.U)(s=>$A(s)))}_getSvgFromIconSetConfigs(n,s){const a=this._extractIconWithNameFromAnySet(n,s);return a?(0,qe.of)(a):hw(s.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(al(m=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(w)),(0,qe.of)(null)})))).pipe((0,b.U)(()=>{const h=this._extractIconWithNameFromAnySet(n,s);if(!h)throw LY(n);return h}))}_extractIconWithNameFromAnySet(n,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.indexOf(n)>-1){const h=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(h,n,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,Wn.b)(s=>n.svgText=s),(0,b.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,qe.of)(null):this._fetchIcon(n).pipe((0,Wn.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,a){const l=n.querySelector(`[id="${s}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,a);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),a);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(h),this._setSvgAttributes(m,a)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),a=n.attributes;for(let l=0;l<a.length;l++){const{name:h,value:m}=a[l];"id"!==h&&s.setAttribute(h,m)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:a,options:l}=n,h=null!==(s=null==l?void 0:l.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const m=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a);if(!m)throw BY(a);const _=this._inProgressUrlFetches.get(m);if(_)return _;const w=this._httpClient.get(m,{responseType:"text",withCredentials:h}).pipe(Ww(()=>this._inProgressUrlFetches.delete(m)),(0,DH.B)());return this._inProgressUrlFetches.set(m,w),w}_addSvgIconConfig(n,s,a){return this._svgIconConfigs.set(UY(n,s),a),this}_addSvgIconSetConfig(n,s){const a=this._iconSetConfigs.get(n);return a?a.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,n);if(l)return QX(l)?new Ag(l.url,null,l.options):new Ag(l,null)}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(jA,8),o.LFG(Oo),o.LFG(j,8),o.LFG(o.qLn))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(jA,8),o.LFG(Oo),o.LFG(j,8),o.LFG(o.qLn))},token:r,providedIn:"root"}),r})();function $A(r){return r.cloneNode(!0)}function UY(r,i){return r+":"+i}function QX(r){return!(!r.url||!r.options)}const KX=Ko(class{constructor(r){this._elementRef=r}}),XX=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,o.f3M)(j),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),HY=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nee=HY.map(r=>`[${r}]`).join(", "),iee=/^url\(['"]?#(.*?)['"]?\)$/;let qf=(()=>{class r extends KX{constructor(n,s,a,l,h){super(n),this._iconRegistry=s,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=kt.w.EMPTY,a||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=xe(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let l=0;l<s.length;l++)s[l].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=n.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&n.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(h=>{l.setAttribute(h.name,`url('${n}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(nee),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)HY.forEach(h=>{const m=s[l],_=m.getAttribute(h),w=_?_.match(iee):null;if(w){let T=a.get(m);T||(T=[],a.set(m,T)),T.push({name:h,value:w[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,a]=this._splitIconName(n);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(P(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(zA),o.$8M("aria-hidden"),o.Y36(XX),o.Y36(o.qLn))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(o.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),o.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:$X,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),ZY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt],tt]}),r})();const ree=["primaryValueBar"],see=Ko(class{constructor(r){this._elementRef=r}},"primary"),oee=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,o.f3M)(j),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let lee=0,WA=(()=>{class r extends see{constructor(n,s,a,l){super(n),this._ngZone=s,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=kt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+lee++;const h=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(n){this._value=YY(qt(n)||0)}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=YY(n||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=Nn(n,"transitionend").pipe(wt(s=>s.target===n)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Zn,8),o.Y36(oee,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(n,s){if(1&n&&o.Gf(ree,5),2&n){let a;o.iGM(a=o.CRH())&&(s._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,s){2&n&&(o.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),o.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&n&&(o.xp6(3),o.Q6J("id",s.progressbarId),o.xp6(2),o.uIk("fill",s._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",s._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",s._primaryTransform()))},directives:[ua],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function YY(r,i=0,n=100){return Math.max(i,Math.min(n,r))}let cee=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,tt],tt]}),r})();function uee(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function dee(r,i){if(1&r&&o._UZ(0,"mat-progress-bar",14),2&r){const n=o.oxw(2);o.Q6J("value",n.uploadPercent)}}function hee(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2,"Vous voulez joindre une photo ?"),o.qZA(),o.TgZ(3,"mat-form-field",10),o.TgZ(4,"ngx-mat-file-input",11),o.NdJ("change",function(a){return o.CHM(n),o.oxw().onUpload(a)}),o.qZA(),o.TgZ(5,"mat-icon",12),o._uU(6,"folder"),o.qZA(),o.YNc(7,uee,2,1,"mat-error",2),o.qZA(),o.YNc(8,dee,1,1,"mat-progress-bar",13),o.qZA()}if(2&r){const n=o.oxw();let s;o.xp6(7),o.Q6J("ngIf",null==n.form||null==(s=n.form.get("photo"))?null:s.hasError("maxSize")),o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function fee(r,i){if(1&r&&(o.TgZ(0,"div"),o._UZ(1,"img",15),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.s9C("src",null==n.actualite?null:n.actualite.photo,o.LSH)}}function pee(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function mee(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("sousTitre"))}}function gee(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function _ee(r,i){1&r&&(o.TgZ(0,"div",17),o.TgZ(1,"button",18),o._uU(2,"Valider"),o.qZA(),o.TgZ(3,"button",19),o._uU(4,"Annuler"),o.qZA(),o.qZA())}let d2=(()=>{class r{constructor(n,s,a,l){var h;this.formBuilder=n,this.router=s,this.actualiteService=a,this.angularFireStorage=l,this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.form=n.group({photo:[{value:null===(h=this.actualite)||void 0===h?void 0:h.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],titre:["",[gt.maxLength(20),gt.required]],sousTitre:["",[gt.maxLength(30)]],texte:["",[gt.required,gt.minLength(20),gt.maxLength(6500)]]})}ngOnInit(){var n,s,a,l;""!=(null===(n=this.actualite)||void 0===n?void 0:n.photo)&&(this.isFileAttached=!0),this.form.controls.titre.setValue(null===(s=this.actualite)||void 0===s?void 0:s.titre),this.form.controls.sousTitre.setValue(null===(a=this.actualite)||void 0===a?void 0:a.sousTitre),this.form.controls.texte.setValue(null===(l=this.actualite)||void 0===l?void 0:l.texte)}getErrorMessage(n){var s,a,l,h,m,_,w,T,A,I,O;let B="";switch(n){case"photo":(null===(s=this.form)||void 0===s?void 0:s.controls.photo.touched)&&(B=(null===(a=this.form)||void 0===a?void 0:a.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(l=this.form)||void 0===l?void 0:l.controls.sousTitre.touched)&&(null===(h=this.form)||void 0===h?void 0:h.controls.sousTitre.hasError("maxlength"))&&(B="Le titre ne doit pas comporter plus de 20 caract\xe8res.");break;case"sousTitre":(null===(m=this.form)||void 0===m?void 0:m.controls.titre.touched)&&((null===(_=this.form)||void 0===_?void 0:_.controls.titre.hasError("required"))&&(B="Vous devez saisir un titre."),(null===(w=this.form)||void 0===w?void 0:w.controls.titre.hasError("maxlength"))&&(B="Le sous-titre ne doit pas comporter plus de 30 caract\xe8res."));break;case"texte":(null===(T=this.form)||void 0===T?void 0:T.controls.texte.touched)&&((null===(A=this.form)||void 0===A?void 0:A.controls.texte.hasError("required"))&&(B="Vous devez saisir un texte."),(null===(I=this.form)||void 0===I?void 0:I.controls.texte.hasError("minlength"))&&(B="Le texte doit comporter plus de 20 caract\xe8res."),(null===(O=this.form)||void 0===O?void 0:O.controls.texte.hasError("maxlength"))&&(B="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return B}onUpload(n){this.fileIsUploading=!0;const s=n.target.files[0],a="Actualites/"+(new Date).toJSON()+"_"+n.target.files[0].name,l=this.angularFireStorage.ref(a),h=this.angularFireStorage.upload(a,s);h.percentageChanges().subscribe(m=>{this.uploadPercent=m}),h.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,l.getDownloadURL().subscribe(m=>{this.downloadURL=m})})}onSubmit(){var n;this.actualite.titre=this.form.controls.titre.value,this.actualite.sousTitre=this.form.controls.sousTitre.value,this.actualite.texte=this.form.controls.texte.value,""==(null===(n=this.actualite)||void 0===n?void 0:n.id)?(this.actualite.photo=this.downloadURL,this.actualiteService.AddActualite(this.actualite)):this.actualiteService.UpdateActualite(this.actualite),this.router.navigate(["app-home-administration"])}onQuit(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(Hn),o.Y36(jx),o.Y36(Ev))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-actualite-form"]],inputs:{actualite:"actualite"},decls:18,vars:7,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","sousTitre","placeholder","Sous-titre"],["matInput","","rows","25","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["alt","",1,"img",2,"max-width","150px",3,"src"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","secondary"]],template:function(n,s){if(1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,hee,9,2,"div",2),o.YNc(3,fee,2,1,"div",2),o.TgZ(4,"mat-form-field",3),o._UZ(5,"input",4),o.TgZ(6,"div",5),o.YNc(7,pee,2,1,"mat-error",6),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",3),o._UZ(9,"input",7),o.TgZ(10,"div",5),o.YNc(11,mee,2,1,"mat-error",6),o.qZA(),o.qZA(),o.TgZ(12,"mat-form-field",3),o.TgZ(13,"textarea",8),o._uU(14,"        "),o.qZA(),o.TgZ(15,"div",5),o.YNc(16,gee,2,1,"mat-error",6),o.qZA(),o.qZA(),o.YNc(17,_ee,5,0,"div",9),o.qZA(),o.qZA()),2&n){let a,l,h;o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",0==s.isFileAttached),o.xp6(1),o.Q6J("ngIf",s.isFileAttached),o.xp6(4),o.Q6J("ngIf",null==s.form||null==(a=s.form.get("titre"))||null==a.errors?null:a.errors.required),o.xp6(4),o.Q6J("ngIf",null==s.form||null==(l=s.form.get("sousTitre"))||null==l.errors?null:l.errors.required),o.xp6(5),o.Q6J("ngIf",null==s.form||null==(h=s.form.get("texte"))||null==h.errors?null:h.errors.required),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&(null==s.form?null:s.form.valid))}},directives:[Xp,xa,Si,ct,td,Lf,fo,Sa,qo,ri,qf,mv,Ff,WA,rr],styles:[""]}),r})();class yee{constructor(i,n,s,a,l,h,m,_,w){this.id=i,this.date=n,this.titre=s,this.sousTitre=a,this.texte=l,this.photo=h,this.auteur=m,this.nomAuteur=_,this.status=w}}function bee(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un article d'actualit\xe9."),o.qZA())}function vee(r,i){if(1&r&&o._UZ(0,"app-actualite-form",3),2&r){const n=o.oxw();o.Q6J("actualite",n.actualite)}}let wee=(()=>{class r{constructor(n){var s;this.authService=n,this.actualite=new yee("",(new Date).toString(),"","","","",null===(s=this.authService.getCurrentUser())||void 0===s?void 0:s.id,"",1)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-actualite"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"actualite",4,"ngIf"],[3,"actualite"]],template:function(n,s){1&n&&(o.YNc(0,bee,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,vee,1,1,"app-actualite-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.actualite),o.xp6(2),o.Q6J("ngIf",s.actualite))},directives:[ct,d2],styles:[""]}),r})();const Cee=["input"],Dee=function(r){return{enterDuration:r}},Tee=["*"],Mee=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:GY});function GY(){return{color:"accent",clickAction:"check-indeterminate"}}let Eee=0;const qY=GY(),See={provide:Un,useExisting:(0,o.Gpc)(()=>jY),multi:!0};class xee{}const Aee=ed(Ko(Qs(Os(class{constructor(r){this._elementRef=r}}))));let jY=(()=>{class r extends Aee{constructor(n,s,a,l,h,m,_){super(n),this._changeDetectorRef=s,this._focusMonitor=a,this._ngZone=l,this._animationMode=m,this._options=_,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Eee,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||qY,this.color=this.defaultColor=this._options.color||qY.color,this.tabIndex=parseInt(h)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(n){this._required=xe(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){const s=xe(n);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){const s=n!=this._indeterminate;this._indeterminate=xe(n),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(n){let s=this._currentCheckState,a=this._elementRef.nativeElement;if(s!==n&&(this._currentAnimationClass.length>0&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);const l=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(l)},1e3)})}}_emitChangeEvent(){const n=new xee;n.source=this,n.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(n),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(n){var s;const a=null===(s=this._options)||void 0===s?void 0:s.clickAction;n.stopPropagation(),this.disabled||"noop"===a?!this.disabled&&"noop"===a&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==a&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(n,s){n?this._focusMonitor.focusVia(this._inputElement,n,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(n){n.stopPropagation()}_getAnimationClassForCheckStateTransition(n,s){if("NoopAnimations"===this._animationMode)return"";let a="";switch(n){case 0:if(1===s)a="unchecked-checked";else{if(3!=s)return"";a="unchecked-indeterminate"}break;case 2:a=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:a=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:a=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${a}`}_syncIndeterminate(n){const s=this._inputElement;s&&(s.nativeElement.indeterminate=n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ti),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(Zn,8),o.Y36(Mee,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-checkbox"]],viewQuery:function(n,s){if(1&n&&(o.Gf(Cee,5),o.Gf(Ns,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._inputElement=a.first),o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(n,s){2&n&&(o.Ikx("id",s.id),o.uIk("tabindex",null),o.ekj("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o._Bn([See]),o.qOj],ngContentSelectors:Tee,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(n,s){if(1&n&&(o.F$t(),o.TgZ(0,"label",0,1),o.TgZ(2,"span",2),o.TgZ(3,"input",3,4),o.NdJ("change",function(l){return s._onInteractionEvent(l)})("click",function(l){return s._onInputClick(l)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA(),o.qZA(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA(),o.qZA()),2&n){const a=o.MAs(1),l=o.MAs(13);o.uIk("for",s.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!l.textContent||!l.textContent.trim()),o.xp6(1),o.Q6J("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),o.uIk("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",a)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,Dee,"NoopAnimations"===s._animationMode?0:150))}},directives:[Ns,Ap],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),zY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),Ree=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[pl,tt,kp,zY],tt,zY]}),r})(),$Y=(()=>{class r{constructor(n,s,a){this.formBuilder=n,this.dialogRef=s,this.data=a,this.status=0,this.form=this.formBuilder.group({visiteur:!0,moderateur:!1,editArticle:!1,editPhotosDeClasse:!1,editPdf:!1,administrateur:!1})}ngOnInit(){const n=this.data;Je.administrateur.valueOf(),this.form.controls.visiteur.setValue((n&Je.visiteur)===Je.visiteur),this.form.controls.administrateur.setValue((n&Je.administrateur)===Je.administrateur),this.form.controls.editArticle.setValue((n&Je.editArticle)===Je.editArticle),this.form.controls.editPhotosDeClasse.setValue((n&Je.editPhotosDeClasse)===Je.editPhotosDeClasse),this.form.controls.editPdf.setValue((n&Je.editPdf)===Je.editPdf),this.form.controls.moderateur.setValue((n&Je.moderateur)===Je.moderateur)}onSave(){var n,s,a,l,h,m,_,w,T,A,I,O;(null===(s=null===(n=this.form)||void 0===n?void 0:n.get("visiteur"))||void 0===s?void 0:s.value)&&(this.status|=Je.visiteur),(null===(l=null===(a=this.form)||void 0===a?void 0:a.get("moderateur"))||void 0===l?void 0:l.value)&&(this.status|=Je.moderateur),(null===(m=null===(h=this.form)||void 0===h?void 0:h.get("editArticle"))||void 0===m?void 0:m.value)&&(this.status|=Je.editArticle),(null===(w=null===(_=this.form)||void 0===_?void 0:_.get("editPhotosDeClasse"))||void 0===w?void 0:w.value)&&(this.status|=Je.editPhotosDeClasse),(null===(A=null===(T=this.form)||void 0===T?void 0:T.get("editPdf"))||void 0===A?void 0:A.value)&&(this.status|=Je.editPdf),(null===(O=null===(I=this.form)||void 0===I?void 0:I.get("administrateur"))||void 0===O?void 0:O.value)&&(this.status|=Je.administrateur),console.log(this.status),this.dialogRef.close(this.status)}onClose(){this.dialogRef.close()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(Nf),o.Y36(X1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-droits-form"]],decls:18,vars:1,consts:[[3,"formGroup"],["placeholder","Visiteur","formControlName","visiteur",1,"margin"],["placeholder","Mod\xe9rateur","formControlName","moderateur",1,"margin"],["placeholder","editArticle","formControlName","editArticle",1,"margin"],["placeholder","editPhotosDeClasse","formControlName","editPhotosDeClasse",1,"margin"],["placeholder","editPdf","formControlName","editPdf",1,"margin"],["placeholder","administrateur","formControlName","administrateur",1,"margin"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-checkbox",1),o._uU(2," Visiteur "),o.qZA(),o.TgZ(3,"mat-checkbox",2),o._uU(4," Mod\xe9rateur "),o.qZA(),o.TgZ(5,"mat-checkbox",3),o._uU(6," Edition articles "),o.qZA(),o.TgZ(7,"mat-checkbox",4),o._uU(8," Edition photos de classes "),o.qZA(),o.TgZ(9,"mat-checkbox",5),o._uU(10," Edition Documents "),o.qZA(),o.TgZ(11,"mat-checkbox",6),o._uU(12," administrateur "),o.qZA(),o.qZA(),o.TgZ(13,"mat-dialog-actions"),o.TgZ(14,"button",7),o.NdJ("click",function(){return s.onSave()}),o._uU(15,"Valider"),o.qZA(),o.TgZ(16,"button",8),o.NdJ("click",function(){return s.onClose()}),o._uU(17,"Annuler"),o.qZA(),o.qZA()),2&n&&o.Q6J("formGroup",s.form)},directives:[eD,xa,Si,jY,Sa,qo,tD],styles:[".section[_ngcontent-%COMP%]{margin:12px 0}.margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),r})();const Oee=[[["caption"]],[["colgroup"],["col"]]],Nee=["caption","colgroup, col"];let h2=(()=>{class r extends qp{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:iu,useClass:xT},{provide:qp,useExisting:r},{provide:th,useExisting:r},{provide:uu,useClass:nh},{provide:XT,useValue:null}]),o.qOj],ngContentSelectors:Nee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,s){1&n&&(o.F$t(Oee),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[sh,rh,Y_,rw],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),r})(),JA=(()=>{class r extends lu{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:lu,useExisting:r}]),o.qOj]}),r})(),QA=(()=>{class r extends cu{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:cu,useExisting:r}]),o.qOj]}),r})(),KA=(()=>{class r extends co{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:co,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),o.qOj]}),r})(),XA=(()=>{class r extends ew{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),r})(),ek=(()=>{class r extends Ul{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),r})(),f2=(()=>{class r extends ih{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:ih,useExisting:r}]),o.qOj]}),r})(),p2=(()=>{class r extends U_{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:U_,useExisting:r}]),o.qOj]}),r})(),m2=(()=>{class r extends Hl{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:Hl,useExisting:r}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Da],encapsulation:2}),r})(),g2=(()=>{class r extends iw{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:iw,useExisting:r}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Da],encapsulation:2}),r})(),Gee=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[eM,tt],tt]}),r})();function jee(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Gestion des droits (",n.users.length," utilisateurs )")}}function zee(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Id "),o.qZA())}function $ee(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.uid," ")}}function Wee(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Email "),o.qZA())}function Jee(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.email," ")}}function Qee(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Nom "),o.qZA())}function Kee(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.nom," ")}}function Xee(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Pr\xe9nom "),o.qZA())}function ete(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.prenom," ")}}function tte(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Status "),o.qZA())}function nte(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit,s=o.oxw();o.xp6(1),o.hij(" ",s.getDroitsSelectedUser(n.status).toString()," ")}}function ite(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Action "),o.qZA())}function rte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"td",13),o.TgZ(1,"button",14),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onDroits(l)}),o._uU(2,"Droits"),o.qZA(),o.qZA()}}function ste(r,i){1&r&&o._UZ(0,"tr",15)}function ote(r,i){1&r&&o._UZ(0,"tr",16)}function ate(r,i){1&r&&(o.TgZ(0,"div"),o._uU(1," Visible\n"),o.qZA())}let WY=(()=>{class r{constructor(n,s){this.usersService=n,this.dialog=s,this.users=[],this.formVisible=!1,this.displayedColumns=["uid","email","nom","prenom","status","action"]}ngOnInit(){this.usersService.getUsers().subscribe(n=>{this.users=n.docs.map(s=>{const a=s.data();return a.id=s.id,a},s=>{console.log(s)})},()=>{})}ngOnDestroy(){this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe()}getDroitsSelectedUser(n){let s="";return 65536===n?"Non":(n&Je.administrateur)===Je.administrateur?"Administrateur":((n&Je.visiteur)===Je.visiteur&&(""!==s&&(s+=", "),s+="Visiteur"),(n&Je.moderateur)===Je.moderateur&&(""!==s&&(s+=", "),s+="Mod\xe9rateur"),(n&Je.editArticle)===Je.editArticle&&(""!==s&&(s+=", "),s+="Editer articles"),(n&Je.editPhotosDeClasse)===Je.editPhotosDeClasse&&(""!==s&&(s+=", "),s+="Editer photos de classes"),(n&Je.editPdf)===Je.editPdf&&(""!==s&&(s+=", "),s+="Editer des documents"),""===s&&(s="Non"),s)}onDroits(n){const s=new Of;s.disableClose=!0,s.autoFocus=!0,s.width="300px",s.height="400px",s.data=n.status;const a=this.dialog.open($Y,s);this.dialogResultSuscription=a.afterClosed().subscribe(l=>{void 0!==l&&this.usersService.changeDroitsUser(n.id,l)},l=>{console.log(l)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(uv),o.Y36(Pf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-droits"]],decls:24,vars:5,consts:[[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,s){1&n&&(o.YNc(0,jee,2,1,"h4",0),o.TgZ(1,"div"),o.TgZ(2,"table",1),o.ynx(3,2),o.YNc(4,zee,2,0,"th",3),o.YNc(5,$ee,2,1,"td",4),o.BQk(),o.ynx(6,5),o.YNc(7,Wee,2,0,"th",3),o.YNc(8,Jee,2,1,"td",4),o.BQk(),o.ynx(9,6),o.YNc(10,Qee,2,0,"th",3),o.YNc(11,Kee,2,1,"td",4),o.BQk(),o.ynx(12,7),o.YNc(13,Xee,2,0,"th",3),o.YNc(14,ete,2,1,"td",4),o.BQk(),o.ynx(15,8),o.YNc(16,tte,2,0,"th",3),o.YNc(17,nte,2,1,"td",4),o.BQk(),o.ynx(18,9),o.YNc(19,ite,2,0,"th",3),o.YNc(20,rte,3,0,"td",4),o.BQk(),o.YNc(21,ste,1,0,"tr",10),o.YNc(22,ote,1,0,"tr",11),o.qZA(),o.qZA(),o.YNc(23,ate,2,0,"div",0)),2&n&&(o.Q6J("ngIf",s.users),o.xp6(2),o.Q6J("dataSource",s.users),o.xp6(19),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(1),o.Q6J("ngIf",s.formVisible))},directives:[ct,h2,KA,QA,JA,f2,p2,XA,ek,m2,g2],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),r})();function lte(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Edition d'un article d'actualit\xe9."),o.qZA())}function cte(r,i){if(1&r&&o._UZ(0,"app-actualite-form",3),2&r){const n=o.oxw();o.Q6J("actualite",n.actualite)}}let ute=(()=>{class r{constructor(n,s){this.route=n,this.actualiteService=s;const a=this.route.snapshot.params.id;console.log(a),this.actualiteService.getActualite(a).subscribe(l=>{this.actualite=l.data(),this.actualite.id=l.id},l=>{console.log("Erreur = "+l)})}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(qs),o.Y36(jx))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-actualite"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"actualite",4,"ngIf"],[3,"actualite"]],template:function(n,s){1&n&&(o.YNc(0,lte,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,cte,1,1,"app-actualite-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.actualite),o.xp6(2),o.Q6J("ngIf",s.actualite))},directives:[ct,d2],styles:[""]}),r})(),dte=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-gestion-actualite"]],decls:2,vars:0,template:function(n,s){1&n&&(o.TgZ(0,"p"),o._uU(1,"gestion-actualite works!"),o.qZA())},styles:[""]}),r})();const _2_firebaseConfig={apiKey:"AIzaSyBz9fnOh35_UA9eF6e_liALWX4BSMFv1wM",authDomain:"memoiremorieroise-73e3b.firebaseapp.com",databaseURL:"https://memoiremorieroise-73e3b.firebaseio.com",projectId:"memoiremorieroise-73e3b",storageBucket:"memoiremorieroise-73e3b.appspot.com",messagingSenderId:"201883520409"};class y2{constructor(i,n,s,a,l){this.id=i,this.description=n,this.fichier=s,this.titre=a,this.status=l}}let Sv=(()=>{class r{constructor(n){this.angularFirestore=n,this.pdfs=[],this.pdfsAValider=[],this.pdfSubject=new pe.xQ}emitPdf(){this.pdfSubject.next(this.pdfs)}getPdfs(){this.angularFirestore.collection("listePdf").get().subscribe(n=>{this.pdfs=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.pdfs.length>0&&(this.currentPdf=this.pdfs[0])})}getPdf(n){return this.angularFirestore.collection("listePdf").doc(n).get()}getPdfsValides(){this.angularFirestore.collection("listePdf",n=>n.where("status","==",Jn.valide)).get().subscribe(n=>{this.pdfs=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.emitPdf()}getListePdfAValider(){return this.angularFirestore.collection("listePdf",n=>n.where("status","==",Jn.initial)).get()}GetSinglePdf(n){this.angularFirestore.collection("listePdf").doc(n).get().subscribe(s=>{null==this.currentPdf&&(this.currentPdf=new y2("","","","",0)),this.currentPdf.id=s.id,this.currentPdf=s.data(),this.emitPdf()})}addPdf(n){this.angularFirestore.collection("listePdf").add({description:n.description,fichier:n.fichier,status:Jn.initial,titre:n.titre}).then(s=>{this.emitPdf()},s=>{console.log("Erreur "+s)})}validerPdf(n){n.status=Jn.valide,this.angularFirestore.collection("listePdf").doc(n.id).update({status:n.status}).then(()=>{this.emitPdf()})}rejeterPdf(n){n.status=Jn.rejete,this.angularFirestore.collection("listePdf").doc(n.id).update({status:n.status}).then(()=>{this.emitPdf()})}supprimerPdf(n){n.status=Jn.supprime,this.angularFirestore.collection("listePdf").doc(n.id).update({status:n.status}).then(()=>{this.emitPdf()})}updatePdf(n){this.angularFirestore.collection("listePdf").doc(n.id).update({titre:n.titre,description:n.description}).then(()=>{this.emitPdf()})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class JY{constructor(i,n,s,a,l){this.date=i,this.email=n,this.texte=s,this.lu=a,this.id=l}}let b2=(()=>{class r{constructor(n){this.angularFirestore=n,this.listeMessagesNonLus=[],this.pdfSubject=new pe.xQ}emitMessage(){this.pdfSubject.next(this.listeMessagesNonLus)}getMessagesNonLus(){this.angularFirestore.collection("Messages",n=>n.where("lu","==",!1)).get().subscribe(n=>{this.listeMessagesNonLus=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.emitMessage()}addMessage(n){this.angularFirestore.collection("Messages").add({date:n.date.toJSON(),email:n.email,texte:n.texte,lu:n.lu}).catch(s=>{console.log("Erreur "+s)})}SoldeMessage(n){this.angularFirestore.collection("Messages").doc(n.id).update({lu:!0})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Qu))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function hte(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Id "),o.qZA())}function fte(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.id," ")}}function pte(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Email "),o.qZA())}function mte(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.email," ")}}function gte(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Date "),o.qZA())}function _te(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.date," ")}}function yte(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Texte "),o.qZA())}function bte(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.texte," ")}}function vte(r,i){1&r&&o._UZ(0,"mat-header-cell")}function wte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-cell"),o.TgZ(1,"button",14),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onVu(l)}),o._uU(2,"Vu"),o.qZA(),o.qZA()}}function Cte(r,i){1&r&&o._UZ(0,"tr",15)}function Dte(r,i){1&r&&o._UZ(0,"tr",16)}let QY=(()=>{class r{constructor(n){this.messagesService=n,this.displayedColumns=["email","date","texte","action"]}ngOnInit(){this.messagesService.getMessagesNonLus()}onVu(n){const s=new JY(n.date,n.email,n.texte,n.vu,n.id);this.messagesService.SoldeMessage(s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(b2))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-messages"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","date"],["matColumnDef","texte"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1),o.qZA(),o._UZ(2,"br"),o.TgZ(3,"div"),o.TgZ(4,"table",0),o.ynx(5,1),o.YNc(6,hte,2,0,"th",2),o.YNc(7,fte,2,1,"td",3),o.BQk(),o.ynx(8,4),o.YNc(9,pte,2,0,"th",2),o.YNc(10,mte,2,1,"td",3),o.BQk(),o.ynx(11,5),o.YNc(12,gte,2,0,"th",2),o.YNc(13,_te,2,1,"td",3),o.BQk(),o.ynx(14,6),o.YNc(15,yte,2,0,"th",2),o.YNc(16,bte,2,1,"td",3),o.BQk(),o.ynx(17,7),o.YNc(18,vte,1,0,"mat-header-cell",8),o.YNc(19,wte,3,0,"mat-cell",9),o.BQk(),o.YNc(20,Cte,1,0,"tr",10),o.YNc(21,Dte,1,0,"tr",11),o.qZA(),o.qZA()),2&n&&(o.xp6(1),o.hij("Liste des messages non lus (",s.messagesService.listeMessagesNonLus.length,") "),o.xp6(3),o.Q6J("dataSource",s.messagesService.listeMessagesNonLus),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns))},directives:[h2,KA,QA,JA,f2,p2,XA,ek,m2,g2],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),r})(),KY=(()=>{class r{constructor(n){this.sanitizer=n}transform(n,s){switch(s){case"html":return this.sanitizer.bypassSecurityTrustHtml(n);case"style":return this.sanitizer.bypassSecurityTrustStyle(n);case"script":return this.sanitizer.bypassSecurityTrustScript(n);case"url":return this.sanitizer.bypassSecurityTrustUrl(n);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(n);default:throw new Error(`Invalid safe type specified: ${s}`)}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Oo,16))},r.\u0275pipe=o.Yjl({name:"safe",type:r,pure:!0}),r})();function Tte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o._UZ(6,"img",8),o.TgZ(7,"mat-card-content",9),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"mat-card-actions"),o.TgZ(12,"div",10),o.TgZ(13,"button",11),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onValideArticle(l)}),o._uU(14,"Valider l'article"),o.qZA(),o.TgZ(15,"button",12),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onRejeteArticle(l)}),o._uU(16,"Rejeter l'article"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.texte)}}function Mte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o._UZ(6,"img",13),o.TgZ(7,"mat-card-content",9),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"mat-card-actions"),o.TgZ(12,"div",10),o.TgZ(13,"button",11),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onValidePhoto(l)}),o._uU(14,"Valider la photo de classe"),o.qZA(),o.TgZ(15,"button",12),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onRejetePhoto(l)}),o._uU(16,"Rejeter la photo de classe"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.annee),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.listeEleves)}}function Ete(r,i){if(1&r&&(o._UZ(0,"iframe",15),o.ALo(1,"safe")),2&r){const n=o.oxw().$implicit;o.Q6J("src",o.xi3(1,1,n.fichier,"resourceUrl"),o.uOi)}}function Ste(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-actions"),o.TgZ(3,"div",10),o.TgZ(4,"button",11),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onValidePdf(l)}),o._uU(5,"Valider le document"),o.qZA(),o.TgZ(6,"button",12),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onRejetePdf(l)}),o._uU(7,"Rejeter le document"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"mat-card-title"),o._uU(9),o.qZA(),o.TgZ(10,"mat-card-subtitle"),o._uU(11),o.qZA(),o.YNc(12,Ete,2,4,"iframe",14),o.TgZ(13,"mat-card-content",9),o.TgZ(14,"div"),o.TgZ(15,"pre"),o._uU(16),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(9),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.description),o.xp6(1),o.Q6J("ngIf",n.fichier),o.xp6(4),o.Oqu(n.description)}}function xte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-card"),o.TgZ(1,"mat-card-title"),o._uU(2),o.qZA(),o.TgZ(3,"mat-card-subtitle"),o._uU(4),o.qZA(),o._UZ(5,"img",16),o.TgZ(6,"mat-card-content",9),o.TgZ(7,"div"),o.TgZ(8,"pre"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-card-actions"),o.TgZ(11,"div",10),o.TgZ(12,"button",11),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onEditActualite(l)}),o._uU(13,"Editer l'article"),o.qZA(),o.TgZ(14,"button",17),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onDesactiveActualite(l)}),o._uU(15,"D\xe9sactiver l'article"),o.qZA(),o.TgZ(16,"button",12),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onSupprimeActualite(l)}),o._uU(17,"Supprimer l'article"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(2),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.sousTitre),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.texte)}}function Ate(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-card"),o.TgZ(1,"mat-card-title"),o._uU(2),o.qZA(),o.TgZ(3,"mat-card-subtitle"),o._uU(4),o.qZA(),o._UZ(5,"img",16),o.TgZ(6,"mat-card-content",9),o.TgZ(7,"div"),o.TgZ(8,"pre"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-card-actions"),o.TgZ(11,"div",10),o.TgZ(12,"button",11),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onEditActualite(l)}),o._uU(13,"Editer l'article"),o.qZA(),o.TgZ(14,"button",17),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onValideActualite(l)}),o._uU(15,"Activer l'article"),o.qZA(),o.TgZ(16,"button",12),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onSupprimeActualite(l)}),o._uU(17,"Supprimer l'article"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(2),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.sousTitre),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.texte)}}function kte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",11),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddActualite()}),o._uU(2,"Ajouter un Article \xe0 l'actualit\xe9"),o.qZA(),o._UZ(3,"br"),o.TgZ(4,"h3"),o._uU(5),o.qZA(),o.YNc(6,xte,18,4,"mat-card",1),o.TgZ(7,"h3"),o._uU(8),o.qZA(),o.YNc(9,Ate,18,4,"mat-card",1),o.qZA()}if(2&r){const n=o.oxw();o.xp6(5),o.hij("Liste des actualit\xe9s valid\xe9es. (",n.actualites.length,")"),o.xp6(1),o.Q6J("ngForOf",n.actualites),o.xp6(2),o.hij("Liste des actualit\xe9s non valid\xe9es. (",n.nonActualites.length,")"),o.xp6(1),o.Q6J("ngForOf",n.nonActualites)}}let Ite=(()=>{class r{constructor(n,s,a,l,h,m){this.authService=n,this.articlesService=s,this.pdfService=a,this.photoService=l,this.actualiteService=h,this.router=m,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isEditPdf=!1,this.isModerateur=!1,this.totalAValider=0,this.articlesAValider=[],this.pdfsAValider=[],this.photosAValider=[],this.actualites=[],this.nonActualites=[],this.version="1.1.2",this.authSubscription=this.authService.authSubject.pipe(va(1)).subscribe(_=>{const w=this.authService.getCurrentUser();null!=w&&null!=w&&(this.isEditArticle=(w.status&Je.editArticle)==Je.editArticle,this.isEditPhotosDeClasse=(w.status&Je.editPhotosDeClasse)==Je.editPhotosDeClasse,this.isEditPdf=(w.status&Je.editPdf)==Je.editPdf,this.isAdmin=(w.status&Je.administrateur)==Je.administrateur)}),this.actualitesSubscription=this.actualiteService.actualitesSubject.pipe(va(1)).subscribe(_=>{this.actualites=_,this.actualiteService.getActualitesNonSelect().subscribe(w=>{this.nonActualites=w.docs.map(T=>{const A=T.data();return A.id=T.id,A})})}),this.actualiteService.emitActualites()}ngOnInit(){let n=this.authService.getCurrentUser();this.articlesService.getArticlesAValider().subscribe(s=>{this.articlesAValider=s.docs.map(a=>{const l=a.data();return l.id=a.id,l}),this.pdfService.getListePdfAValider().subscribe(a=>{this.pdfsAValider=a.docs.map(l=>{const h=l.data();return h.id=l.id,h}),this.photoService.getPhotosAValider().subscribe(l=>{this.photosAValider=l.docs.map(h=>{const m=h.data();return m.id=h.id,m}),this.totalAValider=this.articlesAValider.length+this.photosAValider.length+this.pdfService.pdfsAValider.length})})}),n&&n.status&&(n.status&Je.administrateur)===Je.administrateur?this.isAdmin=!0:(n&&n.status&&(n.status&Je.editArticle)==Je.editArticle&&(this.isEditArticle=!0),n&&n.status&&(n.status&Je.editPhotosDeClasse)===Je.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),n&&n.status&&(n.status&Je.moderateur)===Je.moderateur&&(this.isModerateur=!0)),this.actualiteService.getActualites()}ngOnDestroy(){this.authSubscription.unsubscribe()}onValideArticle(n){this.articlesService.valideArticle(n);const s=this.articlesAValider.indexOf(n);this.articlesAValider.splice(s,1)}onRejeteArticle(n){this.articlesService.rejeteArticle(n);const s=this.articlesAValider.indexOf(n);this.articlesAValider.splice(s,1)}onValidePhoto(n){this.photoService.validerPhoto(n);const s=this.photosAValider.indexOf(n);this.photosAValider.splice(s,1)}onRejetePhoto(n){this.photoService.rejeterPhoto(n);const s=this.photosAValider.indexOf(n);this.photosAValider.splice(s,1)}onValidePdf(n){this.pdfService.validerPdf(n);const s=this.pdfsAValider.indexOf(n);this.pdfsAValider.splice(s,1),this.pdfService.getPdfsValides()}onRejetePdf(n){this.pdfService.rejeterPdf(n);const s=this.pdfsAValider.indexOf(n);this.pdfsAValider.splice(s,1)}onEditActualite(n){this.router.navigate(["app-edit-actualite/",n.id])}onSupprimeActualite(n){this.actualiteService.SupprimeActualite(n)}onValideActualite(n){this.actualiteService.ValideActualite(n)}onDesactiveActualite(n){this.actualiteService.DesactiveActualite(n)}onAddActualite(){this.router.navigate(["app-add-actualite"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ts),o.Y36(Ku),o.Y36(Sv),o.Y36(kf),o.Y36(jx),o.Y36(Hn))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-home-administration"]],decls:28,vars:8,consts:[["label","Articles"],[4,"ngFor","ngForOf"],["label","Photos de classes"],["label","Documents"],["label","Actualit\xe9s"],[4,"ngIf"],["label","Messages re\xe7us"],["label","Administration"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["alt","Photo introuvable",1,"img",3,"src"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"],["alt","Photo",1,"img",3,"src"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h2"),o._uU(1,"Administration"),o.qZA(),o.TgZ(2,"h2"),o._uU(3),o.qZA(),o.TgZ(4,"mat-tab-group"),o.TgZ(5,"mat-tab",0),o._UZ(6,"br"),o.TgZ(7,"h3"),o._uU(8),o.qZA(),o.YNc(9,Tte,17,4,"div",1),o.qZA(),o.TgZ(10,"mat-tab",2),o.TgZ(11,"div"),o.TgZ(12,"h3"),o._uU(13),o.qZA(),o.YNc(14,Mte,17,4,"div",1),o._UZ(15,"br"),o.qZA(),o.qZA(),o.TgZ(16,"mat-tab",3),o.TgZ(17,"div"),o.TgZ(18,"h3"),o._uU(19),o.qZA(),o.YNc(20,Ste,17,4,"div",1),o._UZ(21,"br"),o.qZA(),o.qZA(),o.TgZ(22,"mat-tab",4),o.YNc(23,kte,10,4,"div",5),o.qZA(),o.TgZ(24,"mat-tab",6),o._UZ(25,"app-liste-messages"),o.qZA(),o.TgZ(26,"mat-tab",7),o._UZ(27,"app-droits"),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.hij("Version ",s.version,""),o.xp6(5),o.hij("Liste des articles \xe0 valider. (",s.articlesAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",s.articlesAValider),o.xp6(4),o.hij("Liste des photos de classe \xe0 valider. (",s.photosAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",s.photosAValider),o.xp6(5),o.hij("Liste des documents \xe0 valider. (",s.pdfsAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",s.pdfsAValider),o.xp6(3),o.Q6J("ngIf",s.isAdmin))},directives:[pH,yL,bt,ct,QY,WY,Hf,Uf,Sg,Eg,dD,rr],pipes:[KY],styles:["a[_ngcontent-%COMP%]{color:#0ff;font-size:large}.img[_ngcontent-%COMP%]{max-width:150px}li[_ngcontent-%COMP%]{height:35px}"]}),r})();function Rte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o._UZ(6,"img",2),o.TgZ(7,"mat-card-content",3),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"mat-card-actions"),o.TgZ(12,"div",4),o.TgZ(13,"button",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onValideArticle(l)}),o._uU(14,"Valider l'article"),o.qZA(),o.TgZ(15,"button",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onRejeteArticle(l)}),o._uU(16,"Rejeter l'article"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.texte)}}function Ote(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2),o.qZA(),o.YNc(3,Rte,17,4,"div",1),o._UZ(4,"br"),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.hij("Liste des articles \xe0 valider. (",n.articlesAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",n.articlesAValider)}}let Nte=(()=>{class r{constructor(n,s,a,l,h){this.globalService=n,this.pdfService=s,this.photosService=a,this.authService=l,this.articlesService=h,this.articlesAValider=[],this.isConnected=!1,this.canWrite=!1,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.pdfsAValider=[],this.authSubscription=this.authService.authSubject.subscribe(m=>{if(null!=m){let _=this.authService.getCurrentUser();_&&_.status&&(_.status&Je.administrateur)===Je.administrateur?this.isAdmin=!0:(_&&_.status&&(_.status&Je.editArticle)===Je.editArticle&&(this.isEditArticle=!0),_&&_.status&&(_.status&Je.editPhotosDeClasse)===Je.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),_&&_.status&&(_.status&Je.moderateur)===Je.moderateur&&(this.isModerateur=!0))}}),this.authService.emitUserChanged()}ngOnInit(){this.articlesService.getArticlesAValider().subscribe(n=>{this.articlesAValider=n.docs}),this.pdfService.getListePdfAValider().subscribe(n=>{this.pdfsAValider=n.docs})}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}onValideArticle(n){this.articlesService.valideArticle(n).then(s=>{}).catch(s=>{console.log(s)})}onRejeteArticle(n){this.articlesService.rejeteArticle(n).then(s=>{}).catch(s=>{console.log(s)})}onValidePdf(n){this.pdfService.validerPdf(n),this.pdfService.getPdfs()}onRejetePdf(n){this.pdfService.rejeterPdf(n)}onValidePhoto(n){this.photosService.validerPhoto(n),this.photosService.getPhotos()}onRejetePhoto(n){this.photosService.rejeterPhoto(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(yo),o.Y36(Sv),o.Y36(kf),o.Y36(ts),o.Y36(Ku))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-valider-articles"]],inputs:{articlesAValider:"articlesAValider"},decls:4,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Validations"),o.qZA(),o._UZ(2,"br"),o.YNc(3,Ote,5,2,"div",0)),2&n&&(o.xp6(3),o.Q6J("ngIf",s.isEditArticle||s.isAdmin))},directives:[ct,bt,Hf,Uf,Sg,Eg,dD,rr],styles:["pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}.card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:20%;max-height:20%;align-content:left}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}"]}),r})();class Pte{constructor(i,n,s,a,l,h,m,_,w,T,A){this.id=i,this.titre=n,this.texte=s,this.idTheme=a,this.date=l,this.photo=h,this.photo2=m,this.legende=_,this.auteur=w,this.nomAuteur=T,this.status=A}}function Fte(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition de l'article ",n.article.titre,"")}}function Lte(r,i){if(1&r&&o._UZ(0,"app-article-form",3),2&r){const n=o.oxw();o.Q6J("article",n.article)}}let v2=(()=>{class r{constructor(n,s,a){this.globalService=n,this.articlesService=s,this.route=a,this.articlesService.getArticle(this.route.snapshot.params.id).subscribe(h=>{this.article=h.data(),this.article.id=h.id},h=>{console.log("Erreur = "+h)})}ngOnInit(){}ngOnDestroy(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(yo),o.Y36(Ku),o.Y36(qs))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-article"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(n,s){1&n&&(o.YNc(0,Fte,2,1,"h4",0),o.TgZ(1,"div",1),o.YNc(2,Lte,1,1,"app-article-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.article),o.xp6(2),o.Q6J("ngIf",s.article))},styles:[""]}),r})();const XY=new Set;let xv,eG=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vte}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!XY.has(r))try{xv||(xv=document.createElement("style"),xv.setAttribute("type","text/css"),document.head.appendChild(xv)),xv.sheet&&(xv.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),XY.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rt))},token:r,providedIn:"root"}),r})();function Vte(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let gD=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new pe.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return tG(Xc(n)).some(a=>this._registerQuery(a).mql.matches)}observe(n){let l=nm(tG(Xc(n)).map(h=>this._registerQuery(h).observable));return l=Pl(l.pipe(P(1)),l.pipe(nt(1),Kc(0))),l.pipe((0,b.U)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:_,query:w})=>{m.matches=m.matches||_,m.breakpoints[w]=_}),m}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),l={observable:new kn.y(h=>{const m=_=>this._zone.run(()=>h.next(_));return s.addListener(m),()=>{s.removeListener(m)}}).pipe($t(s),(0,b.U)(({matches:h})=>({query:n,matches:h})),Be(this._destroySubject)),mql:s};return this._queries.set(n,l),l}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(eG),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(eG),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})();function tG(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}const Ec_Small="(min-width: 600px) and (max-width: 959.98px)";function Ute(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function Hte(r,i){if(1&r&&o._UZ(0,"mat-progress-bar",15),2&r){const n=o.oxw(2);o.Q6J("value",n.uploadPercent)}}function Zte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2,"Vous voulez joindre une photo ?"),o.qZA(),o.TgZ(3,"mat-form-field",11),o.TgZ(4,"ngx-mat-file-input",12),o.NdJ("change",function(a){return o.CHM(n),o.oxw().onUpload(a)}),o.qZA(),o.TgZ(5,"mat-icon",13),o._uU(6,"folder"),o.qZA(),o.YNc(7,Ute,2,1,"mat-error",2),o.qZA(),o.YNc(8,Hte,1,1,"mat-progress-bar",14),o.qZA()}if(2&r){const n=o.oxw();let s;o.xp6(7),o.Q6J("ngIf",null==n.form||null==(s=n.form.get("photo"))?null:s.hasError("maxSize")),o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function Yte(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("legende"))}}function Gte(r,i){if(1&r&&(o.TgZ(0,"mat-form-field",5),o._UZ(1,"input",16),o.TgZ(2,"div",7),o.YNc(3,Yte,2,1,"mat-error",8),o.qZA(),o.qZA()),2&r){const n=o.oxw();o.xp6(3),o.Q6J("ngIf",null==n.form||null==n.form.controls||null==n.form.controls.legende?null:n.form.controls.legende.hasError("required"))}}function qte(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function jte(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function zte(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function $te(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function Wte(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function Jte(r,i){1&r&&(o.TgZ(0,"div",18),o.TgZ(1,"button",19),o._uU(2,"Valider"),o.qZA(),o.qZA())}let tk=(()=>{class r{constructor(n,s,a,l,h,m,_){var w;this.formBuilder=n,this.angularFireStorage=s,this.themesService=a,this.authService=l,this.articlesService=h,this.router=m,this.breakpointObserver=_,this.color="primary",this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.maxSize=1e8,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,b.U)(T=>T.matches)),this.form=this.formBuilder.group({photo:[{value:null===(w=this.article)||void 0===w?void 0:w.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],legende:["",[gt.maxLength(50)]],titre:["",[gt.required,gt.maxLength(60)]],texte:["",[gt.required,gt.minLength(20),gt.maxLength(6500)]]})}ngOnInit(){var n,s,a,l,h,m;this.initForm(),null!=(null===(n=this.article)||void 0===n?void 0:n.photo)&&(this.downloadURL=null===(s=this.article)||void 0===s?void 0:s.photo),this.form.controls.photo.setValue(this.downloadURL),this.form.controls.legende.setValue(null===(a=this.article)||void 0===a?void 0:a.legende),this.form.controls.titre.setValue(null===(l=this.article)||void 0===l?void 0:l.titre),this.form.controls.texte.setValue(null===(h=this.article)||void 0===h?void 0:h.texte),this.isFileAttached=""!==(null===(m=this.article)||void 0===m?void 0:m.photo)}initForm(){}getErrorMessage(n){var s,a,l,h,m,_,w,T,A;let I="";switch(n){case"photo":(null===(s=this.form)||void 0===s?void 0:s.controls.photo.touched)&&(I=(null===(a=this.form)||void 0===a?void 0:a.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(l=this.form)||void 0===l?void 0:l.controls.titre.touched)&&((null===(h=this.form)||void 0===h?void 0:h.controls.titre.hasError("required"))&&(I="Vous devez saisir un titre."),(null===(m=this.form)||void 0===m?void 0:m.controls.titre.hasError("maxlength"))&&(I="Le titre ne doit pas comporter plus de 60 caract\xe8res."));break;case"texte":(null===(_=this.form)||void 0===_?void 0:_.controls.texte.touched)&&((null===(w=this.form)||void 0===w?void 0:w.controls.texte.hasError("required"))&&(I="Vous devez saisir un texte."),(null===(T=this.form)||void 0===T?void 0:T.controls.texte.hasError("minlength"))&&(I="Le texte doit comporter plus de 20 caract\xe8res."),(null===(A=this.form)||void 0===A?void 0:A.controls.texte.hasError("maxlength"))&&(I="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return I}onSubmit(){var n,s,a,l,h,m,_,w,T;null!=this.article&&(this.article.titre=null===(s=null===(n=this.form)||void 0===n?void 0:n.get("titre"))||void 0===s?void 0:s.value),null!=this.article&&(this.article.texte=null===(l=null===(a=this.form)||void 0===a?void 0:a.get("texte"))||void 0===l?void 0:l.value),null!=this.article&&(this.article.idTheme=null===(h=this.themesService.currentTheme)||void 0===h?void 0:h.id),null!=this.article&&(this.article.photo=this.downloadURL),null!=this.article&&(this.article.legende=null===(_=null===(m=this.form)||void 0===m?void 0:m.get("legende"))||void 0===_?void 0:_.value),""===(null===(w=this.article)||void 0===w?void 0:w.id)?(this.article.auteur=null===(T=this.authService.getCurrentUser())||void 0===T?void 0:T.uid,this.articlesService.addArticle(this.article).then(A=>{alert("Merci pour cet article qui sera tr\xe9s prochainement publi\xe9.")})):this.articlesService.updateArticle(this.article).then(A=>{}),this.themesService.getThemes(),this.articlesService.getArticlesCurrentTheme(),this.router.navigate(["app-liste-articles/"])}onUpload(n){this.fileIsUploading=!0;const s=n.target.files[0],a="Images/"+(new Date).toJSON()+"_"+n.target.files[0].name,l=this.angularFireStorage.ref(a),h=this.angularFireStorage.upload(a,s);h.percentageChanges().subscribe(m=>{this.uploadPercent=m}),h.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,l.getDownloadURL().subscribe(m=>{this.downloadURL=m})})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(Ev),o.Y36($1),o.Y36(ts),o.Y36(Ku),o.Y36(Hn),o.Y36(gD))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-article-form"]],inputs:{article:"article"},features:[o._Bn([v2])],decls:20,vars:10,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["alt","",1,"img",3,"src"],["class","full-width",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","rows","25","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["matInput","","formControlName","legende","placeholder","L\xe9gende"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(n,s){if(1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,Zte,9,2,"div",2),o.TgZ(3,"div"),o._UZ(4,"img",3),o.qZA(),o.YNc(5,Gte,4,1,"mat-form-field",4),o.TgZ(6,"mat-form-field",5),o._UZ(7,"input",6),o.TgZ(8,"div",7),o.YNc(9,qte,2,1,"mat-error",8),o.YNc(10,jte,2,1,"mat-error",8),o.qZA(),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"mat-form-field",5),o.TgZ(13,"textarea",9),o._uU(14,"      "),o.qZA(),o.TgZ(15,"div",7),o.YNc(16,zte,2,1,"mat-error",8),o.YNc(17,$te,2,1,"mat-error",8),o.YNc(18,Wte,2,1,"mat-error",8),o.qZA(),o.qZA(),o.YNc(19,Jte,3,0,"div",10),o.qZA(),o.qZA()),2&n){let a,l,h,m,_;o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",0==s.isFileAttached),o.xp6(2),o.s9C("src",null==s.article?null:s.article.photo,o.LSH),o.xp6(1),o.Q6J("ngIf",s.fileUploaded),o.xp6(4),o.Q6J("ngIf",null==s.form||null==(a=s.form.get("titre"))||null==a.errors?null:a.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(l=s.form.get("titre"))||null==l.errors?null:l.errors.maxlength),o.xp6(6),o.Q6J("ngIf",null==s.form||null==(h=s.form.get("texte"))||null==h.errors?null:h.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(m=s.form.get("texte"))||null==m.errors?null:m.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(_=s.form.get("texte"))||null==_.errors?null:_.errors.maxlength),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&(null==s.form?null:s.form.valid))}},directives:[Xp,xa,Si,ct,td,Lf,fo,Sa,qo,ri,qf,mv,Ff,WA,rr],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:35%;align-content:left}"]}),r})();function Qte(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un article."),o.qZA())}function Kte(r,i){if(1&r&&o._UZ(0,"app-article-form",3),2&r){const n=o.oxw();o.Q6J("article",n.article)}}let Xte=(()=>{class r{constructor(n,s){var a;this.globalService=n,this.authService=s,this.article=new Pte("","","","",(new Date).toJSON(),"","","",null===(a=this.authService.getCurrentUser())||void 0===a?void 0:a.uid,"",0)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(yo),o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-article"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(n,s){1&n&&(o.YNc(0,Qte,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,Kte,1,1,"app-article-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.article),o.xp6(2),o.Q6J("ngIf",s.article))},directives:[ct,tk],styles:[""]}),r})();function ene(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddArticle()}),o._uU(1," Ajouter un article sur ce th\xe8me.\n"),o.qZA()}}function tne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"img",5),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw(2).onZoom(a)}),o.qZA()}if(2&r){const n=o.oxw().$implicit;o.s9C("src",n.photo2,o.LSH)}}function nne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw(2).onEdit(a)}),o._uU(1,"Modifier l'article"),o.qZA()}}function ine(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card",4),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"img",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onZoom(l)}),o.qZA(),o.YNc(5,tne,1,1,"img",6),o.TgZ(6,"mat-card-subtitle"),o._uU(7),o.qZA(),o.TgZ(8,"div"),o.TgZ(9,"h2"),o.TgZ(10,"pre"),o._uU(11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",7),o.YNc(13,nne,2,0,"button",8),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw(2);o.xp6(3),o.AsE("",n.titre," (par : ",n.nomAuteur,") (Cliquez sur la photo pour l'agrandir.)"),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(1),o.Q6J("ngIf",n.photo2),o.xp6(2),o.Oqu(n.legende),o.xp6(4),o.Oqu(n.texte),o.xp6(2),o.Q6J("ngIf",s.canWrite)}}function rne(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,ine,14,7,"div",3),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==n.themesService.currentTheme?null:n.themesService.currentTheme.articles)}}function sne(r,i){if(1&r&&o._UZ(0,"img",0),2&r){const n=o.oxw();o.s9C("src",n.image2,o.LSH)}}let one=(()=>{class r{constructor(n,s,a,l,h,m){this.globalService=n,this.themesService=s,this.articlesService=a,this.authService=l,this.router=h,this.matDialog=m,this.isConnected=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(va(1)).subscribe(_=>{if(this.canWrite=!1,null!=_){const w=_.status;null!=w&&w>=Je.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=w&&(w&Je.editArticle)==Je.editArticle}}),l.emitUserChanged()}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}onEdit(n){this.router.navigate(["app-edit-article/",n.id])}onAddArticle(){this.router.navigate(["app-add-article"])}onZoom(n){this.articlesService.currentArticle=n,this.matDialog.open(nG,{height:"90%",width:"60%"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(yo),o.Y36($1),o.Y36(Ku),o.Y36(ts),o.Y36(Hn),o.Y36(Pf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-articles"]],decls:4,vars:3,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","color","accent",3,"click"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res","height","250px",2,"margin","25px",3,"src","click"],["alt","Photo de Mori\xe8res","style","margin: 25px;","height","250px",3,"src","click",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h2"),o._uU(1),o.qZA(),o.YNc(2,ene,2,0,"button",0),o.YNc(3,rne,2,1,"div",1)),2&n&&(o.xp6(1),o.hij("Articles sur le th\xe8me : [",null==s.themesService.currentTheme?null:s.themesService.currentTheme.nom,"]"),o.xp6(1),o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngIf",null==s.themesService.currentTheme?null:s.themesService.currentTheme.articles))},directives:[ct,rr,bt,Hf,Uf,Sg],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:24%;max-height:30%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:5px}"]}),r})(),nG=(()=>{class r{constructor(n,s){var a,l,h,m,_;this.globalService=n,this.articlesService=s,this.sousTitre="",this.image=null===(a=s.currentArticle)||void 0===a?void 0:a.photo,this.image2=null===(l=s.currentArticle)||void 0===l?void 0:l.photo2,this.legende=null===(h=s.currentArticle)||void 0===h?void 0:h.legende,this.texte=null===(m=s.currentArticle)||void 0===m?void 0:m.texte,this.titre=null===(_=s.currentArticle)||void 0===_?void 0:_.titre}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(yo),o.Y36(Ku))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-dialog-maximise-article-image"]],decls:17,vars:6,consts:[["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-card-image","","dialog-img","","alt","Article","class","dialog-img",3,"src",4,"ngIf"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(n,s){1&n&&(o.TgZ(0,"mat-card"),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.qZA(),o._UZ(6,"img",0),o.YNc(7,sne,1,1,"img",1),o.TgZ(8,"mat-card-content"),o._uU(9),o.qZA(),o.TgZ(10,"mat-card-content"),o.TgZ(11,"pre"),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"mat-card-actions"),o.TgZ(14,"div"),o.TgZ(15,"button",2),o._uU(16,"Fermer"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Oqu(s.titre),o.xp6(2),o.Oqu(s.sousTitre),o.xp6(1),o.s9C("src",s.image,o.LSH),o.xp6(1),o.Q6J("ngIf",s.image2),o.xp6(2),o.hij(" ",s.legende," "),o.xp6(3),o.hij("            ",s.texte,"\n        "))},directives:[Hf,UL,Uf,Sg,VL,ct,Eg,dD,rr,pL],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),r})();function ane(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function lne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function cne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}function une(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}function dne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}let iG=(()=>{class r{constructor(n,s,a,l){this.authService=n,this.formBuilder=s,this.dialogRef=a,this.data=l,this.signinForm=this.formBuilder.group({email:["",[gt.required,gt.email]],password:["",[gt.required,gt.minLength(5),gt.maxLength(20)]]}),this.errorMessage="",this.hide=!0}ngOnInit(){}save(){this.dialogRef.close(this.signinForm.value)}close(){this.dialogRef.close()}getErrorMessage(n){let s="";switch(n){case"email":if(null!=this.signinForm&&this.signinForm.get("email").hasError("required")){s="Vous devez saisir une adresse email. ";break}if(null!=this.signinForm&&this.signinForm.get("email").hasError("email")){s="L'adresse saisie n'est pas valide.";break}break;case"password":if(null!=this.signinForm&&this.signinForm.controls.password.hasError("required")){s="Vous devez saisir un mot de passe. ";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("minlength")){s="Vous devez saisir un mot de passe comportant au moins 5 caract\xe8res";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("maxlength")){s="Vous devez saisir un mot de passe comportant au plus 20 caract\xe8res";break}}return s}onMotDePasseOublie(){null!=this.signinForm&&!0===this.signinForm.get("email").valid?this.authService.ForgotPassword(this.signinForm.get("email").value):alert("Merci de saisir l'adresse mail avec laquelle vous avez cr\xe9\xe9 votre compte.")}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ts),o.Y36(Aa),o.Y36(Nf),o.Y36(X1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-sign-in"]],decls:24,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Email","formControlName","email"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Mot de passe","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"h2",0),o._uU(1,"Connexion"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field",2),o._UZ(4,"input",3),o.TgZ(5,"div",4),o.YNc(6,ane,2,1,"mat-error",5),o.YNc(7,lne,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",2),o._UZ(9,"input",6),o.TgZ(10,"button",7),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(11,"mat-icon"),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.YNc(14,cne,2,1,"mat-error",5),o.YNc(15,une,2,1,"mat-error",5),o.YNc(16,dne,2,1,"mat-error",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"mat-dialog-actions"),o.TgZ(18,"button",8),o.NdJ("click",function(){return s.save()}),o._uU(19,"Ok"),o.qZA(),o.TgZ(20,"button",9),o.NdJ("click",function(){return s.close()}),o._uU(21,"Annuler"),o.qZA(),o.TgZ(22,"button",9),o.NdJ("click",function(){return s.onMotDePasseOublie()}),o._uU(23,"Mot de passe oubli\xe9 ?"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("formGroup",s.signinForm),o.xp6(4),o.Q6J("ngIf",s.signinForm.get("email").hasError("email")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("email").hasError("required")),o.xp6(2),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signinForm.get("password").hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("password").hasError("minlength")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("password").hasError("maxlength")))},directives:[jU,eD,xa,Si,td,Lf,fo,Sa,qo,ct,rr,mv,qf,tD,Ff],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),r})();function hne(r,i){return n=>{const a=n.controls[i];a.errors&&!a.errors.mustMatch||a.setErrors(n.controls[r].value!==a.value?{mustMatch:!0}:null)}}function fne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function pne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function mne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function gne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function _ne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function yne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function bne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password1"))}}function vne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password1"))}}function wne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password2"))}}function Cne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password2"))}}let rG=(()=>{class r{constructor(n,s){this.formBuilder=n,this.dialogRef=s,this.signupForm=this.formBuilder.group({nom:["",[gt.required,gt.minLength(5),gt.maxLength(25)]],prenom:["",[gt.required,gt.minLength(3),gt.maxLength(25)]],email:["",[gt.required,gt.email]],password1:["",[gt.required,gt.minLength(5),gt.maxLength(20)]],password2:["",[gt.required,gt.minLength(5),gt.maxLength(20)]]},{validator:hne("password1","password2")}),this.errorMessage="",this.hide=!0}ngOnInit(){}initForm(){}close(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.signupForm.value)}getErrorMessage(n){let s="";switch(n){case"nom":this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("required")&&(s="Vous devez saisir votre nom"),(this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("minlength")||this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("maxlength"))&&(s="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("required")&&(s="Vous devez saisir votre pr\xe9nom"),(this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("minlength")||this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("maxlength"))&&(s="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("required")&&(s="Vous devez saisir une adresse email"),this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("email")&&(s="L'adresse saisie n'est pas valide.");break;case"password1":this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return s}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(Nf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-sign-up"]],decls:41,vars:20,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Mot de passe","formControlName","password1","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirmer le mot de passe","formControlName","password2","autocomplete","current-password",3,"type"],["mat-button","","mat-dialog-close","true",3,"disabled","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2),o.TgZ(3,"div",3),o.YNc(4,fne,2,1,"mat-error",4),o.YNc(5,pne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"mat-form-field",1),o._UZ(8,"input",5),o.TgZ(9,"div",3),o.YNc(10,mne,2,1,"mat-error",4),o.YNc(11,gne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",1),o._UZ(14,"input",6),o.TgZ(15,"div",3),o.YNc(16,_ne,2,1,"mat-error",4),o.YNc(17,yne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(18,"br"),o.TgZ(19,"mat-form-field",1),o._UZ(20,"input",7),o.TgZ(21,"button",8),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(22,"mat-icon"),o._uU(23),o.qZA(),o.qZA(),o.TgZ(24,"div",3),o.YNc(25,bne,2,1,"mat-error",4),o.YNc(26,vne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"mat-form-field",1),o._UZ(29,"input",9),o.TgZ(30,"button",8),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(31,"mat-icon"),o._uU(32),o.qZA(),o.qZA(),o.TgZ(33,"div",3),o.YNc(34,wne,2,1,"mat-error",4),o.YNc(35,Cne,2,1,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(36,"mat-dialog-actions"),o.TgZ(37,"button",10),o.NdJ("click",function(){return s.onSave()}),o._uU(38,"Ok"),o.qZA(),o.TgZ(39,"button",11),o._uU(40,"Annuler"),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.signupForm),o.xp6(4),o.Q6J("ngIf",(s.signupForm.controls.nom.hasError("minlength")||s.signupForm.controls.nom.hasError("maxlength"))&&!s.signupForm.controls.nom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.nom.hasError("required")),o.xp6(5),o.Q6J("ngIf",(s.signupForm.controls.prenom.hasError("minlength")||s.signupForm.controls.prenom.hasError("maxlength"))&&!s.signupForm.controls.prenom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.prenom.hasError("required")),o.xp6(5),o.Q6J("ngIf",s.signupForm.controls.email.hasError("email")&&!s.signupForm.controls.email.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.email.hasError("required")),o.xp6(3),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password1")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signupForm.controls.password1.hasError("minLength")&&!s.signupForm.controls.password1.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.password1.hasError("required")),o.xp6(3),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password2")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signupForm.controls.password2.hasError("minLength")&&!s.signupForm.controls.password2.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.password2.hasError("required")),o.xp6(2),o.Q6J("disabled",s.signupForm.invalid))},directives:[eD,xa,Si,td,Lf,fo,Sa,qo,ct,rr,mv,qf,tD,pL,Ff],styles:[""]}),r})();function Dne(r,i){if(1&r&&(o.TgZ(0,"mat-error",7),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij(" ",n.getErrorMessage("message")," ")}}let sG=(()=>{class r{constructor(n,s,a){this.formBuilder=n,this.matDialogRef=s,this.data=a,this.messageForm=this.formBuilder.group({message:["",[gt.required,gt.maxLength(150)]]}),this.errorMessage="",this.email=a.email}close(){this.matDialogRef.close()}save(){"VALID"==this.messageForm.status?this.matDialogRef.close(this.messageForm.value):alert("Saisie invalide.")}getErrorMessage(n){let s="";switch(n){case"message":this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("required")&&(s="Vous devez saisir un message"),this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("maxlength")&&(s="Le message doit comporter au maximum 150 caract\xe8res")}return s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(Nf),o.Y36(X1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-messages"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","cols","50","rows","3","formControlName","message","placeholder","Message"],["class","error-message",4,"ngIf"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"h2",0),o._uU(1,"Message :"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o._uU(3),o.TgZ(4,"mat-form-field",2),o.TgZ(5,"mat-label"),o._uU(6,"Ecrivez ici v\xf4tre message."),o.qZA(),o._UZ(7,"textarea",3),o.TgZ(8,"div"),o.YNc(9,Dne,2,1,"mat-error",4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-dialog-actions"),o.TgZ(11,"button",5),o.NdJ("click",function(){return s.save()}),o._uU(12,"Ok"),o.qZA(),o.TgZ(13,"button",6),o.NdJ("click",function(){return s.close()}),o._uU(14,"Annuler"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("formGroup",s.messageForm),o.xp6(1),o.hij(" ",s.email," "),o.xp6(6),o.Q6J("ngIf",s.messageForm.controls.message.hasError("maxlength")||s.messageForm.controls.message.hasError("required")))},directives:[jU,eD,xa,Si,td,mL,Lf,fo,Sa,qo,ct,tD,Ff],styles:["mat-label[_ngcontent-%COMP%]{color:#ff0;font-size:large}"]}),r})();function oG(r){return i=>i.lift(new Tne(r))}class Tne{constructor(i){this.value=i}call(i,n){return n.subscribe(new Mne(i,this.value))}}class Mne extends Ti.L{constructor(i,n){super(i),this.value=n}_next(i){this.destination.next(this.value)}}const nk=["*"];function Ene(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(n),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function Sne(r,i){1&r&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const xne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ane=["mat-drawer","mat-drawer-content","*"];function kne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(n),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function Ine(r,i){1&r&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const Rne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],One=["mat-sidenav","mat-sidenav-content","*"],aG=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",lG={transformDrawer:Ui("transform",[Jt("open, open-instant",Qe({transform:"none",visibility:"visible"})),Jt("void",Qe({"box-shadow":"none",visibility:"hidden"})),hn("void => open-instant",_n("0ms")),hn("void <=> open, open-instant => void",_n("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Nne=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),w2=new o.OlP("MAT_DRAWER_CONTAINER");let ik=(()=>{class r extends Fl{constructor(n,s,a,l,h){super(a,l,h),this._changeDetectorRef=n,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>uG)),o.Y36(o.SBq),o.Y36(Ka),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,s){2&n&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:nk,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),cG=(()=>{class r{constructor(n,s,a,l,h,m,_){this._elementRef=n,this._focusTrapFactory=s,this._focusMonitor=a,this._platform=l,this._ngZone=h,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new pe.xQ,this._animationEnd=new pe.xQ,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(wt(w=>w),(0,b.U)(()=>{})),this.openedStart=this._animationStarted.pipe(wt(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),oG(void 0)),this._closedStream=this.openedChange.pipe(wt(w=>!w),(0,b.U)(()=>{})),this.closedStart=this._animationStarted.pipe(wt(w=>w.fromState!==w.toState&&"void"===w.toState),oG(void 0)),this._destroyed=new pe.xQ,this.onPositionChanged=new o.vpe,this._modeChanged=new pe.xQ,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Nn(this._elementRef.nativeElement,"keydown").pipe(wt(w=>27===w.keyCode&&!this.disableClose&&!Gn(w)),Be(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(vn((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:A}=w;(0===A.indexOf("open")&&"void"===T||"void"===A&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(n){(n="end"===n?"end":"start")!=this._position&&(this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=xe(n)}get autoFocus(){const n=this._autoFocus;return null==n?"side"!==this.mode:n}set autoFocus(n){this._autoFocus=xe(n)}get opened(){return this._opened}set opened(n){this.toggle(xe(n))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var n;const s=null===(n=this._doc)||void 0===n?void 0:n.activeElement;return!!s&&this._elementRef.nativeElement.contains(s)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(n=!this.opened,s){return this._setOpen(n,!n&&this._isFocusWithinDrawer(),s)}_setOpen(n,s,a="program"){return this._opened=n,n?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=a):(this._animationState="void",s&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(P(1)).subscribe(h=>l(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(n){this._animationStarted.next(n)}_animationDoneListener(n){this._animationEnd.next(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(g_),o.Y36(ti),o.Y36(Rt),o.Y36(o.R0b),o.Y36(j,8),o.Y36(w2,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,s){1&n&&o.WFA("@transform.start",function(l){return s._animationStartListener(l)})("@transform.done",function(l){return s._animationDoneListener(l)}),2&n&&(o.uIk("align",null),o.d8E("@transform",s._animationState),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:nk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Fl],encapsulation:2,data:{animation:[lG.transformDrawer]},changeDetection:0}),r})(),uG=(()=>{class r{constructor(n,s,a,l,h,m=!1,_){this._dir=n,this._element=s,this._ngZone=a,this._changeDetectorRef=l,this._animationMode=_,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new pe.xQ,this._doCheckSubject=new pe.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new pe.xQ,n&&n.change.pipe(Be(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(Be(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=xe(n)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(n){this._backdropOverride=null==n?null:xe(n)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe($t(this._allDrawers),Be(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe($t(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Kc(10),Be(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();n+=a,s-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();s+=a,n-=a}n=n||null,s=s||null,(n!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:n,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(wt(s=>s.fromState!==s.toState),Be(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==n.mode&&n.openedChange.pipe(Be(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){!n||n.onPositionChanged.pipe(Be(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(P(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(Be((0,In.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){const s=this._element.nativeElement.classList,a="mat-drawer-container-has-open";n?s.add(a):s.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{"end"==n.position?this._end=n:this._start=n}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._canHaveBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(n){return"side"!==n.mode||!!this._backdropOverride}_isDrawerOpen(n){return null!=n&&n.opened}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(gn,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(mr),o.Y36(Nne),o.Y36(Zn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,ik,5),o.Suo(a,cG,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._content=l.first),o.iGM(l=o.CRH())&&(s._allDrawers=l)}},viewQuery:function(n,s){if(1&n&&o.Gf(ik,5),2&n){let a;o.iGM(a=o.CRH())&&(s._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:w2,useExisting:r}])],ngContentSelectors:Ane,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,s){1&n&&(o.F$t(xne),o.YNc(0,Ene,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Sne,2,0,"mat-drawer-content",1)),2&n&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[ct,ik],styles:[aG],encapsulation:2,changeDetection:0}),r})(),C2=(()=>{class r extends ik{constructor(n,s,a,l,h){super(n,s,a,l,h)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>hG)),o.Y36(o.SBq),o.Y36(Ka),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,s){2&n&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:nk,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),dG=(()=>{class r extends cG{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(n){this._fixedInViewport=xe(n)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(n){this._fixedTopGap=qt(n)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(n){this._fixedBottomGap=qt(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,s){2&n&&(o.uIk("align",null),o.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:nk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Fl],encapsulation:2,data:{animation:[lG.transformDrawer]},changeDetection:0}),r})(),hG=(()=>{class r extends uG{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,C2,5),o.Suo(a,dG,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._content=l.first),o.iGM(l=o.CRH())&&(s._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:w2,useExisting:r}]),o.qOj],ngContentSelectors:One,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(n,s){1&n&&(o.F$t(Rne),o.YNc(0,kne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Ine,2,0,"mat-sidenav-content",1)),2&n&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[ct,C2,Fl],styles:[aG],encapsulation:2,changeDetection:0}),r})(),Fne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,tt,Mp,gr],gr,tt]}),r})(),fG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt],tt]}),r})();const D2=["*"],pG=Os(Qs(class{})),gG=new o.OlP("MatNavList");let Gne=(()=>{class r extends pG{constructor(){super(...arguments),this._stateChanges=new pe.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:gG,useExisting:r}]),o.qOj,o.TTD],ngContentSelectors:D2,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),Jne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[pA,pl,tt,uL,Xt],pA,tt,uL,fG]}),r})();const Qne=["*",[["mat-toolbar-row"]]],Kne=["*","mat-toolbar-row"],Xne=Ko(class{constructor(r){this._elementRef=r}});let eie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),tie=(()=>{class r extends Xne{constructor(n,s,a){super(n),this._platform=s,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Rt),o.Y36(j))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,eie,5),2&n){let l;o.iGM(l=o.CRH())&&(s._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:Kne,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(Qne),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),nie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt],tt]}),r})();function iie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){return o.CHM(n),o.oxw().onMessage()}),o._uU(1,"Envoyer un message."),o.qZA()}}function rie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onListeArticles(l)}),o._uU(1),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(1),o.Oqu(n.nom)}}function sie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onNewCompteDialog()}),o._uU(1," Cr\xe9er mon compte "),o.qZA()}}function oie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onConnectWidthGoogleDialog()}),o._uU(1," Me connecter via mon compte Google "),o.qZA()}}function aie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(n),o.oxw().onConnectDialog()}),o._uU(1," Me connecter "),o.qZA()}}function lie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDisconnectDialog()}),o._uU(1," Me d\xe9connecter "),o.qZA()}}function cie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAdmin()}),o._uU(1," Administration "),o.qZA()}}let vG=(()=>{class r{constructor(n,s,a,l,h,m,_,w){this.router=n,this.dialog=s,this.breakpointObserver=a,this.globalService=l,this.messagesService=h,this.themesService=m,this.articlesService=_,this.authService=w,this.userMail="Visiteur",this.userPassword="",this.isAdmin=!1,this.isAuth=!1,this.showFiller=!1,this.isHandset$=this.breakpointObserver.observe(Ec_Small).pipe((0,b.U)(T=>T.matches)),this.userSubscription=this.authService.authSubject.subscribe(T=>{let A=0;null!=T||null!=T?("Visiteur"!=T.email&&T.status>0?(this.userMail=null==T?void 0:T.email,this.isAuth=!0):(this.userMail="Visiteur",this.isAuth=!1),A=T.status):(this.isAuth=!1,this.userMail="D\xe9connect\xe9"),this.isAdmin=(A&Je.administrateur)===Je.administrateur})}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe(),this.authService.SignOut()}onGoAccueil(){this.router.navigate(["app-acceuil"])}onClickAlbum(n,s){}onOpenPdf(){this.router.navigate(["app-liste-pdf"])}onListeArticles(n){this.themesService.changeCurrentTheme(n),this.articlesService.getArticlesCurrentTheme(),this.router.navigate(["app-liste-articles"])}onEditAlbum(n,s){this.router.navigate(["app-album"],{queryParams:{debut:n,fin:s}})}onEditArticle(n){}onNewCompteDialog(){const n=new Of;n.disableClose=!0,n.autoFocus=!0,n.width="500px";const s=this.dialog.open(rG);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(a=>{if(void 0!==a){const l=new zx("","",a.nom,a.prenom,a.email,!1,Jn.initial);this.authService.createNewUser(l,a.password1)}},a=>{console.log(a)})}onConnectWidthGoogleDialog(){this.authService.connectWidthGoogle()}onConnectDialog(){const n=new Of;n.disableClose=!0,n.autoFocus=!0,n.width="400px",n.data={email:this.userMail,password:this.userPassword};const s=this.dialog.open(iG,n);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(a=>{let l;void 0!==a&&void 0!==a.email&&void 0!==a.password&&this.authService.SignInUser(a.email,a.password).then(h=>{l=h})},a=>{console.log(a)})}onDisconnectDialog(){this.authService.SignOut(),this.router.navigate(["app-accueil"])}onMessage(){var n;const s=new Of;s.disableClose=!0,s.autoFocus=!0,s.width="450px",s.data={email:null===(n=this.authService.getCurrentUser())||void 0===n?void 0:n.email};const a=this.dialog.open(sG,s);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=a.afterClosed().subscribe(l=>{if(l&&l.message){const h=new JY(new Date,s.data.email,l.message,!1,"");this.messagesService.addMessage(h)}},l=>{console.log(l)})}onAdmin(){this.router.navigate(["app-home-administration"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Hn),o.Y36(Pf),o.Y36(gD),o.Y36(yo),o.Y36(b2),o.Y36($1),o.Y36(Ku),o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-frame"]],decls:101,vars:17,consts:[[1,"sidenav-container"],["fixedInViewport","true",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-raised-button","",3,"click"],["aria-hidden","false","aria-label","Accueil"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["href","http://www.ville-moriereslesavignon.fr/","target","_blank"],["href","https://fr.wikipedia.org/wiki/Mori%C3%A8res-l%C3%A8s-Avignon","target","_blank"],["href","https://fr.wikipedia.org/wiki/Jean-Charles_de_Folard","target","_blank"],["href","https://fr.wikipedia.org/wiki/Agricol_Perdiguier","target","_blank"],["href","https://www.petit-patrimoine.com/fiche-petit-patrimoine.php?id_pp=84081_1","target","_blank"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Menu lat\xe9ral"],[1,"titre"],[1,"button-row"],["class","button","mat-raised-button","",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"button"],["mat-raised-button","",1,"button",3,"click"],["mat-raised-button","","color","accent",1,"button",3,"click"],["mat-raised-button","","color","warn",1,"button",3,"click"]],template:function(n,s){if(1&n){const a=o.EpF();o.TgZ(0,"mat-sidenav-container",0),o.TgZ(1,"mat-sidenav",1,2),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o._UZ(6,"br"),o.TgZ(7,"mat-nav-list"),o.TgZ(8,"button",3),o.NdJ("click",function(){return s.onGoAccueil()}),o.TgZ(9,"h4"),o.TgZ(10,"mat-icon",4),o._uU(11,"home"),o.qZA(),o._uU(12," Accueil "),o.qZA(),o._UZ(13,"br"),o.qZA(),o.qZA(),o.TgZ(14,"mat-nav-list"),o.YNc(15,iie,2,0,"button",5),o.qZA(),o.TgZ(16,"h4"),o._uU(17,"Articles :"),o.qZA(),o.TgZ(18,"mat-nav-list"),o.YNc(19,rie,2,1,"button",6),o.qZA(),o.TgZ(20,"h4"),o._uU(21,"Photos de classes :"),o.qZA(),o.TgZ(22,"mat-nav-list"),o.TgZ(23,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1901,1910)}),o._uU(24,"1901-1910"),o.qZA(),o._UZ(25,"br"),o.TgZ(26,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1911,1920)}),o._uU(27,"1911-1920"),o.qZA(),o._UZ(28,"br"),o.TgZ(29,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1921,1930)}),o._uU(30,"1921-1930"),o.qZA(),o._UZ(31,"br"),o.TgZ(32,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1931,1940)}),o._uU(33,"1931-1940"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1941,1950)}),o._uU(36,"1941-1950"),o.qZA(),o._UZ(37,"br"),o.TgZ(38,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1951,1960)}),o._uU(39,"1951-1960"),o.qZA(),o._UZ(40,"br"),o.TgZ(41,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1961,1970)}),o._uU(42,"1961-1970"),o.qZA(),o._UZ(43,"br"),o.TgZ(44,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1971,1980)}),o._uU(45,"1971-1980"),o.qZA(),o._UZ(46,"br"),o.TgZ(47,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1981,1990)}),o._uU(48,"1981-1990"),o.qZA(),o._UZ(49,"br"),o.TgZ(50,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1991,2e3)}),o._uU(51,"1991-2000"),o.qZA(),o.qZA(),o.TgZ(52,"mat-nav-list"),o.TgZ(53,"button",7),o.NdJ("click",function(){return s.onOpenPdf()}),o._uU(54," Autres documents \xe0 voir sur Mori\xe8res. "),o.qZA(),o.qZA(),o.TgZ(55,"mat-nav-list"),o.TgZ(56,"h4"),o._uU(57,"Autres sources d'information"),o.qZA(),o.TgZ(58,"ul"),o.TgZ(59,"li"),o.TgZ(60,"a",8),o._uU(61,"Le site officiel de la ville"),o.qZA(),o.qZA(),o._UZ(62,"br"),o.qZA(),o.TgZ(63,"h4"),o._uU(64,"A voir sur wikipedia"),o.qZA(),o.TgZ(65,"ul"),o.TgZ(66,"li"),o.TgZ(67,"a",9),o._uU(68,"Mori\xe8res les Avignon"),o.qZA(),o.qZA(),o._UZ(69,"br"),o.TgZ(70,"li"),o.TgZ(71,"a",10),o._uU(72,"Le chevalier de Folard"),o.qZA(),o.qZA(),o._UZ(73,"br"),o.TgZ(74,"li"),o.TgZ(75,"a",11),o._uU(76,"Agricol Perdiguier"),o.qZA(),o.qZA(),o._UZ(77,"br"),o.qZA(),o.TgZ(78,"h4"),o._uU(79,"A voir sur Petit patrimoine"),o.qZA(),o.TgZ(80,"ul"),o.TgZ(81,"li"),o.TgZ(82,"a",12),o._uU(83,"L'\xe9glise de Mori\xe8res"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(84,"mat-sidenav-content"),o.TgZ(85,"mat-toolbar",13),o.TgZ(86,"button",14),o.NdJ("click",function(){return o.CHM(a),o.MAs(2).toggle()}),o.TgZ(87,"mat-icon",15),o._uU(88,"menu"),o.qZA(),o.qZA(),o.TgZ(89,"div",16),o.TgZ(90,"span"),o._uU(91,"M\xe9moire mori\xe9roise"),o.qZA(),o.qZA(),o.TgZ(92,"div",17),o.YNc(93,sie,2,0,"button",18),o.YNc(94,oie,2,0,"button",18),o.YNc(95,aie,2,0,"button",19),o.YNc(96,lie,2,0,"button",18),o.YNc(97,cie,2,0,"button",20),o.qZA(),o.TgZ(98,"h4",21),o._uU(99),o.qZA(),o.qZA(),o._UZ(100,"router-outlet"),o.qZA(),o.qZA()}2&n&&(o.xp6(1),o.Q6J("mode",o.lcZ(4,13,s.isHandset$)?"over":"side")("opened",!o.lcZ(5,15,s.isHandset$)),o.uIk("role",o.lcZ(3,11,s.isHandset$)?"dialog":"navigation"),o.xp6(14),o.Q6J("ngIf",s.isAuth),o.xp6(4),o.Q6J("ngForOf",s.themesService.themes),o.xp6(74),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",s.isAuth),o.xp6(1),o.Q6J("ngIf",s.isAdmin),o.xp6(2),o.hij("Bonjour : ",s.userMail,""))},directives:[hG,dG,Gne,rr,qf,ct,bt,C2,tie,vm],pipes:[Ng],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:260px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.titre[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}"]}),r})();function uie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-form-field",11),o.TgZ(1,"ngx-mat-file-input",12),o.NdJ("change",function(a){return o.CHM(n),o.oxw(2).onUpload(a)}),o.qZA(),o.TgZ(2,"mat-icon",13),o._uU(3,"folder"),o.qZA(),o.TgZ(4,"mat-error"),o._uU(5),o.qZA(),o.qZA()}if(2&r){const n=o.oxw(2);o.xp6(1),o.Q6J("accept",".pdf"),o.xp6(4),o.Oqu(n.getErrorMessage("pdf"))}}function die(r,i){if(1&r&&o._UZ(0,"mat-progress-bar",16),2&r){const n=o.oxw(3);o.Q6J("value",n.uploadPercent)}}function hie(r,i){if(1&r&&(o.TgZ(0,"mat-form-field",14),o.YNc(1,die,1,1,"mat-progress-bar",15),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function fie(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,uie,6,2,"mat-form-field",9),o.YNc(2,hie,2,1,"mat-form-field",10),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",!n.fileUploaded||n.fileIsUploading),o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function pie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function mie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function gie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function _ie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function yie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function bie(r,i){1&r&&(o.TgZ(0,"div",18),o.TgZ(1,"button",19),o._uU(2,"Valider"),o.qZA(),o.qZA())}let wG=(()=>{class r{constructor(n,s,a,l,h){this.formBuilder=n,this.location=s,this.globalService=a,this.pdfService=l,this.angularFireStorage=h,this.errorMessage="",this.maxSize=1e5,this.fileIsUploading=!1,this.downloadURL="",this.fileUploaded=!1,this.form=this.formBuilder.group({fichier:[""],progressbar:["Progression"],titre:["",[gt.required,gt.maxLength(50)]],description:["",[gt.required,gt.minLength(10),gt.maxLength(100)]]})}ngOnInit(){null==this.pdf||""==this.pdf.id?(this.pdf=new y2("","","","",0),this.fileUploaded=!1):this.fileUploaded=!0,this.form.controls.fichier.setValue(this.pdf.fichier),this.form.controls.titre.setValue(this.pdf.titre),this.form.controls.description.setValue(this.pdf.description)}onUpload(n){this.fileIsUploading=!0;const s=n.target.files[0],a="listePdf/"+(new Date).toJSON()+"_"+n.target.files[0].name,l=this.angularFireStorage.ref(a),h=this.angularFireStorage.upload(a,s);h.percentageChanges().subscribe(m=>{this.uploadPercent=m}),h.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,l.getDownloadURL().subscribe(m=>{this.downloadURL=m})})}getErrorMessage(n){var s,a,l,h,m,_,w,T,A,I,O,B;let $="";switch(n){case"pdf":(null===(s=this.form)||void 0===s?void 0:s.controls.fichier.touched)&&($=this.form.controls.fichier.hasError("maxSize")?"Vous devez s\xe9lectionner un fichier de moins de 16mo":"");break;case"titre":(null===(a=this.form)||void 0===a?void 0:a.controls.titre.touched)&&($=this.form.controls.titre.hasError("required")?"Vous devez saisir un titre":""),(null===(h=null===(l=this.form)||void 0===l?void 0:l.get("titre"))||void 0===h?void 0:h.hasError("maxlength"))&&($+="le titre doit comporter au plus 50 caract\xe8res");break;case"description":(null===(_=null===(m=this.form)||void 0===m?void 0:m.get("description"))||void 0===_?void 0:_.touched)&&((null===(T=null===(w=this.form)||void 0===w?void 0:w.get("description"))||void 0===T?void 0:T.hasError("required"))&&($=this.form.controls.description.hasError("required")?"Vous devez saisir une description du contenu du document":""),(null===(I=null===(A=this.form)||void 0===A?void 0:A.get("description"))||void 0===I?void 0:I.hasError("minlength"))&&($+="la description doit comporter au moins 10 caract\xe8res"),(null===(B=null===(O=this.form)||void 0===O?void 0:O.get("description"))||void 0===B?void 0:B.hasError("maxlength"))&&($+="la description doit comporter au plus 100 caract\xe8res"))}return $}onSubmit(){var n,s,a,l,h;this.pdf.titre=null===(s=null===(n=this.form)||void 0===n?void 0:n.get("titre"))||void 0===s?void 0:s.value,this.pdf.description=null===(l=null===(a=this.form)||void 0===a?void 0:a.get("description"))||void 0===l?void 0:l.value,""===(null===(h=this.pdf)||void 0===h?void 0:h.id)?(this.pdf.fichier=this.downloadURL,this.pdf.status=Jn.initial,this.pdfService.addPdf(this.pdf)):this.pdfService.updatePdf(this.pdf),this.location.back()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(Zt),o.Y36(yo),o.Y36(Sv),o.Y36(Ev))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-pdf-form"]],inputs:{pdf:"pdf"},decls:17,vars:8,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","description","placeholder","Description",2,"width","1000px"],["class","button-wrapper",4,"ngIf"],["class","full-width","appearance","outline",4,"ngIf"],["class","full-width","appearance","outline","color","primary",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","fichier","placeholder","Cliquez ici pour s\xe9lectionner un fichier",1,"file-input",3,"accept","change"],["matSuffix",""],["appearance","outline","color","primary",1,"full-width"],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,fie,3,2,"div",2),o._UZ(3,"br"),o.TgZ(4,"mat-form-field",3),o._UZ(5,"input",4),o.TgZ(6,"div",5),o.YNc(7,pie,2,1,"mat-error",6),o.YNc(8,mie,2,1,"mat-error",6),o.qZA(),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"mat-form-field",3),o._UZ(11,"input",7),o.TgZ(12,"div",5),o.YNc(13,gie,2,1,"mat-error",6),o.YNc(14,_ie,2,1,"mat-error",6),o.YNc(15,yie,2,1,"mat-error",6),o.qZA(),o.qZA(),o.YNc(16,bie,3,0,"div",8),o.qZA(),o.qZA()),2&n&&(o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",0==s.fileUploaded),o.xp6(5),o.Q6J("ngIf",s.form.controls.titre.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.form.controls.titre.hasError("maxLength")),o.xp6(5),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.maxlength),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&s.form.valid))},directives:[Xp,xa,Si,ct,td,Lf,fo,Sa,qo,ri,qf,mv,Ff,WA,rr],styles:[""]}),r})();function vie(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un nouveau document."),o.qZA())}function wie(r,i){if(1&r&&o._UZ(0,"app-pdf-form",3),2&r){const n=o.oxw();o.Q6J("pdf",n.pdf)}}let Cie=(()=>{class r{constructor(){this.pdf=new y2("","","","",0)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(n,s){1&n&&(o.YNc(0,vie,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,wie,1,1,"app-pdf-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.pdf),o.xp6(2),o.Q6J("ngIf",s.pdf))},directives:[ct,wG],styles:[""]}),r})();function Die(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition du document : ",n.pdf.titre,"")}}function Tie(r,i){if(1&r&&o._UZ(0,"app-pdf-form",3),2&r){const n=o.oxw();o.Q6J("pdf",n.pdf)}}let Mie=(()=>{class r{constructor(n,s){this.route=n,this.pdfService=s,this.pdfSubscription=this.pdfService.pdfSubject.pipe(va(1)).subscribe(l=>{l.length>0&&(this.pdf=this.pdfService.currentPdf)}),this.pdfService.getPdf(this.route.snapshot.params.id).subscribe(l=>{this.pdf=l.data(),this.pdf.id=l.id})}ngOnInit(){}ngOnDestroy(){this.pdfSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(qs),o.Y36(Sv))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(n,s){1&n&&(o.YNc(0,Die,2,1,"h4",0),o.TgZ(1,"div",1),o.YNc(2,Tie,1,1,"app-pdf-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.pdf),o.xp6(2),o.Q6J("ngIf",s.pdf))},directives:[ct,wG],styles:[""]}),r})();function Eie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddPdf()}),o._uU(1," Ajouter un document. "),o.qZA()}}function Sie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onVoirPdf(a)}),o._uU(1,"Fermer le document"),o.qZA()}}function xie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onVoirPdf(a)}),o._uU(1,"Ouvrir le document"),o.qZA()}}function Aie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onValiderPdf(a)}),o._uU(1,"Valider"),o.qZA()}}function kie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onEditPdf(a)}),o._uU(1,"Modifier"),o.qZA()}}function Iie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onDeletePdf(a)}),o._uU(1,"Supprimer"),o.qZA()}}function Rie(r,i){if(1&r&&(o._UZ(0,"iframe",13),o.ALo(1,"safe")),2&r){const n=o.oxw(2);o.Q6J("src",o.xi3(1,1,n.url,"resourceUrl"),o.uOi)}}function Oie(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"mat-card",3),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-content",4),o.TgZ(5,"div"),o.TgZ(6,"pre"),o._uU(7),o.qZA(),o.qZA(),o.TgZ(8,"mat-card-actions"),o.TgZ(9,"div",5),o.YNc(10,Sie,2,0,"button",6),o.YNc(11,xie,2,0,"button",6),o.YNc(12,Aie,2,0,"button",6),o.YNc(13,kie,2,0,"button",7),o.YNc(14,Iie,2,0,"button",8),o.qZA(),o.YNc(15,Rie,2,4,"iframe",9),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=i.$implicit,s=o.oxw();o.xp6(3),o.Oqu(n.titre),o.xp6(4),o.Oqu(n.description),o.xp6(3),o.Q6J("ngIf",n.fichier==s.url),o.xp6(1),o.Q6J("ngIf",n.fichier!=s.url),o.xp6(1),o.Q6J("ngIf",0==n.status&&s.canWrite),o.xp6(1),o.Q6J("ngIf",s.canWrite),o.xp6(1),o.Q6J("ngIf",s.canWrite),o.xp6(1),o.Q6J("ngIf",n.fichier==s.url)}}let Nie=(()=>{class r{constructor(n,s,a,l){this.router=n,this.globalService=s,this.pdfService=a,this.authService=l,this.url="",this.canWrite=!1,this.isConnected=!1,this.listePdf=[],this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(va(1)).subscribe(h=>{if(this.canWrite=!1,null!=h){const m=h.status;null!=m&&m>=Je.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=m&&(m&Je.editPdf)==Je.editPdf}}),l.emitUserChanged(),this.pdfService.getPdfsValides(),this.pdfsSubscription=this.pdfService.pdfSubject.subscribe(h=>{this.listePdf=h}),null!=this.currentUser&&(this.canWrite=(this.currentUser.status&Je.editArticle)===Je.editArticle)}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}onAddPdf(){this.router.navigate(["app-add-pdf"]),this.pdfService.getPdfsValides()}onEditPdf(n){this.router.navigate(["app-edit-pdf/",n.id])}onValiderPdf(n){this.pdfService.validerPdf(n),this.pdfService.getPdfsValides()}onDeletePdf(n){this.pdfService.supprimerPdf(n),this.pdfService.getPdfsValides()}onVoirPdf(n){this.url=this.url===n.fichier?"":n.fichier}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Hn),o.Y36(yo),o.Y36(Sv),o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-pdf"]],decls:2,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"]],template:function(n,s){1&n&&(o.YNc(0,Eie,2,0,"button",0),o.YNc(1,Oie,16,8,"div",1)),2&n&&(o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngForOf",s.pdfService.pdfs))},directives:[ct,bt,rr,Hf,Uf,Eg,dD],pipes:[KY],styles:[".card-item[_ngcontent-%COMP%]{margin-top:15px}"]}),r})();class CG{constructor(i,n,s,a,l,h,m,_){this.id=i,this.annee=n,this.auteur=s,this.nomAuteur=a,this.listeEleves=l,this.photo=h,this.titre=m,this.status=_}}function Pie(r,i){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," Merci de s\xe9lectionner un fichier. "),o.qZA())}function Fie(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function Lie(r,i){if(1&r&&o._UZ(0,"mat-progress-bar",14),2&r){const n=o.oxw(2);o.Q6J("value",n.uploadPercent)}}function Bie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-form-field",10),o.TgZ(2,"ngx-mat-file-input",11),o.NdJ("change",function(a){return o.CHM(n),o.oxw().onUpload(a)}),o.qZA(),o.TgZ(3,"mat-icon",12),o._uU(4,"folder"),o.qZA(),o.YNc(5,Pie,2,0,"mat-error",1),o.YNc(6,Fie,2,1,"mat-error",1),o.qZA(),o.TgZ(7,"div",4),o.YNc(8,Lie,1,1,"mat-progress-bar",13),o.qZA(),o.qZA()}if(2&r){const n=o.oxw();o.xp6(5),o.Q6J("ngIf",n.addPhotoForm.controls.photo.hasError("required")),o.xp6(1),o.Q6J("ngIf",n.addPhotoForm.controls.photo.hasError("maxSize")),o.xp6(2),o.Q6J("ngIf",n.fileIsUploading)}}function Vie(r,i){if(1&r&&o._UZ(0,"img",16),2&r){const n=o.oxw(2);o.s9C("src",null==n.photo?null:n.photo.photo,o.LSH)}}function Uie(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,Vie,1,1,"img",15),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",null!=(null==n.photo?null:n.photo.photo))}}function Hie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("annee"))}}function Zie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Yie(r,i){if(1&r&&(o.TgZ(0,"mat-error",17),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("listeEleves"))}}let M2=(()=>{class r{constructor(n,s,a,l,h,m){var _;this.formBuilder=n,this.authService=s,this.photosService=a,this.location=l,this.angularFireStorage=h,this.breakpointObserver=m,this.uploadPercent=0,this.errorMessage="",this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(Ec_Small).pipe((0,b.U)(w=>w.matches)),null==this.photo&&(this.photo=new CG("",void 0,null===(_=this.authService.getCurrentUser())||void 0===_?void 0:_.id,"","","")),null==this.photo.photo&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],legende:["",[gt.maxLength(50)]],titre:["",[gt.required,gt.maxLength(50)]],annee:["",[gt.required,gt.min(1900),gt.max(2020)]],listeEleves:["",[gt.required,gt.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(va(1)).subscribe(w=>{var T,A;if(this.currentUser=w,null!=w)if(this.isConnected=null!=w&&(null===(T=w.email)||void 0===T?void 0:T.trim())!=(null===(A=s.getVisiteur())||void 0===A?void 0:A.trim()),this.isConnected){const I=w.status;this.canWrite=null!=I&&(I&Je.editArticle)==Je.editArticle}else this.canWrite=!1}),s.emitUserChanged()}ngOnInit(){this.initForm()}initForm(){var n,s,a;this.addPhotoForm.controls.titre.setValue(null===(n=this.photo)||void 0===n?void 0:n.titre),this.addPhotoForm.controls.listeEleves.setValue(null===(s=this.photo)||void 0===s?void 0:s.listeEleves),this.addPhotoForm.controls.annee.setValue(null===(a=this.photo)||void 0===a?void 0:a.annee)}onSubmit(){var n,s,a,l,h,m,_,w,T;(null===(n=this.addPhotoForm)||void 0===n?void 0:n.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(a=null===(s=this.addPhotoForm)||void 0===s?void 0:s.get("titre"))||void 0===a?void 0:a.value,this.photo.annee=null===(h=null===(l=this.addPhotoForm)||void 0===l?void 0:l.get("annee"))||void 0===h?void 0:h.value,this.photo.listeEleves=null===(_=null===(m=this.addPhotoForm)||void 0===m?void 0:m.get("listeEleves"))||void 0===_?void 0:_.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(w=this.currentUser)||void 0===w?void 0:w.id,this.photo.nomAuteur=null===(T=this.authService.getCurrentUser())||void 0===T?void 0:T.prenom,console.log(this.currentUser),this.photosService.addPhoto(this.photo)):this.photosService.updatePhoto(this.photo),this.photosService.getPhotos(),this.location.back())}getErrorMessage(n){var s,a,l,h;let m="";switch(n){case"titre":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.titre.touched)&&(m=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"annee":(null===(a=this.addPhotoForm)||void 0===a?void 0:a.controls.annee.touched)&&(m=this.addPhotoForm.controls.annee.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(l=this.addPhotoForm)||void 0===l?void 0:l.controls.listeEleves.touched)&&(m=this.addPhotoForm.controls.listeEleves.hasError("required")?"Vous devez saisir une liste des \xe9l\xe8ves":"");break;case"photo":(null===(h=this.addPhotoForm)||void 0===h?void 0:h.controls.photo.touched)&&(m=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo de classes":"")}return m}onUpload(n){this.fileIsUploading=!0;const s=n.target.files[0],a="Classes/"+(new Date).toJSON()+"_"+n.target.files[0].name,l=this.angularFireStorage.ref(a),h=this.angularFireStorage.upload(a,s);h.percentageChanges().subscribe(m=>{this.uploadPercent=m}),h.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,l.getDownloadURL().subscribe(m=>{this.fileUrl=m})})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Aa),o.Y36(ts),o.Y36(kf),o.Y36(Zt),o.Y36(Ev),o.Y36(gD))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-photos-de-classe-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","number","placeholder","Ann\xe9e","formControlName","annee"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Liste des \xe9l\xe8ves","formControlName","listeEleves"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(1,Bie,9,3,"div",1),o.YNc(2,Uie,2,1,"div",1),o.TgZ(3,"div"),o.TgZ(4,"mat-form-field",2),o._UZ(5,"input",3),o.TgZ(6,"div",4),o.YNc(7,Hie,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",2),o._UZ(9,"input",6),o.TgZ(10,"div",4),o.YNc(11,Zie,2,1,"mat-error",5),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",2),o._UZ(14,"textarea",7),o.TgZ(15,"div",4),o.YNc(16,Yie,2,1,"mat-error",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",8),o.TgZ(18,"button",9),o._uU(19,"Valider"),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.addPhotoForm),o.xp6(1),o.Q6J("ngIf",null!=(null==s.photo?null:s.photo.photo)&&""==(null==s.photo?null:s.photo.photo)),o.xp6(1),o.Q6J("ngIf",""!=(null==s.photo?null:s.photo.photo)),o.xp6(5),o.Q6J("ngIf",s.addPhotoForm.controls.annee.hasError("required")),o.xp6(4),o.Q6J("ngIf",s.addPhotoForm.controls.titre.hasError("required")),o.xp6(5),o.Q6J("ngIf",s.addPhotoForm.controls.listeEleves.hasError("required")),o.xp6(2),o.Q6J("disabled",s.addPhotoForm.invalid))},directives:[Xp,xa,Si,ct,td,Lf,Rw,fo,Sa,qo,rr,ri,qf,mv,Ff,WA],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.img[_ngcontent-%COMP%]{max-width:40%;align-content:left}.button[_ngcontent-%COMP%]{text-align:center}.img[_ngcontent-%COMP%]{max-width:35%;align-content:left}.photo-input[_ngcontent-%COMP%]{background-color:#000;color:#fafa00}.file-input[_ngcontent-%COMP%]{color:#161620}"]}),r})();function Gie(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajouter une photo de classe."),o.qZA())}function qie(r,i){if(1&r&&o._UZ(0,"app-photos-de-classe-form",3),2&r){const n=o.oxw();o.Q6J("photo",n.photo)}}let jie=(()=>{class r{constructor(n){var s;this.authService=n,this.isConnected=!1,this.userDroits=0,this.photo=new CG("",void 0,null===(s=this.authService.getCurrentUser())||void 0===s?void 0:s.id,"","",""),this.userSubscription=this.authService.authSubject.pipe(va(1)).subscribe(a=>{this.isConnected=a.status>Jn.initial})}ngOnInit(){}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(n,s){1&n&&(o.YNc(0,Gie,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,qie,1,1,"app-photos-de-classe-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.photo),o.xp6(2),o.Q6J("ngIf",s.photo))},directives:[ct,M2],styles:[""]}),r})();function zie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddPhoto()}),o._uU(1," Ajouter une photo de classe..\n"),o.qZA()}}function $ie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onEdit(a)}),o._uU(1,"Modifier la liste des \xe9l\xe8ves"),o.qZA()}}function Wie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card",3),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.TgZ(6,"img",4),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onSurvol(l)}),o.qZA(),o.TgZ(7,"mat-card-content",5),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.YNc(12,$ie,2,0,"button",7),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw();o.xp6(3),o.AsE("",n.titre," par : ",n.nomAuteur," (Cliquez sur la photo pour l'agrandir.)"),o.xp6(2),o.Oqu(n.annee),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.listeEleves),o.xp6(2),o.Q6J("ngIf",s.canWrite)}}let Jie=(()=>{class r{constructor(n,s,a,l,h,m,_){let w;this.route=n,this.router=s,this.photosService=a,this.globalService=l,this.usersService=h,this.authService=m,this.matDialog=_,this.zoom=!1,this.isConnected=!1,this.listePhotos=[],this.listeSelectedPhotos=[],this.debut=0,this.fin=0,this.canWrite=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(va(1)).subscribe(T=>{this.isConnected=!!(T&&T.status>=Je.visiteur),this.isConnected?(w=T.status,this.canWrite=(w&Je.editPhotosDeClasse)===Je.editPhotosDeClasse):this.canWrite=!1}),m.emitUserChanged(),this.queryParamsSuscription=this.route.queryParamMap.subscribe(T=>{T.has("debut")&&T.has("fin")&&(this.debut=T.get("debut"),this.fin=T.get("fin"),this.CherchePhotos())},T=>{console.log("Erreur : "+T.message)}),this.photosSubscription=this.photosService.photoSubject.subscribe(T=>{this.listePhotos=T,this.CherchePhotos()}),this.photosService.emitPhoto()}ngOnInit(){}ngOnDestroy(){null!=this.queryParamsSuscription&&this.queryParamsSuscription.unsubscribe(),null!=this.userSubscription&&this.userSubscription.unsubscribe(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe()}CherchePhotos(){0!=this.debut&&0!=this.fin&&(this.filtrePhotos(),this.addPrenomAuteur())}filtrePhotos(){this.listeSelectedPhotos.splice(0),this.listeSelectedPhotos=this.listePhotos.filter(n=>1==n.status&&n.annee>=this.debut&&n.annee<=this.fin)}addPrenomAuteur(){this.listeSelectedPhotos.forEach(n=>{this.usersService.getUser(n.auteur).subscribe(s=>{const a=s.data();n.nomAuteur=a.prenom})})}onZoomImage(){this.zoom=!0}onDeZoomImage(){this.zoom=!1}onAddPhoto(){this.router.navigate(["app-add-photo-de-classe"])}onEdit(n){console.log(n),this.router.navigate(["app-edit-photo-de-classe",n.id])}onSurvol(n){this.photosService.currentPhoto=n,this.matDialog.open(Qie,{height:"100%",width:"55%"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(qs),o.Y36(Hn),o.Y36(kf),o.Y36(yo),o.Y36(uv),o.Y36(ts),o.Y36(Pf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-album"]],decls:4,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],["alt","Photo introuvable",1,"img",3,"src","click"],[1,"card-container"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Photos de classes"),o.qZA(),o.YNc(2,zie,2,0,"button",0),o.YNc(3,Wie,13,6,"div",1)),2&n&&(o.xp6(2),o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngForOf",s.listeSelectedPhotos))},directives:[ct,bt,rr,Hf,Uf,Sg,Eg],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:10pt;margin-bottom:10pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:10%;max-height:20%;align-content:left}"]}),r})(),Qie=(()=>{class r{constructor(n){var s,a,l,h;this.photosService=n,this.image=null===(s=n.currentPhoto)||void 0===s?void 0:s.photo,this.listeEleves=null===(a=n.currentPhoto)||void 0===a?void 0:a.listeEleves,this.titre=null===(l=n.currentPhoto)||void 0===l?void 0:l.titre,this.sousTitre=""+(null===(h=n.currentPhoto)||void 0===h?void 0:h.annee.toString())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(kf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-dialog-maximise-image"]],decls:14,vars:4,consts:[["mat-card-image","","dialog-img","","alt","Photo de classe",1,"dialog-img",3,"src"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(n,s){1&n&&(o.TgZ(0,"mat-card"),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.qZA(),o._UZ(6,"img",0),o.TgZ(7,"mat-card-content"),o.TgZ(8,"pre"),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"mat-card-actions"),o.TgZ(11,"div"),o.TgZ(12,"button",1),o._uU(13,"Fermer"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Oqu(s.titre),o.xp6(2),o.Oqu(s.sousTitre),o.xp6(1),o.s9C("src",s.image,o.LSH),o.xp6(3),o.hij("            ",s.listeEleves,"\n        "))},directives:[Hf,UL,Uf,Sg,VL,Eg,dD,rr,pL],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),r})();function Kie(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition de la photo de classe de l'ann\xe9e ",n.photo.annee,"")}}function Xie(r,i){if(1&r&&o._UZ(0,"app-photos-de-classe-form",3),2&r){const n=o.oxw();o.Q6J("photo",n.photo)}}let ere=(()=>{class r{constructor(n,s){this.route=n,this.photosService=s,this.photosService.getPhoto(this.route.snapshot.params.id).subscribe(l=>{this.photo=l.data(),this.photo.id=l.id},l=>{console.log("Erreur = "+l.message)})}ngOnInit(){}ngOnDestroy(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(qs),o.Y36(kf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(n,s){1&n&&(o.YNc(0,Kie,2,1,"h4",0),o.TgZ(1,"div",1),o.YNc(2,Xie,1,1,"app-photos-de-classe-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.photo),o.xp6(2),o.Q6J("ngIf",s.photo))},directives:[ct,M2],styles:[""]}),r})(),Zr=(()=>{class r{constructor(n){this.authService=n,this.userSubscription=this.authService.authSubject.subscribe(s=>{this.currentUser=s}),this.authService.emitUserChanged()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}canActivate(){return new Promise(n=>{n(!!this.currentUser)})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ts))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const tre=[{path:"app-accueil",component:GQ},{path:"app-frame",component:vG},{path:"app-sign-in",component:iG},{path:"app-sign-up",component:rG},{path:"app-user-data",component:rH},{path:"app-unvalidate-user-message",component:(()=>{class r{constructor(n,s){this.router=n,this.authService=s}ngOnInit(){}onDemandeMail(){this.authService.sendMailNewUser(),this.router.navigate(["app-accueil"])}onAnnuler(){this.router.navigate(["app-accueil"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Hn),o.Y36(ts))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-unvalidate-user-message"]],decls:8,vars:0,consts:[["mat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Votre adresse mail n'a pas \xe9t\xe9 valid\xe9e."),o.qZA(),o.TgZ(2,"h5"),o._uU(3,"Un mail vous a \xe9t\xe9 envoy\xe9, il est n\xe9cessaire de cliquer sur le lien qui y figure pour finaliser votre inscription. "),o.qZA(),o.TgZ(4,"button",0),o.NdJ("click",function(){return s.onDemandeMail()}),o._uU(5,"Redemander un mail de validation"),o.qZA(),o.TgZ(6,"button",0),o.NdJ("click",function(){return s.onAnnuler()}),o._uU(7,"Annuler"),o.qZA())},directives:[rr],styles:[""]}),r})()},{path:"app-liste-pdf",component:Nie},{path:"app-edit-pdf/:id",canActivate:[Zr],component:Mie},{path:"app-add-pdf",canActivate:[Zr],component:Cie},{path:"app-liste-articles",component:one},{path:"app-edit-article/:id",canActivate:[Zr],component:v2},{path:"app-add-article",canActivate:[Zr],component:Xte},{path:"app-article-form",canActivate:[Zr],component:tk},{path:"app-dialog-maximise-article-image",component:nG},{path:"app-article-form",canActivate:[Zr],component:tk},{path:"app-album",component:Jie},{path:"app-edit-photo-de-classe/:id",canActivate:[Zr],component:ere},{path:"app-add-photo-de-classe",canActivate:[Zr],component:jie},{path:"app-photos-de-classe-form",canActivate:[Zr],component:M2},{path:"app-droits",canActivate:[Zr],component:WY},{path:"app-droits-form",canActivate:[Zr],component:$Y},{path:"app-home-administration",canActivate:[Zr],component:Ite},{path:"app-liste-messages",component:QY},{path:"app-valider-articles",canActivate:[Zr],component:Nte},{path:"app-messages",canActivate:[Zr],component:sG},{path:"app-add-actualite",canActivate:[Zr],component:wee},{path:"app-edit-actualite/:id",canActivate:[Zr],component:ute},{path:"app-gestion-actualite",canActivate:[Zr],component:dte},{path:"app-actualite-form",canActivate:[Zr],component:d2},{path:"",redirectTo:"app-accueil",pathMatch:"full"},{path:"**",redirectTo:"app-accueil"}];let nre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Rr.forRoot(tre)],Rr]}),r})(),ire=(()=>{class r{constructor(n,s){this.authService=n,this.themesService=s,this.title="MemoireMorieroise",this.authService.signInVisiteur().then(()=>{this.themesService.getThemes()})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ts),o.Y36($1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,s){1&n&&o._UZ(0,"app-frame")},directives:[vG],styles:[""]}),r})();const pre={provide:new o.OlP("mat-autocomplete-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let yre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[pre],imports:[[Ea,yA,tt,Xt],gr,yA,tt]}),r})(),wre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nu,tt],tt]}),r})(),Mre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ea,tt,el],tt]}),r})(),Rre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt,pl],tt]}),r})();const RG=new o.OlP("mat-chips-default-options"),qre={separatorKeyCodes:[13]};let jre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ks,{provide:RG,useValue:qre}],imports:[[tt]]}),r})(),rk=(()=>{class r{constructor(){this.changes=new pe.xQ,this.optionalLabel="Optional"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const hse={provide:rk,deps:[[new o.FiY,new o.tp0,rk]],useFactory:function(r){return r||new rk}};let vse=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[hse,Ks],imports:[[tt,Xt,el,hD,V_,ZY,pl],tt]}),r})(),_D=(()=>{class r{constructor(){this.changes=new pe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Kse={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let aoe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[_D,Kse],imports:[[Xt,hD,Ea,nu,el,tt],gr]}),r})(),foe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),xoe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,tt,foe,el]]}),r})();const iq={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let oq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[iq],imports:[tt]}),r})(),Foe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[iq],imports:[[Xt,tt,pl,Ea,oq],gr,tt,oq]}),r})();const Joe={provide:new o.OlP("mat-select-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let hq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Joe],imports:[[Xt,Ea,yA,tt],gr,gL,yA,tt]}),r})();const sae={provide:new o.OlP("mat-tooltip-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}};let gq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[sae],imports:[[nu,Xt,Ea,tt],tt,gr]}),r})(),wD=(()=>{class r{constructor(){this.changes=new pe.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,a)=>{if(0==a||0==s)return`0 of ${a}`;const l=n*s;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+s,a):l+s} of ${a}`}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const bae={provide:wD,deps:[[new o.FiY,new o.tp0,wD]],useFactory:function(r){return r||new wD}};let Tae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[bae],imports:[[Xt,hD,hq,gq,tt]]}),r})();function Mae(r,i){if(1&r&&(o.O4$(),o._UZ(0,"circle",3)),2&r){const n=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),o.uIk("r",n._getCircleRadius())}}function Eae(r,i){if(1&r&&(o.O4$(),o._UZ(0,"circle",3)),2&r){const n=o.oxw();o.Udp("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),o.uIk("r",n._getCircleRadius())}}const kae=Ko(class{constructor(r){this._elementRef=r}},"primary"),yq=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class sd extends kae{constructor(i,n,s,a,l){super(i),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const h=sd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(s.head)||h.set(s.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===a&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=qt(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=qt(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,qt(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=f_(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,n=this._diameter,s=sd._diameters;let a=s.get(i);if(!a||!a.has(n)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),i.appendChild(l),a||(a=new Set,s.set(i,a)),a.add(n)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}sd.\u0275fac=function(i){return new(i||sd)(o.Y36(o.SBq),o.Y36(Rt),o.Y36(j,8),o.Y36(Zn,8),o.Y36(yq))},sd.\u0275cmp=o.Xpm({type:sd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,n){2&i&&(o.uIk("aria-valuemin","determinate"===n.mode?0:null)("aria-valuemax","determinate"===n.mode?100:null)("aria-valuenow","determinate"===n.mode?n.value:null)("mode",n.mode),o.Udp("width",n.diameter,"px")("height",n.diameter,"px"),o.ekj("_mat-animation-noopable",n._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,n){1&i&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,Mae,1,9,"circle",1),o.YNc(2,Eae,1,7,"circle",2),o.qZA()),2&i&&(o.Udp("width",n.diameter,"px")("height",n.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===n.mode),o.uIk("viewBox",n._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[ji,Kn],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),sd._diameters=new WeakMap;let Oae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tt,Xt],tt]}),r})(),qae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[pl,tt],tt]}),r})(),nle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,tt],tt]}),r})(),Tq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),gle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Tq,pl,tt,kp],Tq,tt]}),r})(),Dle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ea,el,Xt,hD,tt],tt]}),r})(),uk=(()=>{class r{constructor(){this.changes=new pe.xQ}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Ole={provide:uk,deps:[[new o.FiY,new o.tp0,uk]],useFactory:function(r){return r||new uk}};let Ple=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ole],imports:[[Xt,tt]]}),r})(),Yle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[NI,tt],tt]}),r})(),Gle=(()=>{class r{constructor(n){this.angularStorage=n}getImagesCarousel(){return this.angularStorage.ref("Accueil").listAll()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ev))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r,bootstrap:[ire]}),r.\u0275inj=o.cJS({providers:[yo,Ku,ts,Zr,Gle,b2,Sv,kf,uv],imports:[[zg,nre,e8,W9,nu,Hk,V_,eM,NI,cB,Ea,el,ru,XM,bo.hO.initializeApp(_2_firebaseConfig),k5,AX,yre,wre,Mre,hD,Rre,pQ,Ree,jre,vse,aoe,B8,fG,xoe,oQ,ZY,f$,Jne,Foe,y8,Tae,cee,Oae,qae,pl,hq,Fne,nle,gle,Dle,Ple,Gee,J$,nie,gq,Yle,OX]]}),r})();o.B6R(v2,[ct,tk],[]),(0,o.G48)(),Uc().bootstrapModule(qle).catch(r=>console.error(r))},4762:(Ke,Me,L)=>{"use strict";L.d(Me,{ZT:()=>q,pi:()=>U,_T:()=>oe,gn:()=>de,fM:()=>te,w6:()=>j,mG:()=>W,Jh:()=>z,XA:()=>H,CR:()=>K,ev:()=>me});var o=function(he,_e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,be){ye.__proto__=be}||function(ye,be){for(var Ce in be)Object.prototype.hasOwnProperty.call(be,Ce)&&(ye[Ce]=be[Ce])})(he,_e)};function q(he,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function ye(){this.constructor=he}o(he,_e),he.prototype=null===_e?Object.create(_e):(ye.prototype=_e.prototype,new ye)}var U=function(){return(U=Object.assign||function(_e){for(var ye,be=1,Ce=arguments.length;be<Ce;be++)for(var re in ye=arguments[be])Object.prototype.hasOwnProperty.call(ye,re)&&(_e[re]=ye[re]);return _e}).apply(this,arguments)};function oe(he,_e){var ye={};for(var be in he)Object.prototype.hasOwnProperty.call(he,be)&&_e.indexOf(be)<0&&(ye[be]=he[be]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(be=Object.getOwnPropertySymbols(he);Ce<be.length;Ce++)_e.indexOf(be[Ce])<0&&Object.prototype.propertyIsEnumerable.call(he,be[Ce])&&(ye[be[Ce]]=he[be[Ce]])}return ye}function de(he,_e,ye,be){var Ue,Ce=arguments.length,re=Ce<3?_e:null===be?be=Object.getOwnPropertyDescriptor(_e,ye):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(he,_e,ye,be);else for(var ot=he.length-1;ot>=0;ot--)(Ue=he[ot])&&(re=(Ce<3?Ue(re):Ce>3?Ue(_e,ye,re):Ue(_e,ye))||re);return Ce>3&&re&&Object.defineProperty(_e,ye,re),re}function te(he,_e){return function(ye,be){_e(ye,be,he)}}function j(he,_e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,_e)}function W(he,_e,ye,be){return new(ye||(ye=Promise))(function(re,Ue){function ot(at){try{pt(be.next(at))}catch(yt){Ue(yt)}}function Yt(at){try{pt(be.throw(at))}catch(yt){Ue(yt)}}function pt(at){at.done?re(at.value):function(re){return re instanceof ye?re:new ye(function(Ue){Ue(re)})}(at.value).then(ot,Yt)}pt((be=be.apply(he,_e||[])).next())})}function z(he,_e){var be,Ce,re,Ue,ye={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return Ue={next:ot(0),throw:ot(1),return:ot(2)},"function"==typeof Symbol&&(Ue[Symbol.iterator]=function(){return this}),Ue;function ot(pt){return function(at){return function(pt){if(be)throw new TypeError("Generator is already executing.");for(;ye;)try{if(be=1,Ce&&(re=2&pt[0]?Ce.return:pt[0]?Ce.throw||((re=Ce.return)&&re.call(Ce),0):Ce.next)&&!(re=re.call(Ce,pt[1])).done)return re;switch(Ce=0,re&&(pt=[2&pt[0],re.value]),pt[0]){case 0:case 1:re=pt;break;case 4:return ye.label++,{value:pt[1],done:!1};case 5:ye.label++,Ce=pt[1],pt=[0];continue;case 7:pt=ye.ops.pop(),ye.trys.pop();continue;default:if(!(re=(re=ye.trys).length>0&&re[re.length-1])&&(6===pt[0]||2===pt[0])){ye=0;continue}if(3===pt[0]&&(!re||pt[1]>re[0]&&pt[1]<re[3])){ye.label=pt[1];break}if(6===pt[0]&&ye.label<re[1]){ye.label=re[1],re=pt;break}if(re&&ye.label<re[2]){ye.label=re[2],ye.ops.push(pt);break}re[2]&&ye.ops.pop(),ye.trys.pop();continue}pt=_e.call(he,ye)}catch(at){pt=[6,at],Ce=0}finally{be=re=0}if(5&pt[0])throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}([pt,at])}}}function H(he){var _e="function"==typeof Symbol&&Symbol.iterator,ye=_e&&he[_e],be=0;if(ye)return ye.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&be>=he.length&&(he=void 0),{value:he&&he[be++],done:!he}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(he,_e){var ye="function"==typeof Symbol&&he[Symbol.iterator];if(!ye)return he;var Ce,Ue,be=ye.call(he),re=[];try{for(;(void 0===_e||_e-- >0)&&!(Ce=be.next()).done;)re.push(Ce.value)}catch(ot){Ue={error:ot}}finally{try{Ce&&!Ce.done&&(ye=be.return)&&ye.call(be)}finally{if(Ue)throw Ue.error}}return re}function me(he,_e,ye){if(ye||2===arguments.length)for(var re,be=0,Ce=_e.length;be<Ce;be++)(re||!(be in _e))&&(re||(re=Array.prototype.slice.call(_e,0,be)),re[be]=_e[be]);return he.concat(re||Array.prototype.slice.call(_e))}},8239:(Ke,Me,L)=>{"use strict";function o(U,oe,de,te,j,W,z){try{var V=U[W](z),Q=V.value}catch(H){return void de(H)}V.done?oe(Q):Promise.resolve(Q).then(te,j)}function q(U){return function(){var oe=this,de=arguments;return new Promise(function(te,j){var W=U.apply(oe,de);function z(Q){o(W,te,j,z,V,"next",Q)}function V(Q){o(W,te,j,z,V,"throw",Q)}z(void 0)})}}L.d(Me,{Z:()=>q})}},Ke=>{Ke(Ke.s=8723)}]);