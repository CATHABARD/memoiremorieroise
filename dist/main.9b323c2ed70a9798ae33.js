(self.webpackChunkmemoire_morieroise=self.webpackChunkmemoire_morieroise||[]).push([[179],{8255:Je=>{function be(N){return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+N+"'");throw r.code="MODULE_NOT_FOUND",r})}be.keys=()=>[],be.resolve=be,be.id=8255,Je.exports=be},7716:(Je,be,N)=>{"use strict";N.d(be,{deG:()=>PD,tb:()=>ap,AFp:()=>Nm,ip1:()=>e1,CZH:()=>sp,hGG:()=>ai,z2F:()=>Si,sBO:()=>nO,Sil:()=>lp,_Vd:()=>Ou,EJc:()=>ZS,SBq:()=>wo,qLn:()=>ih,vpe:()=>Yn,pfw:()=>rN,L6J:()=>yc,gxx:()=>ec,tBr:()=>$a,XFs:()=>rt,OlP:()=>ui,zs3:()=>Rn,IIB:()=>RS,ZZ4:()=>pm,aQg:()=>Pb,soG:()=>Lm,YKP:()=>Ub,v3s:()=>mN,h0i:()=>Fu,PXZ:()=>Le,R0b:()=>ks,FiY:()=>ga,Lbi:()=>op,g9A:()=>t1,n_E:()=>zu,Qsj:()=>IE,FYo:()=>Rb,JOm:()=>Ca,Tiy:()=>Nb,q3G:()=>Ti,PiD:()=>Xd,tp0:()=>_a,EAV:()=>ln,Rgc:()=>Gh,dDg:()=>Zm,DyG:()=>Vo,q4F:()=>aw,GfV:()=>OE,s_b:()=>Zb,ifc:()=>He,eFA:()=>up,G48:()=>pN,Gpc:()=>V,f3M:()=>h0,X6Q:()=>qm,_c5:()=>d1,VLi:()=>ex,c2e:()=>qi,zSh:()=>Cu,wAp:()=>et,vHH:()=>De,EiD:()=>w0,mCW:()=>ni,qzn:()=>w,JVY:()=>y,pB0:()=>ie,eBb:()=>A,L6k:()=>T,LAX:()=>R,cg1:()=>$C,Tjo:()=>ka,kL8:()=>ol,yhl:()=>g,dqk:()=>vn,sIi:()=>rl,CqO:()=>AC,QGY:()=>xC,F4k:()=>mR,RDi:()=>Vv,AaK:()=>j,z3N:()=>ba,qOj:()=>dC,TTD:()=>$t,_Bn:()=>Ab,xp6:()=>V0,uIk:()=>pC,Tol:()=>FC,Gre:()=>ZM,DjV:()=>qM,ekj:()=>PC,Suo:()=>Xh,Xpm:()=>Vi,lG2:()=>St,Yz7:()=>ft,cJS:()=>Fn,oAB:()=>z,Yjl:()=>sn,Y36:()=>X_,_UZ:()=>tb,GkF:()=>DM,BQk:()=>nb,ynx:()=>EC,qZA:()=>TC,TgZ:()=>kh,EpF:()=>SC,n5z:()=>Qi,Ikx:()=>jC,SDv:()=>CE,QtT:()=>Eb,pQV:()=>cm,LFG:()=>di,$8M:()=>Zl,NdJ:()=>Jf,CRH:()=>Zw,kcU:()=>Wv,O4$:()=>kD,oxw:()=>Ih,ALo:()=>Rw,lcZ:()=>Ow,xi3:()=>Nw,Hsn:()=>Rh,F$t:()=>Eu,Q6J:()=>Ah,s9C:()=>IC,MGl:()=>Oh,DdM:()=>kw,VKq:()=>fS,WLB:()=>mS,kEZ:()=>Pr,iGM:()=>Hw,MAs:()=>uM,CHM:()=>zc,uOi:()=>En,LSH:()=>Es,B6R:()=>Yt,kYT:()=>Ee,Udp:()=>cb,WFA:()=>kC,d8E:()=>zC,YNc:()=>cM,W1O:()=>$u,_uU:()=>LM,Oqu:()=>BM,hij:()=>Ph,AsE:()=>hb,Gf:()=>bS});var r=N(9765),B=N(5319),L=N(7574),ue=N(6682),se=N(8819);function K(a){for(let l in a)if(a[l]===K)return l;throw Error("Could not find renamed property on target object.")}function Z(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function j(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function J(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const F=K({__forward_ref__:K});function V(a){return a.__forward_ref__=V,a.toString=function(){return j(this())},a}function q(a){return ae(a)?a():a}function ae(a){return"function"==typeof a&&a.hasOwnProperty(F)&&a.__forward_ref__===V}class De extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function we(a){return"string"==typeof a?a:null==a?"":String(a)}function Be(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():we(a)}function en(a,l){const c=l?` in ${l}`:"";throw new De("201",`No provider for ${Be(a)} found${c}`)}function vt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function ft(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Fn(a){return{providers:a.providers||[],imports:a.imports||[]}}function dr(a){return qr(a,vs)||qr(a,ko)}function qr(a,l){return a.hasOwnProperty(l)?a[l]:null}function so(a){return a&&(a.hasOwnProperty(Yr)||a.hasOwnProperty(Bs))?a[Yr]:null}const vs=K({\u0275prov:K}),Yr=K({\u0275inj:K}),ko=K({ngInjectableDef:K}),Bs=K({ngInjectorDef:K});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let ei;function Fi(a){const l=ei;return ei=a,l}function pt(a,l,c){const d=dr(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&rt.Optional?null:void 0!==l?l:void en(j(a),"Injector")}function Wt(a){return{toString:a}.toString()}var Ht=(()=>((Ht=Ht||{})[Ht.OnPush=0]="OnPush",Ht[Ht.Default=1]="Default",Ht))(),He=(()=>((He=He||{})[He.Emulated=0]="Emulated",He[He.None=2]="None",He[He.ShadowDom=3]="ShadowDom",He))();const $e="undefined"!=typeof globalThis&&globalThis,Io="undefined"!=typeof window&&window,la="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cs="undefined"!=typeof global&&global,vn=$e||Cs||Io||la,G={},H=[],Q=K({\u0275cmp:K}),ye=K({\u0275dir:K}),ne=K({\u0275pipe:K}),Qe=K({\u0275mod:K}),mt=K({\u0275loc:K}),Zt=K({\u0275fac:K}),Tn=K({__NG_ELEMENT_ID__:K});let Gi=0;function Vi(a){return Wt(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||H,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||He.Emulated,id:"c",styles:a.styles||H,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,f=a.features,_=a.pipes;return d.id+=Gi++,d.inputs=qe(a.inputs,c),d.outputs=qe(a.outputs),f&&f.forEach(v=>v(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ui):null,d.pipeDefs=_?()=>("function"==typeof _?_():_).map(oe):null,d})}function Yt(a,l,c){const d=a.\u0275cmp;d.directiveDefs=()=>l.map(Ui),d.pipeDefs=()=>c.map(oe)}function Ui(a){return It(a)||function(a){return a[ye]||null}(a)}function oe(a){return function(a){return a[ne]||null}(a)}const W={};function z(a){return Wt(()=>{const l={type:a.type,bootstrap:a.bootstrap||H,declarations:a.declarations||H,imports:a.imports||H,exports:a.exports||H,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(W[a.id]=a.type),l})}function Ee(a,l){return Wt(()=>{const c=Wn(a,!0);c.declarations=l.declarations||H,c.imports=l.imports||H,c.exports=l.exports||H})}function qe(a,l){if(null==a)return G;const c={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],f=p;Array.isArray(p)&&(f=p[1],p=p[0]),c[p]=d,l&&(l[p]=f)}return c}const St=Vi;function sn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function It(a){return a[Q]||null}function Wn(a,l){const c=a[Qe]||null;if(!c&&!0===l)throw new Error(`Type ${j(a)} does not have '\u0275mod' property.`);return c}function Oo(a){return Array.isArray(a)&&"object"==typeof a[1]}function Gr(a){return Array.isArray(a)&&!0===a[1]}function Jp(a){return 0!=(8&a.flags)}function ha(a){return 2==(2&a.flags)}function vi(a){return 1==(1&a.flags)}function $i(a){return null!==a.template}function ls(a){return 0!=(512&a[2])}function Ba(a,l){return a.hasOwnProperty(Zt)?a[Zt]:null}class Lv{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function $t(){return Kp}function Kp(a){return a.type.prototype.ngOnChanges&&(a.setInput=Bv),Ed}function Ed(){const a=Hc(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===G)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Bv(a,l,c,d){const p=Hc(a)||function(a,l){return a[Xp]=l}(a,{previous:G,current:null}),f=p.current||(p.current={}),_=p.previous,v=this.declaredInputs[c],D=_[v];f[v]=new Lv(D&&D.currentValue,l,_===G),a[d]=l}$t.ngInherit=!0;const Xp="__ngSimpleChanges__";function Hc(a){return a[Xp]||null}const Nl="http://www.w3.org/2000/svg";let Zc;function Vv(a){Zc=a}function Sd(){return void 0!==Zc?Zc:"undefined"!=typeof document?document:void 0}function Zn(a){return!!a.listen}const pa={createRenderer:(a,l)=>Sd()};function Ln(a){for(;Array.isArray(a);)a=a[0];return a}function Va(a,l){return Ln(l[a])}function jr(a,l){return Ln(l[a.index])}function Yc(a,l){return a.data[l]}function Ua(a,l){return a[l]}function kr(a,l){const c=l[a];return Oo(c)?c:c[0]}function Uv(a){return 4==(4&a[2])}function Ad(a){return 128==(128&a[2])}function Po(a,l){return null==l?null:a[l]}function Gc(a){a[18]=0}function jc(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const _t={lFrame:jv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qv(){return _t.bindingsEnabled}function Se(){return _t.lFrame.lView}function Xt(){return _t.lFrame.tView}function zc(a){return _t.lFrame.contextLView=a,a[8]}function Qn(){let a=$c();for(;null!==a&&64===a.type;)a=a.parent;return a}function $c(){return _t.lFrame.currentTNode}function Ha(){const a=_t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function ws(a,l){const c=_t.lFrame;c.currentTNode=a,c.isParent=l}function Fl(){return _t.lFrame.isParent}function Id(){_t.lFrame.isParent=!1}function Rd(){return _t.isInCheckNoChangesMode}function Ll(a){_t.isInCheckNoChangesMode=a}function Wi(){const a=_t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ds(){return _t.lFrame.bindingIndex}function Vs(){return _t.lFrame.bindingIndex++}function Us(a){const l=_t.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Zg(a){_t.lFrame.inI18n=a}function Od(a,l){const c=_t.lFrame;c.bindingIndex=c.bindingRootIndex=a,Wc(l)}function Wc(a){_t.lFrame.currentDirectiveIndex=a}function uf(a){const l=_t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function qg(){return _t.lFrame.currentQueryIndex}function Bl(a){_t.lFrame.currentQueryIndex=a}function Nd(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Yg(a,l,c){if(c&rt.SkipSelf){let p=l,f=a;for(;!(p=p.parent,null!==p||c&rt.Host||(p=Nd(f),null===p||(f=f[15],10&p.type))););if(null===p)return!1;l=p,a=f}const d=_t.lFrame=df();return d.currentTNode=l,d.lView=a,!0}function Fo(a){const l=df(),c=a[1];_t.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function df(){const a=_t.lFrame,l=null===a?null:a.child;return null===l?jv(a):l}function jv(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Gg(){const a=_t.lFrame;return _t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const zv=Gg;function Jc(){const a=Gg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ir(){return _t.lFrame.selectedIndex}function Vl(a){_t.lFrame.selectedIndex=a}function Ci(){const a=_t.lFrame;return Yc(a.tView,a.selectedIndex)}function kD(){_t.lFrame.currentNamespace=Nl}function Wv(){_t.lFrame.currentNamespace=null}function Pd(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const f=a.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:S}=f;_&&(a.contentHooks||(a.contentHooks=[])).push(-c,_),v&&((a.contentHooks||(a.contentHooks=[])).push(c,v),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,v)),D&&(a.viewHooks||(a.viewHooks=[])).push(-c,D),M&&((a.viewHooks||(a.viewHooks=[])).push(c,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,M)),null!=S&&(a.destroyHooks||(a.destroyHooks=[])).push(c,S)}}function Ul(a,l,c){Ld(a,l,3,c)}function Fd(a,l,c,d){(3&a[2])===c&&Ld(a,l,c,d)}function pf(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Ld(a,l,c,d){const f=null!=d?d:-1,_=l.length-1;let v=0;for(let D=void 0!==d?65535&a[18]:0;D<_;D++)if("number"==typeof l[D+1]){if(v=l[D],null!=d&&v>=d)break}else l[D]<0&&(a[18]+=65536),(v<f||-1==f)&&(ff(a,c,l,D),a[18]=(4294901760&a[18])+D+2),D++}function ff(a,l,c,d){const p=c[d]<0,f=c[d+1],v=a[p?-c[d]:c[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class qa{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function gf(a,l,c){const d=Zn(a);let p=0;for(;p<c.length;){const f=c[p];if("number"==typeof f){if(0!==f)break;p++;const _=c[p++],v=c[p++],D=c[p++];d?a.setAttribute(l,v,D,_):l.setAttributeNS(_,v,D)}else{const _=f,v=c[++p];zr(_)?d&&a.setProperty(l,_,v):d?a.setAttribute(l,_,v):l.setAttribute(_,v),p++}}return p}function zg(a){return 3===a||4===a||6===a}function zr(a){return 64===a.charCodeAt(0)}function Bd(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?c=p:0===c||wi(a,c,p,null,-1===c||2===c?l[++d]:null)}}return a}function wi(a,l,c,d,p){let f=0,_=a.length;if(-1===l)_=-1;else for(;f<a.length;){const v=a[f++];if("number"==typeof v){if(v===l){_=-1;break}if(v>l){_=f-1;break}}}for(;f<a.length;){const v=a[f];if("number"==typeof v)break;if(v===c){if(null===d)return void(null!==p&&(a[f+1]=p));if(d===a[f+1])return void(a[f+2]=p)}f++,null!==d&&f++,null!==p&&f++}-1!==_&&(a.splice(_,0,l),f=_+1),a.splice(f++,0,c),null!==d&&a.splice(f++,0,d),null!==p&&a.splice(f++,0,p)}function Vd(a){return-1!==a}function Bo(a){return 32767&a}function Ya(a,l){let c=function(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let $g=!0;function Ud(a){const l=$g;return $g=a,l}let e0=0;function ma(a,l){const c=le(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Jg(d.data,a),Jg(l,null),Jg(d.blueprint,null));const p=Mt(a,l),f=a.injectorIndex;if(Vd(p)){const _=Bo(p),v=Ya(p,l),D=v[1].data;for(let M=0;M<8;M++)l[f+M]=v[_+M]|D[_+M]}return l[f+8]=p,f}function Jg(a,l){a.push(0,0,0,0,0,0,0,0,l)}function le(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Mt(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,p=l;for(;null!==p;){const f=p[1],_=f.type;if(d=2===_?f.declTNode:1===_?p[6]:null,null===d)return-1;if(c++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ga(a,l,c){!function(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Tn)&&(d=c[Tn]),null==d&&(d=c[Tn]=e0++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,c)}function Ue(a,l,c){if(c&rt.Optional)return a;en(l,"NodeInjector")}function Qg(a,l,c,d){if(c&rt.Optional&&void 0===d&&(d=null),0==(c&(rt.Self|rt.Host))){const p=a[9],f=Fi(void 0);try{return p?p.get(l,d,c&rt.Optional):pt(l,d,c&rt.Optional)}finally{Fi(f)}}return Ue(d,l,c)}function Kc(a,l,c,d=rt.Default,p){if(null!==a){const f=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Tn)?a[Tn]:void 0;return"number"==typeof l?l>=0?255&l:xk:l}(c);if("function"==typeof f){if(!Yg(l,a,d))return d&rt.Host?Ue(p,c,d):Qg(l,c,d,p);try{const _=f(d);if(null!=_||d&rt.Optional)return _;en(c)}finally{zv()}}else if("number"==typeof f){let _=null,v=le(a,l),D=-1,M=d&rt.Host?l[16][6]:null;for((-1===v||d&rt.SkipSelf)&&(D=-1===v?Mt(a,l):l[v+8],-1!==D&&n0(d,!1)?(_=l[1],v=Bo(D),l=Ya(D,l)):v=-1);-1!==v;){const S=l[1];if(_f(f,v,S.data)){const I=Ji(v,l,c,_,d,M);if(I!==qd)return I}D=l[v+8],-1!==D&&n0(d,l[1].data[v+8]===M)&&_f(f,v,l)?(_=S,v=Bo(D),l=Ya(D,l)):v=-1}}}return Qg(l,c,d,p)}const qd={};function xk(){return new Rr(Qn(),Se())}function Ji(a,l,c,d,p,f){const _=l[1],v=_.data[a+8],S=Yd(v,_,c,null==d?ha(v)&&$g:d!=_&&0!=(3&v.type),p&rt.Host&&f===v);return null!==S?Xc(l,_,S,v):qd}function Yd(a,l,c,d,p){const f=a.providerIndexes,_=l.data,v=1048575&f,D=a.directiveStart,S=f>>20,O=p?v+S:a.directiveEnd;for(let U=d?v:v+S;U<O;U++){const $=_[U];if(U<D&&c===$||U>=D&&$.type===c)return U}if(p){const U=_[D];if(U&&$i(U)&&U.type===c)return D}return null}function Xc(a,l,c,d){let p=a[c];const f=l.data;if(function(a){return a instanceof qa}(p)){const _=p;_.resolving&&function(a,l){throw new De("200",`Circular dependency in DI detected for ${a}`)}(Be(f[c]));const v=Ud(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?Fi(_.injectImpl):null;Yg(a,d,rt.Default);try{p=a[c]=_.factory(void 0,f,a,d),l.firstCreatePass&&c>=d.directiveStart&&function(a,l,c){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:f}=l.type.prototype;if(d){const _=Kp(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),f&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,f),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,f))}(c,f[c],l)}finally{null!==D&&Fi(D),Ud(v),_.resolving=!1,zv()}}return p}function _f(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function n0(a,l){return!(a&rt.Self||a&rt.Host&&l)}class Rr{constructor(l,c){this._tNode=l,this._lView=c}get(l,c){return Kc(this._tNode,this._lView,l,void 0,c)}}function Qi(a){return Wt(()=>{const l=a.prototype.constructor,c=l[Zt]||Hl(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const f=p[Zt]||Hl(p);if(f&&f!==c)return f;p=Object.getPrototypeOf(p)}return f=>new f})}function Hl(a){return ae(a)?()=>{const l=Hl(q(a));return l&&l()}:Ba(a)}function Zl(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let p=0;for(;p<d;){const f=c[p];if(zg(f))break;if(0===f)p+=2;else if("number"==typeof f)for(p++;p<d&&"string"==typeof c[p];)p++;else{if(f===l)return c[p+1];p+=2}}}return null}(Qn(),a)}const co="__parameters__",ps="__prop__metadata__";function Ds(a){return function(...c){if(a){const d=a(...c);for(const p in d)this[p]=d[p]}}}function pr(a,l,c){return Wt(()=>{const d=Ds(l);function p(...f){if(this instanceof p)return d.apply(this,f),this;const _=new p(...f);return v.annotation=_,v;function v(D,M,S){const I=D.hasOwnProperty(co)?D[co]:Object.defineProperty(D,co,{value:[]})[co];for(;I.length<=S;)I.push(null);return(I[S]=I[S]||[]).push(_),D}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}function Kg(a,l,c,d){return Wt(()=>{const p=Ds(l);function f(..._){if(this instanceof f)return p.apply(this,_),this;const v=new f(..._);return function(M,S){const I=M.constructor,O=I.hasOwnProperty(ps)?I[ps]:Object.defineProperty(I,ps,{value:{}})[ps];O[S]=O.hasOwnProperty(S)&&O[S]||[],O[S].unshift(v),d&&d(M,S,..._)}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class ui{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ft({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const PD=new ui("AnalyzeForEntryComponents"),Vo=Function;function Hs(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Hs(d,l)):l!==a&&l.push(d)}return l}function Zs(a,l){a.forEach(c=>Array.isArray(c)?Zs(c,l):l(c))}function zd(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function ql(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ja(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Ts(a,l,c){let d=nu(a,l);return d>=0?a[1|d]=c:(d=~d,function(a,l,c,d){let p=a.length;if(p==l)a.push(c,d);else if(1===p)a.push(d,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function tu(a,l){const c=nu(a,l);if(c>=0)return a[1|c]}function nu(a,l){return function(a,l,c){let d=0,p=a.length>>c;for(;p!==d;){const f=d+(p-d>>1),_=a[f<<c];if(l===_)return f<<c;_>l?p=f:d=f+1}return~(p<<c)}(a,l,1)}const Wd={},Jd="__NG_DI_FLAG__",ru="ngTempTokenPath",a_=/\n/gm,Qd="__source",Kd=K({provide:String,useValue:K});let su;function za(a){const l=su;return su=a,l}function ZD(a,l=rt.Default){if(void 0===su)throw new Error("inject() must be called from an injection context");return null===su?pt(a,void 0,l):su.get(a,l&rt.Optional?null:void 0,l)}function di(a,l=rt.Default){return(ei||ZD)(q(a),l)}const h0=di;function Yl(a){const l=[];for(let c=0;c<a.length;c++){const d=q(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let p,f=rt.Default;for(let _=0;_<d.length;_++){const v=d[_],D=c_(v);"number"==typeof D?-1===D?p=v.token:f|=D:p=v}l.push(di(p,f))}else l.push(di(d))}return l}function ou(a,l){return a[Jd]=l,a.prototype[Jd]=l,a}function c_(a){return a[Jd]}function p0(a,l,c,d){const p=a[ru];throw l[Qd]&&p.unshift(l[Qd]),a.message=function(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=j(l);if(Array.isArray(l))p=l.map(j).join(" -> ");else if("object"==typeof l){let f=[];for(let _ in l)if(l.hasOwnProperty(_)){let v=l[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):j(v)))}p=`{${f.join(", ")}}`}return`${c}${d?"("+d+")":""}[${p}]: ${a.replace(a_,"\n  ")}`}("\n"+a.message,p,c,d),a.ngTokenPath=p,a[ru]=null,a}const $a=ou(pr("Inject",a=>({token:a})),-1),ga=ou(pr("Optional"),8),Xd=ou(pr("Self"),2),_a=ou(pr("SkipSelf"),4);let wf,cu;function lu(a){var l;return(null===(l=function(){if(void 0===wf&&(wf=null,vn.trustedTypes))try{wf=vn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return wf}())||void 0===l?void 0:l.createHTML(a))||a}function Di(a){var l;return(null===(l=function(){if(void 0===cu&&(cu=null,vn.trustedTypes))try{cu=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return cu}())||void 0===l?void 0:l.createScriptURL(a))||a}class fs{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gl extends fs{getTypeName(){return"HTML"}}class p_ extends fs{getTypeName(){return"Style"}}class y0 extends fs{getTypeName(){return"Script"}}class v0 extends fs{getTypeName(){return"URL"}}class gt extends fs{getTypeName(){return"ResourceURL"}}function ba(a){return a instanceof fs?a.changingThisBreaksApplicationSecurity:a}function w(a,l){const c=g(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function g(a){return a instanceof fs&&a.getTypeName()||null}function y(a){return new Gl(a)}function T(a){return new p_(a)}function A(a){return new y0(a)}function R(a){return new v0(a)}function ie(a){return new gt(a)}function Ae(a){const l=new bt(a);return function(){try{return!!(new window.DOMParser).parseFromString(lu(""),"text/html")}catch(a){return!1}}()?new Xe(l):l}class Xe{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(lu(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class bt{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=lu(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=lu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let p=c.length-1;0<p;p--){const _=c.item(p).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&l.removeAttribute(_)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const on=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ya=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ni(a){return(a=String(a)).match(on)||a.match(ya)?a:"unsafe:"+a}function Pe(a){return(a=String(a)).split(",").map(l=>ni(l.trim())).join(", ")}function Ms(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function jl(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Me=Ms("area,br,col,hr,img,wbr"),qt=Ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tf=Ms("rp,rt"),nh=jl(Me,jl(qt,Ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jl(Tf,Ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jl(Tf,qt)),Wa=Ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xt=Ms("srcset"),C0=jl(Wa,xt,Ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QD=Ms("script,style,template");class Sf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!nh.hasOwnProperty(c))return this.sanitizedSomething=!0,!QD.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let p=0;p<d.length;p++){const f=d.item(p),_=f.name,v=_.toLowerCase();if(!C0.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let D=f.value;Wa[v]&&(D=ni(D)),xt[v]&&(D=Pe(D)),this.buf.push(" ",_,'="',xf(D),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();nh.hasOwnProperty(c)&&!Me.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(xf(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Vk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ho=/([^\#-~ |!])/g;function xf(a){return a.replace(/&/g,"&amp;").replace(Vk,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ho,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let va;function w0(a,l){let c=null;try{va=va||Ae(a);let d=l?String(l):"";c=va.getInertBodyElement(d);let p=5,f=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=f,f=c.innerHTML,c=va.getInertBodyElement(d)}while(d!==f);return lu((new Sf).sanitizeChildren(du(c)||c))}finally{if(c){const d=du(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function du(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ti=(()=>((Ti=Ti||{})[Ti.NONE=0]="NONE",Ti[Ti.HTML=1]="HTML",Ti[Ti.STYLE=2]="STYLE",Ti[Ti.SCRIPT=3]="SCRIPT",Ti[Ti.URL=4]="URL",Ti[Ti.RESOURCE_URL=5]="RESOURCE_URL",Ti))();function Es(a){const l=zl();return l?l.sanitize(Ti.URL,a)||"":w(a,"URL")?ba(a):ni(we(a))}function En(a){const l=zl();if(l)return Di(l.sanitize(Ti.RESOURCE_URL,a)||"");if(w(a,"ResourceURL"))return Di(ba(a));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function zl(){const a=Se();return a&&a[12]}const eT="__ngContext__";function Kn(a,l){a[eT]=l}function Rf(a){const l=function(a){return a[eT]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function g_(a){return a.ngOriginalError}function jk(a,...l){a.error(...l)}class ih{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=this._findContext(l),p=(a=l)&&a.ngErrorLogger||jk;var a;p(this._console,"ERROR",l),c&&p(this._console,"ORIGINAL ERROR",c),d&&p(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(g_(l)):null}_findOriginalError(l){let c=l&&g_(l);for(;c&&g_(c);)c=g_(c);return c||null}}const $L=/^>|^->|<!--|-->|--!>|<!-$/g,WL=/(<|>)/;const Of=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vn))();function qo(a){return a instanceof Function?a():a}var Ca=(()=>((Ca=Ca||{})[Ca.Important=1]="Important",Ca[Ca.DashCase=2]="DashCase",Ca))();let y_;function rh(a,l){return y_(a,l)}function sh(a){const l=a[3];return Gr(l)?l[3]:l}function w_(a){return lT(a[13])}function pu(a){return lT(a[4])}function lT(a){for(;null!==a&&!Gr(a);)a=a[4];return a}function Nf(a,l,c,d,p){if(null!=d){let f,_=!1;Gr(d)?f=d:Oo(d)&&(_=!0,d=d[0]);const v=Ln(d);0===a&&null!==c?null==p?pT(l,c,v):Yo(l,c,v,p||null,!0):1===a&&null!==c?Yo(l,c,v,p||null,!0):2===a?_T(l,v,_):3===a&&l.destroyNode(v),null!=f&&function(a,l,c,d,p){const f=c[7];f!==Ln(c)&&Nf(l,a,d,f,p);for(let v=10;v<c.length;v++){const D=c[v];fn(D[1],D,a,l,d,f)}}(l,a,f,c,p)}}function O0(a,l){return Zn(a)?a.createText(l):a.createTextNode(l)}function Xk(a,l,c){Zn(a)?a.setValue(l,c):l.textContent=c}function eI(a,l){return a.createComment(function(a){return a.replace($L,l=>l.replace(WL,"\u200b$1\u200b"))}(l))}function $l(a,l,c){return Zn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function uT(a,l){const c=a[9],d=c.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,jc(p,-1)),c.splice(d,1)}function N0(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const p=d[17];null!==p&&p!==a&&uT(p,d),l>0&&(a[c-1][4]=d[4]);const f=ql(a,10+l);!function(a,l){fn(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const _=f[19];null!==_&&_.detachView(f[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function dT(a,l){if(!(256&l[2])){const c=l[11];Zn(c)&&c.destroyNode&&fn(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return P0(a[1],a);for(;l;){let c=null;if(Oo(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Oo(l)&&P0(l[1],l),l=l[3];null===l&&(l=a),Oo(l)&&P0(l[1],l),c=l&&l[4]}l=c}}(l)}}function P0(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const p=l[c[d]];if(!(p instanceof qa)){const f=c[d+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=p[f[_]],D=f[_+1];try{D.call(v)}finally{}}else try{f.call(p)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,d=l[7];let p=-1;if(null!==c)for(let f=0;f<c.length-1;f+=2)if("string"==typeof c[f]){const _=c[f+1],v="function"==typeof _?_(l):Ln(l[_]),D=d[p=c[f+2]],M=c[f+3];"boolean"==typeof M?v.removeEventListener(c[f],D,M):M>=0?d[p=M]():d[p=-M].unsubscribe(),f+=2}else{const _=d[p=c[f+1]];c[f].call(_)}if(null!==d){for(let f=p+1;f<d.length;f++)d[f]();l[7]=null}}(a,l),1===l[1].type&&Zn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Gr(l[3])){c!==l[3]&&uT(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function sI(a,l,c){return D_(a,l.parent,c)}function D_(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===He.None||p===He.Emulated)return null}return jr(d,c)}function Yo(a,l,c,d,p){Zn(a)?a.insertBefore(l,c,d,p):l.insertBefore(c,d,p)}function pT(a,l,c){Zn(a)?a.appendChild(l,c):l.appendChild(c)}function fT(a,l,c,d,p){null!==d?Yo(a,l,c,d,p):pT(a,l,c)}function oh(a,l){return Zn(a)?a.parentNode(l):l.parentNode}function Pf(a,l,c){return Ff(a,l,c)}function mT(a,l,c){return 40&a.type?jr(a,c):null}let ah,Ff=mT;function gT(a,l){Ff=a,ah=l}function Wl(a,l,c,d){const p=sI(a,d,l),f=l[11],v=Pf(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(c))for(let D=0;D<c.length;D++)fT(f,p,c[D],v,!1);else fT(f,p,c,v,!1);void 0!==ah&&ah(f,d,l,c,p)}function jt(a,l){if(null!==l){const c=l.type;if(3&c)return jr(l,a);if(4&c)return F0(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return jt(a,d);{const p=a[l.index];return Gr(p)?F0(-1,p):Ln(p)}}if(32&c)return rh(l,a)()||Ln(a[l.index]);{const d=Lf(a,l);return null!==d?Array.isArray(d)?d[0]:jt(sh(a[16]),d):jt(a,l.next)}}return null}function Lf(a,l){return null!==l?a[16][6].projection[l.projection]:null}function F0(a,l){const c=10+a+1;if(c<l.length){const d=l[c],p=d[1].firstChild;if(null!==p)return jt(d,p)}return l[7]}function _T(a,l,c){const d=oh(a,l);d&&function(a,l,c,d){Zn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}function In(a,l,c,d,p,f,_){for(;null!=c;){const v=d[c.index],D=c.type;if(_&&0===l&&(v&&Kn(Ln(v),d),c.flags|=4),64!=(64&c.flags))if(8&D)In(a,l,c.child,d,p,f,!1),Nf(l,a,p,v,f);else if(32&D){const M=rh(c,d);let S;for(;S=M();)Nf(l,a,p,S,f);Nf(l,a,p,v,f)}else 16&D?bT(a,l,d,c,p,f):Nf(l,a,p,v,f);c=_?c.projectionNext:c.next}}function fn(a,l,c,d,p,f){In(c,d,a.firstChild,l,p,f,!1)}function bT(a,l,c,d,p,f){const _=c[16],D=_[6].projection[d.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Nf(l,a,p,D[M],f);else In(a,l,D,_[3],p,f,!0)}function yT(a,l,c){Zn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function L0(a,l,c){Zn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function vT(a,l,c){let d=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const f=l.length;if(p+f===d||a.charCodeAt(p+f)<=32)return p}c=p+1}}const CT="ng-template";function wT(a,l,c){let d=0;for(;d<a.length;){let p=a[d++];if(c&&"class"===p){if(p=a[d],-1!==vT(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function DT(a){return 4===a.type&&a.value!==CT}function mn(a,l,c){return l===(4!==a.type||c?a.value:CT)}function tB(a,l,c){let d=4;const p=a.attrs||[],f=function(a){for(let l=0;l<a.length;l++)if(zg(a[l]))return l;return a.length}(p);let _=!1;for(let v=0;v<l.length;v++){const D=l[v];if("number"!=typeof D){if(!_)if(4&d){if(d=2|1&d,""!==D&&!mn(a,D,c)||""===D&&1===l.length){if(Wr(d))return!1;_=!0}}else{const M=8&d?D:l[++v];if(8&d&&null!==a.attrs){if(!wT(a.attrs,M,c)){if(Wr(d))return!1;_=!0}continue}const I=cI(8&d?"class":D,p,DT(a),c);if(-1===I){if(Wr(d))return!1;_=!0;continue}if(""!==M){let O;O=I>f?"":p[I+1].toLowerCase();const U=8&d?O:null;if(U&&-1!==vT(U,M,0)||2&d&&M!==O){if(Wr(d))return!1;_=!0}}}}else{if(!_&&!Wr(d)&&!Wr(D))return!1;if(_&&Wr(D))continue;_=!1,d=D|1&d}}return Wr(d)||_}function Wr(a){return 0==(1&a)}function cI(a,l,c,d){if(null===l)return-1;let p=0;if(d||!c){let f=!1;for(;p<l.length;){const _=l[p];if(_===a)return p;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=l[++p];for(;"string"==typeof v;)v=l[++p];continue}if(4===_)break;if(0===_){p+=4;continue}}p+=f?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function lh(a,l,c=!1){for(let d=0;d<l.length;d++)if(tB(a,l[d],c))return!0;return!1}function Vf(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function dI(a,l){return a?":not("+l.trim()+")":l}function M_(a){let l=a[0],c=1,d=2,p="",f=!1;for(;c<a.length;){let _=a[c];if("string"==typeof _)if(2&d){const v=a[++c];p+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&d?p+="."+_:4&d&&(p+=" "+_);else""!==p&&!Wr(_)&&(l+=dI(f,p),p=""),d=_,f=f||!Wr(d);c++}return""!==p&&(l+=dI(f,p)),l}const Ot={};function V0(a){MT(Xt(),Se(),Ir()+a,Rd())}function MT(a,l,c,d){if(!d)if(3==(3&l[2])){const f=a.preOrderCheckHooks;null!==f&&Ul(l,f,c)}else{const f=a.preOrderHooks;null!==f&&Fd(l,f,0,c)}Vl(c)}function E_(a,l){return a<<17|l<<2}function wa(a){return a>>17&32767}function Jl(a){return 2|a}function Ka(a){return(131068&a)>>2}function br(a,l){return-131069&a|l<<2}function U0(a){return 1|a}function IT(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d],f=c[d+1];if(-1!==f){const _=a.data[f];Bl(p),_.contentQueries(2,l[f],f)}}}function dh(a,l,c,d,p,f,_,v,D,M){const S=l.blueprint.slice();return S[0]=p,S[2]=140|d,Gc(S),S[3]=S[15]=a,S[8]=c,S[10]=_||a&&a[10],S[11]=v||a&&a[11],S[12]=D||a&&a[12]||null,S[9]=M||a&&a[9]||null,S[6]=f,S[16]=2==l.type?a[16]:S,S}function _u(a,l,c,d,p){let f=a.data[l];if(null===f)f=P_(a,l,c,d,p),_t.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=c,f.value=d,f.attrs=p;const _=Ha();f.injectorIndex=null===_?-1:_.injectorIndex}return ws(f,!0),f}function P_(a,l,c,d,p){const f=$c(),_=Fl(),D=a.data[l]=function(a,l,c,d,p,f){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,c,l,d,p);return null===a.firstChild&&(a.firstChild=D),null!==f&&(_?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}function hh(a,l,c,d){if(0===c)return-1;const p=l.length;for(let f=0;f<c;f++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function Kl(a,l,c){Fo(l);try{const d=a.viewQuery;null!==d&&eC(1,d,c);const p=a.template;null!==p&&F_(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&IT(a,l),a.staticViewQueries&&eC(2,a.viewQuery,c);const f=a.components;null!==f&&function(a,l){for(let c=0;c<l.length;c++)el(a,l[c])}(l,f)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Jc()}}function bu(a,l,c,d){const p=l[2];if(256==(256&p))return;Fo(l);const f=Rd();try{Gc(l),function(a){_t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&F_(a,l,c,2,d);const _=3==(3&p);if(!f)if(_){const M=a.preOrderCheckHooks;null!==M&&Ul(l,M,null)}else{const M=a.preOrderHooks;null!==M&&Fd(l,M,0,null),pf(l,0)}if(function(a){for(let l=w_(a);null!==l;l=pu(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const p=c[d],f=p[3];0==(1024&p[2])&&jc(f,1),p[2]|=1024}}}(l),function(a){for(let l=w_(a);null!==l;l=pu(l))for(let c=10;c<l.length;c++){const d=l[c],p=d[1];Ad(d)&&bu(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&IT(a,l),!f)if(_){const M=a.contentCheckHooks;null!==M&&Ul(l,M)}else{const M=a.contentHooks;null!==M&&Fd(l,M,1),pf(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const p=c[d];if(p<0)Vl(~p);else{const f=p,_=c[++d],v=c[++d];Od(_,f),v(2,l[f])}}}finally{Vl(-1)}}(a,l);const v=a.components;null!==v&&function(a,l){for(let c=0;c<l.length;c++)OI(a,l[c])}(l,v);const D=a.viewQuery;if(null!==D&&eC(2,D,d),!f)if(_){const M=a.viewCheckHooks;null!==M&&Ul(l,M)}else{const M=a.viewHooks;null!==M&&Fd(l,M,2),pf(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),f||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,jc(l[3],-1))}finally{Jc()}}function TI(a,l,c,d){const p=l[10],f=!Rd(),_=Uv(l);try{f&&!_&&p.begin&&p.begin(),_&&Kl(a,l,d),bu(a,l,c,d)}finally{f&&!_&&p.end&&p.end()}}function F_(a,l,c,d,p){const f=Ir(),_=2&d;try{Vl(-1),_&&l.length>20&&MT(a,l,20,Rd()),c(d,p)}finally{Vl(f)}}function L_(a,l,c){if(Jp(l)){const p=l.directiveEnd;for(let f=l.directiveStart;f<p;f++){const _=a.data[f];_.contentQueries&&_.contentQueries(1,c[f],f)}}}function Hf(a,l,c){!qv()||(function(a,l,c,d){const p=c.directiveStart,f=c.directiveEnd;a.firstCreatePass||ma(c,l),Kn(d,l);const _=c.initialInputs;for(let v=p;v<f;v++){const D=a.data[v],M=$i(D);M&&fB(l,c,D);const S=Xc(l,a,v,c);Kn(S,l),null!==_&&Xa(0,v-p,S,D,0,_),M&&(kr(c.index,l)[8]=S)}}(a,l,c,jr(c,l)),128==(128&c.flags)&&function(a,l,c){const d=c.directiveStart,p=c.directiveEnd,_=c.index,v=_t.lFrame.currentDirectiveIndex;try{Vl(_);for(let D=d;D<p;D++){const M=a.data[D],S=l[D];Wc(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&po(M,S)}}finally{Vl(-1),Wc(v)}}(a,l,c))}function OT(a,l,c=jr){const d=l.localNames;if(null!==d){let p=l.index+1;for(let f=0;f<d.length;f+=2){const _=d[f+1],v=-1===_?c(l,a):a[_];a[p++]=v}}}function $0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=W0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function W0(a,l,c,d,p,f,_,v,D,M){const S=20+d,I=S+p,O=function(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ot);return c}(S,I),U="function"==typeof M?M():M;return O[1]={type:a,blueprint:O,template:c,queries:null,viewQuery:v,declTNode:l,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:U,incompleteFirstPass:!1}}function B_(a,l,c,d){const p=GT(l);null===c?p.push(d):(p.push(c),a.firstCreatePass&&yu(a).push(d,p.length-1))}function Q0(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,p):c[d]=[l,p]}return c}function ho(a,l,c,d,p,f,_,v){const D=jr(l,c);let S,M=l.inputs;!v&&null!=M&&(S=M[d])?(jT(a,c,S,d,p),ha(l)&&function(a,l){const c=kr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=_?_(p,l.value||"",d):p,Zn(f)?f.setProperty(D,d,p):zr(d)||(D.setProperty?D.setProperty(d,p):D[d]=p))}function PT(a,l,c,d){let p=!1;if(qv()){const f=function(a,l,c){const d=a.directiveRegistry;let p=null;if(d)for(let f=0;f<d.length;f++){const _=d[f];lh(c,_.selectors,!1)&&(p||(p=[]),Ga(ma(c,l),a,_.type),$i(_)?(fh(a,c),p.unshift(_)):p.push(_))}return p}(a,l,c),_=null===d?null:{"":-1};if(null!==f){p=!0,RI(c,a.data.length,f.length);for(let S=0;S<f.length;S++){const I=f[S];I.providersResolver&&I.providersResolver(I)}let v=!1,D=!1,M=hh(a,l,f.length,null);for(let S=0;S<f.length;S++){const I=f[S];c.mergedAttrs=Bd(c.mergedAttrs,I.hostAttrs),V_(a,c,l,M,I),FT(M,I,_),null!==I.contentQueries&&(c.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(c.flags|=128);const O=I.type.prototype;!v&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),v=!0),!D&&(O.ngOnChanges||O.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),D=!0),M++}!function(a,l){const d=l.directiveEnd,p=a.data,f=l.attrs,_=[];let v=null,D=null;for(let M=l.directiveStart;M<d;M++){const S=p[M],I=S.inputs,O=null===f||DT(l)?null:mB(I,f);_.push(O),v=Q0(I,M,v),D=Q0(S.outputs,M,D)}null!==v&&(v.hasOwnProperty("class")&&(l.flags|=16),v.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=_,l.inputs=v,l.outputs=D}(a,c)}_&&function(a,l,c){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const f=c[l[p+1]];if(null==f)throw new De("301",`Export of name '${l[p+1]}' not found!`);d.push(l[p],f)}}}(c,d,_)}return c.mergedAttrs=Bd(c.mergedAttrs,c.attrs),p}function kI(a,l,c,d,p,f){const _=f.hostBindings;if(_){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const D=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=D&&v.push(D),v.push(d,p,_)}}function po(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function fh(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function FT(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;$i(l)&&(c[""]=a)}}function RI(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function V_(a,l,c,d,p){a.data[d]=p;const f=p.factory||(p.factory=Ba(p.type)),_=new qa(f,$i(p),null);a.blueprint[d]=_,c[d]=_,kI(a,l,0,d,hh(a,c,p.hostVars,Ot),p)}function fB(a,l,c){const d=jr(l,a),p=$0(c),f=a[10],_=mh(a,dh(a,p,null,c.onPush?64:16,d,l,f,f.createRenderer(d,c),null,null));a[l.index]=_}function LT(a,l,c,d,p,f,_){if(null==f)Zn(a)?a.removeAttribute(l,p,c):l.removeAttribute(p);else{const v=null==_?we(f):_(f,d||"",p);Zn(a)?a.setAttribute(l,p,v,c):c?l.setAttributeNS(c,p,v):l.setAttribute(p,v)}}function Xa(a,l,c,d,p,f){const _=f[l];if(null!==_){const v=d.setInput;for(let D=0;D<_.length;){const M=_[D++],S=_[D++],I=_[D++];null!==v?d.setInput(c,I,M,S):c[S]=I}}}function mB(a,l){let c=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,a[p],l[d+1])),d+=2}else d+=2;else d+=4}return c}function BT(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function OI(a,l){const c=kr(l,a);if(Ad(c)){const d=c[1];80&c[2]?bu(d,c,d.template,c[8]):c[5]>0&&HT(c)}}function HT(a){for(let d=w_(a);null!==d;d=pu(d))for(let p=10;p<d.length;p++){const f=d[p];if(1024&f[2]){const _=f[1];bu(_,f,_.template,f[8])}else f[5]>0&&HT(f)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const p=kr(c[d],a);Ad(p)&&p[5]>0&&HT(p)}}function el(a,l){const c=kr(l,a),d=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Kl(d,c,c[8])}function mh(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Xl(a){for(;a;){a[2]|=64;const l=sh(a);if(ls(a)&&!l)return a;a=l}return null}function U_(a,l,c){const d=l[10];d.begin&&d.begin();try{bu(a,l,a.template,c)}catch(p){throw Zf(l,p),p}finally{d.end&&d.end()}}function qT(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Rf(c),p=d[1];TI(p,d,p.template,c)}}(a[8])}function eC(a,l,c){Bl(0),l(a,c)}const gh=(()=>Promise.resolve(null))();function GT(a){return a[7]||(a[7]=[])}function yu(a){return a.cleanup||(a.cleanup=[])}function vu(a,l,c){return(null===a||$i(a))&&(c=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Zf(a,l){const c=a[9],d=c?c.get(ih,null):null;d&&d.handleError(l)}function jT(a,l,c,d,p){for(let f=0;f<c.length;){const _=c[f++],v=c[f++],D=l[_],M=a.data[_];null!==M.setInput?M.setInput(D,p,d,v):D[v]=p}}function tl(a,l,c){const d=Va(l,a);Xk(a[11],d,c)}function fo(a,l,c){let d=c?a.styles:null,p=c?a.classes:null,f=0;if(null!==l)for(let _=0;_<l.length;_++){const v=l[_];"number"==typeof v?f=v:1==f?p=J(p,v):2==f&&(d=J(d,v+": "+l[++_]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=p:a.classesWithoutHost=p}const ec=new ui("INJECTOR",-1);class iC{get(l,c=Wd){if(c===Wd){const d=new Error(`NullInjectorError: No provider for ${j(l)}!`);throw d.name="NullInjectorError",d}return c}}const Cu=new ui("Set Injector scope."),_h={},_B={};let qf;function zT(){return void 0===qf&&(qf=new iC),qf}function bh(a,l=null,c=null,d){return new VI(a,c,l||zT(),d)}class VI{constructor(l,c,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];c&&Zs(c,v=>this.processProvider(v,l,c)),Zs([l],v=>this.processInjectorType(v,[],f)),this.records.set(ec,tc(void 0,this));const _=this.records.get(Cu);this.scope=null!=_?_.value:null,this.source=p||("object"==typeof l?null:j(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Wd,d=rt.Default){this.assertNotDestroyed();const p=za(this),f=Fi(void 0);try{if(!(d&rt.SkipSelf)){let v=this.records.get(l);if(void 0===v){const D=("function"==typeof(a=l)||"object"==typeof a&&a instanceof ui)&&dr(l);v=D&&this.injectableDefInScope(D)?tc(rC(l),_h):null,this.records.set(l,v)}if(null!=v)return this.hydrate(l,v)}return(d&rt.Self?zT():this.parent).get(l,c=d&rt.Optional&&c===Wd?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[ru]=_[ru]||[]).unshift(j(l)),p)throw _;return p0(_,l,"R3InjectorError",this.source)}throw _}finally{Fi(f),za(p)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,p)=>l.push(j(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=q(l)))return!1;let p=so(l);const f=null==p&&l.ngModule||void 0,_=void 0===f?l:f,v=-1!==d.indexOf(_);if(void 0!==f&&(p=so(f)),null==p)return!1;if(null!=p.imports&&!v){let S;d.push(_);try{Zs(p.imports,I=>{this.processInjectorType(I,c,d)&&(void 0===S&&(S=[]),S.push(I))})}finally{}if(void 0!==S)for(let I=0;I<S.length;I++){const{ngModule:O,providers:U}=S[I];Zs(U,$=>this.processProvider($,O,U||H))}}this.injectorDefTypes.add(_);const D=Ba(_)||(()=>new _);this.records.set(_,tc(D,_h));const M=p.providers;if(null!=M&&!v){const S=l;Zs(M,I=>this.processProvider(I,S,M))}return void 0!==f&&void 0!==l.providers}processProvider(l,c,d){let p=wu(l=q(l))?l:q(l&&l.provide);const f=Z_(a=l)?tc(void 0,a.useValue):tc(Ta(a),_h);var a;if(wu(l)||!0!==l.multi)this.records.get(p);else{let _=this.records.get(p);_||(_=tc(void 0,_h,!0),_.factory=()=>Yl(_.multi),this.records.set(p,_)),p=l,_.multi.push(l)}this.records.set(p,f)}hydrate(l,c){return c.value===_h&&(c.value=_B,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=q(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function rC(a){const l=dr(a),c=null!==l?l.factory:Ba(a);if(null!==c)return c;if(a instanceof ui)throw new Error(`Token ${j(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const d=ja(l,"?");throw new Error(`Can't resolve all parameters for ${j(a)}: (${d.join(", ")}).`)}const c=function(a){const l=a&&(a[vs]||a[ko]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function Ta(a,l,c){let d;if(wu(a)){const p=q(a);return Ba(p)||rC(p)}if(Z_(a))d=()=>q(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Yl(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>di(q(a.useExisting));else{const p=q(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Ba(p)||rC(p);d=()=>new p(...Yl(a.deps))}return d}function tc(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Z_(a){return null!==a&&"object"==typeof a&&Kd in a}function wu(a){return"function"==typeof a}const HI=function(a,l,c){return function(a,l=null,c=null,d){const p=bh(a,l,c,d);return p._resolveInjectorDefTypes(),p}({name:c},l,a,c)};class Rn{static create(l,c){return Array.isArray(l)?HI(l,c,""):HI(l.providers,l.parent,l.name||"")}}function nM(a,l){Pd(Rf(a)[1],Qn())}function dC(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let p;if($i(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(c){d.push(p);const _=a;_.inputs=nc(a.inputs),_.declaredInputs=nc(a.declaredInputs),_.outputs=nc(a.outputs);const v=p.hostBindings;v&&KI(a,v);const D=p.viewQuery,M=p.contentQueries;if(D&&QI(a,D),M&&kB(a,M),Z(a.inputs,p.inputs),Z(a.declaredInputs,p.declaredInputs),Z(a.outputs,p.outputs),$i(p)&&p.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(p.data.animation)}}const f=p.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(a),v===dC&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=Bd(p.hostAttrs,c=Bd(c,p.hostAttrs))}}(d)}function nc(a){return a===G?{}:a===H?[]:a}function QI(a,l){const c=a.viewQuery;a.viewQuery=c?(d,p)=>{l(d,p),c(d,p)}:l}function kB(a,l){const c=a.contentQueries;a.contentQueries=c?(d,p,f)=>{l(d,p,f),c(d,p,f)}:l}function KI(a,l){const c=a.hostBindings;a.hostBindings=c?(d,p)=>{l(d,p),c(d,p)}:l}Rn.THROW_IF_NOT_FOUND=Wd,Rn.NULL=new iC,Rn.\u0275prov=ft({token:Rn,providedIn:"any",factory:()=>di(ec)}),Rn.__NG_ELEMENT_ID__=-1;let $_=null;function wh(){if(!$_){const a=vn.Symbol;if(a&&a.iterator)$_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&($_=d)}}}return $_}class mo{constructor(l){this.wrapped=l}static wrap(l){return new mo(l)}static unwrap(l){return mo.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof mo}}function rl(a){return!!hC(a)&&(Array.isArray(a)||!(a instanceof Map)&&wh()in a)}function hC(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function go(a,l,c){return a[l]=c}function Or(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function ic(a,l,c,d){const p=Or(a,l,c);return Or(a,l+1,d)||p}function pC(a,l,c,d){const p=Se();return Or(p,Vs(),l)&&(Xt(),function(a,l,c,d,p,f){const _=jr(a,l);LT(l[11],_,f,a.value,c,d,p)}(Ci(),p,a,l,c,d)),pC}function Th(a,l,c,d){return Or(a,Vs(),c)?l+we(c)+d:Ot}function Du(a,l,c,d,p,f,_,v,D,M){const I=function(a,l,c,d,p,f){const _=ic(a,l,c,d);return ic(a,l+2,p,f)||_}(a,ds(),c,p,_,D);return Us(4),I?l+we(c)+d+we(p)+f+we(_)+v+we(D)+M:Ot}function cM(a,l,c,d,p,f,_,v){const D=Se(),M=Xt(),S=a+20,I=M.firstCreatePass?function(a,l,c,d,p,f,_,v,D){const M=l.consts,S=_u(l,a,4,_||null,Po(M,v));PT(l,c,S,Po(M,D)),Pd(l,S);const I=S.tViews=W0(2,S,d,p,f,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,S),I.queries=l.queries.embeddedTView(S)),S}(S,M,D,l,c,d,p,f,_):M.data[S];ws(I,!1);const O=D[11].createComment("");Wl(M,D,O,I),Kn(O,D),mh(D,D[S]=BT(O,D,O,I)),vi(I)&&Hf(M,D,I),null!=_&&OT(D,I,v)}function uM(a){return Ua(_t.lFrame.contextLView,20+a)}function X_(a,l=rt.Default){const c=Se();return null===c?di(a,l):Kc(Qn(),c,q(a),l)}function Ah(a,l,c){const d=Se();return Or(d,Vs(),l)&&ho(Xt(),Ci(),d,a,l,d[11],c,!1),Ah}function Mu(a,l,c,d,p){const _=p?"class":"style";jT(a,c,l.inputs[_],_,d)}function kh(a,l,c,d){const p=Se(),f=Xt(),_=20+a,v=p[11],D=p[_]=$l(v,l,_t.lFrame.currentNamespace),M=f.firstCreatePass?function(a,l,c,d,p,f,_){const v=l.consts,M=_u(l,a,2,p,Po(v,f));return PT(l,c,M,Po(v,_)),null!==M.attrs&&fo(M,M.attrs,!1),null!==M.mergedAttrs&&fo(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(_,f,p,0,l,c,d):f.data[_];ws(M,!0);const S=M.mergedAttrs;null!==S&&gf(v,D,S);const I=M.classes;null!==I&&L0(v,D,I);const O=M.styles;null!==O&&yT(v,D,O),64!=(64&M.flags)&&Wl(f,p,D,M),0===_t.lFrame.elementDepthCount&&Kn(D,p),_t.lFrame.elementDepthCount++,vi(M)&&(Hf(f,p,M),L_(f,M,p)),null!==d&&OT(p,M)}function TC(){let a=Qn();Fl()?Id():(a=a.parent,ws(a,!1));const l=a;_t.lFrame.elementDepthCount--;const c=Xt();c.firstCreatePass&&(Pd(c,a),Jp(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Mu(c,l,Se(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Mu(c,l,Se(),l.stylesWithoutHost,!1)}function tb(a,l,c,d){kh(a,l,c,d),TC()}function EC(a,l,c){const d=Se(),p=Xt(),f=a+20,_=p.firstCreatePass?function(a,l,c,d,p){const f=l.consts,_=Po(f,d),v=_u(l,a,8,"ng-container",_);return null!==_&&fo(v,_,!0),PT(l,c,v,Po(f,p)),null!==l.queries&&l.queries.elementStart(l,v),v}(f,p,d,l,c):p.data[f];ws(_,!0);const v=d[f]=d[11].createComment("");Wl(p,d,v,_),Kn(v,d),vi(_)&&(Hf(p,d,_),L_(p,_,d)),null!=c&&OT(d,_)}function nb(){let a=Qn();const l=Xt();Fl()?Id():(a=a.parent,ws(a,!1)),l.firstCreatePass&&(Pd(l,a),Jp(a)&&l.queries.elementEnd(a))}function DM(a,l,c){EC(a,l,c),nb()}function SC(){return Se()}function xC(a){return!!a&&"function"==typeof a.then}function mR(a){return!!a&&"function"==typeof a.subscribe}const AC=mR;function Jf(a,l,c,d){const p=Se(),f=Xt(),_=Qn();return ib(f,p,p[11],_,a,l,!!c,d),Jf}function kC(a,l){const c=Qn(),d=Se(),p=Xt();return ib(p,d,vu(uf(p.data),c,d),c,a,l,!1),kC}function ib(a,l,c,d,p,f,_,v){const D=vi(d),S=a.firstCreatePass&&yu(a),I=l[8],O=GT(l);let U=!0;if(3&d.type||v){const te=jr(d,l),Oe=v?v(te):te,Ce=O.length,lt=v?Dt=>v(Ln(Dt[d.index])):d.index;if(Zn(c)){let Dt=null;if(!v&&D&&(Dt=function(a,l,c,d){const p=a.cleanup;if(null!=p)for(let f=0;f<p.length-1;f+=2){const _=p[f];if(_===c&&p[f+1]===d){const v=l[7],D=p[f+2];return v.length>D?v[D]:null}"string"==typeof _&&(f+=2)}return null}(a,l,p,d.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=f,Dt.__ngLastListenerFn__=f,U=!1;else{f=MM(d,l,I,f,!1);const kt=c.listen(Oe,p,f);O.push(f,kt),S&&S.push(p,lt,Ce,Ce+1)}}else f=MM(d,l,I,f,!0),Oe.addEventListener(p,f,_),O.push(f),S&&S.push(p,lt,Ce,_)}else f=MM(d,l,I,f,!1);const $=d.outputs;let ce;if(U&&null!==$&&(ce=$[p])){const te=ce.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const gr=l[ce[Oe]][ce[Oe+1]].subscribe(f),Js=O.length;O.push(f,gr),S&&S.push(p,d.index,Js,-(Js+1))}}}function Qf(a,l,c,d){try{return!1!==c(d)}catch(p){return Zf(a,p),!1}}function MM(a,l,c,d,p){return function f(_){if(_===Function)return d;const v=2&a.flags?kr(a.index,l):l;0==(32&l[2])&&Xl(v);let D=Qf(l,0,d,_),M=f.__ngNextListenerFn__;for(;M;)D=Qf(l,0,M,_)&&D,M=M.__ngNextListenerFn__;return p&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function Ih(a=1){return function(a){return(_t.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,_t.lFrame.contextLView))[8]}(a)}function rb(a,l){let c=null;const d=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const f=l[p];if("*"!==f){if(null===d?lh(a,f,!0):Vf(d,f))return p}else c=p}return c}function Eu(a){const l=Se()[16][6];if(!l.projection){const d=l.projection=ja(a?a.length:1,null),p=d.slice();let f=l.child;for(;null!==f;){const _=a?rb(f,a):0;null!==_&&(p[_]?p[_].projectionNext=f:d[_]=f,p[_]=f),f=f.next}}}function Rh(a,l=0,c){const d=Se(),p=Xt(),f=_u(p,20+a,16,null,c||null);null===f.projection&&(f.projection=l),Id(),64!=(64&f.flags)&&function(a,l,c){bT(l[11],0,l,c,sI(a,c,l),Pf(c.parent||l[6],c,l))}(p,d,f)}function IC(a,l,c){return Oh(a,"",l,"",c),IC}function Oh(a,l,c,d,p){const f=Se(),_=Th(f,l,c,d);return _!==Ot&&ho(Xt(),Ci(),f,a,_,f[11],p,!1),Oh}function Gs(a,l,c,d,p){const f=a[c+1],_=null===l;let v=d?wa(f):Ka(f),D=!1;for(;0!==v&&(!1===D||_);){const S=a[v+1];EM(a[v],l)&&(D=!0,a[v+1]=d?U0(S):Jl(S)),v=d?wa(S):Ka(S)}D&&(a[c+1]=d?Jl(f):U0(f))}function EM(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&nu(a,l)>=0}const vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gR(a){return a.substring(vr.key,vr.keyEnd)}function SM(a,l){const c=vr.textEnd;return c===l?-1:(l=vr.keyEnd=function(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,vr.key=l,c),xu(a,l,c))}function xu(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function cb(a,l,c){return $o(a,l,c,!1),cb}function PC(a,l){return $o(a,l,null,!0),PC}function FC(a){vo(Ts,yo,a,!0)}function yo(a,l){for(let c=function(a){return function(a){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=a.length}(a),SM(a,xu(a,0,vr.textEnd))}(l);c>=0;c=SM(l,c))Ts(a,gR(l),!0)}function $o(a,l,c,d){const p=Se(),f=Xt(),_=Us(2);f.firstUpdatePass&&si(f,a,_,d),l!==Ot&&Or(p,_,l)&&FM(f,f.data[Ir()],p,p[11],a,p[_+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=j(ba(a)))),a}(l,c),d,_)}function vo(a,l,c,d){const p=Xt(),f=Us(2);p.firstUpdatePass&&si(p,null,f,d);const _=Se();if(c!==Ot&&Or(_,f,c)){const v=p.data[Ir()];if(VC(v,d)&&!OM(p,f)){let D=d?v.classesWithoutHost:v.stylesWithoutHost;null!==D&&(c=J(D,c||"")),Mu(p,v,_,c,d)}else!function(a,l,c,d,p,f,_,v){p===Ot&&(p=H);let D=0,M=0,S=0<p.length?p[0]:null,I=0<f.length?f[0]:null;for(;null!==S||null!==I;){const O=D<p.length?p[D+1]:void 0,U=M<f.length?f[M+1]:void 0;let ce,$=null;S===I?(D+=2,M+=2,O!==U&&($=I,ce=U)):null===I||null!==S&&S<I?(D+=2,$=S):(M+=2,$=I,ce=U),null!==$&&FM(a,l,c,d,$,ce,_,v),S=D<p.length?p[D]:null,I=M<f.length?f[M]:null}}(p,v,_,_[11],_[f+1],_[f+1]=function(a,l,c){if(null==c||""===c)return H;const d=[],p=ba(c);if(Array.isArray(p))for(let f=0;f<p.length;f++)a(d,p[f],!0);else if("object"==typeof p)for(const f in p)p.hasOwnProperty(f)&&a(d,f,p[f]);else"string"==typeof p&&l(d,p);return d}(a,l,c),d,f)}}function OM(a,l){return l>=a.expandoStartIndex}function si(a,l,c,d){const p=a.data;if(null===p[c+1]){const f=p[Ir()],_=OM(a,c);VC(f,d)&&null===l&&!_&&(l=!1),l=function(a,l,c,d){const p=uf(a);let f=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(c=Xf(c=ub(null,a,l,c,d),l.attrs,d),f=null);else{const _=l.directiveStylingLast;if(-1===_||a[_]!==p)if(c=ub(p,a,l,c,d),null===f){let D=function(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Ka(d))return a[wa(d)]}(a,l,d);void 0!==D&&Array.isArray(D)&&(D=ub(null,a,l,D[1],d),D=Xf(D,l.attrs,d),function(a,l,c,d){a[wa(c?l.classBindings:l.styleBindings)]=d}(a,l,d,D))}else f=function(a,l,c){let d;const p=l.directiveEnd;for(let f=1+l.directiveStylingLast;f<p;f++)d=Xf(d,a[f].hostAttrs,c);return Xf(d,l.attrs,c)}(a,l,d)}return void 0!==f&&(d?l.residualClasses=f:l.residualStyles=f),c}(p,f,l,d),function(a,l,c,d,p,f){let _=f?l.classBindings:l.styleBindings,v=wa(_),D=Ka(_);a[d]=c;let S,M=!1;if(Array.isArray(c)){const I=c;S=I[1],(null===S||nu(I,S)>0)&&(M=!0)}else S=c;if(p)if(0!==D){const O=wa(a[v+1]);a[d+1]=E_(O,v),0!==O&&(a[O+1]=br(a[O+1],d)),a[v+1]=function(a,l){return 131071&a|l<<17}(a[v+1],d)}else a[d+1]=E_(v,0),0!==v&&(a[v+1]=br(a[v+1],d)),v=d;else a[d+1]=E_(D,0),0===v?v=d:a[D+1]=br(a[D+1],d),D=d;M&&(a[d+1]=Jl(a[d+1])),Gs(a,S,d,!0),Gs(a,S,d,!1),function(a,l,c,d,p){const f=p?a.residualClasses:a.residualStyles;null!=f&&"string"==typeof l&&nu(f,l)>=0&&(c[d+1]=U0(c[d+1]))}(l,S,a,d,f),_=E_(v,D),f?l.classBindings=_:l.styleBindings=_}(p,f,l,c,_,d)}}function ub(a,l,c,d,p){let f=null;const _=c.directiveEnd;let v=c.directiveStylingLast;for(-1===v?v=c.directiveStart:v++;v<_&&(f=l[v],d=Xf(d,f.hostAttrs,p),f!==a);)v++;return null!==a&&(c.directiveStylingLast=v),d}function Xf(a,l,c){const d=c?1:2;let p=-1;if(null!==l)for(let f=0;f<l.length;f++){const _=l[f];"number"==typeof _?p=_:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ts(a,_,!!c||l[++f]))}return void 0===a?null:a}function FM(a,l,c,d,p,f,_,v){if(!(3&l.type))return;const D=a.data,M=D[v+1];em(function(a){return 1==(1&a)}(M)?db(D,l,c,p,Ka(M),_):void 0)||(em(f)||function(a){return 2==(2&a)}(M)&&(f=db(D,null,c,p,v,_)),function(a,l,c,d,p){const f=Zn(a);if(l)p?f?a.addClass(c,d):c.classList.add(d):f?a.removeClass(c,d):c.classList.remove(d);else{let _=-1===d.indexOf("-")?void 0:Ca.DashCase;if(null==p)f?a.removeStyle(c,d,_):c.style.removeProperty(d);else{const v="string"==typeof p&&p.endsWith("!important");v&&(p=p.slice(0,-10),_|=Ca.Important),f?a.setStyle(c,d,p,_):c.style.setProperty(d,p,v?"important":"")}}}(d,_,Va(Ir(),c),p,f))}function db(a,l,c,d,p,f){const _=null===l;let v;for(;p>0;){const D=a[p],M=Array.isArray(D),S=M?D[1]:D,I=null===S;let O=c[p+1];O===Ot&&(O=I?H:void 0);let U=I?tu(O,d):S===d?O:void 0;if(M&&!em(U)&&(U=tu(D,d)),em(U)&&(v=U,_))return v;const $=a[p+1];p=_?wa($):Ka($)}if(null!==l){let D=f?l.residualClasses:l.residualStyles;null!=D&&(v=tu(D,d))}return v}function em(a){return void 0!==a}function VC(a,l){return 0!=(a.flags&(l?16:32))}function LM(a,l=""){const c=Se(),d=Xt(),p=a+20,f=d.firstCreatePass?_u(d,p,1,l,null):d.data[p],_=c[p]=O0(c[11],l);Wl(d,c,_,f),ws(f,!1)}function BM(a){return Ph("",a,""),BM}function Ph(a,l,c){const d=Se(),p=Th(d,a,l,c);return p!==Ot&&tl(d,Ir(),p),Ph}function hb(a,l,c,d,p){const f=Se(),_=function(a,l,c,d,p,f){const v=ic(a,ds(),c,p);return Us(2),v?l+we(c)+d+we(p)+f:Ot}(f,a,l,c,d,p);return _!==Ot&&tl(f,Ir(),_),hb}function ZM(a,l,c){vo(Ts,yo,Th(Se(),a,l,c),!0)}function qM(a,l,c,d,p,f,_,v,D){vo(Ts,yo,Du(Se(),a,l,c,d,p,f,_,v,D),!0)}function jC(a,l,c){const d=Se();return Or(d,Vs(),l)&&ho(Xt(),Ci(),d,a,l,d[11],c,!0),jC}function zC(a,l,c){const d=Se();if(Or(d,Vs(),l)){const f=Xt(),_=Ci();ho(f,_,d,a,l,vu(uf(f.data),_,d),c,!0)}return zC}const Fh=void 0;var nm=["en",[["a","p"],["AM","PM"],Fh],[["AM","PM"],Fh,Fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fh,"{1} 'at' {0}",Fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Lh={};function $C(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=KM(l);if(c)return c;const d=l.split("-")[0];if(c=KM(d),c)return c;if("en"===d)return nm;throw new Error(`Missing locale data for the locale "${a}".`)}function ol(a){return $C(a)[et.PluralCase]}function KM(a){return a in Lh||(Lh[a]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[a]),Lh[a]}var et=(()=>((et=et||{})[et.LocaleId=0]="LocaleId",et[et.DayPeriodsFormat=1]="DayPeriodsFormat",et[et.DayPeriodsStandalone=2]="DayPeriodsStandalone",et[et.DaysFormat=3]="DaysFormat",et[et.DaysStandalone=4]="DaysStandalone",et[et.MonthsFormat=5]="MonthsFormat",et[et.MonthsStandalone=6]="MonthsStandalone",et[et.Eras=7]="Eras",et[et.FirstDayOfWeek=8]="FirstDayOfWeek",et[et.WeekendRange=9]="WeekendRange",et[et.DateFormat=10]="DateFormat",et[et.TimeFormat=11]="TimeFormat",et[et.DateTimeFormat=12]="DateTimeFormat",et[et.NumberSymbols=13]="NumberSymbols",et[et.NumberFormats=14]="NumberFormats",et[et.CurrencyCode=15]="CurrencyCode",et[et.CurrencySymbol=16]="CurrencySymbol",et[et.CurrencyName=17]="CurrencyName",et[et.Currencies=18]="Currencies",et[et.Directionality=19]="Directionality",et[et.PluralCase=20]="PluralCase",et[et.ExtraData=21]="ExtraData",et))();const WC=["zero","one","two","few","many"],yb="en-US",vb={marker:"element"},Cb={marker:"ICU"};var Ei=(()=>((Ei=Ei||{})[Ei.SHIFT=2]="SHIFT",Ei[Ei.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ei[Ei.COMMENT=2]="COMMENT",Ei))();let eE=yb;function JC(a){(function(a,l){null==a&&vt(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(eE=a.toLowerCase().replace(/_/g,"-"))}function nE(a,l,c){const d=l.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?mT(a,0,c):Ln(c[p])}function lc(a,l,c,d,p){const f=l.insertBeforeIndex;if(Array.isArray(f)){let _=d,v=null;if(3&l.type||(v=_,_=p),null!==_&&0==(2&l.flags))for(let D=1;D<f.length;D++)Yo(a,_,c[f[D]],v,!1)}}function iE(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];QC(d)||kR(d,l)&&null===IR(d)&&al(d,l.index)}}function QC(a){return!(64&a.type)}function kR(a,l){return QC(l)||a.index>l.index}function IR(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function al(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(gT(nE,lc),a.insertBeforeIndex=l)}function ku(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function RR(a,l,c){const d=P_(a,c,64,null,null);return iE(l,d),d}function wb(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function sE(a){return a>>>17}function oE(a){return(131070&a)>>>1}let Vh=0,Uh=0;function lE(a,l,c,d){const p=c[11];let _,f=null;for(let v=0;v<l.length;v++){const D=l[v];if("string"==typeof D){const M=l[++v];null===c[M]&&(c[M]=O0(p,D))}else if("number"==typeof D)switch(1&D){case 0:const M=sE(D);let S,I;if(null===f&&(f=M,_=oh(p,d)),M===f?(S=d,I=_):(S=null,I=Ln(c[M])),null!==I){const ce=oE(D);Yo(p,I,c[ce],S,!1);const Oe=ku(a,ce);if(null!==Oe&&"object"==typeof Oe){const Ce=wb(Oe,c);null!==Ce&&lE(a,Oe.create[Ce],c,c[Oe.anchorIdx])}}break;case 1:const U=l[++v],$=l[++v];LT(p,Va(D>>>1,c),null,null,U,$,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${D}"`)}else switch(D){case Cb:const M=l[++v],S=l[++v];null===c[S]&&Kn(c[S]=eI(p,M),c);break;case vb:const I=l[++v],O=l[++v];null===c[O]&&Kn(c[O]=$l(p,I,null),c)}}}function KC(a,l,c,d,p){for(let f=0;f<c.length;f++){const _=c[f],v=c[++f];if(_&p){let D="";for(let M=f+1;M<=f+v;M++){const S=c[M];if("string"==typeof S)D+=S;else if("number"==typeof S)if(S<0)D+=we(l[d-S]);else{const I=S>>>2;switch(3&S){case 1:const O=c[++M],U=c[++M],$=a.data[I];"string"==typeof $?LT(l[11],l[I],null,$,O,D,U):ho(a,$,l,O,D,l[11],U,!1);break;case 0:const ce=l[I];null!==ce&&Xk(l[11],ce,D);break;case 2:LR(a,ku(a,I),l,D);break;case 3:Qt(a,ku(a,I),d,l)}}}}else{const D=c[f+1];if(D>0&&3==(3&D)){const S=ku(a,D>>>2);l[S.currentCaseLViewIndex]<0&&Qt(a,S,d,l)}}f+=v}}function Qt(a,l,c,d){let p=d[l.currentCaseLViewIndex];if(null!==p){let f=Vh;p<0&&(p=d[l.currentCaseLViewIndex]=~p,f=-1),KC(a,d,l.update[p],c,f)}}function LR(a,l,c,d){const p=function(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function(a,l){const c=ol(l)(parseInt(a,10)),d=WC[c];return void 0!==d?d:"other"}(l,eE);c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(wb(l,c)!==p&&(Iu(a,l,c),c[l.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const _=c[l.anchorIdx];_&&lE(a,l.create[p],c,_)}}function Iu(a,l,c){let d=wb(l,c);if(null!==d){const p=l.remove[d];for(let f=0;f<p.length;f++){const _=p[f];if(_>0){const v=Va(_,c);null!==v&&_T(c[11],v)}else Iu(a,ku(a,~_),c)}}}function XC(){const a=[];let c,d,l=-1;function f(v,D){l=0;const M=wb(v,D);d=null!==M?v.remove[M]:H}function _(){if(l<d.length){const v=d[l++];return v>0?c[v]:(a.push(l,d),f(c[1].data[~v],c),_())}return 0===a.length?null:(d=a.pop(),l=a.pop(),_())}return function(v,D){for(c=D;a.length;)a.pop();return f(v.value,D),_}}const rm=/\ufffd(\d+):?\d*\ufffd/gi,$B=/\ufffd(\d+)\ufffd/,Cr=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,BR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,VR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dE=/\uE500/g;function tw(a,l,c,d,p,f,_){const v=hh(a,d,1,null);let D=v<<Ei.SHIFT,M=Ha();l===M&&(M=null),null===M&&(D|=Ei.APPEND_EAGERLY),_&&(D|=Ei.COMMENT,function(a){void 0===y_&&(y_=a())}(XC)),p.push(D,null===f?"":f);const S=P_(a,v,_?32:1,null===f?"":f,null);iE(c,S);const I=S.index;return ws(S,!1),null!==M&&l!==M&&function(a,l){let c=a.insertBeforeIndex;null===c?(gT(nE,lc),c=a.insertBeforeIndex=[null,l]):(function(a,l,c){a!=l&&vt(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(M,I),S}function HR(a,l,c,d,p,f,_){const v=_.match(rm),D=tw(a,l,c,f,d,v?null:_,!1);v&&Ru(p,_,D.index,null,0,null)}function Ru(a,l,c,d,p,f){const _=a.length,v=_+1;a.push(null,null);const D=_+2,M=l.split(rm);let S=0;for(let I=0;I<M.length;I++){const O=M[I];if(1&I){const U=p+parseInt(O,10);a.push(-1-U),S|=cc(U)}else""!==O&&a.push(O)}return a.push(c<<2|(d?1:0)),d&&a.push(d,f),a[_]=S,a[v]=a.length-D,S}function cc(a){return 1<<Math.min(a,31)}function Hh(a){let l,f,c="",d=0,p=!1;for(;null!==(l=BR.exec(a));)p?l[0]===`\ufffd/*${f}\ufffd`&&(d=l.index,p=!1):(c+=a.substring(d,l.index+l[0].length),f=l[1],p=!0);return c+=a.substr(d),c}function uc(a,l,c,d,p,f){let _=0;const v={type:p.type,currentCaseLViewIndex:hh(a,l,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(a,l,c){a.push(cc(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,p,f),function(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,f,v);const D=p.values;for(let M=0;M<D.length;M++){const S=D[M],I=[];for(let O=0;O<S.length;O++){const U=S[O];if("string"!=typeof U){const $=I.push(U)-1;S[O]=`\x3c!--\ufffd${$}\ufffd--\x3e`}}_=fE(a,v,l,c,d,p.cases[M],S.join(""),I)|_}_&&function(a,l,c){a.push(l,1,c<<2|3)}(c,_,f)}function qR(a){const l=[],c=[];let d=1,p=0;const f=sm(a=a.replace(Cr,function(_,v,D){return d="select"===D?0:1,p=parseInt(v.substr(1),10),""}));for(let _=0;_<f.length;){let v=f[_++].trim();1===d&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&l.push(v);const D=sm(f[_++]);l.length>c.length&&c.push(D)}return{type:d,mainBinding:p,cases:l,values:c}}function sm(a){if(!a)return[];let l=0;const c=[],d=[],p=/[{}]/g;let f;for(p.lastIndex=0;f=p.exec(a);){const v=f.index;if("}"==f[0]){if(c.pop(),0==c.length){const D=a.substring(l,v);Cr.test(D)?d.push(qR(D)):d.push(D),l=v+1}}else{if(0==c.length){const D=a.substring(l,v);d.push(D),l=v+1}c.push("{")}}const _=a.substring(l);return d.push(_),d}function fE(a,l,c,d,p,f,_,v){const D=[],M=[],S=[];l.cases.push(f),l.create.push(D),l.remove.push(M),l.update.push(S);const O=Ae(Sd()).getInertBodyElement(_),U=du(O)||O;return U?mE(a,l,c,d,D,M,S,U,p,v,0):0}function mE(a,l,c,d,p,f,_,v,D,M,S){let I=0,O=v.firstChild;for(;O;){const U=hh(a,c,1,null);switch(O.nodeType){case Node.ELEMENT_NODE:const $=O,ce=$.tagName.toLowerCase();if(nh.hasOwnProperty(ce)){nw(p,vb,ce,D,U),a.data[U]=ce;const lt=$.attributes;for(let Dt=0;Dt<lt.length;Dt++){const kt=lt.item(Dt),gr=kt.name.toLowerCase();kt.value.match(rm)?C0.hasOwnProperty(gr)&&Ru(_,kt.value,U,kt.name,0,Wa[gr]?ni:xt[gr]?Pe:null):iw(p,U,kt)}I=mE(a,l,c,d,p,f,_,O,U,M,S+1)|I,om(f,U,S)}break;case Node.TEXT_NODE:const te=O.textContent||"",Oe=te.match(rm);nw(p,null,Oe?"":te,D,U),om(f,U,S),Oe&&(I=Ru(_,te,U,null,0,null)|I);break;case Node.COMMENT_NODE:const Ce=$B.exec(O.textContent||"");if(Ce){const Dt=M[parseInt(Ce[1],10)];nw(p,Cb,"",D,U),uc(a,c,d,D,Dt,U),am(f,U,S)}}O=O.nextSibling}return I}function om(a,l,c){0===c&&a.push(l)}function am(a,l,c){0===c&&(a.push(~l),a.push(l))}function nw(a,l,c,d,p){null!==l&&a.push(l),a.push(c,p,function(a,l,c){return 0|l<<17|c<<1}(0,d,p))}function iw(a,l,c){a.push(l<<1|1,c.name,c.value)}function yE(a,l,c=-1){const d=Xt(),p=Se(),f=20+a,_=Po(d.consts,l),v=Ha();d.firstCreatePass&&function(a,l,c,d,p,f){const _=Ha(),v=[],D=[],M=[[]],S=function(a){return a.replace(dE," ")}(p=function(a,l){if(function(a){return-1===a}(l))return Hh(a);{const c=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return Hh(a.substring(c,d))}}(p,f)).split(VR);for(let I=0;I<S.length;I++){let O=S[I];if(0==(1&I)){const U=sm(O);for(let $=0;$<U.length;$++){let ce=U[$];if(0==(1&$)){const te=ce;""!==te&&HR(a,_,M[0],v,D,c,te)}else{const te=ce;if("object"!=typeof te)throw new Error(`Unable to parse ICU expression in "${p}" message.`);uc(a,c,D,l,te,tw(a,_,M[0],c,v,"",!0).index)}}}else{const U=47===O.charCodeAt(0),ce=(O.charCodeAt(U?1:0),20+Number.parseInt(O.substring(U?2:1)));if(U)M.shift(),ws(Ha(),!1);else{const te=RR(a,M[0],ce);M.unshift([]),ws(te,!0)}}}a.data[d]={create:v,update:D}}(d,null===v?0:v.index,p,f,_,c);const D=d.data[f],S=D_(d,v===p[6]?null:v,p);(function(a,l,c,d){const p=a[11];for(let f=0;f<l.length;f++){const _=l[f++],v=l[f],D=(_&Ei.COMMENT)===Ei.COMMENT,M=(_&Ei.APPEND_EAGERLY)===Ei.APPEND_EAGERLY,S=_>>>Ei.SHIFT;let I=a[S];null===I&&(I=a[S]=D?p.createComment(v):O0(p,v)),M&&null!==c&&Yo(p,c,I,d,!1)}})(p,D.create,S,v&&8&v.type?p[v.index]:null),Zg(!0)}function CE(a,l,c){yE(a,l,c),Zg(!1)}function cm(a){return function(a){a&&(Vh|=1<<Math.min(Uh,31)),Uh++}(Or(Se(),Vs(),a)),cm}function Eb(a){!function(a,l,c){if(Uh>0){const d=a.data[c];KC(a,l,Array.isArray(d)?d:d.update,ds()-Uh-1,Vh)}Vh=0,Uh=0}(Xt(),Se(),a+20)}function Sb(a,l,c,d,p){if(a=q(a),Array.isArray(a))for(let f=0;f<a.length;f++)Sb(a[f],l,c,d,p);else{const f=Xt(),_=Se();let v=wu(a)?a:q(a.provide),D=Ta(a);const M=Qn(),S=1048575&M.providerIndexes,I=M.directiveStart,O=M.providerIndexes>>20;if(wu(a)||!a.multi){const U=new qa(D,p,X_),$=As(v,l,p?S:S+O,I);-1===$?(Ga(ma(M,_),f,v),xb(f,a,l.length),l.push(v),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),c.push(U),_.push(U)):(c[$]=U,_[$]=U)}else{const U=As(v,l,S+O,I),$=As(v,l,S,S+O),ce=U>=0&&c[U],te=$>=0&&c[$];if(p&&!te||!p&&!ce){Ga(ma(M,_),f,v);const Oe=function(a,l,c,d,p){const f=new qa(a,c,X_);return f.multi=[],f.index=l,f.componentProviders=0,DE(f,p,d&&!c),f}(p?WR:TE,c.length,p,d,D);!p&&te&&(c[$].providerFactory=Oe),xb(f,a,l.length,0),l.push(v),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),c.push(Oe),_.push(Oe)}else xb(f,a,U>-1?U:$,DE(c[p?$:U],D,!p&&d));!p&&d&&te&&c[$].componentProviders++}}}function xb(a,l,c,d){const p=wu(l);if(p||function(a){return!!a.useClass}(l)){const _=(l.useClass||l).prototype.ngOnDestroy;if(_){const v=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const D=v.indexOf(c);-1===D?v.push(c,[d,_]):v[D+1].push(d,_)}else v.push(c,_)}}}function DE(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function As(a,l,c,d){for(let p=c;p<d;p++)if(l[p]===a)return p;return-1}function TE(a,l,c,d){return Zh(this.multi,[])}function WR(a,l,c,d){const p=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=Xc(c,c[1],this.providerFactory.index,d);f=v.slice(0,_),Zh(p,f);for(let D=_;D<v.length;D++)f.push(v[D])}else f=[],Zh(p,f);return f}function Zh(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Ab(a,l=[]){return c=>{c.providersResolver=(d,p)=>function(a,l,c){const d=Xt();if(d.firstCreatePass){const p=$i(a);Sb(c,d.data,d.blueprint,p,!0),Sb(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class kb{}const SE="ngComponent";class xE{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${j(a)}. Did you add it to @NgModule.entryComponents?`);return l[SE]=a,l}(l)}}class Ou{}function Nu(...a){}function dc(a,l){return new wo(jr(a,l))}Ou.NULL=new xE;const QR=function(){return dc(Qn(),Se())};let wo=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=QR,a})();function kE(a){return a instanceof wo?a.nativeElement:a}class Rb{}let IE=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>ow(),a})();const ow=function(){const a=Se(),c=kr(Qn().index,a);return function(a){return a[11]}(Oo(c)?c:a)};let Nb=(()=>{class a{}return a.\u0275prov=ft({token:a,providedIn:"root",factory:()=>null}),a})();class OE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const aw=new OE("12.2.5");class lw{constructor(){}supports(l){return rl(l)}create(l){return new hc(l)}}const XR=(a,l)=>l;class hc{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||XR}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,p=0,f=null;for(;c||d;){const _=!d||c&&c.currentIndex<FE(d,p,f)?c:d,v=FE(_,p,f),D=_.currentIndex;if(_===d)p--,d=d._nextRemoved;else if(c=c._next,null==_.previousIndex)p++;else{f||(f=[]);const M=v-p,S=D-p;if(M!=S){for(let O=0;O<M;O++){const U=O<f.length?f[O]:f[O]=0,$=U+O;S<=$&&$<M&&(f[O]=U+1)}f[_.previousIndex]=S-M}}v!==D&&l(_,v,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!rl(l))throw new Error(`Error trying to diff '${j(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,f,_,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let v=0;v<this.length;v++)f=l[v],_=this._trackByFn(v,f),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,f,_,v)),Object.is(c.item,f)||this._addIdentityChange(c,f)):(c=this._mismatch(c,f,_,v),d=!0),c=c._next}else p=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[wh()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,v=>{_=this._trackByFn(p,v),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,v,_,p)),Object.is(c.item,v)||this._addIdentityChange(c,v)):(c=this._mismatch(c,v,_,p),d=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,p){let f;return null===l?f=this._itTail:(f=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,f,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,f,p)):l=this._addAfter(new eO(c,d),f,p),l}_verifyReinsertion(l,c,d,p){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==f?l=this._reinsertAfter(f,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,f=l._nextRemoved;return null===p?this._removalsHead=f:p._nextRemoved=f,null===f?this._removalsTail=p:f._prevRemoved=p,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new PE),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class eO{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pu{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class PE{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new Pu,this.map.set(c,d)),d.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FE(a,l,c){const d=a.previousIndex;if(null===d)return d;let p=0;return c&&d<c.length&&(p=c[d]),d+l+p}class LE{constructor(){}supports(l){return l instanceof Map||hC(l)}create(){return new tO}}class tO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||hC(l)))throw new Error(`Error trying to diff '${j(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const f=this._getOrCreateRecordForKey(p,d);c=this._insertBeforeOrAppend(c,f)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const f=p._prev,_=p._next;return f&&(f._next=_),_&&(_._prev=f),p._next=null,p._prev=null,p}const d=new hm(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class hm{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qh(){return new pm([new lw])}let pm=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||qh()),deps:[[a,new _a,new ga]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:qh}),a})();function VE(){return new Pb([new LE])}let Pb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||VE()),deps:[[a,new _a,new ga]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:VE}),a})();function Yh(a,l,c,d,p=!1){for(;null!==c;){const f=l[c.index];if(null!==f&&d.push(Ln(f)),Gr(f))for(let v=10;v<f.length;v++){const D=f[v],M=D[1].firstChild;null!==M&&Yh(D[1],D,M,d)}const _=c.type;if(8&_)Yh(a,l,c.child,d);else if(32&_){const v=rh(c,l);let D;for(;D=v();)d.push(D)}else if(16&_){const v=Lf(l,c);if(Array.isArray(v))d.push(...v);else{const D=sh(l[16]);Yh(D[1],D,v,d,!0)}}c=p?c.projectionNext:c.next}return d}class Jr{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Yh(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Gr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(N0(l,d),ql(c,d))}this._attachedToViewContainer=!1}dT(this._lView[1],this._lView)}onDestroy(l){B_(this._lView[1],this._lView,null,l)}markForCheck(){Xl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){U_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){Ll(!0);try{U_(a,l,c)}finally{Ll(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,fn(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class UE extends Jr{constructor(l){super(l),this._view=l}detectChanges(){qT(this._view)}checkNoChanges(){!function(a){Ll(!0);try{qT(a)}finally{Ll(!1)}}(this._view)}get context(){return null}}const Fb=function(a){return function(a,l,c){if(ha(a)&&!c){const d=kr(a.index,l);return new Jr(d,d)}return 47&a.type?new Jr(l[16],l):null}(Qn(),Se(),16==(16&a))};let nO=(()=>{class a{}return a.__NG_ELEMENT_ID__=Fb,a})();const sO=[new LE],ZE=new pm([new lw]),qE=new Pb(sO),Bb=function(){return Vb(Qn(),Se())};let Gh=(()=>{class a{}return a.__NG_ELEMENT_ID__=Bb,a})();const aO=Gh,lO=class extends aO{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=dh(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(d[19]=f.createEmbeddedView(c)),Kl(c,d,l),new Jr(d)}};function Vb(a,l){return 4&a.type?new lO(l,a,dc(a,l)):null}class Fu{}class Ub{}const Hb=function(){return GE(Qn(),Se())};let Zb=(()=>{class a{}return a.__NG_ELEMENT_ID__=Hb,a})();const qb=Zb,YE=class extends qb{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const l=Mt(this._hostTNode,this._hostLView);if(Vd(l)){const c=Ya(l,this._hostLView),d=Bo(l);return new Rr(c[1].data[d+8],c)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=jh(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const p=l.createEmbeddedView(c||{});return this.insert(p,d),p}createComponent(l,c,d,p,f){const _=d||this.parentInjector;if(!f&&null==l.ngModule&&_){const D=_.get(Fu,null);D&&(f=D)}const v=l.create(_,p,void 0,f);return this.insert(v.hostView,c),v}insert(l,c){const d=l._lView,p=d[1];if(Gr(d[3])){const S=this.indexOf(l);if(-1!==S)this.detach(S);else{const I=d[3],O=new YE(I,I[6],I[3]);O.detach(O.indexOf(l))}}const f=this._adjustIndex(c),_=this._lContainer;!function(a,l,c,d){const p=10+d,f=c.length;d>0&&(c[p-1][4]=l),d<f-10?(l[4]=c[p],zd(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const _=l[17];null!==_&&c!==_&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(_,l);const v=l[19];null!==v&&v.insertView(a),l[2]|=128}(p,d,_,f);const v=F0(f,_),D=d[11],M=oh(D,_[7]);return null!==M&&function(a,l,c,d,p,f){d[0]=p,d[6]=l,fn(a,d,c,1,p,f)}(p,_[6],D,d,M,v),l.attachToViewContainerRef(),zd(uw(_),f,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=jh(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=N0(this._lContainer,c);d&&(ql(uw(this._lContainer),c),dT(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=N0(this._lContainer,c);return d&&null!=ql(uw(this._lContainer),c)?new Jr(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function jh(a){return a[8]}function uw(a){return a[8]||(a[8]=[])}function GE(a,l){let c;const d=l[a.index];if(Gr(d))c=d;else{let p;if(8&a.type)p=Ln(d);else{const f=l[11];p=f.createComment("");const _=jr(a,l);Yo(f,oh(f,_),p,function(a,l){return Zn(a)?a.nextSibling(l):l.nextSibling}(f,_),!1)}l[a.index]=c=BT(d,l,p,a),mh(l,c)}return new YE(c,a,l)}const Xi={};class Mw extends Ou{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=It(l);return new qu(c,this.ngModule)}}function Ew(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const HO=new ui("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Of});class qu extends kb{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(M_).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Ew(this.componentDef.inputs)}get outputs(){return Ew(this.componentDef.outputs)}create(l,c,d,p){const f=(p=p||this.ngModule)?function(a,l){return{get:(c,d,p)=>{const f=a.get(c,Xi,p);return f!==Xi||d===Xi?f:l.get(c,d,p)}}}(l,p.injector):l,_=f.get(Rb,pa),v=f.get(Nb,null),D=_.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",S=d?function(a,l,c){if(Zn(a))return a.selectRootElement(l,c===He.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(D,d,this.componentDef.encapsulation):$l(_.createRenderer(null,this.componentDef),M,function(a){const l=a.toLowerCase();return"svg"===l?Nl:"math"===l?"http://www.w3.org/1998/MathML/":null}(M)),I=this.componentDef.onPush?576:528,O=function(a,l){return{components:[],scheduler:a||Of,clean:gh,playerHandler:l||null,flags:0}}(),U=W0(0,null,null,1,0,null,null,null,null,null),$=dh(null,U,O,I,null,null,_,D,v,f);let ce,te;Fo($);try{const Oe=function(a,l,c,d,p,f){const _=c[1];c[20]=a;const D=_u(_,20,2,"#host",null),M=D.mergedAttrs=l.hostAttrs;null!==M&&(fo(D,M,!0),null!==a&&(gf(p,a,M),null!==D.classes&&L0(p,a,D.classes),null!==D.styles&&yT(p,a,D.styles)));const S=d.createRenderer(a,l),I=dh(c,$0(l),null,l.onPush?64:16,c[20],D,d,S,f||null,null);return _.firstCreatePass&&(Ga(ma(D,c),_,l.type),fh(_,D),RI(D,c.length,1)),mh(c,I),c[20]=I}(S,this.componentDef,$,_,D);if(S)if(d)gf(D,S,["ng-version",aw.full]);else{const{attrs:Ce,classes:lt}=function(a){const l=[],c=[];let d=1,p=2;for(;d<a.length;){let f=a[d];if("string"==typeof f)2===p?""!==f&&l.push(f,a[++d]):8===p&&c.push(f);else{if(!Wr(p))break;p=f}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ce&&gf(D,S,Ce),lt&&lt.length>0&&L0(D,S,lt.join(" "))}if(te=Yc(U,20),void 0!==c){const Ce=te.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Dt=c[lt];Ce.push(null!=Dt?Array.from(Dt):null)}}ce=function(a,l,c,d,p){const f=c[1],_=function(a,l,c){const d=Qn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),V_(a,d,l,hh(a,l,1,null),c));const p=Xc(l,a,d.directiveStart,d);Kn(p,l);const f=jr(d,l);return f&&Kn(f,l),p}(f,c,l);if(d.components.push(_),a[8]=_,p&&p.forEach(D=>D(_,l)),l.contentQueries){const D=Qn();l.contentQueries(1,_,D.directiveStart)}const v=Qn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Vl(v.index),kI(c[1],v,0,v.directiveStart,v.directiveEnd,l),po(l,_)),_}(Oe,this.componentDef,$,O,[nM]),Kl(U,$,null)}finally{Jc()}return new dS(this.componentType,ce,dc(te,$),$,te)}}class dS extends class{}{constructor(l,c,d,p,f){super(),this.location=d,this._rootLView=p,this._tNode=f,this.instance=c,this.hostView=this.changeDetectorRef=new UE(p),this.componentType=l}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Yu=new Map;class YO extends Fu{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mw(this);const d=Wn(l),p=l[mt]||null;p&&JC(p),this._bootstrapComponents=qo(d.bootstrap),this._r3Injector=bh(l,c,[{provide:Fu,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],j(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Rn.THROW_IF_NOT_FOUND,d=rt.Default){return l===Rn||l===Fu||l===ec?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Cm extends Ub{constructor(l){super(),this.moduleType=l,null!==Wn(l)&&function(a){const l=new Set;!function c(d){const p=Wn(d,!0),f=p.id;null!==f&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${j(l)} vs ${j(l.name)}`)}(f,Yu.get(f),d),Yu.set(f,d));const _=qo(p.imports);for(const v of _)l.has(v)||(l.add(v),c(v))}(a)}(l)}create(l){return new YO(this.moduleType,l)}}function kw(a,l,c){const d=Wi()+a,p=Se();return p[d]===Ot?go(p,d,c?l.call(c):l()):function(a,l){return a[l]}(p,d)}function fS(a,l,c,d){return ty(Se(),Wi(),a,l,c,d)}function mS(a,l,c,d,p){return ny(Se(),Wi(),a,l,c,d,p)}function Pr(a,l,c,d,p,f){return function(a,l,c,d,p,f,_,v){const D=l+c;return function(a,l,c,d,p){const f=ic(a,l,c,d);return Or(a,l+2,p)||f}(a,D,p,f,_)?go(a,D+3,v?d.call(v,p,f,_):d(p,f,_)):gc(a,D+3)}(Se(),Wi(),a,l,c,d,p,f)}function gc(a,l){const c=a[l];return c===Ot?void 0:c}function ty(a,l,c,d,p,f){const _=l+c;return Or(a,_,p)?go(a,_+1,f?d.call(f,p):d(p)):gc(a,_+1)}function ny(a,l,c,d,p,f,_){const v=l+c;return ic(a,v,p,f)?go(a,v+2,_?d.call(_,p,f):d(p,f)):gc(a,v+2)}function Rw(a,l){const c=Xt();let d;const p=a+20;c.firstCreatePass?(d=function(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}throw new De("302",`The pipe '${a}' could not be found!`)}(l,c.pipeRegistry),c.data[p]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,d.onDestroy)):d=c.data[p];const f=d.factory||(d.factory=Ba(d.type)),_=Fi(X_);try{const v=Ud(!1),D=f();return Ud(v),function(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Se(),p,D),D}finally{Fi(_)}}function Ow(a,l,c){const d=a+20,p=Se(),f=Ua(p,d);return ju(p,Gu(p,d)?ty(p,Wi(),l,f.transform,c,f):f.transform(c))}function Nw(a,l,c,d){const p=a+20,f=Se(),_=Ua(f,p);return ju(f,Gu(f,p)?ny(f,Wi(),l,_.transform,c,d,_):_.transform(c,d))}function Gu(a,l){return a[1].data[l].pure}function ju(a,l){return mo.isWrapped(l)&&(l=mo.unwrap(l),a[ds()]=Ot),l}function er(a){return l=>{setTimeout(a,void 0,l)}}const Yn=class extends r.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var p,f,_;let v=l,D=c||(()=>null),M=d;if(l&&"object"==typeof l){const I=l;v=null===(p=I.next)||void 0===p?void 0:p.bind(I),D=null===(f=I.error)||void 0===f?void 0:f.bind(I),M=null===(_=I.complete)||void 0===_?void 0:_.bind(I)}this.__isAsync&&(D=er(D),v&&(v=er(v)),M&&(M=er(M)));const S=super.subscribe({next:v,error:D,complete:M});return l instanceof B.w&&l.add(S),S}};function sy(){return this._results[wh()]()}class zu{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=wh(),d=zu.prototype;d[c]||(d[c]=sy)}get changes(){return this._changes||(this._changes=new Yn)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const p=Hs(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],f=l[d];if(c&&(p=c(p),f=c(f)),f!==p)return!1}return!0}(d._results,p,c))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Lw{constructor(l){this.queryList=l,this.matches=null}clone(){return new Lw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let f=0;f<d;f++){const _=c.getByIndex(f);p.push(this.queries[_.indexInDeclarationView].clone())}return new Bw(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==vS(l,c).matches&&this.queries[c].setDirty()}}class oy{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Tm{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const p=null!==c?c.length:0,f=this.getByIndex(d).embeddedTView(l,p);f&&(f.indexInDeclarationView=d,null!==c?c.push(f):c=[f])}return null!==c?new Tm(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Vw{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Vw(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const f=d[p];this.matchTNodeWithReadOption(l,c,Uw(c,f)),this.matchTNodeWithReadOption(l,c,Yd(c,l,f,!1,!1))}else d===Gh?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Yd(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===wo||p===Zb||p===Gh&&4&c.type)this.addMatch(c.index,-2);else{const f=Yd(c,l,p,!1,!1);null!==f&&this.addMatch(c.index,f)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Uw(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function XO(a,l,c,d){return-1===c?function(a,l){return 11&a.type?dc(a,l):4&a.type?Vb(a,l):null}(l,a):-2===c?function(a,l,c){return c===wo?dc(l,a):c===Gh?Vb(l,a):c===Zb?GE(l,a):void 0}(a,l,d):Xc(a,a[1],c,l)}function ly(a,l,c,d){const p=l[19].queries[d];if(null===p.matches){const f=a.data,_=c.matches,v=[];for(let D=0;D<_.length;D+=2){const M=_[D];v.push(M<0?null:XO(l,f[M],_[D+1],c.metadata.read))}p.matches=v}return p.matches}function Mm(a,l,c,d){const p=a.queries.getByIndex(c),f=p.matches;if(null!==f){const _=ly(a,l,p,c);for(let v=0;v<f.length;v+=2){const D=f[v];if(D>0)d.push(_[v/2]);else{const M=f[v+1],S=l[-D];for(let I=10;I<S.length;I++){const O=S[I];O[17]===O[3]&&Mm(O[1],O,M,d)}if(null!==S[9]){const I=S[9];for(let O=0;O<I.length;O++){const U=I[O];Mm(U[1],U,M,d)}}}}}return d}function Hw(a){const l=Se(),c=Xt(),d=qg();Bl(d+1);const p=vS(c,d);if(a.dirty&&Uv(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const f=p.crossesNgTemplate?Mm(c,l,d,[]):ly(c,l,p,d);a.reset(f,kE),a.notifyOnChanges()}return!0}return!1}function bS(a,l,c){const d=Xt();d.firstCreatePass&&(Em(d,new oy(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),qw(d,Se(),l)}function Xh(a,l,c,d){const p=Xt();if(p.firstCreatePass){const f=Qn();Em(p,new oy(l,c,d),f.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}qw(p,Se(),c)}function Zw(){return a=Se(),l=qg(),a[19].queries[l].queryList;var a,l}function qw(a,l,c){const d=new zu(4==(4&c));B_(a,l,d,d.destroy),null===l[19]&&(l[19]=new Bw),l[19].queries.push(new Lw(d))}function Em(a,l,c){null===a.queries&&(a.queries=new Tm),a.queries.track(new Vw(l,c))}function vS(a,l){return a.queries.getByIndex(l)}function $u(a,l){return Vb(a,l)}const RS=Kg("Input",a=>({bindingPropertyName:a})),rN=Kg("HostBinding",a=>({hostPropertyName:a})),yc=Kg("HostListener",(a,l)=>({eventName:a,args:l})),e1=new ui("Application Initializer");let sp=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Nu,this.reject=Nu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const f=this.appInits[p]();if(xC(f))c.push(f);else if(AC(f)){const _=new Promise((v,D)=>{f.subscribe({complete:v,error:D})});c.push(_)}}Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(di(e1,8))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();const Nm=new ui("AppId"),_y={provide:Nm,useFactory:function(){return`${Fm()}${Fm()}${Fm()}`},deps:[]};function Fm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const t1=new ui("Platform Initializer"),op=new ui("Platform ID"),ap=new ui("appBootstrapListener");let qi=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();const Lm=new ui("LocaleId"),ZS=new ui("DefaultCurrencyCode");class by{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}const yy=function(a){return new Cm(a)},dN=yy,GS=function(a){return Promise.resolve(yy(a))},Vm=function(a){const l=yy(a),d=qo(Wn(a).declarations).reduce((p,f)=>{const _=It(f);return _&&p.push(new qu(_)),p},[]);return new by(l,d)},zS=Vm,hN=function(a){return Promise.resolve(Vm(a))};let lp=(()=>{class a{constructor(){this.compileModuleSync=dN,this.compileModuleAsync=GS,this.compileModuleAndAllComponentsSync=zS,this.compileModuleAndAllComponentsAsync=hN}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();const JS=(()=>Promise.resolve(0))();function Hm(a){"undefined"==typeof Zone?JS.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ks{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yn(!1),this.onMicrotaskEmpty=new Yn(!1),this.onStable=new Yn(!1),this.onError=new Yn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&c,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let a=vn.requestAnimationFrame,l=vn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(vn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Dy(a),a.isCheckStableRunning=!0,wy(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Dy(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,p,f,_,v)=>{try{return s1(a),c.invokeTask(p,f,_,v)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||a.shouldCoalesceRunChangeDetection)&&l(),o1(a)}},onInvoke:(c,d,p,f,_,v,D)=>{try{return s1(a),c.invoke(p,f,_,v,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),o1(a)}},onHasTask:(c,d,p,f)=>{c.hasTask(p,f),d===p&&("microTask"==f.change?(a._hasPendingMicrotasks=f.microTask,Dy(a),wy(a)):"macroTask"==f.change&&(a.hasPendingMacrotasks=f.macroTask))},onHandleError:(c,d,p,f)=>(c.handleError(p,f),a.runOutsideAngular(()=>a.onError.emit(f)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,p){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+p,l,Cy,Nu,Nu);try{return f.runTask(_,c,d)}finally{f.cancelTask(_)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const Cy={};function wy(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Dy(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function s1(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function o1(a){a._nesting--,wy(a)}class KS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yn,this.onMicrotaskEmpty=new Yn,this.onStable=new Yn,this.onError=new Yn}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,p){return l.apply(c,d)}}let Zm=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),Hm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hm(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let f=-1;d&&d>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:f,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(di(ks))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})(),Is=(()=>{class a{constructor(){this._applications=new Map,Cc.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Cc.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();class XS{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function ex(a){Cc=a}let Cc=new XS,tx=!0,nx=!1;function qm(){return nx=!0,tx}function pN(){if(nx)throw new Error("Cannot enable prod mode after platform setup.");tx=!1}let Jo;const sx=new ui("AllowMultipleToken");class Le{constructor(l,c){this.name=l,this.token=c}}function up(a,l,c=[]){const d=`Platform: ${l}`,p=new ui(d);return(f=[])=>{let _=Tt();if(!_||_.injector.get(sx,!1))if(a)a(c.concat(f).concat({provide:p,useValue:!0}));else{const v=c.concat(f).concat({provide:p,useValue:!0},{provide:Cu,useValue:"platform"});!function(a){if(Jo&&!Jo.destroyed&&!Jo.injector.get(sx,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jo=a.get(ox);const l=a.get(t1,null);l&&l.forEach(c=>c())}(Rn.create({providers:v,name:d}))}return function(a){const l=Tt();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(p)}}function Tt(){return Jo&&!Jo.destroyed?Jo:null}let ox=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const v=function(a,l){let c;return c="noop"===a?new KS:("zone.js"===a?void 0:a)||new ks({enableLongStackTrace:qm(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:ks,useValue:v}];return v.run(()=>{const M=Rn.create({providers:D,parent:this.injector,name:c.moduleType.name}),S=c.create(M),I=S.injector.get(ih,null);if(!I)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const O=v.onError.subscribe({next:U=>{I.handleError(U)}});S.onDestroy(()=>{My(this._modules,S),O.unsubscribe()})}),function(a,l,c){try{const d=c();return xC(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(I,v,()=>{const O=S.injector.get(sp);return O.runInitializers(),O.donePromise.then(()=>(JC(S.injector.get(Lm,yb)||yb),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,d=[]){const p=ke({},d);return function(a,l,c){const d=new Cm(c);return Promise.resolve(d)}(0,0,c).then(f=>this.bootstrapModuleFactory(f,p))}_moduleDoBootstrap(c){const d=c.injector.get(Si);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${j(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(di(Rn))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();function ke(a,l){return Array.isArray(l)?l.reduce(ke,a):Object.assign(Object.assign({},a),l)}let Si=(()=>{class a{constructor(c,d,p,f,_){this._zone=c,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new L.y(M=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),Hm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{S.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ue.T)(v,D.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=c instanceof kb?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(p.componentType);const f=function(a){return a.isBoundToModule}(p)?void 0:this._injector.get(Fu),v=p.create(Rn.NULL,[],d||p.selector,f),D=v.location.nativeElement,M=v.injector.get(Zm,null),S=M&&v.injector.get(Is);return M&&S&&S.registerApplication(D,M),v.onDestroy(()=>{this.detachView(v.hostView),My(this.components,v),S&&S.unregisterApplication(D)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;My(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ap,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(di(ks),di(Rn),di(ih),di(Ou),di(sp))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();function My(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}class mN{}class bN{}const cx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ln=(()=>{class a{constructor(c,d){this._compiler=c,this._config=d||cx}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,p]=c.split("#");return void 0===p&&(p="default"),N(8255)(d).then(f=>f[p]).then(f=>ed(f,d,p)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(c){let[d,p]=c.split("#"),f="NgFactory";return void 0===p&&(p="default",f=""),N(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(_=>_[p+f]).then(_=>ed(_,d,p))}}return a.\u0275fac=function(c){return new(c||a)(di(lp),di(bN,8))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();function ed(a,l,c){if(!a)throw new Error(`Cannot find '${c}' in '${l}'`);return a}const ka=function(a){return null},d1=up(null,"core",[{provide:op,useValue:"unknown"},{provide:ox,deps:[Rn]},{provide:Is,deps:[]},{provide:qi,deps:[]}]),es=[{provide:Si,useClass:Si,deps:[ks,Rn,ih,Ou,sp]},{provide:HO,deps:[ks],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:sp,useClass:sp,deps:[[new ga,e1]]},{provide:lp,useClass:lp,deps:[]},_y,{provide:pm,useFactory:function(){return ZE},deps:[]},{provide:Pb,useFactory:function(){return qE},deps:[]},{provide:Lm,useFactory:function(a){return JC(a=a||"undefined"!=typeof $localize&&$localize.locale||yb),a},deps:[[new $a(Lm),new ga,new _a]]},{provide:ZS,useValue:"USD"}];let ai=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(di(Si))},a.\u0275mod=z({type:a}),a.\u0275inj=Fn({providers:es}),a})()},8939:(Je,be,N)=>{"use strict";N.d(be,{hO:()=>ae,xv:()=>J,Dh:()=>j,GT:()=>K,on:()=>F,pX:()=>se});var r=N(7716),B=N(7841),L=N(9126);Je=N.hmd(Je);const ue=["ngOnDestroy"],se=(_e,De,de,Ie={})=>new Proxy(_e,{get:(we,Be)=>de.runOutsideAngular(()=>{var ct;if(_e[Be])return(null===(ct=null==Ie?void 0:Ie.spy)||void 0===ct?void 0:ct.get)&&Ie.spy.get(Be,_e[Be]),_e[Be];if(ue.indexOf(Be)>-1)return()=>{};const Pt=De.toPromise().then(zt=>{const en=zt&&zt[Be];return"function"==typeof en?en.bind(zt):en&&en.then?en.then(Kt=>de.run(()=>Kt)):de.run(()=>en)});return new Proxy(()=>{},{get:(zt,en)=>Pt[en],apply:(zt,en,Kt)=>Pt.then(Te=>{var rn;const re=Te&&Te(...Kt);return(null===(rn=null==Ie?void 0:Ie.spy)||void 0===rn?void 0:rn.apply)&&Ie.spy.apply(Be,Kt,re),re})})})}),K=(_e,De)=>{De.forEach(de=>{Object.getOwnPropertyNames(de.prototype||de).forEach(Ie=>{Object.defineProperty(_e.prototype,Ie,Object.getOwnPropertyDescriptor(de.prototype||de,Ie))})})};class Z{constructor(De){return De}}const j=new r.OlP("angularfire2.app.options"),J=new r.OlP("angularfire2.app.name");function F(_e,De,de){const we="object"==typeof de&&de||{};we.name=we.name||"string"==typeof de&&de||"[DEFAULT]";const ct=B.Z.apps.filter(Pt=>Pt&&Pt.name===we.name)[0]||De.runOutsideAngular(()=>B.Z.initializeApp(_e,we));try{JSON.stringify(_e)!==JSON.stringify(ct.options)&&V("error",`${ct.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Pt){}return new Z(ct)}const V=(_e,...De)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[_e](...De)},q={provide:Z,useFactory:F,deps:[j,r.R0b,[new r.FiY,J]]};let ae=(()=>{class _e{constructor(de){B.Z.registerVersion("angularfire",L.q4.full,"core"),B.Z.registerVersion("angularfire",L.q4.full,"app-compat"),B.Z.registerVersion("angular",r.q4F.full,de.toString())}static initializeApp(de,Ie){return{ngModule:_e,providers:[{provide:j,useValue:de},{provide:J,useValue:Ie}]}}}return _e.\u0275fac=function(de){return new(de||_e)(r.LFG(r.Lbi))},_e.\u0275mod=r.oAB({type:_e}),_e.\u0275inj=r.cJS({providers:[q]}),_e})()},9126:(Je,be,N)=>{"use strict";N.d(be,{q4:()=>F,iC:()=>re,fc:()=>Te,HU:()=>Pt,cc:()=>ae});var r=N(7716);(0,N(8026).registerVersion)("firebase","9.6.5","app");var se=N(7771),K=N(3637),Z=N(8307),j=N(9746),J=N(9673);Je=N.hmd(Je);const F=new r.GfV("7.0.4"),V=!!Je.hot,q=(pe,...ee)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[pe](...ee)};function ae(pe,ee,Ve,it,Ft){const[,ht,nt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===pe)||[];if(ht)return function(pe,ee){try{return pe.toString()===ee.toString()}catch(Ve){return pe===ee}}(Ft,nt)||(q("error",`${ee} was already initialized on the ${Ve} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Ft,was:nt})),ht;{const vt=it();return globalThis.\u0275AngularfireInstanceCache.push([pe,vt,Ft]),vt}}function we(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Be{constructor(ee,Ve=se.N){this.zone=ee,this.delegate=Ve}now(){return this.delegate.now()}schedule(ee,Ve,it){const Ft=this.zone;return this.delegate.schedule(function(nt){Ft.runGuarded(()=>{ee.apply(this,[nt])})},Ve,it)}}class ct{constructor(ee){this.zone=ee,this.task=null}call(ee,Ve){const it=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)),Ve.pipe((0,Z.b)({next:it,complete:it,error:it})).subscribe(ee).add(it)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pt=(()=>{class pe{constructor(Ve){this.ngZone=Ve,this.outsideAngular=Ve.runOutsideAngular(()=>new Be(Zone.current)),this.insideAngular=Ve.run(()=>new Be(Zone.current,K.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(Ve){return new(Ve||pe)(r.LFG(r.R0b))},pe.\u0275prov=r.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function zt(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("AngularFireModule has not been provided");return pe}function Te(pe){return pe.pipe((0,j.QV)(zt().outsideAngular))}function re(pe){return zt(),function(pe){return function(Ve){return(Ve=Ve.lift(new ct(pe.ngZone))).pipe((0,J.R)(pe.outsideAngular),(0,j.QV)(pe.insideAngular))}}(zt())(pe)}},9511:(Je,be,N)=>{"use strict";N.d(be,{$:()=>Hv,A:()=>V,E:()=>ji,G:()=>wt,I:()=>ao,K:()=>Vi,L:()=>Qp,M:()=>Lg,N:()=>Bg,P:()=>Ki,Q:()=>Ba,R:()=>PD,T:()=>Md,U:()=>Ed,V:()=>Bv,W:()=>SD,X:()=>Va,Y:()=>xd,Z:()=>Ua,_:()=>kd,a:()=>Xv,a0:()=>Zv,a1:()=>qv,a2:()=>Pl,a3:()=>Xt,a4:()=>Qn,a5:()=>Ha,a6:()=>ws,a7:()=>Id,a8:()=>xD,a9:()=>Wi,aA:()=>d0,aB:()=>VD,aC:()=>Mn,aG:()=>zr,aJ:()=>$t,aa:()=>Yv,ab:()=>Us,ae:()=>Gv,af:()=>uf,ag:()=>qg,aj:()=>Vv,ak:()=>$v,am:()=>Pd,an:()=>fa,ao:()=>$n,ap:()=>re,aq:()=>hn,ar:()=>St,as:()=>ct,at:()=>h_,au:()=>ou,av:()=>Pt,aw:()=>Te,ax:()=>he,ay:()=>Yt,az:()=>di,b:()=>Kv,c:()=>ja,d:()=>Ok,e:()=>BD,f:()=>$d,g:()=>ru,h:()=>Pk,i:()=>Ji,j:()=>HD,k:()=>Bn,l:()=>Ik,m:()=>fs,o:()=>j,r:()=>FD,s:()=>kk,u:()=>Gd,z:()=>_e});var r=N(8239),B=N(3854),L=N(8026),ue=N(4762),se=N(5422),K=N(3910);const j={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _e=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new se.Yd("@firebase/auth");function Be(w,...g){we.logLevel<=se.in.ERROR&&we.error(`Auth (${L.SDK_VERSION}): ${w}`,...g)}function ct(w,...g){throw Kt(w,...g)}function Pt(w,...g){return Kt(w,...g)}function zt(w,g,y){const T=Object.assign(Object.assign({},De()),{[g]:y});return new B.LL("auth","Firebase",T).create(g,{appName:w.name})}function en(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&ct(w,"argument-error"),zt(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kt(w,...g){if("string"!=typeof w){const y=g[0],T=[...g.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(y,...T)}return de.create(w,...g)}function Te(w,g,...y){if(!w)throw Kt(g,...y)}function rn(w){const g="INTERNAL ASSERTION FAILED: "+w;throw Be(g),new Error(g)}function re(w,g){w||rn(g)}const ge=new Map;function he(w){re(w instanceof Function,"Expected a class definition");let g=ge.get(w);return g?(re(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,ge.set(w,g),g)}function ee(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ve(){return"http:"===it()||"https:"===it()}function it(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class nt{constructor(g,y){this.shortDelay=g,this.longDelay=y,re(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vt(w,g){re(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class jn{static initialize(g,y,T){this.fetchImpl=g,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ls={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zr=new nt(3e4,6e4);function ft(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Pn(w,g,y,T){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,r.Z)(function*(w,g,y,T,A={}){return dr(w,A,(0,r.Z)(function*(){let R={},ie={};T&&("GET"===g?ie=T:R={body:JSON.stringify(T)});const Ae=(0,B.xO)(Object.assign({key:w.config.apiKey},ie)).slice(1),Xe=yield w._getAdditionalHeaders();return Xe["Content-Type"]="application/json",w.languageCode&&(Xe["X-Firebase-Locale"]=w.languageCode),jn.fetch()(so(w,w.config.apiHost,y,Ae),Object.assign({method:g,headers:Xe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function dr(w,g,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(w,g,y){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ls),g);try{const A=new vs(w),R=yield Promise.race([y(),A.promise]);A.clearNetworkTimeout();const ie=yield R.json();if("needConfirmation"in ie)throw Yr(w,"account-exists-with-different-credential",ie);if(R.ok&&!("errorMessage"in ie))return ie;{const Ae=R.ok?ie.errorMessage:ie.error.message,[Xe,bt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Yr(w,"credential-already-in-use",ie);if("EMAIL_EXISTS"===Xe)throw Yr(w,"email-already-in-use",ie);const Jt=T[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw zt(w,Jt,bt);ct(w,Jt)}}catch(A){if(A instanceof B.ZR)throw A;ct(w,"network-request-failed")}})).apply(this,arguments)}function xr(w,g,y,T){return aa.apply(this,arguments)}function aa(){return(aa=(0,r.Z)(function*(w,g,y,T,A={}){const R=yield Pn(w,g,y,T,A);return"mfaPendingCredential"in R&&ct(w,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function so(w,g,y,T){const A=`${g}${y}?${T}`;return w.config.emulator?vt(w.config,A):`${w.config.apiScheme}://${A}`}class vs{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Pt(this.auth,"network-request-failed")),Zr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yr(w,g,y){const T={appName:w.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const A=Pt(w,g,T);return A.customData._tokenResponse=y,A}function Bs(){return(Bs=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rt(w,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zn(w,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function pt(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ht(){return(Ht=(0,r.Z)(function*(w,g=!1){const y=(0,B.m9)(w),T=yield y.getIdToken(g),A=dn(T);Te(A&&A.exp&&A.auth_time&&A.iat,y.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,ie=null==R?void 0:R.sign_in_provider;return{claims:A,token:T,authTime:pt(hr(A.auth_time)),issuedAtTime:pt(hr(A.iat)),expirationTime:pt(hr(A.exp)),signInProvider:ie||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function hr(w){return 1e3*Number(w)}function dn(w){const[g,y,T]=w.split(".");if(void 0===g||void 0===y||void 0===T)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(y);return A?JSON.parse(A):(Be("Failed to decode base64 JWT payload"),null)}catch(A){return Be("Caught error parsing JWT payload as JSON",A),null}}function $e(w,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,r.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(T){throw T instanceof B.ZR&&la(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}function la({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Cs{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const A=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(g);this.timerId=setTimeout((0,r.Z)(function*(){yield y.iteration()}),T)}iteration(){var g=this;return(0,r.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class vn{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=pt(this.lastLoginAt),this.creationTime=pt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Li(w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,r.Z)(function*(w){var g;const y=w.auth,T=yield w.getIdToken(),A=yield $e(w,zn(y,{idToken:T}));Te(null==A?void 0:A.users.length,y,"internal-error");const R=A.users[0];w._notifyReloadListener(R);const ie=(null===(g=R.providerUserInfo)||void 0===g?void 0:g.length)?ye(R.providerUserInfo):[],Ae=Q(w.providerData,ie),Jt=!!w.isAnonymous&&!(w.email&&R.passwordHash||(null==Ae?void 0:Ae.length)),on={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Ae,metadata:new vn(R.createdAt,R.lastLoginAt),isAnonymous:Jt};Object.assign(w,on)})).apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(w){const g=(0,B.m9)(w);yield Li(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Q(w,g){return[...w.filter(T=>!g.some(A=>A.providerId===T.providerId)),...g]}function ye(w){return w.map(g=>{var{providerId:y}=g,T=(0,ue._T)(g,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Qe(){return(Qe=(0,r.Z)(function*(w,g){const y=yield dr(w,{},(0,r.Z)(function*(){const T=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:R}=w.config,ie=so(w,A,"/v1/token",`key=${R}`),Ae=yield w._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",jn.fetch()(ie,{method:"POST",headers:Ae,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Te(g.idToken,"internal-error"),Te(void 0!==g.idToken,"internal-error"),Te(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(w){const g=dn(w);return Te(g,"internal-error"),Te(void 0!==g.exp,"internal-error"),Te(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var T=this;return(0,r.Z)(function*(){return Te(!T.accessToken||T.refreshToken,g,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(g,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var T=this;return(0,r.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:ie}=yield function(w,g){return Qe.apply(this,arguments)}(g,y);T.updateTokensAndExpiration(A,R,Number(ie))})()}updateTokensAndExpiration(g,y,T){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(g,y){const{refreshToken:T,accessToken:A,expirationTime:R}=y,ie=new mt;return T&&(Te("string"==typeof T,"internal-error",{appName:g}),ie.refreshToken=T),A&&(Te("string"==typeof A,"internal-error",{appName:g}),ie.accessToken=A),R&&(Te("number"==typeof R,"internal-error",{appName:g}),ie.expirationTime=R),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new mt,this.toJSON())}_performRefresh(){return rn("not implemented")}}function Zt(w,g){Te("string"==typeof w||void 0===w,"internal-error",{appName:g})}class Tn{constructor(g){var{uid:y,auth:T,stsTokenManager:A}=g,R=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new vn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,r.Z)(function*(){const T=yield $e(y,y.stsTokenManager.getToken(y.auth,g));return Te(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(g){return function(w){return Ht.apply(this,arguments)}(this,g)}reload(){return function(w){return H.apply(this,arguments)}(this)}_assign(g){this!==g&&(Te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Tn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var T=this;return(0,r.Z)(function*(){let A=!1;g.idToken&&g.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(g),A=!0),y&&(yield Li(T)),yield T.auth._persistUserIfCurrent(T),A&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var g=this;return(0,r.Z)(function*(){const y=yield g.getIdToken();return yield $e(g,function(w,g){return Bs.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var T,A,R,ie,Ae,Xe,bt,Jt;const on=null!==(T=y.displayName)&&void 0!==T?T:void 0,Uo=null!==(A=y.email)&&void 0!==A?A:void 0,ya=null!==(R=y.phoneNumber)&&void 0!==R?R:void 0,ni=null!==(ie=y.photoURL)&&void 0!==ie?ie:void 0,Pe=null!==(Ae=y.tenantId)&&void 0!==Ae?Ae:void 0,Ms=null!==(Xe=y._redirectEventId)&&void 0!==Xe?Xe:void 0,jl=null!==(bt=y.createdAt)&&void 0!==bt?bt:void 0,Me=null!==(Jt=y.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:qt,emailVerified:Tf,isAnonymous:uu,providerData:hi,stsTokenManager:ii}=y;Te(qt&&ii,g,"internal-error");const nh=mt.fromJSON(this.name,ii);Te("string"==typeof qt,g,"internal-error"),Zt(on,g.name),Zt(Uo,g.name),Te("boolean"==typeof Tf,g,"internal-error"),Te("boolean"==typeof uu,g,"internal-error"),Zt(ya,g.name),Zt(ni,g.name),Zt(Pe,g.name),Zt(Ms,g.name),Zt(jl,g.name),Zt(Me,g.name);const Wa=new Tn({uid:qt,auth:g,email:Uo,emailVerified:Tf,displayName:on,isAnonymous:uu,photoURL:ni,phoneNumber:ya,tenantId:Pe,stsTokenManager:nh,createdAt:jl,lastLoginAt:Me});return hi&&Array.isArray(hi)&&(Wa.providerData=hi.map(xt=>Object.assign({},xt))),Ms&&(Wa._redirectEventId=Ms),Wa}static _fromIdTokenResponse(g,y,T=!1){return(0,r.Z)(function*(){const A=new mt;A.updateFromServerResponse(y);const R=new Tn({uid:y.localId,auth:g,stsTokenManager:A,isAnonymous:T});return yield Li(R),R})()}}const Vi=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(y,T){var A=this;return(0,r.Z)(function*(){A.storage[y]=T})()}_get(y){var T=this;return(0,r.Z)(function*(){const A=T.storage[y];return void 0===A?null:A})()}_remove(y){var T=this;return(0,r.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return w.type="NONE",w})();function Yt(w,g,y){return`firebase:${w}:${g}:${y}`}class Ui{constructor(g,y,T){this.persistence=g,this.auth=y,this.userKey=T;const{config:A,name:R}=this.auth;this.fullUserKey=Yt(this.userKey,A.apiKey,R),this.fullPersistenceKey=Yt("persistence",A.apiKey,R),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,r.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Tn._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,r.Z)(function*(){if(y.persistence===g)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,T="authUser"){return(0,r.Z)(function*(){if(!y.length)return new Ui(he(Vi),g,T);const A=(yield Promise.all(y.map(function(){var bt=(0,r.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let R=A[0]||he(Vi);const ie=Yt(T,g.config.apiKey,g.name);let Ae=null;for(const bt of y)try{const Jt=yield bt._get(ie);if(Jt){const on=Tn._fromJSON(g,Jt);bt!==R&&(Ae=on),R=bt;break}}catch(Jt){}const Xe=A.filter(bt=>bt._shouldAllowMigration);return R._shouldAllowMigration&&Xe.length?(R=Xe[0],Ae&&(yield R._set(ie,Ae.toJSON())),yield Promise.all(y.map(function(){var bt=(0,r.Z)(function*(Jt){if(Jt!==R)try{yield Jt._remove(ie)}catch(on){}});return function(Jt){return bt.apply(this,arguments)}}())),new Ui(R,g,T)):new Ui(R,g,T)})()}}function oe(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(qe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(W(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(sn(g))return"Blackberry";if(It(g))return"Webos";if(z(g))return"Safari";if((g.includes("chrome/")||Ee(g))&&!g.includes("edge/"))return"Chrome";if(St(g))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function W(w=(0,B.z$)()){return/firefox\//i.test(w)}function z(w=(0,B.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ee(w=(0,B.z$)()){return/crios\//i.test(w)}function qe(w=(0,B.z$)()){return/iemobile/i.test(w)}function St(w=(0,B.z$)()){return/android/i.test(w)}function sn(w=(0,B.z$)()){return/blackberry/i.test(w)}function It(w=(0,B.z$)()){return/webos/i.test(w)}function hn(w=(0,B.z$)()){return/iphone|ipad|ipod/i.test(w)}function $n(w=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Hn(w=(0,B.z$)()){return hn(w)||St(w)||It(w)||sn(w)||/windows phone/i.test(w)||qe(w)}function Gt(w,g=[]){let y;switch(w){case"Browser":y=oe((0,B.z$)());break;case"Worker":y=`${oe((0,B.z$)())}-${w}`;break;default:y=w}const T=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${L.SDK_VERSION}/${T}`}class kn{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ca(this),this.idTokenSubscription=new ca(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var T=this;return y&&(this._popupRedirectResolver=he(y)),this._initializationPromise=this.queue((0,r.Z)(function*(){var A,R;if(!T._deleted&&(T.persistenceManager=yield Ui.create(T,g),!T._deleted)){if(null===(A=T._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(ie){}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(R=T.currentUser)||void 0===R?void 0:R.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,r.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,r.Z)(function*(){var T;let A=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const R=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,ie=null==A?void 0:A._redirectEventId,Ae=yield y.tryRedirectSignIn(g);(!R||R===ie)&&(null==Ae?void 0:Ae.user)&&(A=Ae.user)}return A?A._redirectEventId?(Te(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===A._redirectEventId?y.directlySetCurrentUser(A):y.reloadAndSetCurrentUserOrClear(A)):y.reloadAndSetCurrentUserOrClear(A):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,r.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(A){yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,r.Z)(function*(){try{yield Li(g)}catch(T){if("auth/network-request-failed"!==T.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,r.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,r.Z)(function*(){const T=g?(0,B.m9)(g):null;return T&&Te(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,r.Z)(function*(){if(!y._deleted)return g&&Te(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,r.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,r.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,r.Z)(function*(){yield y.assertedPersistence.setPersistence(he(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,y,T){return this.registerStateListener(this.authStateSubscription,g,y,T)}onIdTokenChanged(g,y,T){return this.registerStateListener(this.idTokenSubscription,g,y,T)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var T=this;return(0,r.Z)(function*(){const A=yield T.getOrInitRedirectPersistenceManager(y);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,r.Z)(function*(){if(!y.redirectPersistenceManager){const T=g&&he(g)||y._popupRedirectResolver;Te(T,y,"argument-error"),y.redirectPersistenceManager=yield Ui.create(y,[he(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,r.Z)(function*(){var T,A;return y._isInitialized&&(yield y.queue((0,r.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===g?y._currentUser:(null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,r.Z)(function*(){if(g===y.currentUser)return y.queue((0,r.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,T,A){if(this._deleted)return()=>{};const R="function"==typeof y?y:y.next.bind(y),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(ie,this,"internal-error"),ie.then(()=>R(this.currentUser)),"function"==typeof y?g.addObserver(y,T,A):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,r.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,r.Z)(function*(){const y={"X-Client-Version":g.clientVersion};return g.app.options.appId&&(y["X-Firebase-gmpid"]=g.app.options.appId),y})()}}function Mn(w){return(0,B.m9)(w)}class ca{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(y=>this.observer=y)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(w,g,y){const T=Mn(w);Te(T._canInitEmulator,T,"emulator-config-failed"),Te(/^https?:\/\//.test(g),T,"invalid-emulator-scheme");const A=!!(null==y?void 0:y.disableWarnings),R=oo(g),{host:ie,port:Ae}=function(w){const g=oo(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(T);if(A){const R=A[1];return{host:R,port:Al(T.substr(R.length+1))}}{const[R,ie]=T.split(":");return{host:R,port:Al(ie)}}}(g);T.config.emulator={url:`${R}//${ie}${null===Ae?"":`:${Ae}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ie,port:Ae,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function oo(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Al(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class wt{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return rn("not implemented")}_getIdTokenResponse(g){return rn("not implemented")}_linkToIdToken(g,y){return rn("not implemented")}_getReauthenticationResolver(g){return rn("not implemented")}}function ua(w,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:resetPassword",ft(w,g))})).apply(this,arguments)}function wd(w,g){return La.apply(this,arguments)}function La(){return(La=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ar(w,g){return os.apply(this,arguments)}function os(){return(os=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:update",ft(w,g))})).apply(this,arguments)}function as(){return(as=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithPassword",ft(w,g))})).apply(this,arguments)}function ut(w,g){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:sendOobCode",ft(w,g))})).apply(this,arguments)}function Pv(w,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(w,g){return ut(w,g)})).apply(this,arguments)}function Wp(w,g){return da.apply(this,arguments)}function da(){return(da=(0,r.Z)(function*(w,g){return ut(w,g)})).apply(this,arguments)}function Rl(w,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,r.Z)(function*(w,g){return ut(w,g)})).apply(this,arguments)}function Jn(w,g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,r.Z)(function*(w,g){return ut(w,g)})).apply(this,arguments)}function Gr(){return(Gr=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,g))})).apply(this,arguments)}function ha(){return(ha=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,g))})).apply(this,arguments)}class vi extends wt{constructor(g,y,T,A=null){super("password",T),this._email=g,this._password=y,this._tenantId=A}static _fromEmailAndPassword(g,y){return new vi(g,y,"password")}static _fromEmailAndCode(g,y,T=null){return new vi(g,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,r.Z)(function*(){switch(y.signInMethod){case"password":return function(w,g){return as.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(w,g){return Gr.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:ct(g,"internal-error")}})()}_linkToIdToken(g,y){var T=this;return(0,r.Z)(function*(){switch(T.signInMethod){case"password":return wd(g,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(w,g){return ha.apply(this,arguments)}(g,{idToken:y,email:T._email,oobCode:T._password});default:ct(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function $i(w,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithIdp",ft(w,g))})).apply(this,arguments)}class ao extends wt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ao(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):ct("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:A}=y,R=(0,ue._T)(y,["providerId","signInMethod"]);if(!T||!A)return null;const ie=new ao(T,A);return ie.idToken=R.idToken||void 0,ie.accessToken=R.accessToken||void 0,ie.secret=R.secret,ie.nonce=R.nonce,ie.pendingToken=R.pendingToken||null,ie}_getIdTokenResponse(g){return $i(g,this.buildRequest())}_linkToIdToken(g,y){const T=this.buildRequest();return T.idToken=y,$i(g,T)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,$i(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,B.xO)(y)}return g}}function Fv(w,g){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:sendVerificationCode",ft(w,g))})).apply(this,arguments)}function Ng(){return(Ng=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,g))})).apply(this,arguments)}function Pg(){return(Pg=(0,r.Z)(function*(w,g){const y=yield xr(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,g));if(y.temporaryProof)throw Yr(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const DD={USER_NOT_FOUND:"user-not-found"};function Fg(){return(Fg=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),DD)})).apply(this,arguments)}class Ol extends wt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ol({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ol({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(w,g){return Ng.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(w,g){return Pg.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(w,g){return Fg.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:T,verificationCode:A}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:T,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:T,phoneNumber:A,temporaryProof:R}=g;return T||y||A||R?new Ol({verificationId:y,verificationCode:T,phoneNumber:A,temporaryProof:R}):null}}class Td{constructor(g){var y,T,A,R,ie,Ae;const Xe=(0,B.zd)((0,B.pd)(g)),bt=null!==(y=Xe.apiKey)&&void 0!==y?y:null,Jt=null!==(T=Xe.oobCode)&&void 0!==T?T:null,on=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Xe.mode)&&void 0!==A?A:null);Te(bt&&Jt&&on,"argument-error"),this.apiKey=bt,this.operation=on,this.code=Jt,this.continueUrl=null!==(R=Xe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(ie=Xe.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Ae=Xe.tenantId)&&void 0!==Ae?Ae:null}static parseLink(g){const y=function(w){const g=(0,B.zd)((0,B.pd)(w)).link,y=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,T=(0,B.zd)((0,B.pd)(w)).deep_link_id;return(T?(0,B.zd)((0,B.pd)(T)).link:null)||T||y||g||w}(g);try{return new Td(y)}catch(T){return null}}}let Qp=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,T){return vi._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const A=Td.parseLink(T);return Te(A,"argument-error"),vi._fromEmailAndCode(y,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class lo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class No extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Md extends No{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return Te("providerId"in y&&"signInMethod"in y,"argument-error"),ao._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Te(g.idToken||g.accessToken,"argument-error"),ao._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Md.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Md.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:A,pendingToken:R,nonce:ie,providerId:Ae}=g;if(!T&&!A&&!y&&!R||!Ae)return null;try{return new Md(Ae)._credential({idToken:y,accessToken:T,nonce:ie,pendingToken:R})}catch(Xe){return null}}}let Lg=(()=>{class w extends No{constructor(){super("facebook.com")}static credential(y){return ao._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(T){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Bg=(()=>{class w extends No{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return ao._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:A}=y;if(!T&&!A)return null;try{return w.credential(T,A)}catch(R){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ba=(()=>{class w extends No{constructor(){super("github.com")}static credential(y){return ao._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(T){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class $t extends wt{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return $i(g,this.buildRequest())}_linkToIdToken(g,y){const T=this.buildRequest();return T.idToken=y,$i(g,T)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,$i(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:A,pendingToken:R}=y;return T&&A&&R&&T===A?new $t(T,R):null}static _create(g,y){return new $t(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ed extends lo{constructor(g){Te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ed.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ed.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=$t.fromJSON(g);return Te(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:T}=g;if(!y||!T)return null;try{return $t._create(T,y)}catch(A){return null}}}let Bv=(()=>{class w extends No{constructor(){super("twitter.com")}static credential(y,T){return ao._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:A}=y;if(!T||!A)return null;try{return w.credential(T,A)}catch(R){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Xp(w,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signUp",ft(w,g))})).apply(this,arguments)}class cs{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,T,A=!1){return(0,r.Z)(function*(){const R=yield Tn._fromIdTokenResponse(g,T,A),ie=ef(T);return new cs({user:R,providerId:ie,_tokenResponse:T,operationType:y})})()}static _forOperation(g,y,T){return(0,r.Z)(function*(){yield g._updateTokensIfNecessary(T,!0);const A=ef(T);return new cs({user:g,providerId:A,_tokenResponse:T,operationType:y})})()}}function ef(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function SD(w){return us.apply(this,arguments)}function us(){return(us=(0,r.Z)(function*(w){var g;const y=Mn(w);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new cs({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield Xp(y,{returnSecureToken:!0}),A=yield cs._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Nl extends B.ZR{constructor(g,y,T,A){var R;super(y.code,y.message),this.operationType=T,this.user=A,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:g.name,tenantId:null!==(R=g.tenantId)&&void 0!==R?R:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(g,y,T,A){return new Nl(g,y,T,A)}}function tf(w,g,y,T){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Nl._fromErrorAndOperation(w,R,g,T):R})}function Zc(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Vv(w,g){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,r.Z)(function*(w,g){const y=(0,B.m9)(w);yield qc(!0,y,g);const{providerUserInfo:T}=yield rt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),A=Zc(T||[]);return y.providerData=y.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function nf(w,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,r.Z)(function*(w,g,y=!1){const T=yield $e(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return cs._forOperation(w,"link",T)})).apply(this,arguments)}function qc(w,g,y){return pa.apply(this,arguments)}function pa(){return(pa=(0,r.Z)(function*(w,g,y){yield Li(g);const A=!1===w?"provider-already-linked":"no-such-provider";Te(Zc(g.providerData).has(y)===w,g.auth,A)})).apply(this,arguments)}function Vg(w,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,r.Z)(function*(w,g,y=!1){const{auth:T}=w,A="reauthenticate";try{const R=yield $e(w,tf(T,A,g,w),y);Te(R.idToken,T,"internal-error");const ie=dn(R.idToken);Te(ie,T,"internal-error");const{sub:Ae}=ie;return Te(w.uid===Ae,T,"user-mismatch"),cs._forOperation(w,A,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&ct(T,"user-mismatch"),R}})).apply(this,arguments)}function Ug(w,g){return rf.apply(this,arguments)}function rf(){return(rf=(0,r.Z)(function*(w,g,y=!1){const T="signIn",A=yield tf(w,T,g),R=yield cs._fromIdTokenResponse(w,T,A);return y||(yield w._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Va(w,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(w,g){return Ug(Mn(w),g)})).apply(this,arguments)}function xd(w,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,r.Z)(function*(w,g){const y=(0,B.m9)(w);return yield qc(!1,y,g.providerId),nf(y,g)})).apply(this,arguments)}function Ua(w,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,r.Z)(function*(w,g){return Vg((0,B.m9)(w),g)})).apply(this,arguments)}function Uv(w,g){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,r.Z)(function*(w,g){return xr(w,"POST","/v1/accounts:signInWithCustomToken",ft(w,g))})).apply(this,arguments)}function kd(w,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,r.Z)(function*(w,g){const y=Mn(w),T=yield Uv(y,{token:g,returnSecureToken:!0}),A=yield cs._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Gc{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?jc._fromServerResponse(g,y):ct(g,"internal-error")}}class jc extends Gc{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new jc(y)}}function _t(w,g,y){var T;Te((null===(T=y.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),Te(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Te(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(Te(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Hv(w,g,y){return sf.apply(this,arguments)}function sf(){return(sf=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w),A={requestType:"PASSWORD_RESET",email:g};y&&_t(T,A,y),yield Wp(T,A)})).apply(this,arguments)}function Zv(w,g,y){return af.apply(this,arguments)}function af(){return(af=(0,r.Z)(function*(w,g,y){yield ua((0,B.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function qv(w,g){return lf.apply(this,arguments)}function lf(){return(lf=(0,r.Z)(function*(w,g){yield Ar((0,B.m9)(w),{oobCode:g})})).apply(this,arguments)}function Pl(w,g){return Se.apply(this,arguments)}function Se(){return(Se=(0,r.Z)(function*(w,g){const y=(0,B.m9)(w),T=yield ua(y,{oobCode:g}),A=T.requestType;switch(Te(A,y,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(T.mfaInfo,y,"internal-error");default:Te(T.email,y,"internal-error")}let R=null;return T.mfaInfo&&(R=Gc._fromServerResponse(Mn(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Xt(w,g){return zc.apply(this,arguments)}function zc(){return(zc=(0,r.Z)(function*(w,g){const{data:y}=yield Pl((0,B.m9)(w),g);return y.email})).apply(this,arguments)}function Qn(w,g,y){return $c.apply(this,arguments)}function $c(){return($c=(0,r.Z)(function*(w,g,y){const T=Mn(w),A=yield Xp(T,{returnSecureToken:!0,email:g,password:y}),R=yield cs._fromIdTokenResponse(T,"signIn",A);return yield T._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ha(w,g,y){return Va((0,B.m9)(w),Qp.credential(g,y))}function ws(w,g,y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w),A={requestType:"EMAIL_SIGNIN",email:g};Te(y.handleCodeInApp,T,"argument-error"),y&&_t(T,A,y),yield Rl(T,A)})).apply(this,arguments)}function Id(w,g){const y=Td.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function xD(w,g,y){return cf.apply(this,arguments)}function cf(){return(cf=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w),A=Qp.credentialWithLink(g,y||ee());return Te(A._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Va(T,A)})).apply(this,arguments)}function Rd(w,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:createAuthUri",ft(w,g))})).apply(this,arguments)}function Wi(w,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,r.Z)(function*(w,g){const T={identifier:g,continueUri:Ve()?ee():"http://localhost"},{signinMethods:A}=yield Rd((0,B.m9)(w),T);return A||[]})).apply(this,arguments)}function Yv(w,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,r.Z)(function*(w,g){const y=(0,B.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&_t(y.auth,A,g);const{email:R}=yield Pv(y.auth,A);R!==w.email&&(yield w.reload())})).apply(this,arguments)}function Us(w,g,y){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&_t(T.auth,R,y);const{email:ie}=yield Jn(T.auth,R);ie!==w.email&&(yield w.reload())})).apply(this,arguments)}function Zg(w,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,r.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Gv(w,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,r.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const T=(0,B.m9)(w),R={idToken:yield T.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ie=yield $e(T,Zg(T.auth,R));T.displayName=ie.displayName||null,T.photoURL=ie.photoUrl||null;const Ae=T.providerData.find(({providerId:Xe})=>"password"===Xe);Ae&&(Ae.displayName=T.displayName,Ae.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ie)})).apply(this,arguments)}function uf(w,g){return Bl((0,B.m9)(w),g,null)}function qg(w,g){return Bl((0,B.m9)(w),null,g)}function Bl(w,g,y){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,r.Z)(function*(w,g,y){const{auth:T}=w,R={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(R.email=g),y&&(R.password=y);const ie=yield $e(w,wd(T,R));yield w._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Fo{constructor(g,y,T={}){this.isNewUser=g,this.providerId=y,this.profile=T}}class df extends Fo{constructor(g,y,T,A){super(g,y,T),this.username=A}}class jv extends Fo{constructor(g,y){super(g,"facebook.com",y)}}class Gg extends df{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class zv extends Fo{constructor(g,y){super(g,"google.com",y)}}class Jc extends df{constructor(g,y,T){super(g,"twitter.com",y,T)}}function $v(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(w){var g,y;if(!w)return null;const{providerId:T}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},R=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&(null==w?void 0:w.idToken)){const ie=null===(y=null===(g=dn(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ie)return new Fo(R,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!T)return null;switch(T){case"facebook.com":return new jv(R,A);case"github.com":return new Gg(R,A);case"google.com":return new zv(R,A);case"twitter.com":return new Jc(R,A,w.screenName||null);case"custom":case"anonymous":return new Fo(R,null);default:return new Fo(R,T,A)}}(y)}class Za{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Za("enroll",g)}static _fromMfaPendingCredential(g){return new Za("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,T;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Za._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(T=g.multiFactorSession)||void 0===T?void 0:T.idToken)return Za._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Lo{constructor(g,y,T){this.session=g,this.hints=y,this.signInResolver=T}static _fromError(g,y){const T=Mn(g),A=y.customData._serverResponse,R=(A.mfaInfo||[]).map(Ae=>Gc._fromServerResponse(T,Ae));Te(A.mfaPendingCredential,T,"internal-error");const ie=Za._fromMfaPendingCredential(A.mfaPendingCredential);return new Lo(ie,R,function(){var Ae=(0,r.Z)(function*(Xe){const bt=yield Xe._process(T,ie);delete A.mfaInfo,delete A.mfaPendingCredential;const Jt=Object.assign(Object.assign({},A),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(y.operationType){case"signIn":const on=yield cs._fromIdTokenResponse(T,y.operationType,Jt);return yield T._updateCurrentUser(on.user),on;case"reauthenticate":return Te(y.user,T,"internal-error"),cs._forOperation(y.user,y.operationType,Jt);default:ct(T,"internal-error")}});return function(Xe){return Ae.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,r.Z)(function*(){return y.signInResolver(g)})()}}function Pd(w,g){var y;const T=(0,B.m9)(w),A=g;return Te(g.customData.operationType,T,"argument-error"),Te(null===(y=A.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),Lo._fromError(T,A)}function Ul(w,g){return Pn(w,"POST","/v2/accounts/mfaEnrollment:start",ft(w,g))}class Ld{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>Gc._fromServerResponse(g.auth,T)))})}static _fromUser(g){return new Ld(g)}getSession(){var g=this;return(0,r.Z)(function*(){return Za._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var T=this;return(0,r.Z)(function*(){const A=g,R=yield T.getSession(),ie=yield $e(T.user,A._process(T.user.auth,R,y));return yield T.user._updateTokensIfNecessary(ie),T.user.reload()})()}unenroll(g){var y=this;return(0,r.Z)(function*(){const T="string"==typeof g?g:g.uid,A=yield y.user.getIdToken(),R=yield $e(y.user,function(w,g){return Pn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(w,g))}(y.user.auth,{idToken:A,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ie})=>ie!==T),yield y.user._updateTokensIfNecessary(R);try{yield y.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const ff=new WeakMap;function fa(w){const g=(0,B.m9)(w);return ff.has(g)||ff.set(g,Ld._fromUser(g)),ff.get(g)}const qa="__sak";class Jv{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kv=(()=>{class w extends Jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,B.z$)();return z(w)||hn(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const A=this.storage.getItem(T),R=this.localCache[T];A!==R&&y(T,R,A)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((Ae,Xe,bt)=>{this.notifyListeners(Ae,bt)});const A=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(A);if(y.newValue!==Ae)null!==y.newValue?this.storage.setItem(A,y.newValue):this.storage.removeItem(A);else if(this.localCache[A]===y.newValue&&!T)return}const R=()=>{const Ae=this.storage.getItem(A);!T&&this.localCache[A]===Ae||this.notifyListeners(A,Ae)},ie=this.storage.getItem(A);(0,B.w1)()&&10===document.documentMode&&ie!==y.newValue&&y.newValue!==y.oldValue?setTimeout(R,10):R()}notifyListeners(y,T){this.localCache[y]=T;const A=this.listeners[y];if(A)for(const R of Array.from(A))R(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var A=()=>super._set,R=this;return(0,r.Z)(function*(){yield A().call(R,y,T),R.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,A=this;return(0,r.Z)(function*(){const R=yield T().call(A,y);return A.localCache[y]=JSON.stringify(R),R})()}_remove(y){var T=()=>super._remove,A=this;return(0,r.Z)(function*(){yield T().call(A,y),delete A.localCache[y]})()}}return w.type="LOCAL",w})(),Xv=(()=>{class w extends Jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return w.type="SESSION",w})();let zg=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(R=>R.isListeningto(y));if(T)return T;const A=new w(y);return this.receivers.push(A),A}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,r.Z)(function*(){const A=y,{eventId:R,eventType:ie,data:Ae}=A.data,Xe=T.handlersMap[ie];if(!(null==Xe?void 0:Xe.size))return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:ie});const bt=Array.from(Xe).map(function(){var on=(0,r.Z)(function*(Uo){return Uo(A.origin,Ae)});return function(Uo){return on.apply(this,arguments)}}()),Jt=yield function(w){return Promise.all(w.map(function(){var g=(0,r.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return g.apply(this,arguments)}}()))}(bt);A.ports[0].postMessage({status:"done",eventId:R,eventType:ie,response:Jt})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function zr(w="",g=10){let y="";for(let T=0;T<g;T++)y+=Math.floor(10*Math.random());return w+y}class Bd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,T=50){var A=this;return(0,r.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let ie,Ae;return new Promise((Xe,bt)=>{const Jt=zr("",20);R.port1.start();const on=setTimeout(()=>{bt(new Error("unsupported_event"))},T);Ae={messageChannel:R,onMessage(Uo){const ya=Uo;if(ya.data.eventId===Jt)switch(ya.data.status){case"ack":clearTimeout(on),ie=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),Xe(ya.data.response);break;default:clearTimeout(on),clearTimeout(ie),bt(new Error("invalid_response"))}}},A.handlers.add(Ae),R.port1.addEventListener("message",Ae.onMessage),A.target.postMessage({eventType:g,eventId:Jt,data:y},[R.port2])}).finally(()=>{Ae&&A.removeMessageHandler(Ae)})})()}}function wi(){return window}function Bo(){return void 0!==wi().WorkerGlobalScope&&"function"==typeof wi().importScripts}function Ya(){return(Ya=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const RD="firebaseLocalStorageDb",Hd="firebaseLocalStorage",e0="fbase_key";class Zd{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ma(w,g){return w.transaction([Hd],g?"readwrite":"readonly").objectStore(Hd)}function le(){const w=indexedDB.open(RD,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Hd,{keyPath:e0})}catch(A){y(A)}}),w.addEventListener("success",(0,r.Z)(function*(){const T=w.result;T.objectStoreNames.contains(Hd)?g(T):(T.close(),yield function(){const w=indexedDB.deleteDatabase(RD);return new Zd(w).toPromise()}(),g(yield le()))}))})}function Mt(w,g,y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,r.Z)(function*(w,g,y){const T=ma(w,!0).put({[e0]:g,value:y});return new Zd(T).toPromise()})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(w,g){const y=ma(w,!1).get(g),T=yield new Zd(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Qg(w,g){const y=ma(w,!0).delete(g);return new Zd(y).toPromise()}const Ji=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,r.Z)(function*(){return y.db||(y.db=yield le()),y.db})()}_withRetries(y){var T=this;return(0,r.Z)(function*(){let A=0;for(;;)try{const R=yield T._openDb();return yield y(R)}catch(R){if(A++>3)throw R;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,r.Z)(function*(){return Bo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,r.Z)(function*(){y.receiver=zg._getInstance(Bo()?self:null),y.receiver._subscribe("keyChanged",function(){var T=(0,r.Z)(function*(A,R){return{keyProcessed:(yield y._poll()).includes(R.key)}});return function(A,R){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,r.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,r.Z)(function*(){var T,A;if(y.activeServiceWorker=yield function(){return Ya.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Bd(y.activeServiceWorker);const R=yield y.sender._send("ping",{},800);!R||(null===(T=R[0])||void 0===T?void 0:T.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,r.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const y=yield le();return yield Mt(y,qa,"1"),yield Qg(y,qa),!0}catch(y){}return!1})()}_withPendingWrite(y){var T=this;return(0,r.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var A=this;return(0,r.Z)(function*(){return A._withPendingWrite((0,r.Z)(function*(){return yield A._withRetries(R=>Mt(R,y,T)),A.localCache[y]=T,A.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,r.Z)(function*(){const A=yield T._withRetries(R=>function(w,g){return Ue.apply(this,arguments)}(R,y));return T.localCache[y]=A,A})()}_remove(y){var T=this;return(0,r.Z)(function*(){return T._withPendingWrite((0,r.Z)(function*(){return yield T._withRetries(A=>Qg(A,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,r.Z)(function*(){const T=yield y._withRetries(ie=>{const Ae=ma(ie,!1).getAll();return new Zd(Ae).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:ie,value:Ae}of T)R.add(ie),JSON.stringify(y.localCache[ie])!==JSON.stringify(Ae)&&(y.notifyListeners(ie,Ae),A.push(ie));for(const ie of Object.keys(y.localCache))y.localCache[ie]&&!R.has(ie)&&(y.notifyListeners(ie,null),A.push(ie));return A})()}notifyListeners(y,T){this.localCache[y]=T;const A=this.listeners[y];if(A)for(const R of Array.from(A))R(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Yd(w,g){return Pn(w,"POST","/v2/accounts/mfaSignIn:start",ft(w,g))}function _f(){return(_f=(0,r.Z)(function*(w){return(yield Pn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rr(w){return new Promise((g,y)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=g,T.onerror=A=>{const R=Pt("internal-error");R.customData=A,y(R)},T.type="text/javascript",T.charset="UTF-8",function(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(T)})}function Qi(w){return`__${w}${Math.floor(1e6*Math.random())}`}const hs=1e12;class co{constructor(g){this.auth=g,this.counter=hs,this._widgets=new Map}render(g,y){const T=this.counter;return this._widgets.set(T,new ps(g,this.auth.name,y||{})),this.counter++,T}reset(g){var y;const T=g||hs;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(g){var y;return(null===(y=this._widgets.get(g||hs))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,r.Z)(function*(){var T;return null===(T=y._widgets.get(g||hs))||void 0===T||T.execute(),""})()}}class ps{constructor(g,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;Te(A,"argument-error",{appName:y}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=Qi("rcb"),pr=new nt(3e4,6e4);class Ak{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wi().grecaptcha}load(g,y=""){return Te((w=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(wi().grecaptcha):new Promise((T,A)=>{const R=wi().setTimeout(()=>{A(Pt(g,"network-request-failed"))},pr.get());wi()[Ds]=()=>{wi().clearTimeout(R),delete wi()[Ds];const Ae=wi().grecaptcha;if(!Ae)return void A(Pt(g,"internal-error"));const Xe=Ae.render;Ae.render=(bt,Jt)=>{const on=Xe(bt,Jt);return this.counter++,on},this.hostLanguage=y,T(Ae)},Rr(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Ds,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(R),A(Pt(g,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!wi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ND{load(g){return(0,r.Z)(function*(){return new co(g)})()}clearedOneInstance(){}}const Xg="recaptcha",ui={theme:"light",type:"image"};class PD{constructor(g,y=Object.assign({},ui),T){this.parameters=y,this.type=Xg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(T),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;Te(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ND:new Ak,this.validateStartingState()}verify(){var g=this;return(0,r.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),T=g.getAssertedRecaptcha();return T.getResponse(y)||new Promise(R=>{const ie=Ae=>{!Ae||(g.tokenChangeListeners.delete(ie),R(Ae))};g.tokenChangeListeners.add(ie),g.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof g)g(y);else if("string"==typeof g){const T=wi()[g];"function"==typeof T&&T(y)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,r.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,r.Z)(function*(){Te(Ve()&&!Bo(),g.auth,"internal-error"),yield function(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(w){return _f.apply(this,arguments)}(g.auth);Te(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class s0{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ol._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function kk(w,g,y){return o0.apply(this,arguments)}function o0(){return(o0=(0,r.Z)(function*(w,g,y){const T=Mn(w),A=yield e_(T,g,(0,B.m9)(y));return new s0(A,R=>Va(T,R))})).apply(this,arguments)}function Ik(w,g,y){return a0.apply(this,arguments)}function a0(){return(a0=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w);yield qc(!1,T,"phone");const A=yield e_(T.auth,g,(0,B.m9)(y));return new s0(A,R=>xd(T,R))})).apply(this,arguments)}function FD(w,g,y){return l0.apply(this,arguments)}function l0(){return(l0=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w),A=yield e_(T.auth,g,(0,B.m9)(y));return new s0(A,R=>Ua(T,R))})).apply(this,arguments)}function e_(w,g,y){return c0.apply(this,arguments)}function c0(){return(c0=(0,r.Z)(function*(w,g,y){var T;const A=yield y.verify();try{let R;if(Te("string"==typeof A,w,"argument-error"),Te(y.type===Xg,w,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const ie=R.session;if("phoneNumber"in R)return Te("enroll"===ie.type,w,"internal-error"),(yield Ul(w,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Te("signin"===ie.type,w,"internal-error");const Ae=(null===(T=R.multiFactorHint)||void 0===T?void 0:T.uid)||R.multiFactorUid;return Te(Ae,w,"missing-multi-factor-info"),(yield Yd(w,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield Fv(w,{phoneNumber:R.phoneNumber,recaptchaToken:A});return ie}}finally{y._reset()}})).apply(this,arguments)}function Gd(w,g){return jd.apply(this,arguments)}function jd(){return(jd=(0,r.Z)(function*(w,g){yield nf((0,B.m9)(w),g)})).apply(this,arguments)}let Ki=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Mn(y)}verifyPhoneNumber(y,T){return e_(this.auth,y,(0,B.m9)(T))}static credential(y,T){return Ol._fromVerification(y,T)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:A}=y;return T&&A?Ol._fromTokenResponse(T,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Vo(w,g){return g?he(g):(Te(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class eu extends wt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return $i(g,this._buildIdpRequest())}_linkToIdToken(g,y){return $i(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return $i(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Rk(w){return Ug(w.auth,new eu(w),w.bypassAuthState)}function LD(w){const{auth:g,user:y}=w;return Te(y,g,"internal-error"),Vg(y,new eu(w),w.bypassAuthState)}function Hs(w){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,r.Z)(function*(w){const{auth:g,user:y}=w;return Te(y,g,"internal-error"),nf(y,new eu(w),w.bypassAuthState)})).apply(this,arguments)}class zd{constructor(g,y,T,A,R=!1){this.auth=g,this.resolver=T,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,r.Z)(function*(T,A){g.pendingPromise={resolve:T,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(T,A){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,r.Z)(function*(){const{urlResponse:T,sessionId:A,postBody:R,tenantId:ie,error:Ae,type:Xe}=g;if(Ae)return void y.reject(Ae);const bt={auth:y.auth,requestUri:T,sessionId:A,tenantId:ie||void 0,postBody:R||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Xe)(bt))}catch(Jt){y.reject(Jt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Rk;case"linkViaPopup":case"linkViaRedirect":return Hs;case"reauthViaPopup":case"reauthViaRedirect":return LD;default:ct(this.auth,"internal-error")}}resolve(g){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ql=new nt(2e3,1e4);function ja(w,g,y){return bf.apply(this,arguments)}function bf(){return(bf=(0,r.Z)(function*(w,g,y){const T=Mn(w);en(w,g,lo);const A=Vo(T,y);return new yf(T,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function BD(w,g,y){return t_.apply(this,arguments)}function t_(){return(t_=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w);en(T.auth,g,lo);const A=Vo(T.auth,y);return new yf(T.auth,"reauthViaPopup",g,A,T).executeNotNull()})).apply(this,arguments)}function Ok(w,g,y){return u0.apply(this,arguments)}function u0(){return(u0=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w);en(T.auth,g,lo);const A=Vo(T.auth,y);return new yf(T.auth,"linkViaPopup",g,A,T).executeNotNull()})).apply(this,arguments)}let yf=(()=>{class w extends zd{constructor(y,T,A,R,ie){super(y,T,R,ie),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,r.Z)(function*(){const T=yield y.execute();return Te(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,r.Z)(function*(){re(1===y.filter.length,"Popup operations only handle one event");const T=zr();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(A=>{y.reject(A)}),y.resolver._isIframeWebStorageSupported(y.auth,A=>{A||y.reject(Pt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,A;this.pollId=(null===(A=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,ql.get())};y()}}return w.currentPopupAction=null,w})();const tu=new Map;class nu extends zd{constructor(g,y,T=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,r.Z)(function*(){let T=tu.get(y.auth._key());if(!T){try{const R=(yield function(w,g){return vf.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;T=()=>Promise.resolve(R)}catch(A){T=()=>Promise.reject(A)}tu.set(y.auth._key(),T)}return y.bypassAuthState||tu.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,T=this;return(0,r.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(T,g);if("unknown"!==g.type){if(g.eventId){const A=yield T.auth._redirectUserForId(g.eventId);if(A)return T.user=A,y().call(T,g);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function vf(){return(vf=(0,r.Z)(function*(w,g){const y=s_(g),T=r_(w);if(!(yield T._isAvailable()))return!1;const A="true"===(yield T._get(y));return yield T._remove(y),A})).apply(this,arguments)}function n_(w,g){return i_.apply(this,arguments)}function i_(){return(i_=(0,r.Z)(function*(w,g){return r_(w)._set(s_(g),"true")})).apply(this,arguments)}function VD(){tu.clear()}function r_(w){return he(w._redirectPersistence)}function s_(w){return Yt("pendingRedirect",w.config.apiKey,w.name)}function $d(w,g,y){return function(w,g,y){return iu.apply(this,arguments)}(w,g,y)}function iu(){return(iu=(0,r.Z)(function*(w,g,y){const T=Mn(w);en(w,g,lo);const A=Vo(T,y);return yield n_(A,T),A._openRedirect(T,g,"signInViaRedirect")})).apply(this,arguments)}function Pk(w,g,y){return function(w,g,y){return Jd.apply(this,arguments)}(w,g,y)}function Jd(){return(Jd=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w);en(T.auth,g,lo);const A=Vo(T.auth,y);yield n_(A,T.auth);const R=yield su(T);return A._openRedirect(T.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function ru(w,g,y){return function(w,g,y){return a_.apply(this,arguments)}(w,g,y)}function a_(){return(a_=(0,r.Z)(function*(w,g,y){const T=(0,B.m9)(w);en(T.auth,g,lo);const A=Vo(T.auth,y);yield qc(!1,T,g.providerId),yield n_(A,T.auth);const R=yield su(T);return A._openRedirect(T.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function HD(w,g){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,r.Z)(function*(w,g){return yield Mn(w)._initializationPromise,d0(w,g,!1)})).apply(this,arguments)}function d0(w,g){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,r.Z)(function*(w,g,y=!1){const T=Mn(w),A=Vo(T,g),ie=yield new nu(T,A,y).execute();return ie&&!y&&(delete ie.user._redirectEventId,yield T._persistUserIfCurrent(ie.user),yield T._setRedirectUser(null,g)),ie})).apply(this,arguments)}function su(w){return za.apply(this,arguments)}function za(){return(za=(0,r.Z)(function*(w){const g=zr(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class di{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(g,T)&&(y=!0,this.sendToConsumer(g,T),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h0(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var T;if(g.error&&!h0(g)){const A=(null===(T=g.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Pt(this.auth,A))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const T=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&T}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(g))}saveEventToCache(g){this.cachedEventUids.add(l_(g)),this.lastProcessedEventTime=Date.now()}}function l_(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function h0({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function ou(w){return c_.apply(this,arguments)}function c_(){return(c_=(0,r.Z)(function*(w,g={}){return Pn(w,"GET","/v1/projects",g)})).apply(this,arguments)}const p0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f0=/^https?/;function $a(){return($a=(0,r.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield ou(w);for(const y of g)try{if(ga(y))return}catch(T){}ct(w,"unauthorized-domain")})).apply(this,arguments)}function ga(w){const g=ee(),{protocol:y,hostname:T}=new URL(g);if(w.startsWith("chrome-extension://")){const ie=new URL(w);return""===ie.hostname&&""===T?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ie.hostname===T}if(!f0.test(y))return!1;if(p0.test(w))return T===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(T)}const Xd=new nt(3e4,6e4);function _a(){const w=wi().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let eh=null;function u_(w){return eh=eh||function(w){return new Promise((g,y)=>{var T,A,R;function ie(){_a(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{_a(),y(Pt(w,"network-request-failed"))},timeout:Xd.get()})}if(null===(A=null===(T=wi().gapi)||void 0===T?void 0:T.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(R=wi().gapi)||void 0===R?void 0:R.load)){const Ae=Qi("iframefcb");return wi()[Ae]=()=>{gapi.load?ie():y(Pt(w,"network-request-failed"))},Rr(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(Xe=>y(Xe))}ie()}}).catch(g=>{throw eh=null,g})}(w),eh}const Cf=new nt(5e3,15e3),GD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function th(w){const g=w.config;Te(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?vt(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,T={apiKey:g.apiKey,appName:w.name,v:L.SDK_VERSION},A=au.get(w.config.apiHost);A&&(T.eid=A);const R=w._getFrameworks();return R.length&&(T.fw=R.join(",")),`${y}?${(0,B.xO)(T).slice(1)}`}function g0(){return(g0=(0,r.Z)(function*(w){const g=yield u_(w),y=wi().gapi;return Te(y,w,"internal-error"),g.open({where:document.body,url:th(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GD,dontclear:!0},T=>new Promise(function(){var A=(0,r.Z)(function*(R,ie){yield T.restyle({setHideOnLeave:!1});const Ae=Pt(w,"network-request-failed"),Xe=wi().setTimeout(()=>{ie(Ae)},Cf.get());function bt(){wi().clearTimeout(Xe),R(T)}T.ping(bt).then(bt,()=>{ie(Ae)})});return function(R,ie){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const _0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class b0{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function h_(w,g,y,T,A,R){Te(w.config.authDomain,w,"auth-domain-config-required"),Te(w.config.apiKey,w,"invalid-api-key");const ie={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:T,v:L.SDK_VERSION,eventId:A};if(g instanceof lo){g.setDefaultLanguage(w.languageCode),ie.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Xe,bt]of Object.entries(R||{}))ie[Xe]=bt}if(g instanceof No){const Xe=g.getScopes().filter(bt=>""!==bt);Xe.length>0&&(ie.scopes=Xe.join(","))}w.tenantId&&(ie.tid=w.tenantId);const Ae=ie;for(const Xe of Object.keys(Ae))void 0===Ae[Xe]&&delete Ae[Xe];return`${function({config:w}){return w.emulator?vt(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,B.xO)(Ae).slice(1)}`}const cu="webStorageSupport",Bn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=d0}_openPopup(g,y,T,A){var R=this;return(0,r.Z)(function*(){var ie;re(null===(ie=R.eventManagers[g._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Ae=h_(g,y,T,ee(),A);return function(w,g,y,T=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),ie=Math.max((window.screen.availWidth-T)/2,0).toString();let Ae="";const Xe=Object.assign(Object.assign({},_0),{width:T.toString(),height:A.toString(),top:R,left:ie}),bt=(0,B.z$)().toLowerCase();y&&(Ae=Ee(bt)?"_blank":y),W(bt)&&(g=g||"http://localhost",Xe.scrollbars="yes");const Jt=Object.entries(Xe).reduce((Uo,[ya,ni])=>`${Uo}${ya}=${ni},`,"");if(function(w=(0,B.z$)()){var g;return hn(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(bt)&&"_self"!==Ae)return function(w,g){const y=document.createElement("a");y.href=w,y.target=g;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(g||"",Ae),new b0(null);const on=window.open(g||"",Ae,Jt);Te(on,w,"popup-blocked");try{on.focus()}catch(Uo){}return new b0(on)}(g,Ae,zr())})()}_openRedirect(g,y,T,A){var R=this;return(0,r.Z)(function*(){return yield R._originValidation(g),w=h_(g,y,T,ee(),A),wi().location.href=w,new Promise(()=>{});var w})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:A,promise:R}=this.eventManagers[y];return A?Promise.resolve(A):(re(R,"If manager is not set, promise should be"),R)}const T=this.initAndGetManager(g);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(g){var y=this;return(0,r.Z)(function*(){const T=yield function(w){return g0.apply(this,arguments)}(g),A=new di(g);return T.register("authEvent",R=>(Te(null==R?void 0:R.authEvent,g,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:A},y.iframes[g._key()]=T,A})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(cu,{type:cu},A=>{var R;const ie=null===(R=null==A?void 0:A[0])||void 0===R?void 0:R[cu];void 0!==ie&&y(!!ie),ct(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(w){return $a.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Hn()||z()||hn()}};class Di extends class{constructor(g){this.factorId=g}_process(g,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,T);case"signin":return this._finalizeSignIn(g,y.credential);default:return rn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Di(g)}_finalizeEnroll(g,y,T){return function(w,g){return Pn(w,"POST","/v2/accounts/mfaEnrollment:finalize",ft(w,g))}(g,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(w,g){return Pn(w,"POST","/v2/accounts/mfaSignIn:finalize",ft(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fs=(()=>{class w{constructor(){}static assertion(y){return Di._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var w,Gl="@firebase/auth";class y0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,r.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(T=>{var A;g((null===(A=T)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}w="Browser",(0,L._registerComponent)(new K.wA("auth",(g,{options:y})=>{const T=g.getProvider("app").getImmediate(),{apiKey:A,authDomain:R}=T.options;return(ie=>{Te(A&&!A.includes(":"),"invalid-api-key",{appName:ie.name}),Te(!(null==R?void 0:R.includes(":")),"argument-error",{appName:ie.name});const Ae={apiKey:A,authDomain:R,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(w)},Xe=new kn(ie,Ae);return function(w,g){const y=(null==g?void 0:g.persistence)||[],T=(Array.isArray(y)?y:[y]).map(he);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(T,null==g?void 0:g.popupRedirectResolver)}(Xe,y),Xe})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,T)=>{g.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new K.wA("auth-internal",g=>{const y=Mn(g.getProvider("auth").getImmediate());return new y0(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Gl,"0.19.7",void 0),(0,L.registerVersion)(Gl,"0.19.7","esm2017")},3854:(Je,be,N)=>{"use strict";N.d(be,{BH:()=>ae,LL:()=>ee,ZR:()=>pe,tV:()=>J,r3:()=>ft,Sg:()=>_e,ne:()=>ko,vZ:()=>qr,ZB:()=>V,pd:()=>vs,m9:()=>Bi,z$:()=>De,jU:()=>we,ru:()=>Be,d:()=>Pt,xb:()=>Fn,w1:()=>zt,hl:()=>rn,uI:()=>de,UG:()=>Ie,b$:()=>ct,G6:()=>Te,Mn:()=>en,xO:()=>aa,zd:()=>so});const ue=function(G){const H=[];let Q=0;for(let ye=0;ye<G.length;ye++){let ne=G.charCodeAt(ye);ne<128?H[Q++]=ne:ne<2048?(H[Q++]=ne>>6|192,H[Q++]=63&ne|128):55296==(64512&ne)&&ye+1<G.length&&56320==(64512&G.charCodeAt(ye+1))?(ne=65536+((1023&ne)<<10)+(1023&G.charCodeAt(++ye)),H[Q++]=ne>>18|240,H[Q++]=ne>>12&63|128,H[Q++]=ne>>6&63|128,H[Q++]=63&ne|128):(H[Q++]=ne>>12|224,H[Q++]=ne>>6&63|128,H[Q++]=63&ne|128)}return H},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ne=0;ne<G.length;ne+=3){const Qe=G[ne],mt=ne+1<G.length,Zt=mt?G[ne+1]:0,Tn=ne+2<G.length,Gi=Tn?G[ne+2]:0;let Ui=(15&Zt)<<2|Gi>>6,oe=63&Gi;Tn||(oe=64,mt||(Ui=64)),ye.push(Q[Qe>>2],Q[(3&Qe)<<4|Zt>>4],Q[Ui],Q[oe])}return ye.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(ue(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let Q=0,ye=0;for(;Q<G.length;){const ne=G[Q++];if(ne<128)H[ye++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Qe=G[Q++];H[ye++]=String.fromCharCode((31&ne)<<6|63&Qe)}else if(ne>239&&ne<365){const Tn=((7&ne)<<18|(63&G[Q++])<<12|(63&G[Q++])<<6|63&G[Q++])-65536;H[ye++]=String.fromCharCode(55296+(Tn>>10)),H[ye++]=String.fromCharCode(56320+(1023&Tn))}else{const Qe=G[Q++],mt=G[Q++];H[ye++]=String.fromCharCode((15&ne)<<12|(63&Qe)<<6|63&mt)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const Q=H?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ne=0;ne<G.length;){const Qe=Q[G.charAt(ne++)],Zt=ne<G.length?Q[G.charAt(ne)]:0;++ne;const Gi=ne<G.length?Q[G.charAt(ne)]:64;++ne;const Yt=ne<G.length?Q[G.charAt(ne)]:64;if(++ne,null==Qe||null==Zt||null==Gi||null==Yt)throw Error();ye.push(Qe<<2|Zt>>4),64!==Gi&&(ye.push(Zt<<4&240|Gi>>2),64!==Yt&&ye.push(Gi<<6&192|Yt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},j=function(G){return function(G){const H=ue(G);return K.encodeByteArray(H,!0)}(G).replace(/\./g,"")},J=function(G){try{return K.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function V(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const Q in H)!H.hasOwnProperty(Q)||!q(Q)||(G[Q]=V(G[Q],H[Q]));return G}function q(G){return"__proto__"!==G}class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Q)=>{this.resolve=H,this.reject=Q})}wrapCallback(H){return(Q,ye)=>{Q?this.reject(Q):this.resolve(ye),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Q):H(Q,ye))}}}function _e(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=H||"demo-project",ne=G.iat||0,Qe=G.sub||G.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ne,exp:ne+3600,auth_time:ne,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},G);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(mt)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function we(){return"object"==typeof self&&self.self===self}function Be(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){return De().indexOf("Electron/")>=0}function zt(){const G=De();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function en(){return De().indexOf("MSAppHost/")>=0}function Te(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rn(){return"object"==typeof indexedDB}class pe extends Error{constructor(H,Q,ye){super(Q),this.code=H,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(H,Q,ye){this.service=H,this.serviceName=Q,this.errors=ye}create(H,...Q){const ye=Q[0]||{},ne=`${this.service}/${H}`,Qe=this.errors[H],mt=Qe?function(G,H){return G.replace(it,(Q,ye)=>{const ne=H[ye];return null!=ne?String(ne):`<${ye}?>`})}(Qe,ye):"Error";return new pe(ne,`${this.serviceName}: ${mt} (${ne}).`,ye)}}const it=/\{\$([^}]+)}/g;function ft(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function Fn(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function qr(G,H){if(G===H)return!0;const Q=Object.keys(G),ye=Object.keys(H);for(const ne of Q){if(!ye.includes(ne))return!1;const Qe=G[ne],mt=H[ne];if(xr(Qe)&&xr(mt)){if(!qr(Qe,mt))return!1}else if(Qe!==mt)return!1}for(const ne of ye)if(!Q.includes(ne))return!1;return!0}function xr(G){return null!==G&&"object"==typeof G}function aa(G){const H=[];for(const[Q,ye]of Object.entries(G))Array.isArray(ye)?ye.forEach(ne=>{H.push(encodeURIComponent(Q)+"="+encodeURIComponent(ne))}):H.push(encodeURIComponent(Q)+"="+encodeURIComponent(ye));return H.length?"&"+H.join("&"):""}function so(G){const H={};return G.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ne,Qe]=ye.split("=");H[decodeURIComponent(ne)]=decodeURIComponent(Qe)}}),H}function vs(G){const H=G.indexOf("?");if(!H)return"";const Q=G.indexOf("#",H);return G.substring(H,Q>0?Q:void 0)}function ko(G,H){const Q=new Bs(G,H);return Q.subscribe.bind(Q)}class Bs{constructor(H,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{H(this)}).catch(ye=>{this.error(ye)})}next(H){this.forEachObserver(Q=>{Q.next(H)})}error(H){this.forEachObserver(Q=>{Q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Q,ye){let ne;if(void 0===H&&void 0===Q&&void 0===ye)throw new Error("Missing Observer.");ne=function(G,H){if("object"!=typeof G||null===G)return!1;for(const Q of["next","error","complete"])if(Q in G&&"function"==typeof G[Q])return!0;return!1}(H)?H:{next:H,error:Q,complete:ye},void 0===ne.next&&(ne.next=zn),void 0===ne.error&&(ne.error=zn),void 0===ne.complete&&(ne.complete=zn);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(mt){}}),this.observers.push(ne),Qe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,H)}sendOne(H,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Q(this.observers[H])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function Bi(G){return G&&G._delegate?G._delegate:G}},7841:(Je,be,N)=>{"use strict";N.d(be,{Z:()=>r.Z});var r=N(3394);r.Z.registerVersion("firebase","9.6.5","app-compat")},4828:(Je,be,N)=>{"use strict";N.r(be);var r=N(8239),B=N(3394),L=N(9511),ue=N(3854),Z=(N(8026),N(5422),N(3910));function j(){return window}function V(){return(V=(0,r.Z)(function*(oe,W,z){var Ee;const{BuildInfo:qe}=j();(0,L.ap)(W.sessionId,"AuthEvent did not contain a session ID");const St=yield we(W.sessionId),sn={};return(0,L.aq)()?sn.ibi=qe.packageName:(0,L.ar)()?sn.apn=qe.packageName:(0,L.as)(oe,"operation-not-supported-in-this-environment"),qe.displayName&&(sn.appDisplayName=qe.displayName),sn.sessionId=St,(0,L.at)(oe,z,W.type,void 0,null!==(Ee=W.eventId)&&void 0!==Ee?Ee:void 0,sn)})).apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(oe){const{BuildInfo:W}=j(),z={};(0,L.aq)()?z.iosBundleId=W.packageName:(0,L.ar)()?z.androidPackageName=W.packageName:(0,L.as)(oe,"operation-not-supported-in-this-environment"),yield(0,L.au)(oe,z)})).apply(this,arguments)}function de(){return(de=(0,r.Z)(function*(oe,W,z){const{cordova:Ee}=j();let qe=()=>{};try{yield new Promise((St,sn)=>{let It=null;function hn(){var pn;St();const Hn=null===(pn=Ee.plugins.browsertab)||void 0===pn?void 0:pn.close;"function"==typeof Hn&&Hn(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function $n(){It||(It=window.setTimeout(()=>{sn((0,L.av)(oe,"redirect-cancelled-by-user"))},2e3))}function Wn(){"visible"===(null==document?void 0:document.visibilityState)&&$n()}W.addPassiveListener(hn),document.addEventListener("resume",$n,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",Wn,!1),qe=()=>{W.removePassiveListener(hn),document.removeEventListener("resume",$n,!1),document.removeEventListener("visibilitychange",Wn,!1),It&&window.clearTimeout(It)}})}finally{qe()}})).apply(this,arguments)}function we(oe){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(oe){const W=ct(oe),z=yield crypto.subtle.digest("SHA-256",W);return Array.from(new Uint8Array(z)).map(qe=>qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ct(oe){if((0,L.ap)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const W=new ArrayBuffer(oe.length),z=new Uint8Array(W);for(let Ee=0;Ee<oe.length;Ee++)z[Ee]=oe.charCodeAt(Ee);return z}class zt extends L.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(W=>{this.resolveInialized=W})}addPassiveListener(W){this.passiveListeners.add(W)}removePassiveListener(W){this.passiveListeners.delete(W)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(W){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(W)),super.onEvent(W)}initialized(){var W=this;return(0,r.Z)(function*(){yield W.initPromise})()}}function Te(oe){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(oe){const W=yield he()._get(fe(oe));return W&&(yield he()._remove(fe(oe))),W})).apply(this,arguments)}function ge(){const oe=[],W="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ee=Math.floor(Math.random()*W.length);oe.push(W.charAt(Ee))}return oe.join("")}function he(){return(0,L.ax)(L.b)}function fe(oe){return(0,L.ay)("authEvent",oe.config.apiKey,oe.name)}function Ve(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[W,...z]=oe.split("?");return(0,ue.zd)(z.join("?"))}function nt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.av)("no-auth-event")}}function ft(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function Fn(oe=(0,ue.z$)()){return!("file:"!==ft()&&"ionic:"!==ft()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function so(){try{const oe=self.localStorage,W=L.aG();if(oe)return oe.setItem(W,"1"),oe.removeItem(W),!function(oe=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(oe=(0,ue.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ue.hl)()}catch(oe){return vs()&&(0,ue.hl)()}return!1}function vs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yr(){return("http:"===ft()||"https:"===ft()||(0,ue.ru)()||Fn())&&!((0,ue.b$)()||(0,ue.UG)())&&so()&&!vs()}function ko(){return Fn()&&"undefined"!=typeof document}function rt(){return(rt=(0,r.Z)(function*(){return!!ko()&&new Promise(oe=>{const W=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(W),oe(!0)})})})).apply(this,arguments)}const zn={LOCAL:"local",NONE:"none",SESSION:"session"},Fi=L.aw,pt="persistence";function Wt(oe){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(oe){yield oe._initializationPromise;const W=dn(),z=L.ay(pt,oe.config.apiKey,oe.name);W&&W.setItem(z,oe._getPersistence())})).apply(this,arguments)}function dn(){var oe;try{return(null===(oe="undefined"!=typeof window?window:null)||void 0===oe?void 0:oe.sessionStorage)||null}catch(W){return null}}const He=L.aw;class $e{constructor(){this.browserResolver=L.ax(L.k),this.cordovaResolver=L.ax(class{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aA}_initialize(W){var z=this;return(0,r.Z)(function*(){const Ee=W._key();let qe=z.eventManagers.get(Ee);return qe||(qe=new zt(W),z.eventManagers.set(Ee,qe),z.attachCallbackListeners(W,qe)),qe})()}_openPopup(W){(0,L.as)(W,"operation-not-supported-in-this-environment")}_openRedirect(W,z,Ee,qe){var St=this;return(0,r.Z)(function*(){!function(oe){var W,z,Ee,qe,St,sn,It,hn,$n,Wn;const pn=j();(0,L.aw)("function"==typeof(null===(W=null==pn?void 0:pn.universalLinks)||void 0===W?void 0:W.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aw)(void 0!==(null===(z=null==pn?void 0:pn.BuildInfo)||void 0===z?void 0:z.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aw)("function"==typeof(null===(St=null===(qe=null===(Ee=null==pn?void 0:pn.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===St?void 0:St.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(hn=null===(It=null===(sn=null==pn?void 0:pn.cordova)||void 0===sn?void 0:sn.plugins)||void 0===It?void 0:It.browsertab)||void 0===hn?void 0:hn.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(Wn=null===($n=null==pn?void 0:pn.cordova)||void 0===$n?void 0:$n.InAppBrowser)||void 0===Wn?void 0:Wn.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(W);const sn=yield St._initialize(W);yield sn.initialized(),sn.resetRedirect(),(0,L.aB)(),yield St._originValidation(W);const It=function(oe,W,z=null){return{type:W,eventId:z,urlResponse:null,sessionId:ge(),postBody:null,tenantId:oe.tenantId,error:(0,L.av)(oe,"no-auth-event")}}(W,Ee,qe);yield function(oe,W){return he()._set(fe(oe),W)}(W,It);const hn=yield function(oe,W,z){return V.apply(this,arguments)}(W,It,z),$n=yield function(oe){const{cordova:W}=j();return new Promise(z=>{W.plugins.browsertab.isAvailable(Ee=>{let qe=null;Ee?W.plugins.browsertab.openUrl(oe):qe=W.InAppBrowser.open(oe,(0,L.ao)()?"_blank":"_system","location=yes"),z(qe)})})}(hn);return function(oe,W,z){return de.apply(this,arguments)}(W,sn,$n)})()}_isIframeWebStorageSupported(W,z){throw new Error("Method not implemented.")}_originValidation(W){const z=W._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function(oe){return ae.apply(this,arguments)}(W)),this.originValidationPromises[z]}attachCallbackListeners(W,z){const{universalLinks:Ee,handleOpenURL:qe,BuildInfo:St}=j(),sn=setTimeout((0,r.Z)(function*(){yield Te(W),z.onEvent(nt())}),500),It=function(){var Wn=(0,r.Z)(function*(pn){clearTimeout(sn);const Hn=yield Te(W);let Ze=null;Hn&&(null==pn?void 0:pn.url)&&(Ze=function(oe,W){var z,Ee;const qe=function(oe){const W=Ve(oe),z=W.link?decodeURIComponent(W.link):void 0,Ee=Ve(z).link,qe=W.deep_link_id?decodeURIComponent(W.deep_link_id):void 0;return Ve(qe).link||qe||Ee||z||oe}(W);if(qe.includes("/__/auth/callback")){const St=Ve(qe),sn=St.firebaseError?function(oe){try{return JSON.parse(oe)}catch(W){return null}}(decodeURIComponent(St.firebaseError)):null,It=null===(Ee=null===(z=null==sn?void 0:sn.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ee?void 0:Ee[1],hn=It?(0,L.av)(It):null;return hn?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:hn,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:qe,postBody:null}}return null}(Hn,pn.url)),z.onEvent(Ze||nt())});return function(Hn){return Wn.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,It);const hn=qe,$n=`${St.packageName.toLowerCase()}://`;j().handleOpenURL=function(){var Wn=(0,r.Z)(function*(pn){if(pn.toLowerCase().startsWith($n)&&It({url:pn}),"function"==typeof hn)try{hn(pn)}catch(Hn){console.error(Hn)}});return function(pn){return Wn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aA}_initialize(W){var z=this;return(0,r.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(W)})()}_openPopup(W,z,Ee,qe){var St=this;return(0,r.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(W,z,Ee,qe)})()}_openRedirect(W,z,Ee,qe){var St=this;return(0,r.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(W,z,Ee,qe)})()}_isIframeWebStorageSupported(W,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(W,z)}_originValidation(W){return this.assertedUnderlyingResolver._originValidation(W)}get _shouldInitProactively(){return ko()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return He(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var W=this;return(0,r.Z)(function*(){if(W.underlyingResolver)return;const z=yield function(){return rt.apply(this,arguments)}();W.underlyingResolver=z?W.cordovaResolver:W.browserResolver})()}}function Io(oe){return oe.unwrap()}function Cs(oe){return Li(oe)}function Li(oe){const{_tokenResponse:W}=oe instanceof ue.ZR?oe.customData:oe;if(!W)return null;if(!(oe instanceof ue.ZR)&&"temporaryProof"in W&&"phoneNumber"in W)return L.P.credentialFromResult(oe);const z=W.providerId;if(!z||z===L.o.PASSWORD)return null;let Ee;switch(z){case L.o.GOOGLE:Ee=L.N;break;case L.o.FACEBOOK:Ee=L.M;break;case L.o.GITHUB:Ee=L.Q;break;case L.o.TWITTER:Ee=L.V;break;default:const{oauthIdToken:qe,oauthAccessToken:St,oauthTokenSecret:sn,pendingToken:It,nonce:hn}=W;return St||sn||qe||It?It?z.startsWith("saml.")?L.aJ._create(z,It):L.I._fromParams({providerId:z,signInMethod:z,pendingToken:It,idToken:qe,accessToken:St}):new L.T(z).credential({idToken:qe,accessToken:St,rawNonce:hn}):null}return oe instanceof ue.ZR?Ee.credentialFromError(oe):Ee.credentialFromResult(oe)}function Bi(oe,W){return W.catch(z=>{throw z instanceof ue.ZR&&function(oe,W){var z;const Ee=null===(z=W.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===W.code)W.resolver=new Q(oe,L.am(oe,W));else if(Ee){const qe=Li(W),St=W;qe&&(St.credential=qe,St.tenantId=Ee.tenantId||void 0,St.email=Ee.email||void 0,St.phoneNumber=Ee.phoneNumber||void 0)}}(oe,z),z}).then(z=>{const qe=z.user;return{operationType:z.operationType,credential:Cs(z),additionalUserInfo:L.ak(z),user:ye.getOrCreate(qe)}})}function G(oe,W){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(oe,W){const z=yield W;return{verificationId:z.verificationId,confirm:Ee=>Bi(oe,z.confirm(Ee))}})).apply(this,arguments)}class Q{constructor(W,z){this.resolver=z,this.auth=W.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(W){return Bi(Io(this.auth),this.resolver.resolveSignIn(W))}}class ye{constructor(W){this._delegate=W,this.multiFactor=L.an(W)}static getOrCreate(W){return ye.USER_MAP.has(W)||ye.USER_MAP.set(W,new ye(W)),ye.USER_MAP.get(W)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(W){return this._delegate.getIdTokenResult(W)}getIdToken(W){return this._delegate.getIdToken(W)}linkAndRetrieveDataWithCredential(W){return this.linkWithCredential(W)}linkWithCredential(W){var z=this;return(0,r.Z)(function*(){return Bi(z.auth,L.Y(z._delegate,W))})()}linkWithPhoneNumber(W,z){var Ee=this;return(0,r.Z)(function*(){return G(Ee.auth,L.l(Ee._delegate,W,z))})()}linkWithPopup(W){var z=this;return(0,r.Z)(function*(){return Bi(z.auth,L.d(z._delegate,W,$e))})()}linkWithRedirect(W){var z=this;return(0,r.Z)(function*(){return yield Wt(L.aC(z.auth)),L.g(z._delegate,W,$e)})()}reauthenticateAndRetrieveDataWithCredential(W){return this.reauthenticateWithCredential(W)}reauthenticateWithCredential(W){var z=this;return(0,r.Z)(function*(){return Bi(z.auth,L.Z(z._delegate,W))})()}reauthenticateWithPhoneNumber(W,z){return G(this.auth,L.r(this._delegate,W,z))}reauthenticateWithPopup(W){return Bi(this.auth,L.e(this._delegate,W,$e))}reauthenticateWithRedirect(W){var z=this;return(0,r.Z)(function*(){return yield Wt(L.aC(z.auth)),L.h(z._delegate,W,$e)})()}sendEmailVerification(W){return L.aa(this._delegate,W)}unlink(W){var z=this;return(0,r.Z)(function*(){return yield L.aj(z._delegate,W),z})()}updateEmail(W){return L.af(this._delegate,W)}updatePassword(W){return L.ag(this._delegate,W)}updatePhoneNumber(W){return L.u(this._delegate,W)}updateProfile(W){return L.ae(this._delegate,W)}verifyBeforeUpdateEmail(W,z){return L.ab(this._delegate,W,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ye.USER_MAP=new WeakMap;const ne=L.aw;let Qe=(()=>{class oe{constructor(z,Ee){if(this.app=z,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qe}=z.options;ne(qe,"invalid-api-key",{appName:z.name}),ne(qe,"invalid-api-key",{appName:z.name});const St="undefined"!=typeof window?$e:void 0;this._delegate=Ee.initialize({options:{persistence:Zt(qe,z.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(L.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ye.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ee){L.E(this._delegate,z,Ee)}applyActionCode(z){return L.a1(this._delegate,z)}checkActionCode(z){return L.a2(this._delegate,z)}confirmPasswordReset(z,Ee){return L.a0(this._delegate,z,Ee)}createUserWithEmailAndPassword(z,Ee){var qe=this;return(0,r.Z)(function*(){return Bi(qe._delegate,L.a4(qe._delegate,z,Ee))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return L.a9(this._delegate,z)}isSignInWithEmailLink(z){return L.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,r.Z)(function*(){ne(Yr(),z._delegate,"operation-not-supported-in-this-environment");const Ee=yield L.j(z._delegate,$e);return Ee?Bi(z._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function(oe,W){(0,L.aC)(oe)._logFramework(W)}(this._delegate,z)}onAuthStateChanged(z,Ee,qe){const{next:St,error:sn,complete:It}=mt(z,Ee,qe);return this._delegate.onAuthStateChanged(St,sn,It)}onIdTokenChanged(z,Ee,qe){const{next:St,error:sn,complete:It}=mt(z,Ee,qe);return this._delegate.onIdTokenChanged(St,sn,It)}sendSignInLinkToEmail(z,Ee){return L.a6(this._delegate,z,Ee)}sendPasswordResetEmail(z,Ee){return L.$(this._delegate,z,Ee||void 0)}setPersistence(z){var Ee=this;return(0,r.Z)(function*(){let qe;switch(function(oe,W){Fi(Object.values(zn).includes(W),oe,"invalid-persistence-type"),(0,ue.b$)()?Fi(W!==zn.SESSION,oe,"unsupported-persistence-type"):(0,ue.UG)()?Fi(W===zn.NONE,oe,"unsupported-persistence-type"):vs()?Fi(W===zn.NONE||W===zn.LOCAL&&(0,ue.hl)(),oe,"unsupported-persistence-type"):Fi(W===zn.NONE||so(),oe,"unsupported-persistence-type")}(Ee._delegate,z),z){case zn.SESSION:qe=L.a;break;case zn.LOCAL:qe=(yield L.ax(L.i)._isAvailable())?L.i:L.b;break;case zn.NONE:qe=L.K;break;default:return L.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(qe)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Bi(this._delegate,L.W(this._delegate))}signInWithCredential(z){return Bi(this._delegate,L.X(this._delegate,z))}signInWithCustomToken(z){return Bi(this._delegate,L._(this._delegate,z))}signInWithEmailAndPassword(z,Ee){return Bi(this._delegate,L.a5(this._delegate,z,Ee))}signInWithEmailLink(z,Ee){return Bi(this._delegate,L.a8(this._delegate,z,Ee))}signInWithPhoneNumber(z,Ee){return G(this._delegate,L.s(this._delegate,z,Ee))}signInWithPopup(z){var Ee=this;return(0,r.Z)(function*(){return ne(Yr(),Ee._delegate,"operation-not-supported-in-this-environment"),Bi(Ee._delegate,L.c(Ee._delegate,z,$e))})()}signInWithRedirect(z){var Ee=this;return(0,r.Z)(function*(){return ne(Yr(),Ee._delegate,"operation-not-supported-in-this-environment"),yield Wt(Ee._delegate),L.f(Ee._delegate,z,$e)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return L.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=zn,oe})();function mt(oe,W,z){let Ee=oe;"function"!=typeof oe&&({next:Ee,error:W,complete:z}=oe);const qe=Ee;return{next:sn=>qe(sn&&ye.getOrCreate(sn)),error:W,complete:z}}function Zt(oe,W){const z=function(oe,W){const z=dn();if(!z)return[];const Ee=L.ay(pt,oe,W);switch(z.getItem(Ee)){case zn.NONE:return[L.K];case zn.LOCAL:return[L.i,L.a];case zn.SESSION:return[L.a];default:return[]}}(oe,W);if("undefined"!=typeof self&&!z.includes(L.i)&&z.push(L.i),"undefined"!=typeof window)for(const Ee of[L.b,L.a])z.includes(Ee)||z.push(Ee);return z.includes(L.K)||z.push(L.K),z}class Tn{constructor(){this.providerId="phone",this._delegate=new L.P(Io(B.Z.auth()))}static credential(W,z){return L.P.credential(W,z)}verifyPhoneNumber(W,z){return this._delegate.verifyPhoneNumber(W,z)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=L.P.PROVIDER_ID;const Gi=L.aw;var oe;(oe=B.Z).INTERNAL.registerComponent(new Z.wA("auth-compat",W=>{const z=W.getProvider("app-compat").getImmediate(),Ee=W.getProvider("auth");return new Qe(z,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.L,FacebookAuthProvider:L.M,GithubAuthProvider:L.Q,GoogleAuthProvider:L.N,OAuthProvider:L.T,SAMLAuthProvider:L.U,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:class{constructor(W,z,Ee=B.Z.app()){var qe;Gi(null===(qe=Ee.options)||void 0===qe?void 0:qe.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new L.R(W,z,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:L.V,Auth:Qe,AuthCredential:L.G,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.7")},3098:(Je,be,N)=>{"use strict";N.d(be,{P:()=>se});var r=N(9193),B=N(5917),L=N(205);class se{constructor(Z,j,J){this.kind=Z,this.value=j,this.error=J,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,j,J){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return j&&j(this.error);case"C":return J&&J()}}accept(Z,j,J){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,j,J)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return(0,L._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new se("N",Z):se.undefinedValueNotification}static createError(Z){return new se("E",void 0,Z)}static createComplete(){return se.completeNotification}}se.completeNotification=new se("C"),se.undefinedValueNotification=new se("N",void 0)},7574:(Je,be,N)=>{"use strict";N.d(be,{y:()=>V});var r=N(7393),L=N(9181),ue=N(6490),K=N(6554),Z=N(4487);var F=N(2494);let V=(()=>{class ae{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const de=new ae;return de.source=this,de.operator=De,de}subscribe(De,de,Ie){const{operator:we}=this,Be=function(ae,_e,De){if(ae){if(ae instanceof r.L)return ae;if(ae[L.b])return ae[L.b]()}return ae||_e||De?new r.L(ae,_e,De):new r.L(ue.c)}(De,de,Ie);if(Be.add(we?we.call(Be,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),F.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(De){try{return this._subscribe(De)}catch(de){F.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=de),function(ae){for(;ae;){const{closed:_e,destination:De,isStopped:de}=ae;if(_e||de)return!1;ae=De&&De instanceof r.L?De:null}return!0}(De)?De.error(de):console.warn(de)}}forEach(De,de){return new(de=q(de))((Ie,we)=>{let Be;Be=this.subscribe(ct=>{try{De(ct)}catch(Pt){we(Pt),Be&&Be.unsubscribe()}},we,Ie)})}_subscribe(De){const{source:de}=this;return de&&de.subscribe(De)}[K.L](){return this}pipe(...De){return 0===De.length?this:function(ae){return 0===ae.length?Z.y:1===ae.length?ae[0]:function(De){return ae.reduce((de,Ie)=>Ie(de),De)}}(De)(this)}toPromise(De){return new(De=q(De))((de,Ie)=>{let we;this.subscribe(Be=>we=Be,Be=>Ie(Be),()=>de(we))})}}return ae.create=_e=>new ae(_e),ae})();function q(ae){if(ae||(ae=F.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},6490:(Je,be,N)=>{"use strict";N.d(be,{c:()=>L});var r=N(2494),B=N(4449);const L={closed:!0,next(ue){},error(ue){if(r.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,B.z)(ue)},complete(){}}},9765:(Je,be,N)=>{"use strict";N.d(be,{Yc:()=>Z,xQ:()=>j});var r=N(7574),B=N(7393),L=N(5319),ue=N(7971),se=N(8858),K=N(9181);class Z extends B.L{constructor(V){super(V),this.destination=V}}let j=(()=>{class F extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[K.b](){return new Z(this)}lift(q){const ae=new J(this,this);return ae.operator=q,ae}next(q){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:ae}=this,_e=ae.length,De=ae.slice();for(let de=0;de<_e;de++)De[de].next(q)}}error(q){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:ae}=this,_e=ae.length,De=ae.slice();for(let de=0;de<_e;de++)De[de].error(q);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:q}=this,ae=q.length,_e=q.slice();for(let De=0;De<ae;De++)_e[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new ue.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new ue.N;return this.hasError?(q.error(this.thrownError),L.w.EMPTY):this.isStopped?(q.complete(),L.w.EMPTY):(this.observers.push(q),new se.W(this,q))}asObservable(){const q=new r.y;return q.source=this,q}}return F.create=(V,q)=>new J(V,q),F})();class J extends j{constructor(V,q){super(),this.destination=V,this.source=q}next(V){const{destination:q}=this;q&&q.next&&q.next(V)}error(V){const{destination:q}=this;q&&q.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:q}=this;return q?this.source.subscribe(V):L.w.EMPTY}}},8858:(Je,be,N)=>{"use strict";N.d(be,{W:()=>B});var r=N(5319);class B extends r.w{constructor(ue,se){super(),this.subject=ue,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,se=ue.observers;if(this.subject=null,!se||0===se.length||ue.isStopped||ue.closed)return;const K=se.indexOf(this.subscriber);-1!==K&&se.splice(K,1)}}},7393:(Je,be,N)=>{"use strict";N.d(be,{L:()=>Z});var r=N(9105),B=N(6490),L=N(5319),ue=N(9181),se=N(2494),K=N(4449);class Z extends L.w{constructor(F,V,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!F){this.destination=B.c;break}if("object"==typeof F){F instanceof Z?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new j(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new j(this,F,V,q)}}[ue.b](){return this}static create(F,V,q){const ae=new Z(F,V,q);return ae.syncErrorThrowable=!1,ae}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class j extends Z{constructor(F,V,q,ae){super(),this._parentSubscriber=F;let _e,De=this;(0,r.m)(V)?_e=V:V&&(_e=V.next,q=V.error,ae=V.complete,V!==B.c&&(De=Object.create(V),(0,r.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=_e,this._error=q,this._complete=ae}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;se.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:q}=se.v;if(this._error)q&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)q?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,K.z)(F),this.unsubscribe();else{if(this.unsubscribe(),q)throw F;(0,K.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(q){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw q;(0,K.z)(q)}}__tryOrSetError(F,V,q){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,q)}catch(ae){return se.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=ae,F.syncErrorThrown=!0,!0):((0,K.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Je,be,N)=>{"use strict";N.d(be,{w:()=>K});var r=N(9796),B=N(1555),L=N(9105);const se=(()=>{function j(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return j.prototype=Object.create(Error.prototype),j})();class K{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:q,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof K)F.remove(this);else if(null!==F)for(let _e=0;_e<F.length;++_e)F[_e].remove(this);if((0,L.m)(q)){V&&(this._unsubscribe=void 0);try{q.call(this)}catch(_e){J=_e instanceof se?Z(_e.errors):[_e]}}if((0,r.k)(ae)){let _e=-1,De=ae.length;for(;++_e<De;){const de=ae[_e];if((0,B.K)(de))try{de.unsubscribe()}catch(Ie){J=J||[],Ie instanceof se?J=J.concat(Z(Ie.errors)):J.push(Ie)}}}if(J)throw new se(J)}add(J){let F=J;if(!J)return K.EMPTY;switch(typeof J){case"function":F=new K(J);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof K)){const ae=F;F=new K,F._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof K){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[F]:q.push(F),F}remove(J){const F=this._subscriptions;if(F){const V=F.indexOf(J);-1!==V&&F.splice(V,1)}}}var j;function Z(j){return j.reduce((J,F)=>J.concat(F instanceof se?F.errors:F),[])}K.EMPTY=((j=new K).closed=!0,j)},2494:(Je,be,N)=>{"use strict";N.d(be,{v:()=>B});let r=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=L},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(Je,be,N)=>{"use strict";N.d(be,{IY:()=>ue,Ds:()=>K,ft:()=>j});var r=N(7393),B=N(7574),L=N(7444);class ue extends r.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class K extends r.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function j(J,F){if(F.closed)return;if(J instanceof B.y)return J.subscribe(F);let V;try{V=(0,L.s)(J)(F)}catch(q){F.error(q)}return V}},2441:(Je,be,N)=>{"use strict";N.d(be,{c:()=>se,N:()=>K});var r=N(9765),B=N(7574),L=N(5319),ue=N(1307);class se extends B.y{constructor(V,q){super(),this.source=V,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new L.w,V.add(this.source.subscribe(new Z(this.getSubject(),this))),V.closed&&(this._connection=null,V=L.w.EMPTY)),V}refCount(){return(0,ue.x)()(this)}}const K=(()=>{const F=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class Z extends r.Yc{constructor(V,q){super(V),this.connectable=q}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const q=V._connection;V._refCount=0,V._subject=null,V._connection=null,q&&q.unsubscribe()}}}},9193:(Je,be,N)=>{"use strict";N.d(be,{E:()=>B,c:()=>L});var r=N(7574);const B=new r.y(se=>se.complete());function L(se){return se?function(se){return new r.y(K=>se.schedule(()=>K.complete()))}(se):B}},4402:(Je,be,N)=>{"use strict";N.d(be,{D:()=>De});var r=N(7574),B=N(7444),L=N(5319),ue=N(6554),Z=N(4087),j=N(377),V=N(4072),q=N(9489);function De(de,Ie){return Ie?function(de,Ie){if(null!=de){if(function(de){return de&&"function"==typeof de[ue.L]}(de))return function(de,Ie){return new r.y(we=>{const Be=new L.w;return Be.add(Ie.schedule(()=>{const ct=de[ue.L]();Be.add(ct.subscribe({next(Pt){Be.add(Ie.schedule(()=>we.next(Pt)))},error(Pt){Be.add(Ie.schedule(()=>we.error(Pt)))},complete(){Be.add(Ie.schedule(()=>we.complete()))}}))})),Be})}(de,Ie);if((0,V.t)(de))return function(de,Ie){return new r.y(we=>{const Be=new L.w;return Be.add(Ie.schedule(()=>de.then(ct=>{Be.add(Ie.schedule(()=>{we.next(ct),Be.add(Ie.schedule(()=>we.complete()))}))},ct=>{Be.add(Ie.schedule(()=>we.error(ct)))}))),Be})}(de,Ie);if((0,q.z)(de))return(0,Z.r)(de,Ie);if(function(de){return de&&"function"==typeof de[j.hZ]}(de)||"string"==typeof de)return function(de,Ie){if(!de)throw new Error("Iterable cannot be null");return new r.y(we=>{const Be=new L.w;let ct;return Be.add(()=>{ct&&"function"==typeof ct.return&&ct.return()}),Be.add(Ie.schedule(()=>{ct=de[j.hZ](),Be.add(Ie.schedule(function(){if(we.closed)return;let Pt,zt;try{const en=ct.next();Pt=en.value,zt=en.done}catch(en){return void we.error(en)}zt?we.complete():(we.next(Pt),this.schedule())}))})),Be})}(de,Ie)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,Ie):de instanceof r.y?de:new r.y((0,B.s)(de))}},6693:(Je,be,N)=>{"use strict";N.d(be,{n:()=>ue});var r=N(7574),B=N(5015),L=N(4087);function ue(se,K){return K?(0,L.r)(se,K):new r.y((0,B.V)(se))}},6682:(Je,be,N)=>{"use strict";N.d(be,{T:()=>se});var r=N(7574),B=N(4869),L=N(3282),ue=N(6693);function se(...K){let Z=Number.POSITIVE_INFINITY,j=null,J=K[K.length-1];return(0,B.K)(J)?(j=K.pop(),K.length>1&&"number"==typeof K[K.length-1]&&(Z=K.pop())):"number"==typeof J&&(Z=K.pop()),null===j&&1===K.length&&K[0]instanceof r.y?K[0]:(0,L.J)(Z)((0,ue.n)(K,j))}},5917:(Je,be,N)=>{"use strict";N.d(be,{of:()=>ue});var r=N(4869),B=N(6693),L=N(4087);function ue(...se){let K=se[se.length-1];return(0,r.K)(K)?(se.pop(),(0,L.r)(se,K)):(0,B.n)(se)}},205:(Je,be,N)=>{"use strict";N.d(be,{_:()=>B});var r=N(7574);function B(ue,se){return new r.y(se?K=>se.schedule(L,0,{error:ue,subscriber:K}):K=>K.error(ue))}function L({error:ue,subscriber:se}){se.error(ue)}},8002:(Je,be,N)=>{"use strict";N.d(be,{U:()=>B});var r=N(7393);function B(se,K){return function(j){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return j.lift(new L(se,K))}}class L{constructor(K,Z){this.project=K,this.thisArg=Z}call(K,Z){return Z.subscribe(new ue(K,this.project,this.thisArg))}}class ue extends r.L{constructor(K,Z,j){super(K),this.project=Z,this.count=0,this.thisArg=j||this}_next(K){let Z;try{Z=this.project.call(this.thisArg,K,this.count++)}catch(j){return void this.destination.error(j)}this.destination.next(Z)}}},3282:(Je,be,N)=>{"use strict";N.d(be,{J:()=>L});var r=N(9773),B=N(4487);function L(ue=Number.POSITIVE_INFINITY){return(0,r.zg)(B.y,ue)}},9773:(Je,be,N)=>{"use strict";N.d(be,{zg:()=>ue});var r=N(8002),B=N(4402),L=N(5345);function ue(j,J,F=Number.POSITIVE_INFINITY){return"function"==typeof J?V=>V.pipe(ue((q,ae)=>(0,B.D)(j(q,ae)).pipe((0,r.U)((_e,De)=>J(q,_e,ae,De))),F)):("number"==typeof J&&(F=J),V=>V.lift(new se(j,F)))}class se{constructor(J,F=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=F}call(J,F){return F.subscribe(new K(J,this.project,this.concurrent))}}class K extends L.Ds{constructor(J,F,V=Number.POSITIVE_INFINITY){super(J),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let F;const V=this.index++;try{F=this.project(J,V)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(F)}_innerSub(J){const F=new L.IY(this),V=this.destination;V.add(F);const q=(0,L.ft)(J,F);q!==F&&V.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Je,be,N)=>{"use strict";N.d(be,{QV:()=>L,ht:()=>se});var r=N(7393),B=N(3098);function L(Z,j=0){return function(F){return F.lift(new ue(Z,j))}}class ue{constructor(j,J=0){this.scheduler=j,this.delay=J}call(j,J){return J.subscribe(new se(j,this.scheduler,this.delay))}}class se extends r.L{constructor(j,J,F=0){super(j),this.scheduler=J,this.delay=F}static dispatch(j){const{notification:J,destination:F}=j;J.observe(F),this.unsubscribe()}scheduleMessage(j){this.destination.add(this.scheduler.schedule(se.dispatch,this.delay,new K(j,this.destination)))}_next(j){this.scheduleMessage(B.P.createNext(j))}_error(j){this.scheduleMessage(B.P.createError(j)),this.unsubscribe()}_complete(){this.scheduleMessage(B.P.createComplete()),this.unsubscribe()}}class K{constructor(j,J){this.notification=j,this.destination=J}}},1307:(Je,be,N)=>{"use strict";N.d(be,{x:()=>B});var r=N(7393);function B(){return function(K){return K.lift(new L(K))}}class L{constructor(K){this.connectable=K}call(K,Z){const{connectable:j}=this;j._refCount++;const J=new ue(K,j),F=Z.subscribe(J);return J.closed||(J.connection=j.connect()),F}}class ue extends r.L{constructor(K,Z){super(K),this.connectable=Z}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const Z=K._refCount;if(Z<=0)return void(this.connection=null);if(K._refCount=Z-1,Z>1)return void(this.connection=null);const{connection:j}=this,J=K._connection;this.connection=null,J&&(!j||J===j)&&J.unsubscribe()}}},8819:(Je,be,N)=>{"use strict";N.d(be,{B:()=>Z});var r=N(2441);var ue=N(1307),se=N(9765);function K(){return new se.xQ}function Z(){return j=>(0,ue.x)()(function(j,J){return function(V){let q;q="function"==typeof j?j:function(){return j};const ae=Object.create(V,r.N);return ae.source=V,ae.subjectFactory=q,ae}}(K)(j))}},9673:(Je,be,N)=>{"use strict";N.d(be,{R:()=>se});var r=N(7574),B=N(4581),L=N(6561);class ue extends r.y{constructor(j,J=0,F=B.e){super(),this.source=j,this.delayTime=J,this.scheduler=F,(!(0,L.k)(J)||J<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=B.e)}static create(j,J=0,F=B.e){return new ue(j,J,F)}static dispatch(j){const{source:J,subscriber:F}=j;return this.add(J.subscribe(F))}_subscribe(j){return this.scheduler.schedule(ue.dispatch,this.delayTime,{source:this.source,subscriber:j})}}function se(Z,j=0){return function(F){return F.lift(new K(Z,j))}}class K{constructor(j,J){this.scheduler=j,this.delay=J}call(j,J){return new ue(J,this.delay,this.scheduler).subscribe(j)}}},8307:(Je,be,N)=>{"use strict";N.d(be,{b:()=>ue});var r=N(7393),B=N(8640),L=N(9105);function ue(Z,j,J){return function(V){return V.lift(new se(Z,j,J))}}class se{constructor(j,J,F){this.nextOrObserver=j,this.error=J,this.complete=F}call(j,J){return J.subscribe(new K(j,this.nextOrObserver,this.error,this.complete))}}class K extends r.L{constructor(j,J,F,V){super(j),this._tapNext=B.Z,this._tapError=B.Z,this._tapComplete=B.Z,this._tapError=F||B.Z,this._tapComplete=V||B.Z,(0,L.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||B.Z,this._tapError=J.error||B.Z,this._tapComplete=J.complete||B.Z)}_next(j){try{this._tapNext.call(this._context,j)}catch(J){return void this.destination.error(J)}this.destination.next(j)}_error(j){try{this._tapError.call(this._context,j)}catch(J){return void this.destination.error(J)}this.destination.error(j)}_complete(){try{this._tapComplete.call(this._context)}catch(j){return void this.destination.error(j)}return this.destination.complete()}}},4087:(Je,be,N)=>{"use strict";N.d(be,{r:()=>L});var r=N(7574),B=N(5319);function L(ue,se){return new r.y(K=>{const Z=new B.w;let j=0;return Z.add(se.schedule(function(){j!==ue.length?(K.next(ue[j++]),K.closed||Z.add(this.schedule())):K.complete()})),Z})}},6465:(Je,be,N)=>{"use strict";N.d(be,{o:()=>L});var r=N(5319);class B extends r.w{constructor(se,K){super()}schedule(se,K=0){return this}}class L extends B{constructor(se,K){super(se,K),this.scheduler=se,this.work=K,this.pending=!1}schedule(se,K=0){if(this.closed)return this;this.state=se;const Z=this.id,j=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(j,Z,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(j,this.id,K),this}requestAsyncId(se,K,Z=0){return setInterval(se.flush.bind(se,this),Z)}recycleAsyncId(se,K,Z=0){if(null!==Z&&this.delay===Z&&!1===this.pending)return K;clearInterval(K)}execute(se,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(se,K);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,K){let j,Z=!1;try{this.work(se)}catch(J){Z=!0,j=!!J&&J||new Error(J)}if(Z)return this.unsubscribe(),j}_unsubscribe(){const se=this.id,K=this.scheduler,Z=K.actions,j=Z.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==j&&Z.splice(j,1),null!=se&&(this.id=this.recycleAsyncId(K,se,null)),this.delay=null}}},6102:(Je,be,N)=>{"use strict";N.d(be,{v:()=>B});let r=(()=>{class L{constructor(se,K=L.now){this.SchedulerAction=se,this.now=K}schedule(se,K=0,Z){return new this.SchedulerAction(this,se).schedule(Z,K)}}return L.now=()=>Date.now(),L})();class B extends r{constructor(ue,se=r.now){super(ue,()=>B.delegate&&B.delegate!==this?B.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,se=0,K){return B.delegate&&B.delegate!==this?B.delegate.schedule(ue,se,K):super.schedule(ue,se,K)}flush(ue){const{actions:se}=this;if(this.active)return void se.push(ue);let K;this.active=!0;do{if(K=ue.execute(ue.state,ue.delay))break}while(ue=se.shift());if(this.active=!1,K){for(;ue=se.shift();)ue.unsubscribe();throw K}}}},4581:(Je,be,N)=>{"use strict";N.d(be,{e:()=>q,E:()=>V});let r=1;const B=Promise.resolve(),L={};function ue(ae){return ae in L&&(delete L[ae],!0)}const se={setImmediate(ae){const _e=r++;return L[_e]=!0,B.then(()=>ue(_e)&&ae()),_e},clearImmediate(ae){ue(ae)}};var Z=N(6465),J=N(6102);const V=new class extends J.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let de,Ie=-1,we=De.length;_e=_e||De.shift();do{if(de=_e.execute(_e.state,_e.delay))break}while(++Ie<we&&(_e=De.shift()));if(this.active=!1,de){for(;++Ie<we&&(_e=De.shift());)_e.unsubscribe();throw de}}}(class extends Z.o{constructor(_e,De){super(_e,De),this.scheduler=_e,this.work=De}requestAsyncId(_e,De,de=0){return null!==de&&de>0?super.requestAsyncId(_e,De,de):(_e.actions.push(this),_e.scheduled||(_e.scheduled=se.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,De,de=0){if(null!==de&&de>0||null===de&&this.delay>0)return super.recycleAsyncId(_e,De,de);0===_e.actions.length&&(se.clearImmediate(De),_e.scheduled=void 0)}}),q=V},3637:(Je,be,N)=>{"use strict";N.d(be,{z:()=>L,P:()=>ue});var r=N(6465);const L=new(N(6102).v)(r.o),ue=L},7771:(Je,be,N)=>{"use strict";N.d(be,{c:()=>K,N:()=>se});var r=N(6465),L=N(6102);const se=new class extends L.v{}(class extends r.o{constructor(j,J){super(j,J),this.scheduler=j,this.work=J}schedule(j,J=0){return J>0?super.schedule(j,J):(this.delay=J,this.state=j,this.scheduler.flush(this),this)}execute(j,J){return J>0||this.closed?super.execute(j,J):this._execute(j,J)}requestAsyncId(j,J,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(j,J,F):j.flush(this)}}),K=se},377:(Je,be,N)=>{"use strict";N.d(be,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,be,N)=>{"use strict";N.d(be,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,be,N)=>{"use strict";N.d(be,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,be,N)=>{"use strict";N.d(be,{N:()=>B});const B=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Je,be,N)=>{"use strict";function r(B){setTimeout(()=>{throw B},0)}N.d(be,{z:()=>r})},4487:(Je,be,N)=>{"use strict";function r(B){return B}N.d(be,{y:()=>r})},9796:(Je,be,N)=>{"use strict";N.d(be,{k:()=>r});const r=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(Je,be,N)=>{"use strict";N.d(be,{z:()=>r});const r=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(Je,be,N)=>{"use strict";function r(B){return"function"==typeof B}N.d(be,{m:()=>r})},6561:(Je,be,N)=>{"use strict";N.d(be,{k:()=>B});var r=N(9796);function B(L){return!(0,r.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Je,be,N)=>{"use strict";function r(B){return null!==B&&"object"==typeof B}N.d(be,{K:()=>r})},4072:(Je,be,N)=>{"use strict";function r(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}N.d(be,{t:()=>r})},4869:(Je,be,N)=>{"use strict";function r(B){return B&&"function"==typeof B.schedule}N.d(be,{K:()=>r})},8640:(Je,be,N)=>{"use strict";function r(){}N.d(be,{Z:()=>r})},7444:(Je,be,N)=>{"use strict";N.d(be,{s:()=>V});var r=N(5015),B=N(4449),ue=N(377),K=N(6554),j=N(9489),J=N(4072),F=N(1555);const V=q=>{if(q&&"function"==typeof q[K.L])return(q=>ae=>{const _e=q[K.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(ae)})(q);if((0,j.z)(q))return(0,r.V)(q);if((0,J.t)(q))return(q=>ae=>(q.then(_e=>{ae.closed||(ae.next(_e),ae.complete())},_e=>ae.error(_e)).then(null,B.z),ae))(q);if(q&&"function"==typeof q[ue.hZ])return(q=>ae=>{const _e=q[ue.hZ]();for(;;){let De;try{De=_e.next()}catch(de){return ae.error(de),ae}if(De.done){ae.complete();break}if(ae.next(De.value),ae.closed)break}return"function"==typeof _e.return&&ae.add(()=>{_e.return&&_e.return()}),ae})(q);{const _e=`You provided ${(0,F.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},5015:(Je,be,N)=>{"use strict";N.d(be,{V:()=>r});const r=B=>L=>{for(let ue=0,se=B.length;ue<se&&!L.closed;ue++)L.next(B[ue]);L.complete()}},629:(Je,be,N)=>{"use strict";var r=N(7716);let B=null;function L(){return B}const Z=new r.OlP("DocumentToken");let j=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:J,token:n,providedIn:"platform"}),n})();function J(){return(0,r.LFG)(V)}const F=new r.OlP("Location Initialized");let V=(()=>{class n extends j{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){q()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){q()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=(0,r.Yz7)({factory:ae,token:n,providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ae(){return new V((0,r.LFG)(Z))}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function De(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:we,token:n,providedIn:"root"}),n})();function we(n){const t=(0,r.LFG)(Z).location;return new ct((0,r.LFG)(j),t&&t.origin||"")}const Be=new r.OlP("appBaseHref");let ct=(()=>{class n extends Ie{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,o){const u=this.prepareExternalUrl(s+de(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){const u=this.prepareExternalUrl(s+de(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(j),r.LFG(Be,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Pt=(()=>{class n extends Ie{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=_e(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,o){let u=this.prepareExternalUrl(s+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){let u=this.prepareExternalUrl(s+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(j),r.LFG(Be,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),zt=(()=>{class n{constructor(e,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=De(Te(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+de(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Te(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ie),r.LFG(j))},n.normalizeQueryParams=de,n.joinWithSlash=_e,n.stripTrailingSlash=De,n.\u0275prov=(0,r.Yz7)({factory:en,token:n,providedIn:"root"}),n})();function en(){return new zt((0,r.LFG)(Ie),(0,r.LFG)(j))}function Te(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))();const vs=r.kL8;class ua{}let wd=(()=>{class n extends ua{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(vs(i||this.locale)(e)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.soG))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class as{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,o,u)=>{if(null==s.previousIndex){const h=this._viewContainer.createEmbeddedView(this._template,new as(null,this._ngForOf,-1,-1),null===u?void 0:u),m=new Dd(s,h);i.push(m)}else if(null==u)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const h=this._viewContainer.get(o);this._viewContainer.move(h,u);const m=new Dd(s,h);i.push(m)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,o=this._viewContainer.length;s<o;s++){const u=this._viewContainer.get(s);u.context.index=s,u.context.count=o,u.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Dd{constructor(t,e){this.record=t,this.view=e}}let Ke=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Wp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){da("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){da("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Wp{constructor(){this.$implicit=null,this.ngIf=null}}function da(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class Rl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let zi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Jn=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new Rl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(zi,9))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ha=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),vi=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),n})();class CD{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ao{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Fv=new ao,Rg=new CD;let Og=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,r.QGY)(e))return Fv;if((0,r.F4k)(e))return Rg;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO,16))},n.\u0275pipe=r.Yjl({name:"async",type:n,pure:!1}),n})(),$t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:ua,useClass:wd}]}),n})();function Hc(n){return"browser"===n}function cs(n){return"server"===n}let Nl=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new tf((0,r.LFG)(Z),window)}),n})();class tf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Zc(this.window.history)||Zc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Zc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new qc,B||(B=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null);return null==e?null:function(n){Ln=Ln||document.createElement("a"),Ln.setAttribute("href",n);const t=Ln.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ln,pa=null;const rf=new r.OlP("TRANSITION_ID"),jr=[{provide:r.ip1,useFactory:function(n,t,e){return()=>{e.get(r.CZH).donePromise.then(()=>{const i=L(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<s.length;o++)i.remove(s[o])})}},deps:[rf,Z,r.zs3],multi:!0}];class xd{static init(){(0,r.VLi)(new xd)}addToWindow(t){r.dqk.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new Error("Could not find testability for element.");return o},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const s=r.dqk.getAllAngularTestabilities();let o=s.length,u=!1;const h=function(m){u=u||m,o--,0==o&&i(u)};s.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=new r.OlP("EventManagerPlugins");let Se=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let o=0;o<s.length;o++){const u=s[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Pl),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Xt{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=L().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let zc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Qn=(()=>{class n extends zc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,s.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($c),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($c))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function $c(n){L().remove(n)}const Ha={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ws=/%COMP%/g;function Wi(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Wi(n,s,e):(s=s.replace(ws,n),e.push(s))}return e}function ds(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Vs=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Us(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Gv(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case r.ifc.ShadowDom:return new Wc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Wi(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Se),r.LFG(Qn),r.LFG(r.AFp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Us{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ha[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const o=Ha[s];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Ha[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,i,s&r.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ds(i)):this.eventManager.addEventListener(t,e,ds(i))}}class Gv extends Us{constructor(t,e,i,s){super(t),this.component=i;const o=Wi(s+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(ws,s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(ws,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Wc extends Us{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Wi(s.id,s.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let uf=(()=>{class n extends Xt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=["alt","control","meta","shift"],AD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wv={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hf=(()=>{class n extends Xt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=n._normalizeKey(i.pop());let u="";if(Jc.forEach(m=>{const b=i.indexOf(m);b>-1&&(i.splice(b,1),u+=m+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=s,h.fullKey=u,h}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ir.hasOwnProperty(t)&&(t=Ir[t]))}return AD[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Jc.forEach(o=>{o!=s&&Wv[o](e)&&(i+=o+".")}),i+=s,i}static eventCallback(e,i,s){return o=>{n.getEventFullKey(o)===e&&s.runGuarded(()=>i(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Lo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(Ul)},token:n,providedIn:"root"}),n})(),Ul=(()=>{class n extends Lo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case r.q3G.NONE:return i;case r.q3G.HTML:return(0,r.qzn)(i,"HTML")?(0,r.z3N)(i):(0,r.EiD)(this._doc,String(i)).toString();case r.q3G.STYLE:return(0,r.qzn)(i,"Style")?(0,r.z3N)(i):i;case r.q3G.SCRIPT:if((0,r.qzn)(i,"Script"))return(0,r.z3N)(i);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(i),(0,r.qzn)(i,"URL")?(0,r.z3N)(i):(0,r.mCW)(String(i));case r.q3G.RESOURCE_URL:if((0,r.qzn)(i,"ResourceURL"))return(0,r.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=(0,r.Yz7)({factory:function(){return function(n){return new Ul(n.get(Z))}((0,r.LFG)(r.gxx))},token:n,providedIn:"root"}),n})();const Qc=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){qc.makeCurrent(),xd.init()},multi:!0},{provide:Z,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),mf=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Pl,useClass:uf,multi:!0,deps:[Z,r.R0b,r.Lbi]},{provide:Pl,useClass:hf,multi:!0,deps:[Z]},[],{provide:Vs,useClass:Vs,deps:[Se,Qn,r.AFp]},{provide:r.FYo,useExisting:Vs},{provide:zc,useExisting:Qn},{provide:Qn,useClass:Qn,deps:[Z]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Se,useClass:Se,deps:[Pl,r.R0b]},{provide:class{},useClass:Yc,deps:[]},[]];let jg=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.AFp,useValue:e.appId},{provide:rf,useExisting:r.AFp},jr]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:mf,imports:[$t,r.hGG]}),n})();"undefined"!=typeof window&&window;var le=N(9765),Mt=N(5319),Ga=N(7971);class ti extends le.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ga.N;return this._value}next(t){super.next(this._value=t)}}var Ue=N(5917);function Bn(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var qn=N(8307),Di=N(7393),fs=N(3637);function Gl(n,t=fs.P){return e=>e.lift(new p_(n,t))}class p_{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new y0(t,this.dueTime,this.scheduler))}}class y0 extends Di.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(v0,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function v0(n){n.debouncedNext()}function gt(n,t){return function(i){return i.lift(new ba(n,t))}}class ba{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new w(t,this.predicate,this.thisArg))}}class w extends Di.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var g=N(8002);const T=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var A=N(9193);function R(n){return t=>0===n?(0,A.c)():t.lift(new ie(n))}class ie{constructor(t){if(this.total=t,this.total<0)throw new T}call(t,e){return e.subscribe(new Ae(t,this.total))}}class Ae extends Di.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Xe(n){return t=>t.lift(new bt(n))}class bt{constructor(t){this.total=t}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends Di.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function on(n,t){return e=>e.lift(new Uo(n,t))}class Uo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ya(t,this.compare,this.keySelector))}}class ya extends Di.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var ni=N(5345);function Pe(n){return t=>t.lift(new Ms(n))}class Ms{constructor(t){this.notifier=t}call(t,e){const i=new jl(t),s=(0,ni.ft)(this.notifier,new ni.IY(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class jl extends ni.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Me(n){return null!=n&&"false"!=`${n}`}function qt(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function uu(n){return Array.isArray(n)?n:[n]}function hi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ii(n){return n instanceof r.SBq?n.nativeElement:n}let Wa;try{Wa="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Wa=!1}let Ef,xt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Hc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wa)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.Lbi))},token:n,providedIn:"root"}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const C0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function QD(){if(Ef)return Ef;if("object"!=typeof document||!document)return Ef=new Set(C0),Ef;let n=document.createElement("input");return Ef=new Set(C0.filter(t=>(n.setAttribute("type",t),n.type===t))),Ef}let Sf,xf,va,D0;function Ho(n){return function(){if(null==Sf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sf=!0}))}finally{Sf=Sf||!1}return Sf}()?n:!!n.capture}function w0(){if(null==va){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return va=!1,va;if("scrollBehavior"in document.documentElement.style)va=!0;else{const n=Element.prototype.scrollTo;va=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return va}function du(){if("object"!=typeof document||!document)return 0;if(null==xf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),xf=0,0===n.scrollLeft&&(n.scrollLeft=1,xf=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return xf}function f_(n){if(function(){if(null==D0){const n="undefined"!=typeof document?document.head:null;D0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return D0}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ja(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Es(n){return n.composedPath?n.composedPath()[0]:n.target}var En=N(7574);let T0=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),KD=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=ii(e);return new En.y(s=>{const u=this._observeElement(i).subscribe(s);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new le.xQ,s=this._mutationObserverFactory.create(o=>i.next(o));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(T0))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(T0))},token:n,providedIn:"root"}),n})(),Af=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Me(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=qt(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Gl(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(KD),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),kf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[T0]}),n})();class hu extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new le.xQ,this._typeaheadSubscription=Mt.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new le.xQ,this.change=new le.xQ,t instanceof r.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,qn.b)(e=>this._pressedLetters.push(e)),Gl(t),gt(()=>this._pressedLetters.length>0),(0,g.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const o=(this._activeItemIndex+s)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Bn(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let S0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===A0(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),o=A0(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Yk(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt))},token:n,providedIn:"root"}),n})();function Yk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function A0(n){if(!Yk(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ih{constructor(t,e,i,s,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(R(1)).subscribe(t)}}let __=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new ih(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(S0),r.LFG(r.R0b),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(S0),r.LFG(r.R0b),r.LFG(Z))},token:n,providedIn:"root"}),n})();function k0(n){return 0===n.offsetX&&0===n.offsetY}function Of(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const oT=new r.OlP("cdk-input-modality-detector-options"),Jk={ignoreKeys:[18,17,224,91,16]},Zo=Ho({passive:!0,capture:!0});let qo=(()=>{class n{constructor(e,i,s,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ti(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,m;(null===(m=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===m?void 0:m.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Es(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(k0(u)?"keyboard":"mouse"),this._mostRecentTarget=Es(u))},this._onTouchstart=u=>{Of(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Es(u))},this._options=Object.assign(Object.assign({},Jk),o),this.modalityDetected=this._modality.pipe(Xe(1)),this.modalityChanged=this.modalityDetected.pipe(on()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Zo),s.addEventListener("mousedown",this._onMousedown,Zo),s.addEventListener("touchstart",this._onTouchstart,Zo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,Zo),document.removeEventListener("mousedown",this._onMousedown,Zo),document.removeEventListener("touchstart",this._onTouchstart,Zo))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z),r.LFG(oT,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z),r.LFG(oT,8))},token:n,providedIn:"root"}),n})();const y_=new r.OlP("cdk-focus-monitor-default-options"),rh=Ho({passive:!0,capture:!0});let Xn=(()=>{class n{constructor(e,i,s,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le.xQ,this._rootNodeFocusAndBlurListener=h=>{const m=Es(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let C=m;C;C=C.parentElement)b.call(this,h,C)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const s=ii(e);if(!this._platform.isBrowser||1!==s.nodeType)return(0,Ue.of)(null);const o=f_(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new le.xQ,rootNode:o};return this._elementInfo.set(s,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=ii(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const o=ii(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,s){s?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),o=Es(e);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rh)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pe(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,o)=>{(o===e||s.checkChildren&&o.contains(e))&&i.push([o,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(xt),r.LFG(qo),r.LFG(Z,8),r.LFG(y_,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(xt),r.LFG(qo),r.LFG(Z,8),r.LFG(y_,8))},token:n,providedIn:"root"}),n})(),v_=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new r.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Xn))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const sh="cdk-high-contrast-black-on-white",R0="cdk-high-contrast-white-on-black",C_="cdk-high-contrast-active";let w_=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(C_),e.remove(sh),e.remove(R0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(C_),e.add(sh)):2===i&&(e.add(C_),e.add(R0))}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(Z))},token:n,providedIn:"root"}),n})(),pu=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(w_))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Mf,kf]]}),n})(),eI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var $l=N(9796),tI=N(9105);function xn(n,t,e,i){return(0,tI.m)(e)&&(i=e,e=void 0),i?xn(n,t,e).pipe((0,g.U)(s=>(0,$l.k)(s)?i(...s):i(s))):new En.y(s=>{cT(n,t,function(u){s.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},s,e)})}function cT(n,t,e,i,s){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,s),o=()=>u.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),o=()=>u.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),o=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,h=n.length;u<h;u++)cT(n[u],t,e,i,s)}i.add(o)}var N0=N(6465),P0=N(6102);const hT=new class extends P0.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this.active=!1,i){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends N0.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});N(4581);class fT{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new oI(t,this.durationSelector))}}class oI extends ni.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=(0,ni.ft)(e,new ni.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var oh=N(6561),T_=N(4869);function Pf(n=0,t,e){let i=-1;return(0,oh.k)(t)?i=Number(t)<1?1:Number(t):(0,T_.K)(t)&&(e=t),(0,T_.K)(e)||(e=fs.P),new En.y(s=>{const o=(0,oh.k)(n)?n:+n-e.now();return e.schedule(mT,o,{index:0,period:i,subscriber:s})})}function mT(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function Ff(n,t=fs.P){return function(n){return function(e){return e.lift(new fT(n))}}(()=>Pf(n,t))}var ah=N(3282);function Wl(...n){return(0,ah.J)(1)((0,Ue.of)(...n))}function jt(...n){const t=n[n.length-1];return(0,T_.K)(t)?(n.pop(),e=>Wl(n,e,t)):e=>Wl(n,e)}function Lf(){return n=>n.lift(new F0)}class F0{call(t,e){return e.subscribe(new _T(t))}}class _T extends Di.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var In=N(4402);function fn(n,t){return"function"==typeof t?e=>e.pipe(fn((i,s)=>(0,In.D)(n(i,s)).pipe((0,g.U)((o,u)=>t(i,o,s,u))))):e=>e.lift(new aI(n))}class aI{constructor(t){this.project=t}call(t,e){return e.subscribe(new bT(t,this.project))}}class bT extends ni.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new ni.IY(this),s=this.destination;s.add(i),this.innerSubscription=(0,ni.ft)(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var lI=N(7771),Bf=N(9746),yT=N(8858);class L0 extends le.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new vT(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length;let u;if(this.closed)throw new Ga.N;if(this.isStopped||this.hasError?u=Mt.w.EMPTY:(this.observers.push(t),u=new yT.W(this,t)),s&&t.add(t=new Bf.ht(t,s)),e)for(let h=0;h<o&&!t.closed;h++)t.next(i[h]);else for(let h=0;h<o&&!t.closed;h++)t.next(i[h].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||lI.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,s=this._events,o=s.length;let u=0;for(;u<o&&!(t-s[u].time<i);)u++;return o>e&&(u=Math.max(u,o-e)),u>0&&s.splice(0,u),s}}class vT{constructor(t,e){this.time=t,this.value=e}}function Ss(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},s=>s.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let s,u,o=0,h=!1,m=!1;return function(C){let E;o++,!s||h?(h=!1,s=new L0(n,t,i),E=s.subscribe(this),u=C.subscribe({next(x){s.next(x)},error(x){h=!0,s.error(x)},complete(){m=!0,u=void 0,s.complete()}}),m&&(u=void 0)):E=s.subscribe(this),this.add(()=>{o--,E.unsubscribe(),E=void 0,u&&!m&&e&&0===o&&(u.unsubscribe(),u=void 0,s=void 0)})}}(i))}const wT=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(Z)}});let mn=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const s=e.documentElement?e.documentElement.dir:null,o=(e.body?e.body.dir:null)||s;this.value="ltr"===o||"rtl"===o?o:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(wT,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(wT,8))},token:n,providedIn:"root"}),n})(),Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function lh(n){return n&&"function"==typeof n.connect}class TT{applyChanges(t,e,i,s,o){t.forEachOperation((u,h,m)=>{let b,C;if(null==u.previousIndex){const E=i(u,h,m);b=e.createEmbeddedView(E.templateRef,E.context,E.index),C=1}else null==m?(e.remove(h),C=3):(b=e.get(h),e.move(b,m),C=2);o&&o({context:null==b?void 0:b.context,operation:C,record:u})})}detach(){}}const fu=new r.OlP("_ViewRepeater");let Qa=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new le.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new En.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(Ff(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(gt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=ii(i),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(xt),r.LFG(Z,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(xt),r.LFG(Z,8))},token:n,providedIn:"root"}),n})(),Jl=(()=>{class n{constructor(e,i,s,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=o,this._destroyed=new le.xQ,this._elementScrolled=new En.y(u=>this.ngZone.runOutsideAngular(()=>xn(this.elementRef.nativeElement,"scroll").pipe(Pe(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=du()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==du()?e.left=e.right:1==du()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;w0()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",s="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?s:i:"end"==e&&(e=u?i:s),u&&2==du()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==du()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Qa),r.Y36(r.R0b),r.Y36(mn,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),br=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new le.xQ,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ff(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z,8))},token:n,providedIn:"root"}),n})(),yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),mu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Wr,Mf,yr],Wr,yr]}),n})();function Z0(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}var Sn=N(6682);function q0(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function gu(n,t){const e=t?"":"none";q0(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function pI(n,t,e){q0(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function x_(n,t){return t&&"none"!=t?n+" "+t:n}function fI(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function A_(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function Y0(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function Uf(n,t,e){const{top:i,bottom:s,left:o,right:u}=n;return e>=i&&e<=s&&t>=o&&t<=u}function k_(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function mI(n,t,e,i){const{top:s,right:o,bottom:u,left:h,width:m,height:b}=n,C=m*t,E=b*t;return i>s-E&&i<u+E&&e>h-C&&e<o+C}class gI{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Y0(e)})})}handleScroll(t){const e=Es(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,o=i.scrollPosition;let u,h;if(e===this._document){const C=this._viewportRuler.getViewportScrollPosition();u=C.top,h=C.left}else u=e.scrollTop,h=e.scrollLeft;const m=o.top-u,b=o.left-h;return this.positions.forEach((C,E)=>{C.clientRect&&e!==E&&s.contains(E)&&k_(C.clientRect,m,b)}),o.top=u,o.left=h,{top:m,left:b}}}function _I(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?vI(n,t):("input"===i||"select"===i||"textarea"===i)&&yI(n,t),bI("canvas",n,t,vI),bI("input, textarea, select",n,t,yI),t}function bI(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const o=e.querySelectorAll(n);for(let u=0;u<s.length;u++)i(s[u],o[u])}}let iB=0;function yI(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${iB++}`)}function vI(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const CI=Ho({passive:!0}),wI=Ho({passive:!1}),Da=new Set(["position"]);class G0{constructor(t,e,i,s,o,u){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new le.xQ,this._pointerMoveSubscription=Mt.w.EMPTY,this._pointerUpSubscription=Mt.w.EMPTY,this._scrollSubscription=Mt.w.EMPTY,this._resizeSubscription=Mt.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new le.xQ,this.started=new le.xQ,this.released=new le.xQ,this.ended=new le.xQ,this.entered=new le.xQ,this.exited=new le.xQ,this.dropped=new le.xQ,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const m=this._handles.find(b=>{const C=Es(h);return!!C&&(C===b||b.contains(C))});m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const m=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const k=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),P=this._dropContainer;if(!k)return void this._endDragSequence(h);(!P||!P.isDragging()&&!P.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),h.preventDefault();const b=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(b),this._dropContainer)this._updateActiveDropContainer(b,m);else{const C=this._activeTransform;C.x=b.x-this._pickupPositionOnPage.x+this._passiveTransform.x,C.y=b.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${C.x} ${C.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:b,event:h,distance:this._getDragDistance(b),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new gI(i,o),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Me(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>gu(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>ii(i)),this._handles.forEach(i=>gu(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=ii(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,wI),e.addEventListener("touchstart",this._pointerDown,CI)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?ii(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&ch(this._rootElement),ch(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),gu(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),gu(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&ch(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&ch(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){uh(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();s.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),pI(i,!1,Da),this._document.body.appendChild(s.replaceChild(o,i)),this._getPreviewInsertionPoint(s,h).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=uh(e),o=!s&&0!==e.button,u=this._rootElement,h=Es(e),m=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),b=s?Of(e):k0(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||m||b)return;this._handles.length&&(this._rootElementTapHighlight=u.style.webkitTapHighlightColor||"",u.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(x=>this._updateOnScroll(x)),this._boundaryElement&&(this._boundaryRect=Y0(this._boundaryElement));const C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){pI(this._rootElement,!0,Da),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),o=this._getDragDistance(s),u=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:o,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,u,o,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const o=t.matchSize?this._rootElement.getBoundingClientRect():null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),s=R_(u,this._document),this._previewRef=u,t.matchSize?AT(s,o):s.style.transform=I_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;s=_I(o),AT(s,o.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return q0(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Da),gu(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>s.classList.add(o)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=A_(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const s=e.indexOf(i),o=A_(t,"transition-duration"),u=A_(t,"transition-delay");return fI(o[s])+fI(u[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=u=>{(!u||Es(u)===this._preview&&"transform"===u.propertyName)&&(this._preview.removeEventListener("transitionend",s),i(),clearTimeout(o))},o=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=R_(this._placeholderRef,this._document)):i=_I(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,o=s?s.getBoundingClientRect():i,u=uh(e)?e.targetTouches[0]:e,h=this._getViewportScrollPosition();return{x:o.left-i.left+(u.pageX-o.left-h.left),y:o.top-i.top+(u.pageY-o.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=uh(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=s,h.y=o,h.matrixTransform(u.inverse())}}return{x:s,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:u}=this._pickupPositionInElement,h=this._boundaryRect,m=this._previewRect,b=h.top+u,C=h.bottom-(m.height-u);i=j0(i,h.left+o,h.right-(m.width-o)),s=j0(s,b,C)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-o.x),h=Math.abs(i-o.y);return u>this._config.pointerDirectionChangeThreshold&&(s.x=e>o.x?1:-1,o.x=e),h>this._config.pointerDirectionChangeThreshold&&(s.y=i>o.y?1:-1,o.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,gu(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,wI),t.removeEventListener("touchstart",this._pointerDown,CI)}_applyRootElementTransform(t,e){const i=I_(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=x_(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,o=I_(t,e);this._preview.style.transform=x_(o,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const o=i.left-s.left,u=s.right-i.right,h=i.top-s.top,m=s.bottom-i.bottom;i.width>s.width?(o>0&&(t+=o),u>0&&(t-=u)):t=0,i.height>s.height?(h>0&&(e+=h),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:uh(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Es(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&k_(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=f_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return ii(i)}}function I_(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function j0(n,t,e){return Math.max(t,Math.min(e,n))}function ch(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function uh(n){return"t"===n.type[0]}function R_(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function AT(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=I_(t.left,t.top)}function O_(n,t){return Math.max(0,Math.min(t,n))}class IT{constructor(t,e,i,s,o){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new le.xQ,this.entered=new le.xQ,this.exited=new le.xQ,this.dropped=new le.xQ,this.sorted=new le.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Mt.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new le.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=fs.P){return(!(0,oh.k)(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=fs.P),new En.y(e=>(e.add(t.schedule(Z0,n,{subscriber:e,counter:0,period:n})),e))}(0,hT).pipe(Pe(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?RT(u,-h):2===this._verticalScrollDirection&&RT(u,h),1===this._horizontalScrollDirection?dh(u,-h):2===this._horizontalScrollDirection&&dh(u,h)})},this.element=ii(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new gI(i,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let o;this._draggingStarted(),null==s?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,i))):o=s;const u=this._activeDraggables,h=u.indexOf(t),m=t.getPlaceholderElement();let b=u[o];if(b===t&&(b=u[o+1]),h>-1&&u.splice(h,1),b&&!this._dragDropRegistry.isDragging(b)){const C=b.getRootElement();C.parentElement.insertBefore(m,C),u.splice(o,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const C=u[0].getRootElement();C.parentNode.insertBefore(m,C),u.unshift(t)}else ii(this.element).appendChild(m),u.push(t);m.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,o,u,h){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:o,distance:u,dropPoint:h})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=ii(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?z0("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!mI(this._clientRect,.05,e,i))return;const o=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===u&&o.length>0)return;const h="horizontal"===this._orientation,m=z0(o,X=>X.drag===t),b=o[u],E=b.clientRect,x=m>u?1:-1,k=this._getItemOffsetPx(o[m].clientRect,E,x),P=this._getSiblingOffsetPx(m,o,x),Y=o.slice();(function(n,t,e){const i=O_(t,n.length-1),s=O_(e,n.length-1);if(i===s)return;const o=n[i],u=s<i?-1:1;for(let h=i;h!==s;h+=u)n[h]=n[h+u];n[s]=o})(o,m,u),this.sorted.next({previousIndex:m,currentIndex:u,container:this,item:t}),o.forEach((X,xe)=>{if(Y[xe]===X)return;const Ne=X.drag===t,Fe=Ne?k:P,je=Ne?t.getPlaceholderElement():X.drag.getRootElement();X.offset+=Fe,h?(je.style.transform=x_(`translate3d(${Math.round(X.offset)}px, 0, 0)`,X.initialTransform),k_(X.clientRect,0,Fe)):(je.style.transform=x_(`translate3d(0, ${Math.round(X.offset)}px, 0)`,X.initialTransform),k_(X.clientRect,Fe,0))}),this._previousSwap.overlaps=Uf(E,e,i),this._previousSwap.drag=b.drag,this._previousSwap.delta=h?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,o=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||mI(u.clientRect,.05,t,e)&&([s,o]=function(n,t,e,i){const s=_u(t,i),o=P_(t,e);let u=0,h=0;if(s){const m=n.scrollTop;1===s?m>0&&(u=1):n.scrollHeight-m>n.clientHeight&&(u=2)}if(o){const m=n.scrollLeft;1===o?m>0&&(h=1):n.scrollWidth-m>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(s||o)&&(i=h))}),!s&&!o){const{width:u,height:h}=this._viewportRuler.getViewportSize(),m={width:u,height:h,top:0,right:u,bottom:h,left:0};s=_u(m,e),o=P_(m,t),i=window}i&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=i,(s||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=ii(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=ii(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Y0(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=ii(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const o=null===(i=this._itemPositions.find(u=>u.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=o||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,o=e[t].clientRect,u=e[t+-1*i];let h=o[s?"width":"height"]*i;if(u){const m=s?"left":"top",b=s?"right":"bottom";-1===i?h-=u.clientRect[m]-o[b]:h+=o[m]-u.clientRect[b]}return h}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let o=s?e.left-t.left:e.top-t.top;return-1===i&&(o+=s?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return s?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return s?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,s){const o="horizontal"===this._orientation,u=z0(this._itemPositions,({drag:h,clientRect:m},b,C)=>{if(h===t)return C.length<2;if(s){const E=o?s.x:s.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&E===this._previousSwap.delta)return!1}return o?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom)});return-1!==u&&this.sortPredicate(u,t,this)?u:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Uf(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Uf(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const o=ii(this.element);return s===o||o.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{k_(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=f_(ii(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function z0(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function RT(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function dh(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function _u(n,t){const{top:e,bottom:i,height:s}=n,o=.05*s;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function P_(n,t){const{left:e,right:i,width:s}=n,o=.05*s;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const Kl=Ho({passive:!1,capture:!0});let bu=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new le.xQ,this.pointerUp=new le.xQ,this.scroll=new le.xQ,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Kl)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Kl)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Kl}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Kl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,u)=>{this._document.addEventListener(u,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new En.y(s=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&s.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,Sn.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(Z))},token:n,providedIn:"root"}),n})();const TI={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let F_=(()=>{class n{constructor(e,i,s,o){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(e,i=TI){return new G0(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new IT(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(r.R0b),r.LFG(br),r.LFG(bu))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z),r.LFG(r.R0b),r.LFG(br),r.LFG(bu))},token:n,providedIn:"root"}),n})(),uB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[F_],imports:[yr]}),n})();class K0{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ph extends K0{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class po extends K0{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class II extends K0{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class fh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ph?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof po?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof II?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class FT extends fh{constructor(t,e,i,s,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ri=(()=>{class n extends fh{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(Z))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),n})(),Xa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Wr]]}),n})();const qT=[[["caption"]],[["colgroup"],["col"]]],PI=["caption","colgroup, col"];function YT(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Me(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const gh=new r.OlP("CDK_TABLE");let yu=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),vu=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Zf=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class jT{}const tl=YT(jT);let fo=(()=>{class n extends tl{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Me(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(gh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,yu,5),r.Suo(s,vu,5),r.Suo(s,Zf,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.cell=o.first),r.iGM(o=r.CRH())&&(i.headerCell=o.first),r.iGM(o=r.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})();class tC{constructor(t,e){const i=e.nativeElement.classList;for(const s of t._columnCssClassName)i.add(s)}}let nC=(()=>{class n extends tC{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fo),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.qOj]}),n})(),ec=(()=>{class n extends tC{constructor(e,i){var s;if(super(e,i),1===(null===(s=e._table)||void 0===s?void 0:s._elementRef.nativeElement.nodeType)){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fo),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),n})();class iC{constructor(){this.tasks=[],this.endTasks=[]}}const Cu=new r.OlP("_COALESCED_STYLE_SCHEDULER");let _h=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new le.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new iC,this._getScheduleObservable().pipe(Pe(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new iC;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,In.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(R(1))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),qf=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof bh?e.headerCell.template:this instanceof Yf?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();class zT extends qf{}const BI=YT(zT);let bh=(()=>{class n extends BI{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(gh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})();class VI extends qf{}const rC=YT(VI);let Yf=(()=>{class n extends rC{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(gh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})(),H_=(()=>{class n extends qf{constructor(e,i,s){super(e,i),this._table=s}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(gh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),n})(),Ta=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n.mostRecentCellOutlet=null,n})(),tc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ta],encapsulation:2}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ta],encapsulation:2}),n})(),q_=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const wu=["top","bottom","left","right"];class UI{constructor(t,e,i,s,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=s,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const s of t)if(s.nodeType===s.ELEMENT_NODE){i.push(s);for(let o=0;o<s.children.length;o++)i.push(s.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const s of i)this._removeStickyStyle(s,e)})}updateStickyColumns(t,e,i,s=!0){if(!t.length||!this._isBrowser||!e.some(x=>x)&&!i.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,s),m=this._getStickyStartColumnPositions(h,e),b=this._getStickyEndColumnPositions(h,i),C=e.lastIndexOf(!0),E=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,k=x?"right":"left",P=x?"left":"right";for(const Y of t)for(let X=0;X<u;X++){const xe=Y.children[X];e[X]&&this._addStickyStyle(xe,k,m[X],X===C),i[X]&&this._addStickyStyle(xe,P,b[X],X===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:h.slice(0,C+1).map((Y,X)=>e[X]?Y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:h.slice(E).map((Y,X)=>i[X+E]?Y:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const s="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],m=[];for(let C=0,E=0;C<s.length;C++){if(!o[C])continue;u[C]=E;const x=s[C];m[C]=this._isNativeHtmlTable?Array.from(x.children):[x];const k=x.getBoundingClientRect().height;E+=k,h[C]=k}const b=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var C,E;for(let x=0;x<s.length;x++){if(!o[x])continue;const k=u[x],P=x===b;for(const Y of m[x])this._addStickyStyle(Y,i,k,P)}"top"===i?null===(C=this._positionListener)||void 0===C||C.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:m}):null===(E=this._positionListener)||void 0===E||E.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const s of e)t.style[s]="",t.classList.remove(this._borderCellCss[s]);wu.some(s=>-1===e.indexOf(s)&&t.style[s])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,s){t.classList.add(this._stickCellCss),s&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const s of wu)t.style[s]&&(i+=e[s]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],s=t.children;for(let o=0;o<s.length;o++)i.push(s[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let s=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=s,s+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let s=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=s,s+=t[o]);return i}}const WT=new r.OlP("CDK_SPL");let yh=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),vh=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),oC=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Y_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Gf=(()=>{class n{constructor(e,i,s,o,u,h,m,b,C,E,x){this._differs=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=u,this._platform=m,this._viewRepeater=b,this._coalescedStyleScheduler=C,this._viewportRuler=E,this._stickyPositioningListener=x,this._onDestroy=new le.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new ti({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Me(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Me(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Pe(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),lh(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(s,o,u)=>this._getEmbeddedViewArgs(s.item,u),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{i.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),s.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let o=this._data[s];const u=this._getRenderRowsForData(o,s,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let m=u[h];const b=this._cachedRenderRowsMap.get(m.data);b.has(m.rowDef)?b.get(m.rowDef).push(m):b.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,s){return this._getRowDefs(e,i).map(u=>{const h=s&&s.has(u)?s.get(u):[];if(h.length){const m=h.shift();return m.dataIndex=i,m}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),jf(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=jf(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=jf(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=jf(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||s||o}_switchDataSource(e){this._data=[],lh(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;lh(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof En.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ue.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Pe(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const s=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=s.map(h=>h.sticky),u=s.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let s=0;s<e.viewContainer.length;s++){const o=e.viewContainer.get(s);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&s.push(o)}return s}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,s,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,s);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let s of this._getCellTemplates(e))Ta.mostRecentCellOutlet&&Ta.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,s=e.length;i<s;i++){const u=e.get(i).context;u.count=s,u.first=0===i,u.last=i===s-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const s=this._columnDefsByName.get(i);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of i){const o=this._document.createElement(s.tag);o.setAttribute("role","rowgroup");for(const u of s.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,s)=>i||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new UI(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ue.of)()).pipe(Pe(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const s=this._noDataRowOutlet.viewContainer;i?s.createEmbeddedView(e.templateRef):s.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(mn,8),r.Y36(Z),r.Y36(xt),r.Y36(fu),r.Y36(Cu),r.Y36(br),r.Y36(WT,12))},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,q_,5),r.Suo(s,fo,5),r.Suo(s,H_,5),r.Suo(s,bh,5),r.Suo(s,Yf,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._noDataRow=o.first),r.iGM(o=r.CRH())&&(i._contentColumnDefs=o),r.iGM(o=r.CRH())&&(i._contentRowDefs=o),r.iGM(o=r.CRH())&&(i._contentHeaderRowDefs=o),r.iGM(o=r.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(yh,7),r.Gf(vh,7),r.Gf(oC,7),r.Gf(Y_,7)),2&e){let s;r.iGM(s=r.CRH())&&(i._rowOutlet=s.first),r.iGM(s=r.CRH())&&(i._headerRowOutlet=s.first),r.iGM(s=r.CRH())&&(i._footerRowOutlet=s.first),r.iGM(s=r.CRH())&&(i._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:gh,useExisting:n},{provide:fu,useClass:TT},{provide:Cu,useClass:_h},{provide:WT,useValue:null}])],ngContentSelectors:PI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(qT),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[vh,yh,Y_,oC],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function jf(n,t){return n.concat(Array.from(t))}let JT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mu]]}),n})(),zI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const $I=w0();class eM{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=hi(-this._previousScrollPosition.left),t.style.top=hi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,o=i.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),$I&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$I&&(i.scrollBehavior=o,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class tM{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nM{enable(){}disable(){}attach(){}}function iM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function uC(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class dC{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();iM(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let JI=(()=>{class n{constructor(e,i,s,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new nM,this.close=u=>new tM(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new eM(this._viewportRuler,this._document),this.reposition=u=>new dC(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Qa),r.LFG(br),r.LFG(r.R0b),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Qa),r.LFG(br),r.LFG(r.R0b),r.LFG(Z))},token:n,providedIn:"root"}),n})();class nc{constructor(t){if(this.scrollStrategy=new nM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class QI{constructor(t,e,i,s,o){this.offsetX=i,this.offsetY=s,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class KI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let rM=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z))},token:n,providedIn:"root"}),n})(),$_=(()=>{class n extends rM{constructor(e){super(e),this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){s[o]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z))},token:n,providedIn:"root"}),n})(),wh=(()=>{class n extends rM{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._clickListener=s=>{const o=Es(s),u=this._attachedOverlays.slice();for(let h=u.length-1;h>-1;h--){const m=u[h];if(!(m._outsidePointerEvents.observers.length<1)&&m.hasAttached()){if(m.overlayElement.contains(o))break;m._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z),r.LFG(xt))},token:n,providedIn:"root"}),n})();const il="undefined"!=typeof window?window:{},mo=void 0!==il.__karma__&&!!il.__karma__||void 0!==il.jasmine&&!!il.jasmine||void 0!==il.jest&&!!il.jest||void 0!==il.Mocha&&!!il.Mocha;let rl=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||mo){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o])}const i=this._document.createElement("div");i.classList.add(e),mo?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z),r.LFG(xt))},token:n,providedIn:"root"}),n})();class XI{constructor(t,e,i,s,o,u,h,m,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new le.xQ,this._attachments=new le.xQ,this._detachments=new le.xQ,this._locationChanges=Mt.w.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new le.xQ,this._outsidePointerEvents=new le.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(R(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=hi(this._config.width),t.height=hi(this._config.height),t.minWidth=hi(this._config.minWidth),t.minHeight=hi(this._config.minHeight),t.maxWidth=hi(this._config.maxWidth),t.maxHeight=hi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;uu(e).forEach(o=>{o&&(i?s.add(o):s.remove(o))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Pe((0,Sn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const sM="cdk-overlay-connected-position-bounding-box",hC=/([A-Za-z%]+)$/;class go{constructor(t,e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le.xQ,this._resizeSubscription=Mt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(sM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=[];let o;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,u),m=this._getOverlayPoint(h,e,u),b=this._getOverlayFit(m,e,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(b,m,i)?s.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!o||o.overlayFit.visibleArea<b.visibleArea)&&(o={overlayFit:b,overlayPoint:m,originPoint:h,position:u,overlayRect:e})}if(s.length){let u=null,h=-1;for(const m of s){const b=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);b>h&&(h=b,u=m)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,s;if("center"==e.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==e.originX?o:u}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:s}}_getOverlayPoint(t,e,i){let s,o;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,e,i,s){const o=ic(e);let{x:u,y:h}=t,m=this._getOffset(s,"x"),b=this._getOffset(s,"y");m&&(u+=m),b&&(h+=b);let x=0-h,k=h+o.height-i.height,P=this._subtractOverflows(o.width,0-u,u+o.width-i.width),Y=this._subtractOverflows(o.height,x,k),X=P*Y;return{visibleArea:X,isCompletelyWithinViewport:o.width*o.height===X,fitsInViewportVertically:Y===o.height,fitsInViewportHorizontally:P==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,o=i.right-e.x,u=Or(this._overlayRef.getConfig().minHeight),h=Or(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=s)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=ic(e),o=this._viewportRect,u=Math.max(t.x+s.width-o.width,0),h=Math.max(t.y+s.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0);let C=0,E=0;return C=s.width<=o.width?b||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,E=s.height<=o.height?m||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:C,y:E},{x:t.x+C,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new KI(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let o,u,h,C,E,x;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const k=Math.min(i.bottom-t.y+i.top,t.y),P=this._lastBoundingBoxSize.height;o=2*k,u=t.y-k,o>P&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-P/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)x=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)E=t.x,C=i.right-t.x;else{const k=Math.min(i.right-t.x+i.left,t.x),P=this._lastBoundingBoxSize.width;C=2*k,E=t.x-k,C>P&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-P/2)}return{top:u,left:E,bottom:h,right:x,width:C,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=hi(i.height),s.top=hi(i.top),s.bottom=hi(i.bottom),s.width=hi(i.width),s.left=hi(i.left),s.right=hi(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(s.maxHeight=hi(o)),u&&(s.maxWidth=hi(u))}this._lastBoundingBoxSize=i,jo(this._boundingBox.style,s)}_resetBoundingBoxStyles(){jo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const C=this._viewportRuler.getViewportScrollPosition();jo(i,this._getExactOverlayY(e,t,C)),jo(i,this._getExactOverlayX(e,t,C))}else i.position="static";let h="",m=this._getOffset(e,"x"),b=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(s?i.maxHeight=hi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(s?i.maxWidth=hi(u.maxWidth):o&&(i.maxWidth="")),jo(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=u,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":s.top=hi(o.y),s}_getExactOverlayX(t,e,i){let u,s={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":s.left=hi(o.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uC(t,i),isOriginOutsideView:iM(t,i),isOverlayClipped:uC(e,i),isOverlayOutsideView:iM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&uu(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function jo(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Or(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(hC);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ic(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class W_{constructor(t,e,i,s,o,u,h){this._preferredPositions=[],this._positionStrategy=new go(i,s,o,u,h).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,s){const o=new QI(t,e,i,s);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const qs="cdk-global-overlay-wrapper";class pC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qs),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:u,maxHeight:h}=i,m=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qs),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Dh=(()=>{class n{constructor(e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new pC}connectedTo(e,i,s){return new W_(i,s,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new go(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br),r.LFG(Z),r.LFG(xt),r.LFG(rl))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(br),r.LFG(Z),r.LFG(xt),r.LFG(rl))},token:n,providedIn:"root"}),n})(),Th=0,Zi=(()=>{class n{constructor(e,i,s,o,u,h,m,b,C,E,x){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=b,this._directionality=C,this._location=E,this._outsideClickDispatcher=x}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),u=new nc(e);return u.direction=u.direction||this._directionality.value,new XI(o,i,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Th++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new FT(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(JI),r.LFG(rl),r.LFG(r._Vd),r.LFG(Dh),r.LFG($_),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(Z),r.LFG(mn),r.LFG(zt),r.LFG(wh))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const xh={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Sa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Zi,xh],imports:[[Wr,Xa,mu],mu]}),n})();var oM=N(1555);function fC(...n){if(1===n.length){const t=n[0];if((0,$l.k)(t))return $f(t,null);if((0,oM.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return $f(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return $f(n=1===n.length&&(0,$l.k)(n[0])?n[0]:n,null).pipe((0,g.U)(e=>t(...e)))}return $f(n,null)}function $f(n,t){return new En.y(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let o=0,u=0;for(let h=0;h<i;h++){const m=(0,In.D)(n[h]);let b=!1;e.add(m.subscribe({next:C=>{b||(b=!0,u++),s[h]=C},error:C=>e.error(C),complete:()=>{o++,(o===i||!b)&&(u===i&&e.next(t?t.reduce((C,E,x)=>(C[E]=s[x],C),{}):s),e.complete())}}))}})}let mC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),rc=(()=>{class n extends mC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const On=new r.OlP("NgValueAccessor"),cM={provide:On,useExisting:(0,r.Gpc)(()=>Ys),multi:!0},uM=new r.OlP("CompositionEventMode");let Ys=(()=>{class n extends mC{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(uM,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[r._Bn([cM]),r.qOj]}),n})();function sc(n){return null==n||0===n.length}function nR(n){return null!=n&&"number"==typeof n.length}const Mi=new r.OlP("NgValidators"),sl=new r.OlP("NgAsyncValidators"),iR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(t){return function(n){return t=>{if(sc(t.value)||sc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(sc(t.value)||sc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return sc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return sc(n.value)||iR.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>sc(t.value)||!nR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>nR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return oc;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(sc(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return cR(t)}static composeAsync(t){return uR(t)}}function oc(n){return null}function lR(n){return null!=n}function fM(n){const t=(0,r.QGY)(n)?(0,In.D)(n):n;return(0,r.CqO)(t),t}function mM(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function J_(n,t){return t.map(e=>e(n))}function gM(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function cR(n){if(!n)return null;const t=n.filter(lR);return 0==t.length?null:function(e){return mM(J_(e,t))}}function _M(n){return null!=n?cR(gM(n)):null}function uR(n){if(!n)return null;const t=n.filter(lR);return 0==t.length?null:function(e){return fC(J_(e,t).map(fM)).pipe((0,g.U)(mM))}}function bC(n){return null!=n?uR(gM(n)):null}function yC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function dR(n){return n._rawValidators}function bM(n){return n._rawAsyncValidators}function ac(n){return n?Array.isArray(n)?n:[n]:[]}function Q_(n,t){return Array.isArray(n)?n.includes(t):n===t}function vC(n,t){const e=ac(t);return ac(n).forEach(s=>{Q_(e,s)||e.push(s)}),e}function yM(n,t){return ac(t).filter(e=>!Q_(n,e))}let CC=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_M(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})(),fr=(()=>{class n extends CC{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();class ms extends CC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wC{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let _o=(()=>{class n extends wC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ms,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),n})(),bo=(()=>{class n extends wC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fr,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[r.qOj]}),n})();function Mu(n,t){tb(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nb(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function eb(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),MC(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tb(n,t){const e=dR(n);null!==t.validator?n.setValidators(yC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=bM(n);null!==t.asyncValidator?n.setAsyncValidators(yC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();kh(t._rawValidators,s),kh(t._rawAsyncValidators,s)}function MC(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=dR(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.validator);o.length!==s.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const s=bM(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.asyncValidator);o.length!==s.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return kh(t._rawValidators,i),kh(t._rawAsyncValidators,i),e}function nb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function SC(n,t){tb(n,t)}function TM(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Qf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ih="VALID",rb="INVALID",Eu="PENDING",Rh="DISABLED";function Oh(n){return(ob(n)?n.validators:n)||null}function RC(n){return Array.isArray(n)?_M(n):n||null}function sb(n,t){return(ob(t)?t.asyncValidators:n)||null}function OC(n){return Array.isArray(n)?bC(n):n||null}function ob(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ab{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=RC(this._rawValidators),this._composedAsyncValidatorFn=OC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ih}get invalid(){return this.status===rb}get pending(){return this.status==Eu}get disabled(){return this.status===Rh}get enabled(){return this.status!==Rh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=RC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=OC(t)}addValidators(t){this.setValidators(vC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(vC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yM(t,this._rawAsyncValidators))}hasValidator(t){return Q_(this._rawValidators,t)}hasAsyncValidator(t){return Q_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ih,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ih||this.status===Eu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rh:Ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eu,this._hasOwnPendingAsyncValidator=!0;const e=fM(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Nh?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof lb&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Rh:this.errors?rb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eu)?Eu:this._anyControlsHaveStatus(rb)?rb:Ih}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ob(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Su extends ab{constructor(t=null,e,i){super(Oh(e),sb(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Nh extends ab{constructor(t,e,i){super(Oh(e),sb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Su?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,o)=>{i=e(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class lb extends ab{constructor(t,e,i){super(Oh(e),sb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Su?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const FB={provide:fr,useExisting:(0,r.Gpc)(()=>Gs)},Kf=(()=>Promise.resolve(null))();let Gs=(()=>{class n extends fr{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new Nh({},_M(e),bC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Kf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Mu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Kf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Qf(this._directives,e)})}addFormGroup(e){Kf.then(()=>{const i=this._findContainer(e.path),s=new Nh({});SC(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Kf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Kf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,TM(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mi,10),r.Y36(sl,10))},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([FB]),r.qOj]}),n})(),Au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const IM={provide:On,useExisting:(0,r.Gpc)(()=>NC),multi:!0};let NC=(()=>{class n extends rc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([IM]),r.qOj]}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const yo=new r.OlP("NgModelWithFormControlWarning"),OM={provide:fr,useExisting:(0,r.Gpc)(()=>si)};let si=(()=>{class n extends fr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(MC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mu(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){eb(e.control||null,e,!1),Qf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,TM(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(eb(i||null,e),s instanceof Su&&(Mu(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);SC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return MC(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tb(this.form,this),this._oldForm&&MC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mi,10),r.Y36(sl,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([OM]),r.qOj,r.TTD]}),n})();const Xf={provide:ms,useExisting:(0,r.Gpc)(()=>js)};let js=(()=>{class n extends ms{constructor(e,i,s,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(o=>{o.constructor===Ys?e=o:function(n){return Object.getPrototypeOf(n.constructor)===rc}(o)?i=o:s=o}),s||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fr,13),r.Y36(Mi,10),r.Y36(sl,10),r.Y36(On,10),r.Y36(yo,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Xf]),r.qOj,r.TTD]}),n._ngModelWarningSentOnce=!1,n})(),$M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[cb]]}),n})(),MR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[$M]}),n})(),WM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:yo,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[$M]}),n})(),Co=(()=>{class n{group(e,i=null){const s=this._reduceControls(e);let h,o=null,u=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(o=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new Nh(s,{asyncValidators:u,updateOn:h,validators:o})}control(e,i,s){return new Su(e,i,s)}array(e,i,s){const o=e.map(u=>this._createControl(u));return new lb(o,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof Su||e instanceof Nh||e instanceof lb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:function(){return new n},token:n,providedIn:WM}),n})();class fb extends Di.L{notifyNext(t,e,i,s,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class JM extends Di.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var QM=N(7444);function mb(n,t,e,i,s=new JM(n,e,i)){if(!s.closed)return t instanceof En.y?t.subscribe(s):(0,QM.s)(t)(s)}var gb=N(6693);const GC={};function tm(...n){let t,e;return(0,T_.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,$l.k)(n[0])&&(n=n[0]),(0,gb.n)(n,e).lift(new jC(t))}class jC{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new zC(t,this.resultSelector))}}class zC extends fb{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(GC),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(mb(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,u=this.toRespond?s[i]===GC?--this.toRespond:this.toRespond:0;s[i]=e,0===u&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const _b=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function nm(n){return new En.y(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?(0,In.D)(e):(0,A.c)()).subscribe(t)})}var Lh=N(2441);function bb(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new $C(n,t,e))}}class $C{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new qB(t,this.accumulator,this.seed,this.hasSeed))}}class qB extends Di.L{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function ol(n){return function(e){const i=new KM(n),s=e.lift(i);return i.caught=s}}class KM{constructor(t){this.selector=t}call(t,e){return e.subscribe(new YB(t,this.selector,this.caught))}}class YB extends ni.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new ni.IY(this);this.add(i);const s=(0,ni.ft)(e,i);s!==i&&this.add(s)}}}var et=N(9773);function Bh(n,t){return(0,et.zg)(n,t,1)}function WC(n){return function(e){return 0===n?(0,A.c)():e.lift(new xR(n))}}class xR{constructor(t){if(this.total=t,this.total<0)throw new T}call(t,e){return e.subscribe(new yb(t,this.total))}}class yb extends Di.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let o=0;o<i;o++){const u=e++%i;t.next(s[u])}}t.complete()}}function XM(n=Ei){return t=>t.lift(new vb(n))}class vb{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Cb(t,this.errorFactory))}}class Cb extends Di.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ei(){return new _b}function AR(n=null){return t=>t.lift(new eE(n))}class eE{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new JC(t,this.defaultValue))}}class JC extends Di.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var tE=N(4487);function lc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gt((s,o)=>n(s,o,i)):tE.y,R(1),e?AR(t):XM(()=>new _b))}var iE=N(1307);function QC(n){return t=>t.lift(new kR(n))}class kR{constructor(t){this.callback=t}call(t,e){return e.subscribe(new IR(t,this.callback))}}class IR extends Di.L{constructor(t,e){super(t),this.add(new Mt.w(e))}}class al{constructor(t,e){this.id=t,this.url=e}}class ku extends al{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class im extends al{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rE extends al{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class RR extends al{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wb extends al{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sE extends al{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oE extends al{constructor(t,e,i,s,o){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aE extends al{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OR extends al{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NR{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PR{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FR{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lE{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qt="primary";class LR{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Iu(n){return new LR(n)}const cE="ngNavigationCancelingError";function XC(n){const t=Error("NavigationCancelingError: "+n);return t[cE]=!0,t}function jB(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))s[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function ll(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!ew(n[s],t[s]))return!1;return!0}function ew(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,o)=>i[o]===s)}return n===t}function rm(n){return Array.prototype.concat.apply([],n)}function uE(n){return n.length>0?n[n.length-1]:null}function Cr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function xs(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,In.D)(Promise.resolve(n)):(0,Ue.of)(n)}const VR={exact:function tw(n,t,e){if(!uc(n.segments,t.segments)||!Db(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!tw(n.children[i],t.children[i],e))return!1;return!0},subset:pE},dE={exact:function(n,t){return ll(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ew(n[e],t[e]))},ignored:()=>!0};function hE(n,t,e){return VR[e.paths](n.root,t.root,e.matrixParams)&&dE[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function pE(n,t,e){return Ru(n,t,t.segments,e)}function Ru(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!uc(s,e)||t.hasChildren()||!Db(s,e,i))}if(n.segments.length===e.length){if(!uc(n.segments,e)||!Db(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!pE(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(uc(n.segments,s)&&Db(n.segments,s,i)&&n.children[Qt])&&Ru(n.children[Qt],t,o,i)}}function Db(n,t,e){return t.every((i,s)=>dE[e](n[s].parameters,i.parameters))}class cc{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return mE.serialize(this)}}class an{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Cr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return om(this)}}class Hh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Iu(this.parameters)),this._parameterMap}toString(){return bE(this)}}function uc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class sm{}class fE{parse(t){const e=new CE(t);return new cc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${am(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${Tb(e)}=${Tb(s)}`).join("&"):`${Tb(e)}=${Tb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const mE=new fE;function om(n){return n.segments.map(t=>bE(t)).join("/")}function am(n,t){if(!n.hasChildren())return om(n);if(t){const e=n.children[Qt]?am(n.children[Qt],!1):"",i=[];return Cr(n.children,(s,o)=>{o!==Qt&&i.push(`${o}:${am(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Cr(n.children,(i,s)=>{s===Qt&&(e=e.concat(t(i,s)))}),Cr(n.children,(i,s)=>{s!==Qt&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Qt?[am(n.children[Qt],!1)]:[`${s}:${am(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${om(n)}/${e[0]}`:`${om(n)}/(${e.join("//")})`}}function gE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tb(n){return gE(n).replace(/%3B/gi,";")}function iw(n){return gE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function _E(n){return lm(n.replace(/\+/g,"%20"))}function bE(n){return`${iw(n.path)}${function(n){return Object.keys(n).map(t=>`;${iw(t)}=${iw(n[t])}`).join("")}(n.parameters)}`}const jR=/^[^\/()?;=#]+/;function Mb(n){const t=n.match(jR);return t?t[0]:""}const zR=/^[^=?&#]+/,yE=/^[^?&#]+/;class CE{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Qt]=new an(t,e)),i}parseSegment(){const t=Mb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hh(lm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=Mb(this.remaining);s&&(i=s,this.capture(i))}t[lm(e)]=lm(i)}parseQueryParam(t){const e=function(n){const t=n.match(zR);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function(n){const t=n.match(yE);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const s=_E(e),o=_E(i);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(o)}else t[s]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Mb(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Qt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Qt]:new an([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class wE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cm(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=cm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Eb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Eb(t,this._root).map(e=>e.value)}}function cm(n,t){if(n===t.value)return t;for(const e of t.children){const i=cm(n,e);if(i)return i}return null}function Eb(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Eb(n,e);if(i.length)return i.unshift(t),i}return[]}class cl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function um(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Sb extends wE{constructor(t,e){super(t),this.snapshot=e,Ab(this,t)}toString(){return this.snapshot.toString()}}function xb(n,t){const e=function(n,t){const u=new Zh([],{},{},"",{},Qt,t,null,n.root,-1,{});return new ME("",new cl(u,[]))}(n,t),i=new ti([new Hh("",{})]),s=new ti({}),o=new ti({}),u=new ti({}),h=new ti(""),m=new As(i,s,u,h,o,Qt,t,e.root);return m.snapshot=e.root,new Sb(new cl(m,[]),e)}class As{constructor(t,e,i,s,o,u,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,g.U)(t=>Iu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,g.U)(t=>Iu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TE(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],o=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(o.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Zh{constructor(t,e,i,s,o,u,h,m,b,C,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=h,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=C,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ME extends wE{constructor(t,e){super(e),this.url=t,Ab(this,e)}toString(){return EE(this._root)}}function Ab(n,t){t.value._routerState=n,t.children.forEach(e=>Ab(n,e))}function EE(n){const t=n.children.length>0?` { ${n.children.map(EE).join(", ")} } `:"";return`${n.value}${t}`}function kb(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ll(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ll(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ll(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ll(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ib(n,t){return ll(n.params,t.params)&&function(n,t){return uc(n,t)&&n.every((e,i)=>ll(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Ib(n.parent,t.parent))}function rw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return rw(n,i,s);return rw(n,i)})}(n,t,e);return new cl(i,s)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return xE(t,u),u}}const i=function(n){return new As(new ti(n.url),new ti(n.params),new ti(n.queryParams),new ti(n.fragment),new ti(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(o=>rw(n,o));return new cl(i,s)}}function xE(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)xE(n.children[e],t.children[e])}function Nu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dm(n){return"object"==typeof n&&null!=n&&n.outlets}function dc(n,t,e,i,s){let o={};return i&&Cr(i,(u,h)=>{o[h]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),new cc(e.root===n?t:AE(e.root,n,t),o,s)}function AE(n,t,e){const i={};return Cr(n.children,(s,o)=>{i[o]=s===t?e:AE(s,t,e)}),new an(n.segments,i)}class JR{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Nu(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(dm);if(s&&s!==uE(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wo{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function IE(n,t,e){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return Ob(n,t,e);const i=function(n,t,e){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return o;const u=n.segments[s],h=e[i];if(dm(h))break;const m=`${h}`,b=i<e.length-1?e[i+1]:null;if(s>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!Nb(m,b,u))return o;i+=2}else{if(!Nb(m,{},u))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new an(n.segments.slice(0,i.pathIndex),{});return o.children[Qt]=new an(n.segments.slice(i.pathIndex),n.children),Ob(o,0,s)}return i.match&&0===s.length?new an(n.segments,{}):i.match&&!n.hasChildren()?ow(n,t,e):i.match?Ob(n,0,s):ow(n,t,e)}function Ob(n,t,e){if(0===e.length)return new an(n.segments,{});{const i=function(n){return dm(n[0])?n[0].outlets:{[Qt]:n}}(e),s={};return Cr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[u]=IE(n.children[u],t,o))}),Cr(n.children,(o,u)=>{void 0===i[u]&&(s[u]=o)}),new an(n.segments,s)}}function ow(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const o=e[s];if(dm(o)){const m=KR(o.outlets);return new an(i,m)}if(0===s&&Nu(e[0])){i.push(new Hh(n.segments[t].path,RE(e[0]))),s++;continue}const u=dm(o)?o.outlets[Qt]:`${o}`,h=s<e.length-1?e[s+1]:null;u&&h&&Nu(h)?(i.push(new Hh(u,RE(h))),s+=2):(i.push(new Hh(u,{})),s++)}return new an(i,{})}function KR(n){const t={};return Cr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ow(new an([],{}),0,e))}),t}function RE(n){const t={};return Cr(n,(e,i)=>t[i]=`${e}`),t}function Nb(n,t,e){return n==e.path&&ll(t,e.parameters)}class aw{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),kb(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=um(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,s[u],i),delete s[u]}),Cr(s,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(s===o)if(s.component){const u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=um(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=um(e);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new lE(o.value.snapshot))}),t.children.length&&this.forwardEvent(new PR(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(kb(s),s===o)if(s.component){const u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const h=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),lw(h.route)}else{const h=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),m=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=s,u.resolver=m,u.outlet&&u.outlet.activateWith(s,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}function lw(n){kb(n.value),n.children.forEach(lw)}class NE{constructor(t,e){this.routes=t,this.module=e}}function hc(n){return"function"==typeof n}function Pu(n){return n instanceof cc}const hm=Symbol("INITIAL_VALUE");function qh(){return fn(n=>tm(n.map(t=>t.pipe(R(1),jt(hm)))).pipe(bb((t,e)=>{let i=!1;return e.reduce((s,o,u)=>s!==hm?s:(o===hm&&(i=!0),i||!1!==o&&u!==e.length-1&&!Pu(o)?s:o),t)},hm),gt(t=>t!==hm),(0,g.U)(t=>Pu(t)?t:!0===t),R(1)))}let pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[ym]},encapsulation:2}),n})();function BE(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];VE(i,Pb(t,i))}}function VE(n,t){n.children&&BE(n.children,t)}function Pb(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Yh(n){const t=n.children&&n.children.map(Yh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qt&&(e.component=pm),e}function Jr(n){return n.outlet||Qt}function UE(n,t){const e=n.filter(i=>Jr(i)===t);return e.push(...n.filter(i=>Jr(i)!==t)),e}const HE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cw(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},HE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||jB)(e,n,t);if(!o)return Object.assign({},HE);const u={};Cr(o.posParams,(m,b)=>{u[b]=m.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Fb(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>Lb(n,t,i)&&Jr(i)!==Qt)}(n,e,i)){const u=new an(t,function(n,t,e,i){const s={};s[Qt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Jr(o)!==Qt){const u=new an([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[Jr(o)]=u}return s}(n,t,i,new an(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>Lb(n,t,i))}(n,e,i)){const u=new an(n.segments,function(n,t,e,i,s,o){const u={};for(const h of i)if(Lb(n,e,h)&&!s[Jr(h)]){const m=new an([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[Jr(h)]=m}return Object.assign(Object.assign({},s),u)}(n,t,e,i,n.children,s));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new an(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Lb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ZE(n,t,e,i){return!!(Jr(n)===i||i!==Qt&&Lb(t,e,n))&&("**"===n.path||cw(t,n,e).matched)}function qE(n,t,e){return 0===t.length&&!n.children[e]}class fm{constructor(t){this.segmentGroup=t||null}}class oO{constructor(t){this.urlTree=t}}function Bb(n){return new En.y(t=>t.error(new fm(n)))}function Gh(n){return new En.y(t=>t.error(new oO(n)))}function aO(n){return new En.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Vb{constructor(t,e,i,s,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Fb(this.urlTree.root,[],[],this.config).segmentGroup,e=new an(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Qt).pipe((0,g.U)(o=>this.createUrlTree(Ub(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ol(o=>{if(o instanceof oO)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof fm?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qt).pipe((0,g.U)(s=>this.createUrlTree(Ub(s),t.queryParams,t.fragment))).pipe(ol(s=>{throw s instanceof fm?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new an([],{[Qt]:t}):t;return new cc(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,g.U)(o=>new an([],o))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return(0,In.D)(s).pipe(Bh(o=>{const u=i.children[o],h=UE(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,g.U)(m=>({segment:m,outlet:o})))}),bb((o,u)=>(o[u.outlet]=u.segment,o),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gt((s,o)=>n(s,o,i)):tE.y,WC(1),e?AR(t):XM(()=>new _b))}())}expandSegment(t,e,i,s,o,u){return(0,In.D)(i).pipe(Bh(h=>this.expandSegmentAgainstRoute(t,e,i,h,s,o,u).pipe(ol(b=>{if(b instanceof fm)return(0,Ue.of)(null);throw b}))),lc(h=>!!h),ol((h,m)=>{if(h instanceof _b||"EmptyError"===h.name){if(qE(e,s,o))return(0,Ue.of)(new an([],{}));throw new fm(e)}throw h}))}expandSegmentAgainstRoute(t,e,i,s,o,u,h){return ZE(s,e,o,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u):Bb(e):Bb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Gh(o):this.lineralizeSegments(i,o).pipe((0,et.zg)(u=>{const h=new an(u,{});return this.expandSegment(t,h,e,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){const{matched:h,consumedSegments:m,lastChild:b,positionalParamSegments:C}=cw(e,s,o);if(!h)return Bb(e);const E=this.applyRedirectCommands(m,s.redirectTo,C);return s.redirectTo.startsWith("/")?Gh(E):this.lineralizeSegments(s,E).pipe((0,et.zg)(x=>this.expandSegment(t,e,i,x.concat(o.slice(b)),u,!1)))}matchSegmentAgainstRoute(t,e,i,s,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ue.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,g.U)(x=>(i._loadedConfig=x,new an(s,{})))):(0,Ue.of)(new an(s,{}));const{matched:u,consumedSegments:h,lastChild:m}=cw(e,i,s);if(!u)return Bb(e);const b=s.slice(m);return this.getChildConfig(t,i,s).pipe((0,et.zg)(E=>{const x=E.module,k=E.routes,{segmentGroup:P,slicedSegments:Y}=Fb(e,h,b,k),X=new an(P.segments,P.children);if(0===Y.length&&X.hasChildren())return this.expandChildren(x,k,X).pipe((0,g.U)(je=>new an(h,je)));if(0===k.length&&0===Y.length)return(0,Ue.of)(new an(h,{}));const xe=Jr(i)===o;return this.expandSegment(x,X,k,Y,xe?Qt:o,!0).pipe((0,g.U)(Fe=>new an(h.concat(Fe.segments),Fe.children)))}))}getChildConfig(t,e,i){return e.children?(0,Ue.of)(new NE(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ue.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,et.zg)(s=>{return s?this.configLoader.load(t.injector,e).pipe((0,g.U)(o=>(e._loadedConfig=o,o))):(n=e,new En.y(t=>t.error(XC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ue.of)(new NE([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;if(!s||0===s.length)return(0,Ue.of)(!0);const o=s.map(u=>{const h=t.get(u);let m;if((n=h)&&hc(n.canLoad))m=h.canLoad(e,i);else{if(!hc(h))throw new Error("Invalid CanLoad guard");m=h(e,i)}var n;return xs(m)});return(0,Ue.of)(o).pipe(qh(),(0,qn.b)(u=>{if(!Pu(u))return;const h=XC(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,g.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return(0,Ue.of)(i);if(s.numberOfChildren>1||!s.children[Qt])return aO(t.redirectTo);s=s.children[Qt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const o=this.createSegmentGroup(t,e.root,i,s);return new cc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Cr(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[o]=e[h]}else i[o]=s}),i}createSegmentGroup(t,e,i,s){const o=this.createSegments(t,e.segments,i,s);let u={};return Cr(e.children,(h,m)=>{u[m]=this.createSegmentGroup(t,h,i,s)}),new an(o,u)}createSegments(t,e,i,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function Ub(n){const t={};for(const i of Object.keys(n.children)){const o=Ub(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Qt]){const t=n.children[Qt];return new an(n.segments.concat(t.segments),t.children)}return n}(new an(n.segments,t))}class dO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hb{constructor(t,e){this.component=t,this.route=e}}function Zb(n,t,e){const i=n._root;return jh(i,t?t._root:null,e,[i.value])}function qb(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function jh(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=um(t);return n.children.forEach(u=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!uc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!uc(n.url,t.url)||!ll(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ib(n,t)||!ll(n.queryParams,t.queryParams);case"paramsChange":default:return!Ib(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new dO(i)):(o.data=u.data,o._resolvedData=u._resolvedData),jh(n,t,o.component?h?h.children:null:e,i,s),m&&h&&h.outlet&&h.outlet.isActivated&&s.canDeactivateChecks.push(new Hb(h.outlet.component,u))}else u&&zh(t,h,s),s.canActivateChecks.push(new dO(i)),jh(n,null,o.component?h?h.children:null:e,i,s)})(u,o[u.value.outlet],e,i.concat([u.value]),s),delete o[u.value.outlet]}),Cr(o,(u,h)=>zh(u,e.getContext(h),s)),s}function zh(n,t,e){const i=um(n),s=n.value;Cr(i,(o,u)=>{zh(o,s.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Hb(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class mm{}function Cn(n){return new En.y(t=>t.error(n))}class $h{constructor(t,e,i,s,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=Fb(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qt);if(null===e)return null;const i=new Zh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new cl(i,e),o=new ME(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=TE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=UE(t,o),m=this.processSegmentGroup(h,u,o);if(null===m)return null;i.push(...m)}const s=zs(i);return s.sort((t,e)=>t.value.outlet===Qt?-1:e.value.outlet===Qt?1:t.value.outlet.localeCompare(e.value.outlet)),s}processSegment(t,e,i,s){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,s);if(null!==u)return u}return qE(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!ZE(t,e,i,s))return null;let o,u=[],h=[];if("**"===t.path){const k=i.length>0?uE(i).parameters:{};o=new Zh(i,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dw(t),Jr(t),t.component,t,fc(e),gO(e)+i.length,hw(t))}else{const k=cw(e,t,i);if(!k.matched)return null;u=k.consumedSegments,h=i.slice(k.lastChild),o=new Zh(u,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dw(t),Jr(t),t.component,t,fc(e),gO(e)+u.length,hw(t))}const m=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:C}=Fb(e,u,h,m.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);var n;if(0===C.length&&b.hasChildren()){const k=this.processChildren(m,b);return null===k?null:[new cl(o,k)]}if(0===m.length&&0===C.length)return[new cl(o,[])];const E=Jr(t)===s,x=this.processSegment(m,b,C,E?Qt:s);return null===x?null:[new cl(o,x)]}}function Nt(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zs(n){const t=[],e=new Set;for(const i of n){if(!Nt(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=zs(i.children);t.push(new cl(i.value,s))}return t.filter(i=>!e.has(i))}function fc(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gO(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function dw(n){return n.data||{}}function hw(n){return n.resolve||{}}function $s(n){return fn(t=>{const e=n(t);return e?(0,In.D)(e).pipe((0,g.U)(()=>t)):(0,Ue.of)(t)})}class JE extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const _m=new r.OlP("ROUTES");class Lu{constructor(t,e,i,s){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,g.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new NE(rm(u.injector.get(_m,void 0,r.XFs.Self|r.XFs.Optional)).map(Yh),u)}),ol(o=>{throw e._loader$=void 0,o}));return e._loader$=new Lh.c(s,()=>new le.xQ).pipe((0,iE.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,In.D)(this.loader.load(t)):xs(t()).pipe((0,et.zg)(e=>e instanceof r.YKP?(0,Ue.of)(e):(0,In.D)(this.compiler.compileModuleAsync(e))))}}class bm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wh,this.attachRef=null}}class Wh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class vO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function QE(n){throw n}function pw(n,t,e){return t.parse("/")}function Jh(n,t){return(0,Ue.of)(null)}const fw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{class n{constructor(e,i,s,o,u,h,m,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=o,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.xQ,this.errorHandler=QE,this.malformedUriErrorHandler=pw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jh,afterPreactivation:Jh},this.urlHandlingStrategy=new vO,this.routeReuseStrategy=new JE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(r.h0i),this.console=u.get(r.c2e);const x=u.get(r.R0b);this.isNgZoneEnabled=x instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=new cc(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lu(h,m,k=>this.triggerEvent(new Vh(k)),k=>this.triggerEvent(new Uh(k))),this.routerState=xb(this.currentUrlTree,this.rootComponentType),this.transitions=new ti({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(gt(s=>0!==s.id),(0,g.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),fn(s=>{let o=!1,u=!1;return(0,Ue.of)(s).pipe((0,qn.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fn(h=>{const m=!this.navigated||h.extractedUrl.toString()!==this.browserUrlTree.toString(),b=("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl);if(Vu(h.source)&&(this.browserUrlTree=h.rawUrl),b)return(0,Ue.of)(h).pipe(fn(C=>{const E=this.transitions.getValue();return i.next(new ku(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),E!==this.transitions.getValue()?A.E:Promise.resolve(C)}),function(n,t,e,i){return fn(s=>function(n,t,e,i,s){return new Vb(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe((0,g.U)(o=>Object.assign(Object.assign({},s),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qn.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(n,t,e,i,s){return(0,et.zg)(o=>function(n,t,e,i,s="emptyOnly",o="legacy"){try{const u=new $h(n,t,e,i,s,o).recognize();return null===u?Cn(new mm):(0,Ue.of)(u)}catch(u){return Cn(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,s).pipe((0,g.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qn.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const E=new wb(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);i.next(E)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:x,source:k,restoredState:P,extras:Y}=h,X=new ku(E,this.serializeUrl(x),k,P);i.next(X);const xe=xb(x,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},h),{targetSnapshot:xe,urlAfterRedirects:x,extras:Object.assign(Object.assign({},Y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,this.browserUrlTree=h.urlAfterRedirects,h.resolve(null),A.E}),$s(h=>{const{targetSnapshot:m,id:b,extractedUrl:C,rawUrl:E,extras:{skipLocationChange:x,replaceUrl:k}}=h;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:C,rawUrlTree:E,skipLocationChange:!!x,replaceUrl:!!k})}),(0,qn.b)(h=>{const m=new sE(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,g.U)(h=>Object.assign(Object.assign({},h),{guards:Zb(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function(n,t){return(0,et.zg)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?(0,Ue.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,In.D)(n).pipe((0,et.zg)(s=>function(n,t,e,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ue.of)(!0);const u=o.map(h=>{const m=qb(h,t,s);let b;if(function(n){return n&&hc(n.canDeactivate)}(m))b=xs(m.canDeactivate(n,t,e,i));else{if(!hc(m))throw new Error("Invalid CanDeactivate guard");b=xs(m(n,t,e,i))}return b.pipe(lc())});return(0,Ue.of)(u).pipe(qh())}(s.component,s.route,e,t,i)),lc(s=>!0!==s,!0))}(u,i,s,n).pipe((0,et.zg)(h=>h&&function(n){return"boolean"==typeof n}(h)?function(n,t,e,i){return(0,In.D)(t).pipe(Bh(s=>Wl(function(n,t){return null!==n&&t&&t(new NR(n)),(0,Ue.of)(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new FR(n)),(0,Ue.of)(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>nm(()=>{const h=u.guards.map(m=>{const b=qb(m,u.node,e);let C;if(function(n){return n&&hc(n.canActivateChild)}(b))C=xs(b.canActivateChild(i,n));else{if(!hc(b))throw new Error("Invalid CanActivateChild guard");C=xs(b(i,n))}return C.pipe(lc())});return(0,Ue.of)(h).pipe(qh())}));return(0,Ue.of)(o).pipe(qh())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ue.of)(!0);const s=i.map(o=>nm(()=>{const u=qb(o,t,e);let h;if(function(n){return n&&hc(n.canActivate)}(u))h=xs(u.canActivate(t,n));else{if(!hc(u))throw new Error("Invalid CanActivate guard");h=xs(u(t,n))}return h.pipe(lc())}));return(0,Ue.of)(s).pipe(qh())}(n,s.route,e))),lc(s=>!0!==s,!0))}(i,o,n,t):(0,Ue.of)(h)),(0,g.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,qn.b)(h=>{if(Pu(h.guardsResult)){const b=XC(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw b.url=h.guardsResult,b}const m=new oE(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),gt(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),$s(h=>{if(h.guards.canActivateChecks.length)return(0,Ue.of)(h).pipe((0,qn.b)(m=>{const b=new aE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),fn(m=>{let b=!1;return(0,Ue.of)(m).pipe(function(n,t){return(0,et.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,Ue.of)(e);let o=0;return(0,In.D)(s).pipe(Bh(u=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return(0,Ue.of)({});const o={};return(0,In.D)(s).pipe((0,et.zg)(u=>function(n,t,e,i){const s=qb(n,t,i);return xs(s.resolve?s.resolve(t,e):s(t,e))}(n[u],t,e,i).pipe((0,qn.b)(h=>{o[u]=h}))),WC(1),(0,et.zg)(()=>Object.keys(o).length===s.length?(0,Ue.of)(o):A.E))}(n._resolve,n,t,i).pipe((0,g.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),TE(n,e).resolve),null)))}(u.route,i,n,t)),(0,qn.b)(()=>o++),WC(1),(0,et.zg)(u=>o===s.length?(0,Ue.of)(e):A.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qn.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,qn.b)(m=>{const b=new OR(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),$s(h=>{const{targetSnapshot:m,id:b,extractedUrl:C,rawUrl:E,extras:{skipLocationChange:x,replaceUrl:k}}=h;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:C,rawUrlTree:E,skipLocationChange:!!x,replaceUrl:!!k})}),(0,g.U)(h=>{const m=function(n,t,e){const i=rw(n,t._root,e?e._root:void 0);return new Sb(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:m})}),(0,qn.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,g.U)(i=>(new aw(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,qn.b)({next(){o=!0},complete(){o=!0}}),QC(()=>{if(!o&&!u){const h=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,h)):this.cancelNavigationTransition(s,h)}this.currentNavigation=null}),ol(h=>{if(u=!0,function(n){return n&&n[cE]}(h)){const m=Pu(h.url);m||(this.navigated=!0,this.restoreHistory(s,!0));const b=new rE(s.id,this.serializeUrl(s.extractedUrl),h.message);i.next(b),m?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vu(s.source)};this.scheduleNavigation(C,"imperative",null,E,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const m=new RR(s.id,this.serializeUrl(s.extractedUrl),h);i.next(m);try{s.resolve(this.errorHandler(h))}catch(b){s.reject(b)}}return A.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:o,urlTree:u}=i,h={replaceUrl:!0};if(o){const m=Object.assign({},o);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(h.state=m)}this.scheduleNavigation(u,s,o,h)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const s=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!s||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){BE(e),this.config=e.map(Yh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,b=s||this.routerState.root,C=m?this.currentUrlTree.fragment:u;let E=null;switch(h){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),function(n,t,e,i,s){if(0===e.length)return dc(t.root,t.root,t,i,s);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new JR(!0,0,n);let t=0,e=!1;const i=n.reduce((s,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Cr(o.outlets,(m,b)=>{h[b]="string"==typeof m?m.split("/"):m}),[...s,{outlets:h}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===u?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&s.push(h))}),s):[...s,o]},[]);return new JR(e,t,i)}(e);if(o.toRoot())return dc(t.root,new an([],{}),t,i,s);const u=function(n,t,e){if(n.isAbsolute)return new wo(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new wo(o,o===t.root,0)}const i=Nu(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,o=e;for(;o>s;){if(o-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new wo(i,!1,s-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?Ob(u.segmentGroup,u.index,o.commands):IE(u.segmentGroup,u.index,o.commands);return dc(u.segmentGroup,h,t,i,s)}(b,this.currentUrlTree,e,E,null!=C?C:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Pu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},fw):!1===i?Object.assign({},KE):i,Pu(e))return hE(this.currentUrlTree,e,s);const o=this.parseUrl(e);return hE(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const o=e[s];return null!=o&&(i[s]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new im(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,o,u){var h,m;if(this.disposed)return Promise.resolve(!1);const b=this.getTransition(),C=Vu(i)&&b&&!Vu(b.source),k=(this.lastSuccessfulId===b.id||this.currentNavigation?b.rawUrl:b.urlAfterRedirects).toString()===e.toString();if(C&&k)return Promise.resolve(!0);let P,Y,X;u?(P=u.resolve,Y=u.reject,X=u.promise):X=new Promise((Fe,je)=>{P=Fe,Y=je});const xe=++this.navigationId;let Ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Ne=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):Ne=0,this.setTransition({id:xe,targetPageId:Ne,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:P,reject:Y,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(Fe=>Promise.reject(Fe))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,i=!1){var s,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new rE(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.DyG),r.LFG(sm),r.LFG(Wh),r.LFG(zt),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Vu(n){return"imperative"!==n}let ym=(()=>{class n{constructor(e,i,s,o,u){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=o||Qt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,m=new mw(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Wh),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class mw{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===As?this.route:t===Wh?this.childContexts:this.parent.get(t,e)}}class DO{}class At{preload(t,e){return(0,Ue.of)(null)}}let TO=(()=>{class n{constructor(e,i,s,o,u){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=new Lu(i,s,b=>e.triggerEvent(new Vh(b)),b=>e.triggerEvent(new Uh(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(gt(e=>e instanceof im),Bh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;s.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(e,o)):o.children&&s.push(this.processRoutes(e,o.children));return(0,In.D)(s).pipe((0,ah.J)(),(0,g.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Ue.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,et.zg)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(wn),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(DO))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Hu=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ku?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof im&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof KC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new KC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(wn),r.LFG(Nl),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Zu=new r.OlP("ROUTER_CONFIGURATION"),XE=new r.OlP("ROUTER_FORROOT_GUARD"),s3=[zt,{provide:sm,useClass:fE},{provide:wn,useFactory:function(n,t,e,i,s,o,u,h={},m,b){const C=new wn(null,n,t,e,i,s,o,rm(u));return m&&(C.urlHandlingStrategy=m),b&&(C.routeReuseStrategy=b),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(h,C),h.enableTracing&&C.events.subscribe(E=>{var x,k;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(k=console.groupEnd)||void 0===k||k.call(console)}),C},deps:[sm,Wh,zt,r.zs3,r.v3s,r.Sil,_m,Zu,[class{},new r.FiY],[class{},new r.FiY]]},Wh,{provide:As,useFactory:function(n){return n.routerState.root},deps:[wn]},{provide:r.v3s,useClass:r.EAV},TO,At,class{preload(t,e){return e().pipe(ol(()=>(0,Ue.of)(null)))}},{provide:Zu,useValue:{enableTracing:!1}}];function MO(){return new r.PXZ("Router",wn)}let Nr=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[s3,eS(e),{provide:XE,useFactory:gw,deps:[[wn,new r.FiY,new r.tp0]]},{provide:Zu,useValue:i||{}},{provide:Ie,useFactory:SO,deps:[j,[new r.tBr(Be),new r.FiY],Zu]},{provide:Hu,useFactory:EO,deps:[wn,Nl,Zu]},{provide:DO,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:At},{provide:r.PXZ,multi:!0,useFactory:MO},[_w,{provide:r.ip1,multi:!0,useFactory:IO,deps:[_w]},{provide:tS,useFactory:bw,deps:[_w]},{provide:r.tb,multi:!0,useExisting:tS}]]}}static forChild(e){return{ngModule:n,providers:[eS(e)]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(XE,8),r.LFG(wn,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function EO(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Hu(n,t,e)}function SO(n,t,e={}){return e.useHash?new Pt(n,t):new ct(n,t)}function gw(n){return"guarded"}function eS(n){return[{provide:r.deG,multi:!0,useValue:n},{provide:_m,multi:!0,useValue:n}]}let _w=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new le.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(h=>i=h),o=this.injector.get(wn),u=this.injector.get(Zu);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Zu),s=this.injector.get(TO),o=this.injector.get(Hu),u=this.injector.get(wn),h=this.injector.get(r.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),s.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function IO(n){return n.appInitializer.bind(n)}function bw(n){return n.bootstrapListener.bind(n)}const tS=new r.OlP("Router Initializer");class yw{constructor(t,e,i,s=!1){this.id=t,this.idUser=e,this.date=i,this.identifie=s}}class Qh{constructor(t,e,i,s,o,u,h){this.id=t,this.uid=e,this.nom=i,this.prenom=s,this.email=o,this.emailVerified=u,this.status=h}}var We,fi=N(9126),To=N(8939),nS=(N(4828),N(3394)),ve=N(8239),mc=N(8026),Wb=N(3910),Wo=N(5422),Bt=N(3854),NO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xa={},iS=iS||{},Rt=NO||self;function Jb(){}function vw(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function vm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Cw="closure_uid_"+(1e9*Math.random()>>>0),rS=0;function FO(n,t,e){return n.call.apply(n.bind,arguments)}function LO(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function Qr(n,t,e){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FO:LO).apply(null,arguments)}function ww(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Kr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,s,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[s].apply(i,u)}}function Aa(){this.s=this.s,this.o=this.o}var VO={};Aa.prototype.s=!1,Aa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Cw)&&n[Cw]||(n[Cw]=++rS)}(this);delete VO[n]}},Aa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sS=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},oS=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,s="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in s&&t.call(e,s[o],o,n)};function aS(n){return Array.prototype.concat.apply([],arguments)}function Qb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Kh(n){return/^[\s\xa0]*$/.test(n)}var Xr,lS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xi(n,t){return-1!=n.indexOf(t)}function wr(n,t){return n<t?-1:n>t?1:0}e:{var Mo=Rt.navigator;if(Mo){var Kb=Mo.userAgent;if(Kb){Xr=Kb;break e}}Xr=""}function Dw(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Tw(n){const t={};for(const e in n)t[e]=n[e];return t}var Mw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ew(n,t){let e,i;for(let s=1;s<arguments.length;s++){for(e in i=arguments[s],i)n[e]=i[e];for(let o=0;o<Mw.length;o++)e=Mw[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Sw(n){return Sw[" "](n),n}Sw[" "]=Jb;var xw,n,ZO=Xi(Xr,"Opera"),qu=Xi(Xr,"Trident")||Xi(Xr,"MSIE"),cS=Xi(Xr,"Edge"),uS=cS||qu,dS=Xi(Xr,"Gecko")&&!(Xi(Xr.toLowerCase(),"webkit")&&!Xi(Xr,"Edge"))&&!(Xi(Xr,"Trident")||Xi(Xr,"MSIE"))&&!Xi(Xr,"Edge"),qO=Xi(Xr.toLowerCase(),"webkit")&&!Xi(Xr,"Edge");function Yu(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Xb="",Aw=(n=Xr,dS?/rv:([^\);]+)(\)|;)/.exec(n):cS?/Edge\/([\d\.]+)/.exec(n):qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qO?/WebKit\/(\S+)/.exec(n):ZO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Aw&&(Xb=Aw?Aw[1]:""),qu){var hS=Yu();if(null!=hS&&hS>parseFloat(Xb)){xw=String(hS);break e}}xw=Xb}var pS={};function YO(){return t=pS,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=lS(String(xw)).split("."),e=lS("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var s=t[u]||"",o=e[u]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;n=wr(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||wr(0==s[2].length,0==o[2].length)||wr(s[2],o[2]),s=s[3],o=o[3]}while(0==n)}return 0<=n}();var t}var fS=Rt.document&&qu&&(Yu()||parseInt(xw,10))||void 0,mS=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",Jb,t),Rt.removeEventListener("test",Jb,t)}catch(e){}return n}();function Pr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function wm(n,t){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(dS){e:{try{Sw(t.nodeName);var s=!0;break e}catch(o){}s=!1}s||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wm.Z.h.call(this)}}Pr.prototype.h=function(){this.defaultPrevented=!0},Kr(wm,Pr);var GO={2:"touch",3:"pen",4:"mouse"};wm.prototype.h=function(){wm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dm="closure_listenable_"+(1e6*Math.random()|0),jO=0;function zO(n,t,e,i,s){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=s,this.key=++jO,this.ca=this.fa=!1}function ey(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function gc(n){this.src=n,this.g={},this.h=0}function ty(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],s=sS(i,t);(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(ey(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function ny(n,t,e,i){for(var s=0;s<n.length;++s){var o=n[s];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return s}return-1}gc.prototype.add=function(n,t,e,i,s){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=ny(n,t,i,s);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new zO(t,this.src,o,!!i,s)).fa=e,n.push(t)),t};var iy="closure_lm_"+(1e6*Math.random()|0),ry={};function Iw(n,t,e,i,s){if(i&&i.once)return Ow(n,t,e,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Iw(n,t[o],e,i,s);return null}return e=Fw(e),n&&n[Dm]?n.N(t,e,vm(i)?!!i.capture:!!i,s):Rw(n,t,e,!1,i,s)}function Rw(n,t,e,i,s,o){if(!t)throw Error("Invalid event type");var u=vm(s)?!!s.capture:!!s,h=Gu(n);if(h||(n[iy]=h=new gc(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function(){var t=WO;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)mS||(s=u),void 0===s&&(s=!1),n.addEventListener(t.toString(),i,s);else if(n.attachEvent)n.attachEvent(gS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Ow(n,t,e,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ow(n,t[o],e,i,s);return null}return e=Fw(e),n&&n[Dm]?n.O(t,e,vm(i)?!!i.capture:!!i,s):Rw(n,t,e,!0,i,s)}function Nw(n,t,e,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)Nw(n,t[o],e,i,s);else i=vm(i)?!!i.capture:!!i,e=Fw(e),n&&n[Dm]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=ny(o=n.g[t],e,i,s))&&(ey(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Gu(n))&&(t=n.g[t.toString()],n=-1,t&&(n=ny(t,e,i,s)),(e=-1<n?t[n]:null)&&Pw(e))}function Pw(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Dm])ty(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(gS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Gu(t))?(ty(e,n),0==e.h&&(e.src=null,t[iy]=null)):ey(n)}}}function gS(n){return n in ry?ry[n]:ry[n]="on"+n}function WO(n,t){if(n.ca)n=!0;else{t=new wm(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Pw(n),n=e.call(i,t)}return n}function Gu(n){return(n=n[iy])instanceof gc?n:null}var ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fw(n){return"function"==typeof n?n:(n[ju]||(n[ju]=function(t){return n.handleEvent(t)}),n[ju])}function er(){Aa.call(this),this.i=new gc(this),this.P=this,this.I=null}function Yn(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Pr(t,n);else if(t instanceof Pr)t.target=t.target||n;else{var s=t;Ew(t=new Pr(i,n),s)}if(s=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];s=sy(u,i,!0,t)&&s}if(s=sy(u=t.g=n,i,!0,t)&&s,s=sy(u,i,!1,t)&&s,e)for(o=0;o<e.length;o++)s=sy(u=t.g=e[o],i,!1,t)&&s}function sy(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,m=u.ia||u.src;u.fa&&ty(n.i,u),s=!1!==h.call(m,i)&&s}}return s&&!i.defaultPrevented}Kr(er,Aa),er.prototype[Dm]=!0,er.prototype.removeEventListener=function(n,t,e,i){Nw(this,n,t,e,i)},er.prototype.M=function(){if(er.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ey(e[i]);delete n.g[t],n.h--}}this.I=null},er.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},er.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var zu=Rt.JSON.stringify;function JO(){var n=_S;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Tm,KO=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Lw,n=>n.reset());class Lw{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Bw(n){Rt.setTimeout(()=>{throw n},0)}function oy(n,t){Tm||function(){var n=Rt.Promise.resolve(void 0);Tm=function(){n.then(XO)}}(),Uw||(Tm(),Uw=!0),_S.add(n,t)}var Uw=!1,_S=new class{constructor(){this.h=this.g=null}add(t,e){const i=KO.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function XO(){for(var n;n=JO();){try{n.h.call(n.g)}catch(e){Bw(e)}var t=KO;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Uw=!1}function ay(n,t){er.call(this),this.h=n||1,this.g=t||Rt,this.j=Qr(this.kb,this),this.l=Date.now()}function ly(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Mm(n,t,e){if("function"==typeof n)e&&(n=Qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Rt.setTimeout(n,t||0)}function Hw(n){n.g=Mm(()=>{n.g=null,n.i&&(n.i=!1,Hw(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Kr(ay,er),(We=ay.prototype).da=!1,We.S=null,We.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yn(this,"tick"),this.da&&(ly(this),this.start()))}},We.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.M=function(){ay.Z.M.call(this),ly(this),delete this.g};class bS extends Aa{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Hw(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xh(n){Aa.call(this),this.h=n,this.g={}}Kr(Xh,Aa);var Zw=[];function yS(n,t,e,i){Array.isArray(e)||(e&&(Zw[0]=e.toString()),e=Zw);for(var s=0;s<e.length;s++){var o=Iw(t,e[s],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function qw(n){Dw(n.g,function(t,e){this.g.hasOwnProperty(e)&&Pw(t)},n),n.g={}}function Em(){this.g=!0}function $u(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<s.length;u++)s[u]=""}}}return zu(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Xh.prototype.M=function(){Xh.Z.M.call(this),qw(this)},Xh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Em.prototype.Aa=function(){this.g=!1},Em.prototype.info=function(){};var Eo={},CS=null;function cy(){return CS=CS||new er}function tN(n){Pr.call(this,Eo.Ma,n)}function ul(n){const t=cy();Yn(t,new tN(t,n))}function wS(n,t){Pr.call(this,Eo.STAT_EVENT,n),this.stat=t}function Fr(n){const t=cy();Yn(t,new wS(t,n))}function DS(n,t){Pr.call(this,Eo.Na,n),this.size=t}function ep(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},t)}Eo.Ma="serverreachability",Kr(tN,Pr),Eo.STAT_EVENT="statevent",Kr(wS,Pr),Eo.Na="timingevent",Kr(DS,Pr);var uy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},TS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sm(){}function Gw(){}Sm.prototype.h=null;var dy,_c={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xm(){Pr.call(this,"d")}function MS(){Pr.call(this,"c")}function hy(){}function tp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Xh(this),this.P=ES,this.W=new ay(n=uS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Am}function Am(){this.i=null,this.g="",this.h=!1}Kr(xm,Pr),Kr(MS,Pr),Kr(hy,Sm),hy.prototype.g=function(){return new XMLHttpRequest},hy.prototype.i=function(){return{}},dy=new hy;var ES=45e3,jw={},np={};function km(n,t,e){n.K=1,n.v=Xw(dl(t)),n.s=e,n.U=!0,SS(n,null)}function SS(n,t){n.F=Date.now(),ip(n),n.A=dl(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),PS(e.h,"t",i),n.C=0,e=n.l.H,n.h=new Am,n.g=o1(n.l,e?t:null,!n.s),0<n.O&&(n.L=new bS(Qr(n.Ia,n,n.g),n.O)),yS(n.V,n.g,"readystatechange",n.gb),t=n.H?Tw(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),ul(1),function(n,t,e,i,s,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),m=0;m<h.length;m++){var b=h[m].split("=");if(1<b.length){var C=b[0];b=b[1];var E=C.split("_");u=2<=E.length&&"type"==E[1]?u+(C+"=")+b+"&":u+(C+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function zw(n,t,e){let s,i=!0;for(;!n.I&&n.C<e.length;){if(s=AS(n,e),s==np){4==t&&(n.o=4,Fr(14),i=!1),$u(n.j,n.m,null,"[Incomplete Response]");break}if(s==jw){n.o=4,Fr(15),$u(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}$u(n.j,n.m,s,null),$w(n,s)}xS(n)&&s!=np&&s!=jw&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Fr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),r1(t),t.L=!0,Fr(11))):($u(n.j,n.m,e,"[Invalid Chunked Response]"),Wu(n),rp(n))}function AS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?np:(e=Number(t.substring(e,i)),isNaN(e)?jw:(i+=1)+e>t.length?np:(t=t.substr(i,e),n.C=i+e,t))}function ip(n){n.Y=Date.now()+n.P,kS(n,n.P)}function kS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ep(Qr(n.eb,n),t)}function Im(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function rp(n){0==n.l.G||n.I||wy(n.l,n)}function Wu(n){Im(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,ly(n.W),qw(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function $w(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||BS(e.i,n)))if(e.I=n.N,!n.J&&BS(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0])e:if(e.u)e.ta=s[1],0<e.ta-e.U&&37500>s[2]&&e.N&&0==e.A&&!e.v&&(e.v=ep(Qr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Cy(e),Vm(e)}Hm(e),Fr(18)}if(1>=oN(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else Ku(e,11)}else if((n.J||e.g==n)&&Cy(e),!Kh(t))for(s=e.Ca.g.parse(t),t=0;t<s.length;t++){let b=s[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const C=b[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const E=b[4];null!=E&&(e.za=E,e.h.info("SVER="+e.za));const x=b[5];null!=x&&"number"==typeof x&&0<x&&(e.K=i=1.5*x,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const k=n.g;if(k){const P=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var o=i.i;!o.g&&(Xi(P,"spdy")||Xi(P,"quic")||Xi(P,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(VS(o,o.h),o.h=null))}if(i.D){const Y=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.sa=Y,mi(i.F,i.D,Y))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=s1(i,i.H?i.la:null,i.W),u.J){aN(i.i,u);var h=u,m=i.K;m&&h.setTimeout(m),h.B&&(Im(h),ip(h)),i.g=u}else JS(i);0<e.l.length&&n1(e)}else"stop"!=b[0]&&"close"!=b[0]||Ku(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Ku(e,7):jS(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}ul(4)}catch(b){}}function Ww(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(vw(n)||"string"==typeof n)oS(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(vw(n)||"string"==typeof n){e=[];for(var i=n.length,s=0;s<i;s++)e.push(s)}else for(s in e=[],i=0,n)e[i++]=s;s=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vw(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var o=0;o<s;o++)t.call(void 0,i[o],e&&e[o],n)}}function Ju(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ju)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function py(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];bc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var s={};for(e=t=0;t<n.g.length;)bc(s,i=n.g[t])||(n.g[e++]=i,s[i]=1),t++;n.g.length=e}}function bc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(We=tp.prototype).setTimeout=function(n){this.P=n},We.gb=function(n){n=n.target;const t=this.L;t&&3==vc(n)?t.l():this.Ia(n)},We.Ia=function(n){try{if(n==this.g)e:{const C=vc(this.g);var t=this.g.Da();const E=this.g.ba();if(!(3>C)&&(3!=C||uS||this.g&&(this.h.h||this.g.ga()||yy(this.g)))){this.I||4!=C||7==t||ul(8==t||0>=E?3:2),Im(this);var e=this.g.ba();this.N=e;t:if(xS(this)){var i=yy(this.g);n="";var s=i.length,o=4==vc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wu(this),rp(this);var u="";break t}this.h.i=new Rt.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function(n,t,e,i,s,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kh(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Fr(12),Wu(this),rp(this);break e}$u(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$w(this,e)}this.U?(zw(this,C,u),uS&&this.i&&3==C&&(yS(this.V,this.W,"tick",this.fb),this.W.start())):($u(this.j,this.m,u,null),$w(this,u)),4==C&&Wu(this),this.i&&!this.I&&(4==C?wy(this.l,this):(this.i=!1,ip(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),Wu(this),rp(this)}}}catch(C){}},We.fb=function(){if(this.g){var n=vc(this.g),t=this.g.ga();this.C<t.length&&(Im(this),zw(this,n,t),this.i&&4!=n&&ip(this))}},We.cancel=function(){this.I=!0,Wu(this)},We.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ul(3),Fr(17)),Wu(this),this.o=2,rp(this)):kS(this,this.Y-n)},(We=Ju.prototype).R=function(){py(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},We.T=function(){return py(this),this.g.concat()},We.get=function(n,t){return bc(this.h,n)?this.h[n]:t},We.set=function(n,t){bc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},We.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var s=e[i],o=this.get(s);n.call(t,o,s,this)}};var Jw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Qu){this.g=void 0!==t?t:n.g,Rm(this,n.j),this.s=n.s,Qw(this,n.i),Kw(this,n.m),this.l=n.l,t=n.h;var e=new gy;e.i=t.i,t.g&&(e.g=new Ju(t.g),e.h=t.h),iN(this,e),this.o=n.o}else n&&(e=String(n).match(Jw))?(this.g=!!t,Rm(this,e[1]||"",!0),this.s=fy(e[2]||""),Qw(this,e[3]||"",!0),Kw(this,e[4]),this.l=fy(e[5]||"",!0),iN(this,e[6]||"",!0),this.o=fy(e[7]||"")):(this.g=!!t,this.h=new gy(null,this.g))}function dl(n){return new Qu(n)}function Rm(n,t,e){n.j=e?fy(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Qw(n,t,e){n.i=e?fy(t,!0):t}function Kw(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function iN(n,t,e){t instanceof gy?(n.h=t,function(n,t){t&&!n.j&&(yc(n),n.i=null,n.g.forEach(function(e,i){var s=i.toLowerCase();i!=s&&(OS(this,i),PS(this,s,e))},n)),n.j=t}(n.h,n.g)):(e||(t=my(t,p3)),n.h=new gy(t,n.g))}function mi(n,t,e){n.h.set(t,e)}function Xw(n){return mi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fy(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function my(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,u3),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function u3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(my(t,RS,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(my(t,RS,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(my(e,"/"==e.charAt(0)?h3:d3,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",my(e,rN)),n.join("")};var RS=/[#\/\?@]/g,d3=/[#\?:]/g,h3=/[#\?]/g,p3=/[#\?@]/g,rN=/#/g;function gy(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function yc(n){n.g||(n.g=new Ju,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),s=null;if(0<=i){var o=n[e].substring(0,i);s=n[e].substring(i+1)}else o=n[e];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function OS(n,t){yc(n),t=Om(n,t),bc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,bc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&py(n)))}function NS(n,t){return yc(n),t=Om(n,t),bc(n.g.h,t)}function PS(n,t,e){OS(n,t),0<e.length&&(n.i=null,n.g.set(Om(n,t),Qb(e)),n.h+=e.length)}function Om(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function FS(n){this.l=n||sN,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=gy.prototype).add=function(n,t){yc(this),this.i=null,n=Om(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},We.forEach=function(n,t){yc(this),this.g.forEach(function(e,i){oS(e,function(s){n.call(t,s,i,this)},this)},this)},We.T=function(){yc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var s=n[i],o=0;o<s.length;o++)e.push(t[i]);return e},We.R=function(n){yc(this);var t=[];if("string"==typeof n)NS(this,n)&&(t=aS(t,this.g.get(Om(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=aS(t,n[e])}return t},We.set=function(n,t){return yc(this),this.i=null,NS(this,n=Om(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},We.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],s=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=s;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var sN=10;function LS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oN(n){return n.h?1:n.g?n.g.size:0}function BS(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function VS(n,t){n.g?n.g.add(t):n.h=t}function aN(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function US(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Qb(n.i)}function HS(){}function lN(){this.g=new HS}function e1(n,t,e){const i=e||"";try{Ww(n,function(s,o){let u=s;vm(s)&&(u=zu(s)),t.push(i+o+"="+encodeURIComponent(u))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function Nm(n,t,e,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch(o){}}function Pm(n){this.l=n.$b||null,this.j=n.ib||!1}function _y(n,t){er.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Fm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FS.prototype.cancel=function(){if(this.i=US(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},HS.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},HS.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},Kr(Pm,Sm),Pm.prototype.g=function(){return new _y(this.l,this.j)},Pm.prototype.i=function(n){return function(){return n}}({}),Kr(_y,er);var Fm=0;function t1(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function op(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ap(n)}function ap(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(We=_y.prototype).open=function(n,t){if(this.readyState!=Fm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ap(this)},We.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Rt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,op(this)),this.readyState=Fm},We.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ap(this)),this.g&&(this.readyState=3,ap(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t1(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},We.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?op(this):ap(this),3==this.readyState&&t1(this)}},We.Ua=function(n){this.g&&(this.response=this.responseText=n,op(this))},We.Ta=function(n){this.g&&(this.response=n,op(this))},We.ha=function(){this.g&&op(this)},We.setRequestHeader=function(n,t){this.v.append(n,t)},We.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(_y.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var g3=Rt.JSON.parse;function qi(n){er.call(this),this.headers=new Ju,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lm,this.K=this.L=!1}Kr(qi,er);var Lm="",ZS=/^https?$/i,_3=["POST","PUT"];function y3(n){return"content-type"==n.toLowerCase()}function qS(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,cN(n),by(n)}function cN(n){n.D||(n.D=!0,Yn(n,"complete"),Yn(n,"error"))}function Bm(n){if(n.h&&void 0!==iS&&(!n.C[1]||4!=vc(n)||2!=n.ba()))if(n.v&&4==vc(n))Mm(n.Fa,0,n);else if(Yn(n,"readystatechange"),4==vc(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var s=String(n.H).match(Jw)[1]||null;if(!s&&Rt.self&&Rt.self.location){var o=Rt.self.location.protocol;s=o.substr(0,o.length-1)}i=!ZS.test(s?s.toLowerCase():"")}e=i}if(e)Yn(n,"complete"),Yn(n,"success");else{n.m=6;try{var u=2<vc(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.ba()+"]",cN(n)}}finally{by(n)}}}function by(n,t){if(n.g){uN(n);const e=n.g,i=n.C[0]?Jb:null;n.g=null,n.C=null,t||Yn(n,"ready");try{e.onreadystatechange=i}catch(s){}}}function uN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function vc(n){return n.g?n.g.readyState:0}function yy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Lm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function YS(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return Dw(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):mi(n,t,e))}function vy(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function GS(n){this.za=0,this.l=[],this.h=new Em,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vy("baseRetryDelayMs",5e3,n),this.$a=vy("retryDelaySeedMs",1e4,n),this.Ya=vy("forwardChannelMaxRetries",2,n),this.ra=vy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new FS(n&&n.concurrentRequestLimit),this.Ca=new lN,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function jS(n){if(zS(n),3==n.G){var t=n.V++,e=dl(n.F);mi(e,"SID",n.J),mi(e,"RID",t),mi(e,"TYPE","terminate"),Um(n,e),(t=new tp(n,n.h,t,void 0)).K=2,t.v=Xw(dl(e)),e=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(e=Rt.navigator.sendBeacon(t.v.toString(),"")),!e&&Rt.Image&&((new Image).src=t.v,e=!0),e||(t.g=o1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ip(t)}Dy(n)}function Vm(n){n.g&&(r1(n),n.g.cancel(),n.g=null)}function zS(n){Vm(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Cy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function $S(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&n1(n)}function n1(n){LS(n.i)||n.m||(n.m=!0,oy(n.Ha,n),n.C=0)}function lp(n,t){var e;e=t?t.m:n.V++;const i=dl(n.F);mi(i,"SID",n.J),mi(i,"RID",e),mi(i,"AID",n.U),Um(n,i),n.o&&n.s&&YS(i,n.o,n.s),e=new tp(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=WS(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),VS(n.i,e),km(e,i,t)}function Um(n,t){n.j&&Ww({},function(e,i){mi(t,i,e)})}function WS(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Qr(n.j.Oa,n.j,n):null;e:{var s=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=s[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let m=0;m<e;m++){let b=s[m].h;const C=s[m].g;if(b-=o,0>b)o=Math.max(0,s[m].h-100),h=!1;else try{e1(C,u,"req"+b+"_")}catch(E){i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function JS(n){n.g||n.u||(n.Y=1,oy(n.Ga,n),n.A=0)}function Hm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ep(Qr(n.Ga,n),QS(n,n.A)),n.A++,0))}function r1(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function ks(n){n.g=new tp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=dl(n.oa);mi(t,"RID","rpc"),mi(t,"SID",n.J),mi(t,"CI",n.N?"0":"1"),mi(t,"AID",n.U),Um(n,t),mi(t,"TYPE","xmlhttp"),n.o&&n.s&&YS(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Xw(dl(t)),e.s=null,e.U=!0,SS(e,n)}function Cy(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function wy(n,t){var e=null;if(n.g==t){Cy(n),r1(n),n.g=null;var i=2}else{if(!BS(n.i,t))return;e=t.D,aN(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=n.C;Yn(i=cy(),new DS(i,e,t,s)),n1(n)}else JS(n);else if(3==(s=t.o)||0==s&&0<n.I||!(1==i&&function(n,t){return!(oN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ep(Qr(n.Ha,n,t),QS(n,n.C)),n.C++,0)))}(n,t)||2==i&&Hm(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),s){case 1:Ku(n,5);break;case 4:Ku(n,10);break;case 3:Ku(n,6);break;default:Ku(n,2)}}function QS(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Ku(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Qr(n.jb,n);e||(e=new Qu("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Rm(e,"https"),Xw(e)),function(n,t){const e=new Em;if(Rt.Image){const i=new Image;i.onload=ww(Nm,e,i,"TestLoadImage: loaded",!0,t),i.onerror=ww(Nm,e,i,"TestLoadImage: error",!1,t),i.onabort=ww(Nm,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=ww(Nm,e,i,"TestLoadImage: timeout",!1,t),Rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Fr(2);n.G=0,n.j&&n.j.va(t),Dy(n),zS(n)}function Dy(n){n.G=0,n.I=-1,n.j&&((0!=US(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Qb(n.l),n.l.length=0),n.j.ua())}function s1(n,t,e){let i=function(n){return n instanceof Qu?dl(n):new Qu(n,void 0)}(e);if(""!=i.i)t&&Qw(i,t+"."+i.i),Kw(i,i.m);else{const s=Rt.location;i=function(n,t,e,i){var s=new Qu(null,void 0);return n&&Rm(s,n),t&&Qw(s,t),e&&Kw(s,e),i&&(s.l=i),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,e)}return n.aa&&Dw(n.aa,function(s,o){mi(i,o,s)}),e=n.sa,(t=n.D)&&e&&mi(i,t,e),mi(i,"VER",n.ma),Um(n,i),i}function o1(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new qi(e&&n.Ba&&!n.qa?new Pm({ib:!0}):n.qa)).L=n.H,t}function KS(){}function Zm(){if(qu&&!(10<=Number(fS)))throw Error("Environmental error: no available transport.")}function Is(n,t){er.call(this),this.g=new GS(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Kh(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kh(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Cc(this)}function XS(n){xm.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function ex(){MS.call(this),this.status=1}function Cc(n){this.g=n}(We=qi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dy.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:dy),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void qS(this,o)}n=e||"";const s=new Ju(this.headers);i&&Ww(i,function(o,u){s.set(u,o)}),i=function(n){e:{var t=y3;const e=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<e;s++)if(s in i&&t.call(void 0,i[s],s,n)){t=s;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(s.T()),e=Rt.FormData&&n instanceof Rt.FormData,!(0<=sS(_3,t))||i||e||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uN(this),0<this.B&&((this.K=function(n){return qu&&YO()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=Mm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){qS(this,o)}},We.pa=function(){void 0!==iS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},We.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yn(this,"complete"),Yn(this,"abort"),by(this))},We.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),by(this,!0)),qi.Z.M.call(this)},We.Fa=function(){this.s||(this.F||this.v||this.l?Bm(this):this.cb())},We.cb=function(){Bm(this)},We.ba=function(){try{return 2<vc(this)?this.g.status:-1}catch(n){return-1}},We.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},We.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),g3(t)}},We.Da=function(){return this.m},We.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=GS.prototype).ma=8,We.G=1,We.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},We.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new tp(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=Tw(o),Ew(o,this.P)):o=this.P),null===this.o&&(s.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=WS(this,s,t),mi(e=dl(this.F),"RID",n),mi(e,"CVER",22),this.D&&mi(e,"X-HTTP-Session-Id",this.D),Um(this,e),this.o&&o&&YS(e,this.o,o),VS(this.i,s),this.Ra&&mi(e,"TYPE","init"),this.ja?(mi(e,"$req",t),mi(e,"SID","null"),s.$=!0,km(s,e,null)):km(s,e,t),this.G=2}}else 3==this.G&&(n?lp(this,n):0==this.l.length||LS(this.i)||lp(this))},We.Ga=function(){if(this.u=null,ks(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ep(Qr(this.bb,this),n)}},We.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fr(10),Vm(this),ks(this))},We.ab=function(){null!=this.v&&(this.v=null,Vm(this),Hm(this),Fr(19))},We.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fr(2)):(this.h.info("Failed to ping google.com"),Fr(1))},(We=KS.prototype).xa=function(){},We.wa=function(){},We.va=function(){},We.ua=function(){},We.Oa=function(){},Zm.prototype.g=function(n,t){return new Is(n,t)},Kr(Is,er),Is.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),oy(Qr(n.hb,n,t))),Fr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=s1(n,null,n.W),n1(n)},Is.prototype.close=function(){jS(this.g)},Is.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,$S(this.g,t)}else this.v?((t={}).__data__=zu(n),$S(this.g,t)):$S(this.g,n)},Is.prototype.M=function(){this.g.j=null,delete this.j,jS(this.g),delete this.g,Is.Z.M.call(this)},Kr(XS,xm),Kr(ex,MS),Kr(Cc,KS),Cc.prototype.xa=function(){Yn(this.g,"a")},Cc.prototype.wa=function(n){Yn(this.g,new XS(n))},Cc.prototype.va=function(n){Yn(this.g,new ex(n))},Cc.prototype.ua=function(){Yn(this.g,"b")},Zm.prototype.createWebChannel=Zm.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,uy.NO_ERROR=0,uy.TIMEOUT=8,uy.HTTP_ERROR=6,TS.COMPLETE="complete",Gw.EventType=_c,_c.OPEN="a",_c.CLOSE="b",_c.ERROR="c",_c.MESSAGE="d",er.prototype.listen=er.prototype.N,qi.prototype.listenOnce=qi.prototype.O,qi.prototype.getLastError=qi.prototype.La,qi.prototype.getLastErrorCode=qi.prototype.Da,qi.prototype.getStatus=qi.prototype.ba,qi.prototype.getResponseJson=qi.prototype.Qa,qi.prototype.getResponseText=qi.prototype.ga,qi.prototype.send=qi.prototype.ea;var tx=xa.createWebChannelTransport=function(){return new Zm},nx=xa.getStatEventTarget=function(){return cy()},qm=xa.ErrorCode=uy,pN=xa.EventType=TS,Jo=xa.Event=Eo,ix=xa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},v3=xa.FetchXmlHttpFactory=Pm,Ty=xa.WebChannel=Gw,C3=xa.XhrIo=qi;const rx="@firebase/firestore";class Lr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let cp="9.6.5";const Xu=new Wo.Yd("@firebase/firestore");function a1(){return Xu.logLevel}function Le(n,...t){if(Xu.logLevel<=Wo.in.DEBUG){const e=t.map(l1);Xu.debug(`Firestore (${cp}): ${n}`,...e)}}function tr(n,...t){if(Xu.logLevel<=Wo.in.ERROR){const e=t.map(l1);Xu.error(`Firestore (${cp}): ${n}`,...e)}}function up(n,...t){if(Xu.logLevel<=Wo.in.WARN){const e=t.map(l1);Xu.warn(`Firestore (${cp}): ${n}`,...e)}}function l1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function dt(n="Unexpected state"){const t=`FIRESTORE (${cp}) INTERNAL ASSERTION FAILED: `+n;throw tr(t),new Error(t)}function Tt(n,t){n||dt()}function Ye(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Bt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class My{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ax{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Lr.UNAUTHENTICATED))}shutdown(){}}class fN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class mN{constructor(t){this.t=t,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let s=this.i;const o=b=>this.i!==s?(s=this.i,e(b)):Promise.resolve();let u=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Si,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},m=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Si)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new My(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(null===t||"string"==typeof t),new Lr(t)}}class w3{constructor(t,e,i){this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class D3{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new w3(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=s=>{t.enqueueRetryable(()=>{return null!=(o=s).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`),e(o.token);var o})};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt("string"==typeof e.token),new gN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ws{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function bN(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Ws.I=-1;class cx{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=bN(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%t.length))}return i}}function ln(n,t){return n<t?-1:n>t?1:0}function ed(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}function yN(n){return n+"\0"}class Br{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Br.fromMillis(Date.now())}static fromDate(t){return Br.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Br(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ln(this.nanoseconds,t.nanoseconds):ln(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Br(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ey(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function oi(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class dp{constructor(t,e,i){void 0===e?e=0:e>t.length&&dt(),void 0===i?i=t.length-e:i>t.length-e&&dt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===dp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof dp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=t.get(s),u=e.get(s);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yn extends dp{construct(t,e,i){return new yn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new yn(e)}static emptyPath(){return new yn([])}}const CN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends dp{construct(t,e,i){return new nr(t,e,i)}static isValidIdentifier(t){return CN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(0===i.length)throw new ke(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;s<t.length;){const h=t[s];if("\\"===h){if(s+1===t.length)throw new ke(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[s+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new ke(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,s+=2}else"`"===h?(u=!u,s++):"."!==h||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new ke(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nr(e)}static emptyPath(){return new nr([])}}class hp{constructor(t){this.fields=t,t.sort(nr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ed(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ir{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ir(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ir(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ln(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const td=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(n){if(Tt(!!n),"string"==typeof n){let t=0;const e=td.exec(n);if(Tt(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xi(n.seconds),nanos:xi(n.nanos)}}function xi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wc(n){return"string"==typeof n?ir.fromBase64String(n):ir.fromUint8Array(n)}function c1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ym(n){const t=n.mapValue.fields.__previous_value__;return c1(t)?Ym(t):t}function Gm(n){const t=hl(n.mapValue.fields.__local_write_time__.timestampValue);return new Br(t.seconds,t.nanos)}function pl(n){return null==n}function jm(n){return 0===n&&1/n==-1/0}function mr(n){return"number"==typeof n&&Number.isInteger(n)&&!jm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class at{constructor(t){this.path=t}static fromPath(t){return new at(yn.fromString(t))}static fromName(t){return new at(yn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===yn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new at(new yn(t.slice()))}}function nd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c1(n)?4:10:dt()}function ka(n,t){if(n===t)return!0;const e=nd(n);if(e!==nd(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Gm(n).isEqual(Gm(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hl(i.timestampValue),u=hl(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,wc(n.bytesValue).isEqual(wc(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return xi(i.geoPointValue.latitude)===xi(s.geoPointValue.latitude)&&xi(i.geoPointValue.longitude)===xi(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xi(i.integerValue)===xi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=xi(i.doubleValue),u=xi(s.doubleValue);return o===u?jm(o)===jm(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return ed(n.arrayValue.values||[],t.arrayValue.values||[],ka);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Ey(o)!==Ey(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!ka(o[h],u[h])))return!1;return!0}(n,t);default:return dt()}var s}function Sy(n,t){return void 0!==(n.values||[]).find(e=>ka(e,t))}function fl(n,t){if(n===t)return 0;const e=nd(n),i=nd(t);if(e!==i)return ln(e,i);switch(e){case 0:return 0;case 1:return ln(n.booleanValue,t.booleanValue);case 2:return function(s,o){const u=xi(s.integerValue||s.doubleValue),h=xi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return ux(n.timestampValue,t.timestampValue);case 4:return ux(Gm(n),Gm(t));case 5:return ln(n.stringValue,t.stringValue);case 6:return function(s,o){const u=wc(s),h=wc(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const u=s.split("/"),h=o.split("/");for(let m=0;m<u.length&&m<h.length;m++){const b=ln(u[m],h[m]);if(0!==b)return b}return ln(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const u=ln(xi(s.latitude),xi(o.latitude));return 0!==u?u:ln(xi(s.longitude),xi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const u=s.values||[],h=o.values||[];for(let m=0;m<u.length&&m<h.length;++m){const b=fl(u[m],h[m]);if(b)return b}return ln(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){const u=s.fields||{},h=Object.keys(u),m=o.fields||{},b=Object.keys(m);h.sort(),b.sort();for(let C=0;C<h.length&&C<b.length;++C){const E=ln(h[C],b[C]);if(0!==E)return E;const x=fl(u[h[C]],m[b[C]]);if(0!==x)return x}return ln(h.length,b.length)}(n.mapValue,t.mapValue);default:throw dt()}}function ux(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return ln(n,t);const e=hl(n),i=hl(t),s=ln(e.seconds,i.seconds);return 0!==s?s:ln(e.nanos,i.nanos)}function dx(n){return hx(n)}function hx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=hl(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wc(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=hx(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${hx(i.fields[h])}`;return o+"}"}(n.mapValue):dt();var t}function u1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function d1(n){return!!n&&"integerValue"in n}function h1(n){return!!n&&"arrayValue"in n}function px(n){return!!n&&"nullValue"in n}function fx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xy(n){return!!n&&"mapValue"in n}function Ay(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return oi(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ay(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ay(n.arrayValue.values[e]);return t}return Object.assign({},n)}class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!xy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ay(e)}setAll(t){let e=nr.emptyPath(),i={},s=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,s),i={},s=[],e=h.popLast()}u?i[h.lastSegment()]=Ay(u):s.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());xy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ka(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];xy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){oi(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new es(Ay(this.value))}}function mx(n){const t=[];return oi(n.fields,(e,i)=>{const s=new nr([e]);if(xy(i)){const o=mx(i.mapValue).fields;if(0===o.length)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)}),new hp(t)}class ai{constructor(t,e,i,s,o){this.key=t,this.documentType=e,this.version=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ai(t,0,Lt.min(),es.empty(),0)}static newFoundDocument(t,e,i){return new ai(t,1,e,i,0)}static newNoDocument(t,e){return new ai(t,2,e,es.empty(),0)}static newUnknownDocument(t,e){return new ai(t,3,e,es.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ai&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class T3{constructor(t,e=null,i=[],s=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.R=null}}function DN(n,t=null,e=[],i=[],s=null,o=null,u=null){return new T3(n,t,e,i,s,o,u)}function zm(n){const t=Ye(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+dx(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),pl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=$m(t.startAt)),t.endAt&&(e+="|ub:",e+=$m(t.endAt)),t.R=e}return t.R}function ky(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!IN(n.orderBy[s],t.orderBy[s]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((e=n.filters[s]).op!==(i=t.filters[s]).op||!e.field.isEqual(i.field)||!ka(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ON(n.startAt,t.startAt)&&ON(n.endAt,t.endAt)}function Iy(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _s extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new MN(t,e,i):"array-contains"===e?new M3(t,i):"in"===e?new xN(t,i):"not-in"===e?new AN(t,i):"array-contains-any"===e?new kN(t,i):new _s(t,e,i)}static P(t,e,i){return"in"===e?new EN(t,i):new SN(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(fl(e,this.value)):null!==e&&nd(this.value)===nd(e)&&this.v(fl(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MN extends _s{constructor(t,e,i){super(t,e,i),this.key=at.fromName(i.referenceValue)}matches(t){const e=at.comparator(t.key,this.key);return this.v(e)}}class EN extends _s{constructor(t,e){super(t,"in",e),this.keys=gx(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class SN extends _s{constructor(t,e){super(t,"not-in",e),this.keys=gx(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function gx(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>at.fromName(i.referenceValue))}class M3 extends _s{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return h1(e)&&Sy(e.arrayValue,this.value)}}class xN extends _s{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sy(this.value.arrayValue,e)}}class AN extends _s{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Sy(this.value.arrayValue,e)}}class kN extends _s{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!h1(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Sy(this.value.arrayValue,i))}}class ml{constructor(t,e){this.position=t,this.before=e}}function $m(n){return`${n.before?"b":"a"}:${n.position.map(t=>dx(t)).join(",")}`}class Wm{constructor(t,e="asc"){this.field=t,this.dir=e}}function IN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function RN(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(i=o.field.isKeyField()?at.comparator(at.fromName(u.referenceValue),e.key):fl(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function ON(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ka(n.position[e],t.position[e]))return!1;return!0}class Dc{constructor(t,e=null,i=[],s=[],o=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.S=null,this.D=null}}function Ry(n,t,e,i,s,o,u,h){return new Dc(n,t,e,i,s,o,u,h)}function pp(n){return new Dc(n)}function Oy(n){return!pl(n.limit)&&"F"===n.limitType}function Ny(n){return!pl(n.limit)&&"L"===n.limitType}function _x(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function p1(n){for(const t of n.filters)if(t.V())return t.field;return null}function f1(n){return null!==n.collectionGroup}function fp(n){const t=Ye(n);if(null===t.S){t.S=[];const e=p1(t),i=_x(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new Wm(e)),t.S.push(new Wm(nr.keyField(),"asc"));else{let s=!1;for(const o of t.explicitOrderBy)t.S.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Wm(nr.keyField(),o))}}}return t.S}function Ai(n){const t=Ye(n);if(!t.D)if("F"===t.limitType)t.D=DN(t.path,t.collectionGroup,fp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of fp(t))e.push(new Wm(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new ml(t.endAt.position,!t.endAt.before):null,s=t.startAt?new ml(t.startAt.position,!t.startAt.before):null;t.D=DN(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}return t.D}function NN(n,t,e){return new Dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function mp(n,t){return ky(Ai(n),Ai(t))&&n.limitType===t.limitType}function bx(n){return`${zm(Ai(n))}|lt:${n.limitType}`}function Py(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${dx(i.value)}`;var i}).join(", ")}]`),pl(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+$m(n.startAt)),n.endAt&&(t+=", endAt: "+$m(n.endAt)),`Target(${t})`}(Ai(n))}; limitType=${n.limitType})`}function gp(n,t){return t.isFoundDocument()&&function(e,i){const s=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):at.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(n,t)&&function(e,i){for(const s of e.explicitOrderBy)if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(e,i){for(const s of e.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!RN(e.startAt,fp(e),i)||e.endAt&&RN(e.endAt,fp(e),i)));var e,i}function m1(n){return(t,e)=>{let i=!1;for(const s of fp(n)){const o=g1(s,t,e);if(0!==o)return o;i=i||s.field.isKeyField()}return 0}}function g1(n,t,e){const i=n.field.isKeyField()?at.comparator(t.key,e.key):function(s,o,u){const h=o.data.field(s),m=u.data.field(s);return null!==h&&null!==m?fl(h,m):dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function Fy(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(t)?"-0":t}}function Ly(n){return{integerValue:""+n}}function Jm(n,t){return mr(t)?Ly(t):Fy(n,t)}class id{constructor(){this._=void 0}}function yx(n,t,e){return n instanceof _p?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Tc?wx(n,t):n instanceof rd?Dx(n,t):function(i,s){const o=Cx(i,s),u=Tx(o)+Tx(i.N);return d1(o)&&d1(i.N)?Ly(u):Fy(i.k,u)}(n,t)}function vx(n,t,e){return n instanceof Tc?wx(n,t):n instanceof rd?Dx(n,t):e}function Cx(n,t){return n instanceof Mc?d1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class _p extends id{}class Tc extends id{constructor(t){super(),this.elements=t}}function wx(n,t){const e=ts(t);for(const i of n.elements)e.some(s=>ka(s,i))||e.push(i);return{arrayValue:{values:e}}}class rd extends id{constructor(t){super(),this.elements=t}}function Dx(n,t){let e=ts(t);for(const i of n.elements)e=e.filter(s=>!ka(s,i));return{arrayValue:{values:e}}}class Mc extends id{constructor(t,e){super(),this.k=t,this.N=e}}function Tx(n){return xi(n.integerValue||n.doubleValue)}function ts(n){return h1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gl{constructor(t,e){this.field=t,this.transform=e}}class Mx{constructor(t,e){this.version=t,this.transformResults=e}}class gi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bp(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Qm{}function Vy(n,t,e){n instanceof yp?function(i,s,o){const u=i.value.clone(),h=Ax(i.fieldTransforms,s,o.transformResults);u.setAll(h),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Ec?function(i,s,o){if(!bp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=Ax(i.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(xx(i)),h.setAll(u),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function _1(n,t,e){var s;n instanceof yp?function(i,s,o){if(!bp(i.precondition,s))return;const u=i.value.clone(),h=_l(i.fieldTransforms,o,s);u.setAll(h),s.convertToFoundDocument(Sx(s),u).setHasLocalMutations()}(n,t,e):n instanceof Ec?function(i,s,o){if(!bp(i.precondition,s))return;const u=_l(i.fieldTransforms,o,s),h=s.data;h.setAll(xx(i)),h.setAll(u),s.convertToFoundDocument(Sx(s),h).setHasLocalMutations()}(n,t,e):bp(n.precondition,s=t)&&s.convertToNoDocument(Lt.min())}function PN(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=Cx(i.transform,s||null);null!=o&&(null==e&&(e=es.empty()),e.set(i.field,o))}return e||null}function Ex(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&ed(e,i,(s,o)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Tc&&i instanceof Tc||e instanceof rd&&i instanceof rd?ed(e.elements,i.elements,ka):e instanceof Mc&&i instanceof Mc?ka(e.N,i.N):e instanceof _p&&i instanceof _p);var e,i}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function Sx(n){return n.isFoundDocument()?n.version:Lt.min()}class yp extends Qm{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}}class Ec extends Qm{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}}function xx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Ax(n,t,e){const i=new Map;Tt(n.length===e.length);for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,h=t.data.field(o.field);i.set(o.field,vx(u,h,e[s]))}return i}function _l(n,t,e){const i=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);i.set(s.field,yx(o,u,t))}return i}class bl extends Qm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Km extends Qm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class FN{constructor(t){this.count=t}}var rr,gn;function Uy(n){switch(n){default:return dt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function kx(n){if(void 0===n)return tr("GRPC error has no .code"),me.UNKNOWN;switch(n){case rr.OK:return me.OK;case rr.CANCELLED:return me.CANCELLED;case rr.UNKNOWN:return me.UNKNOWN;case rr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case rr.INTERNAL:return me.INTERNAL;case rr.UNAVAILABLE:return me.UNAVAILABLE;case rr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case rr.NOT_FOUND:return me.NOT_FOUND;case rr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case rr.ABORTED:return me.ABORTED;case rr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case rr.DATA_LOSS:return me.DATA_LOSS;default:return dt()}}(gn=rr||(rr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class sr{constructor(t,e){this.comparator=t,this.root=e||Vr.EMPTY}insert(t,e){return new sr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(t){return new sr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xm(this.root,t,this.comparator,!0)}}class Xm{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vr{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=null!=i?i:Vr.RED,this.left=null!=s?s:Vr.EMPTY,this.right=null!=o?o:Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new Vr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===o?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return Vr.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const t=this.left.check();if(t!==this.right.check())throw dt();return t+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,t,e,i,s){return this}insert(n,t,e){return new Vr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(t){this.comparator=t,this.data=new sr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ix(this.data.getIterator())}getIteratorFrom(t){return new Ix(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ki)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(s,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ki(this.comparator);return e.data=t,e}}class Ix{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const yl=new sr(at.comparator);function ns(){return yl}const vp=new sr(at.comparator);function Cp(){return vp}const wp=new sr(at.comparator);function Rx(){return wp}const LN=new ki(at.comparator);function An(...n){let t=LN;for(const e of n)t=t.add(e);return t}const Ox=new ki(ln);function eg(){return Ox}class Dp{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Tp.createSynthesizedTargetChangeForCurrentChange(t,e)),new Dp(Lt.min(),i,eg(),ns(),An())}}class Tp{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Tp(ir.EMPTY_BYTE_STRING,e,An(),An(),An())}}class Mp{constructor(t,e,i,s){this.$=t,this.removedTargetIds=e,this.key=i,this.O=s}}class Nx{constructor(t,e){this.targetId=t,this.M=e}}class Px{constructor(t,e,i=ir.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class b1{constructor(){this.F=0,this.L=Fx(),this.B=ir.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=An(),e=An(),i=An();return this.L.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:dt()}}),new Tp(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=Fx()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class sd{constructor(t){this.et=t,this.nt=new Map,this.st=ns(),this.it=Hy(),this.rt=new ki(ln)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:dt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,s)=>{this.lt(s)&&e(s)})}dt(t){const e=t.targetId,i=t.M.count,s=this.wt(e);if(s){const o=s.target;if(Iy(o))if(0===i){const u=new at(o.path);this.at(e,u,ai.newNoDocument(u,Lt.min()))}else Tt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&Iy(h.target)){const m=new at(h.target.path);null!==this.st.get(m)||this.yt(u,m)||this.at(u,m,ai.newNoDocument(m,t))}o.j&&(e.set(u,o.G()),o.H())}});let i=An();this.it.forEach((o,u)=>{let h=!0;u.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(o))});const s=new Dp(t,e,this.rt,this.st,i);return this.st=ns(),this.it=Hy(),this.rt=new ki(ln),s}ct(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,i){if(!this.lt(t))return;const s=this.ht(t);this.yt(t,e)?s.J(e,1):s.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new b1,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new ki(ln),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new b1),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function Hy(){return new sr(at.comparator)}function Fx(){return new sr(at.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class S3{constructor(t,e){this.databaseId=t,this.C=e}}function Zy(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VN(n,t){return n.C?t.toBase64():t.toUint8Array()}function UN(n,t){return Zy(n,t.toTimestamp())}function Dr(n){return Tt(!!n),Lt.fromTimestamp(function(t){const e=hl(t);return new Br(e.seconds,e.nanos)}(n))}function Lx(n,t){return(e=n,new yn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function HN(n){const t=yn.fromString(n);return Tt(Dt(t)),t}function qy(n,t){return Lx(n.databaseId,t.path)}function vl(n,t){const e=HN(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new at(qN(e))}function y1(n,t){return Lx(n.databaseId,t)}function ZN(n){const t=HN(n);return 4===t.length?yn.emptyPath():qN(t)}function Yy(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qN(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YN(n,t,e){return{name:qy(n,t),fields:e.value.mapValue.fields}}function a(n,t,e){const i=vl(n,t.name),s=Dr(t.updateTime),o=new es({mapValue:{fields:t.fields}}),u=ai.newFoundDocument(i,s,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function d(n,t){let e;if(t instanceof yp)e={update:YN(n,t.key,t.value)};else if(t instanceof bl)e={delete:qy(n,t.key)};else if(t instanceof Ec)e={update:YN(n,t.key,t.data),updateMask:lt(t.fieldMask)};else{if(!(t instanceof Km))return dt();e={verify:qy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const u=o.transform;if(u instanceof _p)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mc)return{fieldPath:o.field.canonicalString(),increment:u.N};throw dt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:UN(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:dt()),e;var s}function p(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?gi.updateTime(Dr(s.updateTime)):void 0!==s.exists?gi.exists(s.exists):gi.none():gi.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(o,u){let h=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),h=new _p):"appendMissingElements"in u?h=new Tc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new rd(u.removeAllFromArray.values||[]):"increment"in u?h=new Mc(o,u.increment):dt();const m=nr.fromServerFormat(u.fieldPath);return new gl(m,h)}(n,s)):[];var s;if(t.update){const s=vl(n,t.update.name),o=new es({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new hp((t.updateMask.fieldPaths||[]).map(b=>nr.fromServerFormat(b)));return new Ec(s,o,u,e,i)}return new yp(s,o,e,i)}if(t.delete){const s=vl(n,t.delete);return new bl(s,e)}if(t.verify){const s=vl(n,t.verify);return new Km(s,e)}return dt()}function _(n,t){return{documents:[y1(n,t.path)]}}function v(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=y1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=y1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(0===h.length)return;const m=h.map(b=>function(C){if("=="===C.op){if(fx(C.value))return{unaryFilter:{field:ce(C.field),op:"IS_NAN"}};if(px(C.value))return{unaryFilter:{field:ce(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(fx(C.value))return{unaryFilter:{field:ce(C.field),op:"IS_NOT_NAN"}};if(px(C.value))return{unaryFilter:{field:ce(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ce(C.field),op:$(C.op),value:C.value}}}(b));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);s&&(e.structuredQuery.where=s);const o=function(h){if(0!==h.length)return h.map(m=>{return{field:ce((b=m).field),direction:U(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(m=t.limit,n.C||pl(m)?m:{value:m});var m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=I(t.startAt)),t.endAt&&(e.structuredQuery.endAt=I(t.endAt)),e}function D(n){let t=ZN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Tt(1===i);const C=e.from[0];C.allDescendants?s=C.collectionId:t=t.child(C.collectionId)}let o=[];e.where&&(o=S(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(C=>{return new Wm(te((E=C).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let h=null;e.limit&&(h=function(C){let E;return E="object"==typeof C?C.value:C,pl(E)?null:E}(e.limit));let m=null;e.startAt&&(m=O(e.startAt));let b=null;return e.endAt&&(b=O(e.endAt)),Ry(t,s,u,o,h,"F",m,b)}function S(n){return n?void 0!==n.unaryFilter?[Ce(n)]:void 0!==n.fieldFilter?[Oe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>S(t)).reduce((t,e)=>t.concat(e)):dt():[]}function I(n){return{before:n.before,values:n.position}}function O(n){return new ml(n.values||[],!!n.before)}function U(n){return BN[n]}function $(n){return E3[n]}function ce(n){return{fieldPath:n.canonicalString()}}function te(n){return nr.fromServerFormat(n.fieldPath)}function Oe(n){return _s.create(te(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ce(n){switch(n.unaryFilter.op){case"IS_NAN":const t=te(n.unaryFilter.field);return _s.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=te(n.unaryFilter.field);return _s.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=te(n.unaryFilter.field);return _s.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=te(n.unaryFilter.field);return _s.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function lt(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Dt(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function kt(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Js(t)),t=gr(n.get(e),t);return Js(t)}function gr(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function Js(n){return n+"\x01\x01"}function Qs(n){const t=n.length;if(Tt(t>=2),2===t)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const e=t-2,i=[];let s="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let m;0===s.length?m=h:(s+=h,m=s,s=""),i.push(m);break;case"\x10":s+=n.substring(o,u),s+="\0";break;case"\x11":s+=n.substring(o,u+1);break;default:dt()}o=u+2}return new yn(i)}class Ep{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Tr{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Tr.store="owner",Tr.key="owner";class Ks{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}Ks.store="mutationQueues",Ks.keyPath="userId";class Vn{constructor(t,e,i,s,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=s,this.mutations=o}}Vn.store="mutations",Vn.keyPath="batchId",Vn.userMutationsIndex="userMutationsIndex",Vn.userMutationsKeyPath=["userId","batchId"];class Mr{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,kt(e)]}static key(t,e,i){return[t,kt(e),i]}}Mr.store="documentMutations",Mr.PLACEHOLDER=new Mr;class v1{constructor(t,e){this.path=t,this.readTime=e}}class C1{constructor(t,e){this.path=t,this.version=e}}class li{constructor(t,e,i,s,o,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=s,this.readTime=o,this.parentPath=u}}li.store="remoteDocuments",li.readTimeIndex="readTimeIndex",li.readTimeIndexPath="readTime",li.collectionReadTimeIndex="collectionReadTimeIndex",li.collectionReadTimeIndexPath=["parentPath","readTime"];class Sc{constructor(t){this.byteSize=t}}Sc.store="remoteDocumentGlobal",Sc.key="remoteDocumentGlobalKey";class So{constructor(t,e,i,s,o,u,h){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=s,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=h}}So.store="targets",So.keyPath="targetId",So.queryTargetsIndexName="queryTargetsIndex",So.queryTargetsKeyPath=["canonicalId","targetId"];class bs{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}bs.store="targetDocuments",bs.keyPath=["targetId","path"],bs.documentTargetsIndex="documentTargetsIndex",bs.documentTargetsKeyPath=["path","targetId"];class Ko{constructor(t,e,i,s){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=s}}Ko.key="targetGlobalKey",Ko.store="targetGlobal";class tg{constructor(t,e){this.collectionId=t,this.parent=e}}tg.store="collectionParents",tg.keyPath=["collectionId","parent"];class od{constructor(t,e,i,s){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=s}}od.store="clientMetadata",od.keyPath="clientId";class Gy{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Gy.store="bundles",Gy.keyPath="bundleId";class jy{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}jy.store="namedQueries",jy.keyPath="name";const jG=[Ks.store,Vn.store,Mr.store,li.store,So.store,Tr.store,Ko.store,bs.store,od.store,Sc.store,tg.store,Gy.store,jy.store],x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Re((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Re?e:Re.resolve(e)}catch(e){return Re.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.reject(e)}static resolve(t){return new Re((e,i)=>{e(t)})}static reject(t){return new Re((e,i)=>{i(t)})}static waitFor(t){return new Re((e,i)=>{let s=0,o=0,u=!1;t.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&e()},m=>i(m))}),u=!0,o===s&&e()})}static or(t){let e=Re.resolve(!1);for(const i of t)e=e.next(s=>s?Re.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}}class Bx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Si,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new w1(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const s=GN(i.target.error);this.It.reject(new w1(t,s))}}static open(t,e,i,s){try{return new Bx(e,t.transaction(s,i))}catch(o){throw new w1(e,o)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new $G(e)}}class Cl{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===Cl.bt((0,Bt.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),ig(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,Bt.hl)())return!1;if(Cl.vt())return!0;const t=(0,Bt.z$)(),e=Cl.bt(t),i=0<e&&e<10,s=Cl.Vt(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,s)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{s(new w1(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;s("VersionError"===h.name?new ke(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new w1(t,h))},o.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Rt.Nt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){var o=this;return(0,ve.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Ct(t);const m=Bx.open(o.db,t,u?"readonly":"readwrite",i),b=s(m).catch(C=>(m.abort(C),Re.reject(C))).toPromise();return b.catch(()=>{}),yield m.At,b}catch(m){const b="FirebaseError"!==m.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),o.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zG{constructor(t){this.$t=t,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Mt=t}delete(){return ig(this.$t.delete())}}class w1 extends ke{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ng(n){return"IndexedDbTransactionError"===n.name}class $G{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ig(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),ig(this.store.add(t))}get(t){return ig(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),ig(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),ig(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),s=[];return this.Ut(i,(o,u)=>{s.push(u)}).next(()=>s)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const s=this.cursor(i);return this.Ut(s,(o,u,h)=>h.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.Ut(s,e)}Qt(t){const e=this.cursor({});return new Re((i,s)=>{e.onerror=o=>{const u=GN(o.target.error);s(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Ut(t,e){const i=[];return new Re((s,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const m=new zG(h),b=e(h.primaryKey,h.value,m);if(b instanceof Re){const C=b.catch(E=>(m.done(),Re.reject(E)));i.push(C)}m.isDone?s():null===m.Ft?h.continue():h.continue(m.Ft)}}).next(()=>Re.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ig(n){return new Re((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const s=GN(i.target.error);e(s)}})}let k3=!1;function GN(n){const t=Cl.bt((0,Bt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k3||(k3=!0,setTimeout(()=>{throw i},0)),i}}return n}class I3 extends A3{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function xo(n,t){const e=Ye(n);return Cl.Dt(e.Wt,t)}class jN{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&Vy(o,t,i[s])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&_1(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&_1(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),s=i;this.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),An())}isEqual(t){return this.batchId===t.batchId&&ed(this.mutations,t.mutations,(e,i)=>Ex(e,i))&&ed(this.baseMutations,t.baseMutations,(e,i)=>Ex(e,i))}}class zN{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Tt(t.mutations.length===i.length);let s=Rx();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new zN(t,e,i,s)}}class Sp{constructor(t,e,i,s,o=Lt.min(),u=Lt.min(),h=ir.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Sp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class R3{constructor(t){this.Gt=t}}function $N(n,t){if(t.document)return a(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=at.fromSegments(t.noDocument.path),i=$y(t.noDocument.readTime),s=ai.newNoDocument(e,i);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){const e=at.fromSegments(t.unknownDocument.path),i=$y(t.unknownDocument.version);return ai.newUnknownDocument(e,i)}return dt()}function O3(n,t,e){const i=WN(e),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){const o={name:qy(h=n.Gt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:Zy(h,m.version.toTimestamp())};return new li(null,null,o,t.hasCommittedMutations,i,s)}var h,m;if(t.isNoDocument()){const o=t.key.path.toArray(),u=zy(t.version),h=t.hasCommittedMutations;return new li(null,new v1(o,u),null,h,i,s)}if(t.isUnknownDocument()){const o=t.key.path.toArray(),u=zy(t.version);return new li(new C1(o,u),null,null,!0,i,s)}return dt()}function WN(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function N3(n){const t=new Br(n[0],n[1]);return Lt.fromTimestamp(t)}function zy(n){const t=n.toTimestamp();return new Ep(t.seconds,t.nanoseconds)}function $y(n){const t=new Br(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function Wy(n,t){const e=(t.baseMutations||[]).map(o=>p(n.Gt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>p(n.Gt,o)),s=Br.fromMillis(t.localWriteTimeMs);return new jN(t.batchId,s,e,i)}function D1(n){const t=$y(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?$y(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var s;return void 0!==n.query.documents?(Tt(1===(s=n.query).documents.length),i=Ai(pp(ZN(s.documents[0])))):i=Ai(D(n.query)),new Sp(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ir.fromBase64String(n.resumeToken))}function P3(n,t){const e=zy(t.snapshotVersion),i=zy(t.lastLimboFreeSnapshotVersion);let s;s=Iy(t.target)?_(n.Gt,t.target):v(n.Gt,t.target);const o=t.resumeToken.toBase64();return new So(t.targetId,zm(t.target),e,o,t.sequenceNumber,i,s)}function JN(n){const t=D({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NN(t,t.limit,"L"):t}class WG{getBundleMetadata(t,e){return F3(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:$y(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return F3(t).put({bundleId:(i=e).id,createTime:zy(Dr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return L3(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:JN(s.bundledQuery),readTime:$y(s.readTime)};var s})}saveNamedQuery(t,e){return L3(t).put({name:(i=e).name,readTime:zy(Dr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function F3(n){return xo(n,Gy.store)}function L3(n){return xo(n,jy.store)}class JG{constructor(){this.zt=new QN}addToCollectionParentIndex(t,e){return this.zt.add(e),Re.resolve()}getCollectionParents(t,e){return Re.resolve(this.zt.getEntries(e))}}class QN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new ki(yn.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ki(yn.comparator)).toArray()}}class QG{constructor(){this.Ht=new QN}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const o={collectionId:i,parent:kt(s)};return B3(t).put(o)}return Re.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[yN(e),""],!1,!0);return B3(t).Bt(s).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Qs(u.parent))}return i})}}function B3(n){return xo(n,tg.store)}const V3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ao{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ao(t,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function U3(n,t,e){const i=n.store(Vn.store),s=n.store(Mr.store),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=i.jt({range:u},(C,E,x)=>(h++,x.delete()));o.push(m.next(()=>{Tt(1===h)}));const b=[];for(const C of e.mutations){const E=Mr.key(t,C.key.path,e.batchId);o.push(s.delete(E)),b.push(C.key)}return Re.waitFor(o).next(()=>b)}function Vx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt();t=n.noDocument}return JSON.stringify(t).length}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class KN{constructor(t,e,i,s){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=s,this.Yt={}}static Xt(t,e,i,s){Tt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new KN(o,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xp(t).jt({index:Vn.userMutationsIndex,range:i},(s,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const o=Jy(t),u=xp(t);return u.add({}).next(h=>{Tt("number"==typeof h);const m=new jN(h,e,i,s),b=function(x,k,P){const Y=P.baseMutations.map(xe=>d(x.Gt,xe)),X=P.mutations.map(xe=>d(x.Gt,xe));return new Vn(k,P.batchId,P.localWriteTime.toMillis(),Y,X)}(this.k,this.userId,m),C=[];let E=new ki((x,k)=>ln(x.canonicalString(),k.canonicalString()));for(const x of s){const k=Mr.key(this.userId,x.key.path,h);E=E.add(x.key.path.popLast()),C.push(u.put(b)),C.push(o.put(k,Mr.PLACEHOLDER))}return E.forEach(x=>{C.push(this.Jt.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(()=>{this.Yt[h]=m.keys()}),Re.waitFor(C).next(()=>m)})}lookupMutationBatch(t,e){return xp(t).get(e).next(i=>i?(Tt(i.userId===this.userId),Wy(this.k,i)):null)}Zt(t,e){return this.Yt[e]?Re.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.Yt[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return xp(t).jt({index:Vn.userMutationsIndex,range:s},(u,h,m)=>{h.userId===this.userId&&(Tt(h.batchId>=i),o=Wy(this.k,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return xp(t).jt({index:Vn.userMutationsIndex,range:e,reverse:!0},(s,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xp(t).Bt(Vn.userMutationsIndex,e).next(i=>i.map(s=>Wy(this.k,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Mr.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=[];return Jy(t).jt({range:s},(u,h,m)=>{const[b,C,E]=u,x=Qs(C);if(b===this.userId&&e.path.isEqual(x))return xp(t).get(E).next(k=>{if(!k)throw dt();Tt(k.userId===this.userId),o.push(Wy(this.k,k))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ki(ln);const s=[];return e.forEach(o=>{const u=Mr.prefixForPath(this.userId,o.path),h=IDBKeyRange.lowerBound(u),m=Jy(t).jt({range:h},(b,C,E)=>{const[x,k,P]=b,Y=Qs(k);x===this.userId&&o.path.isEqual(Y)?i=i.add(P):E.done()});s.push(m)}),Re.waitFor(s).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,o=Mr.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new ki(ln);return Jy(t).jt({range:u},(m,b,C)=>{const[E,x,k]=m,P=Qs(x);E===this.userId&&i.isPrefixOf(P)?P.length===s&&(h=h.add(k)):C.done()}).next(()=>this.te(t,h))}te(t,e){const i=[],s=[];return e.forEach(o=>{s.push(xp(t).get(o).next(u=>{if(null===u)throw dt();Tt(u.userId===this.userId),i.push(Wy(this.k,u))}))}),Re.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return U3(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Re.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Re.resolve();const i=IDBKeyRange.lowerBound(Mr.prefixForUser(this.userId)),s=[];return Jy(t).jt({range:i},(o,u,h)=>{if(o[0]===this.userId){const m=Qs(o[1]);s.push(m)}else h.done()}).next(()=>{Tt(0===s.length)})})}containsKey(t,e){return H3(t,this.userId,e)}ne(t){return Z3(t).get(this.userId).next(e=>e||new Ks(this.userId,-1,""))}}function H3(n,t,e){const i=Mr.prefixForPath(t,e.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Jy(n).jt({range:o,Kt:!0},(h,m,b)=>{const[C,E,x]=h;C===t&&E===s&&(u=!0),b.done()}).next(()=>u)}function xp(n){return xo(n,Vn.store)}function Jy(n){return xo(n,Mr.store)}function Z3(n){return xo(n,Ks.store)}class rg{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new rg(0)}static re(){return new rg(-1)}}class KG{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new rg(e.highestTargetId);return e.highestTargetId=i.next(),this.ce(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Lt.fromTimestamp(new Br(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.ce(t,s)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ce(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Qy(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.ce(t,i)))}removeTargets(t,e,i){let s=0;const o=[];return Qy(t).jt((u,h)=>{const m=D1(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(s++,o.push(this.removeTargetData(t,m)))}).next(()=>Re.waitFor(o)).next(()=>s)}forEachTarget(t,e){return Qy(t).jt((i,s)=>{const o=D1(s);e(o)})}oe(t){return q3(t).get(Ko.key).next(e=>(Tt(null!==e),e))}ce(t,e){return q3(t).put(Ko.key,e)}ae(t,e){return Qy(t).put(P3(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=zm(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Qy(t).jt({range:s,index:So.queryTargetsIndexName},(u,h,m)=>{const b=D1(h);ky(e,b.target)&&(o=b,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const s=[],o=Ap(t);return e.forEach(u=>{const h=kt(u.path);s.push(o.put(new bs(i,h))),s.push(this.referenceDelegate.addReference(t,i,u))}),Re.waitFor(s)}removeMatchingKeys(t,e,i){const s=Ap(t);return Re.forEach(e,o=>{const u=kt(o.path);return Re.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Ap(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=Ap(t);let o=An();return s.jt({range:i,Kt:!0},(u,h,m)=>{const b=Qs(u[1]),C=new at(b);o=o.add(C)}).next(()=>o)}containsKey(t,e){const i=kt(e.path),s=IDBKeyRange.bound([i],[yN(i)],!1,!0);let o=0;return Ap(t).jt({index:bs.documentTargetsIndex,Kt:!0,range:s},([u,h],m,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}Et(t,e){return Qy(t).get(e).next(i=>i?D1(i):null)}}function Qy(n){return xo(n,So.store)}function q3(n){return xo(n,Ko.store)}function Ap(n){return xo(n,bs.store)}function sg(n){return XN.apply(this,arguments)}function XN(){return(XN=(0,ve.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==x3)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Y3([n,t],[e,i]){const s=ln(n,e);return 0===s?ln(t,i):s}class XG{constructor(t){this.he=t,this.buffer=new ki(Y3),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Y3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class e4{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ve.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(s){ng(s)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield sg(s)}yield e.me(t)}))}}class t4{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Re.resolve(Ws.I);const i=new XG(e);return this.ge.forEachTarget(t,s=>i.de(s.sequenceNumber)).next(()=>this.ge.pe(t,s=>i.de(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(V3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V3):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,s,o,u,h,m,b;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(t,s))).next(E=>(i=E,h=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(b=Date.now(),a1()<=Wo.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${s} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${E} documents in `+(b-m)+`ms\nTotal Duration: ${b-C}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:E})))}}class n4{constructor(t,e){this.db=t,this.garbageCollector=new t4(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,s)=>e(s))}addReference(t,e,i){return Ux(t,i)}removeReference(t,e,i){return Ux(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Ux(t,e)}Ae(t,e){return function(i,s){let o=!1;return Z3(i).Qt(u=>H3(i,u,s).next(h=>(h&&(o=!0),Re.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Ie(t,(u,h)=>{if(h<=e){const m=this.Ae(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u),Ap(t).delete([0,kt(u.path)])))});s.push(m)}}).next(()=>Re.waitFor(s)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Ux(t,e)}Ie(t,e){const i=Ap(t);let s,o=Ws.I;return i.jt({index:bs.documentTargetsIndex},([u,h],{path:m,sequenceNumber:b})=>{0===u?(o!==Ws.I&&e(new at(Qs(s)),o),o=b,s=m):o=Ws.I}).next(()=>{o!==Ws.I&&e(new at(Qs(s)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ux(n,t){return Ap(n).put((i=n.currentSequenceNumber,new bs(0,kt(t.path),i)));var i}class Ky{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,o]of i)if(this.equalsFn(s,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s){for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),!0;return!1}forEach(t){oi(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return vN(this.inner)}}class G3{constructor(){this.changes=new Ky(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Lt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:ai.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Re.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class i4{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return kp(t).put(Hx(e),i)}removeEntry(t,e){const i=kp(t),s=Hx(e);return i.delete(s)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return kp(t).get(Hx(e)).next(i=>this.be(e,i))}Pe(t,e){return kp(t).get(Hx(e)).next(i=>({document:this.be(e,i),size:Vx(i)}))}getEntries(t,e){let i=ns();return this.ve(t,e,(s,o)=>{const u=this.be(s,o);i=i.insert(s,u)}).next(()=>i)}Ve(t,e){let i=ns(),s=new sr(at.comparator);return this.ve(t,e,(o,u)=>{const h=this.be(o,u);i=i.insert(o,h),s=s.insert(o,Vx(u))}).next(()=>({documents:i,Se:s}))}ve(t,e,i){if(e.isEmpty())return Re.resolve();const s=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator();let u=o.getNext();return kp(t).jt({range:s},(h,m,b)=>{const C=at.fromSegments(h);for(;u&&at.comparator(u,C)<0;)i(u,null),u=o.getNext();u&&u.isEqual(C)&&(i(u,m),u=o.hasNext()?o.getNext():null),u?b.Lt(u.path.toArray()):b.done()}).next(()=>{for(;u;)i(u,null),u=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i){let s=ns();const o=e.path.length+1,u={};if(i.isEqual(Lt.min())){const h=e.path.toArray();u.range=IDBKeyRange.lowerBound(h)}else{const h=e.path.toArray(),m=WN(i);u.range=IDBKeyRange.lowerBound([h,m],!0),u.index=li.collectionReadTimeIndex}return kp(t).jt(u,(h,m,b)=>{if(h.length!==o)return;const C=$N(this.k,m);e.path.isPrefixOf(C.key.path)?gp(e,C)&&(s=s.insert(C.key,C)):b.done()}).next(()=>s)}newChangeBuffer(t){return new r4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return j3(t).get(Sc.key).next(e=>(Tt(!!e),e))}Re(t,e){return j3(t).put(Sc.key,e)}be(t,e){if(e){const i=$N(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return ai.newInvalidDocument(t)}}class r4 extends G3{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Ky(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new ki((o,u)=>ln(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Ce.get(o);if(u.document.isValidDocument()){const m=O3(this.De.k,u.document,this.getReadTime(o));s=s.add(o.path.popLast()),i+=Vx(m)-h,e.push(this.De.addEntry(t,o,m))}else if(i-=h,this.trackRemovals){const m=O3(this.De.k,ai.newNoDocument(o,Lt.min()),this.getReadTime(o));e.push(this.De.addEntry(t,o,m))}else e.push(this.De.removeEntry(t,o))}),s.forEach(o=>{e.push(this.De.Jt.addToCollectionParentIndex(t,o))}),e.push(this.De.updateMetadata(t,i)),Re.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:s})=>(s.forEach((o,u)=>{this.Ce.set(o,u)}),i))}}function j3(n){return xo(n,Sc.store)}function kp(n){return xo(n,li.store)}function Hx(n){return n.path.toArray()}class s4{constructor(t){this.k=t}Nt(t,e,i,s){Tt(i<s&&i>=0&&s<=11);const o=new Bx("createOrUpgrade",e);var h;i<1&&s>=1&&(t.createObjectStore(Tr.store),(h=t).createObjectStore(Ks.store,{keyPath:Ks.keyPath}),h.createObjectStore(Vn.store,{keyPath:Vn.keyPath,autoIncrement:!0}).createIndex(Vn.userMutationsIndex,Vn.userMutationsKeyPath,{unique:!0}),h.createObjectStore(Mr.store),z3(t),function(h){h.createObjectStore(li.store)}(t));let u=Re.resolve();return i<3&&s>=3&&(0!==i&&(function(h){h.deleteObjectStore(bs.store),h.deleteObjectStore(So.store),h.deleteObjectStore(Ko.store)}(t),z3(t)),u=u.next(()=>function(h){const m=h.store(Ko.store),b=new Ko(0,0,Lt.min().toTimestamp(),0);return m.put(Ko.key,b)}(o))),i<4&&s>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store(Vn.store).Bt().next(b=>{h.deleteObjectStore(Vn.store),h.createObjectStore(Vn.store,{keyPath:Vn.keyPath,autoIncrement:!0}).createIndex(Vn.userMutationsIndex,Vn.userMutationsKeyPath,{unique:!0});const C=m.store(Vn.store),E=b.map(x=>C.put(x));return Re.waitFor(E)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore(od.store,{keyPath:od.keyPath})}(t)})),i<5&&s>=5&&(u=u.next(()=>this.Ne(o))),i<6&&s>=6&&(u=u.next(()=>(function(h){h.createObjectStore(Sc.store)}(t),this.ke(o)))),i<7&&s>=7&&(u=u.next(()=>this.xe(o))),i<8&&s>=8&&(u=u.next(()=>this.$e(t,o))),i<9&&s>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t),function(h){const m=h.objectStore(li.store);m.createIndex(li.readTimeIndex,li.readTimeIndexPath,{unique:!1}),m.createIndex(li.collectionReadTimeIndex,li.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&s>=10&&(u=u.next(()=>this.Oe(o))),i<11&&s>=11&&(u=u.next(()=>{(function(h){h.createObjectStore(Gy.store,{keyPath:Gy.keyPath})})(t),function(h){h.createObjectStore(jy.store,{keyPath:jy.keyPath})}(t)})),u}ke(t){let e=0;return t.store(li.store).jt((i,s)=>{e+=Vx(s)}).next(()=>{const i=new Sc(e);return t.store(Sc.store).put(Sc.key,i)})}Ne(t){const e=t.store(Ks.store),i=t.store(Vn.store);return e.Bt().next(s=>Re.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.Bt(Vn.userMutationsIndex,u).next(h=>Re.forEach(h,m=>{Tt(m.userId===o.userId);const b=Wy(this.k,m);return U3(t,o.userId,b).next(()=>{})}))}))}xe(t){const e=t.store(bs.store),i=t.store(li.store);return t.store(Ko.store).get(Ko.key).next(s=>{const o=[];return i.jt((u,h)=>{const m=new yn(u),b=[0,kt(m)];o.push(e.get(b).next(C=>C?Re.resolve():e.put(new bs(0,kt(m),s.highestListenSequenceNumber))))}).next(()=>Re.waitFor(o))})}$e(t,e){t.createObjectStore(tg.store,{keyPath:tg.keyPath});const i=e.store(tg.store),s=new QN,o=u=>{if(s.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:kt(m)})}};return e.store(li.store).jt({Kt:!0},(u,h)=>{const m=new yn(u);return o(m.popLast())}).next(()=>e.store(Mr.store).jt({Kt:!0},([u,h,m],b)=>{const C=Qs(h);return o(C.popLast())}))}Oe(t){const e=t.store(So.store);return e.jt((i,s)=>{const o=D1(s),u=P3(this.k,o);return e.put(u)})}}function z3(n){n.createObjectStore(bs.store,{keyPath:bs.keyPath}).createIndex(bs.documentTargetsIndex,bs.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(So.store,{keyPath:So.keyPath}).createIndex(So.queryTargetsIndexName,So.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ko.store)}const eP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tP{constructor(t,e,i,s,o,u,h,m,b,C){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Me=o,this.window=u,this.document=h,this.Fe=b,this.Le=C,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=E=>Promise.resolve(),!tP.Pt())throw new ke(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n4(this,s),this.Ge=e+"main",this.k=new R3(m),this.ze=new Cl(this.Ge,11,new s4(this.k)),this.He=new KG(this.referenceDelegate,this.k),this.Jt=new QG,this.Je=new i4(this.k,this.Jt),this.Ye=new WG,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===C&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(me.FAILED_PRECONDITION,eP);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Ws(t,this.Fe)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,ve.Z)(function*(s){if(e.started)return t(s)});return function(s){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Me.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Zx(t).put(new od(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.cn(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(ng(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Me.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return T1(t).get(Tr.key).next(e=>Re.resolve(this.un(e)))}hn(t){return Zx(t).delete(this.clientId)}ln(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=xo(i,od.store);return s.Bt().next(o=>{const u=t.dn(o,18e5),h=o.filter(m=>-1===u.indexOf(m));return Re.forEach(h,m=>s.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Re.resolve(!0):T1(t).get(Tr.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new ke(me.FAILED_PRECONDITION,eP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zx(t).Bt().next(i=>void 0===this.dn(i,5e3).find(s=>{if(this.clientId!==s.clientId){const u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Tr.store,od.store],e=>{const i=new I3(e,Ws.I);return t.cn(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>Zx(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return KN.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let o;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",jG,u=>(o=new I3(u,this.Be?this.Be.next():Ws.I),"readwrite-primary"===e?this.rn(o).next(h=>!!h||this.on(o)).next(h=>{if(!h)throw tr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new ke(me.FAILED_PRECONDITION,x3);return i(o)}).next(h=>this.an(o).next(()=>h)):this.En(o).next(()=>i(o)))).then(u=>(o.raiseOnCommittedEvent(),u))}En(t){return T1(t).get(Tr.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(me.FAILED_PRECONDITION,eP)})}an(t){const e=new Tr(this.clientId,this.allowTabSynchronization,Date.now());return T1(t).put(Tr.key,e)}static Pt(){return Cl.Pt()}cn(t){const e=T1(t);return e.get(Tr.key).next(i=>this.un(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(Tr.key)):Re.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(tr(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Bt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return tr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){tr("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function T1(n){return xo(n,Tr.store)}function Zx(n){return xo(n,od.store)}function nP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class o4{constructor(t,e){this.progress=t,this.In=e}}class $3{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(s=>{for(const o of i)o.applyToLocalView(s);return s})}Pn(t,e){t.forEach((i,s)=>{for(const o of e)o.applyToLocalView(s)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return at.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.Sn(t,e.path):f1(e)?this.Dn(t,e,i):this.Cn(t,e,i);var s}Sn(t,e){return this.Rn(t,new at(e)).next(i=>{let s=Cp();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}Dn(t,e,i){const s=e.collectionGroup;let o=Cp();return this.Jt.getCollectionParents(t,s).next(u=>Re.forEach(u,h=>{const m=(b=e,C=h.child(s),new Dc(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.Cn(t,m,i).next(b=>{b.forEach((C,E)=>{o=o.insert(C,E)})})}).next(()=>o))}Cn(t,e,i){let s,o;return this.Je.getDocumentsMatchingQuery(t,e,i).next(u=>(s=u,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(o=u,this.Nn(t,o,s).next(h=>{s=h;for(const m of o)for(const b of m.mutations){const C=b.key;let E=s.get(C);null==E&&(E=ai.newInvalidDocument(C),s=s.insert(C,E)),_1(b,E,m.localWriteTime),E.isFoundDocument()||(s=s.remove(C))}}))).next(()=>(s.forEach((u,h)=>{gp(e,h)||(s=s.remove(u))}),s))}Nn(t,e,i){let s=An();for(const u of e)for(const h of u.mutations)h instanceof Ec&&null===i.get(h.key)&&(s=s.add(h.key));let o=i;return this.Je.getEntries(t,s).next(u=>(u.forEach((h,m)=>{m.isFoundDocument()&&(o=o.insert(h,m))}),o))}}class iP{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=s}static $n(t,e){let i=An(),s=An();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new iP(t,e.fromCache,i,s)}}class W3{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,i,s){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(Lt.min())?this.Fn(t,e):this.Mn.vn(t,s).next(o=>{const u=this.Ln(e,o);return(Oy(e)||Ny(e))&&this.Bn(e.limitType,u,s,i)?this.Fn(t,e):(a1()<=Wo.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Py(e)),this.Mn.getDocumentsMatchingQuery(t,e,i).next(h=>(u.forEach(m=>{h=h.insert(m.key,m)}),h)))});var o}Ln(t,e){let i=new ki(m1(t));return e.forEach((s,o)=>{gp(t,o)&&(i=i.add(o))}),i}Bn(t,e,i,s){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Fn(t,e){return a1()<=Wo.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Py(e)),this.Mn.getDocumentsMatchingQuery(t,e,Lt.min())}}class a4{constructor(t,e,i,s){this.persistence=t,this.Un=e,this.k=s,this.qn=new sr(ln),this.Kn=new Ky(o=>zm(o),ky),this.jn=Lt.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new $3(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function J3(n,t,e,i){return new a4(n,t,e,i)}function Q3(n,t){return rP.apply(this,arguments)}function rP(){return(rP=(0,ve.Z)(function*(n,t){const e=Ye(n);let i=e.An,s=e.Wn;const o=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let h;return e.An.getAllMutationBatches(u).next(m=>(h=m,i=e.persistence.getMutationQueue(t),s=new $3(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(m=>{const b=[],C=[];let E=An();for(const x of h){b.push(x.batchId);for(const k of x.mutations)E=E.add(k.key)}for(const x of m){C.push(x.batchId);for(const k of x.mutations)E=E.add(k.key)}return s.vn(u,E).next(x=>({Gn:x,removedBatchIds:b,addedBatchIds:C}))})});return e.An=i,e.Wn=s,e.Un.On(e.Wn),o})).apply(this,arguments)}function l4(n,t){const e=Ye(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Qn.newChangeBuffer({trackRemovals:!0});return function(u,h,m,b){const C=m.batch,E=C.keys();let x=Re.resolve();return E.forEach(k=>{x=x.next(()=>b.getEntry(h,k)).next(P=>{const Y=m.docVersions.get(k);Tt(null!==Y),P.version.compareTo(Y)<0&&(C.applyToRemoteDocument(P,m),P.isValidDocument()&&b.addEntry(P,m.commitVersion))})}),x.next(()=>u.An.removeMutationBatch(h,C))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,s))})}function K3(n){const t=Ye(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function c4(n,t){const e=Ye(n),i=t.snapshotVersion;let s=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Qn.newChangeBuffer({trackRemovals:!0});s=e.qn;const h=[];t.targetChanges.forEach((b,C)=>{const E=s.get(C);if(!E)return;h.push(e.He.removeMatchingKeys(o,b.removedDocuments,C).next(()=>e.He.addMatchingKeys(o,b.addedDocuments,C)));let x=E.withSequenceNumber(o.currentSequenceNumber);var k,P,Y;t.targetMismatches.has(C)?x=x.withResumeToken(ir.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,i)),s=s.insert(C,x),P=x,Y=b,(0===(k=E).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(e.He.updateTargetData(o,x))});let m=ns();if(t.documentUpdates.forEach((b,C)=>{t.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),h.push(X3(o,u,t.documentUpdates,i,void 0).next(b=>{m=b})),!i.isEqual(Lt.min())){const b=e.He.getLastRemoteSnapshotVersion(o).next(C=>e.He.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(b)}return Re.waitFor(h).next(()=>u.apply(o)).next(()=>e.Wn.Vn(o,m)).next(()=>m)}).then(o=>(e.qn=s,o))}function X3(n,t,e,i,s){let o=An();return e.forEach(u=>o=o.add(u)),t.getEntries(n,o).next(u=>{let h=ns();return e.forEach((m,b)=>{const C=u.get(m),E=(null==s?void 0:s.get(m))||i;b.isNoDocument()&&b.version.isEqual(Lt.min())?(t.removeEntry(m,E),h=h.insert(m,b)):!C.isValidDocument()||b.version.compareTo(C.version)>0||0===b.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(b,E),h=h.insert(m,b)):Le("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",b.version)}),h})}function u4(n,t){const e=Ye(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function Xy(n,t){const e=Ye(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.He.getTargetData(i,t).next(o=>o?(s=o,Re.resolve(s)):e.He.allocateTargetId(i).next(u=>(s=new Sp(t,u,0,i.currentSequenceNumber),e.He.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.qn.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function ev(n,t,e){return sP.apply(this,arguments)}function sP(){return(sP=(0,ve.Z)(function*(n,t,e){const i=Ye(n),s=i.qn.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ng(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qn=i.qn.remove(t),i.Kn.delete(s.target)})).apply(this,arguments)}function qx(n,t,e){const i=Ye(n);let s=Lt.min(),o=An();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,b){const C=Ye(h),E=C.Kn.get(b);return void 0!==E?Re.resolve(C.qn.get(E)):C.He.getTargetData(m,b)}(i,u,Ai(t)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,h.targetId).next(m=>{o=m})}).next(()=>i.Un.getDocumentsMatchingQuery(u,t,e?s:Lt.min(),e?o:An())).next(h=>({documents:h,zn:o})))}function e6(n,t){const e=Ye(n),i=Ye(e.He),s=e.qn.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function t6(n){const t=Ye(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,s,o){const u=Ye(i);let h=ns(),m=WN(o);const b=kp(s),C=IDBKeyRange.lowerBound(m,!0);return b.jt({index:li.readTimeIndex,range:C},(E,x)=>{const k=$N(u.k,x);h=h.insert(k.key,k),m=x.readTime}).next(()=>({In:h,readTime:N3(m)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function oP(){return(oP=(0,ve.Z)(function*(n){const t=Ye(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const s=kp(i);let o=Lt.min();return s.jt({index:li.readTimeIndex,reverse:!0},(u,h,m)=>{h.readTime&&(o=N3(h.readTime)),m.done()}).next(()=>o)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function aP(){return(aP=(0,ve.Z)(function*(n,t,e,i){const s=Ye(n);let o=An(),u=ns(),h=Rx();for(const C of e){const E=t.Hn(C.metadata.name);C.document&&(o=o.add(E)),u=u.insert(E,t.Jn(C)),h=h.insert(E,t.Yn(C.metadata.readTime))}const m=s.Qn.newChangeBuffer({trackRemovals:!0}),b=yield Xy(s,(C=i,Ai(pp(yn.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>X3(C,m,u,Lt.min(),h).next(E=>(m.apply(C),E)).next(E=>s.He.removeMatchingKeysForTargetId(C,b.targetId).next(()=>s.He.addMatchingKeys(C,o,b.targetId)).next(()=>s.Wn.Vn(C,E)).next(()=>E)))})).apply(this,arguments)}function p4(n,t){return lP.apply(this,arguments)}function lP(){return(lP=(0,ve.Z)(function*(n,t,e=An()){const i=yield Xy(n,Ai(JN(t.bundledQuery))),s=Ye(n);return s.persistence.runTransaction("Save named query","readwrite",o=>{const u=Dr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.Ye.saveNamedQuery(o,t);const h=i.withResumeToken(ir.EMPTY_BYTE_STRING,u);return s.qn=s.qn.insert(h.targetId,h),s.He.updateTargetData(o,h).next(()=>s.He.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>s.He.addMatchingKeys(o,e,i.targetId)).next(()=>s.Ye.saveNamedQuery(o,t))})})).apply(this,arguments)}class f4{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Re.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:Dr(i.createTime)}),Re.resolve()}getNamedQuery(t,e){return Re.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:JN(i.bundledQuery),readTime:Dr(i.readTime)}),Re.resolve();var i}}class cP{constructor(){this.ts=new ki(is.es),this.ns=new ki(is.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new is(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new is(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new at(new yn([])),i=new is(e,t),s=new is(e,t+1),o=[];return this.ns.forEachInRange([i,s],u=>{this.os(u),o.push(u.key)}),o}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new at(new yn([])),i=new is(e,t),s=new is(e,t+1);let o=An();return this.ns.forEachInRange([i,s],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new is(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class is{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return at.comparator(t.key,e.key)||ln(t.fs,e.fs)}static ss(t,e){return ln(t.fs,e.fs)||at.comparator(t.key,e.key)}}class m4{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new ki(is.es)}checkEmpty(t){return Re.resolve(0===this.An.length)}addMutationBatch(t,e,i,s){const o=this.ds;this.ds++;const u=new jN(o,e,i,s);this.An.push(u);for(const h of s)this.ws=this.ws.add(new is(h.key,o)),this.Jt.addToCollectionParentIndex(t,h.key.path.popLast());return Re.resolve(u)}lookupMutationBatch(t,e){return Re.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.gs(e+1),o=s<0?0:s;return Re.resolve(this.An.length>o?this.An[o]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Re.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new is(e,0),s=new is(e,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([i,s],u=>{const h=this._s(u.fs);o.push(h)}),Re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ki(ln);return e.forEach(s=>{const o=new is(s,0),u=new is(s,Number.POSITIVE_INFINITY);this.ws.forEachInRange([o,u],h=>{i=i.add(h.fs)})}),Re.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;at.isDocumentKey(o)||(o=o.child(""));const u=new is(new at(o),0);let h=new ki(ln);return this.ws.forEachWhile(m=>{const b=m.key.path;return!!i.isPrefixOf(b)&&(b.length===s&&(h=h.add(m.fs)),!0)},u),Re.resolve(this.ys(h))}ys(t){const e=[];return t.forEach(i=>{const s=this._s(i);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){Tt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return Re.forEach(e.mutations,s=>{const o=new is(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new is(e,0),s=this.ws.firstAfterOrEqual(i);return Re.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return Re.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class g4{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new sr(at.comparator),this.size=0}addEntry(t,e,i){const s=e.key,o=this.docs.get(s),u=o?o.size:0,h=this.Ts(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:h,readTime:i}),this.size+=h-u,this.Jt.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Re.resolve(i?i.document.mutableCopy():ai.newInvalidDocument(e))}getEntries(t,e){let i=ns();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():ai.newInvalidDocument(s))}),Re.resolve(i)}getDocumentsMatchingQuery(t,e,i){let s=ns();const o=new at(e.path.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m,readTime:b}}=u.getNext();if(!e.path.isPrefixOf(h.path))break;b.compareTo(i)<=0||gp(e,m)&&(s=s.insert(m.key,m.mutableCopy()))}return Re.resolve(s)}Es(t,e){return Re.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _4(this)}getSize(t){return Re.resolve(this.size)}}class _4 extends G3{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.document.isValidDocument()?e.push(this.De.addEntry(t,s.document,this.getReadTime(i))):this.De.removeEntry(i)}),Re.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class b4{constructor(t){this.persistence=t,this.Is=new Ky(e=>zm(e),ky),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.As=0,this.Rs=new cP,this.targetCount=0,this.bs=rg.ie()}forEachTarget(t,e){return this.Is.forEach((i,s)=>e(s)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),Re.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new rg(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Re.resolve()}updateTargetData(t,e){return this.ae(e),Re.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.Is.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Is.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)}),Re.waitFor(o).next(()=>s)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return Re.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),Re.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(u=>{o.push(s.markPotentiallyOrphaned(t,u))}),Re.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Re.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return Re.resolve(i)}containsKey(t,e){return Re.resolve(this.Rs.containsKey(e))}}class y4{constructor(t,e){this.Ps={},this.Be=new Ws(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new b4(this),this.Jt=new JG,this.Je=new g4(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new R3(e),this.Ye=new f4(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new m4(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const s=new v4(this.Be.next());return this.referenceDelegate.Vs(),i(s).next(o=>this.referenceDelegate.Ss(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ds(t,e){return Re.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class v4 extends A3{constructor(t){super(),this.currentSequenceNumber=t}}class uP{constructor(t){this.persistence=t,this.Cs=new cP,this.Ns=null}static ks(t){return new uP(t)}get xs(){if(this.Ns)return this.Ns;throw dt()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),Re.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),Re.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Re.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(s=>this.xs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.xs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.xs,i=>{const s=at.fromPath(i);return this.$s(t,s).next(o=>{o||e.removeEntry(s)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Re.or([()=>Re.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function n6(n,t){return`firestore_clients_${n}_${t}`}function i6(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function dP(n,t){return`firestore_targets_${n}_${t}`}class Yx{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static Os(t,e,i){const s=JSON.parse(i);let o,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new ke(s.error.code,s.error.message))),u?new Yx(t,e,s.state,o):(tr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class M1{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let s,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ke(i.error.code,i.error.message))),o?new M1(t,i.state,s):(tr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Gx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let s="object"==typeof i&&i.activeTargetIds instanceof Array,o=eg();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=mr(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return s?new Gx(t,o):(tr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class hP{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new hP(e.clientId,e.onlineState):(tr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class pP{constructor(){this.activeTargetIds=eg()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fP{constructor(t,e,i,s,o){this.window=t,this.Me=e,this.persistenceKey=i,this.Bs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new sr(ln),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Qs=n6(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new pP),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(h){return`firestore_bundle_loaded_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.Tn();for(const s of e){if(s===t.Bs)continue;const o=t.getItem(n6(t.persistenceKey,s));if(o){const u=Gx.Os(s,o);u&&(t.Ks=t.Ks.insert(u.clientId,u))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const s=t.Zs(i);s&&t.ti(s)}for(const s of t.js)t.qs(s);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(dP(this.persistenceKey,t));if(i){const s=M1.Os(t,i);s&&(e=s.state)}}return this.ii.Fs(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(dP(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.si(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const s=e.ai(i.key);return e.ui(s,null)}{const s=e.hi(i.key,i.newValue);if(s)return e.ui(s.clientId,s)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const s=e.li(i.key,i.newValue);if(s)return e.fi(s)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const s=e.di(i.key,i.newValue);if(s)return e.wi(s)}}else if(i.key===e.Js){if(null!==i.newValue){const s=e.Zs(i.newValue);if(s)return e.ti(s)}}else if(i.key===e.Ws){const s=function(o){let u=Ws.I;if(null!=o)try{const h=JSON.parse(o);Tt("number"==typeof h),u=h}catch(h){tr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);s!==Ws.I&&e.sequenceNumberHandler(s)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(t,e,i){const s=new Yx(this.currentUser,t,e,i),o=i6(this.persistenceKey,this.currentUser,t);this.setItem(o,s.Ms())}si(t){const e=i6(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const s=dP(this.persistenceKey,t),o=new M1(t,e,i);this.setItem(s,o.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ai(t);return Gx.Os(i,e)}li(t,e){const i=this.zs.exec(t),s=Number(i[1]);return Yx.Os(new Lr(void 0!==i[2]?i[2]:null),s,e)}di(t,e){const i=this.Hs.exec(t),s=Number(i[1]);return M1.Os(s,e)}Zs(t){return hP.Os(t)}fi(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),s=this.ei(this.Ks),o=this.ei(i),u=[],h=[];return o.forEach(m=>{s.has(m)||u.push(m)}),s.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.yi(u,h).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=eg();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class r6{constructor(){this.pi=new pP,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new pP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class C4{Ei(t){}shutdown(){}}class s6{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const w4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class D4{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class T4 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,s,o){const u=this.Ui(t,e);Le("RestConnection","Sending: ",u,i);const h={};return this.qi(h,s,o),this.Ki(t,u,h,i).then(m=>(Le("RestConnection","Received: ",m),m),m=>{throw up("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}ji(t,e,i,s,o){return this.Bi(t,e,i,s,o)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+cp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Ui(t,e){return`${this.Fi}/v1/${e}:${w4[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,s){return new Promise((o,u)=>{const h=new C3;h.listenOnce(pN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case qm.NO_ERROR:const b=h.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),o(b);break;case qm.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),u(new ke(me.DEADLINE_EXCEEDED,"Request time out"));break;case qm.HTTP_ERROR:const C=h.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const E=h.getResponseJson().error;if(E&&E.status&&E.message){const x=function(k){const P=k.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(P)>=0?P:me.UNKNOWN}(E.status);u(new ke(x,E.message))}else u(new ke(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(me.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(s);h.send(e,"POST",m,i,15)})}Qi(t,e,i){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=tx(),u=nx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new v3({})),this.qi(h.initMessageHeaders,e,i),(0,Bt.uI)()||(0,Bt.b$)()||(0,Bt.d)()||(0,Bt.w1)()||(0,Bt.Mn)()||(0,Bt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=s.join("");Le("Connection","Creating WebChannel: "+m,h);const b=o.createWebChannel(m,h);let C=!1,E=!1;const x=new D4({Vi:P=>{E?Le("Connection","Not sending because WebChannel is closed:",P):(C||(Le("Connection","Opening WebChannel transport."),b.open(),C=!0),Le("Connection","WebChannel sending:",P),b.send(P))},Si:()=>b.close()}),k=(P,Y,X)=>{P.listen(Y,xe=>{try{X(xe)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return k(b,Ty.EventType.OPEN,()=>{E||Le("Connection","WebChannel transport opened.")}),k(b,Ty.EventType.CLOSE,()=>{E||(E=!0,Le("Connection","WebChannel transport closed"),x.Oi())}),k(b,Ty.EventType.ERROR,P=>{E||(E=!0,up("Connection","WebChannel transport errored:",P),x.Oi(new ke(me.UNAVAILABLE,"The operation could not be completed")))}),k(b,Ty.EventType.MESSAGE,P=>{var Y;if(!E){const X=P.data[0];Tt(!!X);const xe=X,Ne=xe.error||(null===(Y=xe[0])||void 0===Y?void 0:Y.error);if(Ne){Le("Connection","WebChannel received error:",Ne);const Fe=Ne.status;let je=function(Ni){const yi=rr[Ni];if(void 0!==yi)return kx(yi)}(Fe),_n=Ne.message;void 0===je&&(je=me.INTERNAL,_n="Unknown error status: "+Fe+" with message "+Ne.message),E=!0,x.Oi(new ke(je,_n)),b.close()}else Le("Connection","WebChannel received:",X),x.Mi(X)}}),k(u,Jo.STAT_EVENT,P=>{P.stat===ix.PROXY?Le("Connection","Detected buffering proxy"):P.stat===ix.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.$i()},0),x}}function o6(){return"undefined"!=typeof window?window:null}function jx(){return"undefined"!=typeof document?document:null}function E1(n){return new S3(n,!0)}class mP{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Me=t,this.timerId=e,this.Wi=i,this.Gi=s,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),s=Math.max(0,e-i);s>0&&Le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,s,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class a6{constructor(t,e,i,s,o,u,h,m){this.Me=t,this.nr=i,this.sr=s,this.ir=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new mP(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,ve.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,ve.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(tr(e.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.rr===e&&this.Ir(i,s)},i=>{t(()=>{const s=new ke(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(s)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(s=>{i(()=>this.Ar(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}dr(){var t=this;this.state=5,this.ur.Zi((0,ve.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M4 extends a6{constructor(t,e,i,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,u),this.k=o}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:dt(),s=t.targetChange.targetIds||[],o=function(m,b){return m.C?(Tt(void 0===b||"string"==typeof b),ir.fromBase64String(b||"")):(Tt(void 0===b||b instanceof Uint8Array),ir.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const b=void 0===m.code?me.UNKNOWN:kx(m.code);return new ke(b,m.message||"")}(u);e=new Px(i,s,o,h||null)}else if("documentChange"in t){const i=t.documentChange,s=vl(n,i.document.name),o=Dr(i.document.updateTime),u=new es({mapValue:{fields:i.document.fields}}),h=ai.newFoundDocument(s,o,u);e=new Mp(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,s=vl(n,i.document),o=i.readTime?Dr(i.readTime):Lt.min(),u=ai.newNoDocument(s,o);e=new Mp([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,s=vl(n,i.document);e=new Mp([],i.removedTargetIds||[],s,null)}else{if(!("filter"in t))return dt();{const i=t.filter,o=new FN(i.count||0);e=new Nx(i.targetId,o)}}var m;return e}(this.k,t),i=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?Dr(o.readTime):Lt.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=Yy(this.k),e.addTarget=function(s,o){let u;const h=o.target;return u=Iy(h)?{documents:_(s,h)}:{query:v(s,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=VN(s,o.resumeToken):o.snapshotVersion.compareTo(Lt.min())>0&&(u.readTime=Zy(s,o.snapshotVersion.toTimestamp())),u}(this.k,t);const i=function(n,t){const e=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=Yy(this.k),e.removeTarget=t,this.gr(e)}}class E4 extends a6{constructor(t,e,i,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,u),this.k=o,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(Tt(void 0!==t),n.map(e=>function(i,s){let o=Dr(i.updateTime?i.updateTime:s);return o.isEqual(Lt.min())&&(o=Dr(s)),new Mx(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Dr(t.commitTime);return this.listener.Cr(i,e)}return Tt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Yy(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>d(this.k,i))};this.gr(e)}}class S4 extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=s,this.$r=!1}Or(){if(this.$r)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.ir.Bi(t,e,i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(me.UNKNOWN,s.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.ir.ji(t,e,i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(me.UNKNOWN,s.toString())})}terminate(){this.$r=!0}}class x4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(tr(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class A4{constructor(t,e,i,s,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(h=>{i.enqueueAndForget((0,ve.Z)(function*(){var m;Ip(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ve.Z)(function*(b){const C=Ye(b);C.Gr.add(4),yield tv(C),C.Jr.set("Unknown"),C.Gr.delete(4),yield S1(C)}),function(b){return m.apply(this,arguments)})(u))}))}),this.Jr=new x4(i,s)}}function S1(n){return gP.apply(this,arguments)}function gP(){return(gP=(0,ve.Z)(function*(n){if(Ip(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function tv(n){return _P.apply(this,arguments)}function _P(){return(_P=(0,ve.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function zx(n,t){const e=Ye(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),vP(e)?yP(e):iv(e).lr()&&bP(e,t))}function x1(n,t){const e=Ye(n),i=iv(e);e.Wr.delete(t),i.lr()&&l6(e,t),0===e.Wr.size&&(i.lr()?i._r():Ip(e)&&e.Jr.set("Unknown"))}function bP(n,t){n.Yr.X(t.targetId),iv(n).Pr(t)}function l6(n,t){n.Yr.X(t),iv(n).vr(t)}function yP(n){n.Yr=new sd({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),iv(n).start(),n.Jr.Br()}function vP(n){return Ip(n)&&!iv(n).hr()&&n.Wr.size>0}function Ip(n){return 0===Ye(n).Gr.size}function c6(n){n.Yr=void 0}function k4(n){return CP.apply(this,arguments)}function CP(){return(CP=(0,ve.Z)(function*(n){n.Wr.forEach((t,e)=>{bP(n,t)})})).apply(this,arguments)}function I4(n,t){return wP.apply(this,arguments)}function wP(){return(wP=(0,ve.Z)(function*(n,t){c6(n),vP(n)?(n.Jr.Kr(t),yP(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function R4(n,t,e){return DP.apply(this,arguments)}function DP(){return(DP=(0,ve.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof Px&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(s,o){const u=o.cause;for(const h of o.targetIds)s.Wr.has(h)&&(yield s.remoteSyncer.rejectListen(h,u),s.Wr.delete(h),s.Yr.removeTarget(h))}),function(s,o){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield $x(n,i)}else if(t instanceof Mp?n.Yr.ot(t):t instanceof Nx?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Lt.min()))try{const i=yield K3(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const u=s.Yr.gt(o);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const b=s.Wr.get(m);b&&s.Wr.set(m,b.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const m=s.Wr.get(h);if(!m)return;s.Wr.set(h,m.withResumeToken(ir.EMPTY_BYTE_STRING,m.snapshotVersion)),l6(s,h);const b=new Sp(m.target,h,1,m.sequenceNumber);bP(s,b)}),s.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield $x(n,i)}var i})).apply(this,arguments)}function $x(n,t,e){return TP.apply(this,arguments)}function TP(){return(TP=(0,ve.Z)(function*(n,t,e){if(!ng(t))throw t;n.Gr.add(1),yield tv(n),n.Jr.set("Offline"),e||(e=()=>K3(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield S1(n)}))})).apply(this,arguments)}function u6(n,t){return t().catch(e=>$x(n,e,t))}function nv(n){return MP.apply(this,arguments)}function MP(){return(MP=(0,ve.Z)(function*(n){const t=Ye(n),e=Rp(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;O4(t);)try{const s=yield u4(t.localStore,i);if(null===s){0===t.Qr.length&&e._r();break}i=s.batchId,N4(t,s)}catch(s){yield $x(t,s)}d6(t)&&h6(t)})).apply(this,arguments)}function O4(n){return Ip(n)&&n.Qr.length<10}function N4(n,t){n.Qr.push(t);const e=Rp(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function d6(n){return Ip(n)&&!Rp(n).hr()&&n.Qr.length>0}function h6(n){Rp(n).start()}function P4(n){return EP.apply(this,arguments)}function EP(){return(EP=(0,ve.Z)(function*(n){Rp(n).kr()})).apply(this,arguments)}function F4(n){return SP.apply(this,arguments)}function SP(){return(SP=(0,ve.Z)(function*(n){const t=Rp(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function L4(n,t,e){return xP.apply(this,arguments)}function xP(){return(xP=(0,ve.Z)(function*(n,t,e){const i=n.Qr.shift(),s=zN.from(i,t,e);yield u6(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield nv(n)})).apply(this,arguments)}function B4(n,t){return AP.apply(this,arguments)}function AP(){return(AP=(0,ve.Z)(function*(n,t){var e;t&&Rp(n).Sr&&(yield(e=(0,ve.Z)(function*(i,s){if(Uy(o=s.code)&&o!==me.ABORTED){const u=i.Qr.shift();Rp(i).wr(),yield u6(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),yield nv(i)}var o}),function(i,s){return e.apply(this,arguments)})(n,t)),d6(n)&&h6(n)})).apply(this,arguments)}function p6(n,t){return kP.apply(this,arguments)}function kP(){return(kP=(0,ve.Z)(function*(n,t){const e=Ye(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Ip(e);e.Gr.add(3),yield tv(e),i&&e.Jr.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Gr.delete(3),yield S1(e)})).apply(this,arguments)}function IP(n,t){return RP.apply(this,arguments)}function RP(){return(RP=(0,ve.Z)(function*(n,t){const e=Ye(n);t?(e.Gr.delete(2),yield S1(e)):t||(e.Gr.add(2),yield tv(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function iv(n){return n.Xr||(n.Xr=function(t,e,i){const s=Ye(t);return s.Or(),new M4(e,s.ir,s.authCredentials,s.appCheckCredentials,s.k,i)}(n.datastore,n.asyncQueue,{Di:k4.bind(null,n),Ni:I4.bind(null,n),br:R4.bind(null,n)}),n.zr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Xr.wr(),vP(n)?yP(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),c6(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Rp(n){return n.Zr||(n.Zr=function(t,e,i){const s=Ye(t);return s.Or(),new E4(e,s.ir,s.authCredentials,s.appCheckCredentials,s.k,i)}(n.datastore,n.asyncQueue,{Di:P4.bind(null,n),Ni:B4.bind(null,n),Nr:F4.bind(null,n),Cr:L4.bind(null,n)}),n.zr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Zr.wr(),yield nv(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class OP{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,s,o){const u=Date.now()+i,h=new OP(t,e,u,s,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(n,t){if(tr("AsyncQueue",`${t}: ${n}`),ng(n))return new ke(me.UNAVAILABLE,`${t}: ${n}`);throw n}class sv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||at.comparator(e.key,i.key):(e,i)=>at.comparator(e.key,i.key),this.keyedMap=Cp(),this.sortedSet=new sr(this.comparator)}static emptySet(t){return new sv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof sv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new sv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class f6{constructor(){this.eo=new sr(at.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):dt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class ov{constructor(t,e,i,s,o,u,h,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,s){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new ov(t,e,sv.emptySet(e),o,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class V4{constructor(){this.so=void 0,this.listeners=[]}}class U4{constructor(){this.queries=new Ky(t=>bx(t),mp),this.onlineState="Unknown",this.io=new Set}}function NP(n,t){return PP.apply(this,arguments)}function PP(){return(PP=(0,ve.Z)(function*(n,t){const e=Ye(n),i=t.query;let s=!1,o=e.queries.get(i);if(o||(s=!0,o=new V4),s)try{o.so=yield e.onListen(i)}catch(u){const h=rv(u,`Initialization of query '${Py(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.ro(e.onlineState),o.so&&t.oo(o.so)&&BP(e)})).apply(this,arguments)}function FP(n,t){return LP.apply(this,arguments)}function LP(){return(LP=(0,ve.Z)(function*(n,t){const e=Ye(n),i=t.query;let s=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),s=0===o.listeners.length)}if(s)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function H4(n,t){const e=Ye(n);let i=!1;for(const s of t){const u=e.queries.get(s.query);if(u){for(const h of u.listeners)h.oo(s)&&(i=!0);u.so=s}}i&&BP(e)}function Z4(n,t,e){const i=Ye(n),s=i.queries.get(t);if(s)for(const o of s.listeners)o.onError(e);i.queries.delete(t)}function BP(n){n.io.forEach(t=>{t.next()})}class VP{constructor(t,e,i){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)3!==s.type&&i.push(s);t=new ov(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=ov.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class q4{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class m6{constructor(t){this.k=t}Hn(t){return vl(this.k,t)}Jn(t){return t.metadata.exists?a(this.k,t.document,!1):ai.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Dr(t)}}class Y4{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=g6(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new m6(this.k);for(const s of t)if(s.metadata.queries){const o=i.Hn(s.metadata.name);for(const u of s.metadata.queries){const h=(e.get(u)||An()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function(n,t,e,i){return aP.apply(this,arguments)}(t.localStore,new m6(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const s of t.queries)yield p4(t.localStore,s,i.get(s.name));return t.progress.taskState="Success",new o4(Object.assign({},t.progress),e)})()}}function g6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _6{constructor(t){this.key=t}}class b6{constructor(t){this.key=t}}class y6{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=An(),this.mutatedKeys=An(),this.Ao=m1(t),this.Ro=new sv(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new f6,s=e?e.Ro:this.Ro;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,h=!1;const m=Oy(this.query)&&s.size===this.query.limit?s.last():null,b=Ny(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((C,E)=>{const x=s.get(C),k=gp(this.query,E)?E:null,P=!!x&&this.mutatedKeys.has(x.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;x&&k?x.data.isEqual(k.data)?P!==Y&&(i.track({type:3,doc:k}),X=!0):this.Vo(x,k)||(i.track({type:2,doc:k}),X=!0,(m&&this.Ao(k,m)>0||b&&this.Ao(k,b)<0)&&(h=!0)):!x&&k?(i.track({type:0,doc:k}),X=!0):x&&!k&&(i.track({type:1,doc:x}),X=!0,(m||b)&&(h=!0)),X&&(k?(u=u.add(k),o=Y?o.add(C):o.delete(C)):(u=u.delete(C),o=o.delete(C)))}),Oy(this.query)||Ny(this.query))for(;u.size>this.query.limit;){const C=Oy(this.query)?u.last():u.first();u=u.delete(C.key),o=o.delete(C.key),i.track({type:1,doc:C})}return{Ro:u,vo:i,Bn:h,mutatedKeys:o}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const s=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const o=t.vo.no();o.sort((b,C)=>function(E,x){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return k(E)-k(x)}(b.type,C.type)||this.Ao(b.doc,C.doc)),this.So(i);const u=e?this.Do():[],h=0===this.Io.size&&this.current?1:0,m=h!==this.Eo;return this.Eo=h,0!==o.length||m?{snapshot:new ov(this.query,t.Ro,s,o,t.mutatedKeys,0===h,m,!1),Co:u}:{Co:u}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new f6,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=An(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new b6(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new _6(i))}),e}ko(t){this.To=t.zn,this.Io=An();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return ov.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class G4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class j4{constructor(t){this.key=t,this.$o=!1}}class z4{constructor(t,e,i,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new Ky(h=>bx(h),mp),this.Fo=new Map,this.Lo=new Set,this.Bo=new sr(at.comparator),this.Uo=new Map,this.qo=new cP,this.Ko={},this.jo=new Map,this.Qo=rg.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function $4(n,t){return UP.apply(this,arguments)}function UP(){return(UP=(0,ve.Z)(function*(n,t){const e=cF(n);let i,s;const o=e.Mo.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),s=o.view.xo();else{const u=yield Xy(e.localStore,Ai(t)),h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,s=yield HP(e,t,i,"current"===h),e.isPrimaryClient&&zx(e.remoteStore,u)}return s})).apply(this,arguments)}function HP(n,t,e,i){return ZP.apply(this,arguments)}function ZP(){return(ZP=(0,ve.Z)(function*(n,t,e,i){n.Go=(C,E,x)=>{return(k=(0,ve.Z)(function*(P,Y,X,xe){let Ne=Y.view.Po(X);Ne.Bn&&(Ne=yield qx(P.localStore,Y.query,!1).then(({documents:_n})=>Y.view.Po(_n,Ne)));const Fe=xe&&xe.targetChanges.get(Y.targetId),je=Y.view.applyChanges(Ne,P.isPrimaryClient,Fe);return KP(P,Y.targetId,je.Co),je.snapshot}),function(P,Y,X,xe){return k.apply(this,arguments)})(n,C,E,x);var k};const s=yield qx(n.localStore,t,!0),o=new y6(t,s.zn),u=o.Po(s.documents),h=Tp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=o.applyChanges(u,n.isPrimaryClient,h);KP(n,e,m.Co);const b=new G4(t,e,o);return n.Mo.set(t,b),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),m.snapshot})).apply(this,arguments)}function W4(n,t){return qP.apply(this,arguments)}function qP(){return(qP=(0,ve.Z)(function*(n,t){const e=Ye(n),i=e.Mo.get(t),s=e.Fo.get(i.targetId);if(s.length>1)return e.Fo.set(i.targetId,s.filter(o=>!mp(o,t))),void e.Mo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ev(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),x1(e.remoteStore,i.targetId),av(e,i.targetId)}).catch(sg))):(av(e,i.targetId),yield ev(e.localStore,i.targetId,!0))})).apply(this,arguments)}function YP(){return(YP=(0,ve.Z)(function*(n,t,e){const i=uF(n);try{const s=yield function(o,u){const h=Ye(o),m=Br.now(),b=u.reduce((E,x)=>E.add(x.key),An());let C;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>h.Wn.vn(E,b).next(x=>{C=x;const k=[];for(const P of u){const Y=PN(P,C.get(P.key));null!=Y&&k.push(new Ec(P.key,Y,mx(Y.value.mapValue),gi.exists(!0)))}return h.An.addMutationBatch(E,m,k,u)})).then(E=>(E.applyToLocalDocumentSet(C),{batchId:E.batchId,changes:C}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,u,h){let m=o.Ko[o.currentUser.toKey()];m||(m=new sr(ln)),m=m.insert(u,h),o.Ko[o.currentUser.toKey()]=m}(i,s.batchId,e),yield ad(i,s.changes),yield nv(i.remoteStore)}catch(s){const o=rv(s,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function v6(n,t){return GP.apply(this,arguments)}function GP(){return(GP=(0,ve.Z)(function*(n,t){const e=Ye(n);try{const i=yield c4(e.localStore,t);t.targetChanges.forEach((s,o)=>{const u=e.Uo.get(o);u&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.$o=!0:s.modifiedDocuments.size>0?Tt(u.$o):s.removedDocuments.size>0&&(Tt(u.$o),u.$o=!1))}),yield ad(e,i,t)}catch(i){yield sg(i)}})).apply(this,arguments)}function C6(n,t,e){const i=Ye(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const s=[];i.Mo.forEach((o,u)=>{const h=u.view.ro(t);h.snapshot&&s.push(h.snapshot)}),function(o,u){const h=Ye(o);h.onlineState=u;let m=!1;h.queries.forEach((b,C)=>{for(const E of C.listeners)E.ro(u)&&(m=!0)}),m&&BP(h)}(i.eventManager,t),s.length&&i.Oo.br(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Q4(n,t,e){return jP.apply(this,arguments)}function jP(){return(jP=(0,ve.Z)(function*(n,t,e){const i=Ye(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Uo.get(t),o=s&&s.key;if(o){let u=new sr(at.comparator);u=u.insert(o,ai.newNoDocument(o,Lt.min()));const h=An().add(o),m=new Dp(Lt.min(),new Map,new ki(ln),u,h);yield v6(i,m),i.Bo=i.Bo.remove(o),i.Uo.delete(t),XP(i)}else yield ev(i.localStore,t,!1).then(()=>av(i,t,e)).catch(sg)})).apply(this,arguments)}function K4(n,t){return zP.apply(this,arguments)}function zP(){return(zP=(0,ve.Z)(function*(n,t){const e=Ye(n),i=t.batch.batchId;try{const s=yield l4(e.localStore,t);QP(e,i,null),JP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ad(e,s)}catch(s){yield sg(s)}})).apply(this,arguments)}function X4(n,t,e){return $P.apply(this,arguments)}function $P(){return($P=(0,ve.Z)(function*(n,t,e){const i=Ye(n);try{const s=yield function(o,u){const h=Ye(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return h.An.lookupMutationBatch(m,u).next(C=>(Tt(null!==C),b=C.keys(),h.An.removeMutationBatch(m,C))).next(()=>h.An.performConsistencyCheck(m)).next(()=>h.Wn.vn(m,b))})}(i.localStore,t);QP(i,t,e),JP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ad(i,s)}catch(s){yield sg(s)}})).apply(this,arguments)}function WP(){return(WP=(0,ve.Z)(function*(n,t){const e=Ye(n);Ip(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Ye(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.An.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const s=e.jo.get(i)||[];s.push(t),e.jo.set(i,s)}catch(i){const s=rv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}})).apply(this,arguments)}function JP(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function QP(n,t,e){const i=Ye(n);let s=i.Ko[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Ko[i.currentUser.toKey()]=s}}function av(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Mo.delete(i),e&&n.Oo.zo(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||w6(n,i)})}function w6(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(x1(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),XP(n))}function KP(n,t,e){for(const i of e)i instanceof _6?(n.qo.addReference(i.key,t),tj(n,i)):i instanceof b6?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||w6(n,i.key)):dt()}function tj(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(i),XP(n))}function XP(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new at(yn.fromString(t)),i=n.Qo.next();n.Uo.set(i,new j4(e)),n.Bo=n.Bo.insert(e,i),zx(n.remoteStore,new Sp(Ai(pp(e.path)),i,2,Ws.I))}}function ad(n,t,e){return eF.apply(this,arguments)}function eF(){return(eF=(0,ve.Z)(function*(n,t,e){const i=Ye(n),s=[],o=[],u=[];var h;i.Mo.isEmpty()||(i.Mo.forEach((h,m)=>{u.push(i.Go(m,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),s.push(b);const C=iP.$n(m.targetId,b);o.push(C)}}))}),yield Promise.all(u),i.Oo.br(s),yield(h=(0,ve.Z)(function*(m,b){const C=Ye(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Re.forEach(b,x=>Re.forEach(x.kn,k=>C.persistence.referenceDelegate.addReference(E,x.targetId,k)).next(()=>Re.forEach(x.xn,k=>C.persistence.referenceDelegate.removeReference(E,x.targetId,k)))))}catch(E){if(!ng(E))throw E;Le("LocalStore","Failed to update sequence numbers: "+E)}for(const E of b){const x=E.targetId;if(!E.fromCache){const k=C.qn.get(x),Y=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);C.qn=C.qn.insert(x,Y)}}}),function(m,b){return h.apply(this,arguments)})(i.localStore,o))})).apply(this,arguments)}function nj(n,t){return tF.apply(this,arguments)}function tF(){return(tF=(0,ve.Z)(function*(n,t){const e=Ye(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield Q3(e.localStore,t);e.currentUser=t,(s=e).jo.forEach(u=>{u.forEach(h=>{h.reject(new ke(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ad(e,i.Gn)}var s})).apply(this,arguments)}function ij(n,t){const e=Ye(n),i=e.Uo.get(t);if(i&&i.$o)return An().add(i.key);{let s=An();const o=e.Fo.get(t);if(!o)return s;for(const u of o){const h=e.Mo.get(u);s=s.unionWith(h.view.bo)}return s}}function rj(n,t){return nF.apply(this,arguments)}function nF(){return(nF=(0,ve.Z)(function*(n,t){const e=Ye(n),i=yield qx(e.localStore,t.query,!0),s=t.view.ko(i);return e.isPrimaryClient&&KP(e,t.targetId,s.Co),s})).apply(this,arguments)}function sj(n){return iF.apply(this,arguments)}function iF(){return(iF=(0,ve.Z)(function*(n){const t=Ye(n);return t6(t.localStore).then(e=>ad(t,e))})).apply(this,arguments)}function oj(n,t,e,i){return rF.apply(this,arguments)}function rF(){return(rF=(0,ve.Z)(function*(n,t,e,i){const s=Ye(n),o=yield function(u,h){const m=Ye(u),b=Ye(m.An);return m.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.Zt(C,h).next(E=>E?m.Wn.vn(C,E):Re.resolve(null)))}(s.localStore,t);var h;null!==o?("pending"===e?yield nv(s.remoteStore):"acknowledged"===e||"rejected"===e?(QP(s,t,i||null),JP(s,t),h=t,Ye(Ye(s.localStore).An).ee(h)):dt(),yield ad(s,o)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function sF(){return(sF=(0,ve.Z)(function*(n,t){const e=Ye(n);if(cF(e),uF(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),s=yield D6(e,i.toArray());e.Wo=!0,yield IP(e.remoteStore,!0);for(const o of s)zx(e.remoteStore,o)}else if(!1===t&&!1!==e.Wo){const i=[];let s=Promise.resolve();e.Fo.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then(()=>(av(e,u),ev(e.localStore,u,!0))),x1(e.remoteStore,u)}),yield s,yield D6(e,i),function(o){const u=Ye(o);u.Uo.forEach((h,m)=>{x1(u.remoteStore,m)}),u.qo.hs(),u.Uo=new Map,u.Bo=new sr(at.comparator)}(e),e.Wo=!1,yield IP(e.remoteStore,!1)}})).apply(this,arguments)}function D6(n,t,e){return oF.apply(this,arguments)}function oF(){return(oF=(0,ve.Z)(function*(n,t,e){const i=Ye(n),s=[],o=[];for(const u of t){let h;const m=i.Fo.get(u);if(m&&0!==m.length){h=yield Xy(i.localStore,Ai(m[0]));for(const b of m){const C=i.Mo.get(b),E=yield rj(i,C);E.snapshot&&o.push(E.snapshot)}}else{const b=yield e6(i.localStore,u);h=yield Xy(i.localStore,b),yield HP(i,T6(b),u,!1)}s.push(h)}return i.Oo.br(o),s})).apply(this,arguments)}function T6(n){return Ry(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function lj(n){const t=Ye(n);return Ye(Ye(t.localStore).persistence).Tn()}function cj(n,t,e,i){return aF.apply(this,arguments)}function aF(){return(aF=(0,ve.Z)(function*(n,t,e,i){const s=Ye(n);if(s.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(s.Fo.has(t))switch(e){case"current":case"not-current":{const o=yield t6(s.localStore),u=Dp.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield ad(s,o,u);break}case"rejected":yield ev(s.localStore,t,!0),av(s,t,i);break;default:dt()}})).apply(this,arguments)}function uj(n,t,e){return lF.apply(this,arguments)}function lF(){return(lF=(0,ve.Z)(function*(n,t,e){const i=cF(n);if(i.Wo){for(const s of t){if(i.Fo.has(s)){Le("SyncEngine","Adding an already active target "+s);continue}const o=yield e6(i.localStore,s),u=yield Xy(i.localStore,o);yield HP(i,T6(o),u.targetId,!1),zx(i.remoteStore,u)}for(const s of e)i.Fo.has(s)&&(yield ev(i.localStore,s,!1).then(()=>{x1(i.remoteStore,s),av(i,s)}).catch(sg))}})).apply(this,arguments)}function cF(n){const t=Ye(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=v6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ij.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q4.bind(null,t),t.Oo.br=H4.bind(null,t.eventManager),t.Oo.zo=Z4.bind(null,t.eventManager),t}function uF(n){const t=Ye(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=X4.bind(null,t),t}class M6{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.k=E1(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return J3(this.persistence,new W3,t.initialUser,this.k)}Yo(t){return new y4(uP.ks,this.k)}Jo(t){return new r6}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class E6 extends M6{constructor(t,e,i){super(),this.tc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield function(n){return oP.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,t),yield uF(i.tc.syncEngine),yield nv(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return J3(this.persistence,new W3,t.initialUser,this.k)}Xo(t){return new e4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=nP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new tP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,o6(),jx(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new r6}}class hj extends E6{constructor(t,e){super(t,e,!1),this.tc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const s=i.tc.syncEngine;i.sharedClientState instanceof fP&&(i.sharedClientState.syncEngine={mi:oj.bind(null,s),gi:cj.bind(null,s),yi:uj.bind(null,s),Tn:lj.bind(null,s),_i:sj.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var o=(0,ve.Z)(function*(u){yield function(n,t){return sF.apply(this,arguments)}(i.tc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}Jo(t){const e=o6();if(!fP.Pt(e))throw new ke(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=nP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new fP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class dF{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>C6(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=nj.bind(null,i.syncEngine),yield IP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new U4}createDatastore(t){const e=E1(t.databaseInfo.databaseId),i=new T4(t.databaseInfo);return new S4(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,o=h=>C6(this.syncEngine,h,0),u=s6.Pt()?new s6:new C4,new A4(e,i,s,o,u);var e,i,s,o,u}createSyncEngine(t,e){return function(i,s,o,u,h,m,b){const C=new z4(i,s,o,u,h,m);return b&&(C.Wo=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=Ye(e);Le("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield tv(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function S6(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Wx{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class pj{constructor(t,e){this.sc=t,this.k=e,this.metadata=new Si,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.rc()})()}rc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.oc();if(null===e)return null;const i=t.ic.decode(e),s=Number(i);isNaN(s)&&t.cc(`length string (${i}) is not valid number`);const o=yield t.ac(s);return new q4(JSON.parse(o),e.length+s)})()}uc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oc(){var t=this;return(0,ve.Z)(function*(){for(;t.uc()<0&&!(yield t.hc()););if(0===t.buffer.length)return null;const e=t.uc();e<0&&t.cc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ac(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.hc())&&e.cc("Reached the end of bundle when more is expected.");const i=e.ic.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}cc(t){throw this.sc.cancel(),new Error(`Invalid bundle format: ${t}`)}hc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.sc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class fj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,ve.Z)(function*(o,u){const h=Ye(o),m=Yy(h.k)+"/documents",b={documents:u.map(k=>qy(h.k,k))},C=yield h.ji("BatchGetDocuments",m,b),E=new Map;C.forEach(k=>{const P=function(n,t){return"found"in t?function(e,i){Tt(!!i.found);const s=vl(e,i.found.name),o=Dr(i.found.updateTime),u=new es({mapValue:{fields:i.found.fields}});return ai.newFoundDocument(s,o,u)}(n,t):"missing"in t?function(e,i){Tt(!!i.missing),Tt(!!i.readTime);const s=vl(e,i.missing),o=Dr(i.readTime);return ai.newNoDocument(s,o)}(n,t):dt()}(h.k,k);E.set(P.key.toString(),P)});const x=[];return u.forEach(k=>{const P=E.get(k.toString());Tt(!!P),x.push(P)}),x}),function(o,u){return s.apply(this,arguments)})(e.datastore,t);var s;return i.forEach(s=>e.recordVersion(s)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new bl(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,s)=>{const o=at.fromPath(s);t.mutations.push(new Km(o,t.precondition(o)))}),yield(i=(0,ve.Z)(function*(s,o){const u=Ye(s),h=Yy(u.k)+"/documents",m={writes:o.map(b=>d(u.k,b))};yield u.Bi("Commit",h,m)}),function(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?gi.updateTime(e):gi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new ke(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(e)}return gi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class mj{constructor(t,e,i,s){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=s,this.lc=5,this.ur=new mP(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var t=this;this.ur.Zi((0,ve.Z)(function*(){const e=new fj(t.datastore),i=t.dc(e);i&&i.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(o=>{t.wc(o)}))}).catch(s=>{t.wc(s)})}))}dc(t){try{const e=this.updateFunction(t);return!pl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(t){this.lc>0&&this._c(t)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(t)}_c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Uy(e)}return!1}}class gj{constructor(t,e,i,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Lr.UNAUTHENTICATED,this.clientId=cx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=rv(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function x6(n,t){return hF.apply(this,arguments)}function hF(){return(hF=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var s=(0,ve.Z)(function*(o){i.isEqual(o)||(yield Q3(t.localStore,o),i=o)});return function(o){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function A6(n,t){return pF.apply(this,arguments)}function pF(){return(pF=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield fF(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(s=>p6(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>p6(t.remoteStore,o)),n.onlineComponents=t})).apply(this,arguments)}function fF(n){return mF.apply(this,arguments)}function mF(){return(mF=(0,ve.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield x6(n,new M6)),n.offlineComponents})).apply(this,arguments)}function Jx(n){return gF.apply(this,arguments)}function gF(){return(gF=(0,ve.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield A6(n,new dF)),n.onlineComponents})).apply(this,arguments)}function k6(n){return fF(n).then(t=>t.persistence)}function _F(n){return fF(n).then(t=>t.localStore)}function I6(n){return Jx(n).then(t=>t.remoteStore)}function bF(n){return Jx(n).then(t=>t.syncEngine)}function lv(n){return yF.apply(this,arguments)}function yF(){return(yF=(0,ve.Z)(function*(n){const t=yield Jx(n),e=t.eventManager;return e.onListen=$4.bind(null,t.syncEngine),e.onUnlisten=W4.bind(null,t.syncEngine),e})).apply(this,arguments)}function R6(n,t,e={}){const i=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(s,o,u,h,m){const b=new Wx({next:E=>{o.enqueueAndForget(()=>FP(s,C));const x=E.docs.has(u);!x&&E.fromCache?m.reject(new ke(me.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&h&&"server"===h.source?m.reject(new ke(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),C=new VP(pp(u.path),b,{includeMetadataChanges:!0,wo:!0});return NP(s,C)}(yield lv(n),n.asyncQueue,t,e,i)})),i.promise}function O6(n,t,e={}){const i=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(s,o,u,h,m){const b=new Wx({next:E=>{o.enqueueAndForget(()=>FP(s,C)),E.fromCache&&"server"===h.source?m.reject(new ke(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),C=new VP(u,b,{includeMetadataChanges:!0,wo:!0});return NP(s,C)}(yield lv(n),n.asyncQueue,t,e,i)})),i.promise}class Mj{constructor(t,e,i,s,o,u,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class cv{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof cv&&t.projectId===this.projectId&&t.database===this.database}}const N6=new Map;function vF(n,t,e){if(!e)throw new ke(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function P6(n,t,e,i){if(!0===t&&!0===i)throw new ke(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function F6(n){if(!at.isDocumentKey(n))throw new ke(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L6(n){if(at.isDocumentKey(n))throw new ke(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":dt()}function bn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qx(n);throw new ke(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function B6(n,t){if(t<=0)throw new ke(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class V6{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,P6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class A1{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V6({}),this._settingsFrozen=!1,t instanceof cv?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ke(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cv(s.options.projectId)}(t))}get app(){if(!this._app)throw new ke(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V6(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new ax;switch(e.type){case"gapi":const i=e.client;return Tt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new D3(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ke(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=N6.get(t);e&&(Le("ComponentProvider","Removing Datastore"),N6.delete(t),e.terminate())}(this),Promise.resolve()}}class _i{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _i(this.firestore,t,this._key)}}class Rs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Rs(this.firestore,t,this._query)}}class xc extends Rs{constructor(t,e,i){super(t,e,pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _i(this.firestore,null,new at(t))}withConverter(t){return new xc(this.firestore,t,this._path)}}function U6(n,t,...e){if(n=(0,Bt.m9)(n),vF("collection","path",t),n instanceof A1){const i=yn.fromString(t,...e);return L6(i),new xc(n,null,i)}{if(!(n instanceof _i||n instanceof xc))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return L6(i),new xc(n.firestore,null,i)}}function Kx(n,t,...e){if(n=(0,Bt.m9)(n),1===arguments.length&&(t=cx.A()),vF("doc","path",t),n instanceof A1){const i=yn.fromString(t,...e);return F6(i),new _i(n,null,new at(i))}{if(!(n instanceof _i||n instanceof xc))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return F6(i),new _i(n.firestore,n instanceof xc?n.converter:null,new at(i))}}function H6(n,t){return n=(0,Bt.m9)(n),t=(0,Bt.m9)(t),(n instanceof _i||n instanceof xc)&&(t instanceof _i||t instanceof xc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Z6(n,t){return n=(0,Bt.m9)(n),t=(0,Bt.m9)(t),n instanceof Rs&&t instanceof Rs&&n.firestore===t.firestore&&mp(n._query,t._query)&&n.converter===t.converter}class xj{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new mP(this,"async_queue_retry"),this.bc=()=>{const e=jx();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=jx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=jx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const e=new Si;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}Vc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.gc.length){try{yield t.gc[0](),t.gc.shift(),t.ur.reset()}catch(e){if(!ng(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.gc.length>0&&t.ur.Zi(()=>t.Vc())}})()}vc(t){const e=this.mc.then(()=>(this.Ic=!0,t().catch(i=>{throw this.Ec=i,this.Ic=!1,tr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=e,e}enqueueAfterDelay(t,e,i){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const s=OP.createAndSchedule(this,t,e,i,o=>this.Sc(o));return this.Tc.push(s),s}Pc(){this.Ec&&dt()}verifyOperationInProgress(){}Dc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.mc,yield e}while(e!==t.mc)})()}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}function CF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class Aj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ii extends A1{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new xj,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||q6(this),this._firestoreClient.terminate()}}function Er(n){return n._firestoreClient||q6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function q6(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Mj(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new gj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Y6(n,t,e){const i=new Si;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield x6(n,e),yield A6(n,t),i.resolve()}catch(s){if(!("FirebaseError"===(o=s).name?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var o})).then(()=>i.promise)}function G6(n){if(n._initialized||n._terminated)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ld{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ac{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ac(ir.fromBase64String(t))}catch(e){throw new ke(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ac(ir.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class og{constructor(t){this._methodName=t}}class Xx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ln(this._lat,t._lat)||ln(this._long,t._long)}}const Vj=/^__.*__$/;class Uj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ec(t,this.data,this.fieldMask,e,this.fieldTransforms):new yp(t,this.data,e,this.fieldTransforms)}}class j6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ec(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function z6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class eA{constructor(t,e,i,s,o,u){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=s,void 0===o&&this.xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new eA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.Oc({path:i,Fc:!1});return s.Lc(t),s}Bc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.Oc({path:i,Fc:!1});return s.xc(),s}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return iA(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(z6(this.$c)&&Vj.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class Hj{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||E1(t)}Qc(t,e,i,s=!1){return new eA({$c:t,methodName:e,jc:i,path:nr.emptyPath(),Fc:!1,Kc:s},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ag(n){const t=n._freezeSettings(),e=E1(n._databaseId);return new Hj(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tA(n,t,e,i,s,o={}){const u=n.Qc(o.merge||o.mergeFields?2:0,t,e,s);MF("Data must be an object, but it was:",u,i);const h=J6(i,u);let m,b;if(o.merge)m=new hp(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const C=[];for(const E of o.mergeFields){const x=EF(t,E,e);if(!u.contains(x))throw new ke(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);K6(C,x)||C.push(x)}m=new hp(C),b=u.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,b=u.fieldTransforms;return new Uj(new es(h),m,b)}class k1 extends og{_toFieldTransform(t){if(2!==t.$c)throw t.qc(1===t.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof k1}}function $6(n,t,e){return new eA({$c:3,jc:t.settings.jc,methodName:n._methodName,Fc:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class wF extends og{_toFieldTransform(t){return new gl(t.path,new _p)}isEqual(t){return t instanceof wF}}class Zj extends og{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=$6(this,t,!0),i=this.Wc.map(o=>lg(o,e)),s=new Tc(i);return new gl(t.path,s)}isEqual(t){return this===t}}class qj extends og{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=$6(this,t,!0),i=this.Wc.map(o=>lg(o,e)),s=new rd(i);return new gl(t.path,s)}isEqual(t){return this===t}}class Yj extends og{constructor(t,e){super(t),this.Gc=e}_toFieldTransform(t){const e=new Mc(t.k,Jm(t.k,this.Gc));return new gl(t.path,e)}isEqual(t){return this===t}}function DF(n,t,e,i){const s=n.Qc(1,t,e);MF("Data must be an object, but it was:",s,i);const o=[],u=es.empty();oi(i,(m,b)=>{const C=nA(t,m,e);b=(0,Bt.m9)(b);const E=s.Bc(C);if(b instanceof k1)o.push(C);else{const x=lg(b,E);null!=x&&(o.push(C),u.set(C,x))}});const h=new hp(o);return new j6(u,h,s.fieldTransforms)}function TF(n,t,e,i,s,o){const u=n.Qc(1,t,e),h=[EF(t,i,e)],m=[s];if(o.length%2!=0)throw new ke(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(EF(t,o[x])),m.push(o[x+1]);const b=[],C=es.empty();for(let x=h.length-1;x>=0;--x)if(!K6(b,h[x])){const k=h[x];let P=m[x];P=(0,Bt.m9)(P);const Y=u.Bc(k);if(P instanceof k1)b.push(k);else{const X=lg(P,Y);null!=X&&(b.push(k),C.set(k,X))}}const E=new hp(b);return new j6(C,E,u.fieldTransforms)}function W6(n,t,e,i=!1){return lg(e,n.Qc(i?4:3,t))}function lg(n,t){if(Q6(n=(0,Bt.m9)(n)))return MF("Unsupported field value:",t,n),J6(n,t);if(n instanceof og)return function(e,i){if(!z6(i.$c))throw i.qc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,i){const s=[];let o=0;for(const u of e){let h=lg(u,i.Uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(n,t)}return function(e,i){if(null===(e=(0,Bt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jm(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=Br.fromDate(e);return{timestampValue:Zy(i.k,s)}}if(e instanceof Br){const s=new Br(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zy(i.k,s)}}if(e instanceof Xx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ac)return{bytesValue:VN(i.k,e._byteString)};if(e instanceof _i){const s=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(s))throw i.qc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lx(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.qc(`Unsupported field value: ${Qx(e)}`)}(n,t)}function J6(n,t){const e={};return vN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oi(n,(i,s)=>{const o=lg(s,t.Mc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function Q6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Br||n instanceof Xx||n instanceof Ac||n instanceof _i||n instanceof og)}function MF(n,t,e){if(!Q6(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Qx(e);throw t.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function EF(n,t,e){if((t=(0,Bt.m9)(t))instanceof ld)return t._internalPath;if("string"==typeof t)return nA(n,t);throw iA("Field path arguments must be of type string or ",n,!1,void 0,e)}const Gj=new RegExp("[~\\*/\\[\\]]");function nA(n,t,e){if(t.search(Gj)>=0)throw iA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ld(...t.split("."))._internalPath}catch(i){throw iA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function iA(n,t,e,i,s){const o=i&&!i.isEmpty(),u=void 0!==s;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${s}`),m+=")"),new ke(me.INVALID_ARGUMENT,h+n+m)}function K6(n,t){return n.some(e=>e.isEqual(t))}class I1{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new jj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class jj extends I1{data(){return super.data()}}function rA(n,t){return"string"==typeof t?nA(n,t):t instanceof ld?t._internalPath:t._delegate._internalPath}class cg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cd extends I1{constructor(t,e,i,s,o,u){super(t,e,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new R1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(rA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class R1 extends cd{data(t={}){return super.data(t)}}class Op{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new cg(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new R1(this._firestore,this._userDataWriter,i.key,i,new cg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new R1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||3!==u.type).map(u=>{const h=new R1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,b=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:zj(u.type),doc:h,oldIndex:m,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function X6(n,t){return n instanceof cd&&t instanceof cd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Op&&t instanceof Op&&n._firestore===t._firestore&&Z6(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function eV(n){if(Ny(n)&&0===n.explicitOrderBy.length)throw new ke(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O1{}function Np(n,...t){for(const e of t)n=e._apply(n);return n}class $j extends O1{constructor(t,e,i){super(),this.zc=t,this.Hc=e,this.Jc=i,this.type="where"}_apply(t){const e=ag(t.firestore),i=function(s,o,u,h,m,b,C){let E;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){oV(C,b);const k=[];for(const P of C)k.push(sV(h,s,P));E={arrayValue:{values:k}}}else E=sV(h,s,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||oV(C,b),E=W6(u,"where",C,"in"===b||"not-in"===b);const x=_s.create(m,b,E);return function(k,P){if(P.V()){const X=p1(k);if(null!==X&&!X.isEqual(P.field))throw new ke(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${X.toString()}' and '${P.field.toString()}'`);const xe=_x(k);null!==xe&&aV(0,P.field,xe)}const Y=function(X,xe){for(const Ne of X.filters)if(xe.indexOf(Ne.op)>=0)return Ne.op;return null}(k,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(null!==Y)throw new ke(me.INVALID_ARGUMENT,Y===P.op?`Invalid query. You cannot use more than one '${P.op.toString()}' filter.`:`Invalid query. You cannot use '${P.op.toString()}' filters with '${Y.toString()}' filters.`)}(s,x),x}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Rs(t.firestore,t.converter,function(s,o){const u=s.filters.concat([o]);return new Dc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),u,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,i))}}class Jj extends O1{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(i,s,o){if(null!==i.startAt)throw new ke(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Wm(s,o);return function(h,m){if(null===_x(h)){const b=p1(h);null!==b&&aV(0,b,m.field)}}(i,u),u}(t._query,this.zc,this.Yc);return new Rs(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Dc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class tV extends O1{constructor(t,e,i){super(),this.type=t,this.Xc=e,this.Zc=i}_apply(t){return new Rs(t.firestore,t.converter,NN(t._query,this.Xc,this.Zc))}}class nV extends O1{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=rV(t,this.type,this.ta,this.ea);return new Rs(t.firestore,t.converter,(s=e,new Dc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class iV extends O1{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=rV(t,this.type,this.ta,this.ea);return new Rs(t.firestore,t.converter,(s=e,new Dc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function rV(n,t,e,i){if(e[0]=(0,Bt.m9)(e[0]),e[0]instanceof I1)return function(s,o,u,h,m){if(!h)throw new ke(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const C of fp(s))if(C.field.isKeyField())b.push(u1(o,h.key));else{const E=h.data.field(C.field);if(c1(E))throw new ke(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const x=C.field.canonicalString();throw new ke(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}b.push(E)}return new ml(b,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const s=ag(n.firestore);return function(o,u,h,m,b,C){const E=o.explicitOrderBy;if(b.length>E.length)throw new ke(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let k=0;k<b.length;k++){const P=b[k];if(E[k].field.isKeyField()){if("string"!=typeof P)throw new ke(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!f1(o)&&-1!==P.indexOf("/"))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const Y=o.path.child(yn.fromString(P));if(!at.isDocumentKey(Y))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const X=new at(Y);x.push(u1(u,X))}else{const Y=W6(h,m,P);x.push(Y)}}return new ml(x,C)}(n._query,n.firestore._databaseId,s,t,e,i)}}function sV(n,t,e){if("string"==typeof(e=(0,Bt.m9)(e))){if(""===e)throw new ke(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(t)&&-1!==e.indexOf("/"))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(yn.fromString(e));if(!at.isDocumentKey(i))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return u1(n,new at(i))}if(e instanceof _i)return u1(n,e._key);throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qx(e)}.`)}function oV(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function aV(n,t,e){if(!e.isEqual(t))throw new ke(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class SF{convertValue(t,e="none"){switch(nd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw dt()}}convertObject(t,e){const i={};return oi(t.fields,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Xx(xi(t.latitude),xi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ym(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Gm(t));default:return null}}convertTimestamp(t){const e=hl(t);return new Br(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=yn.fromString(t);Tt(Dt(i));const s=new cv(i.get(1),i.get(3)),o=new at(i.popFirst(5));return s.isEqual(e)||tr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function sA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class r5 extends SF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ac(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _i(this.firestore,null,e)}}class lV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ag(t)}set(t,e,i){this._verifyNotCommitted();const s=Pp(t,this._firestore),o=sA(s.converter,e,i),u=tA(this._dataReader,"WriteBatch.set",s._key,o,null!==s.converter,i);return this._mutations.push(u.toMutation(s._key,gi.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const o=Pp(t,this._firestore);let u;return u="string"==typeof(e=(0,Bt.m9)(e))||e instanceof ld?TF(this._dataReader,"WriteBatch.update",o._key,e,i,s):DF(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,gi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Pp(t,this._firestore);return this._mutations=this._mutations.concat(new bl(e._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pp(n,t){if((n=(0,Bt.m9)(n)).firestore!==t)throw new ke(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ug extends SF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ac(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _i(this.firestore,null,e)}}function cV(n,t,e){n=bn(n,_i);const i=bn(n.firestore,Ii),s=sA(n.converter,t,e);return uv(i,[tA(ag(i),"setDoc",n._key,s,null!==n.converter,e).toMutation(n._key,gi.none())])}function uV(n,t,e,...i){n=bn(n,_i);const s=bn(n.firestore,Ii),o=ag(s);let u;return u="string"==typeof(t=(0,Bt.m9)(t))||t instanceof ld?TF(o,"updateDoc",n._key,t,e,i):DF(o,"updateDoc",n._key,t),uv(s,[u.toMutation(n._key,gi.exists(!0))])}function dV(n,...t){var e,i,s;n=(0,Bt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||CF(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(CF(t[u])){const E=t[u];t[u]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[u+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[u+2]=null===(s=E.complete)||void 0===s?void 0:s.bind(E)}let m,b,C;if(n instanceof _i)b=bn(n.firestore,Ii),C=pp(n._key.path),m={next:E=>{t[u]&&t[u](xF(b,n,E))},error:t[u+1],complete:t[u+2]};else{const E=bn(n,Rs);b=bn(E.firestore,Ii),C=E._query;const x=new ug(b);m={next:k=>{t[u]&&t[u](new Op(b,x,E,k))},error:t[u+1],complete:t[u+2]},eV(n._query)}return function(E,x,k,P){const Y=new Wx(P),X=new VP(x,Y,k);return E.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return NP(yield lv(E),X)})),()=>{Y.nc(),E.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return FP(yield lv(E),X)}))}}(Er(b),C,h,m)}function uv(n,t){return function(e,i){const s=new Si;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,t,e){return YP.apply(this,arguments)}(yield bF(e),i,s)})),s.promise}(Er(n),t)}function xF(n,t,e){const i=e.docs.get(t._key),s=new ug(n);return new cd(n,s,t._key,i,new cg(e.hasPendingWrites,e.fromCache),t.converter)}class f5 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ag(t)}get(t){const e=Pp(t,this._firestore),i=new r5(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return dt();const o=s[0];if(o.isFoundDocument())return new I1(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new I1(this._firestore,i,e._key,null,e.converter);throw dt()})}set(t,e,i){const s=Pp(t,this._firestore),o=sA(s.converter,e,i),u=tA(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,u),this}update(t,e,i,...s){const o=Pp(t,this._firestore);let u;return u="string"==typeof(e=(0,Bt.m9)(e))||e instanceof ld?TF(this._dataReader,"Transaction.update",o._key,e,i,s):DF(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Pp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Pp(t,this._firestore),i=new ug(this._firestore);return super.get(t).then(s=>new cd(this._firestore,i,e._key,s._document,new cg(!1,!1),e.converter))}}function kF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function pV(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function fV(){if("undefined"==typeof atob)throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){cp=mc.SDK_VERSION,(0,mc._registerComponent)(new Wb.wA("firestore",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=new Ii(s,new mN(e.getProvider("auth-internal")),new lx(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,mc.registerVersion)(rx,"3.4.4",n),(0,mc.registerVersion)(rx,"3.4.4","esm2017")}();class N1{constructor(t){this._delegate=t}static fromBase64String(t){return fV(),new N1(Ac.fromBase64String(t))}static fromUint8Array(t){return pV(),new N1(Ac.fromUint8Array(t))}toBase64(){return fV(),this._delegate.toBase64()}toUint8Array(){return pV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IF(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class T5{enableIndexedDbPersistence(t,e){return function(n,t){G6(n=bn(n,Ii));const e=Er(n),i=n._freezeSettings(),s=new dF;return Y6(e,s,new E6(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){G6(n=bn(n,Ii));const t=Er(n),e=n._freezeSettings(),i=new dF;return Y6(t,i,new hj(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new ke(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Si;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!Cl.Pt())return Promise.resolve();const s=i+"main";yield Cl.delete(s)}),function(i){return e.apply(this,arguments)})(nP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class mV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof cv||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&up("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var s;const o=(n=bn(n,A1))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&up("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Lr.MOCK_USER;else{u=(0,Bt.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new ke(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Lr(m)}n._authCredentials=new fN(new My(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield k6(n),e=yield I6(n);return t.setNetworkEnabled(!0),function(i){const s=Ye(i);return s.Gr.delete(0),S1(s)}(e)}))}(Er(n=bn(n,Ii)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield k6(n),e=yield I6(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(s){const o=Ye(s);o.Gr.add(0),yield tv(o),o.Jr.set("Offline")}),function(s){return i.apply(this,arguments)})(e);var i}))}(Er(n=bn(n,Ii)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,P6("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Si;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,t){return WP.apply(this,arguments)}(yield bF(t),e)})),e.promise}(Er(n=bn(n,Ii)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Wx(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield lv(n),s=e,Ye(i).io.add(s),void s.next();var i,s})),()=>{e.nc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield lv(n),s=e,void Ye(i).io.delete(s);var i,s}))}}(Er(n=bn(n,Ii)),CF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new dv(this,U6(this._delegate,t))}catch(e){throw Xs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ia(this,Kx(this._delegate,t))}catch(e){throw Xs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new eo(this,function(n,t){if(n=bn(n,A1),vF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(n,null,(e=t,new Dc(yn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Xs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(s=n,Jx(s).then(o=>o.datastore));var s;new mj(n.asyncQueue,i,t,e).run()})),e.promise}(Er(n=bn(n,Ii)),e=>t(new f5(n,e)))}(this._delegate,e=>t(new gV(this,e)))}batch(){return Er(this._delegate),new _V(new lV(this._delegate,t=>uv(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Er(n=bn(n,Ii)),i=new Aj;return function(n,t,e,i){const s=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,m=function(m,b){if(m instanceof Uint8Array)return S6(m,b);if(m instanceof ArrayBuffer)return S6(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new pj(m,u);var m}(e,E1(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function(n,t,e){const i=Ye(n);var s;(s=(0,ve.Z)(function*(o,u,h){try{const m=yield u.getMetadata();if(yield function(x,k){const P=Ye(x),Y=Dr(k.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",X=>P.Ye.getBundleMetadata(X,k.id)).then(X=>!!X&&X.createTime.compareTo(Y)>=0)}(o.localStore,m))return yield u.close(),void h._completeWith((x=m,{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}));h._updateProgress(g6(m));const b=new Y4(m,o.localStore,u.k);let C=yield u.Ho();for(;C;){const x=yield b.yo(C);x&&h._updateProgress(x),C=yield u.Ho()}const E=yield b.complete();yield ad(o,E.In,void 0),yield function(x,k){const P=Ye(x);return P.persistence.runTransaction("Save bundle","readwrite",Y=>P.Ye.saveBundleMetadata(Y,k))}(o.localStore,m),h._completeWith(E.progress)}catch(m){up("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m)}var x}),function(o,u,h){return s.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield bF(n),s,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const s=Ye(e);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ye.getNamedQuery(o,i))}(yield _F(n),t)}))}(Er(n=bn(n,Ii)),t).then(e=>e?new Rs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new eo(this,e):null)}}class oA extends SF{constructor(t){super(),this.firestore=t}convertBytes(t){return new N1(new Ac(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ia.forKey(e,this.firestore,null)}}class gV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new oA(t)}get(t){const e=hg(t);return this._delegate.get(e).then(i=>new P1(this._firestore,new cd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const s=hg(t);return i?(kF("Transaction.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=hg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=hg(t);return this._delegate.delete(e),this}}class _V{constructor(t){this._delegate=t}set(t,e,i){const s=hg(t);return i?(kF("WriteBatch.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=hg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=hg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class dg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new R1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new F1(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=dg.INSTANCES;let s=i.get(t);s||(s=new WeakMap,i.set(t,s));let o=s.get(e);return o||(o=new dg(t,new oA(t),e),s.set(e,o)),o}}dg.INSTANCES=new WeakMap;class Ia{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ia(e,new _i(e._delegate,i,new at(t)))}static forKey(t,e,i){return new Ia(e,new _i(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new dv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new dv(this.firestore,U6(this._delegate,t))}catch(e){throw Xs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Bt.m9)(t))instanceof _i&&H6(this._delegate,t)}set(t,e){e=kF("DocumentReference.set",e);try{return e?cV(this._delegate,t,e):cV(this._delegate,t)}catch(i){throw Xs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?uV(this._delegate,t):uV(this._delegate,t,e,...i)}catch(s){throw Xs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return uv(bn(n.firestore,Ii),[new bl(n._key,gi.none())])}(this._delegate)}onSnapshot(...t){const e=bV(t),i=yV(t,s=>new P1(this.firestore,new cd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return dV(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=bn(n,_i);const t=bn(n.firestore,Ii),e=Er(t),i=new ug(t);return function(n,t){const e=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(s,o,u){try{const h=yield function(m,b){const C=Ye(m);return C.persistence.runTransaction("read document","readonly",E=>C.Wn.Rn(E,b))}(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=rv(h,`Failed to get document '${o} from cache`);u.reject(m)}}),function(s,o,u){return i.apply(this,arguments)})(yield _F(n),t,e);var i})),e.promise}(e,n._key).then(s=>new cd(t,i,n._key,s,new cg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=bn(n,_i);const t=bn(n.firestore,Ii);return R6(Er(t),n._key,{source:"server"}).then(e=>xF(t,n,e))}(this._delegate):function(n){n=bn(n,_i);const t=bn(n.firestore,Ii);return R6(Er(t),n._key).then(e=>xF(t,n,e))}(this._delegate),e.then(i=>new P1(this.firestore,new cd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ia(this.firestore,this._delegate.withConverter(t?dg.getInstance(this.firestore,t):null))}}function Xs(n,t,e){return n.message=n.message.replace(t,e),n}function bV(n){for(const t of n)if("object"==typeof t&&!IF(t))return t;return{}}function yV(n,t){var e,i;let s;return s=IF(n[0])?n[0]:IF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{s.next&&s.next(t(o))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class P1{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return X6(this._delegate,t._delegate)}}class F1 extends P1{data(t){const e=this._delegate.data(t);return function(n,t){n||dt()}(void 0!==e),e}}class eo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oA(t)}where(t,e,i){try{return new eo(this.firestore,Np(this._delegate,function(n,t,e){const i=t,s=rA("where",n);return new $j(s,i,e)}(t,e,i)))}catch(s){throw Xs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new eo(this.firestore,Np(this._delegate,function(n,t="asc"){const e=t,i=rA("orderBy",n);return new Jj(i,e)}(t,e)))}catch(i){throw Xs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new eo(this.firestore,Np(this._delegate,function(n){return B6("limit",n),new tV("limit",n,"F")}(t)))}catch(e){throw Xs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new eo(this.firestore,Np(this._delegate,function(n){return B6("limitToLast",n),new tV("limitToLast",n,"L")}(t)))}catch(e){throw Xs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new eo(this.firestore,Np(this._delegate,function(...n){return new nV("startAt",n,!0)}(...t)))}catch(e){throw Xs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new eo(this.firestore,Np(this._delegate,function(...n){return new nV("startAfter",n,!1)}(...t)))}catch(e){throw Xs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new eo(this.firestore,Np(this._delegate,function(...n){return new iV("endBefore",n,!0)}(...t)))}catch(e){throw Xs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new eo(this.firestore,Np(this._delegate,function(...n){return new iV("endAt",n,!1)}(...t)))}catch(e){throw Xs(e,"endAt()","Query.endAt()")}}isEqual(t){return Z6(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=bn(n,Rs);const t=bn(n.firestore,Ii),e=Er(t),i=new ug(t);return function(n,t){const e=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(s,o,u){try{const h=yield qx(s,o,!0),m=new y6(o,h.zn),b=m.Po(h.documents),C=m.applyChanges(b,!1);u.resolve(C.snapshot)}catch(h){const m=rv(h,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(s,o,u){return i.apply(this,arguments)})(yield _F(n),t,e);var i})),e.promise}(e,n._query).then(s=>new Op(t,i,n,s))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=bn(n,Rs);const t=bn(n.firestore,Ii),e=Er(t),i=new ug(t);return O6(e,n._query,{source:"server"}).then(s=>new Op(t,i,n,s))}(this._delegate):function(n){n=bn(n,Rs);const t=bn(n.firestore,Ii),e=Er(t),i=new ug(t);return eV(n._query),O6(e,n._query).then(s=>new Op(t,i,n,s))}(this._delegate),e.then(i=>new RF(this.firestore,new Op(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=bV(t),i=yV(t,s=>new RF(this.firestore,new Op(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return dV(this._delegate,e,i)}withConverter(t){return new eo(this.firestore,this._delegate.withConverter(t?dg.getInstance(this.firestore,t):null))}}class E5{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new F1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new F1(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new E5(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new F1(this._firestore,i))})}isEqual(t){return X6(this._delegate,t._delegate)}}class dv extends eo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ia(this.firestore,t):null}doc(t){try{return new Ia(this.firestore,void 0===t?Kx(this._delegate):Kx(this._delegate,t))}catch(e){throw Xs(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=bn(n.firestore,Ii),i=Kx(n),s=sA(n.converter,t);return uv(e,[tA(ag(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,gi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ia(this.firestore,e))}isEqual(t){return H6(this._delegate,t._delegate)}withConverter(t){return new dv(this.firestore,this._delegate.withConverter(t?dg.getInstance(this.firestore,t):null))}}function hg(n){return bn(n,_i)}class OF{constructor(...t){this._delegate=new ld(...t)}static documentId(){return new OF(nr.keyField().canonicalString())}isEqual(t){return(t=(0,Bt.m9)(t))instanceof ld&&this._delegate._internalPath.isEqual(t._internalPath)}}class pg{constructor(t){this._delegate=t}static serverTimestamp(){const t=new wF("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new pg(t)}static delete(){const t=new k1("deleteField");return t._methodName="FieldValue.delete",new pg(t)}static arrayUnion(...t){const e=function(...n){return new Zj("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new pg(e)}static arrayRemove(...t){const e=function(...n){return new qj("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new pg(e)}static increment(t){const e=function(n){return new Yj("increment",n)}(t);return e._methodName="FieldValue.increment",new pg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const S5={Firestore:mV,GeoPoint:Xx,Timestamp:Br,Blob:N1,Transaction:gV,WriteBatch:_V,DocumentReference:Ia,DocumentSnapshot:P1,Query:eo,QueryDocumentSnapshot:F1,QuerySnapshot:RF,CollectionReference:dv,FieldPath:OF,FieldValue:pg,setLogLevel:function(n){!function(n){Xu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function vV(n,t){return t?fn(()=>n,t):fn(()=>n)}!function(n){(function(n,t){n.INTERNAL.registerComponent(new Wb.wA("firestore-compat",e=>((t,e)=>new mV(t,e,new T5))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},S5)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.13")}(nS.Z);var NF=N(9673),CV=N(7841);const wV=new r.OlP("angularfire2.auth.use-emulator"),DV=new r.OlP("angularfire2.auth.settings"),TV=new r.OlP("angularfire2.auth.tenant-id"),MV=new r.OlP("angularfire2.auth.langugage-code"),EV=new r.OlP("angularfire2.auth.use-device-language"),SV=new r.OlP("angularfire.auth.persistence"),xV=(n,t,e,i,s,o,u,h)=>(0,fi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=s,o&&m.useDeviceLanguage(),u)for(const[b,C]of Object.entries(u))m.settings[b]=C;return h&&m.setPersistence(h),m},[e,i,s,o,u,h]);let PF=(()=>{class n{constructor(e,i,s,o,u,h,m,b,C,E,x){const k=new le.xQ,P=(0,Ue.of)(void 0).pipe((0,Bf.QV)(u.outsideAngular),fn(()=>o.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4828)))),(0,g.U)(()=>(0,To.on)(e,o,i)),(0,g.U)(Y=>xV(Y,o,h,b,C,E,m,x)),Ss({bufferSize:1,refCount:!1}));if(cs(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{P.pipe(lc()).subscribe();const X=P.pipe(fn(Fe=>Fe.getRedirectResult().then(je=>je,()=>null)),fi.iC,Ss({bufferSize:1,refCount:!1})),xe=P.pipe(fn(Fe=>new En.y(je=>({unsubscribe:o.runOutsideAngular(()=>Fe.onAuthStateChanged(_n=>je.next(_n),_n=>je.error(_n),()=>je.complete()))})))),Ne=P.pipe(fn(Fe=>new En.y(je=>({unsubscribe:o.runOutsideAngular(()=>Fe.onIdTokenChanged(_n=>je.next(_n),_n=>je.error(_n),()=>je.complete()))}))));this.authState=X.pipe(vV(xe),(0,NF.R)(u.outsideAngular),(0,Bf.QV)(u.insideAngular)),this.user=X.pipe(vV(Ne),(0,NF.R)(u.outsideAngular),(0,Bf.QV)(u.insideAngular)),this.idToken=this.user.pipe(fn(Fe=>Fe?(0,In.D)(Fe.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe(fn(Fe=>Fe?(0,In.D)(Fe.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,Sn.T)(X,k,this.authState.pipe(gt(Fe=>!Fe))).pipe((0,g.U)(Fe=>(null==Fe?void 0:Fe.user)?Fe:null),(0,NF.R)(u.outsideAngular),(0,Bf.QV)(u.insideAngular))}return(0,To.pX)(this,P,o,{spy:{apply:(Y,X,xe)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&xe.then(Ne=>k.next(Ne))}}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(To.Dh),r.LFG(To.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(fi.HU),r.LFG(wV,8),r.LFG(DV,8),r.LFG(TV,8),r.LFG(MV,8),r.LFG(EV,8),r.LFG(SV,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function AV(n,t){return function(n,t=fs.z){return new En.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function FF(n,t){return AV(n,t).pipe((0,g.U)(e=>({payload:e,type:"query"})))}function aA(n,t){return FF(n,t).pipe(jt(void 0),Lf(),(0,g.U)(([e,i])=>{const s=i.payload.docChanges(),o=s.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=s.find(C=>C.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function kV(n,t,e){return aA(n,e).pipe(bb((i,s)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return LF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return LF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return LF(n,t.oldIndex,1)}return n}(n,i))}),n}(i,s.map(o=>o.payload),t),[]),on(),(0,g.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function LF(n,t,e,...i){const s=n.slice();return s.splice(t,e,...i),s}function IV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class RV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=aA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,g.U)(i=>i.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(jt(void 0),Lf(),gt(([i,s])=>s.length>0||!i),(0,g.U)(([i,s])=>s),fi.iC)}auditTrail(t){return this.stateChanges(t).pipe(bb((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=IV(t);return kV(this.query,e,this.afs.schedulers.outsideAngular).pipe(fi.iC)}valueChanges(t={}){return FF(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),fi.iC)}get(t){return(0,In.D)(this.query.get(t)).pipe(fi.iC)}add(t){return this.ref.add(t)}doc(t){return new OV(this.ref.doc(t),this.afs)}}class OV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:s,query:o}=FV(i,e);return new RV(s,o,this.afs)}snapshotChanges(){return function(n,t){return AV(n,t).pipe(jt(void 0),Lf(),(0,g.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,g.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,In.D)(this.ref.get(t)).pipe(fi.iC)}}class P5{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aA(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),gt(e=>e.length>0),fi.iC):aA(this.query,this.afs.schedulers.outsideAngular).pipe(fi.iC)}auditTrail(t){return this.stateChanges(t).pipe(bb((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=IV(t);return kV(this.query,e,this.afs.schedulers.outsideAngular).pipe(fi.iC)}valueChanges(t={}){return FF(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(i=>i.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),fi.iC)}get(t){return(0,In.D)(this.query.get(t)).pipe(fi.iC)}}const NV=new r.OlP("angularfire2.enableFirestorePersistence"),PV=new r.OlP("angularfire2.firestore.persistenceSettings"),F5=new r.OlP("angularfire2.firestore.settings"),L5=new r.OlP("angularfire2.firestore.use-emulator");function FV(n,t=(e=>e)){return{query:t(n),ref:n}}let Ra=(()=>{class n{constructor(e,i,s,o,u,h,m,b,C,E,x,k,P,Y,X,xe){this.schedulers=m;const Ne=(0,To.on)(e,h,i),Fe=C;E&&xV(Ne,h,x,P,Y,X,k,xe),[this.firestore,this.persistenceEnabled$]=(0,fi.cc)(`${Ne.name}.firestore`,"AngularFirestore",Ne.name,()=>{const je=h.runOutsideAngular(()=>Ne.firestore());if(o&&je.settings(o),Fe&&je.useEmulator(...Fe),s&&!cs(u)){const _n=()=>{try{return(0,In.D)(je.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Ni){return"undefined"!=typeof console&&console.warn(Ni),(0,Ue.of)(!1)}};return[je,h.runOutsideAngular(_n)]}return[je,(0,Ue.of)(!1)]},[o,Fe,s])}collection(e,i){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=FV(s,i),h=this.schedulers.ngZone.run(()=>o);return new RV(h,u,this)}collectionGroup(e,i){const s=i||(u=>u),o=this.firestore.collectionGroup(e);return new P5(s(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>i);return new OV(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(To.Dh),r.LFG(To.xv,8),r.LFG(NV,8),r.LFG(F5,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(fi.HU),r.LFG(PV,8),r.LFG(L5,8),r.LFG(PF,8),r.LFG(wV,8),r.LFG(DV,8),r.LFG(TV,8),r.LFG(MV,8),r.LFG(EV,8),r.LFG(SV,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),B5=(()=>{class n{constructor(){CV.Z.registerVersion("angularfire",fi.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:NV,useValue:!0},{provide:PV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Ra]}),n})();const LV=new r.GfV("12.2.5");class BV{}const ud="*";function Ri(n,t){return{type:7,name:n,definitions:t,options:{}}}function un(n,t=null){return{type:4,styles:t,timings:n}}function VV(n,t=null){return{type:2,steps:n,options:t}}function ze(n){return{type:6,styles:n,offset:null}}function Vt(n,t,e){return{type:0,name:n,styles:t,options:e}}function tn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ZV(n){Promise.resolve(null).then(n)}class hv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ZV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const o=this.players.length;0==o?ZV(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function YV(){return"undefined"!=typeof window&&void 0!==window.document}function VF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Fp(n){switch(n.length){case 0:return new hv;case 1:return n[0];default:return new qV(n)}}function GV(n,t,e,i,s={},o={}){const u=[],h=[];let m=-1,b=null;if(i.forEach(C=>{const E=C.offset,x=E==m,k=x&&b||{};Object.keys(C).forEach(P=>{let Y=P,X=C[P];if("offset"!==P)switch(Y=t.normalizePropertyName(Y,u),X){case"!":X=s[P];break;case ud:X=o[P];break;default:X=t.normalizeStyleValue(P,Y,X,u)}k[Y]=X}),x||h.push(k),b=k,m=E}),u.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${u.join(C)}`)}return h}function UF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&HF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&HF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&HF(e,"destroy",n)))}}function HF(n,t,e){const i=e.totalTime,o=ZF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function ZF(n,t,e,i,s="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:o,disabled:!!u}}function Xo(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function jV(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let qF=(n,t)=>!1,YF=(n,t)=>!1,zV=(n,t,e)=>[];const $V=VF();($V||"undefined"!=typeof Element)&&(qF=YV()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),YF=(()=>{if($V||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):YF}})(),zV=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let o=0;o<s.length;o++)i.push(s[o])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let mg=null,WV=!1;function GF(n){mg||(mg=("undefined"!=typeof document?document.body:null)||{},WV=!!mg.style&&"WebkitAppearance"in mg.style);let t=!0;return mg.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in mg.style,!t&&WV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in mg.style)),t}const jF=YF,zF=qF,$F=zV;function JV(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let QV=(()=>{class n{validateStyleProperty(e){return GF(e)}matchesElement(e,i){return jF(e,i)}containsElement(e,i){return zF(e,i)}query(e,i,s){return $F(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,o,u,h=[],m){return new hv(s,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class lA{}lA.NOOP=new QV;const WF="ng-enter",cA="ng-leave",uA="ng-trigger",dA=".ng-trigger",XV="ng-animating",JF=".ng-animating";function gg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:QF(parseFloat(t[1]),t[2])}function QF(n,t){switch(t){case"s":return 1e3*n;default:return n}}function hA(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=QF(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=QF(parseFloat(m),h[4]));const b=h[5];b&&(u=b)}else s=n;if(!e){let h=!1,m=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),h=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&t.splice(m,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:o,easing:u}}(n,t,e)}function pv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Lp(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else pv(n,e);return e}function tU(n,t,e){return e?t+":"+e+";":""}function nU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=tU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=tU(0,z5(e),n.style[e]));n.setAttribute("style",t)}function kc(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=XF(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),VF()&&nU(n))}function _g(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=XF(e);n.style[i]=""}),VF()&&nU(n))}function L1(n){return Array.isArray(n)?1==n.length?n[0]:VV(n):n}const KF=new RegExp("{{\\s*(.+?)\\s*}}","g");function iU(n){let t=[];if("string"==typeof n){let e;for(;e=KF.exec(n);)t.push(e[1]);KF.lastIndex=0}return t}function pA(n,t,e){const i=n.toString(),s=i.replace(KF,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),h=""),h.toString()});return s==i?n:s}function fA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const j5=/-+([a-z0-9])/g;function XF(n){return n.replace(j5,(...t)=>t[1].toUpperCase())}function z5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rU(n,t){return 0===n||0===t}function sU(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var s=1;s<t.length;s++){let h=t[s];u.forEach(function(m){h[m]=e2(n,m)})}}return t}function ea(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function e2(n,t){return window.getComputedStyle(n)[t]}function $5(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const m=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],o=i[2],u=i[3];t.push(oU(s,u));"<"==o[0]&&!("*"==s&&"*"==u)&&t.push(oU(u,s))}(i,e,t)):e.push(n),e}const gA=new Set(["true","1"]),_A=new Set(["false","0"]);function oU(n,t){const e=gA.has(n)||_A.has(n),i=gA.has(t)||_A.has(t);return(s,o)=>{let u="*"==n||n==s,h="*"==t||t==o;return!u&&e&&"boolean"==typeof s&&(u=s?gA.has(n):_A.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?gA.has(t):_A.has(t)),u&&h}}const Q5=new RegExp("s*:selfs*,?","g");function t2(n,t,e){return new K5(n).build(t,e)}class K5{constructor(t){this._driver=t}build(t,e){const i=new t8(e);return this._resetContextStyleTimingState(i),ea(this,L1(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,b=m.name;b.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,o.push(this.visitState(m,e))}),m.name=b}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,s+=m.depCount,u.push(m)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=s||{};if(i.styles.forEach(h=>{if(bA(h)){const m=h;Object.keys(m).forEach(b=>{iU(m[b]).forEach(C=>{u.hasOwnProperty(C)||o.add(C)})})}}),o.size){const h=fA(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ea(this,L1(t.animation),e);return{type:1,matchers:$5(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:bg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ea(this,i,e)),options:bg(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const o=t.steps.map(u=>{e.currentTime=i;const h=ea(this,u,e);return s=Math.max(s,e.currentTime),h});return e.currentTime=s,{type:3,steps:o,options:bg(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return n2(hA(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=n2(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||hA(i,t),n2(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,o=t.styles?t.styles:ze({});if(5==o.type)s=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=ze(b)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=h,s=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==ud?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let s=!1,o=null;return i.forEach(u=>{if(bA(u)){const h=u,m=h.easing;if(m&&(o=m,delete h.easing),!s)for(let b in h)if(h[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void e.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const m=e.collectedStyles[e.currentQuerySelector],b=m[h];let C=!0;b&&(o!=s&&o>=b.startTime&&s<=b.endTime&&(e.errors.push(`The CSS property "${h}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),C=!1),o=b.startTime),C&&(m[h]={startTime:o,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=iU(n);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const u=[];let h=!1,m=!1,b=0;const C=t.steps.map(xe=>{const Ne=this._makeStyleAst(xe,e);let Fe=null!=Ne.offset?Ne.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(bA(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(bA(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ne.styles),je=0;return null!=Fe&&(o++,je=Ne.offset=Fe),m=m||je<0||je>1,h=h||je<b,b=je,u.push(je),Ne});m&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&e.errors.push("Please ensure that all keyframe offsets are in order");const E=t.steps.length;let x=0;o>0&&o<E?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(x=1/(E-1));const k=E-1,P=e.currentTime,Y=e.currentAnimateTimings,X=Y.duration;return C.forEach((xe,Ne)=>{const Fe=x>0?Ne==k?1:x*Ne:u[Ne],je=Fe*X;e.currentTime=P+Y.delay+je,Y.duration=je,this._validateStyleAst(xe,e),xe.offset=Fe,i.styles.push(xe)}),i}visitReference(t,e){return{type:8,animation:ea(this,L1(t.animation),e),options:bg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:bg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:bg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Q5,"")),[n=n.replace(/@\*/g,dA).replace(/@\w+/g,e=>dA+"-"+e.substr(1)).replace(/:animating/g,JF),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Xo(e.collectedStyles,e.currentQuerySelector,{});const h=ea(this,L1(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:bg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:hA(t.timings,e.errors,!0);return{type:12,animation:ea(this,L1(t.animation),e),timings:i,options:null}}}class t8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function bA(n){return!Array.isArray(n)&&"object"==typeof n}function bg(n){return n?(n=pv(n)).params&&(n.params=function(n){return n?pv(n):null}(n.params)):n={},n}function n2(n,t,e){return{duration:n,delay:t,easing:e}}function r2(n,t,e,i,s,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:u,subTimeline:h}}class yA{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const o8=new RegExp(":enter","g"),l8=new RegExp(":leave","g");function s2(n,t,e,i,s,o={},u={},h,m,b=[]){return(new c8).buildKeyframes(n,t,e,i,s,o,u,h,m,b)}class c8{buildKeyframes(t,e,i,s,o,u,h,m,b,C=[]){b=b||new yA;const E=new o2(t,e,b,s,o,C,[]);E.options=m,E.currentTimeline.setStyles([u],null,E.errors,m),ea(this,i,E);const x=E.timelines.filter(k=>k.containsAnimation());if(x.length&&Object.keys(h).length){const k=x[x.length-1];k.allowOnlyTimelineStyles()||k.setStyles([h],null,E.errors,m)}return x.length?x.map(k=>k.buildKeyframes()):[r2(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,s,s.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?gg(i.duration):null,h=null!=i.delay?gg(i.delay):null;return 0!==u&&t.forEach(m=>{const b=e.appendInstructionToTimeline(m,u,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ea(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const o=t.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=vA);const u=gg(o.delay);s.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>ea(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?gg(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),ea(this,u,h),s=Math.max(s,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return hA(e.params?pA(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(s+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},o=s.delay?gg(s.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vA);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((b,C)=>{e.currentQueryIndex=C;const E=e.createSubContext(t.options,b);o&&E.delayNextStep(o),b===e.element&&(m=E.currentTimeline),ea(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const C=e.currentTimeline;m&&C.delayNextStep(m);const E=C.currentTime;ea(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-E+(s.startTime-i.currentTimeline.startTime)}}const vA={};class o2{constructor(t,e,i,s,o,u,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new CA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=gg(i.duration)),null!=i.delay&&(s.delay=gg(i.delay));const o=i.params;if(o){let u=s.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=pA(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,o=new o2(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=vA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new u8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,o,u){let h=[];if(s&&h.push(this.element),t.length>0){t=(t=t.replace(o8,"."+this._enterClassName)).replace(l8,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!o&&0==h.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),h}}class CA{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new CA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ud,this._currentKeyframe[e]=ud}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const o=s&&s.params||{},u=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(o=>{e[o]=ud})):Lp(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const m=pA(u[h],o,i);this._pendingStyles[h]=m,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:ud),this._updateStyle(h,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((h,m)=>{const b=Lp(h,!0);Object.keys(b).forEach(C=>{const E=b[C];"!"==E?t.add(C):E==ud&&e.add(C)}),i||(b.offset=m/this.duration),s.push(b)});const o=t.size?fA(t.values()):[],u=e.size?fA(e.values()):[];if(i){const h=s[0],m=pv(h);h.offset=0,m.offset=1,s=[h,m]}return r2(this.element,s,o,u,this.duration,this.startTime,this.easing,!1)}}class u8 extends CA{constructor(t,e,i,s,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,m=Lp(t[0],!1);m.offset=0,o.push(m);const b=Lp(t[0],!1);b.offset=cU(h),o.push(b);const C=t.length-1;for(let E=1;E<=C;E++){let x=Lp(t[E],!1);x.offset=cU((e+x.offset*i)/u),o.push(x)}i=u,e=0,s="",t=o}return r2(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function cU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class a2{}class h8 extends a2{normalizePropertyName(t,e){return XF(t)}normalizeStyleValue(t,e,i,s){let o="";const u=i.toString().trim();if(p8[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+o}}const p8=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function uU(n,t,e,i,s,o,u,h,m,b,C,E,x){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:b,postStyleProps:C,totalTime:E,errors:x}}const l2={};class dU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(o=>o(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],o=this._stateStyles[t],u=s?s.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,s,o,u,h,m,b,C){const E=[],x=this.ast.options&&this.ast.options.params||l2,P=this.buildStyles(i,h&&h.params||l2,E),Y=m&&m.params||l2,X=this.buildStyles(s,Y,E),xe=new Set,Ne=new Map,Fe=new Map,je="void"===s,_n={params:Object.assign(Object.assign({},x),Y)},Ni=C?[]:s2(t,e,this.ast.animation,o,u,P,X,_n,b,E);let yi=0;if(Ni.forEach(sa=>{yi=Math.max(sa.duration+sa.delay,yi)}),E.length)return uU(e,this._triggerName,i,s,je,P,X,[],[],Ne,Fe,yi,E);Ni.forEach(sa=>{const Cd=sa.element,FG=Xo(Ne,Cd,{});sa.preStyleProps.forEach(kg=>FG[kg]=!0);const yD=Xo(Fe,Cd,{});sa.postStyleProps.forEach(kg=>yD[kg]=!0),Cd!==e&&xe.add(Cd)});const Pi=fA(xe.values());return uU(e,this._triggerName,i,s,je,P,X,Ni,Pi,Ne,Fe,yi)}}class g8{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=pv(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(s[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let m=u[h];m.length>1&&(m=pA(m,s,e));const b=this.normalizer.normalizePropertyName(h,e);m=this.normalizer.normalizeStyleValue(h,b,m,e),i[b]=m})}}),i}}class b8{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new g8(s.style,s.options&&s.options.params||{},i)}),hU(this.states,"true","1"),hU(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new dU(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new dU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(u=>u.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function hU(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const v8=new yA;class C8{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=t2(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,o=GV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],o=this._animations[t];let u;const h=new Map;if(o?(u=s2(this._driver,e,o,WF,cA,{},{},i,v8,s),u.forEach(C=>{const E=Xo(h,C.element,{});C.postStyleProps.forEach(x=>E[x]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),u=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);h.forEach((C,E)=>{Object.keys(C).forEach(x=>{C[x]=this._driver.computeStyle(E,x,ud)})});const b=Fp(u.map(C=>{const E=h.get(C.element);return this._buildPlayer(C,{},E)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const o=ZF(e,"","","");return UF(this._getPlayer(t),i,o,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const pU="ng-animate-queued",fU="ng-animate-disabled",mU=".ng-animate-disabled",M8=[],gU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},E8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oa="__ng_removed";class c2{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const o=pv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const B1="void",u2=new c2(B1);class S8{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Na(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=Xo(this._elementListeners,t,[]),u={name:e,phase:i,callback:s};o.push(u);const h=Xo(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Na(t,uA),Na(t,uA+"-"+e),h[e]=u2),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(u);m>=0&&o.splice(m,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const o=this._getTrigger(e),u=new d2(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Na(t,uA),Na(t,uA+"-"+e),this._engine.statesByElement.set(t,h={}));let m=h[e];const b=new c2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),h[e]=b,m||(m=u2),b.value!==B1&&m.value===b.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,b.params)){const Y=[],X=o.matchStyles(m.value,m.params,Y),xe=o.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{_g(t,X),kc(t,xe)})}return}const x=Xo(this._engine.playersByElement,t,[]);x.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let k=o.matchTransition(m.value,b.value,t,b.params),P=!1;if(!k){if(!s)return;k=o.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:k,fromState:m,toState:b,player:u,isFallbackTransition:P}),P||(Na(t,pU),u.onStart(()=>{fv(t,pU)})),u.onDone(()=>{let Y=this.players.indexOf(u);Y>=0&&this.players.splice(Y,1);const X=this._engine.playersByElement.get(t);if(X){let xe=X.indexOf(u);xe>=0&&X.splice(xe,1)}}),this.players.push(u),x.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,dA,!0);i.forEach(s=>{if(s[Oa])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(u=>u.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const o=this._engine.statesByElement.get(t);if(o){const u=[];if(Object.keys(o).forEach(h=>{if(this._triggers[h]){const m=this.trigger(t,h,B1,s);m&&u.push(m)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Fp(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(o=>{const u=o.name;if(s.has(u))return;s.add(u);const m=this._triggers[u].fallbackTransition,b=i[u]||u2,C=new c2(B1),E=new d2(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:b,toState:C,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Oa];(!o||o===gU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Na(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=ZF(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,UF(i.player,h.phase,m,h.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const o=i.transition.ast.depCount,u=s.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class x8{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new S8(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let o=0;o<s.length;o++){const u=i[s[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,s){if(wA(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!wA(e))return;const o=e[Oa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Na(t,fU)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fv(t,fU))}removeNode(t,e,i,s){if(wA(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Oa]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,o){return wA(e)?this._fetchNamespace(t).listen(e,i,s,o):()=>{}}_buildInstruction(t,e,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,dA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,JF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Fp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Oa];if(e&&e.setForRemoval){if(t[Oa]=gU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,mU)&&this.markElementAsDisabled(t,!1),this.driver.query(t,mU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Na(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Fp(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new yA,s=[],o=new Map,u=[],h=new Map,m=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(ot=>{C.add(ot);const yt=this.driver.query(ot,".ng-animate-queued",!0);for(let Ut=0;Ut<yt.length;Ut++)C.add(yt[Ut])});const E=this.bodyNode,x=Array.from(this.statesByElement.keys()),k=yU(x,this.collectedEnterElements),P=new Map;let Y=0;k.forEach((ot,yt)=>{const Ut=WF+Y++;P.set(yt,Ut),ot.forEach(Dn=>Na(Dn,Ut))});const X=[],xe=new Set,Ne=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const yt=this.collectedLeaveElements[ot],Ut=yt[Oa];Ut&&Ut.setForRemoval&&(X.push(yt),xe.add(yt),Ut.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(Dn=>xe.add(Dn)):Ne.add(yt))}const Fe=new Map,je=yU(x,Array.from(xe));je.forEach((ot,yt)=>{const Ut=cA+Y++;Fe.set(yt,Ut),ot.forEach(Dn=>Na(Dn,Ut))}),t.push(()=>{k.forEach((ot,yt)=>{const Ut=P.get(yt);ot.forEach(Dn=>fv(Dn,Ut))}),je.forEach((ot,yt)=>{const Ut=Fe.get(yt);ot.forEach(Dn=>fv(Dn,Ut))}),X.forEach(ot=>{this.processLeaveNode(ot)})});const _n=[],Ni=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(e).forEach(Ut=>{const Dn=Ut.player,ss=Ut.element;if(_n.push(Dn),this.collectedEnterElements.length){const Vc=ss[Oa];if(Vc&&Vc.setForMove)return void Dn.destroy()}const Bc=!E||!this.driver.containsElement(E,ss),oa=Fe.get(ss),$p=P.get(ss),ur=this._buildInstruction(Ut,i,$p,oa,Bc);if(ur.errors&&ur.errors.length)Ni.push(ur);else{if(Bc)return Dn.onStart(()=>_g(ss,ur.fromStyles)),Dn.onDestroy(()=>kc(ss,ur.toStyles)),void s.push(Dn);if(Ut.isFallbackTransition)return Dn.onStart(()=>_g(ss,ur.fromStyles)),Dn.onDestroy(()=>kc(ss,ur.toStyles)),void s.push(Dn);ur.timelines.forEach(Vc=>Vc.stretchStartingKeyframe=!0),i.append(ss,ur.timelines),u.push({instruction:ur,player:Dn,element:ss}),ur.queriedElements.forEach(Vc=>Xo(h,Vc,[]).push(Dn)),ur.preStyleProps.forEach((Vc,vD)=>{const Tk=Object.keys(Vc);if(Tk.length){let Ig=m.get(vD);Ig||m.set(vD,Ig=new Set),Tk.forEach(YL=>Ig.add(YL))}}),ur.postStyleProps.forEach((Vc,vD)=>{const Tk=Object.keys(Vc);let Ig=b.get(vD);Ig||b.set(vD,Ig=new Set),Tk.forEach(YL=>Ig.add(YL))})}});if(Ni.length){const ot=[];Ni.forEach(yt=>{ot.push(`@${yt.triggerName} has failed due to:\n`),yt.errors.forEach(Ut=>ot.push(`- ${Ut}\n`))}),_n.forEach(yt=>yt.destroy()),this.reportError(ot)}const yi=new Map,Pi=new Map;u.forEach(ot=>{const yt=ot.element;i.has(yt)&&(Pi.set(yt,yt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,yi))}),s.forEach(ot=>{const yt=ot.element;this._getPreviousPlayers(yt,!1,ot.namespaceId,ot.triggerName,null).forEach(Dn=>{Xo(yi,yt,[]).push(Dn),Dn.destroy()})});const sa=X.filter(ot=>CU(ot,m,b)),Cd=new Map;bU(Cd,this.driver,Ne,b,ud).forEach(ot=>{CU(ot,m,b)&&sa.push(ot)});const yD=new Map;k.forEach((ot,yt)=>{bU(yD,this.driver,new Set(ot),m,"!")}),sa.forEach(ot=>{const yt=Cd.get(ot),Ut=yD.get(ot);Cd.set(ot,Object.assign(Object.assign({},yt),Ut))});const kg=[],LG=[],BG={};u.forEach(ot=>{const{element:yt,player:Ut,instruction:Dn}=ot;if(i.has(yt)){if(C.has(yt))return Ut.onDestroy(()=>kc(yt,Dn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(Dn.totalTime),void s.push(Ut);let ss=BG;if(Pi.size>1){let oa=yt;const $p=[];for(;oa=oa.parentNode;){const ur=Pi.get(oa);if(ur){ss=ur;break}$p.push(oa)}$p.forEach(ur=>Pi.set(ur,ss))}const Bc=this._buildAnimation(Ut.namespaceId,Dn,yi,o,yD,Cd);if(Ut.setRealPlayer(Bc),ss===BG)kg.push(Ut);else{const oa=this.playersByElement.get(ss);oa&&oa.length&&(Ut.parentPlayer=Fp(oa)),s.push(Ut)}}else _g(yt,Dn.fromStyles),Ut.onDestroy(()=>kc(yt,Dn.toStyles)),LG.push(Ut),C.has(yt)&&s.push(Ut)}),LG.forEach(ot=>{const yt=o.get(ot.element);if(yt&&yt.length){const Ut=Fp(yt);ot.setRealPlayer(Ut)}}),s.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<X.length;ot++){const yt=X[ot],Ut=yt[Oa];if(fv(yt,cA),Ut&&Ut.hasAnimation)continue;let Dn=[];if(h.size){let Bc=h.get(yt);Bc&&Bc.length&&Dn.push(...Bc);let oa=this.driver.query(yt,JF,!0);for(let $p=0;$p<oa.length;$p++){let ur=h.get(oa[$p]);ur&&ur.length&&Dn.push(...ur)}}const ss=Dn.filter(Bc=>!Bc.destroyed);ss.length?R8(this,yt,ss):this.processLeaveNode(yt)}return X.length=0,kg.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const yt=this.players.indexOf(ot);this.players.splice(yt,1)}),ot.play()}),kg}elementContainsData(t,e){let i=!1;const s=e[Oa];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!o||o==B1;h.forEach(b=>{b.queued||!m&&b.triggerName!=s||u.push(b)})}}return(i||s)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||s&&s!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const b=m.element,C=b!==o,E=Xo(i,b,[]);this._getPreviousPlayers(b,C,u,h,e.toState).forEach(k=>{const P=k.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),k.destroy(),E.push(k)})}_g(o,e.fromStyles)}_buildAnimation(t,e,i,s,o,u){const h=e.triggerName,m=e.element,b=[],C=new Set,E=new Set,x=e.timelines.map(P=>{const Y=P.element;C.add(Y);const X=Y[Oa];if(X&&X.removedBeforeQueried)return new hv(P.duration,P.delay);const xe=Y!==m,Ne=function(n){const t=[];return vU(n,t),t}((i.get(Y)||M8).map(yi=>yi.getRealPlayer())).filter(yi=>!!yi.element&&yi.element===Y),Fe=o.get(Y),je=u.get(Y),_n=GV(0,this._normalizer,0,P.keyframes,Fe,je),Ni=this._buildPlayer(P,_n,Ne);if(P.subTimeline&&s&&E.add(Y),xe){const yi=new d2(t,h,Y);yi.setRealPlayer(Ni),b.push(yi)}return Ni});b.forEach(P=>{Xo(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,P.element,P))}),C.forEach(P=>Na(P,XV));const k=Fp(x);return k.onDestroy(()=>{C.forEach(P=>fv(P,XV)),kc(m,e.toStyles)}),E.forEach(P=>{Xo(s,P,[]).push(k)}),k}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hv(t.duration,t.delay)}}class d2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>UF(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Xo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function wA(n){return n&&1===n.nodeType}function _U(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function bU(n,t,e,i,s){const o=[];e.forEach(m=>o.push(_U(m)));const u=[];i.forEach((m,b)=>{const C={};m.forEach(E=>{const x=C[E]=t.computeStyle(b,E,s);(!x||0==x.length)&&(b[Oa]=E8,u.push(b))}),n.set(b,C)});let h=0;return e.forEach(m=>_U(m,o[h++])),u}function yU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const s=new Set(t),o=new Map;function u(h){if(!h)return 1;let m=o.get(h);if(m)return m;const b=h.parentNode;return m=e.has(b)?b:s.has(b)?1:u(b),o.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&e.get(m).push(h)}),e}const DA="$$classes";function Na(n,t){if(n.classList)n.classList.add(t);else{let e=n[DA];e||(e=n[DA]={}),e[t]=!0}}function fv(n,t){if(n.classList)n.classList.remove(t);else{let e=n[DA];e&&delete e[t]}}function R8(n,t,e){Fp(e).onDone(()=>n.processLeaveNode(t))}function vU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof qV?vU(i.players,t):t.push(i)}}function CU(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(o=>s.add(o)):t.set(n,i),e.delete(n),!0}class TA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new x8(t,e,i),this._timelineEngine=new C8(t,e,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,i,s,o){const u=t+"-"+s;let h=this._triggerCache[u];if(!h){const m=[],b=t2(this._driver,o,m);if(m.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${m.join("\n - ")}`);h=function(n,t,e){return new b8(n,t,e)}(s,b,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,s,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[o,u]=jV(i);this._timelineEngine.command(o,e,u,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,o){if("@"==i.charAt(0)){const[u,h]=jV(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wU(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=h2(t[0]),t.length>1&&(i=h2(t[t.length-1]))):t&&(e=h2(t)),e||i?new mv(n,e,i):null}class mv{constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let s=mv.initialStylesByElement.get(t);s||mv.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kc(this._element,this._initialStyles),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mv.initialStylesByElement.delete(this._element),this._startStyles&&(_g(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_g(this._element,this._endStyles),this._endStyles=null),kc(this._element,this._initialStyles),this._state=3)}}function h2(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];P8(s)&&(t=t||{},t[s]=n[s])}return t}function P8(n){return"display"===n||"position"===n}mv.initialStylesByElement=new WeakMap;const DU="animation",TU="animationend";class B8{constructor(t,e,i,s,o,u,h){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=o,this._fillMode=u,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=m=>this._handleCallback(m)}apply(){(function(n,t){const e=f2(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),MA(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),SU(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){MU(this._element,this._name,"paused")}resume(){MU(this._element,this._name,"running")}setPosition(t){const e=EU(this._element,this._name);this._position=t*this._duration,MA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),SU(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=f2(n,"").split(","),s=p2(i,t);s>=0&&(i.splice(s,1),MA(n,"",i.join(",")))}(this._element,this._name))}}function MU(n,t,e){MA(n,"PlayState",e,EU(n,t))}function EU(n,t){const e=f2(n,"");return e.indexOf(",")>0?p2(e.split(","),t):p2([e],t)}function p2(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function SU(n,t,e){e?n.removeEventListener(TU,t):n.addEventListener(TU,t)}function MA(n,t,e,i){const s=DU+t;if(null!=i){const o=n.style[s];if(o.length){const u=o.split(",");u[i]=e,e=u.join(",")}}n.style[s]=e}function f2(n,t){return n.style[DU+t]||""}class xU{constructor(t,e,i,s,o,u,h,m){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=o,this._finalStyles=h,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=s+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new B8(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:e2(this.element,i))})}this.currentSnapshot=t}}class Y8 extends hv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=JV(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class kU{constructor(){this._count=0}validateStyleProperty(t){return GF(t)}matchesElement(t,e){return jF(t,e)}containsElement(t,e){return zF(t,e)}query(t,e,i){return $F(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(h=>JV(h));let s=`@keyframes ${e} {\n`,o="";i.forEach(h=>{o=" ";const m=parseFloat(h.offset);s+=`${o}${100*m}% {\n`,o+=" ",Object.keys(h).forEach(b=>{const C=h[b];switch(b){case"offset":return;case"easing":return void(C&&(s+=`${o}animation-timing-function: ${C};\n`));default:return void(s+=`${o}${b}: ${C};\n`)}}),s+=`${o}}\n`}),s+="}\n";const u=document.createElement("style");return u.textContent=s,u}animate(t,e,i,s,o,u=[],h){const m=u.filter(X=>X instanceof xU),b={};rU(i,s)&&m.forEach(X=>{let xe=X.currentSnapshot;Object.keys(xe).forEach(Ne=>b[Ne]=xe[Ne])});const C=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=sU(t,e,b));if(0==i)return new Y8(t,C);const E="gen_css_kf_"+this._count++,x=this.buildKeyframeElement(t,E,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(x);const P=wU(t,e),Y=new xU(t,e,E,i,s,o,C,P);return Y.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(x)),Y}}class RU{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:e2(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class W8{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(OU().toString()),this._cssKeyframesDriver=new kU}validateStyleProperty(t){return GF(t)}matchesElement(t,e){return jF(t,e)}containsElement(t,e){return zF(t,e)}query(t,e,i){return $F(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,o,u=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,o,u);const C={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(C.easing=o);const E={},x=u.filter(P=>P instanceof RU);rU(i,s)&&x.forEach(P=>{let Y=P.currentSnapshot;Object.keys(Y).forEach(X=>E[X]=Y[X])});const k=wU(t,e=sU(t,e=e.map(P=>Lp(P,!1)),E));return new RU(t,e,C,k)}}function OU(){return YV()&&Element.prototype.animate||{}}let Q8=(()=>{class n extends BV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?VV(e):e;return NU(this._renderer,null,i,"register",[s]),new K8(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class K8 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new X8(this._id,t,e||{},this._renderer)}}class X8{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return NU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function NU(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const PU="@.disabled";let ez=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{u&&u.parentNode(o)&&u.removeChild(o.parentNode,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(o);return C||(C=new FU("",o,this.engine),this._rendererCache.set(o,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(u,h,e,C.name,C)};return i.data.animation.forEach(m),new tz(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(TA),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class FU{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==PU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tz extends FU{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==PU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let rz=(()=>{class n extends TA{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(lA),r.LFG(a2))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Nn=new r.OlP("AnimationModuleType"),LU=[{provide:BV,useClass:Q8},{provide:a2,useFactory:function(){return new h8}},{provide:TA,useClass:rz},{provide:r.FYo,useFactory:function(n,t,e){return new ez(n,t,e)},deps:[Vs,TA,r.R0b]}],BU=[{provide:lA,useFactory:function(){return"function"==typeof OU()?new W8:new kU}},{provide:Nn,useValue:"BrowserAnimations"},...LU],VU=[{provide:lA,useClass:QV},{provide:Nn,useValue:"NoopAnimations"},...LU];let lz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?VU:BU}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:BU,imports:[jg]}),n})();const UU=new r.GfV("12.2.5"),mz=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let tt=(()=>{class n{constructor(e,i,s){this._hasDoneGlobalChecks=!1,this._document=s,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,r.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&UU.full!==LV.full&&console.warn("The Angular Material version ("+UU.full+") does not match the Angular CDK version ("+LV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(w_),r.LFG(mz,8),r.LFG(Z))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Wr],Wr]}),n})();function Os(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Me(t)}}}function ta(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function to(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Me(t)}}}function dd(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?qt(e):this.defaultTabIndex}}}function V1(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new le.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const gz=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,r.f3M)(r.soG)}});class or{constructor(){this._localeChanges=new le.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Ic=new r.OlP("mat-date-formats");let yg;try{yg="undefined"!=typeof Intl}catch(n){yg=!1}const bz={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},yz=SA(31,n=>String(n+1)),vz={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Cz=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function SA(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let wz=(()=>{class n extends or{constructor(e,i){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(yg){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return SA(12,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,s,1))))}return bz[e]}getDateNames(){if(yg){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return SA(31,i=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,i+1))))}return yz}getDayOfWeekNames(e){if(yg){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return SA(7,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,s+1))))}return vz[e]}getYearName(e){if(yg){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let o=this._createDateWithOverflow(e,i,s);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(yg){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const s=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(s,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Cz.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const o=new Date;return o.setFullYear(e,i,s),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(gz,8),r.LFG(xt))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:or,useClass:wz}],imports:[[Mf]]}),n})();const Mz={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ez=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:Ic,useValue:Mz}],imports:[[Tz]]}),n})(),no=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),xA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt],tt]}),n})();class Sz{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ZU={enterDuration:225,exitDuration:150},y2=Ho({passive:!0}),qU=["mousedown","touchstart"],YU=["mouseup","mouseleave","touchend","touchcancel"];class v2{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=ii(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},ZU),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const u=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),h=t-s.left,m=e-s.top,b=o.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-u+"px",C.style.top=m-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const E=new Sz(this,C,i);return E.state=0,this._activeRipples.add(E),i.persistent||(this._mostRecentTransientRipple=E),this._runTimeoutOutsideZone(()=>{const x=E===this._mostRecentTransientRipple;E.state=1,!i.persistent&&(!x||!this._isPointerDown)&&E.fadeOut()},b),E}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Object.assign(Object.assign({},ZU),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ii(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(qU))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(YU),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=k0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Of(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,y2)})})}_removeTriggerEvents(){this._triggerElement&&(qU.forEach(t=>{this._triggerElement.removeEventListener(t,this,y2)}),this._pointerUpEventsRegistered&&YU.forEach(t=>{this._triggerElement.removeEventListener(t,this,y2)}))}}const AA=new r.OlP("mat-ripple-global-options");let Ns=(()=>{class n{constructor(e,i,s,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new v2(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(xt),r.Y36(AA,8),r.Y36(Nn,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),wl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt,Mf],tt]}),n})(),C2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt]]}),n})(),RA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wl,$t,tt,C2]]}),n})();function Pz(n,t){}class Bp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Fz={dialogContainer:Ri("dialogContainer",[Vt("void, exit",ze({opacity:0,transform:"scale(0.7)"})),Vt("enter",ze({transform:"none"})),tn("* => enter",un("150ms cubic-bezier(0, 0, 0.2, 1)",ze({transform:"none",opacity:1}))),tn("* => void, * => exit",un("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ze({opacity:0})))])};let Lz=(()=>{class n extends fh{constructor(e,i,s,o,u,h){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=s,this._config=u,this._focusMonitor=h,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(m)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Ja(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ja())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Ja();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(__),r.Y36(r.sBO),r.Y36(Z,8),r.Y36(Bp),r.Y36(Xn))},n.\u0275dir=r.lG2({type:n,viewQuery:function(e,i){if(1&e&&r.Gf(ri,7),2&e){let s;r.iGM(s=r.CRH())&&(i._portalOutlet=s.first)}},features:[r.qOj]}),n})(),Bz=(()=>{class n extends Lz{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&r.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(r.Ikx("id",i._id),r.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),r.d8E("@dialogContainer",i._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&r.YNc(0,Pz,0,0,"ng-template",0)},directives:[ri],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Fz.dialogContainer]}}),n})(),Vz=0;class Vp{constructor(t,e,i="mat-dialog-"+Vz++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new le.xQ,this._afterClosed=new le.xQ,this._beforeClosed=new le.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(gt(s=>"opened"===s.state),R(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(gt(s=>"closed"===s.state),R(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(gt(s=>27===s.keyCode&&!this.disableClose&&!Bn(s))).subscribe(s=>{s.preventDefault(),T2(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():T2(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(gt(e=>"closing"===e.state),R(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function T2(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const H1=new r.OlP("MatDialogData"),Uz=new r.OlP("mat-dialog-default-options"),WU=new r.OlP("mat-dialog-scroll-strategy"),Zz={provide:WU,deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.block()}};let qz=(()=>{class n{constructor(e,i,s,o,u,h,m,b,C){this._overlay=e,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=m,this._dialogContainerType=b,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le.xQ,this._afterOpenedAtThisLevel=new le.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=nm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jt(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Bp)).id&&this.getDialogById(i.id);const s=this._createOverlay(i),o=this._attachDialogContainer(s,i),u=this._attachDialogContent(e,o,s,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new nc({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=r.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Bp,useValue:i}]}),u=new ph(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,s,o){const u=new this._dialogRefConstructor(s,i,o.id);if(e instanceof r.Rgc)i.attachTemplatePortal(new po(e,null,{$implicit:o.data,dialogRef:u}));else{const h=this._createInjector(o,u,i),m=i.attachComponentPortal(new ph(e,o.viewContainerRef,h));u.componentInstance=m.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,s){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(mn,null,r.XFs.Optional))&&u.push({provide:mn,useValue:{value:e.direction,change:(0,Ue.of)()}}),r.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Zi),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(rl),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},n.\u0275dir=r.lG2({type:n}),n})(),Pa=(()=>{class n extends qz{constructor(e,i,s,o,u,h,m){super(e,i,o,h,m,u,Vp,Bz,H1)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Zi),r.LFG(r.zs3),r.LFG(zt,8),r.LFG(Uz,8),r.LFG(WU),r.LFG(n,12),r.LFG(rl))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Gz=0,OA=(()=>{class n{constructor(e,i,s){this.dialogRef=e,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=QU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){T2(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Vp,8),r.Y36(r.SBq),r.Y36(Pa))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&r.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),n})(),JU=(()=>{class n{constructor(e,i,s){this._dialogRef=e,this._elementRef=i,this._dialog=s,this.id="mat-dialog-title-"+Gz++}ngOnInit(){this._dialogRef||(this._dialogRef=QU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Vp,8),r.Y36(r.SBq),r.Y36(Pa))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&r.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function QU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Pa,Zz],imports:[[Sa,Xa,tt],tt]}),n})();const zz=["underline"],$z=["connectionContainer"],Wz=["inputContainer"],Jz=["label"];function Qz(n,t){1&n&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function Kz(n,t){1&n&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function Xz(n,t){if(1&n&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&n){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function e$(n,t){1&n&&r.Hsn(0,3,["*ngSwitchCase","true"])}function t$(n,t){1&n&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function n$(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,Xz,4,1,"ng-container",12),r.YNc(3,e$,1,0,"ng-content",12),r.YNc(4,t$,2,0,"span",22),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function i$(n,t){1&n&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function r$(n,t){if(1&n&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function s$(n,t){if(1&n&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function o$(n,t){if(1&n&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function a$(n,t){if(1&n&&(r.TgZ(0,"div",28),r.YNc(1,o$,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const l$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],c$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let u$=0;const KU=new r.OlP("MatError");let Rc=(()=>{class n{constructor(e,i){this.id="mat-error-"+u$++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(r.$8M("aria-live"),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("id",i.id)},inputs:{id:"id"},features:[r._Bn([{provide:KU,useExisting:n}])]}),n})();const d$={transitionMessages:Ri("transitionMessages",[Vt("enter",ze({opacity:1,transform:"translateY(0%)"})),tn("void => enter",[ze({opacity:0,transform:"translateY(-5px)"}),un("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})();const XU=new r.OlP("MatHint");let M2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-label"]]}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const eH=new r.OlP("MatPrefix"),tH=new r.OlP("MatSuffix");let Up=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","matSuffix",""]],features:[r._Bn([{provide:tH,useExisting:n}])]}),n})(),nH=0;const m$=ta(class{constructor(n){this._elementRef=n}},"primary"),g$=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gv=new r.OlP("MatFormField");let Dl=(()=>{class n extends m${constructor(e,i,s,o,u,h,m,b){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=u,this._platform=h,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new le.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+nH++,this._labelId="mat-form-field-label-"+nH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Me(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(jt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pe(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pe(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Sn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(jt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(jt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pe(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,xn(this._label.nativeElement,"transitionend").pipe(R(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,s=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,s=0;const o=this._connectionContainerRef.nativeElement,u=o.querySelectorAll(".mat-form-field-outline-start"),h=o.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const m=o.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(m),C=e.children,E=this._getStartEnd(C[0].getBoundingClientRect());let x=0;for(let k=0;k<C.length;k++)x+=C[k].offsetWidth;i=Math.abs(E-b)-5,s=x>0?.75*x+10:0}for(let m=0;m<u.length;m++)u[m].style.width=`${i}px`;for(let m=0;m<h.length;m++)h[m].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(mn,8),r.Y36(g$,8),r.Y36(xt),r.Y36(r.R0b),r.Y36(Nn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,vg,5),r.Suo(s,vg,7),r.Suo(s,M2,5),r.Suo(s,M2,7),r.Suo(s,p$,5),r.Suo(s,KU,5),r.Suo(s,XU,5),r.Suo(s,eH,5),r.Suo(s,tH,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._controlNonStatic=o.first),r.iGM(o=r.CRH())&&(i._controlStatic=o.first),r.iGM(o=r.CRH())&&(i._labelChildNonStatic=o.first),r.iGM(o=r.CRH())&&(i._labelChildStatic=o.first),r.iGM(o=r.CRH())&&(i._placeholderChild=o.first),r.iGM(o=r.CRH())&&(i._errorChildren=o),r.iGM(o=r.CRH())&&(i._hintChildren=o),r.iGM(o=r.CRH())&&(i._prefixChildren=o),r.iGM(o=r.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(zz,5),r.Gf($z,7),r.Gf(Wz,5),r.Gf(Jz,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.underlineRef=s.first),r.iGM(s=r.CRH())&&(i._connectionContainerRef=s.first),r.iGM(s=r.CRH())&&(i._inputContainerRef=s.first),r.iGM(s=r.CRH())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:gv,useExisting:n}]),r.qOj],ngContentSelectors:c$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(r.F$t(l$),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),r.YNc(3,Qz,9,0,"ng-container",3),r.YNc(4,Kz,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,n$,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,i$,2,0,"div",9),r.qZA(),r.YNc(11,r$,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,s$,2,1,"div",12),r.YNc(14,a$,5,2,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==i.appearance),r.xp6(1),r.Q6J("ngIf",i._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",i._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",i._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=i.appearance),r.xp6(1),r.Q6J("ngSwitch",i._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[Ke,zi,Jn,Af],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[d$.transitionMessages]},changeDetection:0}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,tt,kf],tt]}),n})();const rH=Ho({passive:!0});let sH=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return A.E;const i=ii(e),s=this._monitoredElements.get(i);if(s)return s.subject;const o=new le.xQ,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,rH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,rH)}}),o}stopMonitoring(e){const i=ii(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Mf]]}),n})();const aH=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),b$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let y$=0;const v$=V1(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let hd=(()=>{class n extends v${constructor(e,i,s,o,u,h,m,b,C,E){super(h,o,u,s),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=E,this._uid="mat-input-"+y$++,this.focused=!1,this.stateChanges=new le.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>QD().has(P));const x=this._elementRef.nativeElement,k=x.nodeName.toLowerCase();this._inputValueAccessor=m||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",P=>{const Y=P.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===k,this._isTextarea="textarea"===k,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Me(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Me(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&QD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Me(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const s=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=s,s?o.setAttribute("placeholder",s):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){b$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(xt),r.Y36(ms,10),r.Y36(Gs,8),r.Y36(si,8),r.Y36(no),r.Y36(aH,10),r.Y36(sH),r.Y36(r.R0b),r.Y36(gv,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(r.Ikx("disabled",i.disabled)("required",i.required),r.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),r.ekj("mat-input-server",i._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:vg,useExisting:n}]),r.qOj,r.TTD]}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[no],imports:[[oH,E2,tt],oH,E2]}),n})();function w$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function D$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function T$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}function M$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}let lH=(()=>{class n{constructor(e,i,s,o){this.formBuilder=e,this.authService=i,this.dialogRef=s,this.data=o,this.userDatasForm=this.formBuilder.group({nom:["",[st.required,st.minLength(5),st.maxLength(25)]],prenom:["",[st.required,st.minLength(3),st.maxLength(25)]],email:[{value:this.authService.getCurrentUser().email,disabled:!0}]}),this.errorMessage="",this.description=""}ngOnInit(){this.initForm()}initForm(){}close(){this.dialogRef.close()}save(){this.dialogRef.close(this.userDatasForm.value)}getErrorMessage(e){let i="";switch(e){case"nom":this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("required")&&(i="Vous devez saisir votre nom"),(this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("minlength")||this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("maxlength"))&&(i="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("required")&&(i="Vous devez saisir votre pr\xe9nom"),(this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("minlength")||this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("maxlength"))&&(i="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("required")&&(i="Vous devez saisir une adresse email"),this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("email")&&(i="L'adresse saisie n'est pas valide.");break;case"password1":this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(ar),r.Y36(Vp),r.Y36(H1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-user-datas"]],decls:21,vars:5,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-dialog-content",0),r.TgZ(1,"mat-form-field",1),r._UZ(2,"input",2),r.TgZ(3,"div",3),r.YNc(4,w$,2,1,"mat-error",4),r.YNc(5,D$,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"mat-form-field",1),r._UZ(8,"input",5),r.TgZ(9,"div",3),r.YNc(10,T$,2,1,"mat-error",4),r.YNc(11,M$,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",1),r._UZ(14,"input",6),r.qZA(),r._UZ(15,"br"),r.qZA(),r.TgZ(16,"mat-dialog-actions"),r.TgZ(17,"button",7),r.NdJ("click",function(){return i.save()}),r._uU(18,"Ok"),r.qZA(),r.TgZ(19,"button",8),r.NdJ("click",function(){return i.close()}),r._uU(20,"Annuler"),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.userDatasForm),r.xp6(4),r.Q6J("ngIf",(i.userDatasForm.controls.nom.hasError("minlength")||i.userDatasForm.controls.nom.hasError("maxlength"))&&!i.userDatasForm.controls.nom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.userDatasForm.controls.nom.hasError("required")),r.xp6(5),r.Q6J("ngIf",(i.userDatasForm.controls.prenom.hasError("minlength")||i.userDatasForm.controls.prenom.hasError("maxlength"))&&!i.userDatasForm.controls.prenom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.userDatasForm.controls.prenom.hasError("required")))},directives:[Z1,bo,si,Dl,hd,Ys,_o,js,Ke,q1,Rc],styles:[""]}),n})();var E$=N(9511);let pd=(()=>{class n{constructor(e){this.angularFirestore=e}getUsers(){return this.angularFirestore.collection("Users").get()}getUser(e){return this.angularFirestore.collection("Users").doc(e).get()}getUserByUid(e){return this.angularFirestore.collection("Users/",i=>i.where("uid","==",e)).get()}addUser(e){return this.angularFirestore.collection("Users").add({nom:e.nom,prenom:e.prenom,email:e.email,emailVerified:e.emailVerified,uid:e.uid,status:e.status})}changeDroitsUser(e,i){console.log(e+"  "+i),this.angularFirestore.collection("Users").doc(e).update({status:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ar=(()=>{class n{constructor(e,i,s,o,u,h){this.dialog=e,this.router=i,this.ngZone=s,this.usersService=o,this.angularFirestore=u,this.angularFireAuth=h,this.visiteur={email:"memoiremorieroise@gmail.com",password:"MyPepita51",id:"A7Yrrs0jeYEtOwazT5L1"},this.userId="",this.authSubject=new le.xQ,this.status=0,this.angularFireAuth.onAuthStateChanged(m=>{null==m?this.signInVisiteur().then(b=>{this.emitUserChanged()}):m.email==this.visiteur.email?(this.currentUser=new Qh(this.visiteur.id,m.uid,"Visiteur","Visiteur","Visiteur",!0,cn.visiteur),this.emitUserChanged()):o.getUserByUid(m.uid).subscribe(C=>{C&&C.docs.length>0?(this.currentUser=new Qh(C.docs[0].id,m.uid,C.docs[0].data().nom,C.docs[0].data().prenom,C.docs[0].data().email,C.docs[0].data().emailVerified,C.docs[0].data().status),this.emitUserChanged()):this.emitUserChanged()},C=>{console.log(C.message)})})}emitUserChanged(){this.authSubject.next(this.currentUser)}getVisiteur(){return this.visiteur}getCurrentUser(){return this.currentUser}getStatus(){return this.status}signInVisiteur(){return this.SignInUser(this.visiteur.email,this.visiteur.password)}createNewUser(e,i){return new Promise((s,o)=>{this.angularFireAuth.createUserWithEmailAndPassword(e.email.trim(),i.trim()).then(u=>{u.user.updateProfile({displayName:e.nom+"/"+e.prenom}),e.uid=u.user.uid,u.user&&u.user.sendEmailVerification().then(()=>{alert("Un email vous a \xe9t\xe9 envoy\xe9, merci de cliquer sur le lien qu'il contien afin de valider v\xf4tre inscription.")}).catch(h=>{console.log(h),o(h)}),this.angularFireAuth.signInWithEmailAndPassword(this.visiteur.email,this.visiteur.password).then(h=>{}),this.router.navigate(["app-accueil"]),s(!0)})})}SignInUser(e,i){return this.angularFireAuth.signInWithEmailAndPassword(e,i).then(s=>{s.user.emailVerified?s.user&&this.usersService.getUserByUid(s.user.uid).subscribe(o=>{var u,h,m,b,C,E,x,k,P;let Y=o.docs.map(X=>{let xe=X.data();return xe.id=X.id,xe});Y&&Y.length>0?(this.currentUser=Y[0],this.emitUserChanged()):(null===(u=s.user)||void 0===u?void 0:u.email)!=this.visiteur.email&&(this.currentUser=new Qh("",null===(h=s.user)||void 0===h?void 0:h.uid,null===(b=null===(m=s.user)||void 0===m?void 0:m.displayName)||void 0===b?void 0:b.substring(0,null===(C=s.user.displayName)||void 0===C?void 0:C.indexOf("/")),null===(x=null===(E=s.user)||void 0===E?void 0:E.displayName)||void 0===x?void 0:x.substring((null===(k=s.user.displayName)||void 0===k?void 0:k.indexOf("/"))+1),null===(P=s.user)||void 0===P?void 0:P.email,!0,cn.valide),this.usersService.addUser(this.currentUser),this.router.navigate(["app-accueil"]),this.emitUserChanged())}):this.router.navigate(["app-unvalidate-user-message"]),this.router.navigate(["app-accueil"])}).catch(s=>{console.log(s.message),alert("Erreur de connexion, mail ou mot de passe incorrect ?")})}SignOut(){this.currentUser=void 0,this.angularFireAuth.signOut().then(()=>{}).catch(e=>{console.log(e)}).finally(()=>{this.signInVisiteur().then(()=>{this.emitUserChanged()})})}sendMailNewUser(){this.angularFireAuth.currentUser.then(e=>{null==e||e.sendEmailVerification()})}getCurrentAuthUser(){return this.angularFireAuth.currentUser}ForgotPassword(e){return this.angularFireAuth.sendPasswordResetEmail(e).then(()=>{alert("Un email de r\xe9initialisation du mot de passe vous a \xe9t\xe9 envoy\xe9, v\xe9rifiez votre bo\xeete de r\xe9ception.")}).catch(i=>{alert("Erreur de connexion, avez-vous bien saisi l'adresse ?."),console.log(i)})}connectWidthGoogle(){const e=new E$.N;let i=[];return this.angularFireAuth.signInWithPopup(e).then(s=>{var o,u,h,m,b,C;null==this.currentUser&&(this.currentUser=new Qh),(null===(o=s.user)||void 0===o?void 0:o.emailVerified)?(this.currentUser.email=null===(u=s.user.email)||void 0===u?void 0:u.toString(),this.currentUser.emailVerified=!0,this.currentUser.uid=s.user.uid,this.currentUser.nom=null===(h=s.user.displayName)||void 0===h?void 0:h.substring(0,null===(m=s.user.displayName)||void 0===m?void 0:m.indexOf("/")),this.currentUser.prenom=null===(b=s.user.displayName)||void 0===b?void 0:b.substring((null===(C=s.user.displayName)||void 0===C?void 0:C.indexOf("/"))+1),this.currentUser.status=Ge.visiteur,this.usersService.getUserByUid(s.user.uid).subscribe(E=>{var x;if(i=E.docs.map(k=>{k.data().id=k.id}),0===i.length){const k=new Bp;k.disableClose=!0,k.autoFocus=!0,k.width="500px",k.data={email:null===(x=this.currentUser)||void 0===x?void 0:x.email},this.dialog.open(lH,k).afterClosed().subscribe(Y=>{this.currentUser.nom=Y.nom,this.currentUser.prenom=Y.prenom,this.usersService.addUser(this.currentUser)})}else this.router.navigate(["app-accueil"])})):this.router.navigate(["app-unvalidate-user-message"])},s=>{console.log(s),alert("Erreur de connexion, adresse mail ou mot de passe incorrect ?")})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Pa),r.LFG(wn),r.LFG(r.R0b),r.LFG(pd),r.LFG(Ra),r.LFG(PF))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cH=(()=>{class n{constructor(e,i){this.angularFirestore=e,this.authService=i,this.authSubscription=this.authService.authSubject.subscribe(s=>{})}ngOnInit(){}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}getConnexions(){return this.angularFirestore.collection("Connexions",e=>e.orderBy("date","asc")).get()}getConnexion(e){return this.angularFirestore.collection("Connexions").doc(e).get()}updateConnexion(e){return this.angularFirestore.collection("Connexions").doc(e.id).update({idUser:e.idUser,identifie:e.identifie})}addConnexion(e){return this.angularFirestore.collection("Connexions").add({date:(new Date).toJSON(),idUser:e.id,identifie:!1})}deleteAll(){let e=[];this.angularFirestore.collection("Connexions").get().subscribe(i=>{e=i.docs.map(s=>{let o=s.data();return o.id=s.id,o}),e.forEach(s=>{this.angularFirestore.collection("Connexions").doc(s.id).delete().then()})})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra),r.LFG(ar))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uH=(()=>{class n{constructor(e){this.angularFirestore=e,this.currentIdVue=""}ngOnInit(){}getVuesConnexion(e){return this.angularFirestore.collection("Vues",i=>i.where("idConnexion","==",e)).get()}addVue(e,i){this.angularFirestore.collection("Vues").add({idConnexion:e,heureDebut:(new Date).toJSON(),heureFin:"",page:i}).then(s=>{this.currentIdVue=s.id})}finDeVue(){if(""!=this.currentIdVue)return this.angularFirestore.collection("Vues").doc(this.currentIdVue).update({heureFin:(new Date).toJSON()})}deleteAll(){let e=[];this.angularFirestore.collection("Vues").get().subscribe(i=>{e=i.docs.map(s=>{let o=s.data();return o.id=s.id,o}),e.forEach(s=>{this.angularFirestore.collection("Vues").doc(s.id).delete().then()})})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),na=(()=>{class n{constructor(e,i,s,o,u){this.connexionService=e,this.vueService=i,this.authService=s,this.router=o,this.usersService=u,this.currentConnexion="",this.currentIdVue="",this.userSubscription=this.authService.authSubject.subscribe(h=>{h&&this.connectUser(h.id)})}ConnecteVisiteur(){let e=new Qh(this.authService.getVisiteur().id,"Visiteur","Visiteur","Visiteur","Visiteur",!0,cn.visiteur);this.connexionService.addConnexion(e).then(i=>{this.currentConnexion=i.id,this.nouvelleVue("Accueil"),this.router.navigate(["app-acceuil"])})}connectUser(e){""!=this.currentConnexion&&this.connexionService.updateConnexion(new yw(this.currentConnexion,e,void 0,!0))}nouvelleVue(e){""!=this.currentConnexion&&(""!=this.vueService.currentIdVue&&this.finDeVue(),this.vueService.addVue(this.currentConnexion,e))}finDeVue(){""!=this.currentConnexion&&this.vueService.finDeVue()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(cH),r.LFG(uH),r.LFG(ar),r.LFG(wn),r.LFG(pd))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ge=(()=>(function(n){n[n.visiteur=1]="visiteur",n[n.moderateur=28]="moderateur",n[n.editArticle=4]="editArticle",n[n.editPhotosDeClasse=8]="editPhotosDeClasse",n[n.editPdf=16]="editPdf",n[n.administrateur=255]="administrateur"}(Ge||(Ge={})),Ge))(),cn=(()=>(function(n){n[n.initial=0]="initial",n[n.valide=1]="valide",n[n.rejete=256]="rejete",n[n.supprime=4096]="supprime",n[n.visiteur=65536]="visiteur"}(cn||(cn={})),cn))();let Oc=(()=>{class n{constructor(e){this.angularFirestore=e,this.photos=[],this.photosCarousel=[],this.photosAValider=[],this.photoSubject=new le.xQ,this.photosCarouselSubject=new le.xQ}emitPhoto(){this.photoSubject.next(this.photos)}emitPhotoCarousel(){this.photosCarouselSubject.next(this.photosCarousel)}addPhoto(e){this.angularFirestore.collection("Photos").add({annee:e.annee,auteur:e.auteur,listeEleves:e.listeEleves,photo:e.photo,titre:e.titre,status:cn.initial})}getPhotos(){return this.angularFirestore.collection("Photos").get().subscribe(e=>{this.photos=e.docs.map(i=>{let s=i.data();return s.id=i.id,s}),this.photos.length>0&&(this.currentPhoto=this.photos[0]),this.emitPhoto()})}getPhoto(e){return this.angularFirestore.collection("Photos").doc(e).get()}getPhotosByPeriode(e,i){return this.angularFirestore.collection("Photos").get()}updatePhoto(e){console.log(e),this.angularFirestore.collection("Photos").doc(e.id).update({auteur:e.auteur,titre:e.titre,annee:e.annee,listeEleves:e.listeEleves,photo:e.photo,status:e.status})}getPhotosAValider(){return this.angularFirestore.collection("Photos",e=>e.where("status","==",0)).get()}validerPhoto(e){return this.angularFirestore.collection("Photos").doc(e.id).update({status:cn.valide})}rejeterPhoto(e){return this.angularFirestore.collection("Photos").doc(e.id).update({status:cn.rejete})}addPhotoCarousel(e){this.angularFirestore.collection("Carousel").add({path:e.path,numero:e.numero,status:cn.valide})}getPhotosCarousel(){this.angularFirestore.collection("Carousel",e=>e.orderBy("numero","asc")).get().subscribe(e=>{this.photosCarousel=e.docs.map(i=>{let s=i.data();return s.id=i.id,s})}),this.emitPhotoCarousel()}updatePhotoCarousel(e){return this.angularFirestore.collection("Carousel").doc(e.id).update({numero:e.numero})}getNextNumero(){let e=0;return this.photosCarousel.forEach(i=>{i.numero>e&&(e=i.numero)}),e+1}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_v=(()=>{class n{constructor(e){this.angularFirestore=e,this.themes=[]}getThemes(){this.angularFirestore.collection("Themes",e=>e.where("status","==",cn.valide)).get().subscribe(e=>{this.themes=e.docs.map(i=>{const s=i.data();return s.id=i.id,s})}),this.themes.length>0&&null==this.currentTheme&&(this.currentTheme=this.themes[0])}getTheme(e){return this.angularFirestore.collection("Themes").doc(e).get()}addTheme(e){return this.angularFirestore.collection("Themes").add({nom:e.nom,status:e.status})}changeCurrentTheme(e){this.currentTheme=e}VideListeThemes(){this.themes.splice(0),this.currentTheme=void 0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fd=(()=>{class n{constructor(e,i,s){this.angularFirestore=e,this.usersService=i,this.themesService=s,this.articles=[],this.articlesSubject=new le.xQ}emitArticles(){this.articlesSubject.next(this.articles)}addArticle(e){return this.angularFirestore.collection("Articles").add({auteur:e.auteur,titre:e.titre,texte:e.texte,date:e.date,idTheme:e.idTheme.trim(),photo:e.photo,legende:e.legende,status:cn.initial})}getArticles(){this.angularFirestore.collection("Articles",e=>e.where("status",">",cn.initial)).get().subscribe(e=>{this.articles=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.emitArticles()})}getArticle(e){return this.angularFirestore.collection("Articles").doc(e).get()}getArticlesCurrentTheme(){this.angularFirestore.collection("Articles",e=>e.where("idTheme","==",this.themesService.currentTheme.id).where("status","==",cn.valide)).get().subscribe(e=>{this.themesService.currentTheme.articles=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.themesService.currentTheme.articles.sort((i,s)=>new Date(i.date)>new Date(s.date)?-1:new Date(i.date)<new Date(s.date)?1:0),this.themesService.currentTheme.articles.forEach(i=>{this.usersService.getUserByUid(i.auteur.trim()).subscribe(s=>{s.docs.filter(o=>{i.nomAuteur=o.data().prenom})})})}),this.articles.length>0&&(this.currentArticle=this.articles[0])}getArticlesAValider(){return this.angularFirestore.collection("Articles",e=>e.where("status","==",cn.initial)).get()}valideArticle(e){return this.angularFirestore.collection("Articles").doc(e.id).update({status:cn.valide})}rejeteArticle(e){return this.angularFirestore.collection("Articles").doc(e.id).update({status:cn.rejete})}ChangeCurrentArticle(e){this.currentArticle=e}AddArticleToTheme(e,i){return i.articles.push(e),this.addArticle(e)}updateArticle(e){return console.log(e.id),void 0===e.photo?this.angularFirestore.collection("Articles").doc(e.id).update({titre:e.titre,texte:e.texte,legende:e.legende,date:e.date,idTheme:e.idTheme.trim(),status:e.status}):this.angularFirestore.collection("Articles").doc(e.id).update({titre:e.titre,texte:e.texte,legende:e.legende,date:e.date,idTheme:e.idTheme.trim(),status:e.status,photo:e.photo})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra),r.LFG(pd),r.LFG(_v))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NA=(()=>{class n{constructor(e,i){this.angularFirestore=e,this.usersService=i,this.actualites=[],this.messagesVisiteurs=[],this.actualitesSubject=new le.xQ}emitActualites(){this.actualitesSubject.next(this.actualites)}getActualites(){this.angularFirestore.collection("Actualites",e=>e.where("status","==",cn.visiteur)).get().subscribe(e=>{this.messagesVisiteurs=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.messagesVisiteurs.sort((i,s)=>new Date(i.date)<new Date(s.date)?-1:new Date(i.date)>new Date(s.date)?1:0),this.emitActualites()}),this.angularFirestore.collection("Actualites",e=>e.where("status","==",cn.valide)).get().subscribe(e=>{this.actualites=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.emitActualites()})}getActualitesNonSelect(){return this.angularFirestore.collection("Actualites",e=>e.where("status","==",cn.initial)).get()}getActualite(e){return this.angularFirestore.collection("Actualites").doc(e).get()}AddActualite(e){this.angularFirestore.collection("Actualites").add({auteur:e.auteur,titre:e.titre,sousTitre:e.sousTitre,texte:e.texte,date:e.date,photo:e.photo,status:e.status}).then(()=>{this.getActualites()})}UpdateActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({titre:e.titre,sousTitre:e.sousTitre,texte:e.texte,photo:e.photo}).then(()=>{this.getActualites()})}SupprimeActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({status:cn.supprime}).then(()=>{this.getActualites()})}DesactiveActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({status:cn.initial}).then(()=>{this.getActualites()})}ValideActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({status:cn.valide}).then(()=>{this.getActualites()})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra),r.LFG(pd))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S$(n,t){1&n&&r.Hsn(0)}const S2=["*"];function x$(n,t){}const A$=function(n){return{animationDuration:n}},k$=function(n,t){return{value:n,params:t}},I$=["tabBodyWrapper"],R$=["tabHeader"];function O$(n,t){}function N$(n,t){if(1&n&&r.YNc(0,O$,0,0,"ng-template",9),2&n){const e=r.oxw().$implicit;r.Q6J("cdkPortalOutlet",e.templateLabel)}}function P$(n,t){if(1&n&&r._uU(0),2&n){const e=r.oxw().$implicit;r.Oqu(e.textLabel)}}function F$(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",6),r.NdJ("click",function(){const s=r.CHM(e),o=s.$implicit,u=s.index,h=r.oxw(),m=r.MAs(1);return h._handleClick(o,m,u)})("cdkFocusChange",function(s){const u=r.CHM(e).index;return r.oxw()._tabFocusChanged(s,u)}),r.TgZ(1,"div",7),r.YNc(2,N$,1,1,"ng-template",8),r.YNc(3,P$,1,1,"ng-template",8),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.ekj("mat-tab-label-active",s.selectedIndex==i),r.Q6J("id",s._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||s.disableRipple),r.uIk("tabIndex",s._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),r.xp6(2),r.Q6J("ngIf",e.templateLabel),r.xp6(1),r.Q6J("ngIf",!e.templateLabel)}}function L$(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-tab-body",10),r.NdJ("_onCentered",function(){return r.CHM(e),r.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(s){return r.CHM(e),r.oxw()._setTabBodyWrapperHeight(s)}),r.qZA()}if(2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.ekj("mat-tab-body-active",s.selectedIndex===i),r.Q6J("id",s._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration),r.uIk("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))}}const dH=["tabListContainer"],hH=["tabList"],pH=["nextPaginator"],fH=["previousPaginator"],V$=new r.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let PA=(()=>{class n{constructor(e,i,s,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=s,this._animationMode=o}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const i=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=i.left,s.style.width=i.width}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(V$),r.Y36(Nn,8))},n.\u0275dir=r.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const mH=new r.OlP("MatTabContent"),gH=new r.OlP("MatTabLabel"),H$=Os(class{}),_H=new r.OlP("MAT_TAB_GROUP");let x2=(()=>{class n extends H${constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new le.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new po(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(_H,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,gH,5),r.Suo(s,mH,7,r.Rgc)),2&e){let o;r.iGM(o=r.CRH())&&(i.templateLabel=o.first),r.iGM(o=r.CRH())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&r.Gf(r.Rgc,7),2&e){let s;r.iGM(s=r.CRH())&&(i._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.qOj,r.TTD],ngContentSelectors:S2,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.YNc(0,S$,1,0,"ng-template"))},encapsulation:2}),n})();const Z$={translateTab:Ri("translateTab",[Vt("center, void, left-origin-center, right-origin-center",ze({transform:"none"})),Vt("left",ze({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Vt("right",ze({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),tn("* => left, * => right, left => center, right => center",un("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),tn("void => left-origin-center",[ze({transform:"translate3d(-100%, 0, 0)"}),un("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),tn("void => right-origin-center",[ze({transform:"translate3d(100%, 0, 0)"}),un("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let q$=(()=>{class n extends ri{constructor(e,i,s,o){super(e,i,o),this._host=s,this._centeringSub=Mt.w.EMPTY,this._leavingSub=Mt.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(jt(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36((0,r.Gpc)(()=>bH)),r.Y36(Z))},n.\u0275dir=r.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[r.qOj]}),n})(),Y$=(()=>{class n{constructor(e,i,s){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Mt.w.EMPTY,this._translateTabComplete=new le.xQ,this._onCentering=new r.vpe,this._beforeCentering=new r.vpe,this._afterLeavingCenter=new r.vpe,this._onCentered=new r.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),s.markForCheck()})),this._translateTabComplete.pipe(on((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(mn,8),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),bH=(()=>{class n extends Y${constructor(e,i,s){super(e,i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(mn,8),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&r.Gf(ri,5),2&e){let s;r.iGM(s=r.CRH())&&(i._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[r.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r.NdJ("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),r.YNc(2,x$,0,0,"ng-template",2),r.qZA()),2&e&&r.Q6J("@translateTab",r.WLB(3,k$,i._position,r.VKq(1,A$,i.animationDuration)))},directives:[q$],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Z$.translateTab]}}),n})();const yH=new r.OlP("MAT_TABS_CONFIG");let G$=0;class j${}const z$=ta(to(class{constructor(n){this._elementRef=n}}),"primary");let $$=(()=>{class n extends z${constructor(e,i,s,o){var u;super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new r.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Mt.w.EMPTY,this._tabLabelSubscription=Mt.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.vpe,this.focusChange=new r.vpe,this.animationDone=new r.vpe,this.selectedTabChange=new r.vpe(!0),this._groupId=G$++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=null!==(u=null==s?void 0:s.contentTabIndex)&&void 0!==u?u:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Me(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=qt(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=qt(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,o)=>s.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const i=this._tabs.toArray();for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(jt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new j$;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Sn.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,s){e.disabled||(this.selectedIndex=i.focusIndex=s)}_getTabIndex(e,i){return e.disabled?null:this.selectedIndex===i?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(yH,8),r.Y36(Nn,8))},n.\u0275dir=r.lG2({type:n,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.qOj]}),n})(),vH=(()=>{class n extends $${constructor(e,i,s,o){super(e,i,s,o)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(yH,8),r.Y36(Nn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,x2,5),2&e){let o;r.iGM(o=r.CRH())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(I$,5),r.Gf(R$,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._tabBodyWrapper=s.first),r.iGM(s=r.CRH())&&(i._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r._Bn([{provide:_H,useExisting:n}]),r.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-tab-header",0,1),r.NdJ("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),r.YNc(2,F$,4,14,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.YNc(5,L$,1,9,"mat-tab-body",5),r.qZA()),2&e&&(r.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),r.xp6(2),r.Q6J("ngForOf",i._tabs),r.xp6(1),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),r.xp6(2),r.Q6J("ngForOf",i._tabs))},directives:function(){return[X$,ut,CH,Ns,v_,Ke,ri,bH]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})();const W$=Os(class{});let CH=(()=>{class n extends W${constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(r.uIk("aria-disabled",!!i.disabled),r.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[r.qOj]}),n})();const wH=Ho({passive:!0});let TH=(()=>{class n{constructor(e,i,s,o,u,h,m){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=o,this._ngZone=u,this._platform=h,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new le.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new le.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.vpe,this.indexFocused=new r.vpe,u.runOutsideAngular(()=>{xn(e.nativeElement,"mouseleave").pipe(Pe(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=qt(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){xn(this._previousPaginator.nativeElement,"touchstart",wH).pipe(Pe(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),xn(this._nextPaginator.nativeElement,"touchstart",wH).pipe(Pe(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,Ue.of)("ltr"),i=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new hu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(s):s(),(0,Sn.T)(e,i,this._items.changes).pipe(Pe(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(s)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Pe(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Bn(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=i.elementRef.nativeElement;let h,m;"ltr"==this._getLayoutDirection()?(h=o,m=h+u):(m=this._tabList.nativeElement.offsetWidth-o,h=m-u);const b=this.scrollDistance,C=this.scrollDistance+s;h<b?this.scrollDistance-=b-h+60:m>C&&(this.scrollDistance+=m-C+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Pf(650,100).pipe(Pe((0,Sn.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:o}=this._scrollHeader(e);(0===o||o>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(br),r.Y36(mn,8),r.Y36(r.R0b),r.Y36(xt),r.Y36(Nn,8))},n.\u0275dir=r.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),K$=(()=>{class n extends TH{constructor(e,i,s,o,u,h,m){super(e,i,s,o,u,h,m),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Me(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(br),r.Y36(mn,8),r.Y36(r.R0b),r.Y36(xt),r.Y36(Nn,8))},n.\u0275dir=r.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[r.qOj]}),n})(),X$=(()=>{class n extends K${constructor(e,i,s,o,u,h,m){super(e,i,s,o,u,h,m)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(br),r.Y36(mn,8),r.Y36(r.R0b),r.Y36(xt),r.Y36(Nn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,CH,4),2&e){let o;r.iGM(o=r.CRH())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(PA,7),r.Gf(dH,7),r.Gf(hH,7),r.Gf(pH,5),r.Gf(fH,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._inkBar=s.first),r.iGM(s=r.CRH())&&(i._tabListContainer=s.first),r.iGM(s=r.CRH())&&(i._tabList=s.first),r.iGM(s=r.CRH())&&(i._nextPaginator=s.first),r.iGM(s=r.CRH())&&(i._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.qOj],ngContentSelectors:S2,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),r._UZ(2,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.NdJ("keydown",function(o){return i._handleKeydown(o)}),r.TgZ(5,"div",5,6),r.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),r.TgZ(7,"div",7),r.Hsn(8),r.qZA(),r._UZ(9,"mat-ink-bar"),r.qZA(),r.qZA(),r.TgZ(10,"div",8,9),r.NdJ("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),r._UZ(12,"div",2),r.qZA()),2&e&&(r.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),r.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple),r.xp6(5),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),r.xp6(5),r.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),r.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},directives:[Ns,Af,PA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,tt,Xa,wl,kf,pu],tt]}),n})();class s7{call(t,e){return e.subscribe(new o7(t))}}class o7 extends fb{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const o=mb(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let s=0;s<this.subscriptions.length;s++)if(s!==i){let o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)}}var a7=N(8640);const SH=new En.y(a7.Z);var FA=N(377);function LA(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,gb.n)(n,void 0).lift(new l7(t))}class l7{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new c7(t,this.resultSelector))}}class c7 extends Di.L{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,$l.k)(t)?e.push(new d7(t)):e.push("function"==typeof t[FA.hZ]?new u7(t[FA.hZ]()):new h7(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let u=0;u<e;u++){let h=t[u];if("function"==typeof h.hasValue&&!h.hasValue())return}let s=!1;const o=[];for(let u=0;u<e;u++){let h=t[u],m=h.next();if(h.hasCompleted()&&(s=!0),m.done)return void i.complete();o.push(m.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class u7{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class d7{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[FA.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class h7 extends ni.Ds{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[FA.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,ni.ft)(this.observable,new ni.IY(this))}}function A2(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new f7(n,e))}}class f7{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new m7(t,this.observables,this.project))}}class m7 extends fb{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let o=0;o<s;o++)this.toRespond.push(o);for(let o=0;o<s;o++)this.add(mb(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const s=this.toRespond;if(s.length>0){const o=s.indexOf(i);-1!==o&&s.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}N(3098);var AH=N(8819);const bv=["*"];function S7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li",6),r.NdJ("click",function(){const o=r.CHM(e).$implicit,u=r.oxw();return u.focus(),u.select(o.id,u.NgbSlideEventSource.INDICATOR)}),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw();r.ekj("active",e.id===i.activeId),r.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function x7(n,t){}function A7(n,t){if(1&n&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r.SDv(2,9),r.qZA(),r.YNc(3,x7,0,0,"ng-template",10),r.qZA()),2&n){const e=t.$implicit,i=t.index,s=t.count;r.Q6J("id","slide-"+e.id),r.xp6(2),r.pQV(i+1)(s),r.QtT(2),r.xp6(1),r.Q6J("ngTemplateOutlet",e.tplRef)}}function k7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",11),r.NdJ("click",function(){return r.CHM(e),r.oxw().arrowLeft()}),r._UZ(1,"span",12),r.TgZ(2,"span",8),r.SDv(3,13),r.qZA(),r.qZA()}}function I7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",14),r.NdJ("click",function(){return r.CHM(e),r.oxw().arrowRight()}),r._UZ(1,"span",15),r.TgZ(2,"span",8),r.SDv(3,16),r.qZA(),r.qZA()}}const oW=["dialog"];function Hp(n){return null!=n}function vv(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const RH={animation:!0,transitionTimerDelayMs:5};let rs=(()=>{class n{constructor(){this.animation=RH.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const bJ=()=>{},{transitionTimerDelayMs:yJ}=RH,j1=new Map,Ur=(n,t,e,i)=>{let s=i.context||{};const o=j1.get(t);if(o)switch(i.runningTransition){case"continue":return A.E;case"stop":n.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),j1.delete(t)}const u=e(t,i.animation,s)||bJ;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),(0,Ue.of)(void 0).pipe(function(n){return t=>new En.y(e=>t.subscribe(u=>n.run(()=>e.next(u)),u=>n.run(()=>e.error(u)),()=>n.run(()=>e.complete())))}(n));const h=new le.xQ,m=new le.xQ,b=h.pipe(function(...n){return t=>Wl(t,(0,Ue.of)(...n))}(!0));j1.set(t,{transition$:h,complete:()=>{m.next(),m.complete()},context:s});const C=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const E=xn(t,"transitionend").pipe(Pe(b),gt(({target:k})=>k===t));(function(...n){if(1===n.length){if(!(0,$l.k)(n[0]))return n[0];n=n[0]}return(0,gb.n)(n,void 0).lift(new s7)})(Pf(C+yJ).pipe(Pe(b)),E,m).pipe(Pe(b)).subscribe(()=>{j1.delete(t),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let LH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),BH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),xJ=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(rs))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(rs))},token:n,providedIn:"root"}),n})();var Zp=(()=>(function(n){n.LEFT="left",n.RIGHT="right"}(Zp||(Zp={})),Zp))();const HH=({classList:n})=>n.contains("carousel-item-left")||n.contains("carousel-item-right"),z1=n=>{n.remove("carousel-item-left"),n.remove("carousel-item-right")},UA=n=>{z1(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},AJ=(n,t,{direction:e})=>{const{classList:i}=n;return t?(HH(n)?z1(i):(i.add("carousel-item-"+(e===Zp.LEFT?"next":"prev")),vv(n),i.add("carousel-item-"+e)),()=>{UA(i),i.add("active")}):(z1(i),UA(i),void i.add("active"))},kJ=(n,t,{direction:e})=>{const{classList:i}=n;return t?(HH(n)?z1(i):i.add("carousel-item-"+e),()=>{UA(i),i.remove("active")}):(z1(i),UA(i),void i.remove("active"))};let IJ=0,F2=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+IJ++,this.slid=new r.vpe}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),ZH=(()=>{class n{constructor(e,i,s,o,u){this._platformId=i,this._ngZone=s,this._cd=o,this._container=u,this.NgbSlideEventSource=Cg,this._destroy$=new le.xQ,this._interval$=new ti(0),this._mouseHover$=new ti(!1),this._focused$=new ti(!1),this._pauseOnHover$=new ti(!1),this._pauseOnFocus$=new ti(!1),this._pause$=new ti(!1),this._wrap$=new ti(!1),this.slide=new r.vpe,this.slid=new r.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Cg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Cg.ARROW_RIGHT)}ngAfterContentInit(){Hc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=tm([this.slide.pipe((0,g.U)(i=>i.current),jt(this.activeId)),this._wrap$,this.slides.changes.pipe(jt(null))]).pipe((0,g.U)(([i,s])=>{const o=this.slides.toArray(),u=this._getSlideIdxById(i);return s?o.length>1:u<o.length-1}),on());tm([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,g.U)(([i,s,o,u,h,m,b])=>i||s&&o||u&&h||!b?0:m),on(),fn(i=>i>0?Pf(i,i):SH),Pe(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Cg.TIMER)))}),this.slides.changes.pipe(Pe(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(i=>(n=>{var t;null===(t=j1.get(n))||void 0===t||t.complete()})(this._getSlideElement(i))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(R(1)).subscribe(()=>{for(const{id:i}of this.slides){const s=this._getSlideElement(i);i===this.activeId?s.classList.add("active"):s.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Zp.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Zp.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,s){const o=this._transitionIds;if(o&&(o[0]!==e||o[1]!==this.activeId))return;let u=this._getSlideById(e);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:u.id,direction:i,paused:this._pause$.value,source:s});const h={animation:this.animation,runningTransition:"stop",context:{direction:i}},m=[],b=this._getSlideById(this.activeId);if(b){const k=Ur(this._ngZone,this._getSlideElement(b.id),kJ,h);k.subscribe(()=>{b.slid.emit({isShown:!1,direction:i,source:s})}),m.push(k)}const C=this.activeId;this.activeId=u.id;const E=this._getSlideById(this.activeId),x=Ur(this._ngZone,this._getSlideElement(u.id),AJ,h);x.subscribe(()=>{null==E||E.slid.emit({isShown:!0,direction:i,source:s})}),m.push(x),LA(...m).pipe(R(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:C,current:u.id,direction:i,paused:this._pause$.value,source:s})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?Zp.RIGHT:Zp.LEFT}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return s===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[s+1].id}_getPrevSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return 0===s?this.wrap?i[i.length-1].id:i[0].id:i[s-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xJ),r.Y36(r.Lbi),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(r.SBq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,F2,4),2&e){let o;r.iGM(o=r.CRH())&&(i.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&r.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(r.uIk("aria-activedescendant","slide-"+i.activeId),r.Udp("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let t,e,i;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-numbera65b1b49aa7dd8c4f3004da6a8c2241814dae621783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,i=$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],t,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(r.TgZ(0,"ol",0),r.YNc(1,S7,1,5,"li",1),r.qZA(),r.TgZ(2,"div",2),r.YNc(3,A7,4,4,"div",3),r.qZA(),r.YNc(4,k7,4,0,"a",4),r.YNc(5,I7,4,0,"a",5)),2&e&&(r.ekj("sr-only",!i.showNavigationIndicators),r.xp6(1),r.Q6J("ngForOf",i.slides),r.xp6(2),r.Q6J("ngForOf",i.slides),r.xp6(1),r.Q6J("ngIf",i.showNavigationArrows),r.xp6(1),r.Q6J("ngIf",i.showNavigationArrows))},directives:[ut,Ke,vi],encapsulation:2,changeDetection:0}),n})();var Cg=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Cg||(Cg={})),Cg))();let qH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),YH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var nn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(nn||(nn={})),nn))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const WH=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JH(n){const t=Array.from(n.querySelectorAll(WH)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(s=this.offset(o,!1)),s.top+=o.clientTop,s.left+=o.clientLeft}return i.top-=s.top,i.bottom-=s.top,i.left-=s.left,i.right-=s.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),s_top=window.pageYOffset-document.documentElement.clientTop,s_left=window.pageXOffset-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+s_top,bottom:i.bottom+s_top,left:i.left+s_left,right:i.right+s_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,s){const[o="top",u="center"]=i.split("-"),h=s?this.offset(t,!1):this.position(t,!1),m=this.getAllStyles(e),b=parseFloat(m.marginTop),C=parseFloat(m.marginBottom),E=parseFloat(m.marginLeft),x=parseFloat(m.marginRight);let k=0,P=0;switch(o){case"top":k=h.top-(e.offsetHeight+b+C);break;case"bottom":k=h.top+h.height;break;case"left":P=h.left-(e.offsetWidth+E+x);break;case"right":P=h.left+h.width}switch(u){case"top":k=h.top;break;case"bottom":k=h.top+h.height-e.offsetHeight;break;case"left":P=h.left;break;case"right":P=h.left+h.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?P=h.left+h.width/2-e.offsetWidth/2:k=h.top+h.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(P)}px, ${Math.round(k)}px)`;const Y=e.getBoundingClientRect(),X=document.documentElement,xe=window.innerHeight||X.clientHeight,Ne=window.innerWidth||X.clientWidth;return Y.left>=0&&Y.top>=0&&Y.right<=Ne&&Y.bottom<=xe}},new Date(1882,10,12),new Date(2174,10,25);let oZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,MR]]}),n})(),uZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),dZ=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(rs))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(rs))},token:n,providedIn:"root"}),n})();class Mg{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const m9=()=>{};let hZ=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):m9}_adjustBody(e){const i=this._document.body,s=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=s}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const s=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),s}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z))},token:n,providedIn:"root"}),n})(),g9=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(R(1)).subscribe(()=>{Ur(this._zone,this._el.nativeElement,(e,i)=>{i&&vv(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ur(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(r.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),r.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class pZ{close(t){}dismiss(t){}}class _9{constructor(t,e,i,s){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new le.xQ,this._dismissed=new le.xQ,this._hidden=new le.xQ,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Pe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Pe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ue.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),LA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var K1=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(K1||(K1={})),K1))();let b9=(()=>{class n{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new le.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new le.xQ,this.hidden=new le.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(R(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=LA(Ur(this._zone,e,()=>e.classList.remove("show"),i),Ur(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};LA(Ur(this._zone,this._elRef.nativeElement,(o,u)=>{u&&vv(o),o.classList.add("show")},e),Ur(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{xn(e,"keydown").pipe(Pe(this._closed$),gt(s=>s.which===nn.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(K1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;xn(this._dialogEl.nativeElement,"mousedown").pipe(Pe(this._closed$),(0,qn.b)(()=>i=!1),fn(()=>xn(e,"mouseup").pipe(Pe(this._closed$),R(1))),gt(({target:s})=>e===s)).subscribe(()=>{i=!0}),xn(e,"click").pipe(Pe(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(K1.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=JH(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ur(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Z),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&r.Gf(oW,7),2&e){let s;r.iGM(s=r.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),r.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),r.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:bv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&e&&r.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),fZ=(()=>{class n{constructor(e,i,s,o,u,h){this._applicationRef=e,this._injector=i,this._document=s,this._scrollBar=o,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new le.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const s=xn(t,"focusin").pipe(Pe(e),(0,g.U)(o=>o.target));xn(t,"keydown").pipe(Pe(e),gt(o=>o.which===nn.Tab),A2(s)).subscribe(([o,u])=>{const[h,m]=JH(t);(u===h||u===t)&&o.shiftKey&&(m.focus(),o.preventDefault()),u===m&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&xn(t,"click").pipe(Pe(e),A2(s),(0,g.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}open(e,i,s,o){const u=o.container instanceof HTMLElement?o.container:Hp(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null),m=this._scrollBar.compensate(),b=()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const C=new pZ,E=this._getContentRef(e,o.injector||i,s,C,o);let x=!1!==o.backdrop?this._attachBackdrop(e,u):void 0,k=this._attachWindowComponent(e,u,E),P=new _9(k,E,x,o.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(k),P.result.then(m,m),P.result.then(b,b),C.close=Y=>{P.close(Y)},C.dismiss=Y=>{P.dismiss(Y)},this._applyWindowOptions(k.instance,o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),x&&x.instance&&(this._applyBackdropOptions(x.instance,o),x.changeDetectorRef.detectChanges()),k.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(g9).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,s){let u=e.resolveComponentFactory(b9).create(this._injector,s.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(e,i){this._windowAttributes.forEach(s=>{Hp(i[s])&&(e[s]=i[s])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(s=>{Hp(i[s])&&(e[s]=i[s])})}_getContentRef(e,i,s,o,u){return s?s instanceof r.Rgc?this._createFromTemplateRef(s,o):function(n){return"string"==typeof n}(s)?this._createFromString(s):this._createFromComponent(e,i,s,o,u):new Mg([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new Mg([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Mg([[i]])}_createFromComponent(e,i,s,o,u){const h=e.resolveComponentFactory(s),m=r.zs3.create({providers:[{provide:pZ,useValue:o}],parent:i}),b=h.create(m),C=b.location.nativeElement;return u.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Mg([[C]],b.hostView,b)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(Z),r.LFG(hZ),r.LFG(r.FYo),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.z2F),r.LFG(r.gxx),r.LFG(Z),r.LFG(hZ),r.LFG(r.FYo),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})(),y9=(()=>{class n{constructor(e,i,s,o){this._moduleCFR=e,this._injector=i,this._modalStack=s,this._config=o}open(e,i={}){const s=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(fZ),r.LFG(dZ))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r._Vd),r.LFG(r.gxx),r.LFG(fZ),r.LFG(dZ))},token:n,providedIn:"root"}),n})(),mZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[y9]}),n})(),yZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),kZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),IZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),RZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),FZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),LZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})(),BZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let HZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t]]}),n})();const nQ=[LH,BH,UH,qH,YH,oZ,uZ,mZ,yZ,SZ,kZ,IZ,RZ,FZ,LZ,BZ,HZ];let iQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[nQ,LH,BH,UH,qH,YH,oZ,uZ,mZ,yZ,SZ,kZ,IZ,RZ,FZ,LZ,BZ,HZ]}),n})();const ZZ=["*"],qZ=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class oQ{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new aQ(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class aQ{constructor(t,e){this.row=t,this.col=e}}const YZ=new r.OlP("MAT_GRID_LIST");let $2=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(qt(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(qt(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(YZ,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&r.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:ZZ,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},styles:[qZ],encapsulation:2,changeDetection:0}),n})();const lQ=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class W2{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,s){this._gutterSize=GZ(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=s}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Eg(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let s=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,s,o),this.setRowStyles(t,e,s,o)}setColStyles(t,e,i,s){let o=this.getBaseTileSize(i,s);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Eg(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class cQ extends W2{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,s){super.init(t,e,i,s),this.fixedRowHeight=GZ(this.fixedRowHeight),lQ.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Eg(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Eg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class uQ extends W2{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,s){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,s),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Eg(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Eg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class dQ extends W2{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Eg(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Eg(n){return`calc(${n})`}function GZ(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let J2=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(qt(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new dQ:e&&e.indexOf(":")>-1?new uQ(e):new cQ(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new oQ);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,s),i.forEach((o,u)=>{const h=e.positions[u];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(mn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,$2,5),2&e){let o;r.iGM(o=r.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[r._Bn([{provide:YZ,useExisting:n}])],ngContentSelectors:ZZ,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div"),r.Hsn(1),r.qZA())},styles:[qZ],encapsulation:2,changeDetection:0}),n})(),pQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[xA,tt],xA,tt]}),n})();const fQ=["*",[["mat-card-footer"]]],mQ=["*","mat-card-footer"],gQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_Q=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let md=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Tv=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),El=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Nn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:mQ,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(fQ),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:_Q,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(r.F$t(gQ),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),vQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt],tt]}),n})();const jZ=["mat-button",""],zZ=["*"],wQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],DQ=ta(Os(to(class{constructor(n){this._elementRef=n}})));let Gn=(()=>{class n extends DQ{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of wQ)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Xn),r.Y36(Nn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&r.Gf(Ns,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:jZ,ngContentSelectors:zZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),r.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ns],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wl,tt],tt]}),n})();const TQ=["ngcarousel"];function MQ(n,t){if(1&n&&(r.TgZ(0,"div",15),r._UZ(1,"img",16),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.s9C("src",e.path,r.LSH)}}function EQ(n,t){1&n&&r.YNc(0,MQ,2,1,"ng-template",14)}function SQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card",18),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-content"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(4),r.Oqu(e.titre),r.xp6(3),r.hij("                ",e.sousTitre,"\n              "),r.xp6(3),r.hij("                ",e.texte,"\n              ")}}function xQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-list",17),r.YNc(1,SQ,11,3,"mat-grid-tile",7),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.actualitesService.messagesVisiteurs)}}function AQ(n,t){if(1&n&&r._UZ(0,"img",20),2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo,r.LSH)}}function kQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card",18),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.YNc(8,AQ,1,1,"img",19),r.TgZ(9,"mat-card-content"),r.TgZ(10,"pre"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(4),r.Oqu(e.titre),r.xp6(3),r.hij("                ",e.sousTitre,"\n              "),r.xp6(1),r.Q6J("ngIf",e.photo),r.xp6(3),r.hij("                ",e.texte,"\n              ")}}function IQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-list",17),r.YNc(1,kQ,12,4,"mat-grid-tile",7),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.actualitesService.actualites)}}function RQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function OQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function NQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function PQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}function FQ(n,t){if(1&n&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("                ",e.listeEleves.substring(0,300)," ...\n              ")}}function LQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"img",24),r.TgZ(8,"mat-card-content"),r.YNc(9,FQ,2,1,"pre",23),r.TgZ(10,"p"),r._uU(11,"Photo \xe0 voir dans la rubrique Photos de classes"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(4),r.Oqu(e.annee),r.xp6(2),r.Oqu(e.titre),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(2),r.Q6J("ngIf",e.listeEleves)}}function BQ(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,LQ,12,4,"mat-grid-tile",23),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.photoCourante&&e<i.photoCourante+i.pasPhotos)}}function VQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function UQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function HQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function ZQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}function qQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementeArticle()}),r._uU(1,"<<"),r.qZA()}}function YQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function GQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementeArticle()}),r._uU(1,">>"),r.qZA()}}function jQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}function zQ(n,t){if(1&n&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("                  ",e.texte.substring(0,300)," ...\n                ")}}function $Q(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"img",25),r.TgZ(8,"mat-card-content"),r.YNc(9,zQ,2,1,"pre",23),r.TgZ(10,"p"),r._uU(11,"Article \xe0 lire dans les rubriques Articles"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(4),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.legende),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(2),r.Q6J("ngIf",e.texte)}}function WQ(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,$Q,12,4,"mat-grid-tile",23),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.articleCourant&&e<i.articleCourant+i.pasArticles)}}function JQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementeArticle()}),r._uU(1,"<<"),r.qZA()}}function QQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function KQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementeArticle()}),r._uU(1,">>"),r.qZA()}}function XQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}let eK=(()=>{class n{constructor(e,i,s,o,u){this.photosService=e,this.articlesService=i,this.actualitesService=s,this.authService=o,this.globalService=u,this.photos=[],this.articleCourant=0,this.photoCourante=0,this.pasPhotos=4,this.pasArticles=4,this.pageCourantePhoto=1,this.pageCouranteArticle=1,this.nbPagesPhotos=0,this.nbPagesArticles=0,this.isConnected=!1,this.articlesService.getArticles(),this.photosService.getPhotos(),this.authSubscription=this.authService.authSubject.subscribe(h=>{this.isConnected=h&&"Visiteur"!=h.email}),this.authService.emitUserChanged(),this.photosSubscription=this.photosService.photoSubject.subscribe(h=>{this.photos=h,this.nbPagesPhotos=Math.ceil(h.length/this.pasPhotos)}),this.photosCarouselSubscription=this.photosService.photosCarouselSubject.subscribe(h=>{}),this.photosService.getPhotosCarousel(),this.articlesSubscription=this.articlesService.articlesSubject.subscribe(h=>{this.nbPagesArticles=Math.ceil(this.articlesService.articles.length/this.pasArticles)}),this.articlesService.emitArticles(),this.actualitesSubscription=this.actualitesService.actualitesSubject.subscribe(h=>{}),this.actualitesService.getActualites()}ngOnInit(){}ngOnDestroy(){var e;this.globalService.finDeVue(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe(),null!=this.articlesSubscription&&this.articlesSubscription.unsubscribe(),null!=this.actualitesSubscription&&this.actualitesSubscription.unsubscribe(),null!=this.photosCarouselSubscription&&(null===(e=this.photosSubscription)||void 0===e||e.unsubscribe()),null!=this.authSubscription&&this.authSubscription.unsubscribe()}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onIncrementePhoto(){this.photoCourante+=this.pasArticles,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onDecrementeArticle(){this.articleCourant-=this.pasArticles,this.pageCouranteArticle=Math.ceil(this.articleCourant/this.pasArticles)+1}onIncrementeArticle(){this.articleCourant+=this.pasArticles,this.pageCouranteArticle=Math.ceil(this.articleCourant/this.pasArticles)+1}prevSlide(){this.ngCarousel.prev()}nextSlide(){this.ngCarousel.next()}stopSlider(){this.ngCarousel.pause()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Oc),r.Y36(fd),r.Y36(NA),r.Y36(ar),r.Y36(na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-accueil"]],viewQuery:function(e,i){if(1&e&&r.Gf(TQ,7),2&e){let s;r.iGM(s=r.CRH())&&(i.ngCarousel=s.first)}},decls:46,vars:42,consts:[["label","Accueil"],[2,"height","43%",3,"cellSpacing","cellPadding"],[1,"texte-entete",3,"width"],["src","../../assets/images/blason/blason.gif","alt","","height","250",2,"align-items","center"],[3,"width","height"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard","pauseOnHover","wrap","activeId"],["ngCarousel",""],[4,"ngFor","ngForOf"],["cols","3",4,"ngIf"],["label","Photos de classes"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],["label","Articles sur Mori\xe8res"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","",2,"width","600px",3,"src"],["cols","3"],["fxFlex","20",1,"card"],["mat-card-image","","class","img",3,"src",4,"ngIf"],["mat-card-image","",1,"img",3,"src"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-image","","alt","Photo de classe",3,"src"],["mat-card-image","","alt","Photo",3,"src"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-tab-group"),r.TgZ(1,"mat-tab",0),r.TgZ(2,"table",1),r.TgZ(3,"tr"),r.TgZ(4,"td",2),r._UZ(5,"img",3),r.qZA(),r.TgZ(6,"td",2),r._uU(7," M\xe9moire Mori\xe9roise "),r._UZ(8,"br"),r._uU(9," Association r\xe9gie par la loi de 1901 "),r._UZ(10,"br"),r._uU(11," 1375 route de Gadagne "),r._UZ(12,"br"),r._uU(13," 84310 Mori\xe8res les Avignon "),r.qZA(),r.TgZ(14,"td",4),r.TgZ(15,"ngb-carousel",5,6),r.YNc(17,EQ,1,0,void 0,7),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(18,xQ,2,1,"mat-grid-list",8),r.YNc(19,IQ,2,1,"mat-grid-list",8),r.qZA(),r.TgZ(20,"mat-tab",9),r.YNc(21,RQ,2,0,"button",10),r.YNc(22,OQ,2,0,"button",11),r._uU(23),r.YNc(24,NQ,2,0,"button",10),r.YNc(25,PQ,2,0,"button",11),r.TgZ(26,"mat-grid-list",12),r.YNc(27,BQ,2,1,"div",7),r.qZA(),r.YNc(28,VQ,2,0,"button",10),r.YNc(29,UQ,2,0,"button",11),r._uU(30),r.YNc(31,HQ,2,0,"button",10),r.YNc(32,ZQ,2,0,"button",11),r.qZA(),r.TgZ(33,"mat-tab",13),r.YNc(34,qQ,2,0,"button",10),r.YNc(35,YQ,2,0,"button",11),r._uU(36),r.YNc(37,GQ,2,0,"button",10),r.YNc(38,jQ,2,0,"button",11),r.TgZ(39,"mat-grid-list",12),r.YNc(40,WQ,2,1,"div",7),r.qZA(),r.YNc(41,JQ,2,0,"button",10),r.YNc(42,QQ,2,0,"button",11),r._uU(43),r.YNc(44,KQ,2,0,"button",10),r.YNc(45,XQ,2,0,"button",11),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("cellSpacing",0)("cellPadding",30),r.xp6(2),r.Q6J("width",300),r.xp6(2),r.Q6J("width",300),r.xp6(8),r.Q6J("width",700)("height",600),r.xp6(1),r.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!1)("interval",3e3)("keyboard",!1)("pauseOnHover",!0)("wrap",!0)("activeId","1"),r.xp6(2),r.Q6J("ngForOf",i.photosService.photosCarousel),r.xp6(1),r.Q6J("ngIf",!i.isConnected),r.xp6(1),r.Q6J("ngIf",i.isConnected),r.xp6(2),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE(" Page ",i.pageCourantePhoto," sur ",i.nbPagesPhotos," "),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos),r.xp6(2),r.Q6J("ngForOf",i.photosService.photos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE(" Page ",i.pageCourantePhoto," sur ",i.nbPagesPhotos," "),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos),r.xp6(2),r.Q6J("ngIf",i.pageCouranteArticle>1),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<=1),r.xp6(1),r.AsE(" Page ",i.pageCouranteArticle," sur ",i.nbPagesArticles," "),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<i.nbPagesArticles),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle>=i.nbPagesArticles),r.xp6(2),r.Q6J("ngForOf",i.articlesService.articles),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle>1),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<=1),r.xp6(1),r.AsE(" Page ",i.pageCouranteArticle," sur ",i.nbPagesArticles," "),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<i.nbPagesArticles),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle>=i.nbPagesArticles))},directives:[vH,x2,ZH,ut,Ke,J2,F2,$2,El,eD,Ml,gd,md,X1,Gn],styles:[".card[_ngcontent-%COMP%]{background-color:#313131;height:100%}.img[_ngcontent-%COMP%]{object-fit:fill;height:40%;max-height:40%;max-width:60%}mat-grid-tile[_ngcontent-%COMP%]{margin:20px}mat-grid-list[_ngcontent-%COMP%]{max-width:97%;vertical-align:top}.header-image[_ngcontent-%COMP%]{vertical-align:top}button[_ngcontent-%COMP%]{font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:50px}pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;font-size:1.6vh;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}"]}),n})();const WZ="firebasestorage.googleapis.com",JZ="storageBucket";class cr extends Bt.ZR{constructor(t,e){super(Q2(t),`Firebase Storage: ${e} (${Q2(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}_codeEquals(t){return Q2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Q2(n){return"storage/"+n}function K2(){return new cr("unknown","An unknown error occurred, please check the error payload for server response.")}function QZ(){return new cr("canceled","User canceled the upload/download.")}function KZ(){return new cr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mv(n){return new cr("invalid-argument",n)}function XZ(){return new cr("app-deleted","The Firebase app was deleted.")}function eq(n){return new cr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nD(n,t){return new cr("invalid-format","String does not match format '"+n+"': "+t)}function iD(n){throw new cr("internal-error","Internal error: "+n)}class Ps{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ps.makeFromUrl(t,e)}catch(s){return new Ps(t,"")}if(""===i.path)return i;throw function(n){return new cr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+s+"(/(.*))?$","i");function b(je){je.path_=decodeURIComponent(je.path)}const E=e.replace(/[.]/g,"\\."),Fe=[{regex:h,indices:{bucket:1,path:3},postModify:function(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===WZ?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let je=0;je<Fe.length;je++){const _n=Fe[je],Ni=_n.regex.exec(t);if(Ni){let Pi=Ni[_n.indices.path];Pi||(Pi=""),i=new Ps(Ni[_n.indices.bucket],Pi),_n.postModify(i);break}}if(null==i)throw function(n){return new cr("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class fK{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function JA(n){return"string"==typeof n||n instanceof String}function tq(n){return X2()&&n instanceof Blob}function X2(){return"undefined"!=typeof Blob}function eL(n,t,e,i){if(i<t)throw Mv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Mv(`Invalid value for '${n}'. Expected ${e} or less.`)}function _d(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function nq(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var qp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(qp||(qp={})),qp))();class vK{constructor(t,e,i,s,o,u,h,m,b,C,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=b,this.progressCallback_=C,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(i,s)=>{const o=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function(n){return void 0!==n}(m)?o():o(m)}catch(m){u(m)}else if(null!==h){const m=K2();m.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,m):m)}else u(s.canceled?this.appDelete_?XZ():QZ():new cr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new QA(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,s=null,o=null,u=!1,h=0;function m(){return 2===h}let b=!1;function C(...X){b||(b=!0,t.apply(null,X))}function E(X){s=setTimeout(()=>{s=null,n(k,m())},X)}function x(){o&&clearTimeout(o)}function k(X,...xe){if(b)return void x();if(X)return x(),void C.call(null,X,...xe);if(m()||u)return x(),void C.call(null,X,...xe);let Fe;i<64&&(i*=2),1===h?(h=2,Fe=0):Fe=1e3*(i+Math.random()),E(Fe)}let P=!1;function Y(X){P||(P=!0,x(),!b&&(null!==s?(X||(h=2),clearTimeout(s),E(0)):X||(h=1)))}return E(0),o=setTimeout(()=>{u=!0,Y(!0)},e),Y}((i,s)=>{if(s)return void i(!1,new QA(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===qp.NO_ERROR,m=o.getStatus();if(!h||this.isRetryStatusCode_(m)){const C=o.getErrorCode()===qp.ABORT;return void i(!1,new QA(!1,null,C))}const b=-1!==this.successCodes_.indexOf(m);i(!0,new QA(b,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,s=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||s||o}}class QA{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function SK(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(X2())return new Blob(n);throw new cr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ia={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tL{constructor(t,e){this.data=t,this.contentType=e||null}}function nL(n,t){switch(n){case ia.RAW:return new tL(iq(t));case ia.BASE64:case ia.BASE64URL:return new tL(rq(n,t));case ia.DATA_URL:return new tL(function(n){const t=new sq(n);return t.base64?rq(ia.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw nD(ia.DATA_URL,"Malformed data URL.")}return iq(t)}(t.rest)}(t),function(n){return new sq(n).contentType}(t))}throw K2()}function iq(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function rq(n,t){switch(n){case ia.BASE64:{const s=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(s||o)throw nD(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ia.BASE64URL:{const s=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(s||o)throw nD(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(s){throw nD(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}class sq{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw nD(ia.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class Nc{constructor(t,e){let i=0,s="";tq(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(tq(this.data_)){const s=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===s?null:new Nc(s)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Nc(i,!0)}}static getBlob(...t){if(X2()){const e=t.map(i=>i instanceof Nc?i.data_:i);return new Nc(SK.apply(null,e))}{const e=t.map(u=>JA(u)?nL(ia.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)s[o++]=u[h]}),new Nc(s,!0)}}uploadData(){return this.data_}}function iL(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function oq(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function FK(n,t){return t}class io{constructor(t,e,i,s){this.server=t,this.local=e||t,this.writable=!!i,this.xform=s||FK}}let KA=null;function rD(){if(KA)return KA;const n=[];n.push(new io("bucket")),n.push(new io("generation")),n.push(new io("metageneration")),n.push(new io("name","fullPath",!0));const e=new io("name");e.xform=function(o,u){return function(n){return!JA(n)||n.length<2?n:oq(n)}(u)},n.push(e);const s=new io("size");return s.xform=function(o,u){return void 0!==u?Number(u):u},n.push(s),n.push(new io("timeCreated")),n.push(new io("updated")),n.push(new io("md5Hash",null,!0)),n.push(new io("cacheControl",null,!0)),n.push(new io("contentDisposition",null,!0)),n.push(new io("contentEncoding",null,!0)),n.push(new io("contentLanguage",null,!0)),n.push(new io("contentType",null,!0)),n.push(new io("metadata","customMetadata",!0)),KA=n,KA}function aq(n,t,e){const i=iL(t);return null===i?null:function(n,t,e){const i={type:"file"},s=e.length;for(let o=0;o<s;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const o=new Ps(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function rL(n,t){const e={},i=t.length;for(let s=0;s<i;s++){const o=t[s];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const lq="prefixes";class Pc{constructor(t,e,i,s){this.url=t,this.method=e,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fc(n){if(!n)throw K2()}function XA(n,t){return function(i,s){const o=aq(n,s,t);return Fc(null!==o),o}}function Ev(n){return function(e,i){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new cr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new cr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new cr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new cr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,s.serverResponse=i.serverResponse,s}}function sD(n){const t=Ev(n);return function(i,s){let o=t(i,s);return 404===i.getStatus()&&(o=function(n){return new cr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=s.serverResponse,o}}function uq(n,t,e){const s=_d(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Pc(s,"GET",XA(n,e),u);return h.errorHandler=sD(t),h}function GK(n,t,e,i,s){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),s&&(o.maxResults=s);const h=_d(t.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,C=new Pc(h,"GET",function(n,t){return function(i,s){const o=function(n,t,e){const i=iL(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[lq])for(const s of e[lq]){const o=s.replace(/\/$/,""),u=n._makeStorageReference(new Ps(t,o));i.prefixes.push(u)}if(e.items)for(const s of e.items){const o=n._makeStorageReference(new Ps(t,s.name));i.items.push(o)}return i}(n,t,i)}(n,t,s);return Fc(null!==o),o}}(n,t.bucket),b);return C.urlParams=o,C.errorHandler=Ev(t),C}function hq(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class ek{constructor(t,e,i,s){this.current=t,this.total=e,this.finalized=!!i,this.metadata=s||null}}function sL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){Fc(!1)}return Fc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const XK={STATE_CHANGED:"state_changed"},ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oL(n){switch(n){case"running":case"pausing":case"canceling":return ro.RUNNING;case"paused":return ro.PAUSED;case"success":return ro.SUCCESS;case"canceled":return ro.CANCELED;case"error":default:return ro.ERROR}}class eX{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Sv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class nX extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,s){if(this.sent_)throw iD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==s)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw iD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Sl(){return new nX}class gq{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=rD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,s){const o=t.bucketOnlyServerUrl(),u=hq(t,i,s),h={name:u.fullPath},m=_d(o,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},E=rL(u,e),P=new Pc(m,"POST",function(Y){let X;sL(Y);try{X=Y.getResponseHeader("X-Goog-Upload-URL")}catch(xe){Fc(!1)}return Fc(JA(X)),X},n.maxUploadRetryTime);return P.urlParams=h,P.headers=C,P.body=E,P.errorHandler=Ev(t),P}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Sl,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const s=function(n,t,e,i){const m=new Pc(e,"POST",function(b){const C=sL(b,["active","final"]);let E=null;try{E=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(k){Fc(!1)}E||Fc(!1);const x=Number(E);return Fc(!isNaN(x)),new ek(x,i.size(),"final"===C)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Ev(t),m}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(s,Sl,e,i);this._request=o,o.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new ek(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let u;try{u=function(n,t,e,i,s,o,u,h){const m=new ek(0,0);if(u?(m.current=u.current,m.total=u.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw new cr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const b=m.total-m.current;let C=b;s>0&&(C=Math.min(C,s));const E=m.current,P={"X-Goog-Upload-Command":C===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${m.current}`},Y=i.slice(E,E+C);if(null===Y)throw KZ();const Fe=new Pc(e,"POST",function(je,_n){const Ni=sL(je,["active","final"]),yi=m.current+C,Pi=i.size();let sa;return sa="final"===Ni?XA(t,o)(je,_n):null,new ek(yi,Pi,"final"===Ni,sa)},t.maxUploadRetryTime);return Fe.headers=P,Fe.body=Y.uploadData(),Fe.progressCallback=h||null,Fe.errorHandler=Ev(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Sl,s,o);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=uq(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,Sl,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,s){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},m=function(){let Fe="";for(let je=0;je<2;je++)Fe+=Math.random().toString().slice(2);return Fe}();u["Content-Type"]="multipart/related; boundary="+m;const b=hq(t,i,s),C=rL(b,e),k=Nc.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+m+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===k)throw KZ();const P={name:b.fullPath},Y=_d(o,n.host,n._protocol),xe=n.maxUploadRetryTime,Ne=new Pc(Y,"POST",XA(n,e),xe);return Ne.urlParams=P,Ne.headers=u,Ne.body=k.uploadData(),Ne.errorHandler=Ev(t),Ne}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Sl,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=QZ(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=oL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,s){const o=new eX(e||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(oL(this._state)){case ro.SUCCESS:Sv(this._resolve.bind(null,this.snapshot))();break;case ro.CANCELED:case ro.ERROR:Sv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(oL(this._state)){case ro.RUNNING:case ro.PAUSED:t.next&&Sv(t.next.bind(t,this.snapshot))();break;case ro.SUCCESS:t.complete&&Sv(t.complete.bind(t))();break;case ro.CANCELED:case ro.ERROR:t.error&&Sv(t.error.bind(t,this._error))();break;default:t.error&&Sv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Sg{constructor(t,e){this._service=t,this._location=e instanceof Ps?e:Ps.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Sg(t,e)}get root(){const t=new Ps(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oq(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ps(this._location.bucket,t);return new Sg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw eq(t)}}function bq(n,t,e){return aL.apply(this,arguments)}function aL(){return(aL=(0,ve.Z)(function*(n,t,e){const s=yield yq(n,{pageToken:e});t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&(yield bq(n,t,s.nextPageToken))})).apply(this,arguments)}function yq(n,t){null!=t&&"number"==typeof t.maxResults&&eL("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=GK(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Sl)}function fX(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const s=_d(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Pc(s,"GET",function(n,t){return function(i,s){const o=aq(n,s,t);return Fc(null!==o),function(n,t,e,i){const s=iL(t);if(null===s||!JA(s.downloadTokens))return null;const o=s.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(b=>{const E=n.fullPath;return _d("/b/"+u(n.bucket)+"/o/"+u(E),e,i)+nq({alt:"media",token:b})})[0]}(o,s,n.host,n._protocol)}}(n,e),u);return h.errorHandler=sD(t),h}(n.storage,n._location,rD());return n.storage.makeRequestWithTokens(t,Sl).then(e=>{if(null===e)throw new cr("no-download-url","The given file does not have any download URLs.");return e})}function vq(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ps(n._location.bucket,e);return new Sg(n.storage,i)}function Cq(n,t){if(n instanceof lL){const e=n;if(null==e._bucket)throw new cr("no-default-bucket","No default bucket found. Did you set the '"+JZ+"' property when initializing the app?");const i=new Sg(e,e._bucket);return null!=t?Cq(i,t):i}return void 0!==t?vq(n,t):n}function bX(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof lL)return function(n,t){return new Sg(n,t)}(n,t);throw Mv("To use ref(service, url), the first argument must be a Storage instance.")}return Cq(n,t)}function wq(n,t){const e=null==t?void 0:t[JZ];return null==e?null:Ps.makeFromBucketSpec(e,n)}class lL{constructor(t,e,i,s,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=WZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Ps.makeFromBucketSpec(s,this._host):wq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ps.makeFromBucketSpec(this._url,t):wq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){eL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){eL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ve.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ve.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Sg(this,t)}_makeRequest(t,e,i,s){if(this._deleted)return new fK(XZ());{const o=function(n,t,e,i,s,o){const u=nq(n.urlParams),h=n.url+u,m=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(m,o),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,i),new vK(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(t,this._appId,i,s,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ve.Z)(function*(){const[s,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,s,o).getPromise()})()}}const Dq="@firebase/storage";function Eq(n,t){return bX(n=(0,Bt.m9)(n),t)}(0,mc._registerComponent)(new Wb.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new lL(e,i,s,t,mc.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(Dq,"0.9.2",""),(0,mc.registerVersion)(Dq,"0.9.2","esm2017");class tk{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Sq{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new tk(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new tk(i,this,this._ref))},e)}on(t,e,i,s){let o;return e&&(o="function"==typeof e?u=>e(new tk(u,this,this._ref)):{next:e.next?u=>e.next(new tk(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,s||void 0)}}class xq{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new bd(t,this._service))}get items(){return this._delegate.items.map(t=>new bd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return vq(n,t)}(this._delegate,t);return new bd(e,this.storage)}get root(){return new bd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new bd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Sq(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new gq(n,new Nc(t),e)}(n=(0,Bt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ia.RAW,i){this._throwIfRoot("putString");const s=nL(e,t),o=Object.assign({},i);return null==o.contentType&&null!=s.contentType&&(o.contentType=s.contentType),new Sq(new gq(this._delegate,new Nc(s.data,!0),o),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return bq(n,t).then(()=>t)}(n=(0,Bt.m9)(n))}(this._delegate).then(t=>new xq(t,this.storage))}list(t){return function(n,t){return yq(n=(0,Bt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new xq(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=uq(n.storage,n._location,rD());return n.storage.makeRequestWithTokens(t,Sl)}(n=(0,Bt.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const o=_d(t.fullServerUrl(),n.host,n._protocol),h=rL(e,i),b=n.maxOperationRetryTime,C=new Pc(o,"PATCH",XA(n,i),b);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=h,C.errorHandler=sD(t),C}(n.storage,n._location,t,rD());return n.storage.makeRequestWithTokens(e,Sl)}(n=(0,Bt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return fX(n=(0,Bt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=_d(t.fullServerUrl(),n.host,n._protocol),h=new Pc(i,"DELETE",function(m,b){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=sD(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Sl)}(n=(0,Bt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw eq(t)}}class Aq{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(kq(t))throw Mv("ref() expected a child path but got a URL, use refFromURL instead.");return new bd(Eq(this._delegate,t),this)}refFromURL(t){if(!kq(t))throw Mv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ps.makeFromUrl(t,this._delegate.host)}catch(e){throw Mv("refFromUrl() expected a valid full URL but got an invalid one.")}return new bd(Eq(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Bt.Sg)(s,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function kq(n){return/^[A-Za-z]+:\/\//.test(n)}function NX(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Aq(e,i)}function Iq(n){const t=function(n){return new En.y(t=>{const e=u=>t.next(u);e(n.snapshot);const o=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){o()}}).pipe(Gl(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,g.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function nk(n){return{getDownloadURL:()=>(0,Ue.of)(void 0).pipe(fi.fc,fn(()=>n.getDownloadURL()),fi.iC),getMetadata:()=>(0,Ue.of)(void 0).pipe(fi.fc,fn(()=>n.getMetadata()),fi.iC),delete:()=>(0,In.D)(n.delete()),child:t=>nk(n.child(t)),updateMetadata:t=>(0,In.D)(n.updateMetadata(t)),put:(t,e)=>Iq(n.put(t,e)),putString:(t,e,i)=>Iq(n.putString(t,e,i)),listAll:()=>(0,In.D)(n.listAll())}}!function(n){const t={TaskState:ro,TaskEvent:XK,StringFormat:ia,Storage:Aq,Reference:bd};n.INTERNAL.registerComponent(new Wb.wA("storage-compat",NX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(nS.Z);const LX=new r.OlP("angularfire2.storageBucket"),BX=new r.OlP("angularfire2.storage.maxUploadRetryTime"),VX=new r.OlP("angularfire2.storage.maxOperationRetryTime"),UX=new r.OlP("angularfire2.storage.use-emulator");let Yp=(()=>{class n{constructor(e,i,s,o,u,h,m,b,C){const E=(0,To.on)(e,u,i);this.storage=(0,fi.cc)(`${E.name}.storage.${s}`,"AngularFireStorage",E.name,()=>{const x=u.runOutsideAngular(()=>E.storage(s||void 0)),k=C;return k&&x.useEmulator(...k),m&&x.setMaxUploadRetryTime(m),b&&x.setMaxOperationRetryTime(b),x},[m,b])}ref(e){return nk(this.storage.ref(e))}refFromURL(e){return nk(this.storage.refFromURL(e))}upload(e,i,s){return nk(this.storage.ref(e)).put(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(To.Dh),r.LFG(To.xv,8),r.LFG(LX,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(fi.HU),r.LFG(BX,8),r.LFG(VX,8),r.LFG(UX,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),ZX=(()=>{class n{constructor(){CV.Z.registerVersion("angularfire",fi.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Yp],imports:[HX]}),n})();var Et=N(4762);new r.OlP("ngx-mat-file-input.config");class ik{constructor(t,e=", "){this._files=t,this.delimiter=e,this._fileNames=(this._files||[]).map(i=>i.name).join(e)}get files(){return this._files||[]}get fileNames(){return this._fileNames}}const GX=V1(class{constructor(t,e,i,s){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}});var rk;let Un=rk=class extends GX{constructor(t,e,i,s,o,u,h){super(s,u,h,o),this.fm=t,this._elementRef=e,this._renderer=i,this._defaultErrorStateMatcher=s,this.ngControl=o,this._parentForm=u,this._parentFormGroup=h,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.accept=null,this.id="ngx-mat-file-input-"+rk.nextId++,this.describedBy="",this._onChange=m=>{},this._onTouched=()=>{},null!=this.ngControl&&(this.ngControl.valueAccessor=this),t.monitor(e.nativeElement,!0).subscribe(m=>{this.focused=!!m,this.stateChanges.next()})}setDescribedByIds(t){this.describedBy=t.join(" ")}get value(){return this.empty?null:new ik(this._elementRef.nativeElement.value||[])}set value(t){t&&(this.writeValue(t),this.stateChanges.next())}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get empty(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length}get shouldLabelFloat(){return this.focused||!this.empty||void 0!==this.valuePlaceholder}get required(){return this._required}set required(t){this._required=Me(t),this.stateChanges.next()}get isDisabled(){return this.disabled}get disabled(){return this._elementRef.nativeElement.disabled}set disabled(t){this.setDisabledState(Me(t)),this.stateChanges.next()}onContainerClick(t){"input"!==t.target.tagName.toLowerCase()&&!this.disabled&&(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())}get fileNames(){return this.value?this.value.fileNames:this.valuePlaceholder}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",t instanceof ik?t.files:null)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}clear(t){t&&(t.preventDefault(),t.stopPropagation()),this.value=new ik([]),this._elementRef.nativeElement.querySelector("input").value=null,this._onChange(this.value)}change(t){const e=t.target.files,i=[];if(e)for(let s=0;s<e.length;s++)i.push(e[s]);this.value=new ik(i),this._onChange(this.value)}blur(){this.focused=!1,this._onTouched()}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}ngOnInit(){this.multiple=Me(this.multiple)}open(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()}ngOnDestroy(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}};Un.\u0275fac=function(t){return new(t||Un)(r.Y36(Xn),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(no),r.Y36(ms,10),r.Y36(Gs,8),r.Y36(si,8))},Un.\u0275cmp=r.Xpm({type:Un,selectors:[["ngx-mat-file-input"]],hostVars:6,hostBindings:function(t,e){1&t&&r.NdJ("change",function(s){return e.change(s)})("focusout",function(){return e.blur()}),2&t&&(r.Ikx("id",e.id),r.uIk("aria-describedby",e.describedBy),r.ekj("mat-form-field-should-float",e.shouldLabelFloat)("file-input-disabled",e.isDisabled))},inputs:{autofilled:"autofilled",accept:"accept",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",multiple:"multiple",valuePlaceholder:"valuePlaceholder",errorStateMatcher:"errorStateMatcher"},features:[r._Bn([{provide:vg,useExisting:rk}]),r.qOj],decls:4,vars:4,consts:[["type","file"],["input",""],[1,"filename",3,"title"]],template:function(t,e){1&t&&(r._UZ(0,"input",0,1),r.TgZ(2,"span",2),r._uU(3),r.qZA()),2&t&&(r.uIk("multiple",e.multiple?"":null)("accept",e.accept),r.xp6(2),r.Q6J("title",e.fileNames),r.xp6(1),r.Oqu(e.fileNames))},styles:["[_nghost-%COMP%]{display:inline-block;width:100%}[_nghost-%COMP%]:not(.file-input-disabled){cursor:pointer}input[_ngcontent-%COMP%]{width:0;height:0;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),Un.nextId=0,Un.ctorParameters=()=>[{type:Xn},{type:r.SBq},{type:r.Qsj},{type:no},{type:ms,decorators:[{type:r.FiY},{type:r.PiD}]},{type:Gs,decorators:[{type:r.FiY}]},{type:si,decorators:[{type:r.FiY}]}],(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object)],Un.prototype,"autofilled",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",String)],Un.prototype,"valuePlaceholder",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Boolean)],Un.prototype,"multiple",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object)],Un.prototype,"accept",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",no)],Un.prototype,"errorStateMatcher",void 0),(0,Et.gn)([(0,r.pfw)(),(0,Et.w6)("design:type",Object)],Un.prototype,"id",void 0),(0,Et.gn)([(0,r.pfw)("attr.aria-describedby"),(0,Et.w6)("design:type",Object)],Un.prototype,"describedBy",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[Object])],Un.prototype,"value",null),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[Object])],Un.prototype,"placeholder",null),(0,Et.gn)([(0,r.pfw)("class.mat-form-field-should-float"),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[])],Un.prototype,"shouldLabelFloat",null),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Boolean),(0,Et.w6)("design:paramtypes",[Boolean])],Un.prototype,"required",null),(0,Et.gn)([(0,r.pfw)("class.file-input-disabled"),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[])],Un.prototype,"isDisabled",null),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Boolean),(0,Et.w6)("design:paramtypes",[Boolean])],Un.prototype,"disabled",null),(0,Et.gn)([(0,r.L6J)("change",["$event"]),(0,Et.w6)("design:type",Function),(0,Et.w6)("design:paramtypes",[Event]),(0,Et.w6)("design:returntype",void 0)],Un.prototype,"change",null),(0,Et.gn)([(0,r.L6J)("focusout"),(0,Et.w6)("design:type",Function),(0,Et.w6)("design:paramtypes",[]),(0,Et.w6)("design:returntype",void 0)],Un.prototype,"blur",null),Un=rk=(0,Et.gn)([(0,Et.fM)(4,(0,r.FiY)()),(0,Et.fM)(4,(0,r.PiD)()),(0,Et.fM)(5,(0,r.FiY)()),(0,Et.fM)(6,(0,r.FiY)()),(0,Et.w6)("design:paramtypes",[Xn,r.SBq,r.Qsj,no,ms,Gs,si])],Un);let jX=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Xn]}),n})();var Oq;!function(n){n.maxContentSize=function(i){return s=>{const o=s&&s.value?s.value.files.map(h=>h.size).reduce((h,m)=>h+m,0):0;return i>=o?null:{maxContentSize:{actualSize:o,maxSize:i}}}},n.allowedExtensions=function(i){return s=>s&&s.value&&s.value.files.every(u=>{const h=u.name.split(".");return-1!==i.indexOf(h[h.length-1])})?null:{allowedExtensions:i}}}(Oq||(Oq={}));var zX=N(205);class Nq{}class yd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),o=s.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $X{encodeKey(t){return Fq(t)}encodeValue(t){return Fq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const JX=/%(\d[a-f0-9])/gi,QX={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Fq(n){return encodeURIComponent(n).replace(JX,(t,e)=>{var i;return null!==(i=QX[e])&&void 0!==i?i:t})}function Lq(n){return`${n}`}class Gp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $X,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[u,h]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],m=e.get(u)||[];m.push(h),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Gp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Lq(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(Lq(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class KX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Bq(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Vq(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Uq(n){return"undefined"!=typeof FormData&&n instanceof FormData}class oD{constructor(t,e,i,s){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new yd),this.context||(this.context=new KX),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Gp,this.urlWithParams=e}serializeBody(){return null===this.body?null:Bq(this.body)||Vq(this.body)||Uq(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Uq(this.body)?null:Vq(this.body)?this.body.type||null:Bq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,C=t.params||this.params;const E=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((x,k)=>x.set(k,t.setHeaders[k]),b)),t.setParams&&(C=Object.keys(t.setParams).reduce((x,k)=>x.set(k,t.setParams[k]),C)),new oD(i,s,u,{params:C,headers:b,context:E,reportProgress:m,responseType:o,withCredentials:h})}}var Sr=(()=>((Sr=Sr||{})[Sr.Sent=0]="Sent",Sr[Sr.UploadProgress=1]="UploadProgress",Sr[Sr.ResponseHeader=2]="ResponseHeader",Sr[Sr.DownloadProgress=3]="DownloadProgress",Sr[Sr.Response=4]="Response",Sr[Sr.User=5]="User",Sr))();class sk extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new yd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Sr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sk({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function dL(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ok=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let o;if(e instanceof oD)o=e;else{let m,b;m=s.headers instanceof yd?s.headers:new yd(s.headers),s.params&&(b=s.params instanceof Gp?s.params:new Gp({fromObject:s.params})),o=new oD(e,i,void 0!==s.body?s.body:null,{headers:m,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const u=(0,Ue.of)(o).pipe(Bh(m=>this.handler.handle(m)));if(e instanceof oD||"events"===s.observe)return u;const h=u.pipe(gt(m=>m instanceof sk));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,g.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,g.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,g.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));case"json":default:return h.pipe((0,g.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Gp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,dL(s,i))}post(e,i,s={}){return this.request("POST",e,dL(s,i))}put(e,i,s={}){return this.request("PUT",e,dL(s,i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Nq))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const aee=["*"];function jq(n){return Error(`Unable to find icon with the name "${n}"`)}function zq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function $q(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let ak=(()=>{class n{constructor(e,i,s,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,o){return this._addSvgIconConfig(e,i,new xg(s,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,o){const u=this._sanitizer.sanitize(r.q3G.HTML,s);if(!u)throw $q(s);return this._addSvgIconConfig(e,i,new xg("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new xg(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const o=this._sanitizer.sanitize(r.q3G.HTML,i);if(!o)throw $q(i);return this._addSvgIconSetConfig(e,new xg("",o,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!i)throw zq(e);const s=this._cachedIconsByUrl.get(i);return s?(0,Ue.of)(lk(s)):this._loadSvgIconFromConfig(new xg(e,null)).pipe((0,qn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,g.U)(o=>lk(o)))}getNamedSvgIcon(e,i=""){const s=Wq(i,e);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):(0,zX._)(jq(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ue.of)(lk(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,g.U)(i=>lk(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?(0,Ue.of)(s):fC(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ol(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),(0,Ue.of)(null)})))).pipe((0,g.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw jq(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.svgText&&o.svgText.indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,qn.b)(i=>e.svgText=i),(0,g.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ue.of)(null):this._fetchIcon(e).pipe((0,qn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,s);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),s);const h=this._svgElementFromString("<svg></svg>");return h.appendChild(u),this._setSvgAttributes(h,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),s=e.attributes;for(let o=0;o<s.length;o++){const{name:u,value:h}=s[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:s,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const h=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,s);if(!h)throw zq(s);const m=this._inProgressUrlFetches.get(h);if(m)return m;const b=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe(QC(()=>this._inProgressUrlFetches.delete(h)),(0,AH.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(Wq(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](i,e);if(o)return uee(o)?new xg(o.url,null,o.options):new xg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ok,8),r.LFG(Lo),r.LFG(Z,8),r.LFG(r.qLn))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(ok,8),r.LFG(Lo),r.LFG(Z,8),r.LFG(r.qLn))},token:n,providedIn:"root"}),n})();function lk(n){return n.cloneNode(!0)}function Wq(n,t){return n+":"+t}function uee(n){return!(!n.url||!n.options)}const dee=ta(class{constructor(n){this._elementRef=n}}),hee=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,r.f3M)(Z),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Jq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],mee=Jq.map(n=>`[${n}]`).join(", "),gee=/^url\(['"]?#(.*?)['"]?\)$/;let Lc=(()=>{class n extends dee{constructor(e,i,s,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Mt.w.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Me(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let o=0;o<i.length;o++)i[o].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&e.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(mee),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Jq.forEach(u=>{const h=i[o],m=h.getAttribute(u),b=m?m.match(gee):null;if(b){let C=s.get(h);C||(C=[],s.set(h,C)),C.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(R(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(ak),r.$8M("aria-hidden"),r.Y36(hee),r.Y36(r.qLn))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),r.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:aee,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt],tt]}),n})();const _ee=["primaryValueBar"],bee=ta(class{constructor(n){this._elementRef=n}},"primary"),yee=new r.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,r.f3M)(Z),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});let Cee=0,xv=(()=>{class n extends bee{constructor(e,i,s,o){super(e),this._ngZone=i,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new r.vpe,this._animationEndSubscription=Mt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Cee++;const u=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${u}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s}get value(){return this._value}set value(e){this._value=Kq(qt(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=Kq(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=xn(e,"transitionend").pipe(gt(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Nn,8),r.Y36(yee,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&r.Gf(_ee,5),2&e){let s;r.iGM(s=r.CRH())&&(i._primaryValueBar=s.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(r.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),r.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[r.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.O4$(),r.TgZ(1,"svg",1),r.TgZ(2,"defs"),r.TgZ(3,"pattern",2),r._UZ(4,"circle",3),r.qZA(),r.qZA(),r._UZ(5,"rect",4),r.qZA(),r.kcU(),r._UZ(6,"div",5),r._UZ(7,"div",6,7),r._UZ(9,"div",8),r.qZA()),2&e&&(r.xp6(3),r.Q6J("id",i.progressbarId),r.xp6(2),r.uIk("fill",i._rectangleFillValue),r.xp6(1),r.Q6J("ngStyle",i._bufferTransform()),r.xp6(1),r.Q6J("ngStyle",i._primaryTransform()))},directives:[ha],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function Kq(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let wee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,tt],tt]}),n})();function Dee(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Tee(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",14),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Mee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2,"Vous voulez joindre une photo ?"),r.qZA(),r.TgZ(3,"mat-form-field",10),r.TgZ(4,"ngx-mat-file-input",11),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(5,"mat-icon",12),r._uU(6,"folder"),r.qZA(),r.YNc(7,Dee,2,1,"mat-error",2),r.qZA(),r.YNc(8,Tee,1,1,"mat-progress-bar",13),r.qZA()}if(2&n){const e=r.oxw();let i;r.xp6(7),r.Q6J("ngIf",null==e.form||null==(i=e.form.get("photo"))?null:i.hasError("maxSize")),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Eee(n,t){if(1&n&&(r.TgZ(0,"div"),r._UZ(1,"img",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.s9C("src",null==e.actualite?null:e.actualite.photo,r.LSH)}}function See(n,t){if(1&n&&(r.TgZ(0,"mat-error",16),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function xee(n,t){if(1&n&&(r.TgZ(0,"mat-error",16),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("sousTitre"))}}function Aee(n,t){if(1&n&&(r.TgZ(0,"mat-error",16),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function kee(n,t){1&n&&(r.TgZ(0,"div",17),r.TgZ(1,"button",18),r._uU(2,"Valider"),r.qZA(),r.TgZ(3,"button",19),r._uU(4,"Annuler"),r.qZA(),r.qZA())}let mL=(()=>{class n{constructor(e,i,s,o){var u;this.formBuilder=e,this.router=i,this.actualiteService=s,this.angularFireStorage=o,this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.downloadURL="",this.form=e.group({photo:[{value:null===(u=this.actualite)||void 0===u?void 0:u.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],titre:["",[st.maxLength(20),st.required]],sousTitre:["",[st.maxLength(30)]],texte:["",[st.required,st.minLength(20),st.maxLength(6500)]]})}ngOnInit(){var e,i,s,o;""!=(null===(e=this.actualite)||void 0===e?void 0:e.photo)&&(this.isFileAttached=!0),this.form.controls.titre.setValue(null===(i=this.actualite)||void 0===i?void 0:i.titre),this.form.controls.sousTitre.setValue(null===(s=this.actualite)||void 0===s?void 0:s.sousTitre),this.form.controls.texte.setValue(null===(o=this.actualite)||void 0===o?void 0:o.texte)}getErrorMessage(e){var i,s,o,u,h,m,b,C,E,x,k;let P="";switch(e){case"photo":(null===(i=this.form)||void 0===i?void 0:i.controls.photo.touched)&&(P=(null===(s=this.form)||void 0===s?void 0:s.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(o=this.form)||void 0===o?void 0:o.controls.sousTitre.touched)&&(null===(u=this.form)||void 0===u?void 0:u.controls.sousTitre.hasError("maxlength"))&&(P="Le titre ne doit pas comporter plus de 20 caract\xe8res.");break;case"sousTitre":(null===(h=this.form)||void 0===h?void 0:h.controls.titre.touched)&&((null===(m=this.form)||void 0===m?void 0:m.controls.titre.hasError("required"))&&(P="Vous devez saisir un titre."),(null===(b=this.form)||void 0===b?void 0:b.controls.titre.hasError("maxlength"))&&(P="Le sous-titre ne doit pas comporter plus de 30 caract\xe8res."));break;case"texte":(null===(C=this.form)||void 0===C?void 0:C.controls.texte.touched)&&((null===(E=this.form)||void 0===E?void 0:E.controls.texte.hasError("required"))&&(P="Vous devez saisir un texte."),(null===(x=this.form)||void 0===x?void 0:x.controls.texte.hasError("minlength"))&&(P="Le texte doit comporter plus de 20 caract\xe8res."),(null===(k=this.form)||void 0===k?void 0:k.controls.texte.hasError("maxlength"))&&(P="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return P}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Actualites/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(h=>{this.uploadPercent=h}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(h=>{this.downloadURL=h})})}onSubmit(){var e;this.actualite.titre=this.form.controls.titre.value,this.actualite.sousTitre=this.form.controls.sousTitre.value,this.actualite.texte=this.form.controls.texte.value,""==(null===(e=this.actualite)||void 0===e?void 0:e.id)?(this.actualite.photo=this.downloadURL,this.actualiteService.AddActualite(this.actualite)):(""!=this.downloadURL&&(this.actualite.photo=this.downloadURL),this.actualiteService.UpdateActualite(this.actualite)),this.router.navigate(["app-home-administration"])}onQuit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(wn),r.Y36(NA),r.Y36(Yp))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-actualite-form"]],inputs:{actualite:"actualite"},decls:18,vars:7,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","sousTitre","placeholder","Sous-titre"],["matInput","","rows","25","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["alt","",1,"img",2,"max-width","150px",3,"src"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","secondary"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,Mee,9,2,"div",2),r.YNc(3,Eee,2,1,"div",2),r.TgZ(4,"mat-form-field",3),r._UZ(5,"input",4),r.TgZ(6,"div",5),r.YNc(7,See,2,1,"mat-error",6),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",3),r._UZ(9,"input",7),r.TgZ(10,"div",5),r.YNc(11,xee,2,1,"mat-error",6),r.qZA(),r.qZA(),r.TgZ(12,"mat-form-field",3),r.TgZ(13,"textarea",8),r._uU(14,"        "),r.qZA(),r.TgZ(15,"div",5),r.YNc(16,Aee,2,1,"mat-error",6),r.qZA(),r.qZA(),r.YNc(17,kee,5,0,"div",9),r.qZA(),r.qZA()),2&e){let s,o,u;r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.isFileAttached),r.xp6(1),r.Q6J("ngIf",i.isFileAttached),r.xp6(4),r.Q6J("ngIf",null==i.form||null==(s=i.form.get("titre"))||null==s.errors?null:s.errors.required),r.xp6(4),r.Q6J("ngIf",null==i.form||null==(o=i.form.get("sousTitre"))||null==o.errors?null:o.errors.required),r.xp6(5),r.Q6J("ngIf",null==i.form||null==(u=i.form.get("texte"))||null==u.errors?null:u.errors.required),r.xp6(1),r.Q6J("ngIf",!i.fileIsUploading&&(null==i.form?null:i.form.valid))}},directives:[Au,bo,si,Ke,Dl,hd,Ys,_o,js,Un,Lc,Up,Rc,xv,Gn],styles:[""]}),n})();class Iee{constructor(t,e,i,s,o,u,h,m,b){this.id=t,this.date=e,this.titre=i,this.sousTitre=s,this.texte=o,this.photo=u,this.auteur=h,this.nomAuteur=m,this.status=b}}function Ree(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un article d'actualit\xe9."),r.qZA())}function Oee(n,t){if(1&n&&r._UZ(0,"app-actualite-form",3),2&n){const e=r.oxw();r.Q6J("actualite",e.actualite)}}let Nee=(()=>{class n{constructor(e){var i;this.authService=e,this.actualite=new Iee("",(new Date).toString(),"","","","",null===(i=this.authService.getCurrentUser())||void 0===i?void 0:i.id,"",1)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ar))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-actualite"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"actualite",4,"ngIf"],[3,"actualite"]],template:function(e,i){1&e&&(r.YNc(0,Ree,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Oee,1,1,"app-actualite-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.actualite),r.xp6(2),r.Q6J("ngIf",i.actualite))},directives:[Ke,mL],styles:[""]}),n})();class Pee{constructor(t,e,i,s){this.id=t,this.numero=e,this.path=i,this.status=s}}function Fee(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Lee(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",8),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Bee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2,"Joindre une photo."),r.qZA(),r.TgZ(3,"mat-form-field",4),r.TgZ(4,"ngx-mat-file-input",5),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(5,"mat-icon",6),r._uU(6,"folder"),r.qZA(),r.YNc(7,Fee,2,1,"mat-error",2),r.qZA(),r.YNc(8,Lee,1,1,"mat-progress-bar",7),r.qZA()}if(2&n){const e=r.oxw();let i;r.xp6(7),r.Q6J("ngIf",null==e.form||null==(i=e.form.get("photo"))?null:i.hasError("maxSize")),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Vee(n,t){if(1&n&&(r.TgZ(0,"div"),r._UZ(1,"img",9),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.s9C("src",null==e.carousel?null:e.carousel.path,r.LSH)}}function Uee(n,t){1&n&&(r.TgZ(0,"div",10),r.TgZ(1,"button",11),r._uU(2,"Valider"),r.qZA(),r.qZA())}let Xq=(()=>{class n{constructor(e,i,s,o){var u;this.formBuilder=e,this.angularFireStorage=i,this.location=s,this.photosService=o,this.isFileAttached=!1,this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.form=this.formBuilder.group({photo:[{value:null===(u=this.carousel)||void 0===u?void 0:u.path,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}]})}ngOnInit(){var e;this.isFileAttached=""!==(null===(e=this.carousel)||void 0===e?void 0:e.path)}getErrorMessage(e){var i,s;let o="";switch(e){case"photo":(null===(i=this.form)||void 0===i?void 0:i.controls.photo.touched)&&(o=(null===(s=this.form)||void 0===s?void 0:s.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"")}}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Accueil/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(h=>{this.uploadPercent=h}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(h=>{this.downloadURL=h,this.carousel.path=h,this.isFileAttached=!0})})}onSubmit(){var e,i;""==(null===(e=this.carousel)||void 0===e?void 0:e.path)&&(this.carousel.path=this.downloadURL),this.carousel.numero=this.photosService.getNextNumero(),""===(null===(i=this.carousel)||void 0===i?void 0:i.id)?this.photosService.addPhotoCarousel(this.carousel):this.photosService.updatePhotoCarousel(this.carousel).then(()=>{}),this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(Yp),r.Y36(zt),r.Y36(Oc))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-carousel-form"]],inputs:{carousel:"carousel"},decls:6,vars:4,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["height","250px","alt","",1,"img",3,"src"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,Bee,9,2,"div",2),r.YNc(3,Vee,2,1,"div",2),r._UZ(4,"br"),r.YNc(5,Uee,3,0,"div",3),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.isFileAttached),r.xp6(1),r.Q6J("ngIf",1==i.isFileAttached),r.xp6(2),r.Q6J("ngIf",!i.fileIsUploading&&(null==i.form?null:i.form.valid)))},directives:[Au,bo,si,Ke,Dl,Un,_o,js,Lc,Up,Rc,xv,Gn],styles:[""]}),n})();function Hee(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un \xe9l\xe9ment au carousel."),r.qZA())}function Zee(n,t){if(1&n&&r._UZ(0,"app-carousel-form",3),2&n){const e=r.oxw();r.Q6J("carousel",e.carousel)}}let qee=(()=>{class n{constructor(){this.carousel=new Pee("",0,"",0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-photo-carousel"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"carousel",4,"ngIf"],[3,"carousel"]],template:function(e,i){1&e&&(r.YNc(0,Hee,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Zee,1,1,"app-carousel-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.carousel),r.xp6(2),r.Q6J("ngIf",i.carousel))},directives:[Ke,Xq],styles:[""]}),n})();const Yee=["input"],Gee=function(n){return{enterDuration:n}},jee=["*"],zee=new r.OlP("mat-checkbox-default-options",{providedIn:"root",factory:eY});function eY(){return{color:"accent",clickAction:"check-indeterminate"}}let $ee=0;const tY=eY(),Wee={provide:On,useExisting:(0,r.Gpc)(()=>nY),multi:!0};class Jee{}const Qee=dd(ta(to(Os(class{constructor(n){this._elementRef=n}}))));let nY=(()=>{class n extends Qee{constructor(e,i,s,o,u,h,m){super(e),this._changeDetectorRef=i,this._focusMonitor=s,this._ngZone=o,this._animationMode=h,this._options=m,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++$ee,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.vpe,this.indeterminateChange=new r.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||tY,this.color=this.defaultColor=this._options.color||tY.color,this.tabIndex=parseInt(u)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Me(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Me(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Me(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,s=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(o)},1e3)})}}_emitChangeEvent(){const e=new Jee;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const s=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let s="";switch(e){case 0:if(1===i)s="unchecked-checked";else{if(3!=i)return"";s="unchecked-indeterminate"}break;case 2:s=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Xn),r.Y36(r.R0b),r.$8M("tabindex"),r.Y36(Nn,8),r.Y36(zee,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Yee,5),r.Gf(Ns,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._inputElement=s.first),r.iGM(s=r.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",null),r.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r._Bn([Wee]),r.qOj],ngContentSelectors:jee,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(r.F$t(),r.TgZ(0,"label",0,1),r.TgZ(2,"span",2),r.TgZ(3,"input",3,4),r.NdJ("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),r.qZA(),r.TgZ(5,"span",5),r._UZ(6,"span",6),r.qZA(),r._UZ(7,"span",7),r.TgZ(8,"span",8),r.O4$(),r.TgZ(9,"svg",9),r._UZ(10,"path",10),r.qZA(),r.kcU(),r._UZ(11,"span",11),r.qZA(),r.qZA(),r.TgZ(12,"span",12,13),r.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),r.TgZ(14,"span",14),r._uU(15,"\xa0"),r.qZA(),r.Hsn(16),r.qZA(),r.qZA()),2&e){const s=r.MAs(1),o=r.MAs(13);r.uIk("for",i.inputId),r.xp6(2),r.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),r.xp6(1),r.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),r.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),r.xp6(2),r.Q6J("matRippleTrigger",s)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.VKq(19,Gee,"NoopAnimations"===i._animationMode?0:150))}},directives:[Ns,Af],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),ete=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wl,tt,kf,iY],tt,iY]}),n})(),rY=(()=>{class n{constructor(e,i,s){this.formBuilder=e,this.dialogRef=i,this.data=s,this.status=0,this.form=this.formBuilder.group({visiteur:!0,moderateur:!1,editArticle:!1,editPhotosDeClasse:!1,editPdf:!1,administrateur:!1})}ngOnInit(){const e=this.data;Ge.administrateur.valueOf(),this.form.controls.visiteur.setValue((e&Ge.visiteur)===Ge.visiteur),this.form.controls.administrateur.setValue((e&Ge.administrateur)===Ge.administrateur),this.form.controls.editArticle.setValue((e&Ge.editArticle)===Ge.editArticle),this.form.controls.editPhotosDeClasse.setValue((e&Ge.editPhotosDeClasse)===Ge.editPhotosDeClasse),this.form.controls.editPdf.setValue((e&Ge.editPdf)===Ge.editPdf),this.form.controls.moderateur.setValue((e&Ge.moderateur)===Ge.moderateur)}onSave(){var e,i,s,o,u,h,m,b,C,E,x,k;(null===(i=null===(e=this.form)||void 0===e?void 0:e.get("visiteur"))||void 0===i?void 0:i.value)&&(this.status|=Ge.visiteur),(null===(o=null===(s=this.form)||void 0===s?void 0:s.get("moderateur"))||void 0===o?void 0:o.value)&&(this.status|=Ge.moderateur),(null===(h=null===(u=this.form)||void 0===u?void 0:u.get("editArticle"))||void 0===h?void 0:h.value)&&(this.status|=Ge.editArticle),(null===(b=null===(m=this.form)||void 0===m?void 0:m.get("editPhotosDeClasse"))||void 0===b?void 0:b.value)&&(this.status|=Ge.editPhotosDeClasse),(null===(E=null===(C=this.form)||void 0===C?void 0:C.get("editPdf"))||void 0===E?void 0:E.value)&&(this.status|=Ge.editPdf),(null===(k=null===(x=this.form)||void 0===x?void 0:x.get("administrateur"))||void 0===k?void 0:k.value)&&(this.status|=Ge.administrateur),console.log(this.status),this.dialogRef.close(this.status)}onClose(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(Vp),r.Y36(H1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-droits-form"]],decls:18,vars:1,consts:[[3,"formGroup"],["placeholder","Visiteur","formControlName","visiteur",1,"margin"],["placeholder","Mod\xe9rateur","formControlName","moderateur",1,"margin"],["placeholder","editArticle","formControlName","editArticle",1,"margin"],["placeholder","editPhotosDeClasse","formControlName","editPhotosDeClasse",1,"margin"],["placeholder","editPdf","formControlName","editPdf",1,"margin"],["placeholder","administrateur","formControlName","administrateur",1,"margin"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-dialog-content",0),r.TgZ(1,"mat-checkbox",1),r._uU(2," Visiteur "),r.qZA(),r.TgZ(3,"mat-checkbox",2),r._uU(4," Mod\xe9rateur "),r.qZA(),r.TgZ(5,"mat-checkbox",3),r._uU(6," Edition articles "),r.qZA(),r.TgZ(7,"mat-checkbox",4),r._uU(8," Edition photos de classes "),r.qZA(),r.TgZ(9,"mat-checkbox",5),r._uU(10," Edition Documents "),r.qZA(),r.TgZ(11,"mat-checkbox",6),r._uU(12," administrateur "),r.qZA(),r.qZA(),r.TgZ(13,"mat-dialog-actions"),r.TgZ(14,"button",7),r.NdJ("click",function(){return i.onSave()}),r._uU(15,"Valider"),r.qZA(),r.TgZ(16,"button",8),r.NdJ("click",function(){return i.onClose()}),r._uU(17,"Annuler"),r.qZA(),r.qZA()),2&e&&r.Q6J("formGroup",i.form)},directives:[Z1,bo,si,nY,_o,js,q1],styles:[".section[_ngcontent-%COMP%]{margin:12px 0}.margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),n})();const tte=[[["caption"]],[["colgroup"],["col"]]],nte=["caption","colgroup, col"];let ck=(()=>{class n extends Gf{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:fu,useClass:TT},{provide:Gf,useExisting:n},{provide:gh,useExisting:n},{provide:Cu,useClass:_h},{provide:WT,useValue:null}]),r.qOj],ngContentSelectors:nte,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(tte),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[vh,yh,Y_,oC],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),aD=(()=>{class n extends yu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:yu,useExisting:n}]),r.qOj]}),n})(),lD=(()=>{class n extends vu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:vu,useExisting:n}]),r.qOj]}),n})(),cD=(()=>{class n extends fo{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:fo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})(),uD=(()=>{class n extends nC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.qOj]}),n})(),dD=(()=>{class n extends ec{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.qOj]}),n})(),uk=(()=>{class n extends bh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:bh,useExisting:n}]),r.qOj]}),n})(),dk=(()=>{class n extends H_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:H_,useExisting:n}]),r.qOj]}),n})(),hk=(()=>{class n extends tc{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:tc,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ta],encapsulation:2}),n})(),pk=(()=>{class n extends sC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r._Bn([{provide:sC,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ta],encapsulation:2}),n})(),hte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[JT,tt],tt]}),n})();function fte(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Gestion des droits (",e.users.length," utilisateurs )")}}function mte(n,t){1&n&&(r.TgZ(0,"th",13),r._uU(1," Id "),r.qZA())}function gte(n,t){if(1&n&&(r.TgZ(0,"td",14),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.id," ")}}function _te(n,t){1&n&&(r.TgZ(0,"th",13),r._uU(1," Email "),r.qZA())}function bte(n,t){if(1&n&&(r.TgZ(0,"td",14),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.email," ")}}function yte(n,t){1&n&&(r.TgZ(0,"th",13),r._uU(1," Nom "),r.qZA())}function vte(n,t){if(1&n&&(r.TgZ(0,"td",14),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.nom," ")}}function Cte(n,t){1&n&&(r.TgZ(0,"th",13),r._uU(1," Pr\xe9nom "),r.qZA())}function wte(n,t){if(1&n&&(r.TgZ(0,"td",14),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.prenom," ")}}function Dte(n,t){1&n&&(r.TgZ(0,"th",13),r._uU(1," Status "),r.qZA())}function Tte(n,t){if(1&n&&(r.TgZ(0,"td",14),r._uU(1),r.qZA()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(1),r.hij(" ",i.getDroitsSelectedUser(e.status).toString()," ")}}function Mte(n,t){1&n&&(r.TgZ(0,"th",13),r._uU(1," Action "),r.qZA())}function Ete(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",14),r.TgZ(1,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onDroits(o)}),r._uU(2,"Droits"),r.qZA(),r.qZA()}}function Ste(n,t){1&n&&r._UZ(0,"tr",16)}function xte(n,t){1&n&&r._UZ(0,"tr",17)}function Ate(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," Visible\n"),r.qZA())}let sY=(()=>{class n{constructor(e,i){this.usersService=e,this.dialog=i,this.users=[],this.formVisible=!1,this.displayedColumns=["email","nom","prenom","status","action"]}ngOnInit(){this.usersService.getUsers().subscribe(e=>{this.users=e.docs.map(i=>{const s=i.data();return s.id=i.id,s},i=>{console.log(i)})},()=>{})}ngOnDestroy(){this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe()}getDroitsSelectedUser(e){let i="";return 65536===e?"Non":(e&Ge.administrateur)===Ge.administrateur?"Administrateur":((e&Ge.visiteur)===Ge.visiteur&&(""!==i&&(i+=", "),i+="Visiteur"),(e&Ge.moderateur)===Ge.moderateur&&(""!==i&&(i+=", "),i+="Mod\xe9rateur"),(e&Ge.editArticle)===Ge.editArticle&&(""!==i&&(i+=", "),i+="Editer articles"),(e&Ge.editPhotosDeClasse)===Ge.editPhotosDeClasse&&(""!==i&&(i+=", "),i+="Editer photos de classes"),(e&Ge.editPdf)===Ge.editPdf&&(""!==i&&(i+=", "),i+="Editer des documents"),""===i&&(i="Non"),i)}onDroits(e){const i=new Bp;i.disableClose=!0,i.autoFocus=!0,i.width="300px",i.height="400px",i.data=e.status;const s=this.dialog.open(rY,i);this.dialogResultSuscription=s.afterClosed().subscribe(o=>{void 0!==o&&this.usersService.changeDroitsUser(e.id,o)},o=>{console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(pd),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-droits"]],decls:24,vars:5,consts:[[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"\xb2"],["matColumnDef","email"],["mat-cell","",4,"matCellDef"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(r.YNc(0,fte,2,1,"h4",0),r.TgZ(1,"div"),r.TgZ(2,"table",1),r.ynx(3,2),r.YNc(4,mte,2,0,"th",3),r.YNc(5,gte,2,1,"td",4),r.BQk(),r.ynx(6,5),r.YNc(7,_te,2,0,"th",3),r.YNc(8,bte,2,1,"td",6),r.BQk(),r.ynx(9,7),r.YNc(10,yte,2,0,"th",3),r.YNc(11,vte,2,1,"td",6),r.BQk(),r.ynx(12,8),r.YNc(13,Cte,2,0,"th",3),r.YNc(14,wte,2,1,"td",6),r.BQk(),r.ynx(15,9),r.YNc(16,Dte,2,0,"th",3),r.YNc(17,Tte,2,1,"td",6),r.BQk(),r.ynx(18,10),r.YNc(19,Mte,2,0,"th",3),r.YNc(20,Ete,3,0,"td",6),r.BQk(),r.YNc(21,Ste,1,0,"tr",11),r.YNc(22,xte,1,0,"tr",12),r.qZA(),r.qZA(),r.YNc(23,Ate,2,0,"div",0)),2&e&&(r.Q6J("ngIf",i.users),r.xp6(2),r.Q6J("dataSource",i.users),r.xp6(19),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(1),r.Q6J("ngIf",i.formVisible))},directives:[Ke,ck,cD,lD,aD,uk,dk,uD,dD,hk,pk],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),n})();function kte(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Edition d'un article d'actualit\xe9."),r.qZA())}function Ite(n,t){if(1&n&&r._UZ(0,"app-actualite-form",3),2&n){const e=r.oxw();r.Q6J("actualite",e.actualite)}}let Rte=(()=>{class n{constructor(e,i){this.route=e,this.actualiteService=i;const s=this.route.snapshot.params.id;console.log(s),this.actualiteService.getActualite(s).subscribe(o=>{this.actualite=o.data(),this.actualite.id=o.id},o=>{console.log("Erreur = "+o)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(NA))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-actualite"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"actualite",4,"ngIf"],[3,"actualite"]],template:function(e,i){1&e&&(r.YNc(0,kte,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Ite,1,1,"app-actualite-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.actualite),r.xp6(2),r.Q6J("ngIf",i.actualite))},directives:[Ke,mL],styles:[""]}),n})(),Ote=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-gestion-actualite"]],decls:2,vars:0,template:function(e,i){1&e&&(r.TgZ(0,"p"),r._uU(1,"gestion-actualite works!"),r.qZA())},styles:[""]}),n})();const gL_firebaseConfig={apiKey:"AIzaSyBz9fnOh35_UA9eF6e_liALWX4BSMFv1wM",authDomain:"memoiremorieroise-73e3b.firebaseapp.com",databaseURL:"https://memoiremorieroise-73e3b.firebaseio.com",projectId:"memoiremorieroise-73e3b",storageBucket:"memoiremorieroise-73e3b.appspot.com",messagingSenderId:"201883520409"};class _L{constructor(t,e,i,s,o){this.id=t,this.description=e,this.fichier=i,this.titre=s,this.status=o}}let Av=(()=>{class n{constructor(e){this.angularFirestore=e,this.pdfs=[],this.pdfsAValider=[],this.pdfSubject=new le.xQ}emitPdf(){this.pdfSubject.next(this.pdfs)}getPdfs(){this.angularFirestore.collection("listePdf").get().subscribe(e=>{this.pdfs=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.pdfs.length>0&&(this.currentPdf=this.pdfs[0])})}getPdf(e){return this.angularFirestore.collection("listePdf").doc(e).get()}getPdfsValides(){return this.angularFirestore.collection("listePdf",e=>e.where("Status","==",cn.valide)).get()}getListePdfAValider(){return this.angularFirestore.collection("listePdf",e=>e.where("Status","==",cn.initial)).get()}GetSinglePdf(e){this.angularFirestore.collection("listePdf").doc(e).get().subscribe(i=>{null==this.currentPdf&&(this.currentPdf=new _L("","","","",0)),this.currentPdf.id=i.id,this.currentPdf=i.data(),this.emitPdf()})}addPdf(e){this.angularFirestore.collection("listePdf").add({description:e.description,fichier:e.fichier,Status:cn.initial,titre:e.titre}).then(i=>{this.emitPdf()},i=>{console.log("Erreur "+i)})}validerPdf(e){e.status=cn.valide,this.angularFirestore.collection("listePdf").doc(e.id).update({Status:e.status}).then(()=>{this.emitPdf()})}rejeterPdf(e){e.status=cn.rejete,this.angularFirestore.collection("listePdf").doc(e.id).update({Status:e.status}).then(()=>{this.emitPdf()})}supprimerPdf(e){e.status=cn.supprime,this.angularFirestore.collection("listePdf").doc(e.id).update({Status:e.status}).then(()=>{this.emitPdf()})}updatePdf(e){this.angularFirestore.collection("listePdf").doc(e.id).update({titre:e.titre,description:e.description}).then(()=>{this.emitPdf()})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hD=(()=>{class n{constructor(e,i){this.angularFirestore=e,this.usersService=i,this.photos=[],this.photosAValider=[],this.photoMorieresSubject=new le.xQ,this.photoMorieresAValiderSubject=new le.xQ}emitPhotoMorieres(){this.photoMorieresSubject.next(this.photos)}emitPhotoMorieresAValider(){this.photoMorieresAValiderSubject.next(this.photosAValider)}addPhotoMorieres(e){this.angularFirestore.collection("/PhotosMorieres").add({periode:e.periode,auteur:e.auteur,texte:e.texte,photo:e.photo,titre:e.titre,status:cn.initial})}getPhotosMorieres(){return this.angularFirestore.collection("/PhotosMorieres",e=>e.where("status","==",cn.valide)).get().subscribe(e=>{this.photos=e.docs.map(i=>{let s=i.data();return s.id=i.id,s}),this.photos.length>0&&(this.currentPhoto=this.photos[0]),this.photos.forEach(i=>{this.usersService.getUserByUid(i.auteur.trim()).subscribe(s=>{s.docs.filter(o=>{i.nomAuteur=o.data().prenom})})}),this.emitPhotoMorieres()})}getPhotoMorieres(e){return this.angularFirestore.collection("/PhotosMorieres").doc(e).get()}updatePhotoMorieres(e){this.angularFirestore.collection("/PhotosMorieres").doc(e.id).update({auteur:e.auteur,titre:e.titre,periode:e.periode,texte:e.texte,photo:e.photo,status:e.status})}getPhotosMorieresAValider(){this.angularFirestore.collection("/PhotosMorieres",e=>e.where("status","==",cn.initial)).get().subscribe(e=>{this.photosAValider=e.docs.map(i=>{let s=i.data();return s.id=i.id,s}),this.emitPhotoMorieresAValider()})}validerPhotoMorieres(e){return this.angularFirestore.collection("/PhotosMorieres").doc(e.id).update({status:cn.valide})}rejeterPhotoMorieres(e){return this.angularFirestore.collection("/PhotosMorieres").doc(e.id).update({status:cn.rejete})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra),r.LFG(pd))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oY{constructor(t,e,i,s,o){this.date=t,this.email=e,this.texte=i,this.lu=s,this.id=o}}let bL=(()=>{class n{constructor(e){this.angularFirestore=e,this.listeMessagesNonLus=[],this.pdfSubject=new le.xQ}emitMessage(){this.pdfSubject.next(this.listeMessagesNonLus)}getMessagesNonLus(){this.angularFirestore.collection("Messages",e=>e.where("lu","==",!1)).get().subscribe(e=>{this.listeMessagesNonLus=e.docs.map(i=>{const s=i.data();return s.id=i.id,s})}),this.emitMessage()}addMessage(e){this.angularFirestore.collection("Messages").add({date:e.date.toJSON(),email:e.email,texte:e.texte,lu:e.lu}).catch(i=>{console.log("Erreur "+i)})}SoldeMessage(e){this.angularFirestore.collection("Messages").doc(e.id).update({lu:!0})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ra))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Id "),r.qZA())}function Pte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.id," ")}}function Fte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Email "),r.qZA())}function Lte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.email," ")}}function Bte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Date "),r.qZA())}function Vte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.date," ")}}function Ute(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Texte "),r.qZA())}function Hte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.texte," ")}}function Zte(n,t){1&n&&r._UZ(0,"mat-header-cell")}function qte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-cell"),r.TgZ(1,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onVu(o)}),r._uU(2,"Vu"),r.qZA(),r.qZA()}}function Yte(n,t){1&n&&r._UZ(0,"tr",15)}function Gte(n,t){1&n&&r._UZ(0,"tr",16)}let aY=(()=>{class n{constructor(e){this.messagesService=e,this.displayedColumns=["email","date","texte","action"]}ngOnInit(){this.messagesService.getMessagesNonLus()}onVu(e){const i=new oY(e.date,e.email,e.texte,e.vu,e.id);this.messagesService.SoldeMessage(i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(bL))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-liste-messages"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","date"],["matColumnDef","texte"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"div"),r.TgZ(4,"table",0),r.ynx(5,1),r.YNc(6,Nte,2,0,"th",2),r.YNc(7,Pte,2,1,"td",3),r.BQk(),r.ynx(8,4),r.YNc(9,Fte,2,0,"th",2),r.YNc(10,Lte,2,1,"td",3),r.BQk(),r.ynx(11,5),r.YNc(12,Bte,2,0,"th",2),r.YNc(13,Vte,2,1,"td",3),r.BQk(),r.ynx(14,6),r.YNc(15,Ute,2,0,"th",2),r.YNc(16,Hte,2,1,"td",3),r.BQk(),r.ynx(17,7),r.YNc(18,Zte,1,0,"mat-header-cell",8),r.YNc(19,qte,3,0,"mat-cell",9),r.BQk(),r.YNc(20,Yte,1,0,"tr",10),r.YNc(21,Gte,1,0,"tr",11),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.hij("Liste des messages non lus (",i.messagesService.listeMessagesNonLus.length,") "),r.xp6(3),r.Q6J("dataSource",i.messagesService.listeMessagesNonLus),r.xp6(16),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns))},directives:[ck,cD,lD,aD,uk,dk,uD,dD,hk,pk],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),n})();function jte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onMonte(s)}),r._uU(1,"Monter"),r.qZA()}}function zte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onDescend(s)}),r._uU(1,"Descendre"),r.qZA()}}function $te(n,t){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"mat-card",3),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r._UZ(4,"img",4),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.TgZ(7,"div",5),r.YNc(8,jte,2,0,"button",6),r.YNc(9,zte,2,0,"button",6),r.qZA(),r.qZA(),r._UZ(10,"div",7),r.qZA()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(3),r.Oqu(e.numero),r.xp6(1),r.s9C("src",e.path,r.LSH),r.xp6(2),r.Oqu(e.id),r.xp6(2),r.Q6J("ngIf",e.numero>1),r.xp6(1),r.Q6J("ngIf",e.numero<i.photos.length)}}function Wte(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,$te,11,5,"div",2),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.photosService.photosCarousel)}}let Jte=(()=>{class n{constructor(e,i){this.photosService=e,this.router=i,this.photos=[],this.photosCarouselSubscription=this.photosService.photosCarouselSubject.subscribe(s=>{this.photos=s.map(o=>{let u=o;return u.id=o.id,u})})}ngOnInit(){this.photosService.getPhotosCarousel()}ngOnDestroy(){var e;null!=this.photosCarouselSubscription&&(null===(e=this.photosCarouselSubscription)||void 0===e||e.unsubscribe())}onMonte(e){}onDescend(e){let i;for(i=0;i<this.photos.length&&this.photos[i].numero!=e.numero;i++);let s=this.photos.splice(i,2);s[1].numero=e.numero,s[0].numero=e.numero+1,this.photosService.updatePhotoCarousel(s[0]).then(()=>{this.photosService.updatePhotoCarousel(s[1]).then(()=>{this.photosService.getPhotosCarousel()})})}onAddPhoto(){this.router.navigate(["app-add-photo-carousel"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Oc),r.Y36(wn))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-carousel"]],decls:6,vars:1,consts:[["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res","height","250px",2,"margin","25px",3,"src"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[2,"height","15px"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Gestion du carousel :"),r.qZA(),r.TgZ(2,"button",0),r.NdJ("click",function(){return i.onAddPhoto()}),r._uU(3," Ajouter une photo au carousel\n"),r.qZA(),r._UZ(4,"br"),r.YNc(5,Wte,2,1,"div",1)),2&e&&(r.xp6(5),r.Q6J("ngIf",i.photos&&i.photos.length>0))},directives:[Gn,Ke,ut,El,Ml,gd],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:0;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:24%;max-height:30%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function Qte(n,t){if(1&n&&(r.TgZ(0,"th",10),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e," ")}}function Kte(n,t){if(1&n&&(r.TgZ(0,"td",11),r._uU(1),r.qZA()),2&n){const e=t.$implicit,i=r.oxw().$implicit;r.xp6(1),r.hij(" ",e[i]," ")}}function Xte(n,t){1&n&&(r.ynx(0,8),r.YNc(1,Qte,2,1,"th",9),r.YNc(2,Kte,2,1,"td",4),r.BQk()),2&n&&r.s9C("matColumnDef",t.$implicit)}function ene(n,t){if(1&n&&(r.TgZ(0,"div",14),r.TgZ(1,"div",15),r._uU(2),r.qZA(),r.TgZ(3,"div",15),r._uU(4),r.qZA(),r.TgZ(5,"div",15),r._uU(6),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(2),r.hij(" Page ",e.page," "),r.xp6(2),r.hij(" D\xe9but ",e.debut," "),r.xp6(2),r.hij(" Dur\xe9e ",e.duree," secondes")}}function tne(n,t){if(1&n&&(r.TgZ(0,"td",11),r.TgZ(1,"div",12),r.YNc(2,ene,7,3,"div",13),r.qZA(),r.qZA()),2&n){const e=t.$implicit,i=r.oxw();r.uIk("colspan",i.columnsToDisplay.length),r.xp6(1),r.Q6J("@detailExpand",e==i.expandedElement?"expanded":"collapsed"),r.xp6(1),r.Q6J("ngForOf",e.vues)}}function nne(n,t){1&n&&r._UZ(0,"tr",16)}function ine(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"tr",17),r.NdJ("click",function(){const o=r.CHM(e).$implicit,u=r.oxw();return u.expandedElement=u.expandedElement===o?null:o}),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw();r.ekj("example-expanded-row",i.expandedElement===e)}}function rne(n,t){1&n&&r._UZ(0,"tr",18)}const sne=function(){return["expandedDetail"]};let one=(()=>{class n{constructor(e,i,s){let o;this.connexionsService=e,this.vuesService=i,this.usersService=s,this.Data=[],this.connexions=[],this.views=[],this.dataSource=[],this.columnsToDisplay=["date","email","id"],this.expandedElement=null,this.connexionsService.getConnexions().subscribe(u=>{this.connexions=u.docs.map(h=>{let m=h.data();return m.id=h.id,m})},u=>{console.log(u)},()=>{this.connexions.forEach(u=>{this.usersService.getUser(u.idUser).subscribe(h=>{o=h.data(),o&&(o.id=h.id),this.Data.push({id:u.id,email:o.email,date:new Date(u.date).toLocaleDateString()+" "+new Date(u.date).toLocaleTimeString(),vues:[]})},h=>{console.log(h)},()=>{this.Data.sort((h,m)=>new Date(h.date)>new Date(m.date)?1:new Date(h.date)<new Date(m.date)?-1:0),this.Data.forEach(h=>{this.getViewsOfConnection(h)})})})})}getViewsOfConnection(e){let i;this.vuesService.getVuesConnexion(e.id).subscribe(s=>{i=s.docs.map(o=>{let u=o.data();return u.id=o.id,u}),i=i.sort((o,u)=>new Date(o.heureDebut)>new Date(u.heureDebut)?1:new Date(o.heureDebut)<new Date(u.heureDebut)?-1:0),e.vues=[],i.forEach(o=>{o.duree=(new Date(o.heureFin).getTime()-new Date(o.heureDebut).getTime())/1e3,e.vues.push({id:o.id,page:o.page,debut:new Date(o.heureDebut).toLocaleTimeString(),idConnection:e.id,duree:o.duree.toFixed(0)})}),i=[]},s=>{console.log(s)},()=>{this.dataSource=this.Data})}ngOnInit(){}onDeleteAllConnexions(){this.connexionsService.deleteAll(),this.vuesService.deleteAll()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cH),r.Y36(uH),r.Y36(pd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-connexions"]],decls:13,vars:6,consts:[["mat-raised-button","",3,"click"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],["class","example-element-diagram",4,"ngFor","ngForOf"],[1,"example-element-diagram"],[1,"example-element-weight"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Supprimer toutes les connexions."),r.qZA(),r.TgZ(2,"button",0),r.NdJ("click",function(){return i.onDeleteAllConnexions()}),r._uU(3,"Supprimer"),r.qZA(),r.TgZ(4,"h2"),r._uU(5,"Liste des connexions."),r.qZA(),r.TgZ(6,"table",1),r.YNc(7,Xte,3,1,"ng-container",2),r.ynx(8,3),r.YNc(9,tne,3,3,"td",4),r.BQk(),r.YNc(10,nne,1,0,"tr",5),r.YNc(11,ine,1,2,"tr",6),r.YNc(12,rne,1,0,"tr",7),r.qZA()),2&e&&(r.xp6(6),r.Q6J("dataSource",i.dataSource),r.xp6(1),r.Q6J("ngForOf",i.columnsToDisplay),r.xp6(3),r.Q6J("matHeaderRowDef",i.columnsToDisplay),r.xp6(1),r.Q6J("matRowDefColumns",i.columnsToDisplay),r.xp6(1),r.Q6J("matRowDefColumns",r.DdM(5,sne)))},directives:[Gn,ck,ut,cD,aD,uk,dk,lD,uD,dD,hk,pk],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:10}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:block}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:6px;font-weight:lighter;margin:10px 0 10px 25px;height:auto}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}.vues[_ngcontent-%COMP%]{display:block}.example-element-weight[_ngcontent-%COMP%]{font-size:large}"],data:{animation:[Ri("detailExpand",[Vt("collapsed",ze({height:"0px",minHeight:"0"})),Vt("expanded",ze({height:"*"})),tn("expanded <=> collapsed",un("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),n})(),lY=(()=>{class n{constructor(e){this.sanitizer=e}transform(e,i){switch(i){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Invalid safe type specified: ${i}`)}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Lo,16))},n.\u0275pipe=r.Yjl({name:"safe",type:n,pure:!0}),n})();function ane(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",11),r.TgZ(7,"mat-card-content",12),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",13),r.TgZ(13,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValideArticle(o)}),r._uU(14,"Valider l'article"),r.qZA(),r.TgZ(15,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onEditeArticle(o)}),r._uU(16,"Editer l'article"),r.qZA(),r.TgZ(17,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejeteArticle(o)}),r._uU(18,"Rejeter l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.legende),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function lne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",16),r.TgZ(7,"mat-card-content",12),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",13),r.TgZ(13,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValidePhoto(o)}),r._uU(14,"Valider la photo de classe"),r.qZA(),r.TgZ(15,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onEditePhoto(o)}),r._uU(16,"Editer la photo de classe"),r.qZA(),r.TgZ(17,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejetePhoto(o)}),r._uU(18,"Rejeter la photo de classe"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.annee),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.listeEleves)}}function cne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",16),r.TgZ(7,"mat-card-content",12),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",13),r.TgZ(13,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValidePhotoMorieres(o)}),r._uU(14,"Valider la photo de Mori\xe8res"),r.qZA(),r.TgZ(15,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejetePhotoMorieres(o)}),r._uU(16,"Rejeter la photo de Mori\xe8res"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.periode),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function une(n,t){if(1&n&&(r._UZ(0,"iframe",18),r.ALo(1,"safe")),2&n){const e=r.oxw().$implicit;r.Q6J("src",r.xi3(1,1,e.fichier,"resourceUrl"),r.uOi)}}function dne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-actions"),r.TgZ(3,"div",13),r.TgZ(4,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValidePdf(o)}),r._uU(5,"Valider le document"),r.qZA(),r.TgZ(6,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejetePdf(o)}),r._uU(7,"Rejeter le document"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-title"),r._uU(9),r.qZA(),r.TgZ(10,"mat-card-subtitle"),r._uU(11),r.qZA(),r.YNc(12,une,2,4,"iframe",17),r.TgZ(13,"mat-card-content",12),r.TgZ(14,"div"),r.TgZ(15,"pre"),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(9),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.description),r.xp6(1),r.Q6J("ngIf",e.fichier),r.xp6(4),r.Oqu(e.description)}}function hne(n,t){if(1&n&&r._UZ(0,"img",21),2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo,r.LSH)}}function pne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r.YNc(5,hne,1,1,"img",19),r.TgZ(6,"mat-card-content",12),r.TgZ(7,"div"),r.TgZ(8,"pre"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-actions"),r.TgZ(11,"div",13),r.TgZ(12,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditActualite(o)}),r._uU(13,"Editer l'article"),r.qZA(),r.TgZ(14,"button",20),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onDesactiveActualite(o)}),r._uU(15,"D\xe9sactiver l'article"),r.qZA(),r.TgZ(16,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onSupprimeActualite(o)}),r._uU(17,"Supprimer l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.sousTitre),r.xp6(1),r.Q6J("ngIf",e.photo),r.xp6(4),r.Oqu(e.texte)}}function fne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r._UZ(5,"img",21),r.TgZ(6,"mat-card-content",12),r.TgZ(7,"div"),r.TgZ(8,"pre"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-actions"),r.TgZ(11,"div",13),r.TgZ(12,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditActualite(o)}),r._uU(13,"Editer l'article"),r.qZA(),r.TgZ(14,"button",20),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onValideActualite(o)}),r._uU(15,"Activer l'article"),r.qZA(),r.TgZ(16,"button",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onSupprimeActualite(o)}),r._uU(17,"Supprimer l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.sousTitre),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function mne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-content",12),r.TgZ(6,"div"),r.TgZ(7,"pre"),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"mat-card-actions"),r.TgZ(10,"div",13),r.TgZ(11,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditActualite(o)}),r._uU(12,"Editer l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.sousTitre),r.xp6(4),r.Oqu(e.texte)}}function gne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",14),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddActualite()}),r._uU(2,"Ajouter un Article \xe0 l'actualit\xe9"),r.qZA(),r._UZ(3,"br"),r.TgZ(4,"h3"),r._uU(5),r.qZA(),r.YNc(6,pne,18,4,"mat-card",1),r.TgZ(7,"h3"),r._uU(8),r.qZA(),r.YNc(9,fne,18,4,"mat-card",1),r.TgZ(10,"h3"),r._uU(11,"Messages des visiteurs."),r.qZA(),r.YNc(12,mne,13,3,"mat-card",1),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.hij("Liste des actualit\xe9s valid\xe9es. (",e.actualites.length,")"),r.xp6(1),r.Q6J("ngForOf",e.actualites),r.xp6(2),r.hij("Liste des actualit\xe9s non valid\xe9es. (",e.nonActualites.length,")"),r.xp6(1),r.Q6J("ngForOf",e.nonActualites),r.xp6(3),r.Q6J("ngForOf",e.actualiteService.messagesVisiteurs)}}let _ne=(()=>{class n{constructor(e,i,s,o,u,h,m,b){this.authService=e,this.articlesService=i,this.pdfService=s,this.photoService=o,this.photosMorieresService=u,this.actualiteService=h,this.router=m,this.matDialog=b,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isEditPdf=!1,this.isModerateur=!1,this.totalAValider=0,this.articlesAValider=[],this.pdfsAValider=[],this.photosAValider=[],this.actualites=[],this.nonActualites=[],this.photosMorieresAValider=[],this.version="1.4.4",this.authSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(C=>{const E=this.authService.getCurrentUser();null!=E&&null!=E&&(this.isEditArticle=(E.status&Ge.editArticle)==Ge.editArticle,this.isEditPhotosDeClasse=(E.status&Ge.editPhotosDeClasse)==Ge.editPhotosDeClasse,this.isEditPdf=(E.status&Ge.editPdf)==Ge.editPdf,this.isAdmin=(E.status&Ge.administrateur)==Ge.administrateur)}),this.actualitesSubscription=this.actualiteService.actualitesSubject.pipe(Ss(1)).subscribe(C=>{this.actualites=C,this.actualiteService.getActualitesNonSelect().subscribe(E=>{this.nonActualites=E.docs.map(x=>{const k=x.data();return k.id=x.id,k})})}),this.photosMorieresSubscription=this.photosMorieresService.photoMorieresAValiderSubject.pipe(Ss(1)).subscribe(C=>{this.photosMorieresAValider=C}),this.actualiteService.emitActualites(),this.photosMorieresService.getPhotosMorieresAValider()}ngOnInit(){let e=this.authService.getCurrentUser();this.articlesService.getArticlesAValider().subscribe(i=>{this.articlesAValider=i.docs.map(s=>{const o=s.data();return o.id=s.id,o}),this.pdfService.getListePdfAValider().subscribe(s=>{this.pdfsAValider=s.docs.map(o=>{const u=o.data();return u.id=o.id,u}),this.photoService.getPhotosAValider().subscribe(o=>{this.photosAValider=o.docs.map(u=>{const h=u.data();return h.id=u.id,h}),this.totalAValider=this.articlesAValider.length+this.photosAValider.length+this.pdfService.pdfsAValider.length})})}),e&&e.status&&(e.status&Ge.administrateur)===Ge.administrateur?this.isAdmin=!0:(e&&e.status&&(e.status&Ge.editArticle)==Ge.editArticle&&(this.isEditArticle=!0),e&&e.status&&(e.status&Ge.editPhotosDeClasse)===Ge.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),e&&e.status&&(e.status&Ge.moderateur)===Ge.moderateur&&(this.isModerateur=!0)),this.actualiteService.getActualites()}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe(),null!=this.photosMorieresSubscription&&this.photosMorieresSubscription.unsubscribe(),null!=this.actualitesSubscription&&this.actualitesSubscription.unsubscribe()}onValideArticle(e){this.articlesService.valideArticle(e);const i=this.articlesAValider.indexOf(e);this.articlesAValider.splice(i,1)}onEditeArticle(e){this.router.navigate(["app-edit-article/",e.id])}onRejeteArticle(e){this.articlesService.rejeteArticle(e);const i=this.articlesAValider.indexOf(e);this.articlesAValider.splice(i,1)}onValidePhoto(e){this.photoService.validerPhoto(e);const i=this.photosAValider.indexOf(e);this.photosAValider.splice(i,1)}onEditePhoto(e){this.router.navigate(["app-edit-photo-de-classe/",e.id])}onRejetePhoto(e){this.photoService.rejeterPhoto(e);const i=this.photosAValider.indexOf(e);this.photosAValider.splice(i,1)}onValidePhotoMorieres(e){this.photosMorieresService.validerPhotoMorieres(e);const i=this.photosMorieresAValider.indexOf(e);this.photosMorieresAValider.splice(i,1)}onRejetePhotoMorieres(e){this.photosMorieresService.rejeterPhotoMorieres(e);const i=this.photosMorieresAValider.indexOf(e);this.photosMorieresAValider.splice(i,1)}onValidePdf(e){this.pdfService.validerPdf(e);const i=this.pdfsAValider.indexOf(e);this.pdfsAValider.splice(i,1),this.pdfService.getPdfsValides()}onRejetePdf(e){this.pdfService.rejeterPdf(e);const i=this.pdfsAValider.indexOf(e);this.pdfsAValider.splice(i,1)}onEditActualite(e){this.router.navigate(["app-edit-actualite/",e.id])}onSupprimeActualite(e){this.actualiteService.SupprimeActualite(e)}onValideActualite(e){this.actualiteService.ValideActualite(e)}onDesactiveActualite(e){this.actualiteService.DesactiveActualite(e)}onAddActualite(){this.router.navigate(["app-add-actualite"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ar),r.Y36(fd),r.Y36(Av),r.Y36(Oc),r.Y36(hD),r.Y36(NA),r.Y36(wn),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home-administration"]],decls:37,vars:10,consts:[["label","Articles"],[4,"ngFor","ngForOf"],["label","Photos de classes"],["label","Photos de Mori\xe8res"],["label","Documents"],["label","Actualit\xe9s"],[4,"ngIf"],["label","Messages re\xe7us"],["label","Administration utilisateurs"],["label","Carousel"],["label","Visites"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["alt","Photo introuvable",1,"img",3,"src"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"],["class","img","alt","Photo",3,"src",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["alt","Photo",1,"img",3,"src"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Administration"),r.qZA(),r.TgZ(2,"h2"),r._uU(3),r.qZA(),r.TgZ(4,"mat-tab-group"),r.TgZ(5,"mat-tab",0),r.TgZ(6,"h3"),r._uU(7),r.qZA(),r.YNc(8,ane,19,4,"div",1),r.qZA(),r.TgZ(9,"mat-tab",2),r.TgZ(10,"div"),r.TgZ(11,"h3"),r._uU(12),r.qZA(),r.YNc(13,lne,19,4,"div",1),r._UZ(14,"br"),r.qZA(),r.qZA(),r.TgZ(15,"mat-tab",3),r.TgZ(16,"div"),r.TgZ(17,"h3"),r._uU(18),r.qZA(),r.YNc(19,cne,17,4,"div",1),r._UZ(20,"br"),r.qZA(),r.qZA(),r.TgZ(21,"mat-tab",4),r.TgZ(22,"div"),r.TgZ(23,"h3"),r._uU(24),r.qZA(),r.YNc(25,dne,17,4,"div",1),r._UZ(26,"br"),r.qZA(),r.qZA(),r.TgZ(27,"mat-tab",5),r.YNc(28,gne,13,5,"div",6),r.qZA(),r.TgZ(29,"mat-tab",7),r._UZ(30,"app-liste-messages"),r.qZA(),r.TgZ(31,"mat-tab",8),r._UZ(32,"app-droits"),r.qZA(),r.TgZ(33,"mat-tab",9),r._UZ(34,"app-carousel"),r.qZA(),r.TgZ(35,"mat-tab",10),r._UZ(36,"app-connexions"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.hij("Version ",i.version,""),r.xp6(4),r.hij("Liste des articles \xe0 valider. (",i.articlesAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.articlesAValider),r.xp6(4),r.hij("Liste des photos de classe \xe0 valider. (",i.photosAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.photosAValider),r.xp6(5),r.hij("Liste des photos de Mori\xe8res \xe0 valider. (",i.photosMorieresAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.photosMorieresAValider),r.xp6(5),r.hij("Liste des documents \xe0 valider. (",i.pdfsAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.pdfsAValider),r.xp6(3),r.Q6J("ngIf",i.isAdmin))},directives:[vH,x2,ut,Ke,aY,sY,Jte,one,El,Ml,gd,md,Tv,Gn],pipes:[lY],styles:["a[_ngcontent-%COMP%]{color:#0ff;font-size:large}.img[_ngcontent-%COMP%]{max-width:150px}li[_ngcontent-%COMP%]{height:35px}"]}),n})();function bne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",2),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddArticle()}),r._uU(1," Ajouter un article sur ce th\xe8me.\n"),r.qZA()}}function yne(n,t){if(1&n&&(r.TgZ(0,"mat-card-title"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",e.titre," (par : ",e.nomAuteur,") (Cliquez sur la photo pour l'agrandir.)")}}function vne(n,t){if(1&n&&(r.TgZ(0,"mat-card-title"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",e.titre," (par : ",e.nomAuteur,")")}}function Cne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"img",10),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onZoom(s)}),r.qZA()}if(2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo,r.LSH)}}function wne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"img",10),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onZoom(s)}),r.qZA()}if(2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo2,r.LSH)}}function Dne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",11),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onEdit(s)}),r._uU(1,"Modifier l'article"),r.qZA()}}function Tne(n,t){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"mat-card",4),r.YNc(2,yne,2,2,"mat-card-title",1),r.YNc(3,vne,2,2,"mat-card-title",1),r.YNc(4,Cne,1,1,"img",5),r.YNc(5,wne,1,1,"img",6),r.TgZ(6,"mat-card-subtitle"),r._uU(7),r.qZA(),r.TgZ(8,"div"),r.TgZ(9,"h2"),r.TgZ(10,"pre"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r.YNc(13,Dne,2,0,"button",8),r.qZA(),r.qZA(),r._UZ(14,"div",9),r.qZA()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Q6J("ngIf",e.photo),r.xp6(1),r.Q6J("ngIf",!e.photo),r.xp6(1),r.Q6J("ngIf",e.photo),r.xp6(1),r.Q6J("ngIf",e.photo2),r.xp6(2),r.Oqu(e.legende),r.xp6(4),r.Oqu(e.texte),r.xp6(2),r.Q6J("ngIf",i.canWrite)}}function Mne(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Tne,15,7,"div",3),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",null==e.themesService.currentTheme?null:e.themesService.currentTheme.articles)}}function Ene(n,t){if(1&n&&r._UZ(0,"img",0),2&n){const e=r.oxw();r.s9C("src",e.image2,r.LSH)}}let Sne=(()=>{class n{constructor(e,i,s,o,u,h){this.globalService=e,this.themesService=i,this.articlesService=s,this.authService=o,this.router=u,this.matDialog=h,this.isConnected=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(m=>{if(this.canWrite=!1,null!=m){const b=m.status;null!=b&&b>=Ge.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=b&&(b&Ge.editArticle)==Ge.editArticle}}),o.emitUserChanged()}ngOnInit(){}ngOnDestroy(){this.globalService.finDeVue(),null!=this.userSubscription&&this.userSubscription.unsubscribe()}ngAfterContentInit(){this.globalService.finDeVue()}onEdit(e){this.router.navigate(["app-edit-article/",e.id])}onAddArticle(){this.router.navigate(["app-add-article"])}onZoom(e){this.articlesService.currentArticle=e,this.matDialog.open(yL,{height:"90%",width:"60%"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(na),r.Y36(_v),r.Y36(fd),r.Y36(ar),r.Y36(wn),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-liste-articles"]],decls:4,vars:3,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","color","accent",3,"click"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res","height","250px","style","margin: 25px;",3,"src","click",4,"ngIf"],["alt","Photo de Mori\xe8res","style","margin: 25px;","height","250px",3,"src","click",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[2,"height","15px"],["alt","Photo de Mori\xe8res","height","250px",2,"margin","25px",3,"src","click"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1),r.qZA(),r.YNc(2,bne,2,0,"button",0),r.YNc(3,Mne,2,1,"div",1)),2&e&&(r.xp6(1),r.hij("Articles sur le th\xe8me : [",null==i.themesService.currentTheme?null:i.themesService.currentTheme.nom,"]"),r.xp6(1),r.Q6J("ngIf",i.isConnected),r.xp6(1),r.Q6J("ngIf",null==i.themesService.currentTheme?null:i.themesService.currentTheme.articles))},directives:[Ke,Gn,ut,El,gd,Ml],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:0;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:24%;max-height:30%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:5px}"]}),n})(),yL=(()=>{class n{constructor(e,i){var s,o,u,h,m;this.globalService=e,this.articlesService=i,this.sousTitre="",this.image=null===(s=i.currentArticle)||void 0===s?void 0:s.photo,this.image2=null===(o=i.currentArticle)||void 0===o?void 0:o.photo2,this.legende=null===(u=i.currentArticle)||void 0===u?void 0:u.legende,this.texte=null===(h=i.currentArticle)||void 0===h?void 0:h.texte,this.titre=null===(m=i.currentArticle)||void 0===m?void 0:m.titre}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(na),r.Y36(fd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-maximise-article-image"]],decls:17,vars:6,consts:[["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-card-image","","dialog-img","","alt","Article","class","dialog-img",3,"src",4,"ngIf"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.qZA(),r._UZ(6,"img",0),r.YNc(7,Ene,1,1,"img",1),r.TgZ(8,"mat-card-content"),r._uU(9),r.qZA(),r.TgZ(10,"mat-card-content"),r.TgZ(11,"pre"),r._uU(12),r.qZA(),r.qZA(),r.TgZ(13,"mat-card-actions"),r.TgZ(14,"div"),r.TgZ(15,"button",2),r._uU(16,"Fermer"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(i.titre),r.xp6(2),r.Oqu(i.sousTitre),r.xp6(1),r.s9C("src",i.image,r.LSH),r.xp6(1),r.Q6J("ngIf",i.image2),r.xp6(2),r.hij(" ",i.legende," "),r.xp6(3),r.hij("            ",i.texte,"\n        "))},directives:[El,eD,Ml,gd,X1,Ke,md,Tv,Gn,OA],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),n})();function xne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",2),r.TgZ(7,"mat-card-content",3),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",4),r.TgZ(13,"button",5),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onValideArticle(o)}),r._uU(14,"Valider l'article"),r.qZA(),r.TgZ(15,"button",5),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditeArticle(o)}),r._uU(16,"Editer l'article"),r.qZA(),r.TgZ(17,"button",6),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onRejeteArticle(o)}),r._uU(18,"Rejeter l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.legende),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function Ane(n,t){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2),r.qZA(),r.YNc(3,xne,19,4,"div",1),r._UZ(4,"br"),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.hij("Liste des articles \xe0 valider : (",e.articlesAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",e.articlesAValider)}}let kne=(()=>{class n{constructor(e,i,s,o,u,h){this.globalService=e,this.pdfService=i,this.photosService=s,this.authService=o,this.articlesService=u,this.matDialog=h,this.articlesAValider=[],this.isConnected=!1,this.canWrite=!1,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.pdfsAValider=[],this.authSubscription=this.authService.authSubject.subscribe(m=>{if(null!=m){let b=this.authService.getCurrentUser();b&&b.status&&(b.status&Ge.administrateur)===Ge.administrateur?this.isAdmin=!0:(b&&b.status&&(b.status&Ge.editArticle)===Ge.editArticle&&(this.isEditArticle=!0),b&&b.status&&(b.status&Ge.editPhotosDeClasse)===Ge.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),b&&b.status&&(b.status&Ge.moderateur)===Ge.moderateur&&(this.isModerateur=!0))}}),this.authService.emitUserChanged()}ngOnInit(){this.articlesService.getArticlesAValider().subscribe(e=>{this.articlesAValider=e.docs}),this.pdfService.getListePdfAValider().subscribe(e=>{this.pdfsAValider=e.docs})}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}onValideArticle(e){this.articlesService.valideArticle(e).then(i=>{}).catch(i=>{console.log(i)})}onRejeteArticle(e){this.articlesService.rejeteArticle(e).then(i=>{}).catch(i=>{console.log(i)})}onEditeArticle(e){this.articlesService.currentArticle=e,this.matDialog.open(yL,{height:"90%",width:"60%"})}onValidePdf(e){this.pdfService.validerPdf(e),this.pdfService.getPdfs()}onRejetePdf(e){this.pdfService.rejeterPdf(e)}onValidePhoto(e){this.photosService.validerPhoto(e),this.photosService.getPhotos()}onRejetePhoto(e){this.photosService.rejeterPhoto(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(na),r.Y36(Av),r.Y36(Oc),r.Y36(ar),r.Y36(fd),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-valider-articles"]],inputs:{articlesAValider:"articlesAValider"},decls:4,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1,"Validations"),r.qZA(),r._UZ(2,"br"),r.YNc(3,Ane,5,2,"div",0)),2&e&&(r.xp6(3),r.Q6J("ngIf",i.isEditArticle||i.isAdmin))},directives:[Ke,ut,El,Ml,gd,md,Tv,Gn],styles:["pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}.card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:20%;max-height:20%;align-content:left}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}"]}),n})();class Ine{constructor(t,e,i,s,o,u,h,m,b,C,E){this.id=t,this.titre=e,this.texte=i,this.idTheme=s,this.date=o,this.photo=u,this.photo2=h,this.legende=m,this.auteur=b,this.nomAuteur=C,this.status=E}}function Rne(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Edition de l'article ",e.article.titre,"")}}function One(n,t){if(1&n&&r._UZ(0,"app-article-form",3),2&n){const e=r.oxw();r.Q6J("article",e.article)}}let vL=(()=>{class n{constructor(e,i,s){this.globalService=e,this.articlesService=i,this.route=s,this.articlesService.getArticle(this.route.snapshot.params.id).subscribe(u=>{this.article=u.data(),this.article.id=u.id},u=>{console.log("Erreur = "+u)})}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(na),r.Y36(fd),r.Y36(As))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-article"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(e,i){1&e&&(r.YNc(0,Rne,2,1,"h4",0),r.TgZ(1,"div",1),r.YNc(2,One,1,1,"app-article-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.article),r.xp6(2),r.Q6J("ngIf",i.article))},styles:[""]}),n})();const cY=new Set;let kv,uY=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pne}matchMedia(e){return this._platform.WEBKIT&&function(n){if(!cY.has(n))try{kv||(kv=document.createElement("style"),kv.setAttribute("type","text/css"),document.head.appendChild(kv)),kv.sheet&&(kv.sheet.insertRule(`@media ${n} {.fx-query-test{ }}`,0),cY.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt))},token:n,providedIn:"root"}),n})();function Pne(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Iv=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new le.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return dY(uu(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let o=tm(dY(uu(e)).map(u=>this._registerQuery(u).observable));return o=Wl(o.pipe(R(1)),o.pipe(Xe(1),Gl(0))),o.pipe((0,g.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:b})=>{h.matches=h.matches||m,h.breakpoints[b]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new En.y(u=>{const h=m=>this._zone.run(()=>u.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(jt(i),(0,g.U)(({matches:u})=>({query:e,matches:u})),Pe(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(uY),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(uY),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})();function dY(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const xl_Small="(min-width: 600px) and (max-width: 959.98px)";function Fne(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Lne(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",15),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Bne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2,"Vous voulez joindre une photo ?"),r.qZA(),r.TgZ(3,"mat-form-field",11),r.TgZ(4,"ngx-mat-file-input",12),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(5,"mat-icon",13),r._uU(6,"folder"),r.qZA(),r.YNc(7,Fne,2,1,"mat-error",2),r.qZA(),r.YNc(8,Lne,1,1,"mat-progress-bar",14),r.qZA()}if(2&n){const e=r.oxw();let i;r.xp6(7),r.Q6J("ngIf",null==e.form||null==(i=e.form.get("photo"))?null:i.hasError("maxSize")),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Vne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("legende"))}}function Une(n,t){if(1&n&&(r.TgZ(0,"mat-form-field",5),r._UZ(1,"input",16),r.TgZ(2,"div",7),r.YNc(3,Vne,2,1,"mat-error",8),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",null==e.form||null==e.form.controls||null==e.form.controls.legende?null:e.form.controls.legende.hasError("required"))}}function Hne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function Zne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function qne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function Yne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function Gne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function jne(n,t){1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"button",19),r._uU(2,"Valider"),r.qZA(),r.qZA())}let fk=(()=>{class n{constructor(e,i,s,o,u,h,m,b){var C;this.formBuilder=e,this.angularFireStorage=i,this.themesService=s,this.authService=o,this.articlesService=u,this.router=h,this.breakpointObserver=m,this.location=b,this.color="primary",this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.maxSize=1e8,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,g.U)(E=>E.matches)),this.form=this.formBuilder.group({photo:[{value:null===(C=this.article)||void 0===C?void 0:C.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],legende:["",[st.maxLength(50)]],titre:["",[st.required,st.maxLength(60)]],texte:["",[st.required,st.minLength(20),st.maxLength(6500)]]})}ngOnInit(){var e,i,s,o,u,h;null!=(null===(e=this.article)||void 0===e?void 0:e.photo)&&(this.downloadURL=null===(i=this.article)||void 0===i?void 0:i.photo),this.form.controls.photo.setValue(this.downloadURL),this.form.controls.legende.setValue(null===(s=this.article)||void 0===s?void 0:s.legende),this.form.controls.titre.setValue(null===(o=this.article)||void 0===o?void 0:o.titre),this.form.controls.texte.setValue(null===(u=this.article)||void 0===u?void 0:u.texte),this.isFileAttached=""!==(null===(h=this.article)||void 0===h?void 0:h.photo)}getErrorMessage(e){var i,s,o,u,h,m,b,C,E;let x="";switch(e){case"photo":(null===(i=this.form)||void 0===i?void 0:i.controls.photo.touched)&&(x=(null===(s=this.form)||void 0===s?void 0:s.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(o=this.form)||void 0===o?void 0:o.controls.titre.touched)&&((null===(u=this.form)||void 0===u?void 0:u.controls.titre.hasError("required"))&&(x="Vous devez saisir un titre."),(null===(h=this.form)||void 0===h?void 0:h.controls.titre.hasError("maxlength"))&&(x="Le titre ne doit pas comporter plus de 60 caract\xe8res."));break;case"texte":(null===(m=this.form)||void 0===m?void 0:m.controls.texte.touched)&&((null===(b=this.form)||void 0===b?void 0:b.controls.texte.hasError("required"))&&(x="Vous devez saisir un texte."),(null===(C=this.form)||void 0===C?void 0:C.controls.texte.hasError("minlength"))&&(x="Le texte doit comporter plus de 20 caract\xe8res."),(null===(E=this.form)||void 0===E?void 0:E.controls.texte.hasError("maxlength"))&&(x="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return x}onSubmit(){var e,i,s,o,u,h,m,b;null!=this.article&&(this.article.titre=null===(i=null===(e=this.form)||void 0===e?void 0:e.get("titre"))||void 0===i?void 0:i.value),null!=this.article&&(this.article.texte=null===(o=null===(s=this.form)||void 0===s?void 0:s.get("texte"))||void 0===o?void 0:o.value),null!=this.article&&(this.article.photo=this.downloadURL),null!=this.article&&(this.article.legende=null===(h=null===(u=this.form)||void 0===u?void 0:u.get("legende"))||void 0===h?void 0:h.value),""===(null===(m=this.article)||void 0===m?void 0:m.id)?(this.article.auteur=null===(b=this.authService.getCurrentUser())||void 0===b?void 0:b.uid,this.articlesService.addArticle(this.article).then(C=>{alert("Merci pour cet article qui sera tr\xe9s prochainement publi\xe9.")})):this.articlesService.updateArticle(this.article).then(C=>{}),this.themesService.getThemes(),this.articlesService.getArticlesCurrentTheme(),this.location.back()}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Images/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(h=>{this.uploadPercent=h}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(h=>{this.downloadURL=h})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(Yp),r.Y36(_v),r.Y36(ar),r.Y36(fd),r.Y36(wn),r.Y36(Iv),r.Y36(zt))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-article-form"]],inputs:{article:"article"},features:[r._Bn([vL])],decls:20,vars:10,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["alt","",1,"img",3,"src"],["class","full-width",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","rows","45","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["matInput","","formControlName","legende","placeholder","L\xe9gende"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,Bne,9,2,"div",2),r.TgZ(3,"div"),r._UZ(4,"img",3),r.qZA(),r.YNc(5,Une,4,1,"mat-form-field",4),r.TgZ(6,"mat-form-field",5),r._UZ(7,"input",6),r.TgZ(8,"div",7),r.YNc(9,Hne,2,1,"mat-error",8),r.YNc(10,Zne,2,1,"mat-error",8),r.qZA(),r.qZA(),r._UZ(11,"br"),r.TgZ(12,"mat-form-field",5),r.TgZ(13,"textarea",9),r._uU(14,"      "),r.qZA(),r.TgZ(15,"div",7),r.YNc(16,qne,2,1,"mat-error",8),r.YNc(17,Yne,2,1,"mat-error",8),r.YNc(18,Gne,2,1,"mat-error",8),r.qZA(),r.qZA(),r.YNc(19,jne,3,0,"div",10),r.qZA(),r.qZA()),2&e){let s,o,u,h,m;r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.isFileAttached),r.xp6(2),r.s9C("src",null==i.article?null:i.article.photo,r.LSH),r.xp6(1),r.Q6J("ngIf",i.fileUploaded),r.xp6(4),r.Q6J("ngIf",null==i.form||null==(s=i.form.get("titre"))||null==s.errors?null:s.errors.required),r.xp6(1),r.Q6J("ngIf",null==i.form||null==(o=i.form.get("titre"))||null==o.errors?null:o.errors.maxlength),r.xp6(6),r.Q6J("ngIf",null==i.form||null==(u=i.form.get("texte"))||null==u.errors?null:u.errors.required),r.xp6(1),r.Q6J("ngIf",null==i.form||null==(h=i.form.get("texte"))||null==h.errors?null:h.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==i.form||null==(m=i.form.get("texte"))||null==m.errors?null:m.errors.maxlength),r.xp6(1),r.Q6J("ngIf",!i.fileIsUploading&&(null==i.form?null:i.form.valid))}},directives:[Au,bo,si,Ke,Dl,hd,Ys,_o,js,Un,Lc,Up,Rc,xv,Gn],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:35%;align-content:left}"]}),n})();function zne(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un article."),r.qZA())}function $ne(n,t){if(1&n&&r._UZ(0,"app-article-form",3),2&n){const e=r.oxw();r.Q6J("article",e.article)}}let Wne=(()=>{class n{constructor(e,i){var s,o;this.authService=e,this.themesService=i,this.article=new Ine("","","",null===(s=this.themesService.currentTheme)||void 0===s?void 0:s.id,(new Date).toJSON(),"","","",null===(o=this.authService.getCurrentUser())||void 0===o?void 0:o.uid,"",0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ar),r.Y36(_v))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-article"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(e,i){1&e&&(r.YNc(0,zne,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,$ne,1,1,"app-article-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.article),r.xp6(2),r.Q6J("ngIf",i.article))},directives:[Ke,fk],styles:[""]}),n})();function Jne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function Qne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function Kne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password"))}}function Xne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password"))}}function eie(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password"))}}let hY=(()=>{class n{constructor(e,i,s,o){this.authService=e,this.formBuilder=i,this.dialogRef=s,this.data=o,this.signinForm=this.formBuilder.group({email:["",[st.required,st.email]],password:["",[st.required,st.minLength(5),st.maxLength(20)]]}),this.errorMessage="",this.hide=!0}ngOnInit(){}save(){this.dialogRef.close(this.signinForm.value)}close(){this.dialogRef.close()}getErrorMessage(e){let i="";switch(e){case"email":if(null!=this.signinForm&&this.signinForm.get("email").hasError("required")){i="Vous devez saisir une adresse email. ";break}if(null!=this.signinForm&&this.signinForm.get("email").hasError("email")){i="L'adresse saisie n'est pas valide.";break}break;case"password":if(null!=this.signinForm&&this.signinForm.controls.password.hasError("required")){i="Vous devez saisir un mot de passe. ";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("minlength")){i="Vous devez saisir un mot de passe comportant au moins 5 caract\xe8res";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("maxlength")){i="Vous devez saisir un mot de passe comportant au plus 20 caract\xe8res";break}}return i}onMotDePasseOublie(){null!=this.signinForm&&!0===this.signinForm.get("email").valid?this.authService.ForgotPassword(this.signinForm.get("email").value):alert("Merci de saisir l'adresse mail avec laquelle vous avez cr\xe9\xe9 votre compte.")}onChangeVisibilite(){this.hide=!this.hide}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ar),r.Y36(Co),r.Y36(Vp),r.Y36(H1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sign-in"]],decls:24,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Email","formControlName","email"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Mot de passe","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"h2",0),r._uU(1,"Connexion"),r.qZA(),r.TgZ(2,"mat-dialog-content",1),r.TgZ(3,"mat-form-field",2),r._UZ(4,"input",3),r.TgZ(5,"div",4),r.YNc(6,Jne,2,1,"mat-error",5),r.YNc(7,Qne,2,1,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",2),r._UZ(9,"input",6),r.TgZ(10,"button",7),r.NdJ("click",function(){return i.onChangeVisibilite()}),r.TgZ(11,"mat-icon"),r._uU(12),r.qZA(),r.qZA(),r.TgZ(13,"div",4),r.YNc(14,Kne,2,1,"mat-error",5),r.YNc(15,Xne,2,1,"mat-error",5),r.YNc(16,eie,2,1,"mat-error",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"mat-dialog-actions"),r.TgZ(18,"button",8),r.NdJ("click",function(){return i.save()}),r._uU(19,"Ok"),r.qZA(),r.TgZ(20,"button",9),r.NdJ("click",function(){return i.close()}),r._uU(21,"Annuler"),r.qZA(),r.TgZ(22,"button",9),r.NdJ("click",function(){return i.onMotDePasseOublie()}),r._uU(23,"Mot de passe oubli\xe9 ?"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("formGroup",i.signinForm),r.xp6(4),r.Q6J("ngIf",i.signinForm.get("email").hasError("email")),r.xp6(1),r.Q6J("ngIf",i.signinForm.get("email").hasError("required")),r.xp6(2),r.Q6J("type",i.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",i.hide),r.xp6(2),r.Oqu(i.hide?"visibility_off":"visibility"),r.xp6(2),r.Q6J("ngIf",i.signinForm.get("password").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signinForm.get("password").hasError("minlength")),r.xp6(1),r.Q6J("ngIf",i.signinForm.get("password").hasError("maxlength")))},directives:[JU,Z1,bo,si,Dl,hd,Ys,_o,js,Ke,Gn,Up,Lc,q1,Rc],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})();function tie(n,t){return e=>{const s=e.controls[t];s.errors&&!s.errors.mustMatch||s.setErrors(e.controls[n].value!==s.value?{mustMatch:!0}:null)}}function nie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function iie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function rie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}function sie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}function oie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function aie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function lie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password1"))}}function cie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password1"))}}function uie(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password2"))}}function die(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password2"))}}let pY=(()=>{class n{constructor(e,i){this.formBuilder=e,this.dialogRef=i,this.signupForm=this.formBuilder.group({nom:["",[st.required,st.minLength(5),st.maxLength(25)]],prenom:["",[st.required,st.minLength(3),st.maxLength(25)]],email:["",[st.required,st.email]],password1:["",[st.required,st.minLength(5),st.maxLength(20)]],password2:["",[st.required,st.minLength(5),st.maxLength(20)]]},{validator:tie("password1","password2")}),this.errorMessage="",this.hide=!0}ngOnInit(){}initForm(){}close(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.signupForm.value)}getErrorMessage(e){let i="";switch(e){case"nom":this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("required")&&(i="Vous devez saisir votre nom"),(this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("minlength")||this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("maxlength"))&&(i="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("required")&&(i="Vous devez saisir votre pr\xe9nom"),(this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("minlength")||this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("maxlength"))&&(i="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("required")&&(i="Vous devez saisir une adresse email"),this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("email")&&(i="L'adresse saisie n'est pas valide.");break;case"password1":this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return i}onChangeVisibilite(){this.hide=!this.hide}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(Vp))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sign-up"]],decls:41,vars:20,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Mot de passe","formControlName","password1","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirmer le mot de passe","formControlName","password2","autocomplete","current-password",3,"type"],["mat-button","","mat-dialog-close","true",3,"disabled","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-dialog-content",0),r.TgZ(1,"mat-form-field",1),r._UZ(2,"input",2),r.TgZ(3,"div",3),r.YNc(4,nie,2,1,"mat-error",4),r.YNc(5,iie,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"mat-form-field",1),r._UZ(8,"input",5),r.TgZ(9,"div",3),r.YNc(10,rie,2,1,"mat-error",4),r.YNc(11,sie,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",1),r._UZ(14,"input",6),r.TgZ(15,"div",3),r.YNc(16,oie,2,1,"mat-error",4),r.YNc(17,aie,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(18,"br"),r.TgZ(19,"mat-form-field",1),r._UZ(20,"input",7),r.TgZ(21,"button",8),r.NdJ("click",function(){return i.onChangeVisibilite()}),r.TgZ(22,"mat-icon"),r._uU(23),r.qZA(),r.qZA(),r.TgZ(24,"div",3),r.YNc(25,lie,2,1,"mat-error",4),r.YNc(26,cie,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(27,"br"),r.TgZ(28,"mat-form-field",1),r._UZ(29,"input",9),r.TgZ(30,"button",8),r.NdJ("click",function(){return i.onChangeVisibilite()}),r.TgZ(31,"mat-icon"),r._uU(32),r.qZA(),r.qZA(),r.TgZ(33,"div",3),r.YNc(34,uie,2,1,"mat-error",4),r.YNc(35,die,2,1,"mat-error",4),r.qZA(),r.qZA(),r.TgZ(36,"mat-dialog-actions"),r.TgZ(37,"button",10),r.NdJ("click",function(){return i.onSave()}),r._uU(38,"Ok"),r.qZA(),r.TgZ(39,"button",11),r._uU(40,"Annuler"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.signupForm),r.xp6(4),r.Q6J("ngIf",(i.signupForm.controls.nom.hasError("minlength")||i.signupForm.controls.nom.hasError("maxlength"))&&!i.signupForm.controls.nom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.nom.hasError("required")),r.xp6(5),r.Q6J("ngIf",(i.signupForm.controls.prenom.hasError("minlength")||i.signupForm.controls.prenom.hasError("maxlength"))&&!i.signupForm.controls.prenom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.prenom.hasError("required")),r.xp6(5),r.Q6J("ngIf",i.signupForm.controls.email.hasError("email")&&!i.signupForm.controls.email.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.email.hasError("required")),r.xp6(3),r.Q6J("type",i.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password1")("aria-pressed",i.hide),r.xp6(2),r.Oqu(i.hide?"visibility_off":"visibility"),r.xp6(2),r.Q6J("ngIf",i.signupForm.controls.password1.hasError("minLength")&&!i.signupForm.controls.password1.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.password1.hasError("required")),r.xp6(3),r.Q6J("type",i.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password2")("aria-pressed",i.hide),r.xp6(2),r.Oqu(i.hide?"visibility_off":"visibility"),r.xp6(2),r.Q6J("ngIf",i.signupForm.controls.password2.hasError("minLength")&&!i.signupForm.controls.password2.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.password2.hasError("required")),r.xp6(2),r.Q6J("disabled",i.signupForm.invalid))},directives:[Z1,bo,si,Dl,hd,Ys,_o,js,Ke,Gn,Up,Lc,q1,OA,Rc],styles:[""]}),n})();function hie(n,t){if(1&n&&(r.TgZ(0,"mat-error",7),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij(" ",e.getErrorMessage("message")," ")}}let fY=(()=>{class n{constructor(e,i,s){this.formBuilder=e,this.matDialogRef=i,this.data=s,this.messageForm=this.formBuilder.group({message:["",[st.required,st.maxLength(150)]]}),this.errorMessage="",this.email=s.email}close(){this.matDialogRef.close()}save(){"VALID"==this.messageForm.status?this.matDialogRef.close(this.messageForm.value):alert("Saisie invalide.")}getErrorMessage(e){let i="";switch(e){case"message":this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("required")&&(i="Vous devez saisir un message"),this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("maxlength")&&(i="Le message doit comporter au maximum 150 caract\xe8res")}return i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(Vp),r.Y36(H1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-messages"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","cols","50","rows","3","formControlName","message","placeholder","Message"],["class","error-message",4,"ngIf"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"h2",0),r._uU(1,"Message :"),r.qZA(),r.TgZ(2,"mat-dialog-content",1),r._uU(3),r.TgZ(4,"mat-form-field",2),r.TgZ(5,"mat-label"),r._uU(6,"Ecrivez ici v\xf4tre message."),r.qZA(),r._UZ(7,"textarea",3),r.TgZ(8,"div"),r.YNc(9,hie,2,1,"mat-error",4),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-dialog-actions"),r.TgZ(11,"button",5),r.NdJ("click",function(){return i.save()}),r._uU(12,"Ok"),r.qZA(),r.TgZ(13,"button",6),r.NdJ("click",function(){return i.close()}),r._uU(14,"Annuler"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("formGroup",i.messageForm),r.xp6(1),r.hij(" ",i.email," "),r.xp6(6),r.Q6J("ngIf",i.messageForm.controls.message.hasError("maxlength")||i.messageForm.controls.message.hasError("required")))},directives:[JU,Z1,bo,si,Dl,M2,hd,Ys,_o,js,Ke,q1,Rc],styles:["mat-label[_ngcontent-%COMP%]{color:#ff0;font-size:large}"]}),n})();function mY(n){return t=>t.lift(new pie(n))}class pie{constructor(t){this.value=t}call(t,e){return e.subscribe(new fie(t,this.value))}}class fie extends Di.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const mk=["*"];function mie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(e),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function gie(n,t){1&n&&(r.TgZ(0,"mat-drawer-content"),r.Hsn(1,2),r.qZA())}const _ie=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],bie=["mat-drawer","mat-drawer-content","*"];function yie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(e),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function vie(n,t){1&n&&(r.TgZ(0,"mat-sidenav-content",3),r.Hsn(1,2),r.qZA())}const Cie=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],wie=["mat-sidenav","mat-sidenav-content","*"],gY=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",_Y={transformDrawer:Ri("transform",[Vt("open, open-instant",ze({transform:"none",visibility:"visible"})),Vt("void",ze({"box-shadow":"none",visibility:"hidden"})),tn("void => open-instant",un("0ms")),tn("void <=> open, open-instant => void",un("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Die=new r.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),CL=new r.OlP("MAT_DRAWER_CONTAINER");let gk=(()=>{class n extends Jl{constructor(e,i,s,o,u){super(s,o,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>yY)),r.Y36(r.SBq),r.Y36(Qa),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&r.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[r.qOj],ngContentSelectors:mk,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),bY=(()=>{class n{constructor(e,i,s,o,u,h,m){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=o,this._ngZone=u,this._doc=h,this._container=m,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new le.xQ,this._animationEnd=new le.xQ,this._animationState="void",this.openedChange=new r.vpe(!0),this._openedStream=this.openedChange.pipe(gt(b=>b),(0,g.U)(()=>{})),this.openedStart=this._animationStarted.pipe(gt(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),mY(void 0)),this._closedStream=this.openedChange.pipe(gt(b=>!b),(0,g.U)(()=>{})),this.closedStart=this._animationStarted.pipe(gt(b=>b.fromState!==b.toState&&"void"===b.toState),mY(void 0)),this._destroyed=new le.xQ,this.onPositionChanged=new r.vpe,this._modeChanged=new le.xQ,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{xn(this._elementRef.nativeElement,"keydown").pipe(gt(b=>27===b.keyCode&&!this.disableClose&&!Bn(b)),Pe(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(on((b,C)=>b.fromState===C.fromState&&b.toState===C.toState)).subscribe(b=>{const{fromState:C,toState:E}=b;(0===E.indexOf("open")&&"void"===C||"void"===E&&0===C.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Me(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Me(e)}get opened(){return this._opened}set opened(e){this.toggle(Me(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,i){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),i)}_setOpen(e,i,s="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=s):(this._animationState="void",i&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(R(1)).subscribe(u=>o(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(__),r.Y36(Xn),r.Y36(xt),r.Y36(r.R0b),r.Y36(Z,8),r.Y36(CL,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&r.WFA("@transform.start",function(o){return i._animationStartListener(o)})("@transform.done",function(o){return i._animationDoneListener(o)}),2&e&&(r.uIk("align",null),r.d8E("@transform",i._animationState),r.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:mk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},directives:[Jl],encapsulation:2,data:{animation:[_Y.transformDrawer]},changeDetection:0}),n})(),yY=(()=>{class n{constructor(e,i,s,o,u,h=!1,m){this._dir=e,this._element=i,this._ngZone=s,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new r.n_E,this.backdropClick=new r.vpe,this._destroyed=new le.xQ,this._doCheckSubject=new le.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new le.xQ,e&&e.change.pipe(Pe(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(Pe(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Me(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Me(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(jt(this._allDrawers),Pe(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(jt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Gl(10),Pe(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,e-=s}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(gt(i=>i.fromState!==i.toState),Pe(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Pe(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Pe(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(R(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Pe((0,Sn.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(mn,8),r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(br),r.Y36(Die),r.Y36(Nn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,gk,5),r.Suo(s,bY,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._content=o.first),r.iGM(o=r.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&r.Gf(gk,5),2&e){let s;r.iGM(s=r.CRH())&&(i._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r._Bn([{provide:CL,useExisting:n}])],ngContentSelectors:bie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(r.F$t(_ie),r.YNc(0,mie,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,gie,2,0,"mat-drawer-content",1)),2&e&&(r.Q6J("ngIf",i.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!i._content))},directives:[Ke,gk],styles:[gY],encapsulation:2,changeDetection:0}),n})(),wL=(()=>{class n extends gk{constructor(e,i,s,o,u){super(e,i,s,o,u)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>CY)),r.Y36(r.SBq),r.Y36(Qa),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&r.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[r.qOj],ngContentSelectors:mk,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),vY=(()=>{class n extends bY{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Me(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=qt(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=qt(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(r.uIk("align",null),r.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),r.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[r.qOj],ngContentSelectors:mk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},directives:[Jl],encapsulation:2,data:{animation:[_Y.transformDrawer]},changeDetection:0}),n})(),CY=(()=>{class n extends yY{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,wL,5),r.Suo(s,vY,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._content=o.first),r.iGM(o=r.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[r._Bn([{provide:CL,useExisting:n}]),r.qOj],ngContentSelectors:wie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(r.F$t(Cie),r.YNc(0,yie,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,vie,2,0,"mat-sidenav-content",1)),2&e&&(r.Q6J("ngIf",i.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!i._content))},directives:[Ke,wL,Jl],styles:[gY],encapsulation:2,changeDetection:0}),n})(),Mie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,tt,Mf,yr],yr,tt]}),n})(),wY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt],tt]}),n})();const DL=["*"],DY=Os(to(class{})),MY=new r.OlP("MatNavList");let Oie=(()=>{class n extends DY{constructor(){super(...arguments),this._stateChanges=new le.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[r._Bn([{provide:MY,useExisting:n}]),r.qOj,r.TTD],ngContentSelectors:DL,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),Vie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[xA,wl,tt,C2,$t],xA,tt,C2,wY]}),n})();const Uie=["*",[["mat-toolbar-row"]]],Hie=["*","mat-toolbar-row"],Zie=ta(class{constructor(n){this._elementRef=n}});let qie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Yie=(()=>{class n extends Zie{constructor(e,i,s){super(e),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(xt),r.Y36(Z))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,qie,5),2&e){let o;r.iGM(o=r.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:Hie,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(Uie),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Gie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt],tt]}),n})();function jie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){return r.CHM(e),r.oxw().onMessage()}),r._uU(1,"Envoyer un message."),r.qZA()}}function zie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",8),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onListeArticles(o)}),r._uU(2),r.qZA(),r._UZ(3,"br"),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.nom)}}function $ie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onNewCompteDialog()}),r._uU(1," Cr\xe9er mon compte "),r.qZA()}}function Wie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onConnectWidthGoogleDialog()}),r._uU(1," Me connecter via mon compte Google "),r.qZA()}}function Jie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){return r.CHM(e),r.oxw().onConnectDialog()}),r._uU(1," Me connecter "),r.qZA()}}function Qie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDisconnectDialog()}),r._uU(1," Me d\xe9connecter "),r.qZA()}}function Kie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",25),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAdmin()}),r._uU(1," Administration "),r.qZA()}}let AY=(()=>{class n{constructor(e,i,s,o,u,h,m,b){this.router=e,this.dialog=i,this.breakpointObserver=s,this.messagesService=o,this.themesService=u,this.articlesService=h,this.authService=m,this.globalService=b,this.userMail="Visiteur",this.userPassword="",this.isAdmin=!1,this.isAuth=!1,this.showFiller=!1,this.isHandset$=this.breakpointObserver.observe(xl_Small).pipe((0,g.U)(C=>C.matches)),this.userSubscription=this.authService.authSubject.subscribe(C=>{let E=0;null!=C||null!=C?("Visiteur"!=C.email&&C.status>0?(this.userMail=null==C?void 0:C.email,this.isAuth=!0):(this.userMail="Visiteur",this.isAuth=!1),E=C.status):(this.isAuth=!1,this.userMail="D\xe9connect\xe9"),this.isAdmin=(E&Ge.administrateur)===Ge.administrateur})}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe(),this.authService.SignOut()}onGoAccueil(){this.router.navigate(["app-acceuil"]),this.globalService.nouvelleVue("Accueil")}onOpenPdf(){this.router.navigate(["app-liste-pdf"]),this.globalService.nouvelleVue("Documents PDF")}onListeArticles(e){this.themesService.changeCurrentTheme(e),this.articlesService.getArticlesCurrentTheme(),this.router.navigate(["app-liste-articles"]),this.globalService.nouvelleVue("Articles "+e.nom)}onEditAlbum(e,i){this.router.navigate(["app-album"],{queryParams:{debut:e,fin:i}}),this.globalService.nouvelleVue("Photos de classes "+e.toString()+" "+i.toString())}onNewCompteDialog(){const e=new Bp;e.disableClose=!0,e.autoFocus=!0,e.width="500px";const i=this.dialog.open(pY);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=i.afterClosed().subscribe(s=>{if(void 0!==s){const o=new Qh("","",s.nom,s.prenom,s.email,!1,cn.initial);this.authService.createNewUser(o,s.password1)}},s=>{console.log(s)})}onConnectWidthGoogleDialog(){this.authService.connectWidthGoogle()}onConnectDialog(){const e=new Bp;e.disableClose=!0,e.autoFocus=!0,e.width="400px",e.data={email:this.userMail,password:this.userPassword};const i=this.dialog.open(hY,e);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=i.afterClosed().subscribe(s=>{let o;void 0!==s&&void 0!==s.email&&void 0!==s.password&&this.authService.SignInUser(s.email,s.password).then(u=>{o=u})},s=>{console.log(s)})}onDisconnectDialog(){this.authService.SignOut(),this.router.navigate(["app-accueil"]),this.authService.emitUserChanged()}onMessage(){var e;const i=new Bp;i.disableClose=!0,i.autoFocus=!0,i.width="450px",i.data={email:null===(e=this.authService.getCurrentUser())||void 0===e?void 0:e.email};const s=this.dialog.open(fY,i);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(o=>{if(o&&o.message){const u=new oY(new Date,i.data.email,o.message,!1,"");this.messagesService.addMessage(u)}},o=>{console.log(o)})}onAdmin(){this.router.navigate(["app-home-administration"])}onAlbumPhotos(){this.router.navigate(["app-album-photos"]),this.globalService.nouvelleVue("Photos de Mori\xe8res")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(wn),r.Y36(Pa),r.Y36(Iv),r.Y36(bL),r.Y36(_v),r.Y36(fd),r.Y36(ar),r.Y36(na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-frame"]],decls:108,vars:17,consts:[[1,"sidenav-container"],["fixedInViewport","true",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-raised-button","",3,"click"],["aria-hidden","false","aria-label","Accueil"],["mat-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["width","100%","color","blue","size","3"],["mat-button","",3,"click"],["href","http://www.ville-moriereslesavignon.fr/","target","_blank"],["href","https://fr.wikipedia.org/wiki/Mori%C3%A8res-l%C3%A8s-Avignon","target","_blank"],["href","https://fr.wikipedia.org/wiki/Jean-Charles_de_Folard","target","_blank"],["href","https://fr.wikipedia.org/wiki/Agricol_Perdiguier","target","_blank"],["href","https://www.petit-patrimoine.com/fiche-petit-patrimoine.php?id_pp=84081_1","target","_blank"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Menu lat\xe9ral"],[1,"titre"],[1,"button-row"],["class","button","mat-raised-button","",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"button"],["mat-raised-button","",1,"button",3,"click"],["mat-raised-button","","color","accent",1,"button",3,"click"],["mat-raised-button","","color","warn",1,"button",3,"click"]],template:function(e,i){if(1&e){const s=r.EpF();r.TgZ(0,"mat-sidenav-container",0),r.TgZ(1,"mat-sidenav",1,2),r.ALo(3,"async"),r.ALo(4,"async"),r.ALo(5,"async"),r._UZ(6,"br"),r.TgZ(7,"mat-nav-list"),r.TgZ(8,"button",3),r.NdJ("click",function(){return i.onGoAccueil()}),r.TgZ(9,"h4"),r.TgZ(10,"mat-icon",4),r._uU(11,"home"),r.qZA(),r._uU(12," Accueil "),r.qZA(),r._UZ(13,"br"),r.qZA(),r.qZA(),r.TgZ(14,"mat-nav-list"),r.YNc(15,jie,2,0,"button",5),r.qZA(),r.TgZ(16,"h1"),r._uU(17,"Articles :"),r.qZA(),r.TgZ(18,"mat-nav-list"),r.YNc(19,zie,4,1,"div",6),r.qZA(),r._UZ(20,"hr",7),r.TgZ(21,"h1"),r._uU(22,"Album photos :"),r.qZA(),r.TgZ(23,"button",8),r.NdJ("click",function(){return i.onAlbumPhotos()}),r._uU(24,"Photos de Mori\xe8res"),r.qZA(),r.TgZ(25,"mat-nav-list"),r.TgZ(26,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1901,1910)}),r._uU(27,"1901-1910"),r.qZA(),r._UZ(28,"br"),r.TgZ(29,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1911,1920)}),r._uU(30,"1911-1920"),r.qZA(),r._UZ(31,"br"),r.TgZ(32,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1921,1930)}),r._uU(33,"1921-1930"),r.qZA(),r._UZ(34,"br"),r.TgZ(35,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1931,1940)}),r._uU(36,"1931-1940"),r.qZA(),r._UZ(37,"br"),r.TgZ(38,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1941,1950)}),r._uU(39,"1941-1950"),r.qZA(),r._UZ(40,"br"),r.TgZ(41,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1951,1960)}),r._uU(42,"1951-1960"),r.qZA(),r._UZ(43,"br"),r.TgZ(44,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1961,1970)}),r._uU(45,"1961-1970"),r.qZA(),r._UZ(46,"br"),r.TgZ(47,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1971,1980)}),r._uU(48,"1971-1980"),r.qZA(),r._UZ(49,"br"),r.TgZ(50,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1981,1990)}),r._uU(51,"1981-1990"),r.qZA(),r._UZ(52,"br"),r.TgZ(53,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1991,2e3)}),r._uU(54,"1991-2000"),r.qZA(),r.qZA(),r.TgZ(55,"mat-nav-list"),r._UZ(56,"hr",7),r.TgZ(57,"h1"),r._uU(58,"Des documents :"),r.qZA(),r.TgZ(59,"button",8),r.NdJ("click",function(){return i.onOpenPdf()}),r._uU(60,"Documents sur Mori\xe8res."),r.qZA(),r.qZA(),r._UZ(61,"hr",7),r.TgZ(62,"mat-nav-list"),r.TgZ(63,"h1"),r._uU(64,"Autres information"),r.qZA(),r.TgZ(65,"ul"),r.TgZ(66,"li"),r.TgZ(67,"a",9),r._uU(68,"Le site officiel de la ville"),r.qZA(),r.qZA(),r._UZ(69,"br"),r.qZA(),r.TgZ(70,"h1"),r._uU(71,"Voir sur wikipedia"),r.qZA(),r.TgZ(72,"ul"),r.TgZ(73,"li"),r.TgZ(74,"a",10),r._uU(75,"Mori\xe8res les Avignon"),r.qZA(),r.qZA(),r._UZ(76,"br"),r.TgZ(77,"li"),r.TgZ(78,"a",11),r._uU(79,"Le chevalier de Folard"),r.qZA(),r.qZA(),r._UZ(80,"br"),r.TgZ(81,"li"),r.TgZ(82,"a",12),r._uU(83,"Agricol Perdiguier"),r.qZA(),r.qZA(),r._UZ(84,"br"),r.qZA(),r.TgZ(85,"h1"),r._uU(86,"Voir sur Petit patrimoine"),r.qZA(),r.TgZ(87,"ul"),r.TgZ(88,"li"),r.TgZ(89,"a",13),r._uU(90,"L'\xe9glise de Mori\xe8res"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(91,"mat-sidenav-content"),r.TgZ(92,"mat-toolbar",14),r.TgZ(93,"button",15),r.NdJ("click",function(){return r.CHM(s),r.MAs(2).toggle()}),r.TgZ(94,"mat-icon",16),r._uU(95,"menu"),r.qZA(),r.qZA(),r.TgZ(96,"div",17),r.TgZ(97,"span"),r._uU(98,"M\xe9moire mori\xe9roise"),r.qZA(),r.qZA(),r.TgZ(99,"div",18),r.YNc(100,$ie,2,0,"button",19),r.YNc(101,Wie,2,0,"button",19),r.YNc(102,Jie,2,0,"button",20),r.YNc(103,Qie,2,0,"button",19),r.YNc(104,Kie,2,0,"button",21),r.qZA(),r.TgZ(105,"h4",22),r._uU(106),r.qZA(),r.qZA(),r._UZ(107,"router-outlet"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("mode",r.lcZ(4,13,i.isHandset$)?"over":"side")("opened",!r.lcZ(5,15,i.isHandset$)),r.uIk("role",r.lcZ(3,11,i.isHandset$)?"dialog":"navigation"),r.xp6(14),r.Q6J("ngIf",i.isAuth),r.xp6(4),r.Q6J("ngForOf",i.themesService.themes),r.xp6(81),r.Q6J("ngIf",!i.isAuth),r.xp6(1),r.Q6J("ngIf",!i.isAuth),r.xp6(1),r.Q6J("ngIf",!i.isAuth),r.xp6(1),r.Q6J("ngIf",i.isAuth),r.xp6(1),r.Q6J("ngIf",i.isAdmin),r.xp6(2),r.hij("Bonjour : ",i.userMail,""))},directives:[CY,vY,Oie,Gn,Lc,Ke,ut,wL,Yie,ym],pipes:[Og],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:370px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.titre[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}h1[_ngcontent-%COMP%]{font-size:20px;color:#ff0}"]}),n})();function Xie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-form-field",11),r.TgZ(1,"ngx-mat-file-input",12),r.NdJ("change",function(s){return r.CHM(e),r.oxw(2).onUpload(s)}),r.qZA(),r.TgZ(2,"mat-icon",13),r._uU(3,"folder"),r.qZA(),r.TgZ(4,"mat-error"),r._uU(5),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("accept",".pdf"),r.xp6(4),r.Oqu(e.getErrorMessage("pdf"))}}function ere(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",16),2&n){const e=r.oxw(3);r.Q6J("value",e.uploadPercent)}}function tre(n,t){if(1&n&&(r.TgZ(0,"mat-form-field",14),r.YNc(1,ere,1,1,"mat-progress-bar",15),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function nre(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Xie,6,2,"mat-form-field",9),r.YNc(2,tre,2,1,"mat-form-field",10),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",!e.fileUploaded||e.fileIsUploading),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function ire(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function rre(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function sre(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("description"))}}function ore(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("description"))}}function are(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("description"))}}function lre(n,t){1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"button",19),r._uU(2,"Valider"),r.qZA(),r.qZA())}let kY=(()=>{class n{constructor(e,i,s,o,u){this.formBuilder=e,this.location=i,this.globalService=s,this.pdfService=o,this.angularFireStorage=u,this.errorMessage="",this.maxSize=1e5,this.fileIsUploading=!1,this.downloadURL="",this.fileUploaded=!1,this.form=this.formBuilder.group({fichier:[""],progressbar:["Progression"],titre:["",[st.required,st.maxLength(50)]],description:["",[st.required,st.minLength(10),st.maxLength(100)]]})}ngOnInit(){null==this.pdf||""==this.pdf.id?(this.pdf=new _L("","","","",0),this.fileUploaded=!1):this.fileUploaded=!0,this.form.controls.fichier.setValue(this.pdf.fichier),this.form.controls.titre.setValue(this.pdf.titre),this.form.controls.description.setValue(this.pdf.description)}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="listePdf/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(h=>{this.uploadPercent=h}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(h=>{this.downloadURL=h})})}getErrorMessage(e){var i,s,o,u,h,m,b,C,E,x,k,P;let Y="";switch(e){case"pdf":(null===(i=this.form)||void 0===i?void 0:i.controls.fichier.touched)&&(Y=this.form.controls.fichier.hasError("maxSize")?"Vous devez s\xe9lectionner un fichier de moins de 16mo":"");break;case"titre":(null===(s=this.form)||void 0===s?void 0:s.controls.titre.touched)&&(Y=this.form.controls.titre.hasError("required")?"Vous devez saisir un titre":""),(null===(u=null===(o=this.form)||void 0===o?void 0:o.get("titre"))||void 0===u?void 0:u.hasError("maxlength"))&&(Y+="le titre doit comporter au plus 50 caract\xe8res");break;case"description":(null===(m=null===(h=this.form)||void 0===h?void 0:h.get("description"))||void 0===m?void 0:m.touched)&&((null===(C=null===(b=this.form)||void 0===b?void 0:b.get("description"))||void 0===C?void 0:C.hasError("required"))&&(Y=this.form.controls.description.hasError("required")?"Vous devez saisir une description du contenu du document":""),(null===(x=null===(E=this.form)||void 0===E?void 0:E.get("description"))||void 0===x?void 0:x.hasError("minlength"))&&(Y+="la description doit comporter au moins 10 caract\xe8res"),(null===(P=null===(k=this.form)||void 0===k?void 0:k.get("description"))||void 0===P?void 0:P.hasError("maxlength"))&&(Y+="la description doit comporter au plus 100 caract\xe8res"))}return Y}onSubmit(){var e,i,s,o,u;this.pdf.titre=null===(i=null===(e=this.form)||void 0===e?void 0:e.get("titre"))||void 0===i?void 0:i.value,this.pdf.description=null===(o=null===(s=this.form)||void 0===s?void 0:s.get("description"))||void 0===o?void 0:o.value,""===(null===(u=this.pdf)||void 0===u?void 0:u.id)?(this.pdf.fichier=this.downloadURL,this.pdf.status=cn.initial,this.pdfService.addPdf(this.pdf)):this.pdfService.updatePdf(this.pdf),this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(zt),r.Y36(na),r.Y36(Av),r.Y36(Yp))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-pdf-form"]],inputs:{pdf:"pdf"},decls:17,vars:8,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","description","placeholder","Description",2,"width","1000px"],["class","button-wrapper",4,"ngIf"],["class","full-width","appearance","outline",4,"ngIf"],["class","full-width","appearance","outline","color","primary",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","fichier","placeholder","Cliquez ici pour s\xe9lectionner un fichier",1,"file-input",3,"accept","change"],["matSuffix",""],["appearance","outline","color","primary",1,"full-width"],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,nre,3,2,"div",2),r._UZ(3,"br"),r.TgZ(4,"mat-form-field",3),r._UZ(5,"input",4),r.TgZ(6,"div",5),r.YNc(7,ire,2,1,"mat-error",6),r.YNc(8,rre,2,1,"mat-error",6),r.qZA(),r.qZA(),r._UZ(9,"br"),r.TgZ(10,"mat-form-field",3),r._UZ(11,"input",7),r.TgZ(12,"div",5),r.YNc(13,sre,2,1,"mat-error",6),r.YNc(14,ore,2,1,"mat-error",6),r.YNc(15,are,2,1,"mat-error",6),r.qZA(),r.qZA(),r.YNc(16,lre,3,0,"div",8),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.fileUploaded),r.xp6(5),r.Q6J("ngIf",i.form.controls.titre.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.form.controls.titre.hasError("maxLength")),r.xp6(5),r.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.required),r.xp6(1),r.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.maxlength),r.xp6(1),r.Q6J("ngIf",!i.fileIsUploading&&i.form.valid))},directives:[Au,bo,si,Ke,Dl,hd,Ys,_o,js,Un,Lc,Up,Rc,xv,Gn],styles:[""]}),n})();function cre(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un nouveau document."),r.qZA())}function ure(n,t){if(1&n&&r._UZ(0,"app-pdf-form",3),2&n){const e=r.oxw();r.Q6J("pdf",e.pdf)}}let dre=(()=>{class n{constructor(){this.pdf=new _L("","","","",0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(e,i){1&e&&(r.YNc(0,cre,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,ure,1,1,"app-pdf-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.pdf),r.xp6(2),r.Q6J("ngIf",i.pdf))},directives:[Ke,kY],styles:[""]}),n})();function hre(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Edition du document : ",e.pdf.titre,"")}}function pre(n,t){if(1&n&&r._UZ(0,"app-pdf-form",3),2&n){const e=r.oxw();r.Q6J("pdf",e.pdf)}}let fre=(()=>{class n{constructor(e,i){this.route=e,this.pdfService=i,this.pdfSubscription=this.pdfService.pdfSubject.pipe(Ss(1)).subscribe(o=>{o.length>0&&(this.pdf=this.pdfService.currentPdf)}),this.pdfService.getPdf(this.route.snapshot.params.id).subscribe(o=>{this.pdf=o.data(),this.pdf.id=o.id})}ngOnInit(){}ngOnDestroy(){null!=this.pdfSubscription&&this.pdfSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(Av))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(e,i){1&e&&(r.YNc(0,hre,2,1,"h4",0),r.TgZ(1,"div",1),r.YNc(2,pre,1,1,"app-pdf-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.pdf),r.xp6(2),r.Q6J("ngIf",i.pdf))},directives:[Ke,kY],styles:[""]}),n})();function mre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddPdf()}),r._uU(1," Ajouter un document. "),r.qZA()}}function gre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecremente()}),r._uU(1,"<<"),r.qZA()}}function _re(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function bre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncremente()}),r._uU(1,">>"),r.qZA()}}function yre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}function vre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onVoirPdf(s)}),r._uU(1,"Fermer le document"),r.qZA()}}function Cre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onVoirPdf(s)}),r._uU(1,"Ouvrir le document"),r.qZA()}}function wre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onValiderPdf(s)}),r._uU(1,"Valider"),r.qZA()}}function Dre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",18),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onEditPdf(s)}),r._uU(1,"Modifier"),r.qZA()}}function Tre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",19),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onDeletePdf(s)}),r._uU(1,"Supprimer"),r.qZA()}}function Mre(n,t){if(1&n&&(r._UZ(0,"iframe",20),r.ALo(1,"safe")),2&n){const e=r.oxw(3);r.Q6J("src",r.xi3(1,1,e.url,"resourceUrl"),r.uOi)}}function Ere(n,t){if(1&n&&(r.TgZ(0,"mat-grid-title"),r.TgZ(1,"mat-card",10),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-content",11),r.TgZ(5,"div"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-actions"),r.TgZ(9,"div",12),r.YNc(10,vre,2,0,"button",13),r.YNc(11,Cre,2,0,"button",13),r.YNc(12,wre,2,0,"button",13),r.YNc(13,Dre,2,0,"button",14),r.YNc(14,Tre,2,0,"button",15),r.qZA(),r.YNc(15,Mre,2,4,"iframe",16),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw().$implicit,i=r.oxw();r.xp6(3),r.Oqu(e.titre),r.xp6(4),r.Oqu(e.description),r.xp6(3),r.Q6J("ngIf",e.fichier==i.url),r.xp6(1),r.Q6J("ngIf",e.fichier!=i.url),r.xp6(1),r.Q6J("ngIf",0==e.status&&i.canWrite),r.xp6(1),r.Q6J("ngIf",i.canWrite),r.xp6(1),r.Q6J("ngIf",i.canWrite),r.xp6(1),r.Q6J("ngIf",e.fichier==i.url)}}function Sre(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Ere,16,8,"mat-grid-title",9),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.pdfCourant&&e<i.pdfCourant+i.pas)}}function xre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecremente()}),r._uU(1,"<<"),r.qZA()}}function Are(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function kre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncremente()}),r._uU(1,">>"),r.qZA()}}function Ire(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}let Rre=(()=>{class n{constructor(e,i,s,o){this.router=e,this.globalService=i,this.pdfService=s,this.authService=o,this.url="",this.canWrite=!1,this.isConnected=!1,this.pdfs=[],this.pageCourante=1,this.nbPages=0,this.pdfCourant=0,this.pas=6,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(u=>{if(this.canWrite=!1,null!=u){const h=u.status;null!=h&&h>=Ge.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=h&&(h&Ge.editPdf)==Ge.editPdf}}),o.emitUserChanged(),this.pdfService.getPdfsValides().subscribe(u=>{this.pdfs=u.docs.map(h=>{const m=h.data();return m.id=h.id,m}),this.nbPages=Math.ceil(this.pdfs.length/this.pas)}),null!=this.currentUser&&(this.canWrite=(this.currentUser.status&Ge.editArticle)===Ge.editArticle)}ngOnInit(){}ngOnDestroy(){this.globalService.finDeVue(),null!=this.userSubscription&&this.userSubscription.unsubscribe()}onAddPdf(){this.router.navigate(["app-add-pdf"]),this.pdfService.getPdfsValides()}onEditPdf(e){this.router.navigate(["app-edit-pdf/",e.id])}onValiderPdf(e){this.pdfService.validerPdf(e),this.pdfService.getPdfsValides()}onDeletePdf(e){this.pdfService.supprimerPdf(e),this.pdfService.getPdfsValides()}onVoirPdf(e){this.url=this.url===e.fichier?"":e.fichier}onDecremente(){this.pdfCourant-=this.pas,this.pageCourante=Math.ceil(this.pdfCourant/this.pas)+1}onIncremente(){this.pdfCourant+=this.pas,this.pageCourante=Math.ceil(this.pdfCourant/this.pas)+1}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(wn),r.Y36(na),r.Y36(Av),r.Y36(ar))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-liste-pdf"]],decls:16,vars:14,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],[2,"height","80%"],["cols","1","rowHeight","1000","gutterSize","20px"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],[1,"card-item"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"]],template:function(e,i){1&e&&(r.YNc(0,mre,2,0,"button",0),r.TgZ(1,"div"),r.YNc(2,gre,2,0,"button",1),r.YNc(3,_re,2,0,"button",2),r._uU(4),r.YNc(5,bre,2,0,"button",1),r.YNc(6,yre,2,0,"button",2),r.qZA(),r.TgZ(7,"div",3),r.TgZ(8,"mat-grid-list",4),r.YNc(9,Sre,2,1,"div",5),r.qZA(),r.qZA(),r.TgZ(10,"div"),r.YNc(11,xre,2,0,"button",1),r.YNc(12,Are,2,0,"button",2),r._uU(13),r.YNc(14,kre,2,0,"button",1),r.YNc(15,Ire,2,0,"button",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.isConnected),r.xp6(2),r.Q6J("ngIf",i.pageCourante>1),r.xp6(1),r.Q6J("ngIf",i.pageCourante<=1),r.xp6(1),r.AsE(" Page ",i.pageCourante," sur ",i.nbPages," "),r.xp6(1),r.Q6J("ngIf",i.pageCourante<i.nbPages),r.xp6(1),r.Q6J("ngIf",i.pageCourante>=i.nbPages),r.xp6(3),r.Q6J("ngForOf",i.pdfs),r.xp6(2),r.Q6J("ngIf",i.pageCourante>1),r.xp6(1),r.Q6J("ngIf",i.pageCourante<=1),r.xp6(1),r.AsE(" Page ",i.pageCourante," sur ",i.nbPages," "),r.xp6(1),r.Q6J("ngIf",i.pageCourante<i.nbPages),r.xp6(1),r.Q6J("ngIf",i.pageCourante>=i.nbPages))},directives:[Ke,J2,ut,Gn,El,Ml,md,Tv],pipes:[lY],styles:[".card-item[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();class IY{constructor(t,e,i,s,o,u,h,m){this.id=t,this.annee=e,this.auteur=i,this.nomAuteur=s,this.listeEleves=o,this.photo=u,this.titre=h,this.status=m}}function Ore(n,t){1&n&&(r.TgZ(0,"mat-error"),r._uU(1," Merci de s\xe9lectionner un fichier. "),r.qZA())}function Nre(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Pre(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",14),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Fre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-form-field",10),r.TgZ(2,"ngx-mat-file-input",11),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(3,"mat-icon",12),r._uU(4,"folder"),r.qZA(),r.YNc(5,Ore,2,0,"mat-error",1),r.YNc(6,Nre,2,1,"mat-error",1),r.qZA(),r.TgZ(7,"div",4),r.YNc(8,Pre,1,1,"mat-progress-bar",13),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("required")),r.xp6(1),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("maxSize")),r.xp6(2),r.Q6J("ngIf",e.fileIsUploading)}}function Lre(n,t){if(1&n&&r._UZ(0,"img",16),2&n){const e=r.oxw(2);r.s9C("src",null==e.photo?null:e.photo.photo,r.LSH)}}function Bre(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Lre,1,1,"img",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null!=(null==e.photo?null:e.photo.photo))}}function Vre(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("annee"))}}function Ure(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function Hre(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("listeEleves"))}}let ML=(()=>{class n{constructor(e,i,s,o,u,h,m){var b;this.formBuilder=e,this.globalService=i,this.authService=s,this.photosService=o,this.location=u,this.angularFireStorage=h,this.breakpointObserver=m,this.uploadPercent=0,this.errorMessage="",this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(xl_Small).pipe((0,g.U)(C=>C.matches)),null==this.photo&&(this.photo=new IY("",void 0,null===(b=this.authService.getCurrentUser())||void 0===b?void 0:b.id,"","","")),null==this.photo.photo&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],legende:["",[st.maxLength(50)]],titre:["",[st.required,st.maxLength(50)]],annee:["",[st.required,st.min(1900),st.max(2020)]],listeEleves:["",[st.required,st.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(C=>{var E;if(this.currentUser=C,null!=C)if(this.isConnected=null!=C&&(null===(E=C.email)||void 0===E?void 0:E.trim())!=s.getVisiteur().id.trim(),this.isConnected){const x=C.status;this.canWrite=null!=x&&(x&Ge.editArticle)==Ge.editArticle}else this.canWrite=!1}),s.emitUserChanged()}ngOnInit(){this.initForm()}ngOnDestroy(){this.globalService.finDeVue(),null!=this.userSubscription&&this.userSubscription.unsubscribe()}initForm(){var e,i,s;this.addPhotoForm.controls.titre.setValue(null===(e=this.photo)||void 0===e?void 0:e.titre),this.addPhotoForm.controls.listeEleves.setValue(null===(i=this.photo)||void 0===i?void 0:i.listeEleves),this.addPhotoForm.controls.annee.setValue(null===(s=this.photo)||void 0===s?void 0:s.annee)}onSubmit(){var e,i,s,o,u,h,m,b,C;(null===(e=this.addPhotoForm)||void 0===e?void 0:e.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(s=null===(i=this.addPhotoForm)||void 0===i?void 0:i.get("titre"))||void 0===s?void 0:s.value,this.photo.annee=null===(u=null===(o=this.addPhotoForm)||void 0===o?void 0:o.get("annee"))||void 0===u?void 0:u.value,this.photo.listeEleves=null===(m=null===(h=this.addPhotoForm)||void 0===h?void 0:h.get("listeEleves"))||void 0===m?void 0:m.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(b=this.currentUser)||void 0===b?void 0:b.id,this.photo.nomAuteur=null===(C=this.authService.getCurrentUser())||void 0===C?void 0:C.prenom,console.log(this.currentUser),this.photosService.addPhoto(this.photo)):this.photosService.updatePhoto(this.photo),this.photosService.getPhotos(),this.location.back())}getErrorMessage(e){var i,s,o,u;let h="";switch(e){case"titre":(null===(i=this.addPhotoForm)||void 0===i?void 0:i.controls.titre.touched)&&(h=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"annee":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.annee.touched)&&(h=this.addPhotoForm.controls.annee.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(o=this.addPhotoForm)||void 0===o?void 0:o.controls.listeEleves.touched)&&(h=this.addPhotoForm.controls.listeEleves.hasError("required")?"Vous devez saisir une liste des \xe9l\xe8ves":"");break;case"photo":(null===(u=this.addPhotoForm)||void 0===u?void 0:u.controls.photo.touched)&&(h=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo de classes":"")}return h}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Classes/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(h=>{this.uploadPercent=h}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(h=>{this.fileUrl=h})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(na),r.Y36(ar),r.Y36(Oc),r.Y36(zt),r.Y36(Yp),r.Y36(Iv))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-photos-de-classe-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","number","placeholder","Ann\xe9e","formControlName","annee"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Liste des \xe9l\xe8ves","formControlName","listeEleves"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(1,Fre,9,3,"div",1),r.YNc(2,Bre,2,1,"div",1),r.TgZ(3,"div"),r.TgZ(4,"mat-form-field",2),r._UZ(5,"input",3),r.TgZ(6,"div",4),r.YNc(7,Vre,2,1,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",2),r._UZ(9,"input",6),r.TgZ(10,"div",4),r.YNc(11,Ure,2,1,"mat-error",5),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",2),r._UZ(14,"textarea",7),r.TgZ(15,"div",4),r.YNc(16,Hre,2,1,"mat-error",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",8),r.TgZ(18,"button",9),r._uU(19,"Valider"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.addPhotoForm),r.xp6(1),r.Q6J("ngIf",null!=(null==i.photo?null:i.photo.photo)&&""==(null==i.photo?null:i.photo.photo)),r.xp6(1),r.Q6J("ngIf",""!=(null==i.photo?null:i.photo.photo)),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.annee.hasError("required")),r.xp6(4),r.Q6J("ngIf",i.addPhotoForm.controls.titre.hasError("required")),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.listeEleves.hasError("required")),r.xp6(2),r.Q6J("disabled",i.addPhotoForm.invalid))},directives:[Au,bo,si,Ke,Dl,hd,NC,Ys,_o,js,Gn,Un,Lc,Up,Rc,xv],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.img[_ngcontent-%COMP%]{max-width:40%;align-content:left}.button[_ngcontent-%COMP%]{text-align:center}.img[_ngcontent-%COMP%]{max-width:35%;align-content:left}.photo-input[_ngcontent-%COMP%]{background-color:#000;color:#fafa00}.file-input[_ngcontent-%COMP%]{color:#161620}"]}),n})();function Zre(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajouter une photo de classe."),r.qZA())}function qre(n,t){if(1&n&&r._UZ(0,"app-photos-de-classe-form",3),2&n){const e=r.oxw();r.Q6J("photo",e.photo)}}let Yre=(()=>{class n{constructor(e){var i;this.authService=e,this.isConnected=!1,this.userDroits=0,this.photo=new IY("",void 0,null===(i=this.authService.getCurrentUser())||void 0===i?void 0:i.id,"","",""),this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(s=>{this.isConnected=s.status>cn.initial})}ngOnInit(){}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ar))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(e,i){1&e&&(r.YNc(0,Zre,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,qre,1,1,"app-photos-de-classe-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Ke,ML],styles:[""]}),n})();function Gre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",2),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddPhoto()}),r._uU(1," Ajouter une photo de classe..\n"),r.qZA()}}function jre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",9),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().onEdit(s)}),r._uU(1,"Modifier la liste des \xe9l\xe8ves"),r.qZA()}}function zre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card",3),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.TgZ(6,"img",4),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onZoom(o)}),r.qZA(),r.TgZ(7,"mat-card-content",5),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"div",6),r.YNc(12,jre,2,0,"button",7),r.qZA(),r.qZA(),r.qZA(),r._UZ(13,"div",8),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw();r.xp6(3),r.AsE("",e.titre," par : ",e.nomAuteur," (Cliquez sur la photo pour l'agrandir.)"),r.xp6(2),r.Oqu(e.annee),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.listeEleves),r.xp6(2),r.Q6J("ngIf",i.canWrite)}}let $re=(()=>{class n{constructor(e,i,s,o,u,h,m){let b;this.route=e,this.router=i,this.photosService=s,this.globalService=o,this.usersService=u,this.authService=h,this.matDialog=m,this.isConnected=!1,this.listePhotos=[],this.listeSelectedPhotos=[],this.debut=0,this.fin=0,this.canWrite=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(C=>{this.isConnected=!!(C&&C.status>=Ge.visiteur),this.isConnected?(b=C.status,this.canWrite=(b&Ge.editPhotosDeClasse)===Ge.editPhotosDeClasse):this.canWrite=!1}),h.emitUserChanged(),this.queryParamsSubscription=this.route.queryParamMap.subscribe(C=>{C.has("debut")&&C.has("fin")&&(this.debut=C.get("debut"),this.fin=C.get("fin"),this.CherchePhotos())},C=>{console.log("Erreur : "+C.message)}),this.photosSubscription=this.photosService.photoSubject.subscribe(C=>{this.listePhotos=C,this.CherchePhotos()}),this.photosService.emitPhoto()}ngOnInit(){}ngOnDestroy(){this.globalService.finDeVue(),null!=this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe(),null!=this.userSubscription&&this.userSubscription.unsubscribe(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe()}CherchePhotos(){0!=this.debut&&0!=this.fin&&(this.filtrePhotos(),this.addPrenomAuteur())}filtrePhotos(){this.listeSelectedPhotos.splice(0),this.listeSelectedPhotos=this.listePhotos.filter(e=>1==e.status&&e.annee>=this.debut&&e.annee<=this.fin)}addPrenomAuteur(){this.listeSelectedPhotos.forEach(e=>{this.usersService.getUser(e.auteur).subscribe(i=>{const s=i.data();e.nomAuteur=s.prenom})})}onAddPhoto(){this.router.navigate(["app-add-photo-de-classe"])}onEdit(e){this.router.navigate(["app-edit-photo-de-classe",e.id])}onZoom(e){this.photosService.currentPhoto=e,this.matDialog.open(Wre,{height:"100%",width:"55%"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(wn),r.Y36(Oc),r.Y36(na),r.Y36(pd),r.Y36(ar),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-album"]],decls:4,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],["alt","Photo introuvable",1,"img",3,"src","click"],[1,"card-container"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[2,"height","15px"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1,"Photos de classes"),r.qZA(),r.YNc(2,Gre,2,0,"button",0),r.YNc(3,zre,14,6,"div",1)),2&e&&(r.xp6(2),r.Q6J("ngIf",i.isConnected),r.xp6(1),r.Q6J("ngForOf",i.listeSelectedPhotos))},directives:[Ke,ut,Gn,El,Ml,gd,md],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:0;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:10%;max-height:20%;align-content:left}"]}),n})(),Wre=(()=>{class n{constructor(e){var i,s,o,u;this.photosService=e,this.image=null===(i=e.currentPhoto)||void 0===i?void 0:i.photo,this.listeEleves=null===(s=e.currentPhoto)||void 0===s?void 0:s.listeEleves,this.titre=null===(o=e.currentPhoto)||void 0===o?void 0:o.titre,this.sousTitre=""+(null===(u=e.currentPhoto)||void 0===u?void 0:u.annee.toString())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Oc))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-maximise-image"]],decls:14,vars:4,consts:[["mat-card-image","","dialog-img","","alt","Photo de classe",1,"dialog-img",3,"src"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.qZA(),r._UZ(6,"img",0),r.TgZ(7,"mat-card-content"),r.TgZ(8,"pre"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-actions"),r.TgZ(11,"div"),r.TgZ(12,"button",1),r._uU(13,"Fermer"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(i.titre),r.xp6(2),r.Oqu(i.sousTitre),r.xp6(1),r.s9C("src",i.image,r.LSH),r.xp6(3),r.hij("            ",i.listeEleves,"\n        "))},directives:[El,eD,Ml,gd,X1,md,Tv,Gn,OA],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),n})();function Jre(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Edition de la photo de classe de l'ann\xe9e ",e.photo.annee,"")}}function Qre(n,t){if(1&n&&r._UZ(0,"app-photos-de-classe-form",3),2&n){const e=r.oxw();r.Q6J("photo",e.photo)}}let Kre=(()=>{class n{constructor(e,i){this.route=e,this.photosService=i,this.photosService.getPhoto(this.route.snapshot.params.id).subscribe(o=>{this.photo=o.data(),this.photo.id=o.id},o=>{console.log("Erreur = "+o.message)})}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(Oc))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(e,i){1&e&&(r.YNc(0,Jre,2,1,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Qre,1,1,"app-photos-de-classe-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Ke,ML],styles:[""]}),n})(),bi=(()=>{class n{constructor(e){this.authService=e,this.userSubscription=this.authService.authSubject.subscribe(i=>{this.currentUser=i}),this.authService.emitUserChanged()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}canActivate(){return new Promise(e=>{e(!!this.currentUser)})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ar))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xre=(()=>{class n{constructor(e,i){this.router=e,this.authService=i}ngOnInit(){}onDemandeMail(){this.authService.sendMailNewUser(),this.router.navigate(["app-accueil"])}onAnnuler(){this.router.navigate(["app-accueil"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(wn),r.Y36(ar))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-unvalidate-user-message"]],decls:8,vars:0,consts:[["mat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1,"Votre adresse mail n'a pas \xe9t\xe9 valid\xe9e."),r.qZA(),r.TgZ(2,"h5"),r._uU(3,"Un mail vous a \xe9t\xe9 envoy\xe9, il est n\xe9cessaire de cliquer sur le lien qui y figure pour finaliser votre inscription. "),r.qZA(),r.TgZ(4,"button",0),r.NdJ("click",function(){return i.onDemandeMail()}),r._uU(5,"Redemander un mail de validation"),r.qZA(),r.TgZ(6,"button",0),r.NdJ("click",function(){return i.onAnnuler()}),r._uU(7,"Annuler"),r.qZA())},directives:[Gn],styles:[""]}),n})();function ese(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddPhoto()}),r._uU(1," Ajouter une photo de Mori\xe8res.\n"),r.qZA()}}function tse(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function nse(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function ise(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function rse(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}function sse(n,t){if(1&n&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("            ",e.texte,"\n          ")}}function ose(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",13),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onEdit(s)}),r._uU(1,"Modifier le texte"),r.qZA()}}function ase(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"img",10),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().onZoom(s)}),r.qZA(),r.TgZ(8,"mat-card-content"),r.YNc(9,sse,2,1,"pre",9),r.qZA(),r.TgZ(10,"div",11),r.YNc(11,ose,2,0,"button",12),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw().$implicit,i=r.oxw();r.xp6(4),r.Oqu(e.titre),r.xp6(2),r.hij("Photo mise en ligne par : ",e.nomAuteur,""),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(2),r.Q6J("ngIf",e.texte),r.xp6(2),r.Q6J("ngIf",i.canWrite)}}function lse(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,ase,12,5,"mat-grid-tile",9),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.photoCourante&&e<i.photoCourante+i.pasPhotos)}}function cse(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function use(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function dse(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function hse(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}let pse=(()=>{class n{constructor(e,i,s,o,u){this.photosMorieresService=e,this.router=i,this.globalService=s,this.authService=o,this.matDialog=u,this.photos=[],this.isConnected=!1,this.canWrite=!1,this.photoCourante=0,this.pasPhotos=4,this.pageCourantePhoto=1,this.nbPagesPhotos=0,this.authSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(h=>{if(this.canWrite=!1,null!=h){const m=h.status;null!=m&&m>=Ge.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=m&&(m&Ge.editArticle)==Ge.editArticle}}),o.emitUserChanged(),this.photosSubscription=this.photosMorieresService.photoMorieresSubject.pipe(Ss(1)).subscribe(h=>{this.photos=h,this.nbPagesPhotos=Math.ceil(h.length/this.pasPhotos)}),this.photosMorieresService.getPhotosMorieres()}ngOnInit(){}ngOnDestroy(){this.globalService.finDeVue(),null!=this.authSubscription&&this.authSubscription.unsubscribe(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe(),null!=this.photosCarouselSubscription&&this.photosCarouselSubscription.unsubscribe()}onAddPhoto(){this.router.navigate(["app-Add-photo-album"])}onEdit(e){this.router.navigate(["app-edit-photo-album/",e.id])}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1}onIncrementePhoto(){this.photoCourante+=this.pasPhotos,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1}onZoom(e){this.photosMorieresService.photo=e,this.matDialog.open(fse,{height:"90%",width:"60%"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(hD),r.Y36(wn),r.Y36(na),r.Y36(ar),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-album-photos"]],decls:18,vars:14,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["width","100%","color","blue","size","3"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-image","","alt","Photo",3,"src","click"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Album photos de Mori\xe8res"),r.qZA(),r.YNc(2,ese,2,0,"button",0),r._UZ(3,"hr",1),r.TgZ(4,"h1"),r._uU(5,"Cliquez sur une photo pour l'agrandir."),r.qZA(),r.YNc(6,tse,2,0,"button",2),r.YNc(7,nse,2,0,"button",3),r._uU(8),r.YNc(9,ise,2,0,"button",2),r.YNc(10,rse,2,0,"button",3),r.TgZ(11,"mat-grid-list",4),r.YNc(12,lse,2,1,"div",5),r.qZA(),r.YNc(13,cse,2,0,"button",2),r.YNc(14,use,2,0,"button",3),r._uU(15),r.YNc(16,dse,2,0,"button",2),r.YNc(17,hse,2,0,"button",3)),2&e&&(r.xp6(2),r.Q6J("ngIf",i.isConnected),r.xp6(4),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE("\nPage ",i.pageCourantePhoto," sur ",i.nbPagesPhotos,"\n"),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos),r.xp6(2),r.Q6J("ngForOf",i.photos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE("\nPage ",i.pageCourantePhoto," sur ",i.nbPagesPhotos,"\n"),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos))},directives:[Ke,J2,ut,Gn,$2,El,eD,Ml,gd,X1,md],styles:[".card[_ngcontent-%COMP%]{background-color:#313131;height:100%}.img[_ngcontent-%COMP%]{object-fit:fill;height:40%;max-height:40%;max-width:60%}mat-grid-tile[_ngcontent-%COMP%]{margin:20px}mat-grid-list[_ngcontent-%COMP%]{max-width:97%;vertical-align:top}.header-image[_ngcontent-%COMP%]{vertical-align:top}button[_ngcontent-%COMP%]{font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:50px}pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;font-size:1.6vh;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}h1[_ngcontent-%COMP%]{color:#ff0}"]}),n})(),fse=(()=>{class n{constructor(e){var i,s,o;this.photosMorieresService=e,this.image=null===(i=e.photo)||void 0===i?void 0:i.photo,this.texte=null===(s=e.photo)||void 0===s?void 0:s.texte,this.titre=null===(o=e.photo)||void 0===o?void 0:o.titre}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(hD))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-maximise-photo"]],decls:12,vars:3,consts:[["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.qZA(),r._UZ(4,"img",0),r.TgZ(5,"mat-card-content"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-actions"),r.TgZ(9,"div"),r.TgZ(10,"button",1),r._uU(11,"Fermer"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(i.titre),r.xp6(1),r.s9C("src",i.image,r.LSH),r.xp6(3),r.hij("            ",i.texte,"\n        "))},directives:[El,eD,Ml,X1,md,Tv,Gn,OA],styles:[""]}),n})();class RY{constructor(t,e,i,s,o,u,h,m){this.id=t,this.periode=e,this.auteur=i,this.nomAuteur=s,this.texte=o,this.photo=u,this.titre=h,this.status=m}}function mse(n,t){1&n&&(r.TgZ(0,"mat-error"),r._uU(1," Merci de s\xe9lectionner un fichier. "),r.qZA())}function gse(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function _se(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",14),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function bse(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-form-field",10),r.TgZ(2,"ngx-mat-file-input",11),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(3,"mat-icon",12),r._uU(4,"folder"),r.qZA(),r.YNc(5,mse,2,0,"mat-error",1),r.YNc(6,gse,2,1,"mat-error",1),r.qZA(),r.TgZ(7,"div",4),r.YNc(8,_se,1,1,"mat-progress-bar",13),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("required")),r.xp6(1),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("maxSize")),r.xp6(2),r.Q6J("ngIf",e.fileIsUploading)}}function yse(n,t){if(1&n&&r._UZ(0,"img",16),2&n){const e=r.oxw(2);r.s9C("src",null==e.photo?null:e.photo.photo,r.LSH)}}function vse(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,yse,1,1,"img",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null!=(null==e.photo?null:e.photo.photo))}}function Cse(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("periode"))}}function wse(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function Dse(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}let EL=(()=>{class n{constructor(e,i,s,o,u,h,m){var b,C;this.formBuilder=e,this.authService=i,this.photosService=s,this.location=o,this.angularFireStorage=u,this.breakpointObserver=h,this.matDialog=m,this.uploadPercent=0,this.errorMessage="",this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(xl_Small).pipe((0,g.U)(E=>E.matches)),console.log(this.photo),null==this.photo&&(this.photo=new RY("",void 0,null===(b=this.authService.getCurrentUser())||void 0===b?void 0:b.id,"","","")),null==(null===(C=this.photo)||void 0===C?void 0:C.photo)&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],titre:["",[st.required,st.maxLength(50)]],periode:["",[st.required,st.maxLength(30)]],texte:["",[st.required,st.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(E=>{var x;if(this.currentUser=E,null!=E)if(this.isConnected=null!=E&&(null===(x=E.email)||void 0===x?void 0:x.trim())!=i.getVisiteur().id.trim(),this.isConnected){const k=E.status;this.canWrite=null!=k&&(k&Ge.editArticle)==Ge.editArticle}else this.canWrite=!1}),i.emitUserChanged()}ngOnInit(){this.initForm()}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}initForm(){var e,i,s,o;this.addPhotoForm.controls.photo.setValue(null===(e=this.photo)||void 0===e?void 0:e.photo),this.addPhotoForm.controls.titre.setValue(null===(i=this.photo)||void 0===i?void 0:i.titre),this.addPhotoForm.controls.texte.setValue(null===(s=this.photo)||void 0===s?void 0:s.texte),this.addPhotoForm.controls.periode.setValue(null===(o=this.photo)||void 0===o?void 0:o.periode)}onSubmit(){var e,i,s,o,u,h,m,b,C;(null===(e=this.addPhotoForm)||void 0===e?void 0:e.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(s=null===(i=this.addPhotoForm)||void 0===i?void 0:i.get("titre"))||void 0===s?void 0:s.value,this.photo.periode=null===(u=null===(o=this.addPhotoForm)||void 0===o?void 0:o.get("periode"))||void 0===u?void 0:u.value,this.photo.texte=null===(m=null===(h=this.addPhotoForm)||void 0===h?void 0:h.get("texte"))||void 0===m?void 0:m.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(b=this.currentUser)||void 0===b?void 0:b.id,this.photo.nomAuteur=null===(C=this.authService.getCurrentUser())||void 0===C?void 0:C.prenom,console.log(this.photo),this.photosService.addPhotoMorieres(this.photo)):this.photosService.updatePhotoMorieres(this.photo),this.photosService.getPhotosMorieres(),this.location.back())}getErrorMessage(e){var i,s,o,u;let h="";switch(e){case"titre":(null===(i=this.addPhotoForm)||void 0===i?void 0:i.controls.titre.touched)&&(h=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"periode":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.periode.touched)&&(h=this.addPhotoForm.controls.periode.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(o=this.addPhotoForm)||void 0===o?void 0:o.controls.texte.touched)&&(h=this.addPhotoForm.controls.texte.hasError("required")?"Vous devez saisir un texte":"");break;case"photo":(null===(u=this.addPhotoForm)||void 0===u?void 0:u.controls.photo.touched)&&(h=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo":"")}return h}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="PhotosMorieres/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(h=>{this.uploadPercent=h}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(h=>{this.fileUrl=h})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Co),r.Y36(ar),r.Y36(hD),r.Y36(zt),r.Y36(Yp),r.Y36(Iv),r.Y36(Pa))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-photo-album-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","text","placeholder","P\xe9riode","formControlName","periode"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Texte","formControlName","texte"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(1,bse,9,3,"div",1),r.YNc(2,vse,2,1,"div",1),r.TgZ(3,"div"),r.TgZ(4,"mat-form-field",2),r._UZ(5,"input",3),r.TgZ(6,"div",4),r.YNc(7,Cse,2,1,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",2),r._UZ(9,"input",6),r.TgZ(10,"div",4),r.YNc(11,wse,2,1,"mat-error",5),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",2),r._UZ(14,"textarea",7),r.TgZ(15,"div",4),r.YNc(16,Dse,2,1,"mat-error",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",8),r.TgZ(18,"button",9),r._uU(19,"Valider"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.addPhotoForm),r.xp6(1),r.Q6J("ngIf",""==(null==i.photo?null:i.photo.photo)),r.xp6(1),r.Q6J("ngIf",""!=(null==i.photo?null:i.photo.photo)),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.periode.hasError("required")),r.xp6(4),r.Q6J("ngIf",i.addPhotoForm.controls.titre.hasError("required")),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.texte.hasError("required")),r.xp6(2),r.Q6J("disabled",i.addPhotoForm.invalid||i.fileIsUploading))},directives:[Au,bo,si,Ke,Dl,hd,Ys,_o,js,Gn,Un,Lc,Up,Rc,xv],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:35%;align-content:center}"]}),n})();function Tse(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Edition d'une photo de Mori\xe8res."),r.qZA())}function Mse(n,t){if(1&n&&r._UZ(0,"app-photo-album-form",3),2&n){const e=r.oxw();r.Q6J("photo",e.photo)}}function Sse(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'une photo de Mori\xe8res."),r.qZA())}function xse(n,t){if(1&n&&r._UZ(0,"app-photo-album-form",3),2&n){const e=r.oxw();r.Q6J("article",e.photo)}}const Ase=[{path:"app-accueil",component:eK},{path:"app-frame",component:AY},{path:"app-sign-in",component:hY},{path:"app-sign-up",component:pY},{path:"app-user-data",component:lH},{path:"app-unvalidate-user-message",component:Xre},{path:"app-liste-pdf",component:Rre},{path:"app-edit-pdf/:id",canActivate:[bi],component:fre},{path:"app-add-pdf",canActivate:[bi],component:dre},{path:"app-liste-articles",component:Sne},{path:"app-edit-article/:id",canActivate:[bi],component:vL},{path:"app-add-article",canActivate:[bi],component:Wne},{path:"app-article-form",canActivate:[bi],component:fk},{path:"app-dialog-maximise-article-image",component:yL},{path:"app-article-form",canActivate:[bi],component:fk},{path:"app-album",component:$re},{path:"app-edit-photo-de-classe/:id",canActivate:[bi],component:Kre},{path:"app-add-photo-de-classe",canActivate:[bi],component:Yre},{path:"app-photos-de-classe-form",canActivate:[bi],component:ML},{path:"app-droits",canActivate:[bi],component:sY},{path:"app-droits-form",canActivate:[bi],component:rY},{path:"app-home-administration",canActivate:[bi],component:_ne},{path:"app-liste-messages",canActivate:[bi],component:aY},{path:"app-valider-articles",canActivate:[bi],component:kne},{path:"app-messages",canActivate:[bi],component:fY},{path:"app-add-actualite",canActivate:[bi],component:Nee},{path:"app-edit-actualite/:id",canActivate:[bi],component:Rte},{path:"app-gestion-actualite",canActivate:[bi],component:Ote},{path:"app-actualite-form",canActivate:[bi],component:mL},{path:"app-carousel-form",canActivate:[bi],component:Xq},{path:"app-add-photo-carousel",canActivate:[bi],component:qee},{path:"app-album-photos",component:pse},{path:"app-edit-photo-album/:id",canActivate:[bi],component:(()=>{class n{constructor(e,i){this.route=e,this.photosMorieresService=i,i.getPhotoMorieres(this.route.snapshot.params.id).subscribe(o=>{this.photo=o.data(),this.photo.id=o.id})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(hD))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-photo-album"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(e,i){1&e&&(r.YNc(0,Tse,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Mse,1,1,"app-photo-album-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Ke,EL],styles:[""]}),n})()},{path:"app-Add-photo-album",canActivate:[bi],component:(()=>{class n{constructor(){console.log("Add photo"),this.photo=new RY("","","","","","","",cn.initial)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-photo-album"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(e,i){1&e&&(r.YNc(0,Sse,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,xse,1,1,"app-photo-album-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Ke,EL],styles:[""]}),n})()},{path:"app-photo-album-form",canActivate:[bi],component:EL},{path:"",redirectTo:"app-accueil",pathMatch:"full"},{path:"**",redirectTo:"app-accueil"}];let kse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Nr.forRoot(Ase)],Nr]}),n})(),Ise=(()=>{class n{constructor(e,i,s){this.authService=e,this.themesService=i,this.globalService=s,this.title="MemoireMorieroise",this.authService.signInVisiteur().then(()=>{this.globalService.ConnecteVisiteur(),this.themesService.getThemes()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ar),r.Y36(_v),r.Y36(na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"app-frame")},directives:[AY],styles:[""]}),n})();const Zse={provide:new r.OlP("mat-autocomplete-scroll-strategy"),deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let jse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Zse],imports:[[Sa,RA,tt,$t],yr,RA,tt]}),n})(),Wse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pu,tt],tt]}),n})(),Xse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Sa,tt,Xa],tt]}),n})(),ooe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt,wl],tt]}),n})();const ZY=new r.OlP("mat-chips-default-options"),yoe={separatorKeyCodes:[13]};let voe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[no,{provide:ZY,useValue:yoe}],imports:[[tt]]}),n})(),_k=(()=>{class n{constructor(){this.changes=new le.xQ,this.optionalLabel="Optional"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Uoe={provide:_k,deps:[[new r.FiY,new r.tp0,_k]],useFactory:function(n){return n||new _k}};let $oe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Uoe,no],imports:[[tt,$t,Xa,tD,U_,Qq,wl],tt]}),n})(),pD=(()=>{class n{constructor(){this.changes=new le.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Eae={provide:new r.OlP("mat-datepicker-scroll-strategy"),deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Pae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[pD,Eae],imports:[[$t,tD,Sa,pu,Xa,tt],yr]}),n})(),Hae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),nle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,tt,Hae,Xa]]}),n})();const pG={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let gG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[pG],imports:[tt]}),n})(),ule=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[pG],imports:[[$t,tt,wl,Sa,gG],yr,tt,gG]}),n})();const Tle={provide:new r.OlP("mat-select-scroll-strategy"),deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let wG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Tle],imports:[[$t,Sa,RA,tt],yr,E2,RA,tt]}),n})();const Ole={provide:new r.OlP("mat-tooltip-scroll-strategy"),deps:[Zi],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Ole],imports:[[pu,$t,Sa,tt],tt,yr]}),n})(),_D=(()=>{class n{constructor(){this.changes=new le.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,s)=>{if(0==s||0==i)return`0 of ${s}`;const o=e*i;return`${o+1} \u2013 ${o<(s=Math.max(s,0))?Math.min(o+i,s):o+i} of ${s}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const zle={provide:_D,deps:[[new r.FiY,new r.tp0,_D]],useFactory:function(n){return n||new _D}};let Kle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[zle],imports:[[$t,tD,wG,EG,tt]]}),n})();function Xle(n,t){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const e=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}function ece(n,t){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const e=r.oxw();r.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}const rce=ta(class{constructor(n){this._elementRef=n}},"primary"),xG=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class vd extends rce{constructor(t,e,i,s,o){super(t),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const u=vd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),u.has(i.head)||u.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===s&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=qt(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=qt(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,qt(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=f_(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=vd._diameters;let s=i.get(t);if(!s||!s.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}vd.\u0275fac=function(t){return new(t||vd)(r.Y36(r.SBq),r.Y36(xt),r.Y36(Z,8),r.Y36(Nn,8),r.Y36(xG))},vd.\u0275cmp=r.Xpm({type:vd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,Xle,1,9,"circle",1),r.YNc(2,ece,1,7,"circle",2),r.qZA()),2&t&&(r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===e.mode),r.uIk("viewBox",e._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[zi,Jn],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),vd._diameters=new WeakMap;let ace=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tt,$t],tt]}),n})(),yce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wl,tt],tt]}),n})(),kce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$t,tt],tt]}),n})(),NG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),Yce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[NG,wl,tt,kf],NG,tt]}),n})(),Qce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Sa,Xa,$t,tD,tt],tt]}),n})(),Dk=(()=>{class n{constructor(){this.changes=new le.xQ}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const aue={provide:Dk,deps:[[new r.FiY,new r.tp0,Dk]],useFactory:function(n){return n||new Dk}};let cue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[aue],imports:[[$t,tt]]}),n})(),_ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zI,tt],tt]}),n})(),bue=(()=>{class n{constructor(e){this.angularStorage=e}getImagesCarousel(){return this.angularStorage.ref("Accueil").listAll()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Yp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[Ise]}),n.\u0275inj=r.cJS({providers:[na,fd,ar,bi,bue,bL,Av,Oc,pd],imports:[[jg,kse,lz,iQ,pu,eI,U_,JT,zI,uB,Sa,Xa,mu,WM,To.hO.initializeApp(gL_firebaseConfig),B5,ZX,jse,Wse,Xse,tD,ooe,vQ,ete,voe,$oe,Pae,jz,wY,nle,pQ,Qq,C$,Vie,ule,Ez,Kle,wee,ace,yce,wl,wG,Mie,kce,Yce,Qce,cue,hte,r7,Gie,EG,_ue,jX]]}),n})();r.B6R(vL,[Ke,fk],[]),(0,r.G48)(),Qc().bootstrapModule(yue).catch(n=>console.error(n))},4762:(Je,be,N)=>{"use strict";function ue(re,ge){var he={};for(var fe in re)Object.prototype.hasOwnProperty.call(re,fe)&&ge.indexOf(fe)<0&&(he[fe]=re[fe]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(fe=Object.getOwnPropertySymbols(re);pe<fe.length;pe++)ge.indexOf(fe[pe])<0&&Object.prototype.propertyIsEnumerable.call(re,fe[pe])&&(he[fe[pe]]=re[fe[pe]])}return he}function se(re,ge,he,fe){var Ve,pe=arguments.length,ee=pe<3?ge:null===fe?fe=Object.getOwnPropertyDescriptor(ge,he):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(re,ge,he,fe);else for(var it=re.length-1;it>=0;it--)(Ve=re[it])&&(ee=(pe<3?Ve(ee):pe>3?Ve(ge,he,ee):Ve(ge,he))||ee);return pe>3&&ee&&Object.defineProperty(ge,he,ee),ee}function K(re,ge){return function(he,fe){ge(he,fe,re)}}function Z(re,ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(re,ge)}N.d(be,{_T:()=>ue,gn:()=>se,fM:()=>K,w6:()=>Z})},3394:(Je,be,N)=>{"use strict";N.d(be,{Z:()=>De});var r=N(3854),B=N(3910),L=N(8026),ue=N(5422);class se{constructor(Ie,we){this._delegate=Ie,this.firebase=we,(0,L._addComponent)(Ie,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ie,we=L._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ie);return!ct.isInitialized()&&"EXPLICIT"===(null===(Be=ct.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:we})}_removeServiceInstance(Ie,we=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(we)}_addComponent(Ie){(0,L._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,L._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function J(){const de=function(de){const Ie={},we={__esModule:!0,initializeApp:function(Te,rn={}){const re=L.initializeApp(Te,rn);if((0,r.r3)(Ie,re.name))return Ie[re.name];const ge=new de(re,we);return Ie[re.name]=ge,ge},app:ct,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(Te){const rn=Te.name,re=rn.replace("-compat","");if(L._registerComponent(Te)&&"PUBLIC"===Te.type){const ge=(he=ct())=>{if("function"!=typeof he[re])throw Z.create("invalid-app-argument",{appName:rn});return he[re]()};void 0!==Te.serviceProps&&(0,r.ZB)(ge,Te.serviceProps),we[re]=ge,de.prototype[re]=function(...he){return this._getService.bind(this,rn).apply(this,Te.multipleInstances?he:[])}}return"PUBLIC"===Te.type?we[re]:null},removeApp:function(Te){delete Ie[Te]},useAsService:function(Te,rn){return"serverAuth"===rn?null:rn},modularAPIs:L}};function ct(Te){if(!(0,r.r3)(Ie,Te=Te||L._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:Te});return Ie[Te]}return we.default=we,Object.defineProperty(we,"apps",{get:function(){return Object.keys(Ie).map(Te=>Ie[Te])}}),ct.App=de,we}(se);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(we){(0,r.ZB)(de,we)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),de}(),V=new ue.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=F;(0,L.registerVersion)("@firebase/app-compat","0.1.16",undefined)},8026:(Je,be,N)=>{"use strict";N.r(be),N.d(be,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>aa,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>jn,_addOrOverwriteComponent:()=>Ls,_apps:()=>nt,_clearComponents:()=>Fn,_components:()=>vt,_getProvider:()=>ft,_registerComponent:()=>Zr,_removeServiceInstance:()=>Pn,deleteApp:()=>ko,getApp:()=>vs,getApps:()=>Yr,initializeApp:()=>so,onLog:()=>ei,registerVersion:()=>rt,setLogLevel:()=>zn});var r=N(8239),B=N(3910),L=N(5422),ue=N(3854);class se{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function(pt){const Ct=pt.getComponent();return"VERSION"===(null==Ct?void 0:Ct.type)}(Wt)){const Ht=Wt.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(Wt=>Wt).join(" ")}}const Z="@firebase/app",j="0.7.15",J=new L.Yd("@firebase/app"),Ft="[DEFAULT]",ht={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nt=new Map,vt=new Map;function jn(pt,Ct){try{pt.container.addComponent(Ct)}catch(Wt){J.debug(`Component ${Ct.name} failed to register with FirebaseApp ${pt.name}`,Wt)}}function Ls(pt,Ct){pt.container.addOrOverwriteComponent(Ct)}function Zr(pt){const Ct=pt.name;if(vt.has(Ct))return J.debug(`There were multiple attempts to register component ${Ct}.`),!1;vt.set(Ct,pt);for(const Wt of nt.values())jn(Wt,pt);return!0}function ft(pt,Ct){return pt.container.getProvider(Ct)}function Pn(pt,Ct,Wt=Ft){ft(pt,Ct).clearInstance(Wt)}function Fn(){vt.clear()}const qr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xr{constructor(Ct,Wt,Ht){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const aa="9.6.5";function so(pt,Ct={}){"object"!=typeof Ct&&(Ct={name:Ct});const Wt=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},Ct),Ht=Wt.name;if("string"!=typeof Ht||!Ht)throw qr.create("bad-app-name",{appName:String(Ht)});const hr=nt.get(Ht);if(hr){if((0,ue.vZ)(pt,hr.options)&&(0,ue.vZ)(Wt,hr.config))return hr;throw qr.create("duplicate-app",{appName:Ht})}const dn=new B.H0(Ht);for(const $e of vt.values())dn.addComponent($e);const He=new xr(pt,Wt,dn);return nt.set(Ht,He),He}function vs(pt=Ft){const Ct=nt.get(pt);if(!Ct)throw qr.create("no-app",{appName:pt});return Ct}function Yr(){return Array.from(nt.values())}function ko(pt){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,r.Z)(function*(pt){const Ct=pt.name;nt.has(Ct)&&(nt.delete(Ct),yield Promise.all(pt.container.getProviders().map(Wt=>Wt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function rt(pt,Ct,Wt){var Ht;let hr=null!==(Ht=ht[pt])&&void 0!==Ht?Ht:pt;Wt&&(hr+=`-${Wt}`);const dn=hr.match(/\s|\//),He=Ct.match(/\s|\//);if(dn||He){const $e=[`Unable to register library "${hr}" with version "${Ct}":`];return dn&&$e.push(`library name "${hr}" contains illegal characters (whitespace or "/")`),dn&&He&&$e.push("and"),He&&$e.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void J.warn($e.join(" "))}Zr(new B.wA(`${hr}-version`,()=>({library:hr,version:Ct}),"VERSION"))}function ei(pt,Ct){if(null!==pt&&"function"!=typeof pt)throw qr.create("invalid-log-argument");(0,L.Am)(pt,Ct)}function zn(pt){(0,L.Ub)(pt)}Zr(new B.wA("platform-logger",Ct=>new se(Ct),"PRIVATE")),rt(Z,j,""),rt(Z,j,"esm2017"),rt("fire-js","")},3910:(Je,be,N)=>{"use strict";N.d(be,{wA:()=>L,H0:()=>j});var r=N(8239),B=N(3854);class L{constructor(F,V,q){this.name=F,this.instanceFactory=V,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ue="[DEFAULT]";class se{constructor(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){const q=new B.BH;if(this.instancesDeferred.set(V,q),this.isInitialized(V)||this.shouldAutoInitialize())try{const ae=this.getOrInitializeService({instanceIdentifier:V});ae&&q.resolve(ae)}catch(ae){}}return this.instancesDeferred.get(V).promise}getImmediate(F){var V;const q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),ae=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(_e){if(ae)return null;throw _e}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(V){}for(const[V,q]of this.instancesDeferred.entries()){const ae=this.normalizeInstanceIdentifier(V);try{const _e=this.getOrInitializeService({instanceIdentifier:ae});q.resolve(_e)}catch(_e){}}}}clearInstance(F=ue){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,r.Z)(function*(){const V=Array.from(F.instances.values());yield Promise.all([...V.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...V.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ue){return this.instances.has(F)}getOptions(F=ue){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:V={}}=F,q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ae=this.getOrInitializeService({instanceIdentifier:q,options:V});for(const[_e,De]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(_e)&&De.resolve(ae);return ae}onInit(F,V){var q;const ae=this.normalizeInstanceIdentifier(V),_e=null!==(q=this.onInitCallbacks.get(ae))&&void 0!==q?q:new Set;_e.add(F),this.onInitCallbacks.set(ae,_e);const De=this.instances.get(ae);return De&&F(De,ae),()=>{_e.delete(F)}}invokeOnInitCallbacks(F,V){const q=this.onInitCallbacks.get(V);if(q)for(const ae of q)try{ae(F,V)}catch(_e){}}getOrInitializeService({instanceIdentifier:F,options:V={}}){let q=this.instances.get(F);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(J=F,J===ue?void 0:J),options:V}),this.instances.set(F,q),this.instancesOptions.set(F,V),this.invokeOnInitCallbacks(q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,q)}catch(ae){}var J;return q||null}normalizeInstanceIdentifier(F=ue){return this.component?this.component.multipleInstances?F:ue:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const V=this.getProvider(F.name);if(V.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);V.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const V=new se(F,this);return this.providers.set(F,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Je,be,N)=>{"use strict";N.d(be,{in:()=>B,Yd:()=>Z,Ub:()=>j,Am:()=>J});const r=[];var B=(()=>{return(F=B||(B={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",B;var F})();const L={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ue=B.INFO,se={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},K=(F,V,...q)=>{if(V<F.logLevel)return;const ae=(new Date).toISOString(),_e=se[V];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[_e](`[${ae}]  ${F.name}:`,...q)};class Z{constructor(V){this.name=V,this._logLevel=ue,this._logHandler=K,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in B))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?L[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...V),this._logHandler(this,B.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...V),this._logHandler(this,B.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,B.INFO,...V),this._logHandler(this,B.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,B.WARN,...V),this._logHandler(this,B.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...V),this._logHandler(this,B.ERROR,...V)}}function j(F){r.forEach(V=>{V.setLogLevel(F)})}function J(F,V){for(const q of r){let ae=null;V&&V.level&&(ae=L[V.level]),q.userLogHandler=null===F?null:(_e,De,...de)=>{const Ie=de.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Be){return null}}).filter(we=>we).join(" ");De>=(null!=ae?ae:_e.logLevel)&&F({level:B[De].toLowerCase(),message:Ie,args:de,type:_e.name})}}}},8239:(Je,be,N)=>{"use strict";function r(L,ue,se,K,Z,j,J){try{var F=L[j](J),V=F.value}catch(q){return void se(q)}F.done?ue(V):Promise.resolve(V).then(K,Z)}function B(L){return function(){var ue=this,se=arguments;return new Promise(function(K,Z){var j=L.apply(ue,se);function J(V){r(j,K,Z,J,F,"next",V)}function F(V){r(j,K,Z,J,F,"throw",V)}J(void 0)})}}N.d(be,{Z:()=>B})}},Je=>{Je(Je.s=629)}]);