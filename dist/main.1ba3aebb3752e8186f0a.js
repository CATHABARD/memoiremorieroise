(self.webpackChunkmemoire_morieroise=self.webpackChunkmemoire_morieroise||[]).push([[179],{8255:Xe=>{function Te(L){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+L+"'");throw o.code="MODULE_NOT_FOUND",o})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Xe.exports=Te},7716:(Xe,Te,L)=>{"use strict";L.d(Te,{deG:()=>HD,tb:()=>WS,AFp:()=>MC,ip1:()=>DC,CZH:()=>Ih,hGG:()=>XN,z2F:()=>tc,sBO:()=>sO,Sil:()=>rm,_Vd:()=>uu,EJc:()=>im,SBq:()=>fo,qLn:()=>Rd,vpe:()=>Hs,pfw:()=>cN,L6J:()=>YS,gxx:()=>Bl,tBr:()=>Ya,XFs:()=>ct,OlP:()=>ci,zs3:()=>Bn,IIB:()=>oN,ZZ4:()=>Ip,aQg:()=>ry,soG:()=>nm,YKP:()=>cy,v3s:()=>BC,h0i:()=>fu,PXZ:()=>Yy,R0b:()=>js,FiY:()=>da,Lbi:()=>EC,g9A:()=>$S,n_E:()=>xh,Qsj:()=>LE,FYo:()=>ty,JOm:()=>ga,Tiy:()=>iy,q3G:()=>Di,PiD:()=>xd,tp0:()=>ha,EAV:()=>BN,Rgc:()=>vh,dDg:()=>KS,DyG:()=>Io,q4F:()=>Ow,GfV:()=>VE,s_b:()=>dy,ifc:()=>Ye,eFA:()=>NC,G48:()=>kN,Gpc:()=>Q,f3M:()=>Lv,X6Q:()=>RC,_c5:()=>ZN,VLi:()=>xu,c2e:()=>JS,zSh:()=>Xc,wAp:()=>tt,vHH:()=>Ce,EiD:()=>$v,mCW:()=>ii,qzn:()=>T,JVY:()=>C,pB0:()=>ue,eBb:()=>R,L6k:()=>S,LAX:()=>P,cg1:()=>ww,Tjo:()=>am,kL8:()=>rl,yhl:()=>b,dqk:()=>wn,sIi:()=>Xa,CqO:()=>nw,QGY:()=>tw,F4k:()=>yR,RDi:()=>dv,AaK:()=>W,z3N:()=>fa,qOj:()=>B0,TTD:()=>Kt,_Bn:()=>K_,xp6:()=>h0,uIk:()=>U0,Tol:()=>cw,Gre:()=>$T,DjV:()=>WT,ekj:()=>lw,Suo:()=>xS,Xpm:()=>nn,lG2:()=>Qt,Yz7:()=>Rt,cJS:()=>jn,oAB:()=>Se,Yjl:()=>fn,Y36:()=>v_,_UZ:()=>C_,GkF:()=>AT,BQk:()=>D_,ynx:()=>X0,qZA:()=>Q0,TgZ:()=>sh,EpF:()=>ew,n5z:()=>ji,Ikx:()=>bw,SDv:()=>SE,QtT:()=>W_,pQV:()=>Sp,LFG:()=>ui,$8M:()=>El,NdJ:()=>pp,CRH:()=>AS,kcU:()=>wv,O4$:()=>FD,oxw:()=>oh,ALo:()=>Ay,lcZ:()=>Kw,xi3:()=>Xw,Hsn:()=>ah,F$t:()=>ru,Q6J:()=>rh,s9C:()=>rw,MGl:()=>lh,VKq:()=>vS,WLB:()=>Tu,kEZ:()=>Jw,iGM:()=>ES,MAs:()=>gT,CHM:()=>Tc,uOi:()=>An,LSH:()=>ws,B6R:()=>Wn,kYT:()=>Ze,Udp:()=>I_,WFA:()=>iw,d8E:()=>vw,YNc:()=>mT,W1O:()=>Jp,_uU:()=>YT,Oqu:()=>jT,hij:()=>uh,AsE:()=>N_,Gf:()=>SS});var o=L(9765),q=L(5319),U=L(7574),se=L(6682),de=L(8819);function te(c){for(let u in c)if(c[u]===te)return u;throw Error("Could not find renamed property on target object.")}function Z(c,u){for(const d in u)u.hasOwnProperty(d)&&!c.hasOwnProperty(d)&&(c[d]=u[d])}function W(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(W).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function z(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const V=te({__forward_ref__:te});function Q(c){return c.__forward_ref__=Q,c.toString=function(){return W(this())},c}function H(c){return X(c)?c():c}function X(c){return"function"==typeof c&&c.hasOwnProperty(V)&&c.__forward_ref__===Q}class Ce extends Error{constructor(u,d){super(function(c,u){return`${c?`NG0${c}: `:""}${u}`}(u,d)),this.code=u}}function ve(c){return"string"==typeof c?c:null==c?"":String(c)}function Ie(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():ve(c)}function Ht(c,u){const d=u?` in ${u}`:"";throw new Ce("201",`No provider for ${Ie(c)} found${d}`)}function yt(c,u,d,f){throw new Error(`ASSERTION ERROR: ${c}`+(null==f?"":` [Expected=> ${d} ${f} ${u} <=Actual]`))}function Rt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function jn(c){return{providers:c.providers||[],imports:c.imports||[]}}function Fi(c){return ms(c,gs)||ms(c,ea)}function ms(c,u){return c.hasOwnProperty(u)?c[u]:null}function Ks(c){return c&&(c.hasOwnProperty(_r)||c.hasOwnProperty(ks))?c[_r]:null}const gs=te({\u0275prov:te}),_r=te({\u0275inj:te}),ea=te({ngInjectableDef:te}),ks=te({ngInjectorDef:te});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let hn;function ki(c){const u=hn;return hn=c,u}function Tt(c,u,d){const f=Fi(c);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&ct.Optional?null:void 0!==u?u:void Ht(W(c),"Injector")}function tn(c){return{toString:c}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),Ye=(()=>((Ye=Ye||{})[Ye.Emulated=0]="Emulated",Ye[Ye.None=2]="None",Ye[Ye.ShadowDom=3]="ShadowDom",Ye))();const ot="undefined"!=typeof globalThis&&globalThis,ta="undefined"!=typeof window&&window,na="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wr="undefined"!=typeof global&&global,wn=ot||Wr||ta||na,yn={},Y=[],j=te({\u0275cmp:te}),ne=te({\u0275dir:te}),fe=te({\u0275pipe:te}),oe=te({\u0275mod:te}),Ge=te({\u0275loc:te}),et=te({\u0275fac:te}),Ot=te({__NG_ELEMENT_ID__:te});let Dn=0;function nn(c){return tn(()=>{const d={},f={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||Y,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||Ye.Emulated,id:"c",styles:c.styles||Y,_:null,setInput:null,schemas:c.schemas||null,tView:null},p=c.directives,g=c.features,v=c.pipes;return f.id+=Dn++,f.inputs=vt(c.inputs,d),f.outputs=vt(c.outputs),g&&g.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(ce):null,f.pipeDefs=v?()=>("function"==typeof v?v():v).map(J):null,f})}function Wn(c,u,d){const f=c.\u0275cmp;f.directiveDefs=()=>u.map(ce),f.pipeDefs=()=>d.map(J)}function ce(c){return cn(c)||function(c){return c[ne]||null}(c)}function J(c){return function(c){return c[fe]||null}(c)}const ee={};function Se(c){return tn(()=>{const u={type:c.type,bootstrap:c.bootstrap||Y,declarations:c.declarations||Y,imports:c.imports||Y,exports:c.exports||Y,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(ee[c.id]=c.type),u})}function Ze(c,u){return tn(()=>{const d=Pt(c,!0);d.declarations=u.declarations||Y,d.imports=u.imports||Y,d.exports=u.exports||Y})}function vt(c,u){if(null==c)return yn;const d={};for(const f in c)if(c.hasOwnProperty(f)){let p=c[f],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),d[p]=f,u&&(u[p]=g)}return d}const Qt=nn;function fn(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function cn(c){return c[j]||null}function Pt(c,u){const d=c[oe]||null;if(!d&&!0===u)throw new Error(`Type ${W(c)} does not have '\u0275mod' property.`);return d}function Mo(c){return Array.isArray(c)&&"object"==typeof c[1]}function Ir(c){return Array.isArray(c)&&!0===c[1]}function pf(c){return 0!=(8&c.flags)}function aa(c){return 2==(2&c.flags)}function bi(c){return 1==(1&c.flags)}function Hi(c){return null!==c.template}function Kr(c){return 0!=(512&c[2])}function Oa(c,u){return c.hasOwnProperty(et)?c[et]:null}class cv{constructor(u,d,f){this.previousValue=u,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Kt(){return gf}function gf(c){return c.type.prototype.ngOnChanges&&(c.setInput=uv),_f}function _f(){const c=bc(this),u=null==c?void 0:c.current;if(u){const d=c.previous;if(d===yn)c.previous=u;else for(let f in u)d[f]=u[f];c.current=null,this.ngOnChanges(u)}}function uv(c,u,d,f){const p=bc(c)||function(c,u){return c[yf]=u}(c,{previous:yn,current:null}),g=p.current||(p.current={}),v=p.previous,w=this.declaredInputs[d],E=v[w];g[w]=new cv(E&&E.currentValue,u,v===yn),c[f]=u}Kt.ngInherit=!0;const yf="__ngSimpleChanges__";function bc(c){return c[yf]||null}const yl="http://www.w3.org/2000/svg";let vc;function dv(c){vc=c}function td(){return void 0!==vc?vc:"undefined"!=typeof document?document:void 0}function qn(c){return!!c.listen}const la={createRenderer:(c,u)=>td()};function Un(c){for(;Array.isArray(c);)c=c[0];return c}function Na(c,u){return Un(u[c])}function Rr(c,u){return Un(u[c.index])}function Cc(c,u){return c.data[u]}function Pa(c,u){return c[u]}function br(c,u){const d=u[c];return Mo(d)?d:d[0]}function hv(c){return 4==(4&c[2])}function id(c){return 128==(128&c[2])}function So(c,u){return null==u?null:c[u]}function Dc(c){c[18]=0}function Mc(c,u){c[5]+=u;let d=c,f=c[3];for(;null!==f&&(1===u&&1===d[5]||-1===u&&0===d[5]);)f[5]+=u,d=f,f=f[3]}const Ct={lFrame:yv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mv(){return Ct.bindingsEnabled}function ke(){return Ct.lFrame.lView}function an(){return Ct.lFrame.tView}function Tc(c){return Ct.lFrame.contextLView=c,c[8]}function Qn(){let c=Ec();for(;null!==c&&64===c.type;)c=c.parent;return c}function Ec(){return Ct.lFrame.currentTNode}function Fa(){const c=Ct.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}function _s(c,u){const d=Ct.lFrame;d.currentTNode=c,d.isParent=u}function vl(){return Ct.lFrame.isParent}function sd(){Ct.lFrame.isParent=!1}function od(){return Ct.isInCheckNoChangesMode}function wl(c){Ct.isInCheckNoChangesMode=c}function Gi(){const c=Ct.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function ts(){return Ct.lFrame.bindingIndex}function Is(){return Ct.lFrame.bindingIndex++}function Rs(c){const u=Ct.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,d}function dg(c){Ct.lFrame.inI18n=c}function ad(c,u){const d=Ct.lFrame;d.bindingIndex=d.bindingRootIndex=c,Sc(u)}function Sc(c){Ct.lFrame.currentDirectiveIndex=c}function Sf(c){const u=Ct.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function hg(){return Ct.lFrame.currentQueryIndex}function Cl(c){Ct.lFrame.currentQueryIndex=c}function ld(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function fg(c,u,d){if(d&ct.SkipSelf){let p=u,g=c;for(;!(p=p.parent,null!==p||d&ct.Host||(p=ld(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;u=p,c=g}const f=Ct.lFrame=xf();return f.currentTNode=u,f.lView=c,!0}function xo(c){const u=xf(),d=c[1];Ct.lFrame=u,u.currentTNode=d.firstChild,u.lView=c,u.tView=d,u.contextLView=c,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function xf(){const c=Ct.lFrame,u=null===c?null:c.child;return null===u?yv(c):u}function yv(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function pg(){const c=Ct.lFrame;return Ct.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const bv=pg;function xc(){const c=pg();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function vr(){return Ct.lFrame.selectedIndex}function Dl(c){Ct.lFrame.selectedIndex=c}function vi(){const c=Ct.lFrame;return Cc(c.tView,c.selectedIndex)}function FD(){Ct.lFrame.currentNamespace=yl}function wv(){Ct.lFrame.currentNamespace=null}function cd(c,u){for(let d=u.directiveStart,f=u.directiveEnd;d<f;d++){const g=c.data[d].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:k}=g;v&&(c.contentHooks||(c.contentHooks=[])).push(-d,v),w&&((c.contentHooks||(c.contentHooks=[])).push(d,w),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(d,w)),E&&(c.viewHooks||(c.viewHooks=[])).push(-d,E),x&&((c.viewHooks||(c.viewHooks=[])).push(d,x),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(d,x)),null!=k&&(c.destroyHooks||(c.destroyHooks=[])).push(d,k)}}function Ml(c,u,d){dd(c,u,3,d)}function ud(c,u,d,f){(3&c[2])===d&&dd(c,u,d,f)}function kf(c,u){let d=c[2];(3&d)===u&&(d&=2047,d+=1,c[2]=d)}function dd(c,u,d,f){const g=null!=f?f:-1,v=u.length-1;let w=0;for(let E=void 0!==f?65535&c[18]:0;E<v;E++)if("number"==typeof u[E+1]){if(w=u[E],null!=f&&w>=f)break}else u[E]<0&&(c[18]+=65536),(w<g||-1==g)&&(If(c,d,u,E),c[18]=(4294901760&c[18])+E+2),E++}function If(c,u,d,f){const p=d[f]<0,g=d[f+1],w=c[p?-d[f]:d[f]];if(p){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Ba{constructor(u,d,f){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Of(c,u,d){const f=qn(c);let p=0;for(;p<d.length;){const g=d[p];if("number"==typeof g){if(0!==g)break;p++;const v=d[p++],w=d[p++],E=d[p++];f?c.setAttribute(u,w,E,v):u.setAttributeNS(v,w,E)}else{const v=g,w=d[++p];Or(v)?f&&c.setProperty(u,v,w):f?c.setAttribute(u,v,w):u.setAttribute(v,w),p++}}return p}function gg(c){return 3===c||4===c||6===c}function Or(c){return 64===c.charCodeAt(0)}function hd(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let d=-1;for(let f=0;f<u.length;f++){const p=u[f];"number"==typeof p?d=p:0===d||wi(c,d,p,null,-1===d||2===d?u[++f]:null)}}return c}function wi(c,u,d,f,p){let g=0,v=c.length;if(-1===u)v=-1;else for(;g<c.length;){const w=c[g++];if("number"==typeof w){if(w===u){v=-1;break}if(w>u){v=g-1;break}}}for(;g<c.length;){const w=c[g];if("number"==typeof w)break;if(w===d){if(null===f)return void(null!==p&&(c[g+1]=p));if(f===c[g+1])return void(c[g+2]=p)}g++,null!==f&&g++,null!==p&&g++}-1!==v&&(c.splice(v,0,u),g=v+1),c.splice(g++,0,d),null!==f&&c.splice(g++,0,f),null!==p&&c.splice(g++,0,p)}function fd(c){return-1!==c}function ko(c){return 32767&c}function Va(c,u){let d=function(c){return c>>16}(c),f=u;for(;d>0;)f=f[15],d--;return f}let _g=!0;function pd(c){const u=_g;return _g=c,u}let Ev=0;function ua(c,u){const d=pe(c,u);if(-1!==d)return d;const f=u[1];f.firstCreatePass&&(c.injectorIndex=u.length,bg(f.data,c),bg(u,null),bg(f.blueprint,null));const p=xt(c,u),g=c.injectorIndex;if(fd(p)){const v=ko(p),w=Va(p,u),E=w[1].data;for(let x=0;x<8;x++)u[g+x]=w[v+x]|E[v+x]}return u[g+8]=p,g}function bg(c,u){c.push(0,0,0,0,0,0,0,0,u)}function pe(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function xt(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let d=0,f=null,p=u;for(;null!==p;){const g=p[1],v=g.type;if(f=2===v?g.declTNode:1===v?p[6]:null,null===f)return-1;if(d++,p=p[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Ua(c,u,d){!function(c,u,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Ot)&&(f=d[Ot]),null==f&&(f=d[Ot]=Ev++);const p=255&f;u.data[c+(p>>5)]|=1<<p}(c,u,d)}function qe(c,u,d){if(d&ct.Optional)return c;Ht(u,"NodeInjector")}function vg(c,u,d,f){if(d&ct.Optional&&void 0===f&&(f=null),0==(d&(ct.Self|ct.Host))){const p=c[9],g=ki(void 0);try{return p?p.get(u,f,d&ct.Optional):Tt(u,f,d&ct.Optional)}finally{ki(g)}}return qe(f,u,d)}function kc(c,u,d,f=ct.Default,p){if(null!==c){const g=function(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Ot)?c[Ot]:void 0;return"number"==typeof u?u>=0?255&u:Ik:u}(d);if("function"==typeof g){if(!fg(u,c,f))return f&ct.Host?qe(p,d,f):vg(u,d,f,p);try{const v=g(f);if(null!=v||f&ct.Optional)return v;Ht(d)}finally{bv()}}else if("number"==typeof g){let v=null,w=pe(c,u),E=-1,x=f&ct.Host?u[16][6]:null;for((-1===w||f&ct.SkipSelf)&&(E=-1===w?xt(c,u):u[w+8],-1!==E&&xv(f,!1)?(v=u[1],w=ko(E),u=Va(E,u)):w=-1);-1!==w;){const k=u[1];if(Nf(g,w,k.data)){const N=Yi(w,u,d,v,f,x);if(N!==_d)return N}E=u[w+8],-1!==E&&xv(f,u[1].data[w+8]===x)&&Nf(g,w,u)?(v=k,w=ko(E),u=Va(E,u)):w=-1}}}return vg(u,d,f,p)}const _d={};function Ik(){return new wr(Qn(),ke())}function Yi(c,u,d,f,p,g){const v=u[1],w=v.data[c+8],k=yd(w,v,d,null==f?aa(w)&&_g:f!=v&&0!=(3&w.type),p&ct.Host&&g===w);return null!==k?Ic(u,v,k,w):_d}function yd(c,u,d,f,p){const g=c.providerIndexes,v=u.data,w=1048575&g,E=c.directiveStart,k=g>>20,F=p?w+k:c.directiveEnd;for(let G=f?w:w+k;G<F;G++){const K=v[G];if(G<E&&d===K||G>=E&&K.type===d)return G}if(p){const G=v[E];if(G&&Hi(G)&&G.type===d)return E}return null}function Ic(c,u,d,f){let p=c[d];const g=u.data;if(function(c){return c instanceof Ba}(p)){const v=p;v.resolving&&function(c,u){throw new Ce("200",`Circular dependency in DI detected for ${c}`)}(Ie(g[d]));const w=pd(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?ki(v.injectImpl):null;fg(c,f,ct.Default);try{p=c[d]=v.factory(void 0,g,c,f),u.firstCreatePass&&d>=f.directiveStart&&function(c,u,d){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:g}=u.type.prototype;if(f){const v=gf(u);(d.preOrderHooks||(d.preOrderHooks=[])).push(c,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(c,v)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-c,p),g&&((d.preOrderHooks||(d.preOrderHooks=[])).push(c,g),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(c,g))}(d,g[d],u)}finally{null!==E&&ki(E),pd(w),v.resolving=!1,bv()}}return p}function Nf(c,u,d){return!!(d[u+(c>>5)]&1<<c)}function xv(c,u){return!(c&ct.Self||c&ct.Host&&u)}class wr{constructor(u,d){this._tNode=u,this._lView=d}get(u,d){return kc(this._tNode,this._lView,u,void 0,d)}}function ji(c){return tn(()=>{const u=c.prototype.constructor,d=u[et]||Tl(u),f=Object.prototype;let p=Object.getPrototypeOf(c.prototype).constructor;for(;p&&p!==f;){const g=p[et]||Tl(p);if(g&&g!==d)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function Tl(c){return X(c)?()=>{const u=Tl(H(c));return u&&u()}:Oa(c)}function El(c){return function(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const d=c.attrs;if(d){const f=d.length;let p=0;for(;p<f;){const g=d[p];if(gg(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<f&&"string"==typeof d[p];)p++;else{if(g===u)return d[p+1];p+=2}}}return null}(Qn(),c)}const no="__parameters__",is="__prop__metadata__";function ys(c){return function(...d){if(c){const f=c(...d);for(const p in f)this[p]=f[p]}}}function er(c,u,d){return tn(()=>{const f=ys(u);function p(...g){if(this instanceof p)return f.apply(this,g),this;const v=new p(...g);return w.annotation=v,w;function w(E,x,k){const N=E.hasOwnProperty(no)?E[no]:Object.defineProperty(E,no,{value:[]})[no];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=c,p.annotationCls=p,p})}function wg(c,u,d,f){return tn(()=>{const p=ys(u);function g(...v){if(this instanceof g)return p.apply(this,v),this;const w=new g(...v);return function(x,k){const N=x.constructor,F=N.hasOwnProperty(is)?N[is]:Object.defineProperty(N,is,{value:{}})[is];F[k]=F.hasOwnProperty(k)&&F[k]||[],F[k].unshift(w),f&&f(x,k,...v)}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=c,g.annotationCls=g,g})}class ci{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Rt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const HD=new ci("AnalyzeForEntryComponents"),Io=Function;function Os(c,u){void 0===u&&(u=c);for(let d=0;d<c.length;d++){let f=c[d];Array.isArray(f)?(u===c&&(u=c.slice(0,d)),Os(f,u)):u!==c&&u.push(f)}return u}function Ns(c,u){c.forEach(d=>Array.isArray(d)?Ns(d,u):u(d))}function wd(c,u,d){u>=c.length?c.push(d):c.splice(u,0,d)}function Sl(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function Ha(c,u){const d=[];for(let f=0;f<c;f++)d.push(u);return d}function bs(c,u,d){let f=Oc(c,u);return f>=0?c[1|f]=d:(f=~f,function(c,u,d,f){let p=c.length;if(p==u)c.push(d,f);else if(1===p)c.push(f,c[0]),c[0]=d;else{for(p--,c.push(c[p-1],c[p]);p>u;)c[p]=c[p-2],p--;c[u]=d,c[u+1]=f}}(c,f,u,d)),f}function Cd(c,u){const d=Oc(c,u);if(d>=0)return c[1|d]}function Oc(c,u){return function(c,u,d){let f=0,p=c.length>>d;for(;p!==f;){const g=f+(p-f>>1),v=c[g<<d];if(u===v)return g<<d;v>u?p=g:f=g+1}return~(p<<d)}(c,u,1)}const Md={},Td="__NG_DI_FLAG__",Pc="ngTempTokenPath",Ag=/\n/gm,Ed="__source",Sd=te({provide:String,useValue:te});let Fc;function Ga(c){const u=Fc;return Fc=c,u}function $D(c,u=ct.Default){if(void 0===Fc)throw new Error("inject() must be called from an injection context");return null===Fc?Tt(c,void 0,u):Fc.get(c,u&ct.Optional?null:void 0,u)}function ui(c,u=ct.Default){return(hn||$D)(H(c),u)}const Lv=ui;function xl(c){const u=[];for(let d=0;d<c.length;d++){const f=H(c[d]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let p,g=ct.Default;for(let v=0;v<f.length;v++){const w=f[v],E=Ig(w);"number"==typeof E?-1===E?p=w.token:g|=E:p=w}u.push(ui(p,g))}else u.push(ui(f))}return u}function Lc(c,u){return c[Td]=u,c.prototype[Td]=u,c}function Ig(c){return c[Td]}function Bv(c,u,d,f){const p=c[Pc];throw u[Ed]&&p.unshift(u[Ed]),c.message=function(c,u,d,f=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let p=W(u);if(Array.isArray(u))p=u.map(W).join(" -> ");else if("object"==typeof u){let g=[];for(let v in u)if(u.hasOwnProperty(v)){let w=u[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):W(w)))}p=`{${g.join(", ")}}`}return`${d}${f?"("+f+")":""}[${p}]: ${c.replace(Ag,"\n  ")}`}("\n"+c.message,p,d,f),c.ngTokenPath=p,c[Pc]=null,c}const Ya=Lc(er("Inject",c=>({token:c})),-1),da=Lc(er("Optional"),8),xd=Lc(er("Self"),2),ha=Lc(er("SkipSelf"),4);let Uf,Uc;function Vc(c){var u;return(null===(u=function(){if(void 0===Uf&&(Uf=null,wn.trustedTypes))try{Uf=wn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Uf}())||void 0===u?void 0:u.createHTML(c))||c}function Ci(c){var u;return(null===(u=function(){if(void 0===Uc&&(Uc=null,wn.trustedTypes))try{Uc=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Uc}())||void 0===u?void 0:u.createScriptURL(c))||c}class rs{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hc extends rs{getTypeName(){return"HTML"}}class jv extends rs{getTypeName(){return"Style"}}class qv extends rs{getTypeName(){return"Script"}}class Zv extends rs{getTypeName(){return"URL"}}class wt extends rs{getTypeName(){return"ResourceURL"}}function fa(c){return c instanceof rs?c.changingThisBreaksApplicationSecurity:c}function T(c,u){const d=b(c);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===u}function b(c){return c instanceof rs&&c.getTypeName()||null}function C(c){return new Hc(c)}function S(c){return new jv(c)}function R(c){return new qv(c)}function P(c){return new Zv(c)}function ue(c){return new wt(c)}function Pe(c){const u=new Dt(c);return function(){try{return!!(new window.DOMParser).parseFromString(Vc(""),"text/html")}catch(c){return!1}}()?new nt(u):u}class nt{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const d=(new window.DOMParser).parseFromString(Vc(u),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(u):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Dt{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(u){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Vc(u),d;const f=this.inertDocument.createElement("body");return f.innerHTML=Vc(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(u){const d=u.attributes;for(let p=d.length-1;0<p;p--){const v=d.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&u.removeAttribute(v)}let f=u.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pa=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ii(c){return(c=String(c)).match(bn)||c.match(pa)?c:"unsafe:"+c}function Be(c){return(c=String(c)).split(",").map(u=>ii(u.trim())).join(", ")}function vs(c){const u={};for(const d of c.split(","))u[d]=!0;return u}function Al(...c){const u={};for(const d of c)for(const f in d)d.hasOwnProperty(f)&&(u[f]=!0);return u}const xe=vs("area,br,col,hr,img,wbr"),qt=vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gf=vs("rp,rt"),Id=Al(xe,Al(qt,vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Al(Gf,vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Al(Gf,qt)),ja=vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kt=vs("srcset"),zv=Al(ja,kt,vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iM=vs("script,style,template");class qf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let d=u.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(u){const d=u.nodeName.toLowerCase();if(!Id.hasOwnProperty(d))return this.sanitizedSomething=!0,!iM.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=u.attributes;for(let p=0;p<f.length;p++){const g=f.item(p),v=g.name,w=v.toLowerCase();if(!zv.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=g.value;ja[w]&&(E=ii(E)),kt[w]&&(E=Be(E)),this.buf.push(" ",v,'="',Zf(E),'"')}return this.buf.push(">"),!0}endElement(u){const d=u.nodeName.toLowerCase();Id.hasOwnProperty(d)&&!xe.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(u){this.buf.push(Zf(u))}checkClobberedElement(u,d){if(d&&(u.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return d}}const Gk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Oo=/([^\#-~ |!])/g;function Zf(c){return c.replace(/&/g,"&amp;").replace(Gk,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Oo,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ma;function $v(c,u){let d=null;try{ma=ma||Pe(c);let f=u?String(u):"";d=ma.getInertBodyElement(f);let p=5,g=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=g,g=d.innerHTML,d=ma.getInertBodyElement(f)}while(f!==g);return Vc((new qf).sanitizeChildren(Yc(d)||d))}finally{if(d){const f=Yc(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Yc(c){return"content"in c&&function(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Di=(()=>((Di=Di||{})[Di.NONE=0]="NONE",Di[Di.HTML=1]="HTML",Di[Di.STYLE=2]="STYLE",Di[Di.SCRIPT=3]="SCRIPT",Di[Di.URL=4]="URL",Di[Di.RESOURCE_URL=5]="RESOURCE_URL",Di))();function ws(c){const u=kl();return u?u.sanitize(Di.URL,c)||"":T(c,"URL")?fa(c):ii(ve(c))}function An(c){const u=kl();if(u)return Ci(u.sanitize(Di.RESOURCE_URL,c)||"");if(T(c,"ResourceURL"))return Ci(fa(c));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function kl(){const c=ke();return c&&c[12]}const oM="__ngContext__";function Kn(c,u){c[oM]=u}function Jf(c){const u=function(c){return c[oM]||null}(c);return u?Array.isArray(u)?u:u.lView:null}function Lg(c){return c.ngOriginalError}function Wk(c,...u){c.error(...u)}class Rd{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u),f=this._findContext(u),p=(c=u)&&c.ngErrorLogger||Wk;var c;p(this._console,"ERROR",u),d&&p(this._console,"ORIGINAL ERROR",d),f&&p(this._console,"ERROR CONTEXT",f)}_findContext(u){return u?u.ngDebugContext||this._findContext(Lg(u)):null}_findOriginalError(u){let d=u&&Lg(u);for(;d&&Lg(d);)d=Lg(d);return d||null}}const wB=/^>|^->|<!--|-->|--!>|<!-$/g,CB=/(<|>)/;const Qf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wn))();function Po(c){return c instanceof Function?c():c}var ga=(()=>((ga=ga||{})[ga.Important=1]="Important",ga[ga.DashCase=2]="DashCase",ga))();let Ug;function Od(c,u){return Ug(c,u)}function Nd(c){const u=c[3];return Ir(u)?u[3]:u}function Yg(c){return pM(c[13])}function qc(c){return pM(c[4])}function pM(c){for(;null!==c&&!Ir(c);)c=c[4];return c}function Kf(c,u,d,f,p){if(null!=f){let g,v=!1;Ir(f)?g=f:Mo(f)&&(v=!0,f=f[0]);const w=Un(f);0===c&&null!==d?null==p?bM(u,d,w):Fo(u,d,w,p||null,!0):1===c&&null!==d?Fo(u,d,w,p||null,!0):2===c?DM(u,w,v):3===c&&u.destroyNode(w),null!=g&&function(c,u,d,f,p){const g=d[7];g!==Un(d)&&Kf(u,c,f,g,p);for(let w=10;w<d.length;w++){const E=d[w];pn(E[1],E,c,u,f,g)}}(u,c,g,d,p)}}function o0(c,u){return qn(c)?c.createText(u):c.createTextNode(u)}function nI(c,u,d){qn(c)?c.setValue(u,d):u.textContent=d}function iI(c,u){return c.createComment(function(c){return c.replace(wB,u=>u.replace(CB,"\u200b$1\u200b"))}(u))}function Il(c,u,d){return qn(c)?c.createElement(u,d):null===d?c.createElement(u):c.createElementNS(d,u)}function gM(c,u){const d=c[9],f=d.indexOf(u),p=u[3];1024&u[2]&&(u[2]&=-1025,Mc(p,-1)),d.splice(f,1)}function a0(c,u){if(c.length<=10)return;const d=10+u,f=c[d];if(f){const p=f[17];null!==p&&p!==c&&gM(p,f),u>0&&(c[d-1][4]=f[4]);const g=Sl(c,10+u);!function(c,u){pn(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(f[1],f);const v=g[19];null!==v&&v.detachView(g[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function _M(c,u){if(!(256&u[2])){const d=u[11];qn(d)&&d.destroyNode&&pn(c,u,d,3,null,null),function(c){let u=c[13];if(!u)return l0(c[1],c);for(;u;){let d=null;if(Mo(u))d=u[13];else{const f=u[10];f&&(d=f)}if(!d){for(;u&&!u[4]&&u!==c;)Mo(u)&&l0(u[1],u),u=u[3];null===u&&(u=c),Mo(u)&&l0(u[1],u),d=u&&u[4]}u=d}}(u)}}function l0(c,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(c,u){let d;if(null!=c&&null!=(d=c.destroyHooks))for(let f=0;f<d.length;f+=2){const p=u[d[f]];if(!(p instanceof Ba)){const g=d[f+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=p[g[v]],E=g[v+1];try{E.call(w)}finally{}}else try{g.call(p)}finally{}}}}(c,u),function(c,u){const d=c.cleanup,f=u[7];let p=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const v=d[g+1],w="function"==typeof v?v(u):Un(u[v]),E=f[p=d[g+2]],x=d[g+3];"boolean"==typeof x?w.removeEventListener(d[g],E,x):x>=0?f[p=x]():f[p=-x].unsubscribe(),g+=2}else{const v=f[p=d[g+1]];d[g].call(v)}if(null!==f){for(let g=p+1;g<f.length;g++)f[g]();u[7]=null}}(c,u),1===u[1].type&&qn(u[11])&&u[11].destroy();const d=u[17];if(null!==d&&Ir(u[3])){d!==u[3]&&gM(d,u);const f=u[19];null!==f&&f.detachView(c)}}}function lI(c,u,d){return jg(c,u.parent,d)}function jg(c,u,d){let f=u;for(;null!==f&&40&f.type;)f=(u=f).parent;if(null===f)return d[0];if(2&f.flags){const p=c.data[f.directiveStart].encapsulation;if(p===Ye.None||p===Ye.Emulated)return null}return Rr(f,d)}function Fo(c,u,d,f,p){qn(c)?c.insertBefore(u,d,f,p):u.insertBefore(d,f,p)}function bM(c,u,d){qn(c)?c.appendChild(u,d):u.appendChild(d)}function vM(c,u,d,f,p){null!==f?Fo(c,u,d,f,p):bM(c,u,d)}function Pd(c,u){return qn(c)?c.parentNode(u):u.parentNode}function Xf(c,u,d){return ep(c,u,d)}function wM(c,u,d){return 40&c.type?Rr(c,d):null}let Fd,ep=wM;function CM(c,u){ep=c,Fd=u}function Rl(c,u,d,f){const p=lI(c,f,u),g=u[11],w=Xf(f.parent||u[6],f,u);if(null!=p)if(Array.isArray(d))for(let E=0;E<d.length;E++)vM(g,p,d[E],w,!1);else vM(g,p,d,w,!1);void 0!==Fd&&Fd(g,f,u,d,p)}function $t(c,u){if(null!==u){const d=u.type;if(3&d)return Rr(u,c);if(4&d)return c0(-1,c[u.index]);if(8&d){const f=u.child;if(null!==f)return $t(c,f);{const p=c[u.index];return Ir(p)?c0(-1,p):Un(p)}}if(32&d)return Od(u,c)()||Un(c[u.index]);{const f=tp(c,u);return null!==f?Array.isArray(f)?f[0]:$t(Nd(c[16]),f):$t(c,u.next)}}return null}function tp(c,u){return null!==u?c[16][6].projection[u.projection]:null}function c0(c,u){const d=10+c+1;if(d<u.length){const f=u[d],p=f[1].firstChild;if(null!==p)return $t(f,p)}return u[7]}function DM(c,u,d){const f=Pd(c,u);f&&function(c,u,d,f){qn(c)?c.removeChild(u,d,f):u.removeChild(d)}(c,f,u,d)}function Ln(c,u,d,f,p,g,v){for(;null!=d;){const w=f[d.index],E=d.type;if(v&&0===u&&(w&&Kn(Un(w),f),d.flags|=4),64!=(64&d.flags))if(8&E)Ln(c,u,d.child,f,p,g,!1),Kf(u,c,p,w,g);else if(32&E){const x=Od(d,f);let k;for(;k=x();)Kf(u,c,p,k,g);Kf(u,c,p,w,g)}else 16&E?MM(c,u,f,d,p,g):Kf(u,c,p,w,g);d=v?d.projectionNext:d.next}}function pn(c,u,d,f,p,g){Ln(d,f,c.firstChild,u,p,g,!1)}function MM(c,u,d,f,p,g){const v=d[16],E=v[6].projection[f.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)Kf(u,c,p,E[x],g);else Ln(c,u,E,v[3],p,g,!0)}function TM(c,u,d){qn(c)?c.setAttribute(u,"style",d):u.style.cssText=d}function u0(c,u,d){qn(c)?""===d?c.removeAttribute(u,"class"):c.setAttribute(u,"class",d):u.className=d}function EM(c,u,d){let f=c.length;for(;;){const p=c.indexOf(u,d);if(-1===p)return p;if(0===p||c.charCodeAt(p-1)<=32){const g=u.length;if(p+g===f||c.charCodeAt(p+g)<=32)return p}d=p+1}}const SM="ng-template";function xM(c,u,d){let f=0;for(;f<c.length;){let p=c[f++];if(d&&"class"===p){if(p=c[f],-1!==EM(p.toLowerCase(),u,0))return!0}else if(1===p){for(;f<c.length&&"string"==typeof(p=c[f++]);)if(p.toLowerCase()===u)return!0;return!1}}return!1}function AM(c){return 4===c.type&&c.value!==SM}function mn(c,u,d){return u===(4!==c.type||d?c.value:SM)}function xB(c,u,d){let f=4;const p=c.attrs||[],g=function(c){for(let u=0;u<c.length;u++)if(gg(c[u]))return u;return c.length}(p);let v=!1;for(let w=0;w<u.length;w++){const E=u[w];if("number"!=typeof E){if(!v)if(4&f){if(f=2|1&f,""!==E&&!mn(c,E,d)||""===E&&1===u.length){if(Pr(f))return!1;v=!0}}else{const x=8&f?E:u[++w];if(8&f&&null!==c.attrs){if(!xM(c.attrs,x,d)){if(Pr(f))return!1;v=!0}continue}const N=hI(8&f?"class":E,p,AM(c),d);if(-1===N){if(Pr(f))return!1;v=!0;continue}if(""!==x){let F;F=N>g?"":p[N+1].toLowerCase();const G=8&f?F:null;if(G&&-1!==EM(G,x,0)||2&f&&x!==F){if(Pr(f))return!1;v=!0}}}}else{if(!v&&!Pr(f)&&!Pr(E))return!1;if(v&&Pr(E))continue;v=!1,f=E|1&f}}return Pr(f)||v}function Pr(c){return 0==(1&c)}function hI(c,u,d,f){if(null===u)return-1;let p=0;if(f||!d){let g=!1;for(;p<u.length;){const v=u[p];if(v===c)return p;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=u[++p];for(;"string"==typeof w;)w=u[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=g?1:2}return-1}return function(c,u){let d=c.indexOf(4);if(d>-1)for(d++;d<c.length;){const f=c[d];if("number"==typeof f)return-1;if(f===u)return d;d++}return-1}(u,c)}function Ld(c,u,d=!1){for(let f=0;f<u.length;f++)if(xB(c,u[f],d))return!0;return!1}function ip(c,u){e:for(let d=0;d<u.length;d++){const f=u[d];if(c.length===f.length){for(let p=0;p<c.length;p++)if(c[p]!==f[p])continue e;return!0}}return!1}function pI(c,u){return c?":not("+u.trim()+")":u}function Zg(c){let u=c[0],d=1,f=2,p="",g=!1;for(;d<c.length;){let v=c[d];if("string"==typeof v)if(2&f){const w=c[++d];p+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&f?p+="."+v:4&f&&(p+=" "+v);else""!==p&&!Pr(v)&&(u+=pI(g,p),p=""),f=v,g=g||!Pr(f);d++}return""!==p&&(u+=pI(g,p)),u}const Ft={};function h0(c){IM(an(),ke(),vr()+c,od())}function IM(c,u,d,f){if(!f)if(3==(3&u[2])){const g=c.preOrderCheckHooks;null!==g&&Ml(u,g,d)}else{const g=c.preOrderHooks;null!==g&&ud(u,g,0,d)}Dl(d)}function zg(c,u){return c<<17|u<<2}function _a(c){return c>>17&32767}function Nl(c){return 2|c}function za(c){return(131068&c)>>2}function ir(c,u){return-131069&c|u<<2}function f0(c){return 1|c}function LM(c,u){const d=c.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const p=d[f],g=d[f+1];if(-1!==g){const v=c.data[g];Cl(p),v.contentQueries(2,u[g],g)}}}function Ud(c,u,d,f,p,g,v,w,E,x){const k=u.blueprint.slice();return k[0]=p,k[2]=140|f,Dc(k),k[3]=k[15]=c,k[8]=d,k[10]=v||c&&c[10],k[11]=w||c&&c[11],k[12]=E||c&&c[12]||null,k[9]=x||c&&c[9]||null,k[6]=g,k[16]=2==u.type?c[16]:k,k}function Wc(c,u,d,f,p){let g=c.data[u];if(null===g)g=n_(c,u,d,f,p),Ct.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=d,g.value=f,g.attrs=p;const v=Fa();g.injectorIndex=null===v?-1:v.injectorIndex}return _s(g,!0),g}function n_(c,u,d,f,p){const g=Ec(),v=vl(),E=c.data[u]=function(c,u,d,f,p,g){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,d,u,f,p);return null===c.firstChild&&(c.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function Hd(c,u,d,f){if(0===d)return-1;const p=u.length;for(let g=0;g<d;g++)u.push(f),c.blueprint.push(f),c.data.push(null);return p}function Fl(c,u,d){xo(u);try{const f=c.viewQuery;null!==f&&S0(1,f,d);const p=c.template;null!==p&&i_(c,u,p,1,d),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&LM(c,u),c.staticViewQueries&&S0(2,c.viewQuery,d);const g=c.components;null!==g&&function(c,u){for(let d=0;d<u.length;d++)Wa(c,u[d])}(u,g)}catch(f){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),f}finally{u[2]&=-5,xc()}}function Jc(c,u,d,f){const p=u[2];if(256==(256&p))return;xo(u);const g=od();try{Dc(u),function(c){Ct.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==d&&i_(c,u,d,2,f);const v=3==(3&p);if(!g)if(v){const x=c.preOrderCheckHooks;null!==x&&Ml(u,x,null)}else{const x=c.preOrderHooks;null!==x&&ud(u,x,0,null),kf(u,0)}if(function(c){for(let u=Yg(c);null!==u;u=qc(u)){if(!u[2])continue;const d=u[9];for(let f=0;f<d.length;f++){const p=d[f],g=p[3];0==(1024&p[2])&&Mc(g,1),p[2]|=1024}}}(u),function(c){for(let u=Yg(c);null!==u;u=qc(u))for(let d=10;d<u.length;d++){const f=u[d],p=f[1];id(f)&&Jc(p,f,p.template,f[8])}}(u),null!==c.contentQueries&&LM(c,u),!g)if(v){const x=c.contentCheckHooks;null!==x&&Ml(u,x)}else{const x=c.contentHooks;null!==x&&ud(u,x,1),kf(u,1)}!function(c,u){const d=c.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const p=d[f];if(p<0)Dl(~p);else{const g=p,v=d[++f],w=d[++f];ad(v,g),w(2,u[g])}}}finally{Dl(-1)}}(c,u);const w=c.components;null!==w&&function(c,u){for(let d=0;d<u.length;d++)FI(c,u[d])}(u,w);const E=c.viewQuery;if(null!==E&&S0(2,E,f),!g)if(v){const x=c.viewCheckHooks;null!==x&&Ml(u,x)}else{const x=c.viewHooks;null!==x&&ud(u,x,2),kf(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),g||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Mc(u[3],-1))}finally{xc()}}function SI(c,u,d,f){const p=u[10],g=!od(),v=hv(u);try{g&&!v&&p.begin&&p.begin(),v&&Fl(c,u,f),Jc(c,u,d,f)}finally{g&&!v&&p.end&&p.end()}}function i_(c,u,d,f,p){const g=vr(),v=2&f;try{Dl(-1),v&&u.length>20&&IM(c,u,20,od()),d(f,p)}finally{Dl(g)}}function r_(c,u,d){if(pf(u)){const p=u.directiveEnd;for(let g=u.directiveStart;g<p;g++){const v=c.data[g];v.contentQueries&&v.contentQueries(1,d[g],g)}}}function sp(c,u,d){!mv()||(function(c,u,d,f){const p=d.directiveStart,g=d.directiveEnd;c.firstCreatePass||ua(d,u),Kn(f,u);const v=d.initialInputs;for(let w=p;w<g;w++){const E=c.data[w],x=Hi(E);x&&HB(u,d,E);const k=Ic(u,c,w,d);Kn(k,u),null!==v&&$a(0,w-p,k,E,0,v),x&&(br(d.index,u)[8]=k)}}(c,u,d,Rr(d,u)),128==(128&d.flags)&&function(c,u,d){const f=d.directiveStart,p=d.directiveEnd,v=d.index,w=Ct.lFrame.currentDirectiveIndex;try{Dl(v);for(let E=f;E<p;E++){const x=c.data[E],k=u[E];Sc(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&so(x,k)}}finally{Dl(-1),Sc(w)}}(c,u,d))}function VM(c,u,d=Rr){const f=u.localNames;if(null!==f){let p=u.index+1;for(let g=0;g<f.length;g+=2){const v=f[g+1],w=-1===v?d(u,c):c[v];c[p++]=w}}}function w0(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=C0(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function C0(c,u,d,f,p,g,v,w,E,x){const k=20+f,N=k+p,F=function(c,u){const d=[];for(let f=0;f<u;f++)d.push(f<c?null:Ft);return d}(k,N),G="function"==typeof x?x():x;return F[1]={type:c,blueprint:F,template:d,queries:null,viewQuery:w,declTNode:u,data:F.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:G,incompleteFirstPass:!1}}function s_(c,u,d,f){const p=QM(u);null===d?p.push(f):(p.push(d),c.firstCreatePass&&Qc(c).push(f,p.length-1))}function M0(c,u,d){for(let f in c)if(c.hasOwnProperty(f)){const p=c[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(u,p):d[f]=[u,p]}return d}function ro(c,u,d,f,p,g,v,w){const E=Rr(u,d);let k,x=u.inputs;!w&&null!=x&&(k=x[f])?(KM(c,d,k,f,p),aa(u)&&function(c,u){const d=br(u,c);16&d[2]||(d[2]|=64)}(d,u.index)):3&u.type&&(f=function(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(f),p=null!=v?v(p,u.value||"",f):p,qn(g)?g.setProperty(E,f,p):Or(f)||(E.setProperty?E.setProperty(f,p):E[f]=p))}function HM(c,u,d,f){let p=!1;if(mv()){const g=function(c,u,d){const f=c.directiveRegistry;let p=null;if(f)for(let g=0;g<f.length;g++){const v=f[g];Ld(d,v.selectors,!1)&&(p||(p=[]),Ua(ua(d,u),c,v.type),Hi(v)?(Yd(c,d),p.unshift(v)):p.push(v))}return p}(c,u,d),v=null===f?null:{"":-1};if(null!==g){p=!0,PI(d,c.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let w=!1,E=!1,x=Hd(c,u,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];d.mergedAttrs=hd(d.mergedAttrs,N.hostAttrs),o_(c,d,u,x,N),GM(x,N,v),null!==N.contentQueries&&(d.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(d.flags|=128);const F=N.type.prototype;!w&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(d.index),w=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(d.index),E=!0),x++}!function(c,u){const f=u.directiveEnd,p=c.data,g=u.attrs,v=[];let w=null,E=null;for(let x=u.directiveStart;x<f;x++){const k=p[x],N=k.inputs,F=null===g||AM(u)?null:GB(N,g);v.push(F),w=M0(N,x,w),E=M0(k.outputs,x,E)}null!==w&&(w.hasOwnProperty("class")&&(u.flags|=16),w.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=v,u.inputs=w,u.outputs=E}(c,d)}v&&function(c,u,d){if(u){const f=c.localNames=[];for(let p=0;p<u.length;p+=2){const g=d[u[p+1]];if(null==g)throw new Ce("301",`Export of name '${u[p+1]}' not found!`);f.push(u[p],g)}}}(d,f,v)}return d.mergedAttrs=hd(d.mergedAttrs,d.attrs),p}function OI(c,u,d,f,p,g){const v=g.hostBindings;if(v){let w=c.hostBindingOpCodes;null===w&&(w=c.hostBindingOpCodes=[]);const E=~u.index;(function(c){let u=c.length;for(;u>0;){const d=c[--u];if("number"==typeof d&&d<0)return d}return 0})(w)!=E&&w.push(E),w.push(f,p,v)}}function so(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function Yd(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function GM(c,u,d){if(d){if(u.exportAs)for(let f=0;f<u.exportAs.length;f++)d[u.exportAs[f]]=c;Hi(u)&&(d[""]=c)}}function PI(c,u,d){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+d,c.providerIndexes=u}function o_(c,u,d,f,p){c.data[f]=p;const g=p.factory||(p.factory=Oa(p.type)),v=new Ba(g,Hi(p),null);c.blueprint[f]=v,d[f]=v,OI(c,u,0,f,Hd(c,d,p.hostVars,Ft),p)}function HB(c,u,d){const f=Rr(u,c),p=w0(d),g=c[10],v=jd(c,Ud(c,p,null,d.onPush?64:16,f,u,g,g.createRenderer(f,d),null,null));c[u.index]=v}function YM(c,u,d,f,p,g,v){if(null==g)qn(c)?c.removeAttribute(u,p,d):u.removeAttribute(p);else{const w=null==v?ve(g):v(g,f||"",p);qn(c)?c.setAttribute(u,p,w,d):d?u.setAttributeNS(d,p,w):u.setAttribute(p,w)}}function $a(c,u,d,f,p,g){const v=g[u];if(null!==v){const w=f.setInput;for(let E=0;E<v.length;){const x=v[E++],k=v[E++],N=v[E++];null!==w?f.setInput(d,N,x,k):d[k]=N}}}function GB(c,u){let d=null,f=0;for(;f<u.length;){const p=u[f];if(0!==p)if(5!==p){if("number"==typeof p)break;c.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,c[p],u[f+1])),f+=2}else f+=2;else f+=4}return d}function jM(c,u,d,f){return new Array(c,!0,!1,u,null,0,f,d,null,null)}function FI(c,u){const d=br(u,c);if(id(d)){const f=d[1];80&d[2]?Jc(f,d,f.template,d[8]):d[5]>0&&zM(d)}}function zM(c){for(let f=Yg(c);null!==f;f=qc(f))for(let p=10;p<f.length;p++){const g=f[p];if(1024&g[2]){const v=g[1];Jc(v,g,v.template,g[8])}else g[5]>0&&zM(g)}const d=c[1].components;if(null!==d)for(let f=0;f<d.length;f++){const p=br(d[f],c);id(p)&&p[5]>0&&zM(p)}}function Wa(c,u){const d=br(u,c),f=d[1];(function(c,u){for(let d=u.length;d<c.blueprint.length;d++)u.push(c.blueprint[d])})(f,d),Fl(f,d,d[8])}function jd(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function Ll(c){for(;c;){c[2]|=64;const u=Nd(c);if(Kr(c)&&!u)return c;c=u}return null}function a_(c,u,d){const f=u[10];f.begin&&f.begin();try{Jc(c,u,c.template,d)}catch(p){throw op(u,p),p}finally{f.end&&f.end()}}function WM(c){!function(c){for(let u=0;u<c.components.length;u++){const d=c.components[u],f=Jf(d),p=f[1];SI(p,f,p.template,d)}}(c[8])}function S0(c,u,d){Cl(0),u(c,d)}const qd=(()=>Promise.resolve(null))();function QM(c){return c[7]||(c[7]=[])}function Qc(c){return c.cleanup||(c.cleanup=[])}function Kc(c,u,d){return(null===c||Hi(c))&&(d=function(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(d[u.index])),d[11]}function op(c,u){const d=c[9],f=d?d.get(Rd,null):null;f&&f.handleError(u)}function KM(c,u,d,f,p){for(let g=0;g<d.length;){const v=d[g++],w=d[g++],E=u[v],x=c.data[v];null!==x.setInput?x.setInput(E,p,f,w):E[w]=p}}function Ja(c,u,d){const f=Na(u,c);nI(c[11],f,d)}function oo(c,u,d){let f=d?c.styles:null,p=d?c.classes:null,g=0;if(null!==u)for(let v=0;v<u.length;v++){const w=u[v];"number"==typeof w?g=w:1==g?p=z(p,w):2==g&&(f=z(f,w+": "+u[++v]+";"))}d?c.styles=f:c.stylesWithoutHost=f,d?c.classes=p:c.classesWithoutHost=p}const Bl=new ci("INJECTOR",-1);class k0{get(u,d=Md){if(d===Md){const f=new Error(`NullInjectorError: No provider for ${W(u)}!`);throw f.name="NullInjectorError",f}return d}}const Xc=new ci("Set Injector scope."),Zd={},jB={};let ap;function XM(){return void 0===ap&&(ap=new k0),ap}function zd(c,u=null,d=null,f){return new GI(c,d,u||XM(),f)}class GI{constructor(u,d,f,p=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];d&&Ns(d,w=>this.processProvider(w,u,d)),Ns([u],w=>this.processInjectorType(w,[],g)),this.records.set(Bl,Vl(void 0,this));const v=this.records.get(Xc);this.scope=null!=v?v.value:null,this.source=p||("object"==typeof u?null:W(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,d=Md,f=ct.Default){this.assertNotDestroyed();const p=Ga(this),g=ki(void 0);try{if(!(f&ct.SkipSelf)){let w=this.records.get(u);if(void 0===w){const E=("function"==typeof(c=u)||"object"==typeof c&&c instanceof ci)&&Fi(u);w=E&&this.injectableDefInScope(E)?Vl(I0(u),Zd):null,this.records.set(u,w)}if(null!=w)return this.hydrate(u,w)}return(f&ct.Self?XM():this.parent).get(u,d=f&ct.Optional&&d===Md?null:d)}catch(v){if("NullInjectorError"===v.name){if((v[Pc]=v[Pc]||[]).unshift(W(u)),p)throw v;return Bv(v,u,"R3InjectorError",this.source)}throw v}finally{ki(g),Ga(p)}var c}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((f,p)=>u.push(W(p))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,d,f){if(!(u=H(u)))return!1;let p=Ks(u);const g=null==p&&u.ngModule||void 0,v=void 0===g?u:g,w=-1!==f.indexOf(v);if(void 0!==g&&(p=Ks(g)),null==p)return!1;if(null!=p.imports&&!w){let k;f.push(v);try{Ns(p.imports,N=>{this.processInjectorType(N,d,f)&&(void 0===k&&(k=[]),k.push(N))})}finally{}if(void 0!==k)for(let N=0;N<k.length;N++){const{ngModule:F,providers:G}=k[N];Ns(G,K=>this.processProvider(K,F,G||Y))}}this.injectorDefTypes.add(v);const E=Oa(v)||(()=>new v);this.records.set(v,Vl(E,Zd));const x=p.providers;if(null!=x&&!w){const k=u;Ns(x,N=>this.processProvider(N,k,x))}return void 0!==g&&void 0!==u.providers}processProvider(u,d,f){let p=eu(u=H(u))?u:H(u&&u.provide);const g=c_(c=u)?Vl(void 0,c.useValue):Vl(ba(c),Zd);var c;if(eu(u)||!0!==u.multi)this.records.get(p);else{let v=this.records.get(p);v||(v=Vl(void 0,Zd,!0),v.factory=()=>xl(v.multi),this.records.set(p,v)),p=u,v.multi.push(u)}this.records.set(p,g)}hydrate(u,d){return d.value===Zd&&(d.value=jB,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(c=d.value)&&"object"==typeof c&&"function"==typeof c.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var c}injectableDefInScope(u){if(!u.providedIn)return!1;const d=H(u.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function I0(c){const u=Fi(c),d=null!==u?u.factory:Oa(c);if(null!==d)return d;if(c instanceof ci)throw new Error(`Token ${W(c)} is missing a \u0275prov definition.`);if(c instanceof Function)return function(c){const u=c.length;if(u>0){const f=Ha(u,"?");throw new Error(`Can't resolve all parameters for ${W(c)}: (${f.join(", ")}).`)}const d=function(c){const u=c&&(c[gs]||c[ea]);if(u){const d=function(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),u}return null}(c);return null!==d?()=>d.factory(c):()=>new c}(c);throw new Error("unreachable")}function ba(c,u,d){let f;if(eu(c)){const p=H(c);return Oa(p)||I0(p)}if(c_(c))f=()=>H(c.useValue);else if(function(c){return!(!c||!c.useFactory)}(c))f=()=>c.useFactory(...xl(c.deps||[]));else if(function(c){return!(!c||!c.useExisting)}(c))f=()=>ui(H(c.useExisting));else{const p=H(c&&(c.useClass||c.provide));if(!function(c){return!!c.deps}(c))return Oa(p)||I0(p);f=()=>new p(...xl(c.deps))}return f}function Vl(c,u,d=!1){return{factory:c,value:u,multi:d?[]:void 0}}function c_(c){return null!==c&&"object"==typeof c&&Sd in c}function eu(c){return"function"==typeof c}const jI=function(c,u,d){return function(c,u=null,d=null,f){const p=zd(c,u,d,f);return p._resolveInjectorDefTypes(),p}({name:d},u,c,d)};class Bn{static create(u,d){return Array.isArray(u)?jI(u,d,""):jI(u.providers,u.parent,u.name||"")}}function lT(c,u){cd(Jf(c)[1],Qn())}function B0(c){let u=function(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),d=!0;const f=[c];for(;u;){let p;if(Hi(c))p=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");p=u.\u0275dir}if(p){if(d){f.push(p);const v=c;v.inputs=Ul(c.inputs),v.declaredInputs=Ul(c.declaredInputs),v.outputs=Ul(c.outputs);const w=p.hostBindings;w&&tR(c,w);const E=p.viewQuery,x=p.contentQueries;if(E&&eR(c,E),x&&iV(c,x),Z(c.inputs,p.inputs),Z(c.declaredInputs,p.declaredInputs),Z(c.outputs,p.outputs),Hi(p)&&p.data.animation){const k=c.data;k.animation=(k.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(c),w===B0&&(d=!1)}}u=Object.getPrototypeOf(u)}!function(c){let u=0,d=null;for(let f=c.length-1;f>=0;f--){const p=c[f];p.hostVars=u+=p.hostVars,p.hostAttrs=hd(p.hostAttrs,d=hd(d,p.hostAttrs))}}(f)}function Ul(c){return c===yn?{}:c===Y?[]:c}function eR(c,u){const d=c.viewQuery;c.viewQuery=d?(f,p)=>{u(f,p),d(f,p)}:u}function iV(c,u){const d=c.contentQueries;c.contentQueries=d?(f,p,g)=>{u(f,p,g),d(f,p,g)}:u}function tR(c,u){const d=c.hostBindings;c.hostBindings=d?(f,p)=>{u(f,p),d(f,p)}:u}Bn.THROW_IF_NOT_FOUND=Md,Bn.NULL=new k0,Bn.\u0275prov=Rt({token:Bn,providedIn:"any",factory:()=>ui(Bl)}),Bn.__NG_ELEMENT_ID__=-1;let m_=null;function Qd(){if(!m_){const c=wn.Symbol;if(c&&c.iterator)m_=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<u.length;++d){const f=u[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(m_=f)}}}return m_}class ao{constructor(u){this.wrapped=u}static wrap(u){return new ao(u)}static unwrap(u){return ao.isWrapped(u)?u.wrapped:u}static isWrapped(u){return u instanceof ao}}function Xa(c){return!!V0(c)&&(Array.isArray(c)||!(c instanceof Map)&&Qd()in c)}function V0(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function lo(c,u,d){return c[u]=d}function Cr(c,u,d){return!Object.is(c[u],d)&&(c[u]=d,!0)}function Hl(c,u,d,f){const p=Cr(c,u,d);return Cr(c,u+1,f)||p}function U0(c,u,d,f){const p=ke();return Cr(p,Is(),u)&&(an(),function(c,u,d,f,p,g){const v=Rr(c,u);YM(u[11],v,g,c.value,d,f,p)}(vi(),p,c,u,d,f)),U0}function Xd(c,u,d,f){return Cr(c,Is(),d)?u+ve(d)+f:Ft}function tu(c,u,d,f,p,g,v,w,E,x){const N=function(c,u,d,f,p,g){const v=Hl(c,u,d,f);return Hl(c,u+2,p,g)||v}(c,ts(),d,p,v,E);return Rs(4),N?u+ve(d)+f+ve(p)+g+ve(v)+w+ve(E)+x:Ft}function mT(c,u,d,f,p,g,v,w){const E=ke(),x=an(),k=c+20,N=x.firstCreatePass?function(c,u,d,f,p,g,v,w,E){const x=u.consts,k=Wc(u,c,4,v||null,So(x,w));HM(u,d,k,So(x,E)),cd(u,k);const N=k.tViews=C0(2,k,f,p,g,u.directiveRegistry,u.pipeRegistry,null,u.schemas,x);return null!==u.queries&&(u.queries.template(u,k),N.queries=u.queries.embeddedTView(k)),k}(k,x,E,u,d,f,p,g,v):x.data[k];_s(N,!1);const F=E[11].createComment("");Rl(x,E,F,N),Kn(F,E),jd(E,E[k]=jM(F,E,F,N)),bi(N)&&sp(x,E,N),null!=v&&VM(E,N,w)}function gT(c){return Pa(Ct.lFrame.contextLView,20+c)}function v_(c,u=ct.Default){const d=ke();return null===d?ui(c,u):kc(Qn(),d,H(c),u)}function rh(c,u,d){const f=ke();return Cr(f,Is(),u)&&ro(an(),vi(),f,c,u,f[11],d,!1),rh}function iu(c,u,d,f,p){const v=p?"class":"style";KM(c,d,u.inputs[v],v,f)}function sh(c,u,d,f){const p=ke(),g=an(),v=20+c,w=p[11],E=p[v]=Il(w,u,Ct.lFrame.currentNamespace),x=g.firstCreatePass?function(c,u,d,f,p,g,v){const w=u.consts,x=Wc(u,c,2,p,So(w,g));return HM(u,d,x,So(w,v)),null!==x.attrs&&oo(x,x.attrs,!1),null!==x.mergedAttrs&&oo(x,x.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,x),x}(v,g,p,0,u,d,f):g.data[v];_s(x,!0);const k=x.mergedAttrs;null!==k&&Of(w,E,k);const N=x.classes;null!==N&&u0(w,E,N);const F=x.styles;null!==F&&TM(w,E,F),64!=(64&x.flags)&&Rl(g,p,E,x),0===Ct.lFrame.elementDepthCount&&Kn(E,p),Ct.lFrame.elementDepthCount++,bi(x)&&(sp(g,p,x),r_(g,x,p)),null!==f&&VM(p,x)}function Q0(){let c=Qn();vl()?sd():(c=c.parent,_s(c,!1));const u=c;Ct.lFrame.elementDepthCount--;const d=an();d.firstCreatePass&&(cd(d,c),pf(c)&&d.queries.elementEnd(c)),null!=u.classesWithoutHost&&function(c){return 0!=(16&c.flags)}(u)&&iu(d,u,ke(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(c){return 0!=(32&c.flags)}(u)&&iu(d,u,ke(),u.stylesWithoutHost,!1)}function C_(c,u,d,f){sh(c,u,d,f),Q0()}function X0(c,u,d){const f=ke(),p=an(),g=c+20,v=p.firstCreatePass?function(c,u,d,f,p){const g=u.consts,v=So(g,f),w=Wc(u,c,8,"ng-container",v);return null!==v&&oo(w,v,!0),HM(u,d,w,So(g,p)),null!==u.queries&&u.queries.elementStart(u,w),w}(g,p,f,u,d):p.data[g];_s(v,!0);const w=f[g]=f[11].createComment("");Rl(p,f,w,v),Kn(w,f),bi(v)&&(sp(p,f,v),r_(p,v,f)),null!=d&&VM(f,v)}function D_(){let c=Qn();const u=an();vl()?sd():(c=c.parent,_s(c,!1)),u.firstCreatePass&&(cd(u,c),pf(c)&&u.queries.elementEnd(c))}function AT(c,u,d){X0(c,u,d),D_()}function ew(){return ke()}function tw(c){return!!c&&"function"==typeof c.then}function yR(c){return!!c&&"function"==typeof c.subscribe}const nw=yR;function pp(c,u,d,f){const p=ke(),g=an(),v=Qn();return M_(g,p,p[11],v,c,u,!!d,f),pp}function iw(c,u){const d=Qn(),f=ke(),p=an();return M_(p,f,Kc(Sf(p.data),d,f),d,c,u,!1),iw}function M_(c,u,d,f,p,g,v,w){const E=bi(f),k=c.firstCreatePass&&Qc(c),N=u[8],F=QM(u);let G=!0;if(3&f.type||w){const ae=Rr(f,u),Le=w?w(ae):ae,Ee=F.length,We=w?rt=>w(Un(rt[f.index])):f.index;if(qn(d)){let rt=null;if(!w&&E&&(rt=function(c,u,d,f){const p=c.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const v=p[g];if(v===d&&p[g+1]===f){const w=u[7],E=p[g+2];return w.length>E?w[E]:null}"string"==typeof v&&(g+=2)}return null}(c,u,p,f.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=g,rt.__ngLastListenerFn__=g,G=!1;else{g=IT(f,u,N,g,!1);const Xt=d.listen(Le,p,g);F.push(g,Xt),k&&k.push(p,We,Ee,Ee+1)}}else g=IT(f,u,N,g,!0),Le.addEventListener(p,g,v),F.push(g),k&&k.push(p,We,Ee,v)}else g=IT(f,u,N,g,!1);const K=f.outputs;let ge;if(G&&null!==K&&(ge=K[p])){const ae=ge.length;if(ae)for(let Le=0;Le<ae;Le+=2){const Ni=u[ge[Le]][ge[Le+1]].subscribe(g),_o=F.length;F.push(g,Ni),k&&k.push(p,f.index,_o,-(_o+1))}}}function mp(c,u,d,f){try{return!1!==d(f)}catch(p){return op(c,p),!1}}function IT(c,u,d,f,p){return function g(v){if(v===Function)return f;const w=2&c.flags?br(c.index,u):u;0==(32&u[2])&&Ll(w);let E=mp(u,0,f,v),x=g.__ngNextListenerFn__;for(;x;)E=mp(u,0,x,v)&&E,x=x.__ngNextListenerFn__;return p&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function oh(c=1){return function(c){return(Ct.lFrame.contextLView=function(c,u){for(;c>0;)u=u[15],c--;return u}(c,Ct.lFrame.contextLView))[8]}(c)}function T_(c,u){let d=null;const f=function(c){const u=c.attrs;if(null!=u){const d=u.indexOf(5);if(0==(1&d))return u[d+1]}return null}(c);for(let p=0;p<u.length;p++){const g=u[p];if("*"!==g){if(null===f?Ld(c,g,!0):ip(f,g))return p}else d=p}return d}function ru(c){const u=ke()[16][6];if(!u.projection){const f=u.projection=Ha(c?c.length:1,null),p=f.slice();let g=u.child;for(;null!==g;){const v=c?T_(g,c):0;null!==v&&(p[v]?p[v].projectionNext=g:f[v]=g,p[v]=g),g=g.next}}}function ah(c,u=0,d){const f=ke(),p=an(),g=Wc(p,20+c,16,null,d||null);null===g.projection&&(g.projection=u),sd(),64!=(64&g.flags)&&function(c,u,d){MM(u[11],0,u,d,lI(c,d,u),Xf(d.parent||u[6],d,u))}(p,f,g)}function rw(c,u,d){return lh(c,"",u,"",d),rw}function lh(c,u,d,f,p){const g=ke(),v=Xd(g,u,d,f);return v!==Ft&&ro(an(),vi(),g,c,v,g[11],p,!1),lh}function Fs(c,u,d,f,p){const g=c[d+1],v=null===u;let w=f?_a(g):za(g),E=!1;for(;0!==w&&(!1===E||v);){const k=c[w+1];RT(c[w],u)&&(E=!0,c[w+1]=f?f0(k):Nl(k)),w=f?_a(k):za(k)}E&&(c[d+1]=f?Nl(g):f0(g))}function RT(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&Oc(c,u)>=0}const sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bR(c){return c.substring(sr.key,sr.keyEnd)}function OT(c,u){const d=sr.textEnd;return d===u?-1:(u=sr.keyEnd=function(c,u,d){for(;u<d&&c.charCodeAt(u)>32;)u++;return u}(c,sr.key=u,d),ou(c,u,d))}function ou(c,u,d){for(;u<d&&c.charCodeAt(u)<=32;)u++;return u}function I_(c,u,d){return Ho(c,u,d,!1),I_}function lw(c,u){return Ho(c,u,null,!0),lw}function cw(c){uo(bs,co,c,!0)}function co(c,u){for(let d=function(c){return function(c){sr.key=0,sr.keyEnd=0,sr.value=0,sr.valueEnd=0,sr.textEnd=c.length}(c),OT(c,ou(c,0,sr.textEnd))}(u);d>=0;d=OT(u,d))bs(c,bR(u),!0)}function Ho(c,u,d,f){const p=ke(),g=an(),v=Rs(2);g.firstUpdatePass&&Oi(g,c,v,f),u!==Ft&&Cr(p,v,u)&&GT(g,g.data[vr()],p,p[11],c,p[v+1]=function(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=W(fa(c)))),c}(u,d),f,v)}function uo(c,u,d,f){const p=an(),g=Rs(2);p.firstUpdatePass&&Oi(p,null,g,f);const v=ke();if(d!==Ft&&Cr(v,g,d)){const w=p.data[vr()];if(hw(w,f)&&!VT(p,g)){let E=f?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(d=z(E,d||"")),iu(p,w,v,d,f)}else!function(c,u,d,f,p,g,v,w){p===Ft&&(p=Y);let E=0,x=0,k=0<p.length?p[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const F=E<p.length?p[E+1]:void 0,G=x<g.length?g[x+1]:void 0;let ge,K=null;k===N?(E+=2,x+=2,F!==G&&(K=N,ge=G)):null===N||null!==k&&k<N?(E+=2,K=k):(x+=2,K=N,ge=G),null!==K&&GT(c,u,d,f,K,ge,v,w),k=E<p.length?p[E]:null,N=x<g.length?g[x]:null}}(p,w,v,v[11],v[g+1],v[g+1]=function(c,u,d){if(null==d||""===d)return Y;const f=[],p=fa(d);if(Array.isArray(p))for(let g=0;g<p.length;g++)c(f,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&c(f,g,p[g]);else"string"==typeof p&&u(f,p);return f}(c,u,d),f,g)}}function VT(c,u){return u>=c.expandoStartIndex}function Oi(c,u,d,f){const p=c.data;if(null===p[d+1]){const g=p[vr()],v=VT(c,d);hw(g,f)&&null===u&&!v&&(u=!1),u=function(c,u,d,f){const p=Sf(c);let g=f?u.residualClasses:u.residualStyles;if(null===p)0===(f?u.classBindings:u.styleBindings)&&(d=_p(d=R_(null,c,u,d,f),u.attrs,f),g=null);else{const v=u.directiveStylingLast;if(-1===v||c[v]!==p)if(d=R_(p,c,u,d,f),null===g){let E=function(c,u,d){const f=d?u.classBindings:u.styleBindings;if(0!==za(f))return c[_a(f)]}(c,u,f);void 0!==E&&Array.isArray(E)&&(E=R_(null,c,u,E[1],f),E=_p(E,u.attrs,f),function(c,u,d,f){c[_a(d?u.classBindings:u.styleBindings)]=f}(c,u,f,E))}else g=function(c,u,d){let f;const p=u.directiveEnd;for(let g=1+u.directiveStylingLast;g<p;g++)f=_p(f,c[g].hostAttrs,d);return _p(f,u.attrs,d)}(c,u,f)}return void 0!==g&&(f?u.residualClasses=g:u.residualStyles=g),d}(p,g,u,f),function(c,u,d,f,p,g){let v=g?u.classBindings:u.styleBindings,w=_a(v),E=za(v);c[f]=d;let k,x=!1;if(Array.isArray(d)){const N=d;k=N[1],(null===k||Oc(N,k)>0)&&(x=!0)}else k=d;if(p)if(0!==E){const F=_a(c[w+1]);c[f+1]=zg(F,w),0!==F&&(c[F+1]=ir(c[F+1],f)),c[w+1]=function(c,u){return 131071&c|u<<17}(c[w+1],f)}else c[f+1]=zg(w,0),0!==w&&(c[w+1]=ir(c[w+1],f)),w=f;else c[f+1]=zg(E,0),0===w?w=f:c[E+1]=ir(c[E+1],f),E=f;x&&(c[f+1]=Nl(c[f+1])),Fs(c,k,f,!0),Fs(c,k,f,!1),function(c,u,d,f,p){const g=p?c.residualClasses:c.residualStyles;null!=g&&"string"==typeof u&&Oc(g,u)>=0&&(d[f+1]=f0(d[f+1]))}(u,k,c,f,g),v=zg(w,E),g?u.classBindings=v:u.styleBindings=v}(p,g,u,d,v,f)}}function R_(c,u,d,f,p){let g=null;const v=d.directiveEnd;let w=d.directiveStylingLast;for(-1===w?w=d.directiveStart:w++;w<v&&(g=u[w],f=_p(f,g.hostAttrs,p),g!==c);)w++;return null!==c&&(d.directiveStylingLast=w),f}function _p(c,u,d){const f=d?1:2;let p=-1;if(null!==u)for(let g=0;g<u.length;g++){const v=u[g];"number"==typeof v?p=v:p===f&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),bs(c,v,!!d||u[++g]))}return void 0===c?null:c}function GT(c,u,d,f,p,g,v,w){if(!(3&u.type))return;const E=c.data,x=E[w+1];yp(function(c){return 1==(1&c)}(x)?O_(E,u,d,p,za(x),v):void 0)||(yp(g)||function(c){return 2==(2&c)}(x)&&(g=O_(E,null,d,p,w,v)),function(c,u,d,f,p){const g=qn(c);if(u)p?g?c.addClass(d,f):d.classList.add(f):g?c.removeClass(d,f):d.classList.remove(f);else{let v=-1===f.indexOf("-")?void 0:ga.DashCase;if(null==p)g?c.removeStyle(d,f,v):d.style.removeProperty(f);else{const w="string"==typeof p&&p.endsWith("!important");w&&(p=p.slice(0,-10),v|=ga.Important),g?c.setStyle(d,f,p,v):d.style.setProperty(f,p,w?"important":"")}}}(f,v,Na(vr(),d),p,g))}function O_(c,u,d,f,p,g){const v=null===u;let w;for(;p>0;){const E=c[p],x=Array.isArray(E),k=x?E[1]:E,N=null===k;let F=d[p+1];F===Ft&&(F=N?Y:void 0);let G=N?Cd(F,f):k===f?F:void 0;if(x&&!yp(G)&&(G=Cd(E,f)),yp(G)&&(w=G,v))return w;const K=c[p+1];p=v?_a(K):za(K)}if(null!==u){let E=g?u.residualClasses:u.residualStyles;null!=E&&(w=Cd(E,f))}return w}function yp(c){return void 0!==c}function hw(c,u){return 0!=(c.flags&(u?16:32))}function YT(c,u=""){const d=ke(),f=an(),p=c+20,g=f.firstCreatePass?Wc(f,p,1,u,null):f.data[p],v=d[p]=o0(d[11],u);Rl(f,d,v,g),_s(g,!1)}function jT(c){return uh("",c,""),jT}function uh(c,u,d){const f=ke(),p=Xd(f,c,u,d);return p!==Ft&&Ja(f,vr(),p),uh}function N_(c,u,d,f,p){const g=ke(),v=function(c,u,d,f,p,g){const w=Hl(c,ts(),d,p);return Rs(2),w?u+ve(d)+f+ve(p)+g:Ft}(g,c,u,d,f,p);return v!==Ft&&Ja(g,vr(),v),N_}function $T(c,u,d){uo(bs,co,Xd(ke(),c,u,d),!0)}function WT(c,u,d,f,p,g,v,w,E){uo(bs,co,tu(ke(),c,u,d,f,p,g,v,w,E),!0)}function bw(c,u,d){const f=ke();return Cr(f,Is(),u)&&ro(an(),vi(),f,c,u,f[11],d,!0),bw}function vw(c,u,d){const f=ke();if(Cr(f,Is(),u)){const g=an(),v=vi();ro(g,v,f,c,u,Kc(Sf(g.data),v,f),d,!0)}return vw}const dh=void 0;var vp=["en",[["a","p"],["AM","PM"],dh],[["AM","PM"],dh,dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dh,"{1} 'at' {0}",dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(c){const u=Math.floor(Math.abs(c)),d=c.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let hh={};function ww(c){const u=function(c){return c.toLowerCase().replace(/_/g,"-")}(c);let d=rE(u);if(d)return d;const f=u.split("-")[0];if(d=rE(f),d)return d;if("en"===f)return vp;throw new Error(`Missing locale data for the locale "${c}".`)}function rl(c){return ww(c)[tt.PluralCase]}function rE(c){return c in hh||(hh[c]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[c]),hh[c]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const Cw=["zero","one","two","few","many"],H_="en-US",G_={marker:"element"},Y_={marker:"ICU"};var Ti=(()=>((Ti=Ti||{})[Ti.SHIFT=2]="SHIFT",Ti[Ti.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ti[Ti.COMMENT=2]="COMMENT",Ti))();let oE=H_;function Dw(c){(function(c,u){null==c&&yt(u,c,null,"!=")})(c,"Expected localeId to be defined"),"string"==typeof c&&(oE=c.toLowerCase().replace(/_/g,"-"))}function lE(c,u,d){const f=u.insertBeforeIndex,p=Array.isArray(f)?f[0]:f;return null===p?wM(c,0,d):Un(d[p])}function Zl(c,u,d,f,p){const g=u.insertBeforeIndex;if(Array.isArray(g)){let v=f,w=null;if(3&u.type||(w=v,v=p),null!==v&&0==(2&u.flags))for(let E=1;E<g.length;E++)Fo(c,v,d[g[E]],w,!1)}}function cE(c,u){if(c.push(u),c.length>1)for(let d=c.length-2;d>=0;d--){const f=c[d];j_(f)||OR(f,u)&&null===NR(f)&&sl(f,u.index)}}function j_(c){return!(64&c.type)}function OR(c,u){return j_(u)||c.index>u.index}function NR(c){const u=c.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function sl(c,u){const d=c.insertBeforeIndex;Array.isArray(d)?d[0]=u:(CM(lE,Zl),c.insertBeforeIndex=u)}function au(c,u){const d=c.data[u];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function PR(c,u,d){const f=n_(c,d,64,null,null);return cE(u,f),f}function q_(c,u){const d=u[c.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function dE(c){return c>>>17}function hE(c){return(131070&c)>>>1}let ph=0,mh=0;function pE(c,u,d,f){const p=d[11];let v,g=null;for(let w=0;w<u.length;w++){const E=u[w];if("string"==typeof E){const x=u[++w];null===d[x]&&(d[x]=o0(p,E))}else if("number"==typeof E)switch(1&E){case 0:const x=dE(E);let k,N;if(null===g&&(g=x,v=Pd(p,f)),x===g?(k=f,N=v):(k=null,N=Un(d[x])),null!==N){const ge=hE(E);Fo(p,N,d[ge],k,!1);const Le=au(c,ge);if(null!==Le&&"object"==typeof Le){const Ee=q_(Le,d);null!==Ee&&pE(c,Le.create[Ee],d,d[Le.anchorIdx])}}break;case 1:const G=u[++w],K=u[++w];YM(p,Na(E>>>1,d),null,null,G,K,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${E}"`)}else switch(E){case Y_:const x=u[++w],k=u[++w];null===d[k]&&Kn(d[k]=iI(p,x),d);break;case G_:const N=u[++w],F=u[++w];null===d[F]&&Kn(d[F]=Il(p,N,null),d)}}}function Mw(c,u,d,f,p){for(let g=0;g<d.length;g++){const v=d[g],w=d[++g];if(v&p){let E="";for(let x=g+1;x<=g+w;x++){const k=d[x];if("string"==typeof k)E+=k;else if("number"==typeof k)if(k<0)E+=ve(u[f-k]);else{const N=k>>>2;switch(3&k){case 1:const F=d[++x],G=d[++x],K=c.data[N];"string"==typeof K?YM(u[11],u[N],null,K,F,E,G):ro(c,K,u,F,E,u[11],G,!1);break;case 0:const ge=u[N];null!==ge&&nI(u[11],ge,E);break;case 2:UR(c,au(c,N),u,E);break;case 3:sn(c,au(c,N),f,u)}}}}else{const E=d[g+1];if(E>0&&3==(3&E)){const k=au(c,E>>>2);u[k.currentCaseLViewIndex]<0&&sn(c,k,f,u)}}g+=w}}function sn(c,u,d,f){let p=f[u.currentCaseLViewIndex];if(null!==p){let g=ph;p<0&&(p=f[u.currentCaseLViewIndex]=~p,g=-1),Mw(c,f,u.update[p],d,g)}}function UR(c,u,d,f){const p=function(c,u){let d=c.cases.indexOf(u);if(-1===d)switch(c.type){case 1:{const f=function(c,u){const d=rl(u)(parseInt(c,10)),f=Cw[d];return void 0!==f?f:"other"}(u,oE);d=c.cases.indexOf(f),-1===d&&"other"!==f&&(d=c.cases.indexOf("other"));break}case 0:d=c.cases.indexOf("other")}return-1===d?null:d}(u,f);if(q_(u,d)!==p&&(lu(c,u,d),d[u.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=d[u.anchorIdx];v&&pE(c,u.create[p],d,v)}}function lu(c,u,d){let f=q_(u,d);if(null!==f){const p=u.remove[f];for(let g=0;g<p.length;g++){const v=p[g];if(v>0){const w=Na(v,d);null!==w&&DM(d[11],w)}else lu(c,au(c,~v),d)}}}function Tw(){const c=[];let d,f,u=-1;function g(w,E){u=0;const x=q_(w,E);f=null!==x?w.remove[x]:Y}function v(){if(u<f.length){const w=f[u++];return w>0?d[w]:(c.push(u,f),g(d[1].data[~w],d),v())}return 0===c.length?null:(f=c.pop(),u=c.pop(),v())}return function(w,E){for(d=E;c.length;)c.pop();return g(w.value,E),v}}const Cp=/\ufffd(\d+):?\d*\ufffd/gi,wV=/\ufffd(\d+)\ufffd/,or=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,HR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,GR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_E=/\uE500/g;function Sw(c,u,d,f,p,g,v){const w=Hd(c,f,1,null);let E=w<<Ti.SHIFT,x=Fa();u===x&&(x=null),null===x&&(E|=Ti.APPEND_EAGERLY),v&&(E|=Ti.COMMENT,function(c){void 0===Ug&&(Ug=c())}(Tw)),p.push(E,null===g?"":g);const k=n_(c,w,v?32:1,null===g?"":g,null);cE(d,k);const N=k.index;return _s(k,!1),null!==x&&u!==x&&function(c,u){let d=c.insertBeforeIndex;null===d?(CM(lE,Zl),d=c.insertBeforeIndex=[null,u]):(function(c,u,d){c!=u&&yt(d,c,u,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(u))}(x,N),k}function jR(c,u,d,f,p,g,v){const w=v.match(Cp),E=Sw(c,u,d,g,f,w?null:v,!1);w&&cu(p,v,E.index,null,0,null)}function cu(c,u,d,f,p,g){const v=c.length,w=v+1;c.push(null,null);const E=v+2,x=u.split(Cp);let k=0;for(let N=0;N<x.length;N++){const F=x[N];if(1&N){const G=p+parseInt(F,10);c.push(-1-G),k|=zl(G)}else""!==F&&c.push(F)}return c.push(d<<2|(f?1:0)),f&&c.push(f,g),c[v]=k,c[w]=c.length-E,k}function zl(c){return 1<<Math.min(c,31)}function gh(c){let u,g,d="",f=0,p=!1;for(;null!==(u=HR.exec(c));)p?u[0]===`\ufffd/*${g}\ufffd`&&(f=u.index,p=!1):(d+=c.substring(f,u.index+u[0].length),g=u[1],p=!0);return d+=c.substr(f),d}function $l(c,u,d,f,p,g){let v=0;const w={type:p.type,currentCaseLViewIndex:Hd(c,u,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(c,u,d){c.push(zl(u.mainBinding),2,-1-u.mainBinding,d<<2|2)})(d,p,g),function(c,u,d){const f=c.data[u];null===f?c.data[u]=d:f.value=d}(c,g,w);const E=p.values;for(let x=0;x<E.length;x++){const k=E[x],N=[];for(let F=0;F<k.length;F++){const G=k[F];if("string"!=typeof G){const K=N.push(G)-1;k[F]=`\x3c!--\ufffd${K}\ufffd--\x3e`}}v=vE(c,w,u,d,f,p.cases[x],k.join(""),N)|v}v&&function(c,u,d){c.push(u,1,d<<2|3)}(d,v,g)}function ZR(c){const u=[],d=[];let f=1,p=0;const g=Dp(c=c.replace(or,function(v,w,E){return f="select"===E?0:1,p=parseInt(w.substr(1),10),""}));for(let v=0;v<g.length;){let w=g[v++].trim();1===f&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&u.push(w);const E=Dp(g[v++]);u.length>d.length&&d.push(E)}return{type:f,mainBinding:p,cases:u,values:d}}function Dp(c){if(!c)return[];let u=0;const d=[],f=[],p=/[{}]/g;let g;for(p.lastIndex=0;g=p.exec(c);){const w=g.index;if("}"==g[0]){if(d.pop(),0==d.length){const E=c.substring(u,w);or.test(E)?f.push(ZR(E)):f.push(E),u=w+1}}else{if(0==d.length){const E=c.substring(u,w);f.push(E),u=w+1}d.push("{")}}const v=c.substring(u);return f.push(v),f}function vE(c,u,d,f,p,g,v,w){const E=[],x=[],k=[];u.cases.push(g),u.create.push(E),u.remove.push(x),u.update.push(k);const F=Pe(td()).getInertBodyElement(v),G=Yc(F)||F;return G?wE(c,u,d,f,E,x,k,G,p,w,0):0}function wE(c,u,d,f,p,g,v,w,E,x,k){let N=0,F=w.firstChild;for(;F;){const G=Hd(c,d,1,null);switch(F.nodeType){case Node.ELEMENT_NODE:const K=F,ge=K.tagName.toLowerCase();if(Id.hasOwnProperty(ge)){xw(p,G_,ge,E,G),c.data[G]=ge;const We=K.attributes;for(let rt=0;rt<We.length;rt++){const Xt=We.item(rt),Ni=Xt.name.toLowerCase();Xt.value.match(Cp)?zv.hasOwnProperty(Ni)&&cu(v,Xt.value,G,Xt.name,0,ja[Ni]?ii:kt[Ni]?Be:null):Aw(p,G,Xt)}N=wE(c,u,d,f,p,g,v,F,G,x,k+1)|N,Mp(g,G,k)}break;case Node.TEXT_NODE:const ae=F.textContent||"",Le=ae.match(Cp);xw(p,null,Le?"":ae,E,G),Mp(g,G,k),Le&&(N=cu(v,ae,G,null,0,null)|N);break;case Node.COMMENT_NODE:const Ee=wV.exec(F.textContent||"");if(Ee){const rt=x[parseInt(Ee[1],10)];xw(p,Y_,"",E,G),$l(c,d,f,E,rt,G),Tp(g,G,k)}}F=F.nextSibling}return N}function Mp(c,u,d){0===d&&c.push(u)}function Tp(c,u,d){0===d&&(c.push(~u),c.push(u))}function xw(c,u,d,f,p){null!==u&&c.push(u),c.push(d,p,function(c,u,d){return 0|u<<17|d<<1}(0,f,p))}function Aw(c,u,d){c.push(u<<1|1,d.name,d.value)}function TE(c,u,d=-1){const f=an(),p=ke(),g=20+c,v=So(f.consts,u),w=Fa();f.firstCreatePass&&function(c,u,d,f,p,g){const v=Fa(),w=[],E=[],x=[[]],k=function(c){return c.replace(_E," ")}(p=function(c,u){if(function(c){return-1===c}(u))return gh(c);{const d=c.indexOf(`:${u}\ufffd`)+2+u.toString().length,f=c.search(new RegExp(`\ufffd\\/\\*\\d+:${u}\ufffd`));return gh(c.substring(d,f))}}(p,g)).split(GR);for(let N=0;N<k.length;N++){let F=k[N];if(0==(1&N)){const G=Dp(F);for(let K=0;K<G.length;K++){let ge=G[K];if(0==(1&K)){const ae=ge;""!==ae&&jR(c,v,x[0],w,E,d,ae)}else{const ae=ge;if("object"!=typeof ae)throw new Error(`Unable to parse ICU expression in "${p}" message.`);$l(c,d,E,u,ae,Sw(c,v,x[0],d,w,"",!0).index)}}}else{const G=47===F.charCodeAt(0),ge=(F.charCodeAt(G?1:0),20+Number.parseInt(F.substring(G?2:1)));if(G)x.shift(),_s(Fa(),!1);else{const ae=PR(c,x[0],ge);x.unshift([]),_s(ae,!0)}}}c.data[f]={create:w,update:E}}(f,null===w?0:w.index,p,g,v,d);const E=f.data[g],k=jg(f,w===p[6]?null:w,p);(function(c,u,d,f){const p=c[11];for(let g=0;g<u.length;g++){const v=u[g++],w=u[g],E=(v&Ti.COMMENT)===Ti.COMMENT,x=(v&Ti.APPEND_EAGERLY)===Ti.APPEND_EAGERLY,k=v>>>Ti.SHIFT;let N=c[k];null===N&&(N=c[k]=E?p.createComment(w):o0(p,w)),x&&null!==d&&Fo(p,d,N,f,!1)}})(p,E.create,k,w&&8&w.type?p[w.index]:null),dg(!0)}function SE(c,u,d){TE(c,u,d),dg(!1)}function Sp(c){return function(c){c&&(ph|=1<<Math.min(mh,31)),mh++}(Cr(ke(),Is(),c)),Sp}function W_(c){!function(c,u,d){if(mh>0){const f=c.data[d];Mw(c,u,Array.isArray(f)?f:f.update,ts()-mh-1,ph)}ph=0,mh=0}(an(),ke(),c+20)}function J_(c,u,d,f,p){if(c=H(c),Array.isArray(c))for(let g=0;g<c.length;g++)J_(c[g],u,d,f,p);else{const g=an(),v=ke();let w=eu(c)?c:H(c.provide),E=ba(c);const x=Qn(),k=1048575&x.providerIndexes,N=x.directiveStart,F=x.providerIndexes>>20;if(eu(c)||!c.multi){const G=new Ba(E,p,v_),K=ho(w,u,p?k:k+F,N);-1===K?(Ua(ua(x,v),g,w),Q_(g,c,u.length),u.push(w),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),d.push(G),v.push(G)):(d[K]=G,v[K]=G)}else{const G=ho(w,u,k+F,N),K=ho(w,u,k,k+F),ge=G>=0&&d[G],ae=K>=0&&d[K];if(p&&!ae||!p&&!ge){Ua(ua(x,v),g,w);const Le=function(c,u,d,f,p){const g=new Ba(c,d,v_);return g.multi=[],g.index=u,g.componentProviders=0,AE(g,p,f&&!d),g}(p?KR:kE,d.length,p,f,E);!p&&ae&&(d[K].providerFactory=Le),Q_(g,c,u.length,0),u.push(w),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),d.push(Le),v.push(Le)}else Q_(g,c,G>-1?G:K,AE(d[p?K:G],E,!p&&f));!p&&f&&ae&&d[K].componentProviders++}}}function Q_(c,u,d,f){const p=eu(u);if(p||function(c){return!!c.useClass}(u)){const v=(u.useClass||u).prototype.ngOnDestroy;if(v){const w=c.destroyHooks||(c.destroyHooks=[]);if(!p&&u.multi){const E=w.indexOf(d);-1===E?w.push(d,[f,v]):w[E+1].push(f,v)}else w.push(d,v)}}}function AE(c,u,d){return d&&c.componentProviders++,c.multi.push(u)-1}function ho(c,u,d,f){for(let p=d;p<f;p++)if(u[p]===c)return p;return-1}function kE(c,u,d,f){return _h(this.multi,[])}function KR(c,u,d,f){const p=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ic(d,d[1],this.providerFactory.index,f);g=w.slice(0,v),_h(p,g);for(let E=v;E<w.length;E++)g.push(w[E])}else g=[],_h(p,g);return g}function _h(c,u){for(let d=0;d<c.length;d++)u.push((0,c[d])());return u}function K_(c,u=[]){return d=>{d.providersResolver=(f,p)=>function(c,u,d){const f=an();if(f.firstCreatePass){const p=Hi(c);J_(d,f.data,f.blueprint,p,!0),J_(u,f.data,f.blueprint,p,!1)}}(f,p?p(c):c,u)}}class X_{}const OE="ngComponent";class NE{resolveComponentFactory(u){throw function(c){const u=Error(`No component factory found for ${W(c)}. Did you add it to @NgModule.entryComponents?`);return u[OE]=c,u}(u)}}class uu{}function du(...c){}function Wl(c,u){return new fo(Rr(c,u))}uu.NULL=new NE;const eO=function(){return Wl(Qn(),ke())};let fo=(()=>{class c{constructor(d){this.nativeElement=d}}return c.__NG_ELEMENT_ID__=eO,c})();function FE(c){return c instanceof fo?c.nativeElement:c}class ty{}let LE=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>Rw(),c})();const Rw=function(){const c=ke(),d=br(Qn().index,c);return function(c){return c[11]}(Mo(d)?d:c)};let iy=(()=>{class c{}return c.\u0275prov=Rt({token:c,providedIn:"root",factory:()=>null}),c})();class VE{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Ow=new VE("12.2.5");class Nw{constructor(){}supports(u){return Xa(u)}create(u){return new Jl(u)}}const nO=(c,u)=>u;class Jl{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||nO}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,f=this._removalsHead,p=0,g=null;for(;d||f;){const v=!f||d&&d.currentIndex<GE(f,p,g)?d:f,w=GE(v,p,g),E=v.currentIndex;if(v===f)p--,f=f._nextRemoved;else if(d=d._next,null==v.previousIndex)p++;else{g||(g=[]);const x=w-p,k=E-p;if(x!=k){for(let F=0;F<x;F++){const G=F<g.length?g[F]:g[F]=0,K=G+F;k<=K&&K<x&&(g[F]=G+1)}g[v.previousIndex]=k-x}}w!==E&&u(v,w,E)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!Xa(u))throw new Error(`Error trying to diff '${W(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let p,g,v,d=this._itHead,f=!1;if(Array.isArray(u)){this.length=u.length;for(let w=0;w<this.length;w++)g=u[w],v=this._trackByFn(w,g),null!==d&&Object.is(d.trackById,v)?(f&&(d=this._verifyReinsertion(d,g,v,w)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,v,w),f=!0),d=d._next}else p=0,function(c,u){if(Array.isArray(c))for(let d=0;d<c.length;d++)u(c[d]);else{const d=c[Qd()]();let f;for(;!(f=d.next()).done;)u(f.value)}}(u,w=>{v=this._trackByFn(p,w),null!==d&&Object.is(d.trackById,v)?(f&&(d=this._verifyReinsertion(d,w,v,p)),Object.is(d.item,w)||this._addIdentityChange(d,w)):(d=this._mismatch(d,w,v,p),f=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,f,p){let g;return null===u?g=this._itTail:(g=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,g,p)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,g,p)):u=this._addAfter(new iO(d,f),g,p),u}_verifyReinsertion(u,d,f,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==g?u=this._reinsertAfter(g,u._prev,p):u.currentIndex!=p&&(u.currentIndex=p,this._addToMoves(u,p)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const p=u._prevRemoved,g=u._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(u,d,f),this._addToMoves(u,f),u}_moveAfter(u,d,f){return this._unlink(u),this._insertAfter(u,d,f),this._addToMoves(u,f),u}_addAfter(u,d,f){return this._insertAfter(u,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,f){const p=null===d?this._itHead:d._next;return u._next=p,u._prev=d,null===p?this._itTail=u:p._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new HE),this._linkedRecords.put(u),u.currentIndex=f,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,f=u._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class iO{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hu{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,u))return f;return null}remove(u){const d=u._prevDup,f=u._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class HE{constructor(){this.map=new Map}put(u){const d=u.trackById;let f=this.map.get(d);f||(f=new hu,this.map.set(d,f)),f.add(u)}get(u,d){const p=this.map.get(u);return p?p.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GE(c,u,d){const f=c.previousIndex;if(null===f)return f;let p=0;return d&&f<d.length&&(p=d[f]),f+u+p}class YE{constructor(){}supports(u){return u instanceof Map||V0(u)}create(){return new rO}}class rO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||V0(u)))throw new Error(`Error trying to diff '${W(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(f,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(p,f);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const f=u._prev;return d._next=u,d._prev=f,u._prev=d,f&&(f._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const p=this._records.get(u);this._maybeAddToChanges(p,d);const g=p._prev,v=p._next;return g&&(g._next=v),v&&(v._prev=g),p._next=null,p._prev=null,p}const f=new kp(u);return this._records.set(u,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(f=>d(u[f],f))}}class kp{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yh(){return new Ip([new Nw])}let Ip=(()=>{class c{constructor(d){this.factories=d}static create(d,f){if(null!=f){const p=f.factories.slice();d=d.concat(p)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||yh()),deps:[[c,new ha,new da]]}}find(d){const f=this.factories.find(p=>p.supports(d));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(c){return c.name||typeof c}(d)}'`)}}return c.\u0275prov=Rt({token:c,providedIn:"root",factory:yh}),c})();function qE(){return new ry([new YE])}let ry=(()=>{class c{constructor(d){this.factories=d}static create(d,f){if(f){const p=f.factories.slice();d=d.concat(p)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||qE()),deps:[[c,new ha,new da]]}}find(d){const f=this.factories.find(p=>p.supports(d));if(f)return f;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return c.\u0275prov=Rt({token:c,providedIn:"root",factory:qE}),c})();function bh(c,u,d,f,p=!1){for(;null!==d;){const g=u[d.index];if(null!==g&&f.push(Un(g)),Ir(g))for(let w=10;w<g.length;w++){const E=g[w],x=E[1].firstChild;null!==x&&bh(E[1],E,x,f)}const v=d.type;if(8&v)bh(c,u,d.child,f);else if(32&v){const w=Od(d,u);let E;for(;E=w();)f.push(E)}else if(16&v){const w=tp(u,d);if(Array.isArray(w))f.push(...w);else{const E=Nd(u[16]);bh(E[1],E,w,f,!0)}}d=p?d.projectionNext:d.next}return f}class Fr{constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,d=u[1];return bh(d,u,d.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Ir(u)){const d=u[8],f=d?d.indexOf(this):-1;f>-1&&(a0(u,f),Sl(d,f))}this._attachedToViewContainer=!1}_M(this._lView[1],this._lView)}onDestroy(u){s_(this._lView[1],this._lView,null,u)}markForCheck(){Ll(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){a_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(c,u,d){wl(!0);try{a_(c,u,d)}finally{wl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,pn(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class ZE extends Fr{constructor(u){super(u),this._view=u}detectChanges(){WM(this._view)}checkNoChanges(){!function(c){wl(!0);try{WM(c)}finally{wl(!1)}}(this._view)}get context(){return null}}const sy=function(c){return function(c,u,d){if(aa(c)&&!d){const f=br(c.index,u);return new Fr(f,f)}return 47&c.type?new Fr(u[16],u):null}(Qn(),ke(),16==(16&c))};let sO=(()=>{class c{}return c.__NG_ELEMENT_ID__=sy,c})();const lO=[new YE],$E=new Ip([new Nw]),WE=new ry(lO),ay=function(){return ly(Qn(),ke())};let vh=(()=>{class c{}return c.__NG_ELEMENT_ID__=ay,c})();const uO=vh,dO=class extends uO{constructor(u,d,f){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(u){const d=this._declarationTContainer.tViews,f=Ud(this._declarationLView,d,u,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(f[19]=g.createEmbeddedView(d)),Fl(d,f,u),new Fr(f)}};function ly(c,u){return 4&c.type?new dO(u,c,Wl(c,u)):null}class fu{}class cy{}const uy=function(){return QE(Qn(),ke())};let dy=(()=>{class c{}return c.__NG_ELEMENT_ID__=uy,c})();const hy=dy,JE=class extends hy{constructor(u,d,f){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=f}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const u=xt(this._hostTNode,this._hostLView);if(fd(u)){const d=Va(u,this._hostLView),f=ko(u);return new wr(d[1].data[f+8],d)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=wh(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,d,f){const p=u.createEmbeddedView(d||{});return this.insert(p,f),p}createComponent(u,d,f,p,g){const v=f||this.parentInjector;if(!g&&null==u.ngModule&&v){const E=v.get(fu,null);E&&(g=E)}const w=u.create(v,p,void 0,g);return this.insert(w.hostView,d),w}insert(u,d){const f=u._lView,p=f[1];if(Ir(f[3])){const k=this.indexOf(u);if(-1!==k)this.detach(k);else{const N=f[3],F=new JE(N,N[6],N[3]);F.detach(F.indexOf(u))}}const g=this._adjustIndex(d),v=this._lContainer;!function(c,u,d,f){const p=10+f,g=d.length;f>0&&(d[p-1][4]=u),f<g-10?(u[4]=d[p],wd(d,10+f,u)):(d.push(u),u[4]=null),u[3]=d;const v=u[17];null!==v&&d!==v&&function(c,u){const d=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===d?c[9]=[u]:d.push(u)}(v,u);const w=u[19];null!==w&&w.insertView(c),u[2]|=128}(p,f,v,g);const w=c0(g,v),E=f[11],x=Pd(E,v[7]);return null!==x&&function(c,u,d,f,p,g){f[0]=p,f[6]=u,pn(c,f,d,1,p,g)}(p,v[6],E,f,x,w),u.attachToViewContainerRef(),wd(Fw(v),g,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=wh(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),f=a0(this._lContainer,d);f&&(Sl(Fw(this._lContainer),d),_M(f[1],f))}detach(u){const d=this._adjustIndex(u,-1),f=a0(this._lContainer,d);return f&&null!=Sl(Fw(this._lContainer),d)?new Fr(f):null}_adjustIndex(u,d=0){return null==u?this.length+d:u}};function wh(c){return c[8]}function Fw(c){return c[8]||(c[8]=[])}function QE(c,u){let d;const f=u[c.index];if(Ir(f))d=f;else{let p;if(8&c.type)p=Un(f);else{const g=u[11];p=g.createComment("");const v=Rr(c,u);Fo(g,Pd(g,v),p,function(c,u){return qn(c)?c.nextSibling(u):u.nextSibling}(g,v),!1)}u[c.index]=d=jM(f,u,p,c),jd(u,d)}return new JE(d,c,u)}const Du={};class wy extends uu{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=cn(u);return new yS(d,this.ngModule)}}function Cy(c){const u=[];for(let d in c)c.hasOwnProperty(d)&&u.push({propName:c[d],templateName:d});return u}const _S=new ci("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qf});class yS extends X_{constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=u.selectors.map(Zg).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return Cy(this.componentDef.inputs)}get outputs(){return Cy(this.componentDef.outputs)}create(u,d,f,p){const g=(p=p||this.ngModule)?function(c,u){return{get:(d,f,p)=>{const g=c.get(d,Du,p);return g!==Du||f===Du?g:u.get(d,f,p)}}}(u,p.injector):u,v=g.get(ty,la),w=g.get(iy,null),E=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=f?function(c,u,d){if(qn(c))return c.selectRootElement(u,d===Ye.ShadowDom);let f="string"==typeof u?c.querySelector(u):u;return f.textContent="",f}(E,f,this.componentDef.encapsulation):Il(v.createRenderer(null,this.componentDef),x,function(c){const u=c.toLowerCase();return"svg"===u?yl:"math"===u?"http://www.w3.org/1998/MathML/":null}(x)),N=this.componentDef.onPush?576:528,F=function(c,u){return{components:[],scheduler:c||Qf,clean:qd,playerHandler:u||null,flags:0}}(),G=C0(0,null,null,1,0,null,null,null,null,null),K=Ud(null,G,F,N,null,null,v,E,w,g);let ge,ae;xo(K);try{const Le=function(c,u,d,f,p,g){const v=d[1];d[20]=c;const E=Wc(v,20,2,"#host",null),x=E.mergedAttrs=u.hostAttrs;null!==x&&(oo(E,x,!0),null!==c&&(Of(p,c,x),null!==E.classes&&u0(p,c,E.classes),null!==E.styles&&TM(p,c,E.styles)));const k=f.createRenderer(c,u),N=Ud(d,w0(u),null,u.onPush?64:16,d[20],E,f,k,g||null,null);return v.firstCreatePass&&(Ua(ua(E,d),v,u.type),Yd(v,E),PI(E,d.length,1)),jd(d,N),d[20]=N}(k,this.componentDef,K,v,E);if(k)if(f)Of(E,k,["ng-version",Ow.full]);else{const{attrs:Ee,classes:We}=function(c){const u=[],d=[];let f=1,p=2;for(;f<c.length;){let g=c[f];if("string"==typeof g)2===p?""!==g&&u.push(g,c[++f]):8===p&&d.push(g);else{if(!Pr(p))break;p=g}f++}return{attrs:u,classes:d}}(this.componentDef.selectors[0]);Ee&&Of(E,k,Ee),We&&We.length>0&&u0(E,k,We.join(" "))}if(ae=Cc(G,20),void 0!==d){const Ee=ae.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const rt=d[We];Ee.push(null!=rt?Array.from(rt):null)}}ge=function(c,u,d,f,p){const g=d[1],v=function(c,u,d){const f=Qn();c.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),o_(c,f,u,Hd(c,u,1,null),d));const p=Ic(u,c,f.directiveStart,f);Kn(p,u);const g=Rr(f,u);return g&&Kn(g,u),p}(g,d,u);if(f.components.push(v),c[8]=v,p&&p.forEach(E=>E(v,u)),u.contentQueries){const E=Qn();u.contentQueries(1,v,E.directiveStart)}const w=Qn();return!g.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Dl(w.index),OI(d[1],w,0,w.directiveStart,w.directiveEnd,u),so(u,v)),v}(Le,this.componentDef,K,F,[lT]),Fl(G,K,null)}finally{xc()}return new Ww(this.componentType,ge,Wl(ae,K),K,ae)}}class Ww extends class{}{constructor(u,d,f,p,g){super(),this.location=f,this._rootLView=p,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new ZE(p),this.componentType=u}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const Hp=new Map;class Mu extends fu{constructor(u,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wy(this);const f=Pt(u),p=u[Ge]||null;p&&Dw(p),this._bootstrapComponents=Po(f.bootstrap),this._r3Injector=zd(u,d,[{provide:fu,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],W(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,d=Bn.THROW_IF_NOT_FOUND,f=ct.Default){return u===Bn||u===fu||u===Bl?this:this._r3Injector.get(u,d,f)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Yp extends cy{constructor(u){super(),this.moduleType=u,null!==Pt(u)&&function(c){const u=new Set;!function d(f){const p=Pt(f,!0),g=p.id;null!==g&&(function(c,u,d){if(u&&u!==d)throw new Error(`Duplicate module registered for ${c} - ${W(u)} vs ${W(u.name)}`)}(g,Hp.get(g),f),Hp.set(g,f));const v=Po(p.imports);for(const w of v)u.has(w)||(u.add(w),d(w))}(c)}(u)}create(u){return new Mu(this.moduleType,u)}}function vS(c,u,d,f){return xy(ke(),Gi(),c,u,d,f)}function Tu(c,u,d,f,p){return Qw(ke(),Gi(),c,u,d,f,p)}function Jw(c,u,d,f,p,g){return function(c,u,d,f,p,g,v,w){const E=u+d;return function(c,u,d,f,p){const g=Hl(c,u,d,f);return Cr(c,u+2,p)||g}(c,E,p,g,v)?lo(c,E+3,w?f.call(w,p,g,v):f(p,g,v)):qp(c,E+3)}(ke(),Gi(),c,u,d,f,p,g)}function qp(c,u){const d=c[u];return d===Ft?void 0:d}function xy(c,u,d,f,p,g){const v=u+d;return Cr(c,v,p)?lo(c,v+1,g?f.call(g,p):f(p)):qp(c,v+1)}function Qw(c,u,d,f,p,g,v){const w=u+d;return Hl(c,w,p,g)?lo(c,w+2,v?f.call(v,p,g):f(p,g)):qp(c,w+2)}function Ay(c,u){const d=an();let f;const p=c+20;d.firstCreatePass?(f=function(c,u){if(u)for(let d=u.length-1;d>=0;d--){const f=u[d];if(c===f.name)return f}throw new Ce("302",`The pipe '${c}' could not be found!`)}(u,d.pipeRegistry),d.data[p]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,f.onDestroy)):f=d.data[p];const g=f.factory||(f.factory=Oa(f.type)),v=ki(v_);try{const w=pd(!1),E=g();return pd(w),function(c,u,d,f){d>=c.data.length&&(c.data[d]=null,c.blueprint[d]=null),u[d]=f}(d,ke(),p,E),E}finally{ki(v)}}function Kw(c,u,d){const f=c+20,p=ke(),g=Pa(p,f);return Wp(p,$p(p,f)?xy(p,Gi(),u,g.transform,d,g):g.transform(d))}function Xw(c,u,d,f){const p=c+20,g=ke(),v=Pa(g,p);return Wp(g,$p(g,p)?Qw(g,Gi(),u,v.transform,d,f,v):v.transform(d,f))}function $p(c,u){return c[1].data[u].pure}function Wp(c,u){return ao.isWrapped(u)&&(u=ao.unwrap(u),c[ts()]=Ft),u}function Sh(c){return u=>{setTimeout(c,void 0,u)}}const Hs=class extends o.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,f){var p,g,v;let w=u,E=d||(()=>null),x=f;if(u&&"object"==typeof u){const N=u;w=null===(p=N.next)||void 0===p?void 0:p.bind(N),E=null===(g=N.error)||void 0===g?void 0:g.bind(N),x=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(E=Sh(E),w&&(w=Sh(w)),x&&(x=Sh(x)));const k=super.subscribe({next:w,error:E,complete:x});return u instanceof q.w&&u.add(k),k}};function MS(){return this._results[Qd()]()}class xh{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Qd(),f=xh.prototype;f[d]||(f[d]=MS)}get changes(){return this._changes||(this._changes=new Hs)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const f=this;f.dirty=!1;const p=Os(u);(this._changesDetected=!function(c,u,d){if(c.length!==u.length)return!1;for(let f=0;f<c.length;f++){let p=c[f],g=u[f];if(d&&(p=d(p),g=d(g)),g!==p)return!1}return!0}(f._results,p,d))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nC{constructor(u){this.queryList=u,this.matches=null}clone(){return new nC(this.queryList)}setDirty(){this.queryList.setDirty()}}class iC{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const f=null!==u.contentQueries?u.contentQueries[0]:d.length,p=[];for(let g=0;g<f;g++){const v=d.getByIndex(g);p.push(this.queries[v.indexInDeclarationView].clone())}return new iC(p)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==Py(u,d).matches&&this.queries[d].setDirty()}}class TS{constructor(u,d,f=null){this.predicate=u,this.flags=d,this.read=f}}class rC{constructor(u=[]){this.queries=u}elementStart(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let f=0;f<this.length;f++){const p=null!==d?d.length:0,g=this.getByIndex(f).embeddedTView(u,p);g&&(g.indexInDeclarationView=f,null!==d?d.push(g):d=[g])}return null!==d?new rC(d):null}template(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class sC{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new sC(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=u.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const g=f[p];this.matchTNodeWithReadOption(u,d,Iy(d,g)),this.matchTNodeWithReadOption(u,d,yd(d,u,g,!1,!1))}else f===vh?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,yd(d,u,f,!1,!1))}matchTNodeWithReadOption(u,d,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===fo||p===dy||p===vh&&4&d.type)this.addMatch(d.index,-2);else{const g=yd(d,u,p,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,f)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function Iy(c,u){const d=c.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===u)return d[f+1];return null}function Su(c,u,d,f){return-1===d?function(c,u){return 11&c.type?Wl(c,u):4&c.type?ly(c,u):null}(u,c):-2===d?function(c,u,d){return d===fo?Wl(u,c):d===vh?ly(u,c):d===dy?QE(u,c):void 0}(c,u,f):Ic(c,c[1],d,u)}function Ry(c,u,d,f){const p=u[19].queries[f];if(null===p.matches){const g=c.data,v=d.matches,w=[];for(let E=0;E<v.length;E+=2){const x=v[E];w.push(x<0?null:Su(u,g[x],v[E+1],d.metadata.read))}p.matches=w}return p.matches}function Ah(c,u,d,f){const p=c.queries.getByIndex(d),g=p.matches;if(null!==g){const v=Ry(c,u,p,d);for(let w=0;w<g.length;w+=2){const E=g[w];if(E>0)f.push(v[w/2]);else{const x=g[w+1],k=u[-E];for(let N=10;N<k.length;N++){const F=k[N];F[17]===F[3]&&Ah(F[1],F,x,f)}if(null!==k[9]){const N=k[9];for(let F=0;F<N.length;F++){const G=N[F];Ah(G[1],G,x,f)}}}}}return f}function ES(c){const u=ke(),d=an(),f=hg();Cl(f+1);const p=Py(d,f);if(c.dirty&&hv(u)===(2==(2&p.metadata.flags))){if(null===p.matches)c.reset([]);else{const g=p.crossesNgTemplate?Ah(d,u,f,[]):Ry(d,u,p,f);c.reset(g,FE),c.notifyOnChanges()}return!0}return!1}function SS(c,u,d){const f=an();f.firstCreatePass&&(kS(f,new TS(c,u,d),-1),2==(2&u)&&(f.staticViewQueries=!0)),Oy(f,ke(),u)}function xS(c,u,d,f){const p=an();if(p.firstCreatePass){const g=Qn();kS(p,new TS(u,d,f),g.index),function(c,u){const d=c.contentQueries||(c.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(c.queries.length-1,u)}(p,c),2==(2&d)&&(p.staticContentQueries=!0)}Oy(p,ke(),d)}function AS(){return c=ke(),u=hg(),c[19].queries[u].queryList;var c,u}function Oy(c,u,d){const f=new xh(4==(4&d));s_(c,u,f,f.destroy),null===u[19]&&(u[19]=new iC),u[19].queries.push(new nC(f))}function kS(c,u,d){null===c.queries&&(c.queries=new rC),c.queries.track(new sC(u,d))}function Py(c,u){return c.queries.getByIndex(u)}function Jp(c,u){return ly(c,u)}const oN=wg("Input",c=>({bindingPropertyName:c})),cN=wg("HostBinding",c=>({hostPropertyName:c})),YS=wg("HostListener",(c,u)=>({eventName:c,args:u})),DC=new ci("Application Initializer");let Ih=(()=>{class c{constructor(d){this.appInits=d,this.resolve=du,this.reject=du,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(tw(g))d.push(g);else if(nw(g)){const v=new Promise((w,E)=>{g.subscribe({complete:w,error:E})});d.push(v)}}Promise.all(d).then(()=>{f()}).catch(p=>{this.reject(p)}),0===d.length&&f(),this.initialized=!0}}return c.\u0275fac=function(d){return new(d||c)(ui(DC,8))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();const MC=new ci("AppId"),zS={provide:MC,useFactory:function(){return`${TC()}${TC()}${TC()}`},deps:[]};function TC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $S=new ci("Platform Initializer"),EC=new ci("Platform ID"),WS=new ci("appBootstrapListener");let JS=(()=>{class c{log(d){console.log(d)}warn(d){console.warn(d)}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();const nm=new ci("LocaleId"),im=new ci("DefaultCurrencyCode");class wN{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}const SC=function(c){return new Yp(c)},In=SC,QS=function(c){return Promise.resolve(SC(c))},MN=function(c){const u=SC(c),f=Po(Pt(c).declarations).reduce((p,g)=>{const v=cn(g);return v&&p.push(new yS(v)),p},[]);return new wN(u,f)},TN=MN,EN=function(c){return Promise.resolve(MN(c))};let rm=(()=>{class c{constructor(){this.compileModuleSync=In,this.compileModuleAsync=QS,this.compileModuleAndAllComponentsSync=TN,this.compileModuleAndAllComponentsAsync=EN}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();const AC=(()=>Promise.resolve(0))();function Gy(c){"undefined"==typeof Zone?AC.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class js{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hs(!1),this.onMicrotaskEmpty=new Hs(!1),this.onStable=new Hs(!1),this.onError=new Hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&d,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let c=wn.requestAnimationFrame,u=wn.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&u){const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(c){const u=()=>{!function(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(wn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Go(c),c.isCheckStableRunning=!0,ar(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Go(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,p,g,v,w)=>{try{return Rh(c),d.invokeTask(p,g,v,w)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||c.shouldCoalesceRunChangeDetection)&&u(),kC(c)}},onInvoke:(d,f,p,g,v,w,E)=>{try{return Rh(c),d.invoke(p,g,v,w,E)}finally{c.shouldCoalesceRunChangeDetection&&u(),kC(c)}},onHasTask:(d,f,p,g)=>{d.hasTask(p,g),f===p&&("microTask"==g.change?(c._hasPendingMicrotasks=g.microTask,Go(c),ar(c)):"macroTask"==g.change&&(c.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,f,p,g)=>(d.handleError(p,g),c.runOutsideAngular(()=>c.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!js.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(js.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,d,f){return this._inner.run(u,d,f)}runTask(u,d,f,p){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+p,u,Ke,du,du);try{return g.runTask(v,d,f)}finally{g.cancelTask(v)}}runGuarded(u,d,f){return this._inner.runGuarded(u,d,f)}runOutsideAngular(u){return this._outer.run(u)}}const Ke={};function ar(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Go(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function Rh(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function kC(c){c._nesting--,ar(c)}class xN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hs,this.onMicrotaskEmpty=new Hs,this.onStable=new Hs,this.onError=new Hs}run(u,d,f){return u.apply(d,f)}runGuarded(u,d,f){return u.apply(d,f)}runOutsideAngular(u){return u()}runTask(u,d,f,p){return u.apply(d,f)}}let KS=(()=>{class c{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{js.assertNotInAngularZone(),Gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gy(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,p){let g=-1;f&&f>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:p})}whenStable(d,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,p){return[]}}return c.\u0275fac=function(d){return new(d||c)(ui(js))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})(),pi=(()=>{class c{constructor(){this._applications=new Map,IC.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return IC.findTestabilityInTree(this,d,f)}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();class Ta{addToWindow(u){}findTestabilityInTree(u,d,f){return null}}function xu(c){IC=c}let IC=new Ta,AN=!0,XS=!1;function RC(){return XS=!0,AN}function kN(){if(XS)throw new Error("Cannot enable prod mode after platform setup.");AN=!1}let Ds;const Oh=new ci("AllowMultipleToken");class Yy{constructor(u,d){this.name=u,this.token=d}}function NC(c,u,d=[]){const f=`Platform: ${u}`,p=new ci(f);return(g=[])=>{let v=PC();if(!v||v.injector.get(Oh,!1))if(c)c(d.concat(g).concat({provide:p,useValue:!0}));else{const w=d.concat(g).concat({provide:p,useValue:!0},{provide:Xc,useValue:"platform"});!function(c){if(Ds&&!Ds.destroyed&&!Ds.injector.get(Oh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ds=c.get(FC);const u=c.get($S,null);u&&u.forEach(d=>d())}(Bn.create({providers:w,name:f}))}return function(c){const u=PC();if(!u)throw new Error("No platform exists!");if(!u.injector.get(c,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(p)}}function PC(){return Ds&&!Ds.destroyed?Ds:null}let FC=(()=>{class c{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const w=function(c,u){let d;return d="noop"===c?new xN:("zone.js"===c?void 0:c)||new js({enableLongStackTrace:RC(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),E=[{provide:js,useValue:w}];return w.run(()=>{const x=Bn.create({providers:E,parent:this.injector,name:d.moduleType.name}),k=d.create(x),N=k.injector.get(Rd,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const F=w.onError.subscribe({next:G=>{N.handleError(G)}});k.onDestroy(()=>{lr(this._modules,k),F.unsubscribe()})}),function(c,u,d){try{const f=d();return tw(f)?f.catch(p=>{throw u.runOutsideAngular(()=>c.handleError(p)),p}):f}catch(f){throw u.runOutsideAngular(()=>c.handleError(f)),f}}(N,w,()=>{const F=k.injector.get(Ih);return F.runInitializers(),F.donePromise.then(()=>(Dw(k.injector.get(nm,H_)||H_),this._moduleDoBootstrap(k),k))})})}bootstrapModule(d,f=[]){const p=nx({},f);return function(c,u,d){const f=new Yp(d);return Promise.resolve(f)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(d){const f=d.injector.get(tc);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${W(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(d){return new(d||c)(ui(Bn))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();function nx(c,u){return Array.isArray(u)?u.reduce(nx,c):Object.assign(Object.assign({},c),u)}let tc=(()=>{class c{constructor(d,f,p,g,v){this._zone=d,this._injector=f,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new U.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),E=new U.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{js.assertNotInAngularZone(),Gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{js.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),N.unsubscribe()}});this.isStable=(0,se.T)(w,E.pipe((0,de.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof X_?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const g=function(c){return c.isBoundToModule}(p)?void 0:this._injector.get(fu),w=p.create(Bn.NULL,[],f||p.selector,g),E=w.location.nativeElement,x=w.injector.get(KS,null),k=x&&w.injector.get(pi);return x&&k&&k.registerApplication(E,x),w.onDestroy(()=>{this.detachView(w.hostView),lr(this.components,w),k&&k.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;lr(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(WS,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(d){return new(d||c)(ui(js),ui(Bn),ui(Rd),ui(uu),ui(Ih))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();function lr(c,u){const d=c.indexOf(u);d>-1&&c.splice(d,1)}class BC{}class LN{}const rx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let BN=(()=>{class c{constructor(d,f){this._compiler=d,this._config=f||rx}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[f,p]=d.split("#");return void 0===p&&(p="default"),L(8255)(f).then(g=>g[p]).then(g=>jy(g,f,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(d){let[f,p]=d.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),L(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(v=>v[p+g]).then(v=>jy(v,f,p))}}return c.\u0275fac=function(d){return new(d||c)(ui(rm),ui(LN,8))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();function jy(c,u,d){if(!c)throw new Error(`Cannot find '${d}' in '${u}'`);return c}const am=function(c){return null},ZN=NC(null,"core",[{provide:EC,useValue:"unknown"},{provide:FC,deps:[Bn]},{provide:pi,deps:[]},{provide:JS,deps:[]}]),QN=[{provide:tc,useClass:tc,deps:[js,Bn,Rd,uu,Ih]},{provide:_S,deps:[js],useFactory:function(c){let u=[];return c.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(d){u.push(d)}}},{provide:Ih,useClass:Ih,deps:[[new da,DC]]},{provide:rm,useClass:rm,deps:[]},zS,{provide:Ip,useFactory:function(){return $E},deps:[]},{provide:ry,useFactory:function(){return WE},deps:[]},{provide:nm,useFactory:function(c){return Dw(c=c||"undefined"!=typeof $localize&&$localize.locale||H_),c},deps:[[new Ya(nm),new da,new ha]]},{provide:im,useValue:"USD"}];let XN=(()=>{class c{constructor(d){}}return c.\u0275fac=function(d){return new(d||c)(ui(tc))},c.\u0275mod=Se({type:c}),c.\u0275inj=jn({providers:QN}),c})()},8939:(Xe,Te,L)=>{"use strict";L.d(Te,{hO:()=>X,xv:()=>z,Dh:()=>W,GT:()=>te,on:()=>V,pX:()=>de});var o=L(7716),q=L(7841),U=L(9126);Xe=L.hmd(Xe);const se=["ngOnDestroy"],de=(ie,Ce,me,Oe={})=>new Proxy(ie,{get:(ve,Ie)=>me.runOutsideAngular(()=>{var st;if(ie[Ie])return(null===(st=null==Oe?void 0:Oe.spy)||void 0===st?void 0:st.get)&&Oe.spy.get(Ie,ie[Ie]),ie[Ie];if(se.indexOf(Ie)>-1)return()=>{};const mt=Ce.toPromise().then(Ut=>{const Ht=Ut&&Ut[Ie];return"function"==typeof Ht?Ht.bind(Ut):Ht&&Ht.then?Ht.then(Zt=>me.run(()=>Zt)):me.run(()=>Ht)});return new Proxy(()=>{},{get:(Ut,Ht)=>mt[Ht],apply:(Ut,Ht,Zt)=>mt.then(Ae=>{var St;const he=Ae&&Ae(...Zt);return(null===(St=null==Oe?void 0:Oe.spy)||void 0===St?void 0:St.apply)&&Oe.spy.apply(Ie,Zt,he),he})})})}),te=(ie,Ce)=>{Ce.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Oe=>{Object.defineProperty(ie.prototype,Oe,Object.getOwnPropertyDescriptor(me.prototype||me,Oe))})})};class Z{constructor(Ce){return Ce}}const W=new o.OlP("angularfire2.app.options"),z=new o.OlP("angularfire2.app.name");function V(ie,Ce,me){const ve="object"==typeof me&&me||{};ve.name=ve.name||"string"==typeof me&&me||"[DEFAULT]";const st=q.Z.apps.filter(mt=>mt&&mt.name===ve.name)[0]||Ce.runOutsideAngular(()=>q.Z.initializeApp(ie,ve));try{JSON.stringify(ie)!==JSON.stringify(st.options)&&Q("error",`${st.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return new Z(st)}const Q=(ie,...Ce)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ie](...Ce)},H={provide:Z,useFactory:V,deps:[W,o.R0b,[new o.FiY,z]]};let X=(()=>{class ie{constructor(me){q.Z.registerVersion("angularfire",U.q4.full,"core"),q.Z.registerVersion("angularfire",U.q4.full,"app-compat"),q.Z.registerVersion("angular",o.q4F.full,me.toString())}static initializeApp(me,Oe){return{ngModule:ie,providers:[{provide:W,useValue:me},{provide:z,useValue:Oe}]}}}return ie.\u0275fac=function(me){return new(me||ie)(o.LFG(o.Lbi))},ie.\u0275mod=o.oAB({type:ie}),ie.\u0275inj=o.cJS({providers:[H]}),ie})()},9126:(Xe,Te,L)=>{"use strict";L.d(Te,{q4:()=>V,iC:()=>he,fc:()=>Ae,HU:()=>mt,cc:()=>X});var o=L(7716);(0,L(5452).registerVersion)("firebase","9.0.2","app");var de=L(7771),te=L(3637),Z=L(8307),W=L(9746),z=L(9673);Xe=L.hmd(Xe);const V=new o.GfV("7.0.4"),Q=!!Xe.hot,H=(we,...re)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[we](...re)};function X(we,re,Ue,at,Gt){const[,dt,lt]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===we)||[];if(dt)return function(we,re){try{return we.toString()===re.toString()}catch(Ue){return we===re}}(Gt,lt)||(H("error",`${re} was already initialized on the ${Ue} Firebase App with different settings.${Q?" You may need to reload as Firebase is not HMR aware.":""}`),H("warn",{is:Gt,was:lt})),dt;{const yt=at();return globalThis.\u0275AngularfireInstanceCache.push([we,yt,Gt]),yt}}function ve(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ie{constructor(re,Ue=de.N){this.zone=re,this.delegate=Ue}now(){return this.delegate.now()}schedule(re,Ue,at){const Gt=this.zone;return this.delegate.schedule(function(lt){Gt.runGuarded(()=>{re.apply(this,[lt])})},Ue,at)}}class st{constructor(re){this.zone=re,this.task=null}call(re,Ue){const at=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),Ue.pipe((0,Z.b)({next:at,complete:at,error:at})).subscribe(re).add(at)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mt=(()=>{class we{constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Ue.run(()=>new Ie(Zone.current,te.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return we.\u0275fac=function(Ue){return new(Ue||we)(o.LFG(o.R0b))},we.\u0275prov=o.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Ut(){const we=globalThis.\u0275AngularFireScheduler;if(!we)throw new Error("AngularFireModule has not been provided");return we}function Ae(we){return we.pipe((0,W.QV)(Ut().outsideAngular))}function he(we){return Ut(),function(we){return function(Ue){return(Ue=Ue.lift(new st(we.ngZone))).pipe((0,z.R)(we.outsideAngular),(0,W.QV)(we.insideAngular))}}(Ut())(we)}},4486:(Xe,Te,L)=>{"use strict";L.d(Te,{Z:()=>me});var o=L(4685),q=L(6034),U=L(5452),se=L(300);class de{constructor(ve,Ie){this._delegate=ve,this.firebase=Ie,(0,U._addComponent)(ve,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ve,Ie=U._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(ve);return!mt.isInitialized()&&"EXPLICIT"===(null===(st=mt.getComponent())||void 0===st?void 0:st.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ie})}_removeServiceInstance(ve,Ie=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Ie)}_addComponent(ve){(0,U._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,U._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function z(){const Oe=function(Oe){const ve={},Ie={__esModule:!0,initializeApp:function(St,he={}){const _e=U.initializeApp(St,he);if((0,o.r3)(ve,_e.name))return ve[_e.name];const ye=new Oe(_e,Ie);return ve[_e.name]=ye,ye},app:mt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(St){const he=St.name,_e=he.replace("-compat","");if(U._registerComponent(St)&&"PUBLIC"===St.type){const ye=(be=mt())=>{if("function"!=typeof be[_e])throw Z.create("invalid-app-argument",{appName:he});return be[_e]()};void 0!==St.serviceProps&&(0,o.ZB)(ye,St.serviceProps),Ie[_e]=ye,Oe.prototype[_e]=function(...be){return this._getService.bind(this,he).apply(this,St.multipleInstances?be:[])}}return"PUBLIC"===St.type?Ie[_e]:null},removeApp:function(St){delete ve[St]},useAsService:function(St,he){return"serverAuth"===he?null:he},modularAPIs:U}};function mt(St){if(!(0,o.r3)(ve,St=St||U._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:St});return ve[St]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function(){return Object.keys(ve).map(St=>ve[St])}}),mt.App=Oe,Ie}(de);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(Ie){(0,o.ZB)(Oe,Ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Oe}(),Q=new se.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=V;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const me=Ce},5452:(Xe,Te,L)=>{"use strict";L.r(Te),L.d(Te,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Co,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>Yn,_addOrOverwriteComponent:()=>As,_apps:()=>lt,_clearComponents:()=>jn,_components:()=>yt,_getProvider:()=>Rt,_registerComponent:()=>kr,_removeServiceInstance:()=>Pn,deleteApp:()=>ea,getApp:()=>gs,getApps:()=>_r,initializeApp:()=>Ks,onLog:()=>hn,registerVersion:()=>ct,setLogLevel:()=>$r});var o=L(8239),q=L(6034),U=L(300),se=L(4685);class de{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(tn=>{if(function(Tt){const gt=Tt.getComponent();return"VERSION"===(null==gt?void 0:gt.type)}(tn)){const Jt=tn.getImmediate();return`${Jt.library}/${Jt.version}`}return null}).filter(tn=>tn).join(" ")}}const Z="@firebase/app",z=new U.Yd("@firebase/app"),Gt="[DEFAULT]",dt={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,yt=new Map;function Yn(Tt,gt){try{Tt.container.addComponent(gt)}catch(tn){z.debug(`Component ${gt.name} failed to register with FirebaseApp ${Tt.name}`,tn)}}function As(Tt,gt){Tt.container.addOrOverwriteComponent(gt)}function kr(Tt){const gt=Tt.name;if(yt.has(gt))return z.debug(`There were multiple attempts to register component ${gt}.`),!1;yt.set(gt,Tt);for(const tn of lt.values())Yn(tn,Tt);return!0}function Rt(Tt,gt){return Tt.container.getProvider(gt)}function Pn(Tt,gt,tn=Gt){Rt(Tt,gt).clearInstance(tn)}function jn(){yt.clear()}const ms=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gr{constructor(gt,tn,Jt){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},tn),this._name=tn.name,this._automaticDataCollectionEnabled=tn.automaticDataCollectionEnabled,this._container=Jt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const Co="9.0.0";function Ks(Tt,gt={}){"object"!=typeof gt&&(gt={name:gt});const tn=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},gt),Jt=tn.name;if("string"!=typeof Jt||!Jt)throw ms.create("bad-app-name",{appName:String(Jt)});const Li=lt.get(Jt);if(Li){if((0,se.vZ)(Tt,Li.options)&&(0,se.vZ)(tn,Li.config))return Li;throw ms.create("duplicate-app",{appName:Jt})}const _n=new q.H0(Jt);for(const ot of yt.values())_n.addComponent(ot);const Ye=new gr(Tt,tn,_n);return lt.set(Jt,Ye),Ye}function gs(Tt=Gt){const gt=lt.get(Tt);if(!gt)throw ms.create("no-app",{appName:Tt});return gt}function _r(){return Array.from(lt.values())}function ea(Tt){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.Z)(function*(Tt){const gt=Tt.name;lt.has(gt)&&(lt.delete(gt),yield Promise.all(Tt.container.getProviders().map(tn=>tn.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function ct(Tt,gt,tn){var Jt;let Li=null!==(Jt=dt[Tt])&&void 0!==Jt?Jt:Tt;tn&&(Li+=`-${tn}`);const _n=Li.match(/\s|\//),Ye=gt.match(/\s|\//);if(_n||Ye){const ot=[`Unable to register library "${Li}" with version "${gt}":`];return _n&&ot.push(`library name "${Li}" contains illegal characters (whitespace or "/")`),_n&&Ye&&ot.push("and"),Ye&&ot.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void z.warn(ot.join(" "))}kr(new q.wA(`${Li}-version`,()=>({library:Li,version:gt}),"VERSION"))}function hn(Tt,gt){if(null!==Tt&&"function"!=typeof Tt)throw ms.create("invalid-log-argument");(0,U.Am)(Tt,gt)}function $r(Tt){(0,U.Ub)(Tt)}kr(new q.wA("platform-logger",gt=>new de(gt),"PRIVATE")),ct(Z,"0.7.0",undefined),ct("fire-js","")},5893:(Xe,Te,L)=>{"use strict";L.d(Te,{$:()=>fv,A:()=>Q,E:()=>Vi,G:()=>Et,I:()=>to,K:()=>nn,L:()=>mf,M:()=>og,N:()=>ag,P:()=>qi,Q:()=>Oa,R:()=>HD,T:()=>ed,V:()=>uv,W:()=>OD,X:()=>Na,Y:()=>nd,Z:()=>Pa,_:()=>rd,a:()=>Tv,a0:()=>pv,a1:()=>mv,a2:()=>bl,a3:()=>an,a4:()=>Qn,a5:()=>Fa,a6:()=>_s,a7:()=>sd,a8:()=>ND,a9:()=>Gi,aA:()=>Fv,aB:()=>qD,aC:()=>xn,aG:()=>Or,aJ:()=>Kt,aa:()=>gv,ab:()=>Rs,ae:()=>_v,af:()=>Sf,ag:()=>hg,aj:()=>dv,ak:()=>vv,am:()=>cd,an:()=>ca,ao:()=>ti,ap:()=>he,aq:()=>Rn,ar:()=>Qt,as:()=>st,at:()=>Ng,au:()=>Lc,av:()=>mt,aw:()=>Ae,ax:()=>ye,ay:()=>Wn,az:()=>ui,b:()=>Mv,c:()=>Ha,d:()=>Fk,e:()=>jD,f:()=>Dd,g:()=>Pc,h:()=>Bk,i:()=>Yi,j:()=>zD,k:()=>Hn,l:()=>Nk,m:()=>rs,o:()=>W,r:()=>GD,s:()=>Ok,u:()=>bd,z:()=>ie});var o=L(8239),q=L(4685),U=L(5452),se=L(4762),de=L(300),te=L(6034);const W={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ie=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new de.Yd("@firebase/auth");function Ie(T,...b){ve.logLevel<=de.in.ERROR&&ve.error(`Auth (${U.SDK_VERSION}): ${T}`,...b)}function st(T,...b){throw Zt(T,...b)}function mt(T,...b){return Zt(T,...b)}function Ut(T,b,C){const S=Object.assign(Object.assign({},Ce()),{[b]:C});return new q.LL("auth","Firebase",S).create(b,{appName:T.name})}function Ht(T,b,C){if(!(b instanceof C))throw C.name!==b.constructor.name&&st(T,"argument-error"),Ut(T,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zt(T,...b){if("string"!=typeof T){const C=b[0],S=[...b.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(C,...S)}return me.create(T,...b)}function Ae(T,b,...C){if(!T)throw Zt(b,...C)}function St(T){const b="INTERNAL ASSERTION FAILED: "+T;throw Ie(b),new Error(b)}function he(T,b){T||St(b)}const _e=new Map;function ye(T){he(T instanceof Function,"Expected a class definition");let b=_e.get(T);return b?(he(b instanceof T,"Instance stored in cache mismatched with class"),b):(b=new T,_e.set(T,b),b)}function re(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Ue(){return"http:"===at()||"https:"===at()}function at(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class lt{constructor(b,C){this.shortDelay=b,this.longDelay=C,he(C>b,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yt(T,b){he(T.emulator,"Emulator should always be set here");const{url:C}=T.emulator;return b?`${C}${b.startsWith("/")?b.slice(1):b}`:C}class Yn{static initialize(b,C,S){this.fetchImpl=b,C&&(this.headersImpl=C),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const As={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},kr=new lt(3e4,6e4);function Rt(T,b){return T.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:T.tenantId}):b}function Pn(T,b,C,S){return jn.apply(this,arguments)}function jn(){return(jn=(0,o.Z)(function*(T,b,C,S,R={}){return Fi(T,R,()=>{let P={},ue={};S&&("GET"===b?ue=S:P={body:JSON.stringify(S)});const Pe=(0,q.xO)(Object.assign({key:T.config.apiKey},ue)).slice(1),nt=new(Yn.headers());return nt.set("Content-Type","application/json"),nt.set("X-Client-Version",T._getSdkClientVersion()),T.languageCode&&nt.set("X-Firebase-Locale",T.languageCode),Yn.fetch()(Ks(T,T.config.apiHost,C,Pe),Object.assign({method:b,headers:nt,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function Fi(T,b,C){return ms.apply(this,arguments)}function ms(){return(ms=(0,o.Z)(function*(T,b,C){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},As),b);try{const R=new gs(T),P=yield Promise.race([C(),R.promise]);R.clearNetworkTimeout();const ue=yield P.json();if("needConfirmation"in ue)throw _r(T,"account-exists-with-different-credential",ue);if(P.ok&&!("errorMessage"in ue))return ue;{const Pe=P.ok?ue.errorMessage:ue.error.message,[nt,Dt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw _r(T,"credential-already-in-use",ue);if("EMAIL_EXISTS"===nt)throw _r(T,"email-already-in-use",ue);const rn=S[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Ut(T,rn,Dt);st(T,rn)}}catch(R){if(R instanceof q.ZR)throw R;st(T,"network-request-failed")}})).apply(this,arguments)}function gr(T,b,C,S){return Co.apply(this,arguments)}function Co(){return(Co=(0,o.Z)(function*(T,b,C,S,R={}){const P=yield Pn(T,b,C,S,R);return"mfaPendingCredential"in P&&st(T,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Ks(T,b,C,S){const R=`${b}${C}?${S}`;return T.config.emulator?yt(T.config,R):`${T.config.apiScheme}://${R}`}class gs{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((C,S)=>{this.timer=setTimeout(()=>S(mt(this.auth,"timeout")),kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _r(T,b,C){const S={appName:T.name};C.email&&(S.email=C.email),C.phoneNumber&&(S.phoneNumber=C.phoneNumber);const R=mt(T,b,S);return R.customData._tokenResponse=C,R}function ks(){return(ks=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function ct(T,b){return hn.apply(this,arguments)}function hn(){return(hn=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function $r(T,b){return ki.apply(this,arguments)}function ki(){return(ki=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Tt(T){if(T)try{const b=new Date(Number(T));if(!isNaN(b.getTime()))return b.toUTCString()}catch(b){}}function Jt(){return(Jt=(0,o.Z)(function*(T,b=!1){const C=(0,q.m9)(T),S=yield C.getIdToken(b),R=_n(S);Ae(R&&R.exp&&R.auth_time&&R.iat,C.auth,"internal-error");const P="object"==typeof R.firebase?R.firebase:void 0,ue=null==P?void 0:P.sign_in_provider;return{claims:R,token:S,authTime:Tt(Li(R.auth_time)),issuedAtTime:Tt(Li(R.iat)),expirationTime:Tt(Li(R.exp)),signInProvider:ue||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Li(T){return 1e3*Number(T)}function _n(T){const[b,C,S]=T.split(".");if(void 0===b||void 0===C||void 0===S)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,q.tV)(C);return R?JSON.parse(R):(Ie("Failed to decode base64 JWT payload"),null)}catch(R){return Ie("Caught error parsing JWT payload as JSON",R),null}}function ot(T,b){return ta.apply(this,arguments)}function ta(){return(ta=(0,o.Z)(function*(T,b,C=!1){if(C)return b;try{return yield b}catch(S){throw S instanceof q.ZR&&na(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}function na({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class Wr{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var C;if(b){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const R=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(b=!1){var C=this;if(!this.isRunning)return;const S=this.getInterval(b);this.timerId=setTimeout((0,o.Z)(function*(){yield C.iteration()}),S)}iteration(){var b=this;return(0,o.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&b.schedule(!0))}b.schedule()})()}}class wn{constructor(b,C){this.createdAt=b,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tt(this.lastLoginAt),this.creationTime=Tt(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cn(T){return ia.apply(this,arguments)}function ia(){return(ia=(0,o.Z)(function*(T){var b;const C=T.auth,S=yield T.getIdToken(),R=yield ot(T,$r(C,{idToken:S}));Ae(null==R?void 0:R.users.length,C,"internal-error");const P=R.users[0];T._notifyReloadListener(P);const ue=(null===(b=P.providerUserInfo)||void 0===b?void 0:b.length)?ne(P.providerUserInfo):[],Pe=j(T.providerData,ue),rn=!!T.isAnonymous&&!(T.email&&P.passwordHash||(null==Pe?void 0:Pe.length)),bn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Pe,metadata:new wn(P.createdAt,P.lastLoginAt),isAnonymous:rn};Object.assign(T,bn)})).apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(T){const b=(0,q.m9)(T);yield Cn(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function j(T,b){return[...T.filter(S=>!b.some(R=>R.providerId===S.providerId)),...b]}function ne(T){return T.map(b=>{var{providerId:C}=b,S=(0,se._T)(b,["providerId"]);return{providerId:C,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function oe(){return(oe=(0,o.Z)(function*(T,b){const C=yield Fi(T,{},()=>{const S=(0,q.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:R,apiKey:P}=T.config,ue=Ks(T,R,"/v1/token",`key=${P}`);return Yn.fetch()(ue,{method:"POST",headers:{"X-Client-Version":T._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){Ae(b.idToken,"internal-error"),Ae(void 0!==b.idToken,"internal-error"),Ae(void 0!==b.refreshToken,"internal-error");const C="expiresIn"in b&&void 0!==b.expiresIn?Number(b.expiresIn):function(T){const b=_n(T);return Ae(b,"internal-error"),Ae(void 0!==b.exp,"internal-error"),Ae(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,C)}getToken(b,C=!1){var S=this;return(0,o.Z)(function*(){return Ae(!S.accessToken||S.refreshToken,b,"user-token-expired"),C||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(b,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,C){var S=this;return(0,o.Z)(function*(){const{accessToken:R,refreshToken:P,expiresIn:ue}=yield function(T,b){return oe.apply(this,arguments)}(b,C);S.updateTokensAndExpiration(R,P,Number(ue))})()}updateTokensAndExpiration(b,C,S){this.refreshToken=C||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(b,C){const{refreshToken:S,accessToken:R,expirationTime:P}=C,ue=new Ge;return S&&(Ae("string"==typeof S,"internal-error",{appName:b}),ue.refreshToken=S),R&&(Ae("string"==typeof R,"internal-error",{appName:b}),ue.accessToken=R),P&&(Ae("number"==typeof P,"internal-error",{appName:b}),ue.expirationTime=P),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return St("not implemented")}}function et(T,b){Ae("string"==typeof T||void 0===T,"internal-error",{appName:b})}class Ot{constructor(b){var{uid:C,auth:S,stsTokenManager:R}=b,P=(0,se._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=S,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new wn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(b){var C=this;return(0,o.Z)(function*(){const S=yield ot(C,C.stsTokenManager.getToken(C.auth,b));return Ae(S,C.auth,"internal-error"),C.accessToken!==S&&(C.accessToken=S,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),S})()}getIdTokenResult(b){return function(T){return Jt.apply(this,arguments)}(this,b)}reload(){return function(T){return Y.apply(this,arguments)}(this)}_assign(b){this!==b&&(Ae(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(C=>Object.assign({},C)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Ot(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,C=!1){var S=this;return(0,o.Z)(function*(){let R=!1;b.idToken&&b.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(b),R=!0),C&&(yield Cn(S)),yield S.auth._persistUserIfCurrent(S),R&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var b=this;return(0,o.Z)(function*(){const C=yield b.getIdToken();return yield ot(b,function(T,b){return ks.apply(this,arguments)}(b.auth,{idToken:C})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,C){var S,R,P,ue,Pe,nt,Dt,rn;const bn=null!==(S=C.displayName)&&void 0!==S?S:void 0,Ro=null!==(R=C.email)&&void 0!==R?R:void 0,pa=null!==(P=C.phoneNumber)&&void 0!==P?P:void 0,ii=null!==(ue=C.photoURL)&&void 0!==ue?ue:void 0,Be=null!==(Pe=C.tenantId)&&void 0!==Pe?Pe:void 0,vs=null!==(nt=C._redirectEventId)&&void 0!==nt?nt:void 0,Al=null!==(Dt=C.createdAt)&&void 0!==Dt?Dt:void 0,xe=null!==(rn=C.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:qt,emailVerified:Gf,isAnonymous:Gc,providerData:di,stsTokenManager:ri}=C;Ae(qt&&ri,b,"internal-error");const Id=Ge.fromJSON(this.name,ri);Ae("string"==typeof qt,b,"internal-error"),et(bn,b.name),et(Ro,b.name),Ae("boolean"==typeof Gf,b,"internal-error"),Ae("boolean"==typeof Gc,b,"internal-error"),et(pa,b.name),et(ii,b.name),et(Be,b.name),et(vs,b.name),et(Al,b.name),et(xe,b.name);const ja=new Ot({uid:qt,auth:b,email:Ro,emailVerified:Gf,displayName:bn,isAnonymous:Gc,photoURL:ii,phoneNumber:pa,tenantId:Be,stsTokenManager:Id,createdAt:Al,lastLoginAt:xe});return di&&Array.isArray(di)&&(ja.providerData=di.map(kt=>Object.assign({},kt))),vs&&(ja._redirectEventId=vs),ja}static _fromIdTokenResponse(b,C,S=!1){return(0,o.Z)(function*(){const R=new Ge;R.updateFromServerResponse(C);const P=new Ot({uid:C.localId,auth:b,stsTokenManager:R,isAnonymous:S});return yield Cn(P),P})()}}const nn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(C,S){var R=this;return(0,o.Z)(function*(){R.storage[C]=S})()}_get(C){var S=this;return(0,o.Z)(function*(){const R=S.storage[C];return void 0===R?null:R})()}_remove(C){var S=this;return(0,o.Z)(function*(){delete S.storage[C]})()}_addListener(C,S){}_removeListener(C,S){}}return T.type="NONE",T})();function Wn(T,b,C){return`firebase:${T}:${b}:${C}`}class ce{constructor(b,C,S){this.persistence=b,this.auth=C,this.userKey=S;const{config:R,name:P}=this.auth;this.fullUserKey=Wn(this.userKey,R.apiKey,P),this.fullPersistenceKey=Wn("persistence",R.apiKey,P),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,o.Z)(function*(){const C=yield b.persistence._get(b.fullUserKey);return C?Ot._fromJSON(b.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var C=this;return(0,o.Z)(function*(){if(C.persistence===b)return;const S=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=b,S?C.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,C,S="authUser"){return(0,o.Z)(function*(){if(!C.length)return new ce(ye(nn),b,S);const R=(yield Promise.all(C.map(function(){var Dt=(0,o.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let P=R[0]||ye(nn);const ue=Wn(S,b.config.apiKey,b.name);let Pe=null;for(const Dt of C)try{const rn=yield Dt._get(ue);if(rn){const bn=Ot._fromJSON(b,rn);Dt!==P&&(Pe=bn),P=Dt;break}}catch(rn){}const nt=R.filter(Dt=>Dt._shouldAllowMigration);return P._shouldAllowMigration&&nt.length?(P=nt[0],Pe&&(yield P._set(ue,Pe.toJSON())),yield Promise.all(C.map(function(){var Dt=(0,o.Z)(function*(rn){if(rn!==P)try{yield rn._remove(ue)}catch(bn){}});return function(rn){return Dt.apply(this,arguments)}}())),new ce(P,b,S)):new ce(P,b,S)})()}}function J(T){const b=T.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(vt(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(ee(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(fn(b))return"Blackberry";if(cn(b))return"Webos";if(Se(b))return"Safari";if((b.includes("chrome/")||Ze(b))&&!b.includes("edge/"))return"Chrome";if(Qt(b))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function ee(T=(0,q.z$)()){return/firefox\//i.test(T)}function Se(T=(0,q.z$)()){const b=T.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Ze(T=(0,q.z$)()){return/crios\//i.test(T)}function vt(T=(0,q.z$)()){return/iemobile/i.test(T)}function Qt(T=(0,q.z$)()){return/android/i.test(T)}function fn(T=(0,q.z$)()){return/blackberry/i.test(T)}function cn(T=(0,q.z$)()){return/webos/i.test(T)}function Rn(T=(0,q.z$)()){return/iphone|ipad|ipod/i.test(T)}function ti(T=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Bi(T=(0,q.z$)()){return Rn(T)||Qt(T)||cn(T)||fn(T)||/windows phone/i.test(T)||vt(T)}function zt(T,b=[]){let C;switch(T){case"Browser":C=J((0,q.z$)());break;case"Worker":C=`${J((0,q.z$)())}-${T}`;break;default:C=T}const S=b.length?b.join(","):"FirebaseCore-web";return`${C}/JsCore/${U.SDK_VERSION}/${S}`}class Fn{constructor(b,C){this.app=b,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ra(this),this.idTokenSubscription=new ra(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(b,C){var S=this;return C&&(this._popupRedirectResolver=ye(C)),this._initializationPromise=this.queue((0,o.Z)(function*(){var R;S._deleted||(S.persistenceManager=yield ce.create(S,b),!S._deleted&&((null===(R=S._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(C),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,o.Z)(function*(){if(b._deleted)return;const C=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||C){if(b.currentUser&&C&&b.currentUser.uid===C.uid)return b._currentUser._assign(C),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(C)}})()}initializeCurrentUser(b){var C=this;return(0,o.Z)(function*(){var S;let R=yield C.assertedPersistence.getCurrentUser();if(b&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const P=null===(S=C.redirectUser)||void 0===S?void 0:S._redirectEventId,ue=null==R?void 0:R._redirectEventId,Pe=yield C.tryRedirectSignIn(b);(!P||P===ue)&&(null==Pe?void 0:Pe.user)&&(R=Pe.user)}return R?R._redirectEventId?(Ae(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===R._redirectEventId?C.directlySetCurrentUser(R):C.reloadAndSetCurrentUserOrClear(R)):C.reloadAndSetCurrentUserOrClear(R):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(b){var C=this;return(0,o.Z)(function*(){let S=null;try{S=yield C._popupRedirectResolver._completeRedirectFn(C,b,!0)}catch(R){yield C._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(b){var C=this;return(0,o.Z)(function*(){try{yield Cn(b)}catch(S){if("auth/network-request-failed"!==S.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var b=this;return(0,o.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var C=this;return(0,o.Z)(function*(){const S=b?(0,q.m9)(b):null;return S&&Ae(S.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(S&&S._clone(C))})()}_updateCurrentUser(b){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return b&&Ae(C.tenantId===b.tenantId,C,"tenant-id-mismatch"),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(b),C.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,o.Z)(function*(){return(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null)})()}setPersistence(b){var C=this;return this.queue((0,o.Z)(function*(){yield C.assertedPersistence.setPersistence(ye(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new q.LL("auth","Firebase",b())}onAuthStateChanged(b,C,S){return this.registerStateListener(this.authStateSubscription,b,C,S)}onIdTokenChanged(b,C,S){return this.registerStateListener(this.idTokenSubscription,b,C,S)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,C){var S=this;return(0,o.Z)(function*(){const R=yield S.getOrInitRedirectPersistenceManager(C);return null===b?R.removeCurrentUser():R.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var C=this;return(0,o.Z)(function*(){if(!C.redirectPersistenceManager){const S=b&&ye(b)||C._popupRedirectResolver;Ae(S,C,"argument-error"),C.redirectPersistenceManager=yield ce.create(C,[ye(S._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(b){var C=this;return(0,o.Z)(function*(){var S,R;return C._isInitialized&&(yield C.queue((0,o.Z)(function*(){}))),(null===(S=C._currentUser)||void 0===S?void 0:S._redirectEventId)===b?C._currentUser:(null===(R=C.redirectUser)||void 0===R?void 0:R._redirectEventId)===b?C.redirectUser:null})()}_persistUserIfCurrent(b){var C=this;return(0,o.Z)(function*(){if(b===C.currentUser)return C.queue((0,o.Z)(function*(){return C.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(C=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,C,S,R){if(this._deleted)return()=>{};const P="function"==typeof C?C:C.next.bind(C),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(ue,this,"internal-error"),ue.then(()=>P(this.currentUser)),"function"==typeof C?b.addObserver(C,S,R):b.addObserver(C)}directlySetCurrentUser(b){var C=this;return(0,o.Z)(function*(){C.currentUser&&C.currentUser!==b&&(C._currentUser._stopProactiveRefresh(),b&&C.isProactiveRefreshEnabled&&b._startProactiveRefresh()),C.currentUser=b,b?yield C.assertedPersistence.setCurrentUser(b):yield C.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function xn(T){return(0,q.m9)(T)}class ra{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,q.ne)(C=>this.observer=C)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(T,b,C){const S=xn(T);Ae(S._canInitEmulator,S,"emulator-config-failed"),Ae(/^https?:\/\//.test(b),S,"invalid-emulator-scheme");const R=!!(null==C?void 0:C.disableWarnings),P=eo(b),{host:ue,port:Pe}=function(T){const b=eo(T),C=/(\/\/)?([^?#/]+)/.exec(T.substr(b.length));if(!C)return{host:"",port:null};const S=C[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(S);if(R){const P=R[1];return{host:P,port:fl(S.substr(P.length+1))}}{const[P,ue]=S.split(":");return{host:P,port:fl(ue)}}}(b);S.config.emulator={url:`${P}//${ue}${null===Pe?"":`:${Pe}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ue,port:Pe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(T){function b(){const C=document.createElement("p"),S=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!T&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}(R)}function eo(T){const b=T.indexOf(":");return b<0?"":T.substr(0,b+1)}function fl(T){if(!T)return null;const b=Number(T);return isNaN(b)?null:b}class Et{constructor(b,C){this.providerId=b,this.signInMethod=C}toJSON(){return St("not implemented")}_getIdTokenResponse(b){return St("not implemented")}_linkToIdToken(b,C){return St("not implemented")}_getReauthenticationResolver(b){return St("not implemented")}}function sa(T,b){return Do.apply(this,arguments)}function Do(){return(Do=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:resetPassword",Rt(T,b))})).apply(this,arguments)}function Qu(T,b){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function yr(T,b){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:update",Rt(T,b))})).apply(this,arguments)}function Qr(){return(Qr=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithPassword",Rt(T,b))})).apply(this,arguments)}function bt(T,b){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:sendOobCode",Rt(T,b))})).apply(this,arguments)}function av(T,b){return ht.apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(T,b){return bt(T,b)})).apply(this,arguments)}function ff(T,b){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(T,b){return bt(T,b)})).apply(this,arguments)}function gl(T,b){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(T,b){return bt(T,b)})).apply(this,arguments)}function Jn(T,b){return yc.apply(this,arguments)}function yc(){return(yc=(0,o.Z)(function*(T,b){return bt(T,b)})).apply(this,arguments)}function Ir(){return(Ir=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithEmailLink",Rt(T,b))})).apply(this,arguments)}function aa(){return(aa=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithEmailLink",Rt(T,b))})).apply(this,arguments)}class bi extends Et{constructor(b,C,S,R=null){super("password",S),this._email=b,this._password=C,this._tenantId=R}static _fromEmailAndPassword(b,C){return new bi(b,C,"password")}static _fromEmailAndCode(b,C,S=null){return new bi(b,C,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b;if((null==C?void 0:C.email)&&(null==C?void 0:C.password)){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(b){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return function(T,b){return Qr.apply(this,arguments)}(b,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(T,b){return Ir.apply(this,arguments)}(b,{email:C._email,oobCode:C._password});default:st(b,"internal-error")}})()}_linkToIdToken(b,C){var S=this;return(0,o.Z)(function*(){switch(S.signInMethod){case"password":return Qu(b,{idToken:C,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(T,b){return aa.apply(this,arguments)}(b,{idToken:C,email:S._email,oobCode:S._password});default:st(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Hi(T,b){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithIdp",Rt(T,b))})).apply(this,arguments)}class to extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const C=new to(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(C.idToken=b.idToken),b.accessToken&&(C.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(C.nonce=b.nonce),b.pendingToken&&(C.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(C.accessToken=b.oauthToken,C.secret=b.oauthTokenSecret):st("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b,{providerId:S,signInMethod:R}=C,P=(0,se._T)(C,["providerId","signInMethod"]);if(!S||!R)return null;const ue=new to(S,R);return Object.assign(ue,P),ue}_getIdTokenResponse(b){return Hi(b,this.buildRequest())}_linkToIdToken(b,C){const S=this.buildRequest();return S.idToken=C,Hi(b,S)}_getReauthenticationResolver(b){const C=this.buildRequest();return C.autoCreate=!1,Hi(b,C)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),b.postBody=(0,q.xO)(C)}return b}}function lv(T,b){return tg.apply(this,arguments)}function tg(){return(tg=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:sendVerificationCode",Rt(T,b))})).apply(this,arguments)}function ig(){return(ig=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithPhoneNumber",Rt(T,b))})).apply(this,arguments)}function rg(){return(rg=(0,o.Z)(function*(T,b){const C=yield gr(T,"POST","/v1/accounts:signInWithPhoneNumber",Rt(T,b));if(C.temporaryProof)throw _r(T,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const AD={USER_NOT_FOUND:"user-not-found"};function sg(){return(sg=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithPhoneNumber",Rt(T,Object.assign(Object.assign({},b),{operation:"REAUTH"})),AD)})).apply(this,arguments)}class _l extends Et{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,C){return new _l({verificationId:b,verificationCode:C})}static _fromTokenResponse(b,C){return new _l({phoneNumber:b,temporaryProof:C})}_getIdTokenResponse(b){return function(T,b){return ig.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,C){return function(T,b){return rg.apply(this,arguments)}(b,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function(T,b){return sg.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:C,verificationId:S,verificationCode:R}=this.params;return b&&C?{temporaryProof:b,phoneNumber:C}:{sessionInfo:S,code:R}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:C,verificationCode:S,phoneNumber:R,temporaryProof:P}=b;return S||C||R||P?new _l({verificationId:C,verificationCode:S,phoneNumber:R,temporaryProof:P}):null}}class Xu{constructor(b){var C,S,R,P,ue,Pe;const nt=(0,q.zd)((0,q.pd)(b)),Dt=null!==(C=nt.apiKey)&&void 0!==C?C:null,rn=null!==(S=nt.oobCode)&&void 0!==S?S:null,bn=function(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=nt.mode)&&void 0!==R?R:null);Ae(Dt&&rn&&bn,"argument-error"),this.apiKey=Dt,this.operation=bn,this.code=rn,this.continueUrl=null!==(P=nt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ue=nt.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Pe=nt.tenantId)&&void 0!==Pe?Pe:null}static parseLink(b){const C=function(T){const b=(0,q.zd)((0,q.pd)(T)).link,C=b?(0,q.zd)((0,q.pd)(b)).deep_link_id:null,S=(0,q.zd)((0,q.pd)(T)).deep_link_id;return(S?(0,q.zd)((0,q.pd)(S)).link:null)||S||C||b||T}(b);try{return new Xu(C)}catch(S){return null}}}let mf=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(C,S){return bi._fromEmailAndPassword(C,S)}static credentialWithLink(C,S){const R=Xu.parseLink(S);return Ae(R,"argument-error"),bi._fromEmailAndCode(C,R.code,R.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class To{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Eo extends To{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class ed extends Eo{static credentialFromJSON(b){const C="string"==typeof b?JSON.parse(b):b;return Ae("providerId"in C&&"signInMethod"in C,"argument-error"),to._fromParams(C)}credential(b){return this._credential(b)}_credential(b){return Ae(b.idToken||b.accessToken,"argument-error"),to._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return ed.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return ed.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:C,oauthAccessToken:S,oauthTokenSecret:R,pendingToken:P,nonce:ue,providerId:Pe}=b;if(!S&&!R&&!C&&!P||!Pe)return null;try{return new ed(Pe)._credential({idToken:C,accessToken:S,rawNonce:ue,pendingToken:P})}catch(nt){return null}}}let og=(()=>{class T extends Eo{constructor(){super("facebook.com")}static credential(C){return to._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return T.credentialFromTaggedObject(C)}static credentialFromError(C){return T.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return T.credential(C.oauthAccessToken)}catch(S){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),ag=(()=>{class T extends Eo{constructor(){super("google.com"),this.addScope("profile")}static credential(C,S){return to._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:S})}static credentialFromResult(C){return T.credentialFromTaggedObject(C)}static credentialFromError(C){return T.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:S,oauthAccessToken:R}=C;if(!S&&!R)return null;try{return T.credential(S,R)}catch(P){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Oa=(()=>{class T extends Eo{constructor(){super("github.com")}static credential(C){return to._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return T.credentialFromTaggedObject(C)}static credentialFromError(C){return T.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return T.credential(C.oauthAccessToken)}catch(S){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Kt extends Et{constructor(b,C){super(b,b),this.pendingToken=C}_getIdTokenResponse(b){return Hi(b,this.buildRequest())}_linkToIdToken(b,C){const S=this.buildRequest();return S.idToken=C,Hi(b,S)}_getReauthenticationResolver(b){const C=this.buildRequest();return C.autoCreate=!1,Hi(b,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const C="string"==typeof b?JSON.parse(b):b,{providerId:S,signInMethod:R,pendingToken:P}=C;return S&&R&&P&&S===R?new Kt(S,P):null}static _create(b,C){return new Kt(b,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let uv=(()=>{class T extends Eo{constructor(){super("twitter.com")}static credential(C,S){return to._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:S})}static credentialFromResult(C){return T.credentialFromTaggedObject(C)}static credentialFromError(C){return T.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:S,oauthTokenSecret:R}=C;if(!S||!R)return null;try{return T.credential(S,R)}catch(P){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function yf(T,b){return bc.apply(this,arguments)}function bc(){return(bc=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signUp",Rt(T,b))})).apply(this,arguments)}class Xr{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,C,S,R=!1){return(0,o.Z)(function*(){const P=yield Ot._fromIdTokenResponse(b,S,R),ue=bf(S);return new Xr({user:P,providerId:ue,_tokenResponse:S,operationType:C})})()}static _forOperation(b,C,S){return(0,o.Z)(function*(){yield b._updateTokensIfNecessary(S,!0);const R=bf(S);return new Xr({user:b,providerId:R,_tokenResponse:S,operationType:C})})()}}function bf(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function OD(T){return es.apply(this,arguments)}function es(){return(es=(0,o.Z)(function*(T){var b;const C=xn(T);if(yield C._initializationPromise,null===(b=C.currentUser)||void 0===b?void 0:b.isAnonymous)return new Xr({user:C.currentUser,providerId:null,operationType:"signIn"});const S=yield yf(C,{returnSecureToken:!0}),R=yield Xr._fromIdTokenResponse(C,"signIn",S,!0);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}class yl extends q.ZR{constructor(b,C,S,R){var P;super(C.code,C.message),this.operationType=S,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,yl.prototype),this.appName=b.name,this.code=C.code,this.tenantId=null!==(P=b.tenantId)&&void 0!==P?P:void 0,this.serverResponse=C.customData.serverResponse}static _fromErrorAndOperation(b,C,S,R){return new yl(b,C,S,R)}}function vf(T,b,C,S){return("reauthenticate"===b?C._getReauthenticationResolver(T):C._getIdTokenResponse(T)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?yl._fromErrorAndOperation(T,P,b,S):P})}function vc(T){return new Set(T.map(({providerId:b})=>b).filter(b=>!!b))}function dv(T,b){return td.apply(this,arguments)}function td(){return(td=(0,o.Z)(function*(T,b){const C=(0,q.m9)(T);yield wc(!0,C,b);const{providerUserInfo:S}=yield ct(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[b]}),R=vc(S||[]);return C.providerData=C.providerData.filter(P=>R.has(P.providerId)),R.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function wf(T,b){return qn.apply(this,arguments)}function qn(){return(qn=(0,o.Z)(function*(T,b,C=!1){const S=yield ot(T,b._linkToIdToken(T.auth,yield T.getIdToken()),C);return Xr._forOperation(T,"link",S)})).apply(this,arguments)}function wc(T,b,C){return la.apply(this,arguments)}function la(){return(la=(0,o.Z)(function*(T,b,C){yield Cn(b);const R=!1===T?"provider-already-linked":"no-such-provider";Ae(vc(b.providerData).has(C)===T,b.auth,R)})).apply(this,arguments)}function lg(T,b){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(T,b,C=!1){const{auth:S}=T,R="reauthenticate";try{const P=yield ot(T,vf(S,R,b,T),C);Ae(P.idToken,S,"internal-error");const ue=_n(P.idToken);Ae(ue,S,"internal-error");const{sub:Pe}=ue;return Ae(T.uid===Pe,S,"user-mismatch"),Xr._forOperation(T,R,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&st(S,"user-mismatch"),P}})).apply(this,arguments)}function cg(T,b){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,o.Z)(function*(T,b,C=!1){const S="signIn",R=yield vf(T,S,b),P=yield Xr._fromIdTokenResponse(T,S,R);return C||(yield T._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Na(T,b){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,o.Z)(function*(T,b){return cg(xn(T),b)})).apply(this,arguments)}function nd(T,b){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(T,b){const C=(0,q.m9)(T);return yield wc(!1,C,b.providerId),wf(C,b)})).apply(this,arguments)}function Pa(T,b){return br.apply(this,arguments)}function br(){return(br=(0,o.Z)(function*(T,b){return lg((0,q.m9)(T),b)})).apply(this,arguments)}function hv(T,b){return id.apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(T,b){return gr(T,"POST","/v1/accounts:signInWithCustomToken",Rt(T,b))})).apply(this,arguments)}function rd(T,b){return So.apply(this,arguments)}function So(){return(So=(0,o.Z)(function*(T,b){const C=xn(T),S=yield hv(C,{token:b,returnSecureToken:!0}),R=yield Xr._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}class Dc{constructor(b,C){this.factorId=b,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(b,C){return"phoneInfo"in C?Mc._fromServerResponse(b,C):st(b,"internal-error")}}class Mc extends Dc{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,C){return new Mc(C)}}function Ct(T,b,C){var S;Ae((null===(S=C.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),Ae(void 0===C.dynamicLinkDomain||C.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),b.continueUrl=C.url,b.dynamicLinkDomain=C.dynamicLinkDomain,b.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Ae(C.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),b.iosBundleId=C.iOS.bundleId),C.android&&(Ae(C.android.packageName.length>0,T,"missing-android-pkg-name"),b.androidInstallApp=C.android.installApp,b.androidMinimumVersionCode=C.android.minimumVersion,b.androidPackageName=C.android.packageName)}function fv(T,b,C){return Df.apply(this,arguments)}function Df(){return(Df=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T),R={requestType:"PASSWORD_RESET",email:b};C&&Ct(S,R,C),yield ff(S,R)})).apply(this,arguments)}function pv(T,b,C){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,o.Z)(function*(T,b,C){yield sa((0,q.m9)(T),{oobCode:b,newPassword:C})})).apply(this,arguments)}function mv(T,b){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,o.Z)(function*(T,b){yield yr((0,q.m9)(T),{oobCode:b})})).apply(this,arguments)}function bl(T,b){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.Z)(function*(T,b){const C=(0,q.m9)(T),S=yield sa(C,{oobCode:b}),R=S.requestType;switch(Ae(R,C,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(S.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(S.mfaInfo,C,"internal-error");default:Ae(S.email,C,"internal-error")}let P=null;return S.mfaInfo&&(P=Dc._fromServerResponse(xn(C),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:P},operation:R}})).apply(this,arguments)}function an(T,b){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,o.Z)(function*(T,b){const{data:C}=yield bl((0,q.m9)(T),b);return C.email})).apply(this,arguments)}function Qn(T,b,C){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(T,b,C){const S=xn(T),R=yield yf(S,{returnSecureToken:!0,email:b,password:C}),P=yield Xr._fromIdTokenResponse(S,"signIn",R);return yield S._updateCurrentUser(P.user),P})).apply(this,arguments)}function Fa(T,b,C){return Na((0,q.m9)(T),mf.credential(b,C))}function _s(T,b,C){return vl.apply(this,arguments)}function vl(){return(vl=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T),R={requestType:"EMAIL_SIGNIN",email:b};Ae(C.handleCodeInApp,S,"argument-error"),C&&Ct(S,R,C),yield gl(S,R)})).apply(this,arguments)}function sd(T,b){const C=Xu.parseLink(b);return"EMAIL_SIGNIN"===(null==C?void 0:C.operation)}function ND(T,b,C){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T),R=mf.credentialWithLink(b,C||re());return Ae(R._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Na(S,R)})).apply(this,arguments)}function od(T,b){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:createAuthUri",Rt(T,b))})).apply(this,arguments)}function Gi(T,b){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.Z)(function*(T,b){const S={identifier:b,continueUri:Ue()?re():"http://localhost"},{signinMethods:R}=yield od((0,q.m9)(T),S);return R||[]})).apply(this,arguments)}function gv(T,b){return Is.apply(this,arguments)}function Is(){return(Is=(0,o.Z)(function*(T,b){const C=(0,q.m9)(T),R={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};b&&Ct(C.auth,R,b);const{email:P}=yield av(C.auth,R);P!==T.email&&(yield T.reload())})).apply(this,arguments)}function Rs(T,b,C){return ug.apply(this,arguments)}function ug(){return(ug=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:b};C&&Ct(S.auth,P,C);const{email:ue}=yield Jn(S.auth,P);ue!==T.email&&(yield T.reload())})).apply(this,arguments)}function dg(T,b){return ad.apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(T,b){return Pn(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function _v(T,b){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(T,{displayName:b,photoURL:C}){if(void 0===b&&void 0===C)return;const S=(0,q.m9)(T),P={idToken:yield S.getIdToken(),displayName:b,photoUrl:C,returnSecureToken:!0},ue=yield ot(S,dg(S.auth,P));S.displayName=ue.displayName||null,S.photoURL=ue.photoUrl||null;const Pe=S.providerData.find(({providerId:nt})=>"password"===nt);Pe&&(Pe.displayName=S.displayName,Pe.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ue)})).apply(this,arguments)}function Sf(T,b){return Cl((0,q.m9)(T),b,null)}function hg(T,b){return Cl((0,q.m9)(T),null,b)}function Cl(T,b,C){return ld.apply(this,arguments)}function ld(){return(ld=(0,o.Z)(function*(T,b,C){const{auth:S}=T,P={idToken:yield T.getIdToken(),returnSecureToken:!0};b&&(P.email=b),C&&(P.password=C);const ue=yield ot(T,Qu(S,P));yield T._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class xo{constructor(b,C,S={}){this.isNewUser=b,this.providerId=C,this.profile=S}}class xf extends xo{constructor(b,C,S,R){super(b,C,S),this.username=R}}class yv extends xo{constructor(b,C){super(b,"facebook.com",C)}}class pg extends xf{constructor(b,C){super(b,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}}class bv extends xo{constructor(b,C){super(b,"google.com",C)}}class xc extends xf{constructor(b,C,S){super(b,"twitter.com",C,S)}}function vv(T){const{user:b,_tokenResponse:C}=T;return b.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function(T){var b,C;if(!T)return null;const{providerId:S}=T,R=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},P=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&(null==T?void 0:T.idToken)){const ue=null===(C=null===(b=_n(T.idToken))||void 0===b?void 0:b.firebase)||void 0===C?void 0:C.sign_in_provider;if(ue)return new xo(P,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!S)return null;switch(S){case"facebook.com":return new yv(P,R);case"github.com":return new pg(P,R);case"google.com":return new bv(P,R);case"twitter.com":return new xc(P,R,T.screenName||null);case"custom":case"anonymous":return new xo(P,null);default:return new xo(P,S,R)}}(C)}class La{constructor(b,C){this.type=b,this.credential=C}static _fromIdtoken(b){return new La("enroll",b)}static _fromMfaPendingCredential(b){return new La("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var C,S;if(null==b?void 0:b.multiFactorSession){if(null===(C=b.multiFactorSession)||void 0===C?void 0:C.pendingCredential)return La._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null===(S=b.multiFactorSession)||void 0===S?void 0:S.idToken)return La._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Ao{constructor(b,C,S){this.session=b,this.hints=C,this.signInResolver=S}static _fromError(b,C){const S=xn(b),R=(C.serverResponse.mfaInfo||[]).map(ue=>Dc._fromServerResponse(S,ue));Ae(C.serverResponse.mfaPendingCredential,S,"internal-error");const P=La._fromMfaPendingCredential(C.serverResponse.mfaPendingCredential);return new Ao(P,R,function(){var ue=(0,o.Z)(function*(Pe){const nt=yield Pe._process(S,P);delete C.serverResponse.mfaInfo,delete C.serverResponse.mfaPendingCredential;const Dt=Object.assign(Object.assign({},C.serverResponse),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(C.operationType){case"signIn":const rn=yield Xr._fromIdTokenResponse(S,C.operationType,Dt);return yield S._updateCurrentUser(rn.user),rn;case"reauthenticate":return Ae(C.user,S,"internal-error"),Xr._forOperation(C.user,C.operationType,Dt);default:st(S,"internal-error")}});return function(Pe){return ue.apply(this,arguments)}}())}resolveSignIn(b){var C=this;return(0,o.Z)(function*(){return C.signInResolver(b)})()}}function cd(T,b){var C;const S=(0,q.m9)(T),R=b;return Ae(b.operationType,S,"argument-error"),Ae(null===(C=R.serverResponse)||void 0===C?void 0:C.mfaPendingCredential,S,"argument-error"),Ao._fromError(S,R)}function Ml(T,b){return Pn(T,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:T.tenantId},b))}class dd{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(S=>Dc._fromServerResponse(b.auth,S)))})}static _fromUser(b){return new dd(b)}getSession(){var b=this;return(0,o.Z)(function*(){return La._fromIdtoken(yield b.user.getIdToken())})()}enroll(b,C){var S=this;return(0,o.Z)(function*(){const R=b,P=yield S.getSession(),ue=yield ot(S.user,R._process(S.user.auth,P,C));return yield S.user._updateTokensIfNecessary(ue),S.user.reload()})()}unenroll(b){var C=this;return(0,o.Z)(function*(){const S="string"==typeof b?b:b.uid,R=yield C.user.getIdToken(),P=yield ot(C.user,function(T,b){return Pn(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:T.tenantId},b))}(C.user.auth,{idToken:R,mfaEnrollmentId:S}));C.enrolledFactors=C.enrolledFactors.filter(({uid:ue})=>ue!==S),yield C.user._updateTokensIfNecessary(P);try{yield C.user.reload()}catch(ue){if("auth/user-token-expired"!==ue.code)throw ue}})()}}const If=new WeakMap;function ca(T){const b=(0,q.m9)(T);return If.has(b)||If.set(b,dd._fromUser(b)),If.get(b)}const Ba="__sak";class Cv{constructor(b,C){this.storage=b,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(b){return Promise.resolve(!1)}}_set(b,C){return this.storage.setItem(b,JSON.stringify(C)),Promise.resolve()}_get(b){const C=this.storage.getItem(b);return Promise.resolve(C?JSON.parse(C):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}}const Mv=(()=>{class T extends Cv{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const T=(0,q.z$)();return Se(T)||Rn(T)}()&&function(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=Bi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(C){for(const S of Object.keys(this.listeners)){const R=this.storage.getItem(S),P=this.localCache[S];R!==P&&C(S,P,R)}}onStorageEvent(C,S=!1){if(!C.key)return void this.forAllChangedKeys((Pe,nt,Dt)=>{this.notifyListeners(Pe,Dt)});const R=C.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(R);if(C.newValue!==Pe)null!==C.newValue?this.storage.setItem(R,C.newValue):this.storage.removeItem(R);else if(this.localCache[R]===C.newValue&&!S)return}const P=()=>{const Pe=this.storage.getItem(R);!S&&this.localCache[R]===Pe||this.notifyListeners(R,Pe)},ue=this.storage.getItem(R);(0,q.w1)()&&10===document.documentMode&&ue!==C.newValue&&C.newValue!==C.oldValue?setTimeout(P,10):P()}notifyListeners(C,S){this.localCache[C]=S;const R=this.listeners[C];if(R)for(const P of Array.from(R))P(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,S,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:S,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(S)}_removeListener(C,S){this.listeners[C]&&(this.listeners[C].delete(S),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,S){var R=()=>super._set,P=this;return(0,o.Z)(function*(){yield R().call(P,C,S),P.localCache[C]=JSON.stringify(S)})()}_get(C){var S=()=>super._get,R=this;return(0,o.Z)(function*(){const P=yield S().call(R,C);return R.localCache[C]=JSON.stringify(P),P})()}_remove(C){var S=()=>super._remove,R=this;return(0,o.Z)(function*(){yield S().call(R,C),delete R.localCache[C]})()}}return T.type="LOCAL",T})(),Tv=(()=>{class T extends Cv{constructor(){super(window.sessionStorage,"SESSION")}_addListener(C,S){}_removeListener(C,S){}}return T.type="SESSION",T})();let gg=(()=>{class T{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const S=this.receivers.find(P=>P.isListeningto(C));if(S)return S;const R=new T(C);return this.receivers.push(R),R}isListeningto(C){return this.eventTarget===C}handleEvent(C){var S=this;return(0,o.Z)(function*(){const R=C,{eventId:P,eventType:ue,data:Pe}=R.data,nt=S.handlersMap[ue];if(!(null==nt?void 0:nt.size))return;R.ports[0].postMessage({status:"ack",eventId:P,eventType:ue});const Dt=Array.from(nt).map(function(){var bn=(0,o.Z)(function*(Ro){return Ro(R.origin,Pe)});return function(Ro){return bn.apply(this,arguments)}}()),rn=yield function(T){return Promise.all(T.map(function(){var b=(0,o.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(S){return{fulfilled:!1,reason:S}}});return function(C){return b.apply(this,arguments)}}()))}(Dt);R.ports[0].postMessage({status:"done",eventId:P,eventType:ue,response:rn})})()}_subscribe(C,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(S)}_unsubscribe(C,S){this.handlersMap[C]&&S&&this.handlersMap[C].delete(S),(!S||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Or(T="",b=10){let C="";for(let S=0;S<b;S++)C+=Math.floor(10*Math.random());return T+C}class hd{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,C,S=50){var R=this;return(0,o.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ue,Pe;return new Promise((nt,Dt)=>{const rn=Or("",20);P.port1.start();const bn=setTimeout(()=>{Dt(new Error("unsupported_event"))},S);Pe={messageChannel:P,onMessage(Ro){const pa=Ro;if(pa.data.eventId===rn)switch(pa.data.status){case"ack":clearTimeout(bn),ue=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),nt(pa.data.response);break;default:clearTimeout(bn),clearTimeout(ue),Dt(new Error("invalid_response"))}}},R.handlers.add(Pe),P.port1.addEventListener("message",Pe.onMessage),R.target.postMessage({eventType:b,eventId:rn,data:C},[P.port2])}).finally(()=>{Pe&&R.removeMessageHandler(Pe)})})()}}function wi(){return window}function ko(){return void 0!==wi().WorkerGlobalScope&&"function"==typeof wi().importScripts}function Va(){return(Va=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const BD="firebaseLocalStorageDb",md="firebaseLocalStorage",Ev="fbase_key";class gd{constructor(b){this.request=b}toPromise(){return new Promise((b,C)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function ua(T,b){return T.transaction([md],b?"readwrite":"readonly").objectStore(md)}function pe(){const T=indexedDB.open(BD,1);return new Promise((b,C)=>{T.addEventListener("error",()=>{C(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(md,{keyPath:Ev})}catch(R){C(R)}}),T.addEventListener("success",(0,o.Z)(function*(){const S=T.result;S.objectStoreNames.contains(md)?b(S):(S.close(),yield function(){const T=indexedDB.deleteDatabase(BD);return new gd(T).toPromise()}(),b(yield pe()))}))})}function xt(T,b,C){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(T,b,C){const S=ua(T,!0).put({[Ev]:b,value:C});return new gd(S).toPromise()})).apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(T,b){const C=ua(T,!1).get(b),S=yield new gd(C).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function vg(T,b){const C=ua(T,!0).delete(b);return new gd(C).toPromise()}const Yi=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,o.Z)(function*(){return C.db||(C.db=yield pe()),C.db})()}_withRetries(C){var S=this;return(0,o.Z)(function*(){let R=0;for(;;)try{const P=yield S._openDb();return yield C(P)}catch(P){if(R++>3)throw P;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,o.Z)(function*(){return ko()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,o.Z)(function*(){C.receiver=gg._getInstance(ko()?self:null),C.receiver._subscribe("keyChanged",function(){var S=(0,o.Z)(function*(R,P){return{keyProcessed:(yield C._poll()).includes(P.key)}});return function(R,P){return S.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var S=(0,o.Z)(function*(R,P){return["keyChanged"]});return function(R,P){return S.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,o.Z)(function*(){var S,R;if(C.activeServiceWorker=yield function(){return Va.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new hd(C.activeServiceWorker);const P=yield C.sender._send("ping",{},800);!P||(null===(S=P[0])||void 0===S?void 0:S.fulfilled)&&(null===(R=P[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var S=this;return(0,o.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:C},S.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const C=yield pe();return yield xt(C,Ba,"1"),yield vg(C,Ba),!0}catch(C){}return!1})()}_withPendingWrite(C){var S=this;return(0,o.Z)(function*(){S.pendingWrites++;try{yield C()}finally{S.pendingWrites--}})()}_set(C,S){var R=this;return(0,o.Z)(function*(){return R._withPendingWrite((0,o.Z)(function*(){return yield R._withRetries(P=>xt(P,C,S)),R.localCache[C]=S,R.notifyServiceWorker(C)}))})()}_get(C){var S=this;return(0,o.Z)(function*(){const R=yield S._withRetries(P=>function(T,b){return qe.apply(this,arguments)}(P,C));return S.localCache[C]=R,R})()}_remove(C){var S=this;return(0,o.Z)(function*(){return S._withPendingWrite((0,o.Z)(function*(){return yield S._withRetries(R=>vg(R,C)),delete S.localCache[C],S.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,o.Z)(function*(){const S=yield C._withRetries(ue=>{const Pe=ua(ue,!1).getAll();return new gd(Pe).toPromise()});if(!S)return[];if(0!==C.pendingWrites)return[];const R=[],P=new Set;for(const{fbase_key:ue,value:Pe}of S)P.add(ue),JSON.stringify(C.localCache[ue])!==JSON.stringify(Pe)&&(C.notifyListeners(ue,Pe),R.push(ue));for(const ue of Object.keys(C.localCache))C.localCache[ue]&&!P.has(ue)&&(C.notifyListeners(ue,null),R.push(ue));return R})()}notifyListeners(C,S){this.localCache[C]=S;const R=this.listeners[C];if(R)for(const P of Array.from(R))P(S)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(S)}_removeListener(C,S){this.listeners[C]&&(this.listeners[C].delete(S),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function yd(T,b){return Pn(T,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:T.tenantId},b))}function Nf(){return(Nf=(0,o.Z)(function*(T){return(yield Pn(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wr(T){return new Promise((b,C)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=b,S.onerror=R=>{const P=mt("internal-error");P.customData=R,C(P)},S.type="text/javascript",S.charset="UTF-8",function(){var T,b;return null!==(b=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==b?b:document}().appendChild(S)})}function ji(T){return`__${T}${Math.floor(1e6*Math.random())}`}const ns=1e12;class no{constructor(b){this.auth=b,this.counter=ns,this._widgets=new Map}render(b,C){const S=this.counter;return this._widgets.set(S,new is(b,this.auth.name,C||{})),this.counter++,S}reset(b){var C;const S=b||ns;null===(C=this._widgets.get(S))||void 0===C||C.delete(),this._widgets.delete(S)}getResponse(b){var C;return(null===(C=this._widgets.get(b||ns))||void 0===C?void 0:C.getResponse())||""}execute(b){var C=this;return(0,o.Z)(function*(){var S;return null===(S=C._widgets.get(b||ns))||void 0===S||S.execute(),""})()}}class is{constructor(b,C,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof b?document.getElementById(b):b;Ae(R,"argument-error",{appName:C}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(T){const b=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)b.push(C.charAt(Math.floor(Math.random()*C.length)));return b.join("")}();const{callback:b,"expired-callback":C}=this.params;if(b)try{b(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ys=ji("rcb"),er=new lt(3e4,6e4);class Rk{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wi().grecaptcha}load(b,C=""){return Ae((T=C).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T),b,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(wi().grecaptcha):new Promise((S,R)=>{const P=wi().setTimeout(()=>{R(mt(b,"network-request-failed"))},er.get());wi()[ys]=()=>{wi().clearTimeout(P),delete wi()[ys];const Pe=wi().grecaptcha;if(!Pe)return void R(mt(b,"internal-error"));const nt=Pe.render;Pe.render=(Dt,rn)=>{const bn=nt(Dt,rn);return this.counter++,bn},this.hostLanguage=C,S(Pe)},wr(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:ys,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(P),R(mt(b,"internal-error"))})});var T}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){return!!wi().grecaptcha&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class UD{load(b){return(0,o.Z)(function*(){return new no(b)})()}clearedOneInstance(){}}const Cg="recaptcha",ci={theme:"light",type:"image"};class HD{constructor(b,C=Object.assign({},ci),S){this.parameters=C,this.type=Cg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(S),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof b?document.getElementById(b):b;Ae(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new UD:new Rk,this.validateStartingState()}verify(){var b=this;return(0,o.Z)(function*(){b.assertNotDestroyed();const C=yield b.render(),S=b.getAssertedRecaptcha();return S.getResponse(C)||new Promise(P=>{const ue=Pe=>{!Pe||(b.tokenChangeListeners.delete(ue),P(Pe))};b.tokenChangeListeners.add(ue),b.isInvisible&&S.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return C=>{if(this.tokenChangeListeners.forEach(S=>S(C)),"function"==typeof b)b(C);else if("string"==typeof b){const S=wi()[b];"function"==typeof S&&S(C)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,o.Z)(function*(){if(yield b.init(),!b.widgetId){let C=b.container;if(!b.isInvisible){const S=document.createElement("div");C.appendChild(S),C=S}b.widgetId=b.getAssertedRecaptcha().render(C,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,o.Z)(function*(){Ae(Ue()&&!ko(),b.auth,"internal-error"),yield function(){let T=null;return new Promise(b=>{"complete"!==document.readyState?(T=()=>b(),window.addEventListener("load",T)):b()}).catch(b=>{throw T&&window.removeEventListener("load",T),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const C=yield function(T){return Nf.apply(this,arguments)}(b.auth);Ae(C,b.auth,"internal-error"),b.parameters.sitekey=C})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kv{constructor(b,C){this.verificationId=b,this.onConfirmation=C}confirm(b){const C=_l._fromVerification(this.verificationId,b);return this.onConfirmation(C)}}function Ok(T,b,C){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,o.Z)(function*(T,b,C){const S=xn(T),R=yield Dg(S,b,(0,q.m9)(C));return new kv(R,P=>Na(S,P))})).apply(this,arguments)}function Nk(T,b,C){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T);yield wc(!1,S,"phone");const R=yield Dg(S.auth,b,(0,q.m9)(C));return new kv(R,P=>nd(S,P))})).apply(this,arguments)}function GD(T,b,C){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T),R=yield Dg(S.auth,b,(0,q.m9)(C));return new kv(R,P=>Pa(S,P))})).apply(this,arguments)}function Dg(T,b,C){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,o.Z)(function*(T,b,C){var S;const R=yield C.verify();try{let P;if(Ae("string"==typeof R,T,"argument-error"),Ae(C.type===Cg,T,"argument-error"),P="string"==typeof b?{phoneNumber:b}:b,"session"in P){const ue=P.session;if("phoneNumber"in P)return Ae("enroll"===ue.type,T,"internal-error"),(yield Ml(T,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ae("signin"===ue.type,T,"internal-error");const Pe=(null===(S=P.multiFactorHint)||void 0===S?void 0:S.uid)||P.multiFactorUid;return Ae(Pe,T,"missing-multi-factor-info"),(yield yd(T,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield lv(T,{phoneNumber:P.phoneNumber,recaptchaToken:R});return ue}}finally{C._reset()}})).apply(this,arguments)}function bd(T,b){return vd.apply(this,arguments)}function vd(){return(vd=(0,o.Z)(function*(T,b){yield wf((0,q.m9)(T),b)})).apply(this,arguments)}let qi=(()=>{class T{constructor(C){this.providerId=T.PROVIDER_ID,this.auth=xn(C)}verifyPhoneNumber(C,S){return Dg(this.auth,C,(0,q.m9)(S))}static credential(C,S){return _l._fromVerification(C,S)}static credentialFromResult(C){return T.credentialFromTaggedObject(C)}static credentialFromError(C){return T.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:S,temporaryProof:R}=C;return S&&R?_l._fromTokenResponse(S,R):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Io(T,b){return b?ye(b):(Ae(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Rc extends Et{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Hi(b,this._buildIdpRequest())}_linkToIdToken(b,C){return Hi(b,this._buildIdpRequest(C))}_getReauthenticationResolver(b){return Hi(b,this._buildIdpRequest())}_buildIdpRequest(b){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(C.idToken=b),C}}function Pk(T){return cg(T.auth,new Rc(T),T.bypassAuthState)}function YD(T){const{auth:b,user:C}=T;return Ae(C,b,"internal-error"),lg(C,new Rc(T),T.bypassAuthState)}function Os(T){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,o.Z)(function*(T){const{auth:b,user:C}=T;return Ae(C,b,"internal-error"),wf(C,new Rc(T),T.bypassAuthState)})).apply(this,arguments)}class wd{constructor(b,C,S,R,P=!1){this.auth=b,this.resolver=S,this.user=R,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var b=this;return new Promise(function(){var C=(0,o.Z)(function*(S,R){b.pendingPromise={resolve:S,reject:R};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(P){b.reject(P)}});return function(S,R){return C.apply(this,arguments)}}())}onAuthEvent(b){var C=this;return(0,o.Z)(function*(){const{urlResponse:S,sessionId:R,postBody:P,tenantId:ue,error:Pe,type:nt}=b;if(Pe)return void C.reject(Pe);const Dt={auth:C.auth,requestUri:S,sessionId:R,tenantId:ue||void 0,postBody:P||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(nt)(Dt))}catch(rn){C.reject(rn)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Pk;case"linkViaPopup":case"linkViaRedirect":return Os;case"reauthViaPopup":case"reauthViaRedirect":return YD;default:st(this.auth,"internal-error")}}resolve(b){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sl=new lt(2e3,1e4);function Ha(T,b,C){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,o.Z)(function*(T,b,C){const S=xn(T);Ht(T,b,To);const R=Io(S,C);return new Ff(S,"signInViaPopup",b,R).executeNotNull()})).apply(this,arguments)}function jD(T,b,C){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T);Ht(S.auth,b,To);const R=Io(S.auth,C);return new Ff(S.auth,"reauthViaPopup",b,R,S).executeNotNull()})).apply(this,arguments)}function Fk(T,b,C){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T);Ht(S.auth,b,To);const R=Io(S.auth,C);return new Ff(S.auth,"linkViaPopup",b,R,S).executeNotNull()})).apply(this,arguments)}let Ff=(()=>{class T extends wd{constructor(C,S,R,P,ue){super(C,S,P,ue),this.provider=R,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var C=this;return(0,o.Z)(function*(){const S=yield C.execute();return Ae(S,C.auth,"internal-error"),S})()}onExecution(){var C=this;return(0,o.Z)(function*(){he(1===C.filter.length,"Popup operations only handle one event");const S=Or();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],S),C.authWindow.associatedEvent=S,C.resolver._originValidation(C.auth).catch(R=>{C.reject(R)}),C.resolver._isIframeWebStorageSupported(C.auth,R=>{R||C.reject(mt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const C=()=>{var S,R;this.pollId=(null===(R=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,Sl.get())};C()}}return T.currentPopupAction=null,T})();const Cd=new Map;class Oc extends wd{constructor(b,C,S=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,S),this.eventId=null}execute(){var b=()=>super.execute,C=this;return(0,o.Z)(function*(){let S=Cd.get(C.auth._key());if(!S){try{const P=(yield function(T,b){return Lf.apply(this,arguments)}(C.resolver,C.auth))?yield b().call(C):null;S=()=>Promise.resolve(P)}catch(R){S=()=>Promise.reject(R)}Cd.set(C.auth._key(),S)}return S()})()}onAuthEvent(b){var C=()=>super.onAuthEvent,S=this;return(0,o.Z)(function*(){if("signInViaRedirect"===b.type)return C().call(S,b);if("unknown"!==b.type){if(b.eventId){const R=yield S.auth._redirectUserForId(b.eventId);if(R)return S.user=R,C().call(S,b);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Lf(){return(Lf=(0,o.Z)(function*(T,b){const C=Sg(b),S="true"===(yield Bf(T)._get(C));return yield Bf(T)._remove(C),S})).apply(this,arguments)}function Tg(T,b){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,o.Z)(function*(T,b){return Bf(T)._set(Sg(b),"true")})).apply(this,arguments)}function qD(){Cd.clear()}function Bf(T){return ye(T._redirectPersistence)}function Sg(T){return Wn("pendingRedirect",T.config.apiKey,T.name)}function Dd(T,b,C){return function(T,b,C){return Nc.apply(this,arguments)}(T,b,C)}function Nc(){return(Nc=(0,o.Z)(function*(T,b,C){const S=xn(T);Ht(T,b,To);const R=Io(S,C);return yield Tg(R,S),R._openRedirect(S,b,"signInViaRedirect")})).apply(this,arguments)}function Bk(T,b,C){return function(T,b,C){return Td.apply(this,arguments)}(T,b,C)}function Td(){return(Td=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T);Ht(S.auth,b,To);const R=Io(S.auth,C);yield Tg(R,S.auth);const P=yield Fc(S);return R._openRedirect(S.auth,b,"reauthViaRedirect",P)})).apply(this,arguments)}function Pc(T,b,C){return function(T,b,C){return Ag.apply(this,arguments)}(T,b,C)}function Ag(){return(Ag=(0,o.Z)(function*(T,b,C){const S=(0,q.m9)(T);Ht(S.auth,b,To);const R=Io(S.auth,C);yield wc(!1,S,b.providerId),yield Tg(R,S.auth);const P=yield Fc(S);return R._openRedirect(S.auth,b,"linkViaRedirect",P)})).apply(this,arguments)}function zD(T,b){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,o.Z)(function*(T,b){return yield xn(T)._initializationPromise,Fv(T,b,!1)})).apply(this,arguments)}function Fv(T,b){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,o.Z)(function*(T,b,C=!1){const S=xn(T),R=Io(S,b),ue=yield new Oc(S,R,C).execute();return ue&&!C&&(delete ue.user._redirectEventId,yield S._persistUserIfCurrent(ue.user),yield S._setRedirectUser(null,b)),ue})).apply(this,arguments)}function Fc(T){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(T){const b=Or(`${T.uid}:::`);return T._redirectEventId=b,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),b})).apply(this,arguments)}class ui{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let C=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(b,S)&&(C=!0,this.sendToConsumer(b,S),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lv(T);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=b,C=!0)),C}sendToConsumer(b,C){var S;if(b.error&&!Lv(b)){const R=(null===(S=b.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";C.onError(mt(this.auth,R))}else C.onAuthEvent(b)}isEventForConsumer(b,C){const S=null===C.eventId||!!b.eventId&&b.eventId===C.eventId;return C.filter.includes(b.type)&&S}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kg(b))}saveEventToCache(b){this.cachedEventUids.add(kg(b)),this.lastProcessedEventTime=Date.now()}}function kg(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(b=>b).join("-")}function Lv({type:T,error:b}){return"unknown"===T&&"auth/no-auth-event"===(null==b?void 0:b.code)}function Lc(T){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,o.Z)(function*(T,b={}){return Pn(T,"GET","/v1/projects",b)})).apply(this,arguments)}const Bv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vv=/^https?/;function Ya(){return(Ya=(0,o.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:b}=yield Lc(T);for(const C of b)try{if(da(C))return}catch(S){}st(T,"unauthorized-domain")})).apply(this,arguments)}function da(T){const b=re(),{protocol:C,hostname:S}=new URL(b);if(T.startsWith("chrome-extension://")){const ue=new URL(T);return""===ue.hostname&&""===S?"chrome-extension:"===C&&T.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===C&&ue.hostname===S}if(!Vv.test(C))return!1;if(Bv.test(T))return S===T;const R=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(S)}const xd=new lt(3e4,6e4);function ha(){const T=wi().___jsl;if(null==T?void 0:T.H)for(const b of Object.keys(T.H))if(T.H[b].r=T.H[b].r||[],T.H[b].L=T.H[b].L||[],T.H[b].r=[...T.H[b].L],T.CP)for(let C=0;C<T.CP.length;C++)T.CP[C]=null}let Ad=null;function Rg(T){return Ad=Ad||function(T){return new Promise((b,C)=>{var S,R,P;function ue(){ha(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{ha(),C(mt(T,"network-request-failed"))},timeout:xd.get()})}if(null===(R=null===(S=wi().gapi)||void 0===S?void 0:S.iframes)||void 0===R?void 0:R.Iframe)b(gapi.iframes.getContext());else{if(!(null===(P=wi().gapi)||void 0===P?void 0:P.load)){const Pe=ji("iframefcb");return wi()[Pe]=()=>{gapi.load?ue():C(mt(T,"network-request-failed"))},wr(`https://apis.google.com/js/api.js?onload=${Pe}`)}ue()}}).catch(b=>{throw Ad=null,b})}(T),Ad}const Vf=new lt(5e3,15e3),QD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kd(T){const b=T.config;Ae(b.authDomain,T,"auth-domain-config-required");const C=b.emulator?yt(b,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,S={apiKey:b.apiKey,appName:T.name,v:U.SDK_VERSION},R=Bc.get(T.config.apiHost);R&&(S.eid=R);const P=T._getFrameworks();return P.length&&(S.fw=P.join(",")),`${C}?${(0,q.xO)(S).slice(1)}`}function Hv(){return(Hv=(0,o.Z)(function*(T){const b=yield Rg(T),C=wi().gapi;return Ae(C,T,"internal-error"),b.open({where:document.body,url:kd(T),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QD,dontclear:!0},S=>new Promise(function(){var R=(0,o.Z)(function*(P,ue){yield S.restyle({setHideOnLeave:!1});const Pe=mt(T,"network-request-failed"),nt=wi().setTimeout(()=>{ue(Pe)},Vf.get());function Dt(){wi().clearTimeout(nt),P(S)}S.ping(Dt).then(Dt,()=>{ue(Pe)})});return function(P,ue){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const Gv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yv{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(b){}}}function Ng(T,b,C,S,R,P){Ae(T.config.authDomain,T,"auth-domain-config-required"),Ae(T.config.apiKey,T,"invalid-api-key");const ue={apiKey:T.config.apiKey,appName:T.name,authType:C,redirectUrl:S,v:U.SDK_VERSION,eventId:R};if(b instanceof To){b.setDefaultLanguage(T.languageCode),ue.providerId=b.providerId||"",(0,q.xb)(b.getCustomParameters())||(ue.customParameters=JSON.stringify(b.getCustomParameters()));for(const[nt,Dt]of Object.entries(P||{}))ue[nt]=Dt}if(b instanceof Eo){const nt=b.getScopes().filter(Dt=>""!==Dt);nt.length>0&&(ue.scopes=nt.join(","))}T.tenantId&&(ue.tid=T.tenantId);const Pe=ue;for(const nt of Object.keys(Pe))void 0===Pe[nt]&&delete Pe[nt];return`${function({config:T}){return T.emulator?yt(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,q.xO)(Pe).slice(1)}`}const Uc="webStorageSupport",Hn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tv,this._completeRedirectFn=Fv}_openPopup(b,C,S,R){var P=this;return(0,o.Z)(function*(){var ue;he(null===(ue=P.eventManagers[b._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Pe=Ng(b,C,S,re(),R);return function(T,b,C,S=500,R=600){const P=Math.max((window.screen.availHeight-R)/2,0).toString(),ue=Math.max((window.screen.availWidth-S)/2,0).toString();let Pe="";const nt=Object.assign(Object.assign({},Gv),{width:S.toString(),height:R.toString(),top:P,left:ue}),Dt=(0,q.z$)().toLowerCase();C&&(Pe=Ze(Dt)?"_blank":C),ee(Dt)&&(b=b||"http://localhost",nt.scrollbars="yes");const rn=Object.entries(nt).reduce((Ro,[pa,ii])=>`${Ro}${pa}=${ii},`,"");if(function(T=(0,q.z$)()){var b;return Rn(T)&&!!(null===(b=window.navigator)||void 0===b?void 0:b.standalone)}(Dt)&&"_self"!==Pe)return function(T,b){const C=document.createElement("a");C.href=T,C.target=b;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(S)}(b||"",Pe),new Yv(null);const bn=window.open(b||"",Pe,rn);Ae(bn,T,"popup-blocked");try{bn.focus()}catch(Ro){}return new Yv(bn)}(b,Pe,Or())})()}_openRedirect(b,C,S,R){var P=this;return(0,o.Z)(function*(){return yield P._originValidation(b),T=Ng(b,C,S,re(),R),wi().location.href=T,new Promise(()=>{});var T})()}_initialize(b){const C=b._key();if(this.eventManagers[C]){const{manager:R,promise:P}=this.eventManagers[C];return R?Promise.resolve(R):(he(P,"If manager is not set, promise should be"),P)}const S=this.initAndGetManager(b);return this.eventManagers[C]={promise:S},S}initAndGetManager(b){var C=this;return(0,o.Z)(function*(){const S=yield function(T){return Hv.apply(this,arguments)}(b),R=new ui(b);return S.register("authEvent",P=>(Ae(null==P?void 0:P.authEvent,b,"invalid-auth-event"),{status:R.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[b._key()]={manager:R},C.iframes[b._key()]=S,R})()}_isIframeWebStorageSupported(b,C){this.iframes[b._key()].send(Uc,{type:Uc},R=>{var P;const ue=null===(P=null==R?void 0:R[0])||void 0===P?void 0:P[Uc];void 0!==ue&&C(!!ue),st(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const C=b._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function(T){return Ya.apply(this,arguments)}(b)),this.originValidationPromises[C]}get _shouldInitProactively(){return Bi()||Se()||Rn()}};class Ci extends class{constructor(b){this.factorId=b}_process(b,C,S){switch(C.type){case"enroll":return this._finalizeEnroll(b,C.credential,S);case"signin":return this._finalizeSignIn(b,C.credential);default:return St("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Ci(b)}_finalizeEnroll(b,C,S){return function(T,b){return Pn(T,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:T.tenantId},b))}(b,{idToken:C,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,C){return function(T,b){return Pn(T,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:T.tenantId},b))}(b,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class rs{constructor(){}static assertion(b){return Ci._fromCredential(b)}}var T;class qv{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var C=this;return(0,o.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const C=this.auth.onIdTokenChanged(S=>{var R;b((null===(R=S)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,C),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const C=this.internalListeners.get(b);!C||(this.internalListeners.delete(b),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}T="Browser",(0,U._registerComponent)(new te.wA("auth",(b,{options:C})=>{const S=b.getProvider("app").getImmediate(),{apiKey:R,authDomain:P}=S.options;return(ue=>{Ae(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),Ae(!(null==P?void 0:P.includes(":")),"argument-error",{appName:ue.name});const Pe={apiKey:R,authDomain:P,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zt(T)},nt=new Fn(ue,Pe);return function(T,b){const C=(null==b?void 0:b.persistence)||[],S=(Array.isArray(C)?C:[C]).map(ye);(null==b?void 0:b.errorMap)&&T._updateErrorMap(b.errorMap),T._initializeWithPersistence(S,null==b?void 0:b.popupRedirectResolver)}(nt,C),nt})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,C,S)=>{b.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new te.wA("auth-internal",b=>{const C=xn(b.getProvider("auth").getImmediate());return new qv(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)("@firebase/auth","0.17.2",void 0)},6034:(Xe,Te,L)=>{"use strict";L.d(Te,{wA:()=>U,H0:()=>W});var o=L(4762),q=L(4685),U=function(){function z(V,Q,H){this.name=V,this.instanceFactory=Q,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},z.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},z.prototype.setServiceProps=function(V){return this.serviceProps=V,this},z.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},z}(),se="[DEFAULT]",de=function(){function z(V,Q){this.name=V,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(V){var Q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Q)){var H=new q.BH;if(this.instancesDeferred.set(Q,H),this.isInitialized(Q)||this.shouldAutoInitialize())try{var X=this.getOrInitializeService({instanceIdentifier:Q});X&&H.resolve(X)}catch(ie){}}return this.instancesDeferred.get(Q).promise},z.prototype.getImmediate=function(V){var Q,H=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),X=null!==(Q=null==V?void 0:V.optional)&&void 0!==Q&&Q;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(X)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(ie){if(X)return null;throw ie}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(V){var Q,H;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:se})}catch(st){}try{for(var X=(0,o.XA)(this.instancesDeferred.entries()),ie=X.next();!ie.done;ie=X.next()){var Ce=(0,o.CR)(ie.value,2),Oe=Ce[1],ve=this.normalizeInstanceIdentifier(Ce[0]);try{var Ie=this.getOrInitializeService({instanceIdentifier:ve});Oe.resolve(Ie)}catch(st){}}}catch(st){Q={error:st}}finally{try{ie&&!ie.done&&(H=X.return)&&H.call(X)}finally{if(Q)throw Q.error}}}},z.prototype.clearInstance=function(V){void 0===V&&(V=se),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},z.prototype.delete=function(){return(0,o.mG)(this,void 0,void 0,function(){var V;return(0,o.Jh)(this,function(Q){switch(Q.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,o.ev)((0,o.ev)([],(0,o.CR)(V.filter(function(H){return"INTERNAL"in H}).map(function(H){return H.INTERNAL.delete()}))),(0,o.CR)(V.filter(function(H){return"_delete"in H}).map(function(H){return H._delete()}))))];case 1:return Q.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(V){return void 0===V&&(V=se),this.instances.has(V)},z.prototype.getOptions=function(V){return void 0===V&&(V=se),this.instancesOptions.get(V)||{}},z.prototype.initialize=function(V){var Q,H;void 0===V&&(V={});var X=V.options,ie=void 0===X?{}:X,Ce=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(Ce))throw Error(this.name+"("+Ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var me=this.getOrInitializeService({instanceIdentifier:Ce,options:ie});try{for(var Oe=(0,o.XA)(this.instancesDeferred.entries()),ve=Oe.next();!ve.done;ve=Oe.next()){var Ie=(0,o.CR)(ve.value,2),mt=Ie[1];Ce===this.normalizeInstanceIdentifier(Ie[0])&&mt.resolve(me)}}catch(Ht){Q={error:Ht}}finally{try{ve&&!ve.done&&(H=Oe.return)&&H.call(Oe)}finally{if(Q)throw Q.error}}return me},z.prototype.onInit=function(V,Q){var H,X=this.normalizeInstanceIdentifier(Q),ie=null!==(H=this.onInitCallbacks.get(X))&&void 0!==H?H:new Set;ie.add(V),this.onInitCallbacks.set(X,ie);var Ce=this.instances.get(X);return Ce&&V(Ce,X),function(){ie.delete(V)}},z.prototype.invokeOnInitCallbacks=function(V,Q){var H,X,ie=this.onInitCallbacks.get(Q);if(ie)try{for(var Ce=(0,o.XA)(ie),me=Ce.next();!me.done;me=Ce.next()){var Oe=me.value;try{Oe(V,Q)}catch(ve){}}}catch(ve){H={error:ve}}finally{try{me&&!me.done&&(X=Ce.return)&&X.call(Ce)}finally{if(H)throw H.error}}},z.prototype.getOrInitializeService=function(V){var Q=V.instanceIdentifier,H=V.options,X=void 0===H?{}:H,ie=this.instances.get(Q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:te(Q),options:X}),this.instances.set(Q,ie),this.instancesOptions.set(Q,X),this.invokeOnInitCallbacks(ie,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ie)}catch(Ce){}return ie||null},z.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=se),this.component?this.component.multipleInstances?V:se:V},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function te(z){return z===se?void 0:z}var W=function(){function z(V){this.name=V,this.providers=new Map}return z.prototype.addComponent=function(V){var Q=this.getProvider(V.name);if(Q.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);Q.setComponent(V)},z.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},z.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var Q=new de(V,this);return this.providers.set(V,Q),Q},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(Xe,Te,L)=>{"use strict";function o(){for(var H=0,X=0,ie=arguments.length;X<ie;X++)H+=arguments[X].length;var Ce=Array(H),me=0;for(X=0;X<ie;X++)for(var Oe=arguments[X],ve=0,Ie=Oe.length;ve<Ie;ve++,me++)Ce[me]=Oe[ve];return Ce}L.d(Te,{in:()=>se,Yd:()=>z,Ub:()=>V,Am:()=>Q});var q,U=[],se=(()=>{return(H=se||(se={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",se;var H})(),de={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},te=se.INFO,Z=((q={})[se.DEBUG]="log",q[se.VERBOSE]="log",q[se.INFO]="info",q[se.WARN]="warn",q[se.ERROR]="error",q),W=function(H,X){for(var ie=[],Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];if(!(X<H.logLevel)){var me=(new Date).toISOString(),Oe=Z[X];if(!Oe)throw new Error("Attempted to log a message with an invalid logType (value: "+X+")");console[Oe].apply(console,o(["["+me+"]  "+H.name+":"],ie))}},z=function(){function H(X){this.name=X,this._logLevel=te,this._logHandler=W,this._userLogHandler=null,U.push(this)}return Object.defineProperty(H.prototype,"logLevel",{get:function(){return this._logLevel},set:function(X){if(!(X in se))throw new TypeError('Invalid value "'+X+'" assigned to `logLevel`');this._logLevel=X},enumerable:!1,configurable:!0}),H.prototype.setLogLevel=function(X){this._logLevel="string"==typeof X?de[X]:X},Object.defineProperty(H.prototype,"logHandler",{get:function(){return this._logHandler},set:function(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(X){this._userLogHandler=X},enumerable:!1,configurable:!0}),H.prototype.debug=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.DEBUG],X)),this._logHandler.apply(this,o([this,se.DEBUG],X))},H.prototype.log=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.VERBOSE],X)),this._logHandler.apply(this,o([this,se.VERBOSE],X))},H.prototype.info=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.INFO],X)),this._logHandler.apply(this,o([this,se.INFO],X))},H.prototype.warn=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.WARN],X)),this._logHandler.apply(this,o([this,se.WARN],X))},H.prototype.error=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.ERROR],X)),this._logHandler.apply(this,o([this,se.ERROR],X))},H}();function V(H){U.forEach(function(X){X.setLogLevel(H)})}function Q(H,X){for(var ie=function(ve){var Ie=null;X&&X.level&&(Ie=de[X.level]),ve.userLogHandler=null===H?null:function(st,mt){for(var Ut=[],Ht=2;Ht<arguments.length;Ht++)Ut[Ht-2]=arguments[Ht];var Zt=Ut.map(function(Ae){if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch(St){return null}}).filter(function(Ae){return Ae}).join(" ");mt>=(null!=Ie?Ie:st.logLevel)&&H({level:se[mt].toLowerCase(),message:Zt,args:Ut,type:st.name})}},Ce=0,me=U;Ce<me.length;Ce++)ie(me[Ce])}},4685:(Xe,Te,L)=>{"use strict";L.d(Te,{BH:()=>ie,LL:()=>Ue,ZR:()=>re,tV:()=>V,r3:()=>Pn,Sg:()=>Ce,ne:()=>ks,vZ:()=>gr,ZB:()=>H,pd:()=>_r,m9:()=>yn,z$:()=>me,jU:()=>Ie,ru:()=>st,d:()=>Ut,xb:()=>Fi,w1:()=>Ht,hl:()=>he,uI:()=>Oe,UG:()=>ve,b$:()=>mt,G6:()=>St,Mn:()=>Zt,xO:()=>Ks,zd:()=>gs});var o=L(4762),de=function(Y){for(var j=[],ne=0,fe=0;fe<Y.length;fe++){var oe=Y.charCodeAt(fe);oe<128?j[ne++]=oe:oe<2048?(j[ne++]=oe>>6|192,j[ne++]=63&oe|128):55296==(64512&oe)&&fe+1<Y.length&&56320==(64512&Y.charCodeAt(fe+1))?(oe=65536+((1023&oe)<<10)+(1023&Y.charCodeAt(++fe)),j[ne++]=oe>>18|240,j[ne++]=oe>>12&63|128,j[ne++]=oe>>6&63|128,j[ne++]=63&oe|128):(j[ne++]=oe>>12|224,j[ne++]=oe>>6&63|128,j[ne++]=63&oe|128)}return j},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Y,j){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[],oe=0;oe<Y.length;oe+=3){var Ge=Y[oe],et=oe+1<Y.length,Ot=et?Y[oe+1]:0,Dn=oe+2<Y.length,nn=Dn?Y[oe+2]:0,J=(15&Ot)<<2|nn>>6,ee=63&nn;Dn||(ee=64,et||(J=64)),fe.push(ne[Ge>>2],ne[(3&Ge)<<4|Ot>>4],ne[J],ne[ee])}return fe.join("")},encodeString:function(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Y):this.encodeByteArray(de(Y),j)},decodeString:function(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Y):function(Y){for(var j=[],ne=0,fe=0;ne<Y.length;){var oe=Y[ne++];if(oe<128)j[fe++]=String.fromCharCode(oe);else if(oe>191&&oe<224){var Ge=Y[ne++];j[fe++]=String.fromCharCode((31&oe)<<6|63&Ge)}else if(oe>239&&oe<365){var Dn=((7&oe)<<18|(63&(Ge=Y[ne++]))<<12|(63&(et=Y[ne++]))<<6|63&Y[ne++])-65536;j[fe++]=String.fromCharCode(55296+(Dn>>10)),j[fe++]=String.fromCharCode(56320+(1023&Dn))}else{Ge=Y[ne++];var et=Y[ne++];j[fe++]=String.fromCharCode((15&oe)<<12|(63&Ge)<<6|63&et)}}return j.join("")}(this.decodeStringToByteArray(Y,j))},decodeStringToByteArray:function(Y,j){this.init_();for(var ne=j?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[],oe=0;oe<Y.length;){var Ge=ne[Y.charAt(oe++)],Ot=oe<Y.length?ne[Y.charAt(oe)]:0,nn=++oe<Y.length?ne[Y.charAt(oe)]:64,ce=++oe<Y.length?ne[Y.charAt(oe)]:64;if(++oe,null==Ge||null==Ot||null==nn||null==ce)throw Error();fe.push(Ge<<2|Ot>>4),64!==nn&&(fe.push(Ot<<4&240|nn>>2),64!==ce&&fe.push(nn<<6&192|ce))}return fe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},z=function(Y){return function(Y){var j=de(Y);return Z.encodeByteArray(j,!0)}(Y).replace(/\./g,"")},V=function(Y){try{return Z.decodeString(Y,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(Y,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return j}for(var fe in j)!j.hasOwnProperty(fe)||!X(fe)||(Y[fe]=H(Y[fe],j[fe]));return Y}function X(Y){return"__proto__"!==Y}var ie=function(){function Y(){var j=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,fe){j.resolve=ne,j.reject=fe})}return Y.prototype.wrapCallback=function(j){var ne=this;return function(fe,oe){fe?ne.reject(fe):ne.resolve(oe),"function"==typeof j&&(ne.promise.catch(function(){}),1===j.length?j(fe):j(fe,oe))}},Y}();function Ce(Y,j){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var fe=j||"demo-project",oe=Y.iat||0,Ge=Y.sub||Y.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var et=(0,o.pi)({iss:"https://securetoken.google.com/"+fe,aud:fe,iat:oe,exp:oe+3600,auth_time:oe,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(et)),""].join(".")}function me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function st(){var Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ut(){return me().indexOf("Electron/")>=0}function Ht(){var Y=me();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Zt(){return me().indexOf("MSAppHost/")>=0}function St(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"indexedDB"in self&&null!=indexedDB}var re=function(Y){function j(ne,fe,oe){var Ge=Y.call(this,fe)||this;return Ge.code=ne,Ge.customData=oe,Ge.name="FirebaseError",Object.setPrototypeOf(Ge,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ge,Ue.prototype.create),Ge}return(0,o.ZT)(j,Y),j}(Error),Ue=function(){function Y(j,ne,fe){this.service=j,this.serviceName=ne,this.errors=fe}return Y.prototype.create=function(j){for(var ne=[],fe=1;fe<arguments.length;fe++)ne[fe-1]=arguments[fe];var oe=ne[0]||{},Ge=this.service+"/"+j,et=this.errors[j],Ot=et?at(et,oe):"Error",Dn=this.serviceName+": "+Ot+" ("+Ge+").",nn=new re(Ge,Dn,oe);return nn},Y}();function at(Y,j){return Y.replace(Gt,function(ne,fe){var oe=j[fe];return null!=oe?String(oe):"<"+fe+"?>"})}var Gt=/\{\$([^}]+)}/g;function Pn(Y,j){return Object.prototype.hasOwnProperty.call(Y,j)}function Fi(Y){for(var j in Y)if(Object.prototype.hasOwnProperty.call(Y,j))return!1;return!0}function gr(Y,j){if(Y===j)return!0;for(var ne=Object.keys(Y),fe=Object.keys(j),oe=0,Ge=ne;oe<Ge.length;oe++){if(!fe.includes(et=Ge[oe]))return!1;var Ot=Y[et],Dn=j[et];if(Co(Ot)&&Co(Dn)){if(!gr(Ot,Dn))return!1}else if(Ot!==Dn)return!1}for(var nn=0,Wn=fe;nn<Wn.length;nn++){var et;if(!ne.includes(et=Wn[nn]))return!1}return!0}function Co(Y){return null!==Y&&"object"==typeof Y}function Ks(Y){for(var j=[],ne=function(Dn,nn){Array.isArray(nn)?nn.forEach(function(Wn){j.push(encodeURIComponent(Dn)+"="+encodeURIComponent(Wn))}):j.push(encodeURIComponent(Dn)+"="+encodeURIComponent(nn))},fe=0,oe=Object.entries(Y);fe<oe.length;fe++){var Ge=oe[fe];ne(Ge[0],Ge[1])}return j.length?"&"+j.join("&"):""}function gs(Y){var j={};return Y.replace(/^\?/,"").split("&").forEach(function(fe){if(fe){var oe=fe.split("="),et=oe[1];j[decodeURIComponent(oe[0])]=decodeURIComponent(et)}}),j}function _r(Y){var j=Y.indexOf("?");if(!j)return"";var ne=Y.indexOf("#",j);return Y.substring(j,ne>0?ne:void 0)}function ks(Y,j){var ne=new ct(Y,j);return ne.subscribe.bind(ne)}!function(){function Y(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}Y.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Y.prototype.compress_=function(j,ne){ne||(ne=0);var fe=this.W_;if("string"==typeof j)for(var oe=0;oe<16;oe++)fe[oe]=j.charCodeAt(ne)<<24|j.charCodeAt(ne+1)<<16|j.charCodeAt(ne+2)<<8|j.charCodeAt(ne+3),ne+=4;else for(oe=0;oe<16;oe++)fe[oe]=j[ne]<<24|j[ne+1]<<16|j[ne+2]<<8|j[ne+3],ne+=4;for(oe=16;oe<80;oe++)fe[oe]=4294967295&((Ge=fe[oe-3]^fe[oe-8]^fe[oe-14]^fe[oe-16])<<1|Ge>>>31);var ce,J,et=this.chain_[0],Ot=this.chain_[1],Dn=this.chain_[2],nn=this.chain_[3],Wn=this.chain_[4];for(oe=0;oe<80;oe++){oe<40?oe<20?(ce=nn^Ot&(Dn^nn),J=1518500249):(ce=Ot^Dn^nn,J=1859775393):oe<60?(ce=Ot&Dn|nn&(Ot|Dn),J=2400959708):(ce=Ot^Dn^nn,J=3395469782);var Ge=(et<<5|et>>>27)+ce+Wn+J+fe[oe]&4294967295;Wn=nn,nn=Dn,Dn=4294967295&(Ot<<30|Ot>>>2),Ot=et,et=Ge}this.chain_[0]=this.chain_[0]+et&4294967295,this.chain_[1]=this.chain_[1]+Ot&4294967295,this.chain_[2]=this.chain_[2]+Dn&4294967295,this.chain_[3]=this.chain_[3]+nn&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295},Y.prototype.update=function(j,ne){if(null!=j){void 0===ne&&(ne=j.length);for(var fe=ne-this.blockSize,oe=0,Ge=this.buf_,et=this.inbuf_;oe<ne;){if(0===et)for(;oe<=fe;)this.compress_(j,oe),oe+=this.blockSize;if("string"==typeof j){for(;oe<ne;)if(Ge[et]=j.charCodeAt(oe),++oe,++et===this.blockSize){this.compress_(Ge),et=0;break}}else for(;oe<ne;)if(Ge[et]=j[oe],++oe,++et===this.blockSize){this.compress_(Ge),et=0;break}}this.inbuf_=et,this.total_+=ne}},Y.prototype.digest=function(){var j=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&ne,ne/=256;this.compress_(this.buf_);var oe=0;for(fe=0;fe<5;fe++)for(var Ge=24;Ge>=0;Ge-=8)j[oe]=this.chain_[fe]>>Ge&255,++oe;return j}}();var ct=function(){function Y(j,ne){var fe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){j(fe)}).catch(function(oe){fe.error(oe)})}return Y.prototype.next=function(j){this.forEachObserver(function(ne){ne.next(j)})},Y.prototype.error=function(j){this.forEachObserver(function(ne){ne.error(j)}),this.close(j)},Y.prototype.complete=function(){this.forEachObserver(function(j){j.complete()}),this.close()},Y.prototype.subscribe=function(j,ne,fe){var Ge,oe=this;if(void 0===j&&void 0===ne&&void 0===fe)throw new Error("Missing Observer.");void 0===(Ge=function(Y,j){if("object"!=typeof Y||null===Y)return!1;for(var ne=0,fe=["next","error","complete"];ne<fe.length;ne++){var oe=fe[ne];if(oe in Y&&"function"==typeof Y[oe])return!0}return!1}(j)?j:{next:j,error:ne,complete:fe}).next&&(Ge.next=ki),void 0===Ge.error&&(Ge.error=ki),void 0===Ge.complete&&(Ge.complete=ki);var et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{oe.finalError?Ge.error(oe.finalError):Ge.complete()}catch(Ot){}}),this.observers.push(Ge),et},Y.prototype.unsubscribeOne=function(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Y.prototype.forEachObserver=function(j){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,j)},Y.prototype.sendOne=function(j,ne){var fe=this;this.task.then(function(){if(void 0!==fe.observers&&void 0!==fe.observers[j])try{ne(fe.observers[j])}catch(oe){"undefined"!=typeof console&&console.error&&console.error(oe)}})},Y.prototype.close=function(j){var ne=this;this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},Y}();function ki(){}function yn(Y){return Y&&Y._delegate?Y._delegate:Y}},7841:(Xe,Te,L)=>{"use strict";L.d(Te,{Z:()=>o.Z});var o=L(4486);o.Z.registerVersion("firebase","9.0.2","app-compat")},4828:(Xe,Te,L)=>{"use strict";L.r(Te);var o=L(8239),q=L(4486),U=L(5893),se=L(4685),Z=(L(5452),L(300),L(6034));function W(){return window}function Q(){return(Q=(0,o.Z)(function*(ce,J,ee){var Se;const{BuildInfo:Ze}=W();(0,U.ap)(J.sessionId,"AuthEvent did not contain a session ID");const vt=yield ve(J.sessionId),Qt={};return(0,U.aq)()?Qt.ibi=Ze.packageName:(0,U.ar)()?Qt.apn=Ze.packageName:(0,U.as)(ce,"operation-not-supported-in-this-environment"),Ze.displayName&&(Qt.appDisplayName=Ze.displayName),Qt.sessionId=vt,(0,U.at)(ce,ee,J.type,void 0,null!==(Se=J.eventId)&&void 0!==Se?Se:void 0,Qt)})).apply(this,arguments)}function X(){return(X=(0,o.Z)(function*(ce){const{BuildInfo:J}=W(),ee={};(0,U.aq)()?ee.iosBundleId=J.packageName:(0,U.ar)()?ee.androidPackageName=J.packageName:(0,U.as)(ce,"operation-not-supported-in-this-environment"),yield(0,U.au)(ce,ee)})).apply(this,arguments)}function me(){return(me=(0,o.Z)(function*(ce,J,ee){const{cordova:Se}=W();let Ze=()=>{};try{yield new Promise((vt,Qt)=>{let fn=null;function cn(){var Pt;vt();const Xs=null===(Pt=Se.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof Xs&&Xs(),"function"==typeof(null==ee?void 0:ee.close)&&ee.close()}function Rn(){fn||(fn=window.setTimeout(()=>{Qt((0,U.av)(ce,"redirect-cancelled-by-user"))},2e3))}function ti(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}J.addPassiveListener(cn),document.addEventListener("resume",Rn,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",ti,!1),Ze=()=>{J.removePassiveListener(cn),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",ti,!1),fn&&window.clearTimeout(fn)}})}finally{Ze()}})).apply(this,arguments)}function ve(ce){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,o.Z)(function*(ce){const J=st(ce),ee=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(ee)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function st(ce){if((0,U.ap)(/[0-9a-zA-Z]+/.test(ce),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ce);const J=new ArrayBuffer(ce.length),ee=new Uint8Array(J);for(let Se=0;Se<ce.length;Se++)ee[Se]=ce.charCodeAt(Se);return ee}class Ut extends U.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(J)),super.onEvent(J)}initialized(){var J=this;return(0,o.Z)(function*(){yield J.initPromise})()}}function Ae(ce){return St.apply(this,arguments)}function St(){return(St=(0,o.Z)(function*(ce){const J=yield ye()._get(be(ce));return J&&(yield ye()._remove(be(ce))),J})).apply(this,arguments)}function _e(){const ce=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<20;ee++){const Se=Math.floor(Math.random()*J.length);ce.push(J.charAt(Se))}return ce.join("")}function ye(){return(0,U.ax)(U.b)}function be(ce){return(0,U.ay)("authEvent",ce.config.apiKey,ce.name)}function Ue(ce){if(!(null==ce?void 0:ce.includes("?")))return{};const[J,...ee]=ce.split("?");return(0,se.zd)(ee.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.av)("no-auth-event")}}function Rt(){var ce;return(null===(ce=null==self?void 0:self.location)||void 0===ce?void 0:ce.protocol)||null}function jn(ce=(0,se.z$)()){return!("file:"!==Rt()&&"ionic:"!==Rt()||!ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ks(){try{const ce=self.localStorage,J=U.aG();if(ce)return ce.setItem(J,"1"),ce.removeItem(J),!function(ce=(0,se.z$)()){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)||function(ce=(0,se.z$)()){return/Edge\/\d+/.test(ce)}(ce)}()||(0,se.hl)()}catch(ce){return gs()&&(0,se.hl)()}return!1}function gs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function _r(){return("http:"===Rt()||"https:"===Rt()||(0,se.ru)()||jn())&&!((0,se.b$)()||(0,se.UG)())&&Ks()&&!gs()}function ea(){return jn()&&"undefined"!=typeof document}function ct(){return(ct=(0,o.Z)(function*(){return!!ea()&&new Promise(ce=>{const J=setTimeout(()=>{ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),ce(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},$r=U.aw,ki="persistence";function gt(ce){return tn.apply(this,arguments)}function tn(){return(tn=(0,o.Z)(function*(ce){yield ce._initializationPromise;const J=Li(),ee=U.ay(ki,ce.config.apiKey,ce.name);(null==J?void 0:J.sessionStorage)&&J.sessionStorage.setItem(ee,ce._getPersistence())})).apply(this,arguments)}function Li(){return"undefined"!=typeof window?window:null}const _n=U.aw;class Ye{constructor(){this.browserResolver=U.ax(U.k),this.cordovaResolver=U.ax(class{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aA}_initialize(J){var ee=this;return(0,o.Z)(function*(){const Se=J._key();let Ze=ee.eventManagers.get(Se);return Ze||(Ze=new Ut(J),ee.eventManagers.set(Se,Ze),ee.attachCallbackListeners(J,Ze)),Ze})()}_openPopup(J){(0,U.as)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,ee,Se,Ze){var vt=this;return(0,o.Z)(function*(){!function(ce){var J,ee,Se,Ze,vt,Qt,fn,cn,Rn,ti;const Pt=W();(0,U.aw)("function"==typeof(null===(J=null==Pt?void 0:Pt.universalLinks)||void 0===J?void 0:J.subscribe),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aw)(void 0!==(null===(ee=null==Pt?void 0:Pt.BuildInfo)||void 0===ee?void 0:ee.packageName),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aw)("function"==typeof(null===(vt=null===(Ze=null===(Se=null==Pt?void 0:Pt.cordova)||void 0===Se?void 0:Se.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===vt?void 0:vt.openUrl),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(cn=null===(fn=null===(Qt=null==Pt?void 0:Pt.cordova)||void 0===Qt?void 0:Qt.plugins)||void 0===fn?void 0:fn.browsertab)||void 0===cn?void 0:cn.isAvailable),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(ti=null===(Rn=null==Pt?void 0:Pt.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===ti?void 0:ti.open),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Qt=yield vt._initialize(J);yield Qt.initialized(),Qt.resetRedirect(),(0,U.aB)(),yield vt._originValidation(J);const fn=function(ce,J,ee=null){return{type:J,eventId:ee,urlResponse:null,sessionId:_e(),postBody:null,tenantId:ce.tenantId,error:(0,U.av)(ce,"no-auth-event")}}(J,Se,Ze);yield function(ce,J){return ye()._set(be(ce),J)}(J,fn);const cn=yield function(ce,J,ee){return Q.apply(this,arguments)}(J,fn,ee),Rn=yield function(ce){const{cordova:J}=W();return new Promise(ee=>{J.plugins.browsertab.isAvailable(Se=>{let Ze=null;Se?J.plugins.browsertab.openUrl(ce):Ze=J.InAppBrowser.open(ce,(0,U.ao)()?"_blank":"_system","location=yes"),ee(Ze)})})}(cn);return function(ce,J,ee){return me.apply(this,arguments)}(J,Qt,Rn)})()}_isIframeWebStorageSupported(J,ee){throw new Error("Method not implemented.")}_originValidation(J){const ee=J._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function(ce){return X.apply(this,arguments)}(J)),this.originValidationPromises[ee]}attachCallbackListeners(J,ee){const{universalLinks:Se,handleOpenURL:Ze,BuildInfo:vt}=W(),Qt=setTimeout((0,o.Z)(function*(){yield Ae(J),ee.onEvent(lt())}),500),fn=function(){var ti=(0,o.Z)(function*(Pt){clearTimeout(Qt);const Xs=yield Ae(J);let Bi=null;Xs&&(null==Pt?void 0:Pt.url)&&(Bi=function(ce,J){var ee,Se;const Ze=function(ce){const J=Ue(ce),ee=J.link?decodeURIComponent(J.link):void 0,Se=Ue(ee).link,Ze=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Ue(Ze).link||Ze||Se||ee||ce}(J);if(Ze.includes("/__/auth/callback")){const vt=Ue(Ze),Qt=vt.firebaseError?function(ce){try{return JSON.parse(ce)}catch(J){return null}}(decodeURIComponent(vt.firebaseError)):null,fn=null===(Se=null===(ee=null==Qt?void 0:Qt.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Se?void 0:Se[1],cn=fn?(0,U.av)(fn):null;return cn?{type:ce.type,eventId:ce.eventId,tenantId:ce.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:ce.type,eventId:ce.eventId,tenantId:ce.tenantId,sessionId:ce.sessionId,urlResponse:Ze,postBody:null}}return null}(Xs,Pt.url)),ee.onEvent(Bi||lt())});return function(Xs){return ti.apply(this,arguments)}}();void 0!==Se&&"function"==typeof Se.subscribe&&Se.subscribe(null,fn);const cn=Ze,Rn=`${vt.packageName.toLowerCase()}://`;W().handleOpenURL=function(){var ti=(0,o.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(Rn)&&fn({url:Pt}),"function"==typeof cn)try{cn(Pt)}catch(Xs){console.error(Xs)}});return function(Pt){return ti.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aA}_initialize(J){var ee=this;return(0,o.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,ee,Se,Ze){var vt=this;return(0,o.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(J,ee,Se,Ze)})()}_openRedirect(J,ee,Se,Ze){var vt=this;return(0,o.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(J,ee,Se,Ze)})()}_isIframeWebStorageSupported(J,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,ee)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return ea()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _n(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,o.Z)(function*(){if(J.underlyingResolver)return;const ee=yield function(){return ct.apply(this,arguments)}();J.underlyingResolver=ee?J.cordovaResolver:J.browserResolver})()}}function ot(ce){return ce.unwrap()}function na(ce){return wn(ce)}function Wr(ce,J){var ee;const Se=null===(ee=J.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===J.code)J.resolver=new j(ce,U.am(ce,J));else if(Se){const Ze=wn(J),vt=J;Ze&&(vt.credential=Ze,vt.tenantId=Se.tenantId||void 0,vt.email=Se.email||void 0,vt.phoneNumber=Se.phoneNumber||void 0)}}function wn(ce){const{_tokenResponse:J}=ce instanceof se.ZR?ce.customData:ce;if(!J)return null;if(!(ce instanceof se.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return U.P.credentialFromResult(ce);const ee=J.providerId;if(!ee||ee===U.o.PASSWORD)return null;let Se;switch(ee){case U.o.GOOGLE:Se=U.N;break;case U.o.FACEBOOK:Se=U.M;break;case U.o.GITHUB:Se=U.Q;break;case U.o.TWITTER:Se=U.V;break;default:const{oauthIdToken:Ze,oauthAccessToken:vt,oauthTokenSecret:Qt,pendingToken:fn,nonce:cn}=J;return vt||Qt||Ze||fn?fn?ee.startsWith("saml.")?U.aJ._create(ee,fn):U.I._fromParams({providerId:ee,signInMethod:ee,pendingToken:fn,idToken:Ze,accessToken:vt}):new U.T(ee).credential({idToken:Ze,accessToken:vt,rawNonce:cn}):null}return ce instanceof se.ZR?Se.credentialFromError(ce):Se.credentialFromResult(ce)}function Cn(ce,J){return ia.apply(this,arguments)}function ia(){return(ia=(0,o.Z)(function*(ce,J){let ee;try{ee=yield J}catch(vt){throw vt instanceof se.ZR&&Wr(ce,vt),vt}const{operationType:Se,user:Ze}=ee;return{operationType:Se,credential:na(ee),additionalUserInfo:U.ak(ee),user:ne.getOrCreate(Ze)}})).apply(this,arguments)}function yn(ce,J){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(ce,J){const ee=yield J;return{verificationId:ee.verificationId,confirm:Se=>Cn(ce,ee.confirm(Se))}})).apply(this,arguments)}class j{constructor(J,ee){this.resolver=ee,this.auth=J.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Cn(ot(this.auth),this.resolver.resolveSignIn(J))}}class ne{constructor(J){this._delegate=J,this.multiFactor=U.an(J)}static getOrCreate(J){return ne.USER_MAP.has(J)||ne.USER_MAP.set(J,new ne(J)),ne.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var ee=this;return(0,o.Z)(function*(){return Cn(ee.auth,U.Y(ee._delegate,J))})()}linkWithPhoneNumber(J,ee){var Se=this;return(0,o.Z)(function*(){return yn(Se.auth,U.l(Se._delegate,J,ee))})()}linkWithPopup(J){var ee=this;return(0,o.Z)(function*(){return Cn(ee.auth,U.d(ee._delegate,J,Ye))})()}linkWithRedirect(J){var ee=this;return(0,o.Z)(function*(){return yield gt(U.aC(ee.auth)),U.g(ee._delegate,J,Ye)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var ee=this;return(0,o.Z)(function*(){return Cn(ee.auth,U.Z(ee._delegate,J))})()}reauthenticateWithPhoneNumber(J,ee){return yn(this.auth,U.r(this._delegate,J,ee))}reauthenticateWithPopup(J){return Cn(this.auth,U.e(this._delegate,J,Ye))}reauthenticateWithRedirect(J){var ee=this;return(0,o.Z)(function*(){return yield gt(U.aC(ee.auth)),U.h(ee._delegate,J,Ye)})()}sendEmailVerification(J){return U.aa(this._delegate,J)}unlink(J){var ee=this;return(0,o.Z)(function*(){return yield U.aj(ee._delegate,J),ee})()}updateEmail(J){return U.af(this._delegate,J)}updatePassword(J){return U.ag(this._delegate,J)}updatePhoneNumber(J){return U.u(this._delegate,J)}updateProfile(J){return U.ae(this._delegate,J)}verifyBeforeUpdateEmail(J,ee){return U.ab(this._delegate,J,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ne.USER_MAP=new WeakMap;const fe=U.aw;let oe=(()=>{class ce{constructor(ee,Se){if(this.app=ee,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ze}=ee.options;fe(Ze,"invalid-api-key",{appName:ee.name});let vt=[U.K];if("undefined"!=typeof window){vt=function(ce,J){const ee=Li();if(!(null==ee?void 0:ee.sessionStorage))return[];const Se=U.ay(ki,ce,J);switch(ee.sessionStorage.getItem(Se)){case hn.NONE:return[U.K];case hn.LOCAL:return[U.i,U.a];case hn.SESSION:return[U.a];default:return[]}}(Ze,ee.name);for(const fn of[U.i,U.b,U.a])vt.includes(fn)||vt.push(fn)}fe(Ze,"invalid-api-key",{appName:ee.name});const Qt="undefined"!=typeof window?Ye:void 0;this._delegate=Se.initialize({options:{persistence:vt,popupRedirectResolver:Qt}}),this._delegate._updateErrorMap(U.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Se){U.E(this._delegate,ee,Se)}applyActionCode(ee){return U.a1(this._delegate,ee)}checkActionCode(ee){return U.a2(this._delegate,ee)}confirmPasswordReset(ee,Se){return U.a0(this._delegate,ee,Se)}createUserWithEmailAndPassword(ee,Se){var Ze=this;return(0,o.Z)(function*(){return Cn(Ze._delegate,U.a4(Ze._delegate,ee,Se))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return U.a9(this._delegate,ee)}isSignInWithEmailLink(ee){return U.a7(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,o.Z)(function*(){fe(_r(),ee._delegate,"operation-not-supported-in-this-environment");const Se=yield U.j(ee._delegate,Ye);return Se?Cn(ee._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function(ce,J){(0,U.aC)(ce)._logFramework(J)}(this._delegate,ee)}onAuthStateChanged(ee,Se,Ze){const{next:vt,error:Qt,complete:fn}=Ge(ee,Se,Ze);return this._delegate.onAuthStateChanged(vt,Qt,fn)}onIdTokenChanged(ee,Se,Ze){const{next:vt,error:Qt,complete:fn}=Ge(ee,Se,Ze);return this._delegate.onIdTokenChanged(vt,Qt,fn)}sendSignInLinkToEmail(ee,Se){return U.a6(this._delegate,ee,Se)}sendPasswordResetEmail(ee,Se){return U.$(this._delegate,ee,Se||void 0)}setPersistence(ee){var Se=this;return(0,o.Z)(function*(){let Ze;switch(function(ce,J){$r(Object.values(hn).includes(J),ce,"invalid-persistence-type"),(0,se.b$)()?$r(J!==hn.SESSION,ce,"unsupported-persistence-type"):(0,se.UG)()?$r(J===hn.NONE,ce,"unsupported-persistence-type"):gs()?$r(J===hn.NONE||J===hn.LOCAL&&(0,se.hl)(),ce,"unsupported-persistence-type"):$r(J===hn.NONE||Ks(),ce,"unsupported-persistence-type")}(Se._delegate,ee),ee){case hn.SESSION:Ze=U.a;break;case hn.LOCAL:Ze=(yield U.ax(U.i)._isAvailable())?U.i:U.b;break;case hn.NONE:Ze=U.K;break;default:return U.as("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(Ze)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Cn(this._delegate,U.W(this._delegate))}signInWithCredential(ee){return Cn(this._delegate,U.X(this._delegate,ee))}signInWithCustomToken(ee){return Cn(this._delegate,U._(this._delegate,ee))}signInWithEmailAndPassword(ee,Se){return Cn(this._delegate,U.a5(this._delegate,ee,Se))}signInWithEmailLink(ee,Se){return Cn(this._delegate,U.a8(this._delegate,ee,Se))}signInWithPhoneNumber(ee,Se){return yn(this._delegate,U.s(this._delegate,ee,Se))}signInWithPopup(ee){var Se=this;return(0,o.Z)(function*(){return fe(_r(),Se._delegate,"operation-not-supported-in-this-environment"),Cn(Se._delegate,U.c(Se._delegate,ee,Ye))})()}signInWithRedirect(ee){var Se=this;return(0,o.Z)(function*(){return fe(_r(),Se._delegate,"operation-not-supported-in-this-environment"),yield gt(Se._delegate),U.f(Se._delegate,ee,Ye)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return U.a3(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ce.Persistence=hn,ce})();function Ge(ce,J,ee){let Se=ce;"function"!=typeof ce&&({next:Se,error:J,complete:ee}=ce);const Ze=Se;return{next:Qt=>Ze(Qt&&ne.getOrCreate(Qt)),error:J,complete:ee}}class et{constructor(){this.providerId="phone",this._delegate=new U.P(ot(q.Z.auth()))}static credential(J,ee){return U.P.credential(J,ee)}verifyPhoneNumber(J,ee){return this._delegate.verifyPhoneNumber(J,ee)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=U.P.PROVIDER_ID;const Ot=U.aw;var ce;(ce=q.Z).INTERNAL.registerComponent(new Z.wA("auth-compat",J=>{const ee=J.getProvider("app-compat").getImmediate(),Se=J.getProvider("auth");return new oe(ee,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.L,FacebookAuthProvider:U.M,GithubAuthProvider:U.Q,GoogleAuthProvider:U.N,OAuthProvider:U.T,PhoneAuthProvider:et,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:class{constructor(J,ee,Se=q.Z.app()){var Ze;Ot(null===(Ze=Se.options)||void 0===Ze?void 0:Ze.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new U.R(J,ee,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:U.V,Auth:oe,AuthCredential:U.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ce.registerVersion("@firebase/auth-compat","0.1.2")},3098:(Xe,Te,L)=>{"use strict";L.d(Te,{P:()=>de});var o=L(9193),q=L(5917),U=L(205);class de{constructor(Z,W,z){this.kind=Z,this.value=W,this.error=z,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,W,z){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return W&&W(this.error);case"C":return z&&z()}}accept(Z,W,z){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,W,z)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return(0,U._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new de("N",Z):de.undefinedValueNotification}static createError(Z){return new de("E",void 0,Z)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(Xe,Te,L)=>{"use strict";L.d(Te,{y:()=>Q});var o=L(7393),U=L(9181),se=L(6490),te=L(6554),Z=L(4487);var V=L(2494);let Q=(()=>{class X{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const me=new X;return me.source=this,me.operator=Ce,me}subscribe(Ce,me,Oe){const{operator:ve}=this,Ie=function(X,ie,Ce){if(X){if(X instanceof o.L)return X;if(X[U.b])return X[U.b]()}return X||ie||Ce?new o.L(X,ie,Ce):new o.L(se.c)}(Ce,me,Oe);if(Ie.add(ve?ve.call(Ie,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),V.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(me){V.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=me),function(X){for(;X;){const{closed:ie,destination:Ce,isStopped:me}=X;if(ie||me)return!1;X=Ce&&Ce instanceof o.L?Ce:null}return!0}(Ce)?Ce.error(me):console.warn(me)}}forEach(Ce,me){return new(me=H(me))((Oe,ve)=>{let Ie;Ie=this.subscribe(st=>{try{Ce(st)}catch(mt){ve(mt),Ie&&Ie.unsubscribe()}},ve,Oe)})}_subscribe(Ce){const{source:me}=this;return me&&me.subscribe(Ce)}[te.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(X){return 0===X.length?Z.y:1===X.length?X[0]:function(Ce){return X.reduce((me,Oe)=>Oe(me),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=H(Ce))((me,Oe)=>{let ve;this.subscribe(Ie=>ve=Ie,Ie=>Oe(Ie),()=>me(ve))})}}return X.create=ie=>new X(ie),X})();function H(X){if(X||(X=V.v.Promise||Promise),!X)throw new Error("no Promise impl found");return X}},6490:(Xe,Te,L)=>{"use strict";L.d(Te,{c:()=>U});var o=L(2494),q=L(4449);const U={closed:!0,next(se){},error(se){if(o.v.useDeprecatedSynchronousErrorHandling)throw se;(0,q.z)(se)},complete(){}}},9765:(Xe,Te,L)=>{"use strict";L.d(Te,{Yc:()=>Z,xQ:()=>W});var o=L(7574),q=L(7393),U=L(5319),se=L(7971),de=L(8858),te=L(9181);class Z extends q.L{constructor(Q){super(Q),this.destination=Q}}let W=(()=>{class V extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new Z(this)}lift(H){const X=new z(this,this);return X.operator=H,X}next(H){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:X}=this,ie=X.length,Ce=X.slice();for(let me=0;me<ie;me++)Ce[me].next(H)}}error(H){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:X}=this,ie=X.length,Ce=X.slice();for(let me=0;me<ie;me++)Ce[me].error(H);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:H}=this,X=H.length,ie=H.slice();for(let Ce=0;Ce<X;Ce++)ie[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new se.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new se.N;return this.hasError?(H.error(this.thrownError),U.w.EMPTY):this.isStopped?(H.complete(),U.w.EMPTY):(this.observers.push(H),new de.W(this,H))}asObservable(){const H=new o.y;return H.source=this,H}}return V.create=(Q,H)=>new z(Q,H),V})();class z extends W{constructor(Q,H){super(),this.destination=Q,this.source=H}next(Q){const{destination:H}=this;H&&H.next&&H.next(Q)}error(Q){const{destination:H}=this;H&&H.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:H}=this;return H?this.source.subscribe(Q):U.w.EMPTY}}},8858:(Xe,Te,L)=>{"use strict";L.d(Te,{W:()=>q});var o=L(5319);class q extends o.w{constructor(se,de){super(),this.subject=se,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,de=se.observers;if(this.subject=null,!de||0===de.length||se.isStopped||se.closed)return;const te=de.indexOf(this.subscriber);-1!==te&&de.splice(te,1)}}},7393:(Xe,Te,L)=>{"use strict";L.d(Te,{L:()=>Z});var o=L(9105),q=L(6490),U=L(5319),se=L(9181),de=L(2494),te=L(4449);class Z extends U.w{constructor(V,Q,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=q.c;break;case 1:if(!V){this.destination=q.c;break}if("object"==typeof V){V instanceof Z?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,V,Q,H)}}[se.b](){return this}static create(V,Q,H){const X=new Z(V,Q,H);return X.syncErrorThrowable=!1,X}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class W extends Z{constructor(V,Q,H,X){super(),this._parentSubscriber=V;let ie,Ce=this;(0,o.m)(Q)?ie=Q:Q&&(ie=Q.next,H=Q.error,X=Q.complete,Q!==q.c&&(Ce=Object.create(Q),(0,o.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=ie,this._error=H,this._complete=X}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;de.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:H}=de.v;if(this._error)H&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(Q.syncErrorThrowable)H?(Q.syncErrorValue=V,Q.syncErrorThrown=!0):(0,te.z)(V),this.unsubscribe();else{if(this.unsubscribe(),H)throw V;(0,te.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const Q=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,Q){try{V.call(this._context,Q)}catch(H){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw H;(0,te.z)(H)}}__tryOrSetError(V,Q,H){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,H)}catch(X){return de.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=X,V.syncErrorThrown=!0,!0):((0,te.z)(X),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Xe,Te,L)=>{"use strict";L.d(Te,{w:()=>te});var o=L(9796),q=L(1555),U=L(9105);const de=(()=>{function W(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((V,Q)=>`${Q+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return W.prototype=Object.create(Error.prototype),W})();class te{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:Q,_unsubscribe:H,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof te)V.remove(this);else if(null!==V)for(let ie=0;ie<V.length;++ie)V[ie].remove(this);if((0,U.m)(H)){Q&&(this._unsubscribe=void 0);try{H.call(this)}catch(ie){z=ie instanceof de?Z(ie.errors):[ie]}}if((0,o.k)(X)){let ie=-1,Ce=X.length;for(;++ie<Ce;){const me=X[ie];if((0,q.K)(me))try{me.unsubscribe()}catch(Oe){z=z||[],Oe instanceof de?z=z.concat(Z(Oe.errors)):z.push(Oe)}}}if(z)throw new de(z)}add(z){let V=z;if(!z)return te.EMPTY;switch(typeof z){case"function":V=new te(z);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof te)){const X=V;V=new te,V._subscriptions=[X]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:Q}=V;if(null===Q)V._parentOrParents=this;else if(Q instanceof te){if(Q===this)return V;V._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return V;Q.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[V]:H.push(V),V}remove(z){const V=this._subscriptions;if(V){const Q=V.indexOf(z);-1!==Q&&V.splice(Q,1)}}}var W;function Z(W){return W.reduce((z,V)=>z.concat(V instanceof de?V.errors:V),[])}te.EMPTY=((W=new te).closed=!0,W)},2494:(Xe,Te,L)=>{"use strict";L.d(Te,{v:()=>q});let o=!1;const q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=U},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Xe,Te,L)=>{"use strict";L.d(Te,{IY:()=>se,Ds:()=>te,ft:()=>W});var o=L(7393),q=L(7574),U=L(7444);class se extends o.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class te extends o.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function W(z,V){if(V.closed)return;if(z instanceof q.y)return z.subscribe(V);let Q;try{Q=(0,U.s)(z)(V)}catch(H){V.error(H)}return Q}},2441:(Xe,Te,L)=>{"use strict";L.d(Te,{c:()=>de,N:()=>te});var o=L(9765),q=L(7574),U=L(5319),se=L(1307);class de extends q.y{constructor(Q,H){super(),this.source=Q,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new U.w,Q.add(this.source.subscribe(new Z(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=U.w.EMPTY)),Q}refCount(){return(0,se.x)()(this)}}const te=(()=>{const V=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class Z extends o.Yc{constructor(Q,H){super(Q),this.connectable=H}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const H=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,H&&H.unsubscribe()}}}},9193:(Xe,Te,L)=>{"use strict";L.d(Te,{E:()=>q,c:()=>U});var o=L(7574);const q=new o.y(de=>de.complete());function U(de){return de?function(de){return new o.y(te=>de.schedule(()=>te.complete()))}(de):q}},4402:(Xe,Te,L)=>{"use strict";L.d(Te,{D:()=>Ce});var o=L(7574),q=L(7444),U=L(5319),se=L(6554),Z=L(4087),W=L(377),Q=L(4072),H=L(9489);function Ce(me,Oe){return Oe?function(me,Oe){if(null!=me){if(function(me){return me&&"function"==typeof me[se.L]}(me))return function(me,Oe){return new o.y(ve=>{const Ie=new U.w;return Ie.add(Oe.schedule(()=>{const st=me[se.L]();Ie.add(st.subscribe({next(mt){Ie.add(Oe.schedule(()=>ve.next(mt)))},error(mt){Ie.add(Oe.schedule(()=>ve.error(mt)))},complete(){Ie.add(Oe.schedule(()=>ve.complete()))}}))})),Ie})}(me,Oe);if((0,Q.t)(me))return function(me,Oe){return new o.y(ve=>{const Ie=new U.w;return Ie.add(Oe.schedule(()=>me.then(st=>{Ie.add(Oe.schedule(()=>{ve.next(st),Ie.add(Oe.schedule(()=>ve.complete()))}))},st=>{Ie.add(Oe.schedule(()=>ve.error(st)))}))),Ie})}(me,Oe);if((0,H.z)(me))return(0,Z.r)(me,Oe);if(function(me){return me&&"function"==typeof me[W.hZ]}(me)||"string"==typeof me)return function(me,Oe){if(!me)throw new Error("Iterable cannot be null");return new o.y(ve=>{const Ie=new U.w;let st;return Ie.add(()=>{st&&"function"==typeof st.return&&st.return()}),Ie.add(Oe.schedule(()=>{st=me[W.hZ](),Ie.add(Oe.schedule(function(){if(ve.closed)return;let mt,Ut;try{const Ht=st.next();mt=Ht.value,Ut=Ht.done}catch(Ht){return void ve.error(Ht)}Ut?ve.complete():(ve.next(mt),this.schedule())}))})),Ie})}(me,Oe)}throw new TypeError((null!==me&&typeof me||me)+" is not observable")}(me,Oe):me instanceof o.y?me:new o.y((0,q.s)(me))}},6693:(Xe,Te,L)=>{"use strict";L.d(Te,{n:()=>se});var o=L(7574),q=L(5015),U=L(4087);function se(de,te){return te?(0,U.r)(de,te):new o.y((0,q.V)(de))}},6682:(Xe,Te,L)=>{"use strict";L.d(Te,{T:()=>de});var o=L(7574),q=L(4869),U=L(3282),se=L(6693);function de(...te){let Z=Number.POSITIVE_INFINITY,W=null,z=te[te.length-1];return(0,q.K)(z)?(W=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(Z=te.pop())):"number"==typeof z&&(Z=te.pop()),null===W&&1===te.length&&te[0]instanceof o.y?te[0]:(0,U.J)(Z)((0,se.n)(te,W))}},5917:(Xe,Te,L)=>{"use strict";L.d(Te,{of:()=>se});var o=L(4869),q=L(6693),U=L(4087);function se(...de){let te=de[de.length-1];return(0,o.K)(te)?(de.pop(),(0,U.r)(de,te)):(0,q.n)(de)}},205:(Xe,Te,L)=>{"use strict";L.d(Te,{_:()=>q});var o=L(7574);function q(se,de){return new o.y(de?te=>de.schedule(U,0,{error:se,subscriber:te}):te=>te.error(se))}function U({error:se,subscriber:de}){de.error(se)}},8002:(Xe,Te,L)=>{"use strict";L.d(Te,{U:()=>q});var o=L(7393);function q(de,te){return function(W){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new U(de,te))}}class U{constructor(te,Z){this.project=te,this.thisArg=Z}call(te,Z){return Z.subscribe(new se(te,this.project,this.thisArg))}}class se extends o.L{constructor(te,Z,W){super(te),this.project=Z,this.count=0,this.thisArg=W||this}_next(te){let Z;try{Z=this.project.call(this.thisArg,te,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(Z)}}},3282:(Xe,Te,L)=>{"use strict";L.d(Te,{J:()=>U});var o=L(9773),q=L(4487);function U(se=Number.POSITIVE_INFINITY){return(0,o.zg)(q.y,se)}},9773:(Xe,Te,L)=>{"use strict";L.d(Te,{zg:()=>se});var o=L(8002),q=L(4402),U=L(5345);function se(W,z,V=Number.POSITIVE_INFINITY){return"function"==typeof z?Q=>Q.pipe(se((H,X)=>(0,q.D)(W(H,X)).pipe((0,o.U)((ie,Ce)=>z(H,ie,X,Ce))),V)):("number"==typeof z&&(V=z),Q=>Q.lift(new de(W,V)))}class de{constructor(z,V=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=V}call(z,V){return V.subscribe(new te(z,this.project,this.concurrent))}}class te extends U.Ds{constructor(z,V,Q=Number.POSITIVE_INFINITY){super(z),this.project=V,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let V;const Q=this.index++;try{V=this.project(z,Q)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(V)}_innerSub(z){const V=new U.IY(this),Q=this.destination;Q.add(V);const H=(0,U.ft)(z,V);H!==V&&Q.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Xe,Te,L)=>{"use strict";L.d(Te,{QV:()=>U,ht:()=>de});var o=L(7393),q=L(3098);function U(Z,W=0){return function(V){return V.lift(new se(Z,W))}}class se{constructor(W,z=0){this.scheduler=W,this.delay=z}call(W,z){return z.subscribe(new de(W,this.scheduler,this.delay))}}class de extends o.L{constructor(W,z,V=0){super(W),this.scheduler=z,this.delay=V}static dispatch(W){const{notification:z,destination:V}=W;z.observe(V),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new te(W,this.destination)))}_next(W){this.scheduleMessage(q.P.createNext(W))}_error(W){this.scheduleMessage(q.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(q.P.createComplete()),this.unsubscribe()}}class te{constructor(W,z){this.notification=W,this.destination=z}}},1307:(Xe,Te,L)=>{"use strict";L.d(Te,{x:()=>q});var o=L(7393);function q(){return function(te){return te.lift(new U(te))}}class U{constructor(te){this.connectable=te}call(te,Z){const{connectable:W}=this;W._refCount++;const z=new se(te,W),V=Z.subscribe(z);return z.closed||(z.connection=W.connect()),V}}class se extends o.L{constructor(te,Z){super(te),this.connectable=Z}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const Z=te._refCount;if(Z<=0)return void(this.connection=null);if(te._refCount=Z-1,Z>1)return void(this.connection=null);const{connection:W}=this,z=te._connection;this.connection=null,z&&(!W||z===W)&&z.unsubscribe()}}},8819:(Xe,Te,L)=>{"use strict";L.d(Te,{B:()=>Z});var o=L(2441);var se=L(1307),de=L(9765);function te(){return new de.xQ}function Z(){return W=>(0,se.x)()(function(W,z){return function(Q){let H;H="function"==typeof W?W:function(){return W};const X=Object.create(Q,o.N);return X.source=Q,X.subjectFactory=H,X}}(te)(W))}},9673:(Xe,Te,L)=>{"use strict";L.d(Te,{R:()=>de});var o=L(7574),q=L(4581),U=L(6561);class se extends o.y{constructor(W,z=0,V=q.e){super(),this.source=W,this.delayTime=z,this.scheduler=V,(!(0,U.k)(z)||z<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=q.e)}static create(W,z=0,V=q.e){return new se(W,z,V)}static dispatch(W){const{source:z,subscriber:V}=W;return this.add(z.subscribe(V))}_subscribe(W){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function de(Z,W=0){return function(V){return V.lift(new te(Z,W))}}class te{constructor(W,z){this.scheduler=W,this.delay=z}call(W,z){return new se(z,this.delay,this.scheduler).subscribe(W)}}},8307:(Xe,Te,L)=>{"use strict";L.d(Te,{b:()=>se});var o=L(7393),q=L(8640),U=L(9105);function se(Z,W,z){return function(Q){return Q.lift(new de(Z,W,z))}}class de{constructor(W,z,V){this.nextOrObserver=W,this.error=z,this.complete=V}call(W,z){return z.subscribe(new te(W,this.nextOrObserver,this.error,this.complete))}}class te extends o.L{constructor(W,z,V,Q){super(W),this._tapNext=q.Z,this._tapError=q.Z,this._tapComplete=q.Z,this._tapError=V||q.Z,this._tapComplete=Q||q.Z,(0,U.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||q.Z,this._tapError=z.error||q.Z,this._tapComplete=z.complete||q.Z)}_next(W){try{this._tapNext.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Xe,Te,L)=>{"use strict";L.d(Te,{r:()=>U});var o=L(7574),q=L(5319);function U(se,de){return new o.y(te=>{const Z=new q.w;let W=0;return Z.add(de.schedule(function(){W!==se.length?(te.next(se[W++]),te.closed||Z.add(this.schedule())):te.complete()})),Z})}},6465:(Xe,Te,L)=>{"use strict";L.d(Te,{o:()=>U});var o=L(5319);class q extends o.w{constructor(de,te){super()}schedule(de,te=0){return this}}class U extends q{constructor(de,te){super(de,te),this.scheduler=de,this.work=te,this.pending=!1}schedule(de,te=0){if(this.closed)return this;this.state=de;const Z=this.id,W=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(W,Z,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(W,this.id,te),this}requestAsyncId(de,te,Z=0){return setInterval(de.flush.bind(de,this),Z)}recycleAsyncId(de,te,Z=0){if(null!==Z&&this.delay===Z&&!1===this.pending)return te;clearInterval(te)}execute(de,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(de,te);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,te){let W,Z=!1;try{this.work(de)}catch(z){Z=!0,W=!!z&&z||new Error(z)}if(Z)return this.unsubscribe(),W}_unsubscribe(){const de=this.id,te=this.scheduler,Z=te.actions,W=Z.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&Z.splice(W,1),null!=de&&(this.id=this.recycleAsyncId(te,de,null)),this.delay=null}}},6102:(Xe,Te,L)=>{"use strict";L.d(Te,{v:()=>q});let o=(()=>{class U{constructor(de,te=U.now){this.SchedulerAction=de,this.now=te}schedule(de,te=0,Z){return new this.SchedulerAction(this,de).schedule(Z,te)}}return U.now=()=>Date.now(),U})();class q extends o{constructor(se,de=o.now){super(se,()=>q.delegate&&q.delegate!==this?q.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,de=0,te){return q.delegate&&q.delegate!==this?q.delegate.schedule(se,de,te):super.schedule(se,de,te)}flush(se){const{actions:de}=this;if(this.active)return void de.push(se);let te;this.active=!0;do{if(te=se.execute(se.state,se.delay))break}while(se=de.shift());if(this.active=!1,te){for(;se=de.shift();)se.unsubscribe();throw te}}}},4581:(Xe,Te,L)=>{"use strict";L.d(Te,{e:()=>H,E:()=>Q});let o=1;const q=Promise.resolve(),U={};function se(X){return X in U&&(delete U[X],!0)}const de={setImmediate(X){const ie=o++;return U[ie]=!0,q.then(()=>se(ie)&&X()),ie},clearImmediate(X){se(X)}};var Z=L(6465),z=L(6102);const Q=new class extends z.v{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:Ce}=this;let me,Oe=-1,ve=Ce.length;ie=ie||Ce.shift();do{if(me=ie.execute(ie.state,ie.delay))break}while(++Oe<ve&&(ie=Ce.shift()));if(this.active=!1,me){for(;++Oe<ve&&(ie=Ce.shift());)ie.unsubscribe();throw me}}}(class extends Z.o{constructor(ie,Ce){super(ie,Ce),this.scheduler=ie,this.work=Ce}requestAsyncId(ie,Ce,me=0){return null!==me&&me>0?super.requestAsyncId(ie,Ce,me):(ie.actions.push(this),ie.scheduled||(ie.scheduled=de.setImmediate(ie.flush.bind(ie,null))))}recycleAsyncId(ie,Ce,me=0){if(null!==me&&me>0||null===me&&this.delay>0)return super.recycleAsyncId(ie,Ce,me);0===ie.actions.length&&(de.clearImmediate(Ce),ie.scheduled=void 0)}}),H=Q},3637:(Xe,Te,L)=>{"use strict";L.d(Te,{z:()=>U,P:()=>se});var o=L(6465);const U=new(L(6102).v)(o.o),se=U},7771:(Xe,Te,L)=>{"use strict";L.d(Te,{c:()=>te,N:()=>de});var o=L(6465),U=L(6102);const de=new class extends U.v{}(class extends o.o{constructor(W,z){super(W,z),this.scheduler=W,this.work=z}schedule(W,z=0){return z>0?super.schedule(W,z):(this.delay=z,this.state=W,this.scheduler.flush(this),this)}execute(W,z){return z>0||this.closed?super.execute(W,z):this._execute(W,z)}requestAsyncId(W,z,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(W,z,V):W.flush(this)}}),te=de},377:(Xe,Te,L)=>{"use strict";L.d(Te,{hZ:()=>q});const q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Te,L)=>{"use strict";L.d(Te,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Te,L)=>{"use strict";L.d(Te,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Te,L)=>{"use strict";L.d(Te,{N:()=>q});const q=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Xe,Te,L)=>{"use strict";function o(q){setTimeout(()=>{throw q},0)}L.d(Te,{z:()=>o})},4487:(Xe,Te,L)=>{"use strict";function o(q){return q}L.d(Te,{y:()=>o})},9796:(Xe,Te,L)=>{"use strict";L.d(Te,{k:()=>o});const o=Array.isArray||(q=>q&&"number"==typeof q.length)},9489:(Xe,Te,L)=>{"use strict";L.d(Te,{z:()=>o});const o=q=>q&&"number"==typeof q.length&&"function"!=typeof q},9105:(Xe,Te,L)=>{"use strict";function o(q){return"function"==typeof q}L.d(Te,{m:()=>o})},6561:(Xe,Te,L)=>{"use strict";L.d(Te,{k:()=>q});var o=L(9796);function q(U){return!(0,o.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Xe,Te,L)=>{"use strict";function o(q){return null!==q&&"object"==typeof q}L.d(Te,{K:()=>o})},4072:(Xe,Te,L)=>{"use strict";function o(q){return!!q&&"function"!=typeof q.subscribe&&"function"==typeof q.then}L.d(Te,{t:()=>o})},4869:(Xe,Te,L)=>{"use strict";function o(q){return q&&"function"==typeof q.schedule}L.d(Te,{K:()=>o})},8640:(Xe,Te,L)=>{"use strict";function o(){}L.d(Te,{Z:()=>o})},7444:(Xe,Te,L)=>{"use strict";L.d(Te,{s:()=>Q});var o=L(5015),q=L(4449),se=L(377),te=L(6554),W=L(9489),z=L(4072),V=L(1555);const Q=H=>{if(H&&"function"==typeof H[te.L])return(H=>X=>{const ie=H[te.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(X)})(H);if((0,W.z)(H))return(0,o.V)(H);if((0,z.t)(H))return(H=>X=>(H.then(ie=>{X.closed||(X.next(ie),X.complete())},ie=>X.error(ie)).then(null,q.z),X))(H);if(H&&"function"==typeof H[se.hZ])return(H=>X=>{const ie=H[se.hZ]();for(;;){let Ce;try{Ce=ie.next()}catch(me){return X.error(me),X}if(Ce.done){X.complete();break}if(X.next(Ce.value),X.closed)break}return"function"==typeof ie.return&&X.add(()=>{ie.return&&ie.return()}),X})(H);{const ie=`You provided ${(0,V.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Xe,Te,L)=>{"use strict";L.d(Te,{V:()=>o});const o=q=>U=>{for(let se=0,de=q.length;se<de&&!U.closed;se++)U.next(q[se]);U.complete()}},2375:(Xe,Te,L)=>{"use strict";var o=L(7716);let q=null;function U(){return q}const Z=new o.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:z,token:r,providedIn:"platform"}),r})();function z(){return(0,o.LFG)(Q)}const V=new o.OlP("Location Initialized");let Q=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,a){H()?this._history.pushState(n,s,a):this.location.hash=a}replaceState(n,s,a){H()?this._history.replaceState(n,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=(0,o.Yz7)({factory:X,token:r,providedIn:"platform"}),r})();function H(){return!!window.history.pushState}function X(){return new Q((0,o.LFG)(Z))}function ie(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function Ce(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function me(r){return r&&"?"!==r[0]?"?"+r:r}let Oe=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:ve,token:r,providedIn:"root"}),r})();function ve(r){const i=(0,o.LFG)(Z).location;return new st((0,o.LFG)(W),i&&i.origin||"")}const Ie=new o.OlP("appBaseHref");let st=(()=>{class r extends Oe{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ie(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+me(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${s}${a}`:s}pushState(n,s,a,l){const h=this.prepareExternalUrl(a+me(l));this._platformLocation.pushState(n,s,h)}replaceState(n,s,a,l){const h=this.prepareExternalUrl(a+me(l));this._platformLocation.replaceState(n,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(W),o.LFG(Ie,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),mt=(()=>{class r extends Oe{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=ie(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,a,l){let h=this.prepareExternalUrl(a+me(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,s,h)}replaceState(n,s,a,l){let h=this.prepareExternalUrl(a+me(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(W),o.LFG(Ie,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Ut=(()=>{class r{constructor(n,s){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ce(Ae(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+me(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,Ae(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",a=null){this._platformStrategy.pushState(a,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+me(s)),a)}replaceState(n,s="",a=null){this._platformStrategy.replaceState(a,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+me(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(a=>a(n,s))}subscribe(n,s,a){return this._subject.subscribe({next:n,error:s,complete:a})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Oe),o.LFG(W))},r.normalizeQueryParams=me,r.joinWithSlash=ie,r.stripTrailingSlash=Ce,r.\u0275prov=(0,o.Yz7)({factory:Ht,token:r,providedIn:"root"}),r})();function Ht(){return new Ut((0,o.LFG)(Oe),(0,o.LFG)(W))}function Ae(r){return r.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const gs=o.kL8;class sa{}let Qu=(()=>{class r extends sa{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(gs(s||this.locale)(n)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.soG))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Qr{constructor(i,n,s,a){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bt=(()=>{class r{constructor(n,s,a){this._viewContainer=n,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Qr(null,this._ngForOf,-1,-1),null===h?void 0:h),_=new Ku(a,m);s.push(_)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const _=new Ku(a,m);s.push(_)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class Ku{constructor(i,n){this.record=i,this.view=n}}let ht=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new ff,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){oa("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){oa("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class ff{constructor(){this.$implicit=null,this.ngIf=null}}function oa(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,o.AaK)(i)}'.`)}class gl{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Ui=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Jn=(()=>{class r{constructor(n,s,a){this.ngSwitch=a,a._addCase(),this._view=new gl(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ui,9))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),aa=(()=>{class r{constructor(n,s,a){this._ngEl=n,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[a,l]=n.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})(),bi=(()=>{class r{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(n){if(n.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),r})();class SD{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class to{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const lv=new to,tg=new SD;let ng=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,o.QGY)(n))return lv;if((0,o.F4k)(n))return tg;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,o.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO,16))},r.\u0275pipe=o.Yjl({name:"async",type:r,pure:!1}),r})(),Kt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:sa,useClass:Qu}]}),r})();function bc(r){return"browser"===r}function Xr(r){return"server"===r}let yl=(()=>{class r{}return r.\u0275prov=(0,o.Yz7)({token:r,providedIn:"root",factory:()=>new vf((0,o.LFG)(Z),window)}),r})();class vf{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=vc(this.window.history)||vc(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function vc(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class wc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new wc,q||(q=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(la=la||document.querySelector("base"),la?la.getAttribute("href"):null);return null==n?null:function(r){Un=Un||document.createElement("a"),Un.setAttribute("href",r);const i=Un.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[a,l]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}(document.cookie,i)}}let Un,la=null;const Cf=new o.OlP("TRANSITION_ID"),Rr=[{provide:o.ip1,useFactory:function(r,i,n){return()=>{n.get(o.CZH).donePromise.then(()=>{const s=U(),a=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Cf,Z,o.zs3],multi:!0}];class nd{static init(){(0,o.VLi)(new nd)}addToWindow(i){o.dqk.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const m=function(_){h=h||_,l--,0==l&&s(h)};a.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const a=i.getTestability(n);return null!=a?a:s?U().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Cc=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const bl=new o.OlP("EventManagerPlugins");let ke=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(a=>a.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,a){return this._findPluginFor(s).addEventListener(n,s,a)}addGlobalEventListener(n,s,a){return this._findPluginFor(s).addGlobalEventListener(n,s,a)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(n))return this._eventNameToPlugin.set(n,h),h}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(bl),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class an{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const a=U().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${n}`);return this.addEventListener(a,n,s)}}let Tc=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Qn=(()=>{class r extends Tc{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,a){n.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(s.appendChild(h))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(Ec),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(n,a,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ec))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function Ec(r){U().remove(r)}const Fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_s=/%COMP%/g;function Gi(r,i,n){for(let s=0;s<i.length;s++){let a=i[s];Array.isArray(a)?Gi(r,a,n):(a=a.replace(_s,r),n.push(a))}return n}function ts(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Is=(()=>{class r{constructor(n,s,a){this.eventManager=n,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Rs(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new _v(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(n),a}case 1:case o.ifc.ShadowDom:return new Sc(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const a=Gi(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ke),o.LFG(Qn),o.LFG(o.AFp))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Rs{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(Fa[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,a){if(a){n=a+":"+n;const l=Fa[a];l?i.setAttributeNS(l,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const a=Fa[s];a?i.removeAttributeNS(a,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,a){a&(o.JOm.DashCase|o.JOm.Important)?i.style.setProperty(n,s,a&o.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&o.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,ts(s)):this.eventManager.addEventListener(i,n,ts(s))}}class _v extends Rs{constructor(i,n,s,a){super(i),this.component=s;const l=Gi(a+"-"+s.id,s.styles,[]);n.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(_s,a+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(_s,r)}(a+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class Sc extends Rs{constructor(i,n,s,a){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Gi(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Sf=(()=>{class r extends an{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,a){return n.addEventListener(s,a,!1),()=>this.removeEventListener(n,s,a)}removeEventListener(n,s,a){return n.removeEventListener(s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const xc=["alt","control","meta","shift"],PD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wv={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Af=(()=>{class r extends an{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,a){const l=r.parseEventName(s),h=r.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,l.domEventName,h))}static parseEventName(n){const s=n.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=r._normalizeKey(s.pop());let h="";if(xc.forEach(_=>{const D=s.indexOf(_);D>-1&&(s.splice(D,1),h+=_+".")}),h+=l,0!=s.length||0===l.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(n){let s="",a=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&vr.hasOwnProperty(i)&&(i=vr[i]))}return PD[i]||i}(n);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),xc.forEach(l=>{l!=a&&wv[l](n)&&(s+=l+".")}),s+=a,s}static eventCallback(n,s,a){return l=>{r.getEventFullKey(l)===n&&a.runGuarded(()=>s(l))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Ao=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(Ml)},token:r,providedIn:"root"}),r})(),Ml=(()=>{class r extends Ao{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case o.q3G.NONE:return s;case o.q3G.HTML:return(0,o.qzn)(s,"HTML")?(0,o.z3N)(s):(0,o.EiD)(this._doc,String(s)).toString();case o.q3G.STYLE:return(0,o.qzn)(s,"Style")?(0,o.z3N)(s):s;case o.q3G.SCRIPT:if((0,o.qzn)(s,"Script"))return(0,o.z3N)(s);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(s),(0,o.qzn)(s,"URL")?(0,o.z3N)(s):(0,o.mCW)(String(s));case o.q3G.RESOURCE_URL:if((0,o.qzn)(s,"ResourceURL"))return(0,o.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,o.JVY)(n)}bypassSecurityTrustStyle(n){return(0,o.L6k)(n)}bypassSecurityTrustScript(n){return(0,o.eBb)(n)}bypassSecurityTrustUrl(n){return(0,o.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,o.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=(0,o.Yz7)({factory:function(){return function(r){return new Ml(r.get(Z))}((0,o.LFG)(o.gxx))},token:r,providedIn:"root"}),r})();const Ac=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){wc.makeCurrent(),nd.init()},multi:!0},{provide:Z,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),Rf=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:bl,useClass:Sf,multi:!0,deps:[Z,o.R0b,o.Lbi]},{provide:bl,useClass:Af,multi:!0,deps:[Z]},[],{provide:Is,useClass:Is,deps:[ke,Qn,o.AFp]},{provide:o.FYo,useExisting:Is},{provide:Tc,useExisting:Qn},{provide:Qn,useClass:Qn,deps:[Z]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:ke,useClass:ke,deps:[bl,o.R0b]},{provide:class{},useClass:Cc,deps:[]},[]];let mg=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:o.AFp,useValue:n.appId},{provide:Cf,useExisting:o.AFp},Rr]}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(r,12))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:Rf,imports:[Kt,o.hGG]}),r})();"undefined"!=typeof window&&window;var pe=L(9765),xt=L(5319),Ua=L(7971);class ni extends pe.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ua.N;return this._value}next(i){super.next(this._value=i)}}var qe=L(5917);function Hn(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var Zn=L(8307),Ci=L(7393),rs=L(3637);function Hc(r,i=rs.P){return n=>n.lift(new jv(r,i))}class jv{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new qv(i,this.dueTime,this.scheduler))}}class qv extends Ci.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Zv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function Zv(r){r.debouncedNext()}function wt(r,i){return function(s){return s.lift(new fa(r,i))}}class fa{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new T(i,this.predicate,this.thisArg))}}class T extends Ci.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}var b=L(8002);const S=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();var R=L(9193);function P(r){return i=>0===r?(0,R.c)():i.lift(new ue(r))}class ue{constructor(i){if(this.total=i,this.total<0)throw new S}call(i,n){return n.subscribe(new Pe(i,this.total))}}class Pe extends Ci.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function nt(r){return i=>i.lift(new Dt(r))}class Dt{constructor(i){this.total=i}call(i,n){return n.subscribe(new rn(i,this.total))}}class rn extends Ci.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}function bn(r,i){return n=>n.lift(new Ro(r,i))}class Ro{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new pa(i,this.compare,this.keySelector))}}class pa extends Ci.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:a}=this;n=a?a(i):i}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}var ii=L(5345);function Be(r){return i=>i.lift(new vs(r))}class vs{constructor(i){this.notifier=i}call(i,n){const s=new Al(i),a=(0,ii.ft)(this.notifier,new ii.IY(s));return a&&!s.seenValue?(s.add(a),n.subscribe(s)):s}}class Al extends ii.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function xe(r){return null!=r&&"false"!=`${r}`}function qt(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function Gc(r){return Array.isArray(r)?r:[r]}function di(r){return null==r?"":"string"==typeof r?r:`${r}px`}function ri(r){return r instanceof o.SBq?r.nativeElement:r}let ja;try{ja="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){ja=!1}let jf,kt=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?bc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ja)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.Lbi))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.Lbi))},token:r,providedIn:"root"}),r})(),Yf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const zv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function iM(){if(jf)return jf;if("object"!=typeof document||!document)return jf=new Set(zv),jf;let r=document.createElement("input");return jf=new Set(zv.filter(i=>(r.setAttribute("type",i),r.type===i))),jf}let qf,Zf,ma,Wv;function Oo(r){return function(){if(null==qf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qf=!0}))}finally{qf=qf||!1}return qf}()?r:!!r.capture}function $v(){if(null==ma){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ma=!1,ma;if("scrollBehavior"in document.documentElement.style)ma=!0;else{const r=Element.prototype.scrollTo;ma=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ma}function Yc(){if("object"!=typeof document||!document)return 0;if(null==Zf){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),Zf=0,0===r.scrollLeft&&(r.scrollLeft=1,Zf=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return Zf}function Pg(r){if(function(){if(null==Wv){const r="undefined"!=typeof document?document.head:null;Wv=!(!r||!r.createShadowRoot&&!r.attachShadow)}return Wv}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function qa(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function ws(r){return r.composedPath?r.composedPath()[0]:r.target}var An=L(7574);let Jv=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),rM=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=ri(n);return new An.y(a=>{const h=this._observeElement(s).subscribe(a);return()=>{h.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new pe.xQ,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:a,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:a}=this._observedElements.get(n);s&&s.disconnect(),a.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Jv))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Jv))},token:r,providedIn:"root"}),r})(),zf=(()=>{class r{constructor(n,s,a){this._contentObserver=n,this._elementRef=s,this._ngZone=a,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=xe(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=qt(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(Hc(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(rM),o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),$f=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Jv]}),r})();class jc extends class{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pe.xQ,this._typeaheadSubscription=xt.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new pe.xQ,this.change=new pe.xQ,i instanceof o.n_E&&i.changes.subscribe(n=>{if(this._activeItem){const a=n.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Zn.b)(n=>this._pressedLetters.push(n)),Hc(i),wt(()=>this._pressedLetters.length>0),(0,b.U)(()=>this._pressedLetters.join(""))).subscribe(n=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,h=s[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const n=this._activeItem;this.updateActiveItem(i),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(i){const n=i.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!i[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||Hn(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const n=this._getItemsArray(),s="number"==typeof i?i:n.indexOf(i),a=n[s];this._activeItem=null==a?null:a,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const n=this._getItemsArray();for(let s=1;s<=n.length;s++){const a=(this._activeItemIndex+i*s+n.length)%n.length;if(!this._skipPredicateFn(n[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,n){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=n])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let Xv=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===t0(s)||!this.isVisible(s)))return!1;let a=n.nodeName.toLowerCase(),l=t0(n);return n.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===a?!!n.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||zk(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(kt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(kt))},token:r,providedIn:"root"}),r})();function zk(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function t0(r){if(!zk(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class Rd{constructor(i,n,s,a,l=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let a=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let a=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(P(1)).subscribe(i)}}let Bg=(()=>{class r{constructor(n,s,a){this._checker=n,this._ngZone=s,this._document=a}create(n,s=!1){return new Rd(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Xv),o.LFG(o.R0b),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Xv),o.LFG(o.R0b),o.LFG(Z))},token:r,providedIn:"root"}),r})();function n0(r){return 0===r.offsetX&&0===r.offsetY}function Qf(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const hM=new o.OlP("cdk-input-modality-detector-options"),Xk={ignoreKeys:[18,17,224,91,16]},No=Oo({passive:!0,capture:!0});let Po=(()=>{class r{constructor(n,s,a,l){this._platform=n,this._mostRecentTarget=null,this._modality=new ni(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,_;(null===(_=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===_?void 0:_.some(D=>D===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ws(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(n0(h)?"keyboard":"mouse"),this._mostRecentTarget=ws(h))},this._onTouchstart=h=>{Qf(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ws(h))},this._options=Object.assign(Object.assign({},Xk),l),this.modalityDetected=this._modality.pipe(nt(1)),this.modalityChanged=this.modalityDetected.pipe(bn()),n.isBrowser&&s.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,No),a.addEventListener("mousedown",this._onMousedown,No),a.addEventListener("touchstart",this._onTouchstart,No)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,No),document.removeEventListener("mousedown",this._onMousedown,No),document.removeEventListener("touchstart",this._onTouchstart,No))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(kt),o.LFG(o.R0b),o.LFG(Z),o.LFG(hM,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(kt),o.LFG(o.R0b),o.LFG(Z),o.LFG(hM,8))},token:r,providedIn:"root"}),r})();const Ug=new o.OlP("cdk-focus-monitor-default-options"),Od=Oo({passive:!0,capture:!0});let Xn=(()=>{class r{constructor(n,s,a,l,h){this._ngZone=n,this._platform=s,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe.xQ,this._rootNodeFocusAndBlurListener=m=>{const _=ws(m),D="focus"===m.type?this._onFocus:this._onBlur;for(let M=_;M;M=M.parentElement)D.call(this,m,M)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(n,s=!1){const a=ri(n);if(!this._platform.isBrowser||1!==a.nodeType)return(0,qe.of)(null);const l=Pg(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return s&&(h.checkChildren=!0),h.subject;const m={checkChildren:s,subject:new pe.xQ,rootNode:l};return this._elementInfo.set(a,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(n){const s=ri(n),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(n,s,a){const l=ri(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,_])=>this._originChanged(m,s,_)):(this._setOrigin(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,a){a?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const a=this._elementInfo.get(s),l=ws(n);!a||!a.checkChildren&&s!==l||this._originChanged(s,this._getFocusOrigin(l),a)}_onBlur(n,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(a.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Od),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Od)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Be(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Od),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Od),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,a){this._setClasses(n,s),this._emitOrigin(a.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((a,l)=>{(l===n||a.checkChildren&&l.contains(n))&&s.push([l,a])}),s}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(kt),o.LFG(Po),o.LFG(Z,8),o.LFG(Ug,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(kt),o.LFG(Po),o.LFG(Z,8),o.LFG(Ug,8))},token:r,providedIn:"root"}),r})(),Hg=(()=>{class r{constructor(n,s){this._elementRef=n,this._focusMonitor=s,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,1===n.nodeType&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Xn))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const Nd="cdk-high-contrast-black-on-white",s0="cdk-high-contrast-white-on-black",Gg="cdk-high-contrast-active";let Yg=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(n):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Gg),n.remove(Nd),n.remove(s0),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(Gg),n.add(Nd)):2===s&&(n.add(Gg),n.add(s0))}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(kt),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(kt),o.LFG(Z))},token:r,providedIn:"root"}),r})(),qc=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Yg))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Yf,$f]]}),r})(),iI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();var Il=L(9796),rI=L(9105);function On(r,i,n,s){return(0,rI.m)(n)&&(s=n,n=void 0),s?On(r,i,n).pipe((0,b.U)(a=>(0,Il.k)(a)?s(...a):s(a))):new An.y(a=>{mM(r,i,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,n)})}function mM(r,i,n,s,a){let l;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const h=r;r.addEventListener(i,n,a),l=()=>h.removeEventListener(i,n,a)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const h=r;r.on(i,n),l=()=>h.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const h=r;r.addListener(i,n),l=()=>h.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let h=0,m=r.length;h<m;h++)mM(r[h],i,n,s,a)}s.add(l)}var a0=L(6465),l0=L(6102);const yM=new class extends l0.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,a=-1,l=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++a<l&&(i=n.shift()));if(this.active=!1,s){for(;++a<l&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends a0.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});L(4581);class vM{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new cI(i,this.durationSelector))}}class cI extends ii.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:a}=this;n=a(i)}catch(a){return this.destination.error(a)}const s=(0,ii.ft)(n,new ii.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Pd=L(6561),qg=L(4869);function Xf(r=0,i,n){let s=-1;return(0,Pd.k)(i)?s=Number(i)<1?1:Number(i):(0,qg.K)(i)&&(n=i),(0,qg.K)(n)||(n=rs.P),new An.y(a=>{const l=(0,Pd.k)(r)?r:+r-n.now();return n.schedule(wM,l,{index:0,period:s,subscriber:a})})}function wM(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function ep(r,i=rs.P){return function(r){return function(n){return n.lift(new vM(r))}}(()=>Xf(r,i))}var Fd=L(3282);function Rl(...r){return(0,Fd.J)(1)((0,qe.of)(...r))}function $t(...r){const i=r[r.length-1];return(0,qg.K)(i)?(r.pop(),n=>Rl(r,n,i)):n=>Rl(r,n)}function tp(){return r=>r.lift(new c0)}class c0{call(i,n){return n.subscribe(new DM(i))}}class DM extends Ci.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}var Ln=L(4402);function pn(r,i){return"function"==typeof i?n=>n.pipe(pn((s,a)=>(0,Ln.D)(r(s,a)).pipe((0,b.U)((l,h)=>i(s,l,a,h))))):n=>n.lift(new uI(r))}class uI{constructor(i){this.project=i}call(i,n){return n.subscribe(new MM(i,this.project))}}class MM extends ii.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(a){return void this.destination.error(a)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new ii.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,ii.ft)(i,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var dI=L(7771),np=L(9746),TM=L(8858);class u0 extends pe.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new EM(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let h;if(this.closed)throw new Ua.N;if(this.isStopped||this.hasError?h=xt.w.EMPTY:(this.observers.push(i),h=new TM.W(this,i)),a&&i.add(i=new np.ht(i,a)),n)for(let m=0;m<l&&!i.closed;m++)i.next(s[m]);else for(let m=0;m<l&&!i.closed;m++)i.next(s[m].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),h}_getNow(){return(this.scheduler||dI.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(i-a[h].time<s);)h++;return l>n&&(h=Math.max(h,l-n)),h>0&&a.splice(0,h),a}}class EM{constructor(i,n){this.time=i,this.value=n}}function Ol(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},a=>a.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let a,h,l=0,m=!1,_=!1;return function(M){let A;l++,!a||m?(m=!1,a=new u0(r,i,s),A=a.subscribe(this),h=M.subscribe({next(I){a.next(I)},error(I){m=!0,a.error(I)},complete(){_=!0,h=void 0,a.complete()}}),_&&(h=void 0)):A=a.subscribe(this),this.add(()=>{l--,A.unsubscribe(),A=void 0,h&&!_&&n&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}const xM=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(Z)}});let mn=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new o.vpe,n){const a=n.documentElement?n.documentElement.dir:null,l=(n.body?n.body.dir:null)||a;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(xM,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(xM,8))},token:r,providedIn:"root"}),r})(),Pr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();function Ld(r){return r&&"function"==typeof r.connect}class kM{applyChanges(i,n,s,a,l){i.forEachOperation((h,m,_)=>{let D,M;if(null==h.previousIndex){const A=s(h,m,_);D=n.createEmbeddedView(A.templateRef,A.context,A.index),M=1}else null==_?(n.remove(m),M=3):(D=n.get(m),n.move(D,_),M=2);l&&l({context:null==D?void 0:D.context,operation:M,record:h})})}detach(){}}const Zc=new o.OlP("_ViewRepeater");let Za=(()=>{class r{constructor(n,s,a){this._ngZone=n,this._platform=s,this._scrolled=new pe.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new An.y(s=>{this._globalSubscription||this._addGlobalListener();const a=n>0?this._scrolled.pipe(ep(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,qe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const a=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(wt(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,n)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let a=ri(s),l=n.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>On(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(kt),o.LFG(Z,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(kt),o.LFG(Z,8))},token:r,providedIn:"root"}),r})(),Nl=(()=>{class r{constructor(n,s,a,l){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new pe.xQ,this._elementScrolled=new An.y(h=>this.ngZone.runOutsideAngular(()=>On(this.elementRef.nativeElement,"scroll").pipe(Be(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),a&&0!=Yc()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==Yc()?n.left=n.right:1==Yc()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;$v()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==n)return l.scrollTop;if("bottom"==n)return l.scrollHeight-l.clientHeight-l.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==n?n=h?a:s:"end"==n&&(n=h?s:a),h&&2==Yc()?n==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:h&&1==Yc()?n==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:n==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Za),o.Y36(o.R0b),o.Y36(mn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),ir=(()=>{class r{constructor(n,s,a){this._platform=n,this._change=new pe.xQ,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+a,right:n.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),a=n.documentElement,l=a.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||n.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(ep(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(kt),o.LFG(o.R0b),o.LFG(Z,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(kt),o.LFG(o.R0b),o.LFG(Z,8))},token:r,providedIn:"root"}),r})(),rr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),zc=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Pr,Yf,rr],Pr,rr]}),r})();function m0(r){const{subscriber:i,counter:n,period:s}=r;i.next(n),this.schedule({subscriber:i,counter:n+1,period:s},s)}var kn=L(6682);function g0(r,i,n){for(let s in i)if(i.hasOwnProperty(s)){const a=i[s];a?r.setProperty(s,a,(null==n?void 0:n.has(s))?"important":""):r.removeProperty(s)}return r}function $c(r,i){const n=i?"":"none";g0(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function gI(r,i,n){g0(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},n)}function Wg(r,i){return i&&"none"!=i?r+" "+i:r}function _I(r){const i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i}function Jg(r,i){return r.getPropertyValue(i).split(",").map(s=>s.trim())}function _0(r){const i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}function rp(r,i,n){const{top:s,bottom:a,left:l,right:h}=r;return n>=s&&n<=a&&i>=l&&i<=h}function Qg(r,i,n){r.top+=i,r.bottom=r.top+r.height,r.left+=n,r.right=r.left+r.width}function yI(r,i,n,s){const{top:a,right:l,bottom:h,left:m,width:_,height:D}=r,M=_*i,A=D*i;return s>a-A&&s<h+A&&n>m-M&&n<l+M}class bI{constructor(i,n){this._document=i,this._viewportRuler=n,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),i.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:_0(n)})})}handleScroll(i){const n=ws(i),s=this.positions.get(n);if(!s)return null;const a=n===this._document?n.documentElement:n,l=s.scrollPosition;let h,m;if(n===this._document){const M=this._viewportRuler.getViewportScrollPosition();h=M.top,m=M.left}else h=n.scrollTop,m=n.scrollLeft;const _=l.top-h,D=l.left-m;return this.positions.forEach((M,A)=>{M.clientRect&&n!==A&&a.contains(A)&&Qg(M.clientRect,_,D)}),l.top=h,l.left=m,{top:_,left:D}}}function vI(r){const i=r.cloneNode(!0),n=i.querySelectorAll("[id]"),s=r.nodeName.toLowerCase();i.removeAttribute("id");for(let a=0;a<n.length;a++)n[a].removeAttribute("id");return"canvas"===s?DI(r,i):("input"===s||"select"===s||"textarea"===s)&&CI(r,i),wI("canvas",r,i,DI),wI("input, textarea, select",r,i,CI),i}function wI(r,i,n,s){const a=i.querySelectorAll(r);if(a.length){const l=n.querySelectorAll(r);for(let h=0;h<a.length;h++)s(a[h],l[h])}}let kB=0;function CI(r,i){"file"!==i.type&&(i.value=r.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${kB++}`)}function DI(r,i){const n=i.getContext("2d");if(n)try{n.drawImage(r,0,0)}catch(s){}}const MI=Oo({passive:!0}),TI=Oo({passive:!1}),ya=new Set(["position"]);class y0{constructor(i,n,s,a,l,h){this._config=n,this._document=s,this._ngZone=a,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new pe.xQ,this._pointerMoveSubscription=xt.w.EMPTY,this._pointerUpSubscription=xt.w.EMPTY,this._scrollSubscription=xt.w.EMPTY,this._resizeSubscription=xt.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new pe.xQ,this.started=new pe.xQ,this.released=new pe.xQ,this.ended=new pe.xQ,this.entered=new pe.xQ,this.exited=new pe.xQ,this.dropped=new pe.xQ,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const _=this._handles.find(D=>{const M=ws(m);return!!M&&(M===D||D.contains(M))});_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const _=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const O=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),B=this._dropContainer;if(!O)return void this._endDragSequence(m);(!B||!B.isDragging()&&!B.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),m.preventDefault();const D=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(D),this._dropContainer)this._updateActiveDropContainer(D,_);else{const M=this._activeTransform;M.x=D.x-this._pickupPositionOnPage.x+this._passiveTransform.x,M.y=D.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(M.x,M.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${M.x} ${M.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:D,event:m,distance:this._getDragDistance(D),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this.withRootElement(i).withParent(n.parentDragRef||null),this._parentPositions=new bI(s,l),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const n=xe(i);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(s=>$c(s,n)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(s=>ri(s)),this._handles.forEach(s=>$c(s,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&n.add(s)}),this._disabledHandles=n,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const n=ri(i);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,TI),n.addEventListener("touchstart",this._pointerDown,MI)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?ri(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Bd(this._rootElement),Bd(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),$c(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),$c(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Bd(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Bd(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Vd(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const s=this._rootElement,a=s.parentNode,l=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();a.insertBefore(h,s),this._initialTransform=s.style.transform||"",this._preview=this._createPreviewElement(),gI(s,!1,ya),this._document.body.appendChild(a.replaceChild(l,s)),this._getPreviewInsertionPoint(a,m).appendChild(this._preview),this.started.next({source:this}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,n){this._parentDragRef&&n.stopPropagation();const s=this.isDragging(),a=Vd(n),l=!a&&0!==n.button,h=this._rootElement,m=ws(n),_=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),D=a?Qf(n):n0(n);if(m&&m.draggable&&"mousedown"===n.type&&n.preventDefault(),s||l||_||D)return;this._handles.length&&(this._rootElementTapHighlight=h.style.webkitTapHighlightColor||"",h.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(I=>this._updateOnScroll(I)),this._boundaryElement&&(this._boundaryRect=_0(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,n);const A=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:A.x,y:A.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(i){gI(this._rootElement,!0,ya),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,s=n.getItemIndex(this),a=this._getPointerPositionOnPage(i),l=this._getDragDistance(a),h=n._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:l,dropPoint:a}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:a}),n.drop(this,s,this._initialIndex,this._initialContainer,h,l,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:n},{x:s,y:a}){let l=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,i,n,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,a),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,n=this.previewClass,s=i?i.template:null;let a;if(s&&i){const l=i.matchSize?this._rootElement.getBoundingClientRect():null,h=i.viewContainer.createEmbeddedView(s,i.context);h.detectChanges(),a=Xg(h,this._document),this._previewRef=h,i.matchSize?PM(a,l):a.style.transform=Kg(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const l=this._rootElement;a=vI(l),PM(a,l.getBoundingClientRect()),this._initialTransform&&(a.style.transform=this._initialTransform)}return g0(a.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ya),$c(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(l=>a.classList.add(l)):a.classList.add(n)),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const n=function(r){const i=getComputedStyle(r),n=Jg(i,"transition-property"),s=n.find(m=>"transform"===m||"all"===m);if(!s)return 0;const a=n.indexOf(s),l=Jg(i,"transition-duration"),h=Jg(i,"transition-delay");return _I(l[a])+_I(h[a])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{const a=h=>{(!h||ws(h)===this._preview&&"transform"===h.propertyName)&&(this._preview.removeEventListener("transitionend",a),s(),clearTimeout(l))},l=setTimeout(a,1.5*n);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,n=i?i.template:null;let s;return n?(this._placeholderRef=i.viewContainer.createEmbeddedView(n,i.context),this._placeholderRef.detectChanges(),s=Xg(this._placeholderRef,this._document)):s=vI(this._rootElement),s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(i,n){const s=this._rootElement.getBoundingClientRect(),a=i===this._rootElement?null:i,l=a?a.getBoundingClientRect():s,h=Vd(n)?n.targetTouches[0]:n,m=this._getViewportScrollPosition();return{x:l.left-s.left+(h.pageX-l.left-m.left),y:l.top-s.top+(h.pageY-l.top-m.top)}}_getPointerPositionOnPage(i){const n=this._getViewportScrollPosition(),s=Vd(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,a=s.pageX-n.left,l=s.pageY-n.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const m=this._ownerSVGElement.createSVGPoint();return m.x=a,m.y=l,m.matrixTransform(h.inverse())}}return{x:a,y:l}}_getConstrainedPointerPosition(i){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:s,y:a}=this.constrainPosition?this.constrainPosition(i,this):i;if("x"===this.lockAxis||"x"===n?a=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===n)&&(s=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:h}=this._pickupPositionInElement,m=this._boundaryRect,_=this._previewRect,D=m.top+h,M=m.bottom-(_.height-h);s=b0(s,m.left+l,m.right-(_.width-l)),a=b0(a,D,M)}return{x:s,y:a}}_updatePointerDirectionDelta(i){const{x:n,y:s}=i,a=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(n-l.x),m=Math.abs(s-l.y);return h>this._config.pointerDirectionChangeThreshold&&(a.x=n>l.x?1:-1,l.x=n),m>this._config.pointerDirectionChangeThreshold&&(a.y=s>l.y?1:-1,l.y=s),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,$c(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,TI),i.removeEventListener("touchstart",this._pointerDown,MI)}_applyRootElementTransform(i,n){const s=Kg(i,n);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Wg(s,this._initialTransform)}_applyPreviewTransform(i,n){var s;const a=(null===(s=this._previewTemplate)||void 0===s?void 0:s.template)?void 0:this._initialTransform,l=Kg(i,n);this._preview.style.transform=Wg(l,a)}_getDragDistance(i){const n=this._pickupPositionOnPage;return n?{x:i.x-n.x,y:i.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:n}=this._passiveTransform;if(0===i&&0===n||this.isDragging()||!this._boundaryElement)return;const s=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===a.width&&0===a.height)return;const l=s.left-a.left,h=a.right-s.right,m=s.top-a.top,_=a.bottom-s.bottom;s.width>a.width?(l>0&&(i+=l),h>0&&(i-=h)):i=0,s.height>a.height?(m>0&&(n+=m),_>0&&(n-=_)):n=0,(i!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:i})}_getDragStartDelay(i){const n=this.dragStartDelay;return"number"==typeof n?n:Vd(i)?n.touch:n?n.mouse:0}_updateOnScroll(i){const n=this._parentPositions.handleScroll(i);if(n){const s=ws(i);this._boundaryRect&&(s===this._document||s!==this._boundaryElement&&s.contains(this._boundaryElement))&&Qg(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const i=this._parentPositions.positions.get(this._document);return i?i.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Pg(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,n){const s=this._previewContainer||"global";if("parent"===s)return i;if("global"===s){const a=this._document;return n||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return ri(s)}}function Kg(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`}function b0(r,i,n){return Math.max(i,Math.min(n,r))}function Bd(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Vd(r){return"t"===r.type[0]}function Xg(r,i){const n=r.rootNodes;if(1===n.length&&n[0].nodeType===i.ELEMENT_NODE)return n[0];const s=i.createElement("div");return n.forEach(a=>s.appendChild(a)),s}function PM(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=Kg(i.left,i.top)}function e_(r,i){return Math.max(0,Math.min(i,r))}class LM{constructor(i,n,s,a,l){this._dragDropRegistry=n,this._ngZone=a,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new pe.xQ,this.entered=new pe.xQ,this.exited=new pe.xQ,this.dropped=new pe.xQ,this.sorted=new pe.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=xt.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new pe.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(r=0,i=rs.P){return(!(0,Pd.k)(r)||r<0)&&(r=0),(!i||"function"!=typeof i.schedule)&&(i=rs.P),new An.y(n=>(n.add(i.schedule(m0,r,{subscriber:n,counter:0,period:r})),n))}(0,yM).pipe(Be(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?BM(h,-m):2===this._verticalScrollDirection&&BM(h,m),1===this._horizontalScrollDirection?Ud(h,-m):2===this._horizontalScrollDirection&&Ud(h,m)})},this.element=ri(i),this._document=s,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new bI(s,l)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,n,s,a){let l;this._draggingStarted(),null==a?(l=this.sortingDisabled?this._draggables.indexOf(i):-1,-1===l&&(l=this._getItemIndexFromPointerPosition(i,n,s))):l=a;const h=this._activeDraggables,m=h.indexOf(i),_=i.getPlaceholderElement();let D=h[l];if(D===i&&(D=h[l+1]),m>-1&&h.splice(m,1),D&&!this._dragDropRegistry.isDragging(D)){const M=D.getRootElement();M.parentElement.insertBefore(_,M),h.splice(l,0,i)}else if(this._shouldEnterAsFirstChild(n,s)){const M=h[0].getRootElement();M.parentNode.insertBefore(_,M),h.unshift(i)}else ri(this.element).appendChild(_),h.push(i);_.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,n,s,a,l,h,m){this._reset(),this.dropped.next({item:i,currentIndex:n,previousIndex:s,container:this,previousContainer:a,isPointerOverContainer:l,distance:h,dropPoint:m})}withItems(i){const n=this._draggables;return this._draggables=i,i.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(n.filter(a=>a.isDragging()).every(a=>-1===i.indexOf(a))?this._reset():this._cacheItems()),this}withDirection(i){return this._direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._orientation=i,this}withScrollableParents(i){const n=ri(this.element);return this._scrollableElements=-1===i.indexOf(n)?[n,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?v0("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,s=>s.drag===i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,n,s,a){if(this.sortingDisabled||!this._clientRect||!yI(this._clientRect,.05,n,s))return;const l=this._itemPositions,h=this._getItemIndexFromPointerPosition(i,n,s,a);if(-1===h&&l.length>0)return;const m="horizontal"===this._orientation,_=v0(l,le=>le.drag===i),D=l[h],A=D.clientRect,I=_>h?1:-1,O=this._getItemOffsetPx(l[_].clientRect,A,I),B=this._getSiblingOffsetPx(_,l,I),$=l.slice();(function(r,i,n){const s=e_(i,r.length-1),a=e_(n,r.length-1);if(s===a)return;const l=r[s],h=a<s?-1:1;for(let m=s;m!==a;m+=h)r[m]=r[m+h];r[a]=l})(l,_,h),this.sorted.next({previousIndex:_,currentIndex:h,container:this,item:i}),l.forEach((le,Re)=>{if($[Re]===le)return;const Ve=le.drag===i,He=Ve?O:B,Qe=Ve?i.getPlaceholderElement():le.drag.getRootElement();le.offset+=He,m?(Qe.style.transform=Wg(`translate3d(${Math.round(le.offset)}px, 0, 0)`,le.initialTransform),Qg(le.clientRect,0,He)):(Qe.style.transform=Wg(`translate3d(0, ${Math.round(le.offset)}px, 0)`,le.initialTransform),Qg(le.clientRect,He,0))}),this._previousSwap.overlaps=rp(A,n,s),this._previousSwap.drag=D.drag,this._previousSwap.delta=m?a.x:a.y}_startScrollingIfNecessary(i,n){if(this.autoScrollDisabled)return;let s,a=0,l=0;if(this._parentPositions.positions.forEach((h,m)=>{m===this._document||!h.clientRect||s||yI(h.clientRect,.05,i,n)&&([a,l]=function(r,i,n,s){const a=Wc(i,s),l=n_(i,n);let h=0,m=0;if(a){const _=r.scrollTop;1===a?_>0&&(h=1):r.scrollHeight-_>r.clientHeight&&(h=2)}if(l){const _=r.scrollLeft;1===l?_>0&&(m=1):r.scrollWidth-_>r.clientWidth&&(m=2)}return[h,m]}(m,h.clientRect,i,n),(a||l)&&(s=m))}),!a&&!l){const{width:h,height:m}=this._viewportRuler.getViewportSize(),_={width:h,height:m,top:0,right:h,bottom:m,left:0};a=Wc(_,n),l=n_(_,i),s=window}s&&(a!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=l,this._scrollNode=s,(a||l)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=ri(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=ri(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_cacheItemPositions(){const i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(n=>{const s=n.getVisibleElement();return{drag:n,offset:0,initialTransform:s.style.transform||"",clientRect:_0(s)}}).sort((n,s)=>i?n.clientRect.left-s.clientRect.left:n.clientRect.top-s.clientRect.top)}_reset(){this._isDragging=!1;const i=ri(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(n=>{var s;const a=n.getRootElement();if(a){const l=null===(s=this._itemPositions.find(h=>h.drag===n))||void 0===s?void 0:s.initialTransform;a.style.transform=l||""}}),this._siblings.forEach(n=>n._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(i,n,s){const a="horizontal"===this._orientation,l=n[i].clientRect,h=n[i+-1*s];let m=l[a?"width":"height"]*s;if(h){const _=a?"left":"top",D=a?"right":"bottom";-1===s?m-=h.clientRect[_]-l[D]:m+=l[_]-h.clientRect[D]}return m}_getItemOffsetPx(i,n,s){const a="horizontal"===this._orientation;let l=a?n.left-i.left:n.top-i.top;return-1===s&&(l+=a?n.width-i.width:n.height-i.height),l}_shouldEnterAsFirstChild(i,n){if(!this._activeDraggables.length)return!1;const s=this._itemPositions,a="horizontal"===this._orientation;if(s[0].drag!==this._activeDraggables[0]){const h=s[s.length-1].clientRect;return a?i>=h.right:n>=h.bottom}{const h=s[0].clientRect;return a?i<=h.left:n<=h.top}}_getItemIndexFromPointerPosition(i,n,s,a){const l="horizontal"===this._orientation,h=v0(this._itemPositions,({drag:m,clientRect:_},D,M)=>{if(m===i)return M.length<2;if(a){const A=l?a.x:a.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&A===this._previousSwap.delta)return!1}return l?n>=Math.floor(_.left)&&n<Math.floor(_.right):s>=Math.floor(_.top)&&s<Math.floor(_.bottom)});return-1!==h&&this.sortPredicate(h,i,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(i,n){return null!=this._clientRect&&rp(this._clientRect,i,n)}_getSiblingContainerFromPosition(i,n,s){return this._siblings.find(a=>a._canReceive(i,n,s))}_canReceive(i,n,s){if(!this._clientRect||!rp(this._clientRect,n,s)||!this.enterPredicate(i,this))return!1;const a=this._getShadowRoot().elementFromPoint(n,s);if(!a)return!1;const l=ri(this.element);return a===l||l.contains(a)}_startReceiving(i,n){const s=this._activeSiblings;!s.has(i)&&n.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(s.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(i);n&&(this._itemPositions.forEach(({clientRect:s})=>{Qg(s,n.top,n.left)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=Pg(ri(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._activeDraggables.filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,i))}}function v0(r,i){for(let n=0;n<r.length;n++)if(i(r[n],n,r))return n;return-1}function BM(r,i){r===window?r.scrollBy(0,i):r.scrollTop+=i}function Ud(r,i){r===window?r.scrollBy(i,0):r.scrollLeft+=i}function Wc(r,i){const{top:n,bottom:s,height:a}=r,l=.05*a;return i>=n-l&&i<=n+l?1:i>=s-l&&i<=s+l?2:0}function n_(r,i){const{left:n,right:s,width:a}=r,l=.05*a;return i>=n-l&&i<=n+l?1:i>=s-l&&i<=s+l?2:0}const Fl=Oo({passive:!1,capture:!0});let Jc=(()=>{class r{constructor(n,s){this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new pe.xQ,this.pointerUp=new pe.xQ,this.scroll=new pe.xQ,this._preventDefaultWhileDragging=a=>{this._activeDragInstances.length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=s}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Fl)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Fl)}startDragging(n,s){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._activeDragInstances.push(n),1===this._activeDragInstances.length)){const a=s.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Fl}),a||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:Fl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(n){const s=this._activeDragInstances.indexOf(n);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){const s=[this.scroll];return n&&n!==this._document&&s.push(new An.y(a=>this._ngZone.runOutsideAngular(()=>{const h=m=>{this._activeDragInstances.length&&a.next(m)};return n.addEventListener("scroll",h,!0),()=>{n.removeEventListener("scroll",h,!0)}}))),(0,kn.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,s)=>{this._document.removeEventListener(s,n.handler,n.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(Z))},token:r,providedIn:"root"}),r})();const SI={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let i_=(()=>{class r{constructor(n,s,a,l){this._document=n,this._ngZone=s,this._viewportRuler=a,this._dragDropRegistry=l}createDrag(n,s=SI){return new y0(n,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new LM(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(o.R0b),o.LFG(ir),o.LFG(Jc))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z),o.LFG(o.R0b),o.LFG(ir),o.LFG(Jc))},token:r,providedIn:"root"}),r})(),LB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[i_],imports:[rr]}),r})();class T0{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Gd extends T0{constructor(i,n,s,a){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=a}}class so extends T0{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class NI extends T0{constructor(i){super(),this.element=i instanceof o.SBq?i.nativeElement:i}}class Yd{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Gd?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof so?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof NI?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class GM extends Yd{constructor(i,n,s,a,l){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=h=>{const m=h.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=l}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=n.indexOf(s);-1!==a&&n.remove(a)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let si=(()=>{class r extends Yd{constructor(n,s,a){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=a}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,l=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),h=s.createComponent(l,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=n,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Z))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),r})(),$a=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),a_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Pr]]}),r})();const WM=[[["caption"]],[["colgroup"],["col"]]],BI=["caption","colgroup, col"];function JM(r){return class extends r{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const n=this._sticky;this._sticky=xe(i),this._hasStickyChanged=n!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const qd=new o.OlP("CDK_TABLE");let Qc=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),Kc=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),op=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class KM{}const Ja=JM(KM);let oo=(()=>{class r extends Ja{constructor(n){super(),this._table=n,this._stickyEnd=!1}get name(){return this._name}set name(n){this._setNameInput(n)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){const s=this._stickyEnd;this._stickyEnd=xe(n),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(qd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,Qc,5),o.Suo(a,Kc,5),o.Suo(a,op,5)),2&n){let l;o.iGM(l=o.CRH())&&(s.cell=l.first),o.iGM(l=o.CRH())&&(s.headerCell=l.first),o.iGM(l=o.CRH())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),o.qOj]}),r})();class x0{constructor(i,n){const s=n.nativeElement.classList;for(const a of i._columnCssClassName)s.add(a)}}let A0=(()=>{class r extends x0{constructor(n,s){super(n,s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(oo),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),r})(),Bl=(()=>{class r extends x0{constructor(n,s){var a;if(super(n,s),1===(null===(a=n._table)||void 0===a?void 0:a._elementRef.nativeElement.nodeType)){const l=n._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(oo),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),r})();class k0{constructor(){this.tasks=[],this.endTasks=[]}}const Xc=new o.OlP("_COALESCED_STYLE_SCHEDULER");let Zd=(()=>{class r{constructor(n){this._ngZone=n,this._currentSchedule=null,this._destroyed=new pe.xQ}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new k0,this._getScheduleObservable().pipe(Be(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const n=this._currentSchedule;this._currentSchedule=new k0;for(const s of n.tasks)s();for(const s of n.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ln.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(P(1))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),ap=(()=>{class r{constructor(n,s){this.template=n,this._differs=s}ngOnChanges(n){if(!this._columnsDiffer){const s=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof zd?n.headerCell.template:this instanceof lp?n.footerCell.template:n.cell.template}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},r.\u0275dir=o.lG2({type:r,features:[o.TTD]}),r})();class XM extends ap{}const HI=JM(XM);let zd=(()=>{class r extends HI{constructor(n,s,a){super(n,s),this._table=a}ngOnChanges(n){super.ngOnChanges(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),r})();class GI extends ap{}const I0=JM(GI);let lp=(()=>{class r extends I0{constructor(n,s,a){super(n,s),this._table=a}ngOnChanges(n){super.ngOnChanges(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),r})(),l_=(()=>{class r extends ap{constructor(n,s,a){super(n,s),this._table=a}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),r})(),ba=(()=>{class r{constructor(n){this._viewContainer=n,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r.mostRecentCellOutlet=null,r})(),Vl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[ba],encapsulation:2}),r})(),R0=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[ba],encapsulation:2}),r})(),u_=(()=>{class r{constructor(n){this.templateRef=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const eu=["top","bottom","left","right"];class YI{constructor(i,n,s,a,l=!0,h=!0,m){this._isNativeHtmlTable=i,this._stickCellCss=n,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=m,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(i,n){const s=[];for(const a of i)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const a of s)this._removeStickyStyle(a,n)})}updateStickyColumns(i,n,s,a=!0){if(!i.length||!this._isBrowser||!n.some(I=>I)&&!s.some(I=>I))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=i[0],h=l.children.length,m=this._getCellWidths(l,a),_=this._getStickyStartColumnPositions(m,n),D=this._getStickyEndColumnPositions(m,s),M=n.lastIndexOf(!0),A=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const I="rtl"===this.direction,O=I?"right":"left",B=I?"left":"right";for(const $ of i)for(let le=0;le<h;le++){const Re=$.children[le];n[le]&&this._addStickyStyle(Re,O,_[le],le===M),s[le]&&this._addStickyStyle(Re,B,D[le],le===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:m.slice(0,M+1).map(($,le)=>n[le]?$:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:m.slice(A).map(($,le)=>s[le+A]?$:null).reverse()}))})}stickRows(i,n,s){if(!this._isBrowser)return;const a="bottom"===s?i.slice().reverse():i,l="bottom"===s?n.slice().reverse():n,h=[],m=[],_=[];for(let M=0,A=0;M<a.length;M++){if(!l[M])continue;h[M]=A;const I=a[M];_[M]=this._isNativeHtmlTable?Array.from(I.children):[I];const O=I.getBoundingClientRect().height;A+=O,m[M]=O}const D=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var M,A;for(let I=0;I<a.length;I++){if(!l[I])continue;const O=h[I],B=I===D;for(const $ of _[I])this._addStickyStyle($,s,O,B)}"top"===s?null===(M=this._positionListener)||void 0===M||M.stickyHeaderRowsUpdated({sizes:m,offsets:h,elements:_}):null===(A=this._positionListener)||void 0===A||A.stickyFooterRowsUpdated({sizes:m,offsets:h,elements:_})})}updateStickyFooterContainer(i,n){if(!this._isNativeHtmlTable)return;const s=i.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{n.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(i,n){for(const a of n)i.style[a]="",i.classList.remove(this._borderCellCss[a]);eu.some(a=>-1===n.indexOf(a)&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,n,s,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[n]),i.style[n]=`${s}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const n={top:100,bottom:10,left:1,right:1};let s=0;for(const a of eu)i.style[a]&&(s+=n[a]);return s?`${s}`:""}_getCellWidths(i,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=i.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(i,n){const s=[];let a=0;for(let l=0;l<i.length;l++)n[l]&&(s[l]=a,a+=i[l]);return s}_getStickyEndColumnPositions(i,n){const s=[];let a=0;for(let l=i.length;l>0;l--)n[l]&&(s[l]=a,a+=i[l]);return s}}const tT=new o.OlP("CDK_SPL");let $d=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),Wd=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),O0=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),d_=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),cp=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I){this._differs=n,this._changeDetectorRef=s,this._elementRef=a,this._dir=h,this._platform=_,this._viewRepeater=D,this._coalescedStyleScheduler=M,this._viewportRuler=A,this._stickyPositioningListener=I,this._onDestroy=new pe.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new ni({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=m,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=xe(n),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=xe(n),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((n,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe(Be(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Ld(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const n=this._dataDiffer.diff(this._renderRows);if(!n)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,s,(a,l,h)=>this._getEmbeddedViewArgs(a.item,h),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){const n=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=n.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const n=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=n.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const n=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let m=0;m<s.length;m++)this._renderRows[m].rowDef===l&&h.push(s[m]);this._addStickyColumnStyles(h,l)}),a.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const n=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const h=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let m=0;m<h.length;m++){let _=h[m];const D=this._cachedRenderRowsMap.get(_.data);D.has(_.rowDef)?D.get(_.rowDef).push(_):D.set(_.rowDef,[_]),n.push(_)}}return n}_getRenderRowsForData(n,s,a){return this._getRowDefs(n,s).map(h=>{const m=a&&a.has(h)?a.get(h):[];if(m.length){const _=m.shift();return _.dataIndex=s,_}return{data:n,rowDef:h,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),up(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=up(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=up(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=up(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const n=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=n[0]}_renderUpdatedColumns(){const n=(h,m)=>h||!!m.getColumnsDiff(),s=this._rowDefs.reduce(n,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(n,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(n,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(n){this._data=[],Ld(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;Ld(this.dataSource)?n=this.dataSource.connect(this):function(r){return!!r&&(r instanceof An.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=(0,qe.of)(this.dataSource)),this._renderChangeSubscription=n.pipe(Be(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,s)=>this._renderRow(this._headerRowOutlet,n,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,s)=>this._renderRow(this._footerRowOutlet,n,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,s){const a=Array.from(s.columns||[]).map(m=>this._columnDefsByName.get(m)),l=a.map(m=>m.sticky),h=a.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(n,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){const s=[];for(let a=0;a<n.viewContainer.length;a++){const l=n.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(n,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,n));else{let l=this._rowDefs.find(h=>h.when&&h.when(s,n))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(n,s){return{templateRef:n.rowDef.template,context:{$implicit:n.data},index:s}}_renderRow(n,s,a,l={}){const h=n.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),h}_renderCellTemplateForItem(n,s){for(let a of this._getCellTemplates(n))ba.mostRecentCellOutlet&&ba.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const n=this._rowOutlet.viewContainer;for(let s=0,a=n.length;s<a;s++){const h=n.get(s).context;h.count=a,h.first=0===s,h.last=s===a-1,h.even=s%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[s].dataIndex,h.renderIndex=s):h.index=this._renderRows[s].dataIndex}}_getCellTemplates(n){return n&&n.columns?Array.from(n.columns,s=>{const a=this._columnDefsByName.get(s);return n.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const n=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const h of a.outlets)l.appendChild(h.elementRef.nativeElement);n.appendChild(l)}this._elementRef.nativeElement.appendChild(n)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const n=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new YI(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,qe.of)()).pipe(Be(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const n=this._customNoDataRow||this._noDataRow;if(n){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;s?a.createEmbeddedView(n.templateRef):a.clear(),this._isShowingNoDataRow=s}}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(mn,8),o.Y36(Z),o.Y36(kt),o.Y36(Zc),o.Y36(Xc),o.Y36(ir),o.Y36(tT,12))},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,u_,5),o.Suo(a,oo,5),o.Suo(a,l_,5),o.Suo(a,zd,5),o.Suo(a,lp,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._noDataRow=l.first),o.iGM(l=o.CRH())&&(s._contentColumnDefs=l),o.iGM(l=o.CRH())&&(s._contentRowDefs=l),o.iGM(l=o.CRH())&&(s._contentHeaderRowDefs=l),o.iGM(l=o.CRH())&&(s._contentFooterRowDefs=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf($d,7),o.Gf(Wd,7),o.Gf(O0,7),o.Gf(d_,7)),2&n){let a;o.iGM(a=o.CRH())&&(s._rowOutlet=a.first),o.iGM(a=o.CRH())&&(s._headerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._footerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:qd,useExisting:r},{provide:Zc,useClass:kM},{provide:Xc,useClass:Zd},{provide:tT,useValue:null}])],ngContentSelectors:BI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,s){1&n&&(o.F$t(WM),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[Wd,$d,d_,O0],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),r})();function up(r,i){return r.concat(Array.from(i))}let nT=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[zc]]}),r})(),JI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const QI=$v();class oT{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=di(-this._previousScrollPosition.left),i.style.top=di(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,a=this._document.body.style,l=s.scrollBehavior||"",h=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),QI&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),QI&&(s.scrollBehavior=l,a.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class aT{constructor(i,n,s,a){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lT{enable(){}disable(){}attach(){}}function cT(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function L0(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class B0{constructor(i,n,s,a){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();cT(n,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let XI=(()=>{class r{constructor(n,s,a,l){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new lT,this.close=h=>new aT(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new oT(this._viewportRuler,this._document),this.reposition=h=>new B0(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Za),o.LFG(ir),o.LFG(o.R0b),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Za),o.LFG(ir),o.LFG(o.R0b),o.LFG(Z))},token:r,providedIn:"root"}),r})();class Ul{constructor(i){if(this.scrollStrategy=new lT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class eR{constructor(i,n,s,a,l){this.offsetX=s,this.offsetY=a,this.panelClass=l,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class tR{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let uT=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z))},token:r,providedIn:"root"}),r})(),m_=(()=>{class r extends uT{constructor(n){super(n),this._keydownListener=s=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){a[l]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z))},token:r,providedIn:"root"}),r})(),Qd=(()=>{class r extends uT{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=a=>{const l=ws(a),h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const _=h[m];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(l))break;_._outsidePointerEvents.next(a)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(kt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z),o.LFG(kt))},token:r,providedIn:"root"}),r})();const Ka="undefined"!=typeof window?window:{},ao=void 0!==Ka.__karma__&&!!Ka.__karma__||void 0!==Ka.jasmine&&!!Ka.jasmine||void 0!==Ka.jest&&!!Ka.jest||void 0!==Ka.Mocha&&!!Ka.Mocha;let Xa=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||ao){const a=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l])}const s=this._document.createElement("div");s.classList.add(n),ao?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(kt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z),o.LFG(kt))},token:r,providedIn:"root"}),r})();class nR{constructor(i,n,s,a,l,h,m,_,D){this._portalOutlet=i,this._host=n,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=h,this._document=m,this._location=_,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new pe.xQ,this._attachments=new pe.xQ,this._detachments=new pe.xQ,this._locationChanges=xt.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new pe.xQ,this._outsidePointerEvents=new pe.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(P(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=di(this._config.width),i.height=di(this._config.height),i.minWidth=di(this._config.minWidth),i.minHeight=di(this._config.minHeight),i.maxWidth=di(this._config.maxWidth),i.maxHeight=di(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const a=i.classList;Gc(n).forEach(l=>{l&&(s?a.add(l):a.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Be((0,kn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const dT="cdk-overlay-connected-position-bounding-box",V0=/([A-Za-z%]+)$/;class lo{constructor(i,n,s,a,l){this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe.xQ,this._resizeSubscription=xt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(dT),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,a=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(i,h),_=this._getOverlayPoint(m,n,h),D=this._getOverlayFit(_,n,s,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(D,_,s)?a.push({position:h,origin:m,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<D.visibleArea)&&(l={overlayFit:D,overlayPoint:_,originPoint:m,position:h,overlayRect:n})}if(a.length){let h=null,m=-1;for(const _ of a){const D=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);D>m&&(m=D,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,a;if("center"==n.originX)s=i.left+i.width/2;else{const l=this._isRtl()?i.right:i.left,h=this._isRtl()?i.left:i.right;s="start"==n.originX?l:h}return a="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:a}}_getOverlayPoint(i,n,s){let a,l;return a="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,l="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+a,y:i.y+l}}_getOverlayFit(i,n,s,a){const l=Hl(n);let{x:h,y:m}=i,_=this._getOffset(a,"x"),D=this._getOffset(a,"y");_&&(h+=_),D&&(m+=D);let I=0-m,O=m+l.height-s.height,B=this._subtractOverflows(l.width,0-h,h+l.width-s.width),$=this._subtractOverflows(l.height,I,O),le=B*$;return{visibleArea:le,isCompletelyWithinViewport:l.width*l.height===le,fitsInViewportVertically:$===l.height,fitsInViewportHorizontally:B==l.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const a=s.bottom-n.y,l=s.right-n.x,h=Cr(this._overlayRef.getConfig().minHeight),m=Cr(this._overlayRef.getConfig().minWidth),D=i.fitsInViewportHorizontally||null!=m&&m<=l;return(i.fitsInViewportVertically||null!=h&&h<=a)&&D}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=Hl(n),l=this._viewportRect,h=Math.max(i.x+a.width-l.width,0),m=Math.max(i.y+a.height-l.height,0),_=Math.max(l.top-s.top-i.y,0),D=Math.max(l.left-s.left-i.x,0);let M=0,A=0;return M=a.width<=l.width?D||-h:i.x<this._viewportMargin?l.left-s.left-i.x:0,A=a.height<=l.height?_||-m:i.y<this._viewportMargin?l.top-s.top-i.y:0,this._previousPushAmount={x:M,y:A},{x:i.x+M,y:i.y+A}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new tR(i,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let l=0;l<n.length;l++)n[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,a=this._isRtl();let l,h,m,M,A,I;if("top"===n.overlayY)h=i.y,l=s.height-h+this._viewportMargin;else if("bottom"===n.overlayY)m=s.height-i.y+2*this._viewportMargin,l=s.height-m+this._viewportMargin;else{const O=Math.min(s.bottom-i.y+s.top,i.y),B=this._lastBoundingBoxSize.height;l=2*O,h=i.y-O,l>B&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.y-B/2)}if("end"===n.overlayX&&!a||"start"===n.overlayX&&a)I=s.width-i.x+this._viewportMargin,M=i.x-this._viewportMargin;else if("start"===n.overlayX&&!a||"end"===n.overlayX&&a)A=i.x,M=s.right-i.x;else{const O=Math.min(s.right-i.x+s.left,i.x),B=this._lastBoundingBoxSize.width;M=2*O,A=i.x-O,M>B&&!this._isInitialRender&&!this._growAfterOpen&&(A=i.x-B/2)}return{top:h,left:A,bottom:m,right:I,width:M,height:l}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;a.height=di(s.height),a.top=di(s.top),a.bottom=di(s.bottom),a.width=di(s.width),a.left=di(s.left),a.right=di(s.right),a.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",a.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=di(l)),h&&(a.maxWidth=di(h))}this._lastBoundingBoxSize=s,Bo(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Bo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(a){const M=this._viewportRuler.getViewportScrollPosition();Bo(s,this._getExactOverlayY(n,i,M)),Bo(s,this._getExactOverlayX(n,i,M))}else s.position="static";let m="",_=this._getOffset(n,"x"),D=this._getOffset(n,"y");_&&(m+=`translateX(${_}px) `),D&&(m+=`translateY(${D}px)`),s.transform=m.trim(),h.maxHeight&&(a?s.maxHeight=di(h.maxHeight):l&&(s.maxHeight="")),h.maxWidth&&(a?s.maxWidth=di(h.maxWidth):l&&(s.maxWidth="")),Bo(this._pane.style,s)}_getExactOverlayY(i,n,s){let a={top:"",bottom:""},l=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=di(l.y),a}_getExactOverlayX(i,n,s){let h,a={left:"",right:""},l=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),h=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===h?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=di(l.x),a}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:L0(i,s),isOriginOutsideView:cT(i,s),isOverlayClipped:L0(n,s),isOverlayOutsideView:cT(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,a)=>s-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Gc(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof o.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function Bo(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function Cr(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(V0);return n&&"px"!==n?null:parseFloat(i)}return r||null}function Hl(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class g_{constructor(i,n,s,a,l,h,m){this._preferredPositions=[],this._positionStrategy=new lo(s,a,l,h,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,a){const l=new eR(i,n,s,a);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const Ps="cdk-global-overlay-wrapper";class U0{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(Ps),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:h,maxHeight:m}=s,_=!("100%"!==a&&"100vw"!==a||h&&"100%"!==h&&"100vw"!==h),D=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);i.position=this._cssPosition,i.marginLeft=_?"0":this._leftOffset,i.marginTop=D?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,_?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(Ps),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let Kd=(()=>{class r{constructor(n,s,a,l){this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new U0}connectedTo(n,s,a){return new g_(s,a,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new lo(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ir),o.LFG(Z),o.LFG(kt),o.LFG(Xa))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(ir),o.LFG(Z),o.LFG(kt),o.LFG(Xa))},token:r,providedIn:"root"}),r})(),Xd=0,Ri=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=m,this._ngZone=_,this._document=D,this._directionality=M,this._location=A,this._outsideClickDispatcher=I}create(n){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),h=new Ul(n);return h.direction=h.direction||this._directionality.value,new nR(l,s,a,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+Xd++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new GM(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(XI),o.LFG(Xa),o.LFG(o._Vd),o.LFG(Kd),o.LFG(m_),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Z),o.LFG(mn),o.LFG(Ut),o.LFG(Qd))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const ih={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let Ca=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ri,ih],imports:[[Pr,$a,zc],zc]}),r})();var hT=L(1555);function H0(...r){if(1===r.length){const i=r[0];if((0,Il.k)(i))return hp(i,null);if((0,hT.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return hp(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return hp(r=1===r.length&&(0,Il.k)(r[0])?r[0]:r,null).pipe((0,b.U)(n=>i(...n)))}return hp(r,null)}function hp(r,i){return new An.y(n=>{const s=r.length;if(0===s)return void n.complete();const a=new Array(s);let l=0,h=0;for(let m=0;m<s;m++){const _=(0,Ln.D)(r[m]);let D=!1;n.add(_.subscribe({next:M=>{D||(D=!0,h++),a[m]=M},error:M=>n.error(M),complete:()=>{l++,(l===s||!D)&&(h===s&&n.next(i?i.reduce((M,A,I)=>(M[A]=a[I],M),{}):a),n.complete())}}))}})}let G0=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Qsj),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r}),r})(),Gl=(()=>{class r extends G0{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,features:[o.qOj]}),r})();const Vn=new o.OlP("NgValueAccessor"),mT={provide:Vn,useExisting:(0,o.Gpc)(()=>Vo),multi:!0},gT=new o.OlP("CompositionEventMode");let Vo=(()=>{class r extends G0{constructor(n,s,a){super(n,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(gT,8))},r.\u0275dir=o.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&o.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[o._Bn([mT]),o.qOj]}),r})();function Yl(r){return null==r||0===r.length}function sR(r){return null!=r&&"number"==typeof r.length}const Mi=new o.OlP("NgValidators"),el=new o.OlP("NgAsyncValidators"),oR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _t{static min(i){return function(r){return i=>{if(Yl(i.value)||Yl(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<r?{min:{min:r,actual:i.value}}:null}}(i)}static max(i){return function(r){return i=>{if(Yl(i.value)||Yl(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>r?{max:{max:r,actual:i.value}}:null}}(i)}static required(i){return function(r){return Yl(r.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(r){return!0===r.value?null:{required:!0}}(i)}static email(i){return function(r){return Yl(r.value)||oR.test(r.value)?null:{email:!0}}(i)}static minLength(i){return function(r){return i=>Yl(i.value)||!sR(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(r){return i=>sR(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(r){if(!r)return jl;let i,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),i=new RegExp(n)):(n=r.toString(),i=r),s=>{if(Yl(s.value))return null;const a=s.value;return i.test(a)?null:{pattern:{requiredPattern:n,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return hR(i)}static composeAsync(i){return fR(i)}}function jl(r){return null}function dR(r){return null!=r}function vT(r){const i=(0,o.QGY)(r)?(0,Ln.D)(r):r;return(0,o.CqO)(i),i}function wT(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function __(r,i){return i.map(n=>n(r))}function CT(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function hR(r){if(!r)return null;const i=r.filter(dR);return 0==i.length?null:function(n){return wT(__(n,i))}}function DT(r){return null!=r?hR(CT(r)):null}function fR(r){if(!r)return null;const i=r.filter(dR);return 0==i.length?null:function(n){return H0(__(n,i).map(vT)).pipe((0,b.U)(wT))}}function q0(r){return null!=r?fR(CT(r)):null}function Z0(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function pR(r){return r._rawValidators}function MT(r){return r._rawAsyncValidators}function ql(r){return r?Array.isArray(r)?r:[r]:[]}function y_(r,i){return Array.isArray(r)?r.includes(i):r===i}function z0(r,i){const n=ql(i);return ql(r).forEach(a=>{y_(n,a)||n.push(a)}),n}function TT(r,i){return ql(i).filter(n=>!y_(r,n))}let $0=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=DT(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=q0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r}),r})(),tr=(()=>{class r extends $0{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,features:[o.qOj]}),r})();class ss extends $0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class W0{constructor(i){this._cd=i}is(i){var n,s,a;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[i])}}let tl=(()=>{class r extends W0{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ss,2))},r.\u0275dir=o.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[o.qOj]}),r})(),nl=(()=>{class r extends W0{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(tr,10))},r.\u0275dir=o.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[o.qOj]}),r})();function iu(r,i){C_(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&D_(r,i)})}(r,i),function(r,i){const n=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&D_(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function w_(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),K0(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function sh(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function C_(r,i){const n=pR(r);null!==i.validator?r.setValidators(Z0(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=MT(r);null!==i.asyncValidator?r.setAsyncValidators(Z0(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const a=()=>r.updateValueAndValidity();sh(i._rawValidators,a),sh(i._rawAsyncValidators,a)}function K0(r,i){let n=!1;if(null!==r){if(null!==i.validator){const a=pR(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.validator);l.length!==a.length&&(n=!0,r.setValidators(l))}}if(null!==i.asyncValidator){const a=MT(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.asyncValidator);l.length!==a.length&&(n=!0,r.setAsyncValidators(l))}}}const s=()=>{};return sh(i._rawValidators,s),sh(i._rawAsyncValidators,s),n}function D_(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function ew(r,i){C_(r,i)}function kT(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function mp(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const oh="VALID",T_="INVALID",ru="PENDING",ah="DISABLED";function lh(r){return(S_(r)?r.validators:r)||null}function sw(r){return Array.isArray(r)?DT(r):r||null}function E_(r,i){return(S_(i)?i.asyncValidators:r)||null}function ow(r){return Array.isArray(r)?q0(r):r||null}function S_(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class x_{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=sw(this._rawValidators),this._composedAsyncValidatorFn=ow(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===oh}get invalid(){return this.status===T_}get pending(){return this.status==ru}get disabled(){return this.status===ah}get enabled(){return this.status!==ah}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=sw(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=ow(i)}addValidators(i){this.setValidators(z0(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(z0(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(TT(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(TT(i,this._rawAsyncValidators))}hasValidator(i){return y_(this._rawValidators,i)}hasAsyncValidator(i){return y_(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=ru,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=ah,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=oh,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oh||this.status===ru)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ah:oh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=ru,this._hasOwnPendingAsyncValidator=!0;const n=vT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(a=>{s=s instanceof ch?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof A_&&s.at(a)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?ah:this.errors?T_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ru)?ru:this._anyControlsHaveStatus(T_)?T_:oh}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){S_(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class su extends x_{constructor(i=null,n,s){super(lh(n),E_(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){mp(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){mp(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class ch extends x_{constructor(i,n,s){super(lh(n),E_(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof su?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((a,l)=>{s=n(s,a,l)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class A_ extends x_{constructor(i,n,s){super(lh(n),E_(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof su?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const cV={provide:tr,useExisting:(0,o.Gpc)(()=>Fs)},gp=(()=>Promise.resolve(null))();let Fs=(()=>{class r extends tr{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new ch({},DT(n),q0(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){gp.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),iu(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){gp.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),mp(this._directives,n)})}addFormGroup(n){gp.then(()=>{const s=this._findContainer(n.path),a=new ch({});ew(a,n),s.registerControl(n.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){gp.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){gp.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,kT(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Mi,10),o.Y36(el,10))},r.\u0275dir=o.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([cV]),o.qOj]}),r})(),k_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const LT={provide:Vn,useExisting:(0,o.Gpc)(()=>aw),multi:!0};let aw=(()=>{class r extends Gl{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=s=>{n(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,s){1&n&&o.NdJ("input",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},features:[o._Bn([LT]),o.qOj]}),r})(),I_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const co=new o.OlP("NgModelWithFormControlWarning"),VT={provide:tr,useExisting:(0,o.Gpc)(()=>Oi)};let Oi=(()=>{class r extends tr{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return iu(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){w_(n.control||null,n,!1),mp(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,kT(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,a=this.form.get(n.path);s!==a&&(w_(s||null,n),a instanceof su&&(iu(a,n),n.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);ew(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return K0(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){C_(this.form,this),this._oldForm&&K0(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Mi,10),o.Y36(el,10))},r.\u0275dir=o.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([VT]),o.qOj,o.TTD]}),r})();const _p={provide:ss,useExisting:(0,o.Gpc)(()=>Da)};let Da=(()=>{class r extends ss{constructor(n,s,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(r,i){if(!i)return null;let n,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===Vo?n=l:function(r){return Object.getPrototypeOf(r.constructor)===Gl}(l)?s=l:a=l}),a||s||n||null}(0,l)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(r,i){return[...i.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(tr,13),o.Y36(Mi,10),o.Y36(el,10),o.Y36(Vn,10),o.Y36(co,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([_p]),o.qOj,o.TTD]}),r._ngModelWarningSentOnce=!1,r})(),eE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[I_]]}),r})(),xR=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[eE]}),r})(),tE=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:co,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[eE]}),r})(),il=(()=>{class r{group(n,s=null){const a=this._reduceControls(n);let m,l=null,h=null;return null!=s&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(s)?(l=null!=s.validators?s.validators:null,h=null!=s.asyncValidators?s.asyncValidators:null,m=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,h=null!=s.asyncValidator?s.asyncValidator:null)),new ch(a,{asyncValidators:h,updateOn:m,validators:l})}control(n,s,a){return new su(n,s,a)}array(n,s,a){const l=n.map(h=>this._createControl(h));return new A_(l,s,a)}_reduceControls(n){const s={};return Object.keys(n).forEach(a=>{s[a]=this._createControl(n[a])}),s}_createControl(n){return n instanceof su||n instanceof ch||n instanceof A_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:function(){return new r},token:r,providedIn:tE}),r})();class F_ extends Ci.L{notifyNext(i,n,s,a,l){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class nE extends Ci.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var iE=L(7444);function L_(r,i,n,s,a=new nE(r,n,s)){if(!a.closed)return i instanceof An.y?i.subscribe(a):(0,iE.s)(i)(a)}var B_=L(6693);const yw={};function bp(...r){let i,n;return(0,qg.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Il.k)(r[0])&&(r=r[0]),(0,B_.n)(r,n).lift(new bw(i))}class bw{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new vw(i,this.resultSelector))}}class vw extends F_{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(yw),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(L_(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const a=this.values,h=this.toRespond?a[s]===yw?--this.toRespond:this.toRespond:0;a[s]=n,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const V_=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();function vp(r){return new An.y(i=>{let n;try{n=r()}catch(a){return void i.error(a)}return(n?(0,Ln.D)(n):(0,R.c)()).subscribe(i)})}var hh=L(2441);function U_(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(a){return a.lift(new ww(r,i,n))}}class ww{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new gV(i,this.accumulator,this.seed,this.hasSeed))}}class gV extends Ci.L{constructor(i,n,s,a){super(i),this.accumulator=n,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function rl(r){return function(n){const s=new rE(r),a=n.lift(s);return s.caught=a}}class rE{constructor(i){this.selector=i}call(i,n){return n.subscribe(new _V(i,this.selector,this.caught))}}class _V extends ii.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new ii.IY(this);this.add(s);const a=(0,ii.ft)(n,s);a!==s&&this.add(a)}}}var tt=L(9773);function fh(r,i){return(0,tt.zg)(r,i,1)}function Cw(r){return function(n){return 0===r?(0,R.c)():n.lift(new IR(r))}}class IR{constructor(i){if(this.total=i,this.total<0)throw new S}call(i,n){return n.subscribe(new H_(i,this.total))}}class H_ extends Ci.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,a=this.count++;n.length<s?n.push(i):n[a%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const h=n++%s;i.next(a[h])}}i.complete()}}function sE(r=Ti){return i=>i.lift(new G_(r))}class G_{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new Y_(i,this.errorFactory))}}class Y_ extends Ci.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function Ti(){return new V_}function RR(r=null){return i=>i.lift(new oE(r))}class oE{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new Dw(i,this.defaultValue))}}class Dw extends Ci.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var aE=L(4487);function Zl(r,i){const n=arguments.length>=2;return s=>s.pipe(r?wt((a,l)=>r(a,l,s)):aE.y,P(1),n?RR(i):sE(()=>new V_))}var cE=L(1307);function j_(r){return i=>i.lift(new OR(r))}class OR{constructor(i){this.callback=i}call(i,n){return n.subscribe(new NR(i,this.callback))}}class NR extends Ci.L{constructor(i,n){super(i),this.add(new xt.w(n))}}class sl{constructor(i,n){this.id=i,this.url=n}}class au extends sl{constructor(i,n,s="imperative",a=null){super(i,n),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wp extends sl{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uE extends sl{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class PR extends sl{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class q_ extends sl{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dE extends sl{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hE extends sl{constructor(i,n,s,a,l){super(i,n),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fE extends sl{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FR extends sl{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ph{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mh{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LR{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BR{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VR{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pE{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mw{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const sn="primary";class UR{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function lu(r){return new UR(r)}const mE="ngNavigationCancelingError";function Tw(r){const i=Error("NavigationCancelingError: "+r);return i[mE]=!0,i}function bV(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const a={};for(let l=0;l<s.length;l++){const h=s[l],m=r[l];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:r.slice(0,s.length),posParams:a}}function ol(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let a;for(let l=0;l<n.length;l++)if(a=n[l],!Ew(r[a],i[a]))return!1;return!0}function Ew(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((a,l)=>s[l]===a)}return r===i}function Cp(r){return Array.prototype.concat.apply([],r)}function gE(r){return r.length>0?r[r.length-1]:null}function or(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function Cs(r){return(0,o.CqO)(r)?r:(0,o.QGY)(r)?(0,Ln.D)(Promise.resolve(r)):(0,qe.of)(r)}const GR={exact:function Sw(r,i,n){if(!$l(r.segments,i.segments)||!Z_(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!Sw(r.children[s],i.children[s],n))return!1;return!0},subset:bE},_E={exact:function(r,i){return ol(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>Ew(r[n],i[n]))},ignored:()=>!0};function yE(r,i,n){return GR[n.paths](r.root,i.root,n.matrixParams)&&_E[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function bE(r,i,n){return cu(r,i,i.segments,n)}function cu(r,i,n,s){if(r.segments.length>n.length){const a=r.segments.slice(0,n.length);return!(!$l(a,n)||i.hasChildren()||!Z_(a,n,s))}if(r.segments.length===n.length){if(!$l(r.segments,n)||!Z_(r.segments,n,s))return!1;for(const a in i.children)if(!r.children[a]||!bE(r.children[a],i.children[a],s))return!1;return!0}{const a=n.slice(0,r.segments.length),l=n.slice(r.segments.length);return!!($l(r.segments,a)&&Z_(r.segments,a,s)&&r.children[sn])&&cu(r.children[sn],i,l,s)}}function Z_(r,i,n){return i.every((s,a)=>_E[n](r[a].parameters,s.parameters))}class zl{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return wE.serialize(this)}}class un{constructor(i,n){this.segments=i,this.children=n,this.parent=null,or(n,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}}class gh{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=lu(this.parameters)),this._parameterMap}toString(){return ME(this)}}function $l(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class Dp{}class vE{parse(i){const n=new SE(i);return new zl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){var r;return`${`/${Tp(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(a=>`${z_(n)}=${z_(a)}`).join("&"):`${z_(n)}=${z_(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${r=i.fragment,encodeURI(r)}`:""}`}}const wE=new vE;function Mp(r){return r.segments.map(i=>ME(i)).join("/")}function Tp(r,i){if(!r.hasChildren())return Mp(r);if(i){const n=r.children[sn]?Tp(r.children[sn],!1):"",s=[];return or(r.children,(a,l)=>{l!==sn&&s.push(`${l}:${Tp(a,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return or(r.children,(s,a)=>{a===sn&&(n=n.concat(i(s,a)))}),or(r.children,(s,a)=>{a!==sn&&(n=n.concat(i(s,a)))}),n}(r,(s,a)=>a===sn?[Tp(r.children[sn],!1)]:[`${a}:${Tp(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[sn]?`${Mp(r)}/${n[0]}`:`${Mp(r)}/(${n.join("//")})`}}function CE(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z_(r){return CE(r).replace(/%3B/gi,";")}function Aw(r){return CE(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ep(r){return decodeURIComponent(r)}function DE(r){return Ep(r.replace(/\+/g,"%20"))}function ME(r){return`${Aw(r.path)}${function(r){return Object.keys(r).map(i=>`;${Aw(i)}=${Aw(r[i])}`).join("")}(r.parameters)}`}const WR=/^[^\/()?;=#]+/;function $_(r){const i=r.match(WR);return i?i[0]:""}const JR=/^[^=?&#]+/,TE=/^[^?&#]+/;class SE{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[sn]=new un(i,n)),s}parseSegment(){const i=$_(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new gh(Ep(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=$_(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const a=$_(this.remaining);a&&(s=a,this.capture(s))}i[Ep(n)]=Ep(s)}parseQueryParam(i){const n=function(r){const i=r.match(JR);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const h=function(r){const i=r.match(TE);return i?i[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=DE(n),l=DE(s);if(i.hasOwnProperty(a)){let h=i[a];Array.isArray(h)||(h=[h],i[a]=h),h.push(l)}else i[a]=l}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=$_(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=sn);const h=this.parseChildren();n[l]=1===Object.keys(h).length?h[sn]:new un([],h),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class xE{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=Sp(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=Sp(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=W_(i,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return W_(i,this._root).map(n=>n.value)}}function Sp(r,i){if(r===i.value)return i;for(const n of i.children){const s=Sp(r,n);if(s)return s}return null}function W_(r,i){if(r===i.value)return[i];for(const n of i.children){const s=W_(r,n);if(s.length)return s.unshift(i),s}return[]}class al{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function xp(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class J_ extends xE{constructor(i,n){super(i),this.snapshot=n,K_(this,i)}toString(){return this.snapshot.toString()}}function Q_(r,i){const n=function(r,i){const h=new _h([],{},{},"",{},sn,i,null,r.root,-1,{});return new IE("",new al(h,[]))}(r,i),s=new ni([new gh("",{})]),a=new ni({}),l=new ni({}),h=new ni({}),m=new ni(""),_=new ho(s,a,h,m,l,sn,i,n.root);return _.snapshot=n.root,new J_(new al(_,[]),n)}class ho{constructor(i,n,s,a,l,h,m,_){this.url=i,this.params=n,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,b.U)(i=>lu(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,b.U)(i=>lu(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kE(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const a=n[s],l=n[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class _h{constructor(i,n,s,a,l,h,m,_,D,M,A){this.url=i,this.params=n,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=M,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IE extends xE{constructor(i,n){super(n),this.url=i,K_(this,n)}toString(){return RE(this._root)}}function K_(r,i){i.value._routerState=r,i.children.forEach(n=>K_(r,n))}function RE(r){const i=r.children.length>0?` { ${r.children.map(RE).join(", ")} } `:"";return`${r.value}${i}`}function X_(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,ol(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),ol(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!ol(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),ol(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function ey(r,i){return ol(r.params,i.params)&&function(r,i){return $l(r,i)&&r.every((n,s)=>ol(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||ey(r.parent,i.parent))}function kw(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const a=function(r,i,n){return i.children.map(s=>{for(const a of n.children)if(r.shouldReuseRoute(s.value,a.value.snapshot))return kw(r,s,a);return kw(r,s)})}(r,i,n);return new al(s,a)}{if(r.shouldAttach(i.value)){const l=r.retrieve(i.value);if(null!==l){const h=l.route;return NE(i,h),h}}const s=function(r){return new ho(new ni(r.url),new ni(r.params),new ni(r.queryParams),new ni(r.fragment),new ni(r.data),r.outlet,r.component,r)}(i.value),a=i.children.map(l=>kw(r,l));return new al(s,a)}}function NE(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)NE(r.children[n],i.children[n])}function du(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Ap(r){return"object"==typeof r&&null!=r&&r.outlets}function Wl(r,i,n,s,a){let l={};return s&&or(s,(h,m)=>{l[m]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),new zl(n.root===r?i:PE(n.root,r,i),l,a)}function PE(r,i,n){const s={};return or(r.children,(a,l)=>{s[l]=a===i?n:PE(a,i,n)}),new un(r.segments,s)}class XR{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&du(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Ap);if(a&&a!==gE(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fo{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function LE(r,i,n){if(r||(r=new un([],{})),0===r.segments.length&&r.hasChildren())return ny(r,i,n);const s=function(r,i,n){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<r.segments.length;){if(s>=n.length)return l;const h=r.segments[a],m=n[s];if(Ap(m))break;const _=`${m}`,D=s<n.length-1?n[s+1]:null;if(a>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!iy(_,D,h))return l;s+=2}else{if(!iy(_,{},h))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(r,i,n),a=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const l=new un(r.segments.slice(0,s.pathIndex),{});return l.children[sn]=new un(r.segments.slice(s.pathIndex),r.children),ny(l,0,a)}return s.match&&0===a.length?new un(r.segments,{}):s.match&&!r.hasChildren()?Rw(r,i,n):s.match?ny(r,0,a):Rw(r,i,n)}function ny(r,i,n){if(0===n.length)return new un(r.segments,{});{const s=function(r){return Ap(r[0])?r[0].outlets:{[sn]:r}}(n),a={};return or(s,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=LE(r.children[h],i,l))}),or(r.children,(l,h)=>{void 0===s[h]&&(a[h]=l)}),new un(r.segments,a)}}function Rw(r,i,n){const s=r.segments.slice(0,i);let a=0;for(;a<n.length;){const l=n[a];if(Ap(l)){const _=tO(l.outlets);return new un(s,_)}if(0===a&&du(n[0])){s.push(new gh(r.segments[i].path,BE(n[0]))),a++;continue}const h=Ap(l)?l.outlets[sn]:`${l}`,m=a<n.length-1?n[a+1]:null;h&&m&&du(m)?(s.push(new gh(h,BE(m))),a+=2):(s.push(new gh(h,{})),a++)}return new un(s,{})}function tO(r){const i={};return or(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=Rw(new un([],{}),0,n))}),i}function BE(r){const i={};return or(r,(n,s)=>i[s]=`${n}`),i}function iy(r,i,n){return r==n.path&&ol(i,n.parameters)}class Ow{constructor(i,n,s,a){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=a}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),X_(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const a=xp(n);i.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],s),delete a[h]}),or(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,n,s){const a=i.value,l=n?n.value:null;if(a===l)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(i,n,h.children)}else this.deactivateChildRoutes(i,n,s);else l&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),a=s&&i.value.component?s.children:n,l=xp(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const a=xp(n);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new pE(l.value.snapshot))}),i.children.length&&this.forwardEvent(new BR(i.value.snapshot))}activateRoutes(i,n,s){const a=i.value,l=n?n.value:null;if(X_(a),a===l)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,n,h.children)}else this.activateChildRoutes(i,n,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Nw(m.route)}else{const m=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(a.snapshot),_=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=_,h.outlet&&h.outlet.activateWith(a,_),this.activateChildRoutes(i,null,h.children)}}else this.activateChildRoutes(i,null,s)}}function Nw(r){X_(r.value),r.children.forEach(Nw)}class UE{constructor(i,n){this.routes=i,this.module=n}}function Jl(r){return"function"==typeof r}function hu(r){return r instanceof zl}const kp=Symbol("INITIAL_VALUE");function yh(){return pn(r=>bp(r.map(i=>i.pipe(P(1),$t(kp)))).pipe(U_((i,n)=>{let s=!1;return n.reduce((a,l,h)=>a!==kp?a:(l===kp&&(s=!0),s||!1!==l&&h!==n.length-1&&!hu(l)?a:l),i)},kp),wt(i=>i!==kp),(0,b.U)(i=>hu(i)?i:!0===i),P(1)))}let Ip=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&o._UZ(0,"router-outlet")},directives:function(){return[Bp]},encapsulation:2}),r})();function jE(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];qE(s,ry(i,s))}}function qE(r,i){r.children&&jE(r.children,i)}function ry(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function bh(r){const i=r.children&&r.children.map(bh),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==sn&&(n.component=Ip),n}function Fr(r){return r.outlet||sn}function ZE(r,i){const n=r.filter(s=>Fr(s)===i);return n.push(...r.filter(s=>Fr(s)!==i)),n}const zE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Pw(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},zE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(i.matcher||bV)(n,r,i);if(!l)return Object.assign({},zE);const h={};or(l.posParams,(_,D)=>{h[D]=_.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function sy(r,i,n,s,a="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>oy(r,i,s)&&Fr(s)!==sn)}(r,n,s)){const h=new un(i,function(r,i,n,s){const a={};a[sn]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const l of n)if(""===l.path&&Fr(l)!==sn){const h=new un([],{});h._sourceSegment=r,h._segmentIndexShift=i.length,a[Fr(l)]=h}return a}(r,i,s,new un(n,r.children)));return h._sourceSegment=r,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>oy(r,i,s))}(r,n,s)){const h=new un(r.segments,function(r,i,n,s,a,l){const h={};for(const m of s)if(oy(r,n,m)&&!a[Fr(m)]){const _=new un([],{});_._sourceSegment=r,_._segmentIndexShift="legacy"===l?r.segments.length:i.length,h[Fr(m)]=_}return Object.assign(Object.assign({},a),h)}(r,i,n,s,r.children,a));return h._sourceSegment=r,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:n}}const l=new un(r.segments,r.children);return l._sourceSegment=r,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:n}}function oy(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function $E(r,i,n,s){return!!(Fr(r)===s||s!==sn&&oy(i,n,r))&&("**"===r.path||Pw(i,r,n).matched)}function WE(r,i,n){return 0===i.length&&!r.children[n]}class Rp{constructor(i){this.segmentGroup=i||null}}class cO{constructor(i){this.urlTree=i}}function ay(r){return new An.y(i=>i.error(new Rp(r)))}function vh(r){return new An.y(i=>i.error(new cO(r)))}function uO(r){return new An.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class ly{constructor(i,n,s,a,l){this.configLoader=n,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(o.h0i)}apply(){const i=sy(this.urlTree.root,[],[],this.config).segmentGroup,n=new un(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,sn).pipe((0,b.U)(l=>this.createUrlTree(cy(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rl(l=>{if(l instanceof cO)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Rp?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,sn).pipe((0,b.U)(a=>this.createUrlTree(cy(a),i.queryParams,i.fragment))).pipe(rl(a=>{throw a instanceof Rp?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const a=i.segments.length>0?new un([],{[sn]:i}):i;return new zl(a,n,s)}expandSegmentGroup(i,n,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,b.U)(l=>new un([],l))):this.expandSegment(i,s,n,s.segments,a,!0)}expandChildren(i,n,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Ln.D)(a).pipe(fh(l=>{const h=s.children[l],m=ZE(n,l);return this.expandSegmentGroup(i,m,h,l).pipe((0,b.U)(_=>({segment:_,outlet:l})))}),U_((l,h)=>(l[h.outlet]=h.segment,l),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?wt((a,l)=>r(a,l,s)):aE.y,Cw(1),n?RR(i):sE(()=>new V_))}())}expandSegment(i,n,s,a,l,h){return(0,Ln.D)(s).pipe(fh(m=>this.expandSegmentAgainstRoute(i,n,s,m,a,l,h).pipe(rl(D=>{if(D instanceof Rp)return(0,qe.of)(null);throw D}))),Zl(m=>!!m),rl((m,_)=>{if(m instanceof V_||"EmptyError"===m.name){if(WE(n,a,l))return(0,qe.of)(new un([],{}));throw new Rp(n)}throw m}))}expandSegmentAgainstRoute(i,n,s,a,l,h,m){return $E(a,n,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,n,a,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h):ay(n):ay(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?vh(l):this.lineralizeSegments(s,l).pipe((0,tt.zg)(h=>{const m=new un(h,{});return this.expandSegment(i,m,n,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h){const{matched:m,consumedSegments:_,lastChild:D,positionalParamSegments:M}=Pw(n,a,l);if(!m)return ay(n);const A=this.applyRedirectCommands(_,a.redirectTo,M);return a.redirectTo.startsWith("/")?vh(A):this.lineralizeSegments(a,A).pipe((0,tt.zg)(I=>this.expandSegment(i,n,s,I.concat(l.slice(D)),h,!1)))}matchSegmentAgainstRoute(i,n,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,b.U)(I=>(s._loadedConfig=I,new un(a,{})))):(0,qe.of)(new un(a,{}));const{matched:h,consumedSegments:m,lastChild:_}=Pw(n,s,a);if(!h)return ay(n);const D=a.slice(_);return this.getChildConfig(i,s,a).pipe((0,tt.zg)(A=>{const I=A.module,O=A.routes,{segmentGroup:B,slicedSegments:$}=sy(n,m,D,O),le=new un(B.segments,B.children);if(0===$.length&&le.hasChildren())return this.expandChildren(I,O,le).pipe((0,b.U)(Qe=>new un(m,Qe)));if(0===O.length&&0===$.length)return(0,qe.of)(new un(m,{}));const Re=Fr(s)===l;return this.expandSegment(I,le,O,$,Re?sn:l,!0).pipe((0,b.U)(He=>new un(m.concat(He.segments),He.children)))}))}getChildConfig(i,n,s){return n.children?(0,qe.of)(new UE(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,qe.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,tt.zg)(a=>{return a?this.configLoader.load(i.injector,n).pipe((0,b.U)(l=>(n._loadedConfig=l,l))):(r=n,new An.y(i=>i.error(Tw(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,qe.of)(new UE([],i))}runCanLoadGuards(i,n,s){const a=n.canLoad;if(!a||0===a.length)return(0,qe.of)(!0);const l=a.map(h=>{const m=i.get(h);let _;if((r=m)&&Jl(r.canLoad))_=m.canLoad(n,s);else{if(!Jl(m))throw new Error("Invalid CanLoad guard");_=m(n,s)}var r;return Cs(_)});return(0,qe.of)(l).pipe(yh(),(0,Zn.b)(h=>{if(!hu(h))return;const m=Tw(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,b.U)(h=>!0===h))}lineralizeSegments(i,n){let s=[],a=n.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,qe.of)(s);if(a.numberOfChildren>1||!a.children[sn])return uO(i.redirectTo);a=a.children[sn]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,a){const l=this.createSegmentGroup(i,n.root,s,a);return new zl(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return or(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);s[l]=n[m]}else s[l]=a}),s}createSegmentGroup(i,n,s,a){const l=this.createSegments(i,n.segments,s,a);let h={};return or(n.children,(m,_)=>{h[_]=this.createSegmentGroup(i,m,s,a)}),new un(l,h)}createSegments(i,n,s,a){return n.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,n,s){const a=s[n.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return a}findOrReturn(i,n){let s=0;for(const a of n){if(a.path===i.path)return n.splice(s),a;s++}return i}}function cy(r){const i={};for(const s of Object.keys(r.children)){const l=cy(r.children[s]);(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function(r){if(1===r.numberOfChildren&&r.children[sn]){const i=r.children[sn];return new un(r.segments.concat(i.segments),i.children)}return r}(new un(r.segments,i))}class pO{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class uy{constructor(i,n){this.component=i,this.route=n}}function dy(r,i,n){const s=r._root;return wh(s,i?i._root:null,n,[s.value])}function hy(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function wh(r,i,n,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=xp(i);return r.children.forEach(h=>{(function(r,i,n,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=r.value,h=i?i.value:null,m=n?n.getContext(r.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const _=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!$l(r.url,i.url);case"pathParamsOrQueryParamsChange":return!$l(r.url,i.url)||!ol(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(r,i)||!ol(r.queryParams,i.queryParams);case"paramsChange":default:return!ey(r,i)}}(h,l,l.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new pO(s)):(l.data=h.data,l._resolvedData=h._resolvedData),wh(r,i,l.component?m?m.children:null:n,s,a),_&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new uy(m.outlet.component,h))}else h&&Ch(i,m,a),a.canActivateChecks.push(new pO(s)),wh(r,null,l.component?m?m.children:null:n,s,a)})(h,l[h.value.outlet],n,s.concat([h.value]),a),delete l[h.value.outlet]}),or(l,(h,m)=>Ch(h,n.getContext(m),a)),a}function Ch(r,i,n){const s=xp(r),a=r.value;or(s,(l,h)=>{Ch(l,a.component?i?i.children.getContext(h):null:i,n)}),n.canDeactivateChecks.push(new uy(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class Op{}function Tn(r){return new An.y(i=>i.error(r))}class Dh{constructor(i,n,s,a,l,h){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const i=sy(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,sn);if(null===n)return null;const s=new _h([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new al(s,n),l=new IE(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const n=i.value,s=kE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const l of Object.keys(n.children)){const h=n.children[l],m=ZE(i,l),_=this.processSegmentGroup(m,h,l);if(null===_)return null;s.push(..._)}const a=Ls(s);return a.sort((i,n)=>i.value.outlet===sn?-1:n.value.outlet===sn?1:i.value.outlet.localeCompare(n.value.outlet)),a}processSegment(i,n,s,a){for(const l of i){const h=this.processSegmentAgainstRoute(l,n,s,a);if(null!==h)return h}return WE(n,s,a)?[]:null}processSegmentAgainstRoute(i,n,s,a){if(i.redirectTo||!$E(i,n,s,a))return null;let l,h=[],m=[];if("**"===i.path){const O=s.length>0?gE(s).parameters:{};l=new _h(s,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lw(i),Fr(i),i.component,i,Kl(n),bO(n)+s.length,Bw(i))}else{const O=Pw(n,i,s);if(!O.matched)return null;h=O.consumedSegments,m=s.slice(O.lastChild),l=new _h(h,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lw(i),Fr(i),i.component,i,Kl(n),bO(n)+h.length,Bw(i))}const _=(r=i).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:M}=sy(n,h,m,_.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);var r;if(0===M.length&&D.hasChildren()){const O=this.processChildren(_,D);return null===O?null:[new al(l,O)]}if(0===_.length&&0===M.length)return[new al(l,[])];const A=Fr(i)===a,I=this.processSegment(_,D,M,A?sn:a);return null===I?null:[new al(l,I)]}}function Lt(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function Ls(r){const i=[],n=new Set;for(const s of r){if(!Lt(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),n.add(a)):i.push(s)}for(const s of n){const a=Ls(s.children);i.push(new al(s.value,a))}return i.filter(s=>!n.has(s))}function Kl(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function bO(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function Lw(r){return r.data||{}}function Bw(r){return r.resolve||{}}function Bs(r){return pn(i=>{const n=r(i);return n?(0,Ln.D)(n).pipe((0,b.U)(()=>i)):(0,qe.of)(i)})}class nS extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const Pp=new o.OlP("ROUTES");class pu{constructor(i,n,s,a){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=a}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const a=this.loadModuleFactory(n.loadChildren).pipe((0,b.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);const h=l.create(i);return new UE(Cp(h.injector.get(Pp,void 0,o.XFs.Self|o.XFs.Optional)).map(bh),h)}),rl(l=>{throw n._loader$=void 0,l}));return n._loader$=new hh.c(a,()=>new pe.xQ).pipe((0,cE.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Ln.D)(this.loader.load(i)):Cs(i()).pipe((0,tt.zg)(n=>n instanceof o.YKP?(0,qe.of)(n):(0,Ln.D)(this.compiler.compileModuleAsync(n))))}}class Fp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mh,this.attachRef=null}}class Mh{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new Fp,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class DO{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function iS(r){throw r}function Vw(r,i,n){return i.parse("/")}function Th(r,i){return(0,qe.of)(null)}const Uw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zn=(()=>{class r{constructor(n,s,a,l,h,m,_,D){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pe.xQ,this.errorHandler=iS,this.malformedUriErrorHandler=Vw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Th,afterPreactivation:Th},this.urlHandlingStrategy=new DO,this.routeReuseStrategy=new nS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const I=h.get(o.R0b);this.isNgZoneEnabled=I instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new zl(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pu(m,_,O=>this.triggerEvent(new ph(O)),O=>this.triggerEvent(new mh(O))),this.routerState=Q_(this.currentUrlTree,this.rootComponentType),this.transitions=new ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(wt(a=>0!==a.id),(0,b.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),pn(a=>{let l=!1,h=!1;return(0,qe.of)(a).pipe((0,Zn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pn(m=>{const _=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),D=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(gu(m.source)&&(this.browserUrlTree=m.rawUrl),D)return(0,qe.of)(m).pipe(pn(M=>{const A=this.transitions.getValue();return s.next(new au(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),A!==this.transitions.getValue()?R.E:Promise.resolve(M)}),function(r,i,n,s){return pn(a=>function(r,i,n,s,a){return new ly(r,i,n,s,a).apply()}(r,i,n,a.extractedUrl,s).pipe((0,b.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(r,i,n,s,a){return(0,tt.zg)(l=>function(r,i,n,s,a="emptyOnly",l="legacy"){try{const h=new Dh(r,i,n,s,a,l).recognize();return null===h?Tn(new Op):(0,qe.of)(h)}catch(h){return Tn(h)}}(r,i,l.urlAfterRedirects,n(l.urlAfterRedirects),s,a).pipe((0,b.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const A=new q_(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);s.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:O,restoredState:B,extras:$}=m,le=new au(A,this.serializeUrl(I),O,B);s.next(le);const Re=Q_(I,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},m),{targetSnapshot:Re,urlAfterRedirects:I,extras:Object.assign(Object.assign({},$),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),R.E}),Bs(m=>{const{targetSnapshot:_,id:D,extractedUrl:M,rawUrl:A,extras:{skipLocationChange:I,replaceUrl:O}}=m;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:M,rawUrlTree:A,skipLocationChange:!!I,replaceUrl:!!O})}),(0,Zn.b)(m=>{const _=new dE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),(0,b.U)(m=>Object.assign(Object.assign({},m),{guards:dy(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(r,i){return(0,tt.zg)(n=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=n;return 0===h.length&&0===l.length?(0,qe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,Ln.D)(r).pipe((0,tt.zg)(a=>function(r,i,n,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qe.of)(!0);const h=l.map(m=>{const _=hy(m,i,a);let D;if(function(r){return r&&Jl(r.canDeactivate)}(_))D=Cs(_.canDeactivate(r,i,n,s));else{if(!Jl(_))throw new Error("Invalid CanDeactivate guard");D=Cs(_(r,i,n,s))}return D.pipe(Zl())});return(0,qe.of)(h).pipe(yh())}(a.component,a.route,n,i,s)),Zl(a=>!0!==a,!0))}(h,s,a,r).pipe((0,tt.zg)(m=>m&&function(r){return"boolean"==typeof r}(m)?function(r,i,n,s){return(0,Ln.D)(i).pipe(fh(a=>Rl(function(r,i){return null!==r&&i&&i(new LR(r)),(0,qe.of)(!0)}(a.route.parent,s),function(r,i){return null!==r&&i&&i(new VR(r)),(0,qe.of)(!0)}(a.route,s),function(r,i,n){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(h=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(h)).filter(h=>null!==h).map(h=>vp(()=>{const m=h.guards.map(_=>{const D=hy(_,h.node,n);let M;if(function(r){return r&&Jl(r.canActivateChild)}(D))M=Cs(D.canActivateChild(s,r));else{if(!Jl(D))throw new Error("Invalid CanActivateChild guard");M=Cs(D(s,r))}return M.pipe(Zl())});return(0,qe.of)(m).pipe(yh())}));return(0,qe.of)(l).pipe(yh())}(r,a.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,qe.of)(!0);const a=s.map(l=>vp(()=>{const h=hy(l,i,n);let m;if(function(r){return r&&Jl(r.canActivate)}(h))m=Cs(h.canActivate(i,r));else{if(!Jl(h))throw new Error("Invalid CanActivate guard");m=Cs(h(i,r))}return m.pipe(Zl())}));return(0,qe.of)(a).pipe(yh())}(r,a.route,n))),Zl(a=>!0!==a,!0))}(s,l,r,i):(0,qe.of)(m)),(0,b.U)(m=>Object.assign(Object.assign({},n),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Zn.b)(m=>{if(hu(m.guardsResult)){const D=Tw(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const _=new hE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),wt(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Bs(m=>{if(m.guards.canActivateChecks.length)return(0,qe.of)(m).pipe((0,Zn.b)(_=>{const D=new fE(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),pn(_=>{let D=!1;return(0,qe.of)(_).pipe(function(r,i){return(0,tt.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=n;if(!a.length)return(0,qe.of)(n);let l=0;return(0,Ln.D)(a).pipe(fh(h=>function(r,i,n,s){return function(r,i,n,s){const a=Object.keys(r);if(0===a.length)return(0,qe.of)({});const l={};return(0,Ln.D)(a).pipe((0,tt.zg)(h=>function(r,i,n,s){const a=hy(r,i,s);return Cs(a.resolve?a.resolve(i,n):a(i,n))}(r[h],i,n,s).pipe((0,Zn.b)(m=>{l[h]=m}))),Cw(1),(0,tt.zg)(()=>Object.keys(l).length===a.length?(0,qe.of)(l):R.E))}(r._resolve,r,i,s).pipe((0,b.U)(l=>(r._resolvedData=l,r.data=Object.assign(Object.assign({},r.data),kE(r,n).resolve),null)))}(h.route,s,r,i)),(0,Zn.b)(()=>l++),Cw(1),(0,tt.zg)(h=>l===a.length?(0,qe.of)(n):R.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(_=>{const D=new FR(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),Bs(m=>{const{targetSnapshot:_,id:D,extractedUrl:M,rawUrl:A,extras:{skipLocationChange:I,replaceUrl:O}}=m;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:M,rawUrlTree:A,skipLocationChange:!!I,replaceUrl:!!O})}),(0,b.U)(m=>{const _=function(r,i,n){const s=kw(r,i._root,n?n._root:void 0);return new J_(s,i)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:_})}),(0,Zn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((r,i,n)=>(0,b.U)(s=>(new Ow(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Zn.b)({next(){l=!0},complete(){l=!0}}),j_(()=>{if(!l&&!h){const m=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,m)):this.cancelNavigationTransition(a,m)}this.currentNavigation=null}),rl(m=>{if(h=!0,function(r){return r&&r[mE]}(m)){const _=hu(m.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const D=new uE(a.id,this.serializeUrl(a.extractedUrl),m.message);s.next(D),_?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gu(a.source)};this.scheduleNavigation(M,"imperative",null,A,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new PR(a.id,this.serializeUrl(a.extractedUrl),m);s.next(_);try{a.resolve(this.errorHandler(m))}catch(D){a.reject(D)}}return R.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=s,m={replaceUrl:!0};if(l){const _=Object.assign({},l);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(m.state=_)}this.scheduleNavigation(h,a,l,m)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const a=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!a||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){jE(n),this.config=n.map(bh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:_}=s,D=a||this.routerState.root,M=_?this.currentUrlTree.fragment:h;let A=null;switch(m){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function(r,i,n,s,a){if(0===n.length)return Wl(i.root,i.root,i,s,a);const l=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new XR(!0,0,r);let i=0,n=!1;const s=r.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return or(l.outlets,(_,D)=>{m[D]="string"==typeof _?_.split("/"):_}),[...a,{outlets:m}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?n=!0:".."===m?i++:""!=m&&a.push(m))}),a):[...a,l]},[]);return new XR(n,i,s)}(n);if(l.toRoot())return Wl(i.root,new un([],{}),i,s,a);const h=function(r,i,n){if(r.isAbsolute)return new fo(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const l=n.snapshot._urlSegment;return new fo(l,l===i.root,0)}const s=du(r.commands[0])?0:1;return function(r,i,n){let s=r,a=i,l=n;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new fo(s,!1,a-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(l,i,r),m=h.processChildren?ny(h.segmentGroup,h.index,l.commands):LE(h.segmentGroup,h.index,l.commands);return Wl(h.segmentGroup,m,i,s,a)}(D,this.currentUrlTree,n,A,null!=M?M:null)}navigateByUrl(n,s={skipLocationChange:!1}){const a=hu(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return s}isActive(n,s){let a;if(a=!0===s?Object.assign({},Uw):!1===s?Object.assign({},rS):s,hu(n))return yE(this.currentUrlTree,n,a);const l=this.parseUrl(n);return yE(this.currentUrlTree,l,a)}removeEmptyProps(n){return Object.keys(n).reduce((s,a)=>{const l=n[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new wp(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,a,l,h){var m,_;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),M=gu(s)&&D&&!gu(D.source),O=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===n.toString();if(M&&O)return Promise.resolve(!0);let B,$,le;h?(B=h.resolve,$=h.reject,le=h.promise):le=new Promise((He,Qe)=>{B=He,$=Qe});const Re=++this.navigationId;let Ve;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Ve=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Ve=0,this.setTransition({id:Re,targetPageId:Ve,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:B,reject:$,promise:le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),le.catch(He=>Promise.reject(He))}setBrowserUrl(n,s){const a=this.urlSerializer.serialize(n),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(n,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const a=new uE(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(a),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.DyG),o.LFG(Dp),o.LFG(Mh),o.LFG(Ut),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function gu(r){return"imperative"!==r}let Lp=(()=>{class r{constructor(n,s,a){this.router=n,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new pe.xQ,this.subscription=n.events.subscribe(l=>{l instanceof wp&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,s,a,l,h){if(0!==n||s||a||l||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const m={skipLocationChange:_u(this.skipLocationChange),replaceUrl:_u(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_u(this.preserveFragment)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(zn),o.Y36(ho),o.Y36(Oe))},r.\u0275dir=o.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,s){1&n&&o.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&(o.Ikx("href",s.href,o.LSH),o.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),r})();function _u(r){return""===r||!!r}let Bp=(()=>{class r{constructor(n,s,a,l,h){this.parentContexts=n,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||sn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const h=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,_=new Hw(n,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Mh),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},r.\u0275dir=o.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class Hw{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===ho?this.route:i===Mh?this.childContexts:this.parent.get(i,n)}}class EO{}class It{preload(i,n){return(0,qe.of)(null)}}let SO=(()=>{class r{constructor(n,s,a,l,h){this.router=n,this.injector=l,this.preloadingStrategy=h,this.loader=new pu(s,a,D=>n.triggerEvent(new ph(D)),D=>n.triggerEvent(new mh(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(wt(n=>n instanceof wp),fh(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(o.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(n,l)):l.children&&a.push(this.processRoutes(n,l.children));return(0,Ln.D)(a).pipe((0,Fd.J)(),(0,b.U)(l=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,tt.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(zn),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(EO))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),yu=(()=>{class r{constructor(n,s,a={}){this.router=n,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof au?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof wp&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Mw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new Mw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(zn),o.LFG(yl),o.LFG(void 0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const bu=new o.OlP("ROUTER_CONFIGURATION"),sS=new o.OlP("ROUTER_FORROOT_GUARD"),IV=[Ut,{provide:Dp,useClass:vE},{provide:zn,useFactory:function(r,i,n,s,a,l,h,m={},_,D){const M=new zn(null,r,i,n,s,a,l,Cp(h));return _&&(M.urlHandlingStrategy=_),D&&(M.routeReuseStrategy=D),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(m,M),m.enableTracing&&M.events.subscribe(A=>{var I,O;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(O=console.groupEnd)||void 0===O||O.call(console)}),M},deps:[Dp,Mh,Ut,o.zs3,o.v3s,o.Sil,Pp,bu,[class{},new o.FiY],[class{},new o.FiY]]},Mh,{provide:ho,useFactory:function(r){return r.routerState.root},deps:[zn]},{provide:o.v3s,useClass:o.EAV},SO,It,class{preload(i,n){return n().pipe(rl(()=>(0,qe.of)(null)))}},{provide:bu,useValue:{enableTracing:!1}}];function xO(){return new o.PXZ("Router",zn)}let Dr=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[IV,oS(n),{provide:sS,useFactory:Gw,deps:[[zn,new o.FiY,new o.tp0]]},{provide:bu,useValue:s||{}},{provide:Oe,useFactory:kO,deps:[W,[new o.tBr(Ie),new o.FiY],bu]},{provide:yu,useFactory:AO,deps:[zn,yl,bu]},{provide:EO,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:It},{provide:o.PXZ,multi:!0,useFactory:xO},[Yw,{provide:o.ip1,multi:!0,useFactory:NO,deps:[Yw]},{provide:aS,useFactory:jw,deps:[Yw]},{provide:o.tb,multi:!0,useExisting:aS}]]}}static forChild(n){return{ngModule:r,providers:[oS(n)]}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(sS,8),o.LFG(zn,8))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();function AO(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new yu(r,i,n)}function kO(r,i,n={}){return n.useHash?new mt(r,i):new st(r,i)}function Gw(r){return"guarded"}function oS(r){return[{provide:o.deG,multi:!0,useValue:r},{provide:Pp,multi:!0,useValue:r}]}let Yw=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pe.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(m=>s=m),l=this.injector.get(zn),h=this.injector.get(bu);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(n){const s=this.injector.get(bu),a=this.injector.get(SO),l=this.injector.get(yu),h=this.injector.get(zn),m=this.injector.get(o.z2F);n===m.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.zs3))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function NO(r){return r.appInitializer.bind(r)}function jw(r){return r.bootstrapListener.bind(r)}const aS=new o.OlP("Router Initializer");class vu{constructor(i,n,s,a,l,h,m){this.id=i,this.uid=n,this.nom=s,this.prenom=a,this.email=l,this.emailVerified=h,this.status=m}}const lS=new o.GfV("12.2.5");class LO{}const ll="*";function fi(r,i){return{type:7,name:r,definitions:i,options:{}}}function dn(r,i=null){return{type:4,styles:i,timings:r}}function cS(r,i=null){return{type:2,steps:r,options:i}}function $e(r){return{type:6,styles:r,offset:null}}function Yt(r,i,n){return{type:0,name:r,styles:i,options:n}}function on(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function dS(r){Promise.resolve(null).then(r)}class Eh{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class hS{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,a=0;const l=this.players.length;0==l?dS(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++n==l&&this._onFinish()}),h.onDestroy(()=>{++s==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(a)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function fS(){return"undefined"!=typeof window&&void 0!==window.document}function qw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Cu(r){switch(r.length){case 0:return new Eh;case 1:return r[0];default:return new hS(r)}}function HO(r,i,n,s,a={},l={}){const h=[],m=[];let _=-1,D=null;if(s.forEach(M=>{const A=M.offset,I=A==_,O=I&&D||{};Object.keys(M).forEach(B=>{let $=B,le=M[B];if("offset"!==B)switch($=i.normalizePropertyName($,h),le){case"!":le=a[B];break;case ll:le=l[B];break;default:le=i.normalizeStyleValue(B,$,le,h)}O[$]=le}),I||m.push(O),D=O,_=A}),h.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${h.join(M)}`)}return m}function pS(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&Vp(n,"start",r)));break;case"done":r.onDone(()=>s(n&&Vp(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&Vp(n,"destroy",r)))}}function Vp(r,i,n){const s=n.totalTime,l=Zw(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),h=r._data;return null!=h&&(l._data=h),l}function Zw(r,i,n,s,a="",l=0,h){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:a,totalTime:l,disabled:!!h}}function Vs(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function mS(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let zw=(r,i)=>!1,$w=(r,i)=>!1,by=(r,i,n)=>[];const Du=qw();(Du||"undefined"!=typeof Element)&&(zw=fS()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),$w=(()=>{if(Du||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):$w}})(),by=(r,i,n)=>{let s=[];if(n){const a=r.querySelectorAll(i);for(let l=0;l<a.length;l++)s.push(a[l])}else{const a=r.querySelector(i);a&&s.push(a)}return s});let Xl=null,mo=!1;function Up(r){Xl||(Xl=("undefined"!=typeof document?document.body:null)||{},mo=!!Xl.style&&"WebkitAppearance"in Xl.style);let i=!0;return Xl.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Xl.style,!i&&mo&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Xl.style)),i}const vy=$w,wy=zw,Cy=by;function gS(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let _S=(()=>{class r{validateStyleProperty(n){return Up(n)}matchesElement(n,s){return vy(n,s)}containsElement(n,s){return wy(n,s)}query(n,s,a){return Cy(n,s,a)}computeStyle(n,s,a){return a||""}animate(n,s,a,l,h,m=[],_){return new Eh(a,l)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Dy{}Dy.NOOP=new _S;const Ww="ng-enter",My="ng-leave",Gp="ng-trigger",Ty=".ng-trigger",jO="ng-animating",Ey=".ng-animating";function Mu(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Yp(parseFloat(i[1]),i[2])}function Yp(r,i){switch(i){case"s":return 1e3*r;default:return r}}function Sy(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let a,l=0,h="";if("string"==typeof r){const m=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};a=Yp(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(l=Yp(parseFloat(_),m[4]));const D=m[5];D&&(h=D)}else a=r;if(!n){let m=!1,_=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&i.splice(_,0,`The provided timing value "${r}" is invalid.`)}return{duration:a,delay:l,easing:h}}(r,i,n)}function Tu(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function ec(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else Tu(r,n);return n}function wS(r,i,n){return n?i+":"+n+";":""}function CS(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=wS(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=wS(0,qO(n),r.style[n]));r.setAttribute("style",i)}function Ma(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const a=Ay(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[a]),r.style[a]=i[s]}),qw()&&CS(r))}function Eu(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=Ay(n);r.style[s]=""}),qw()&&CS(r))}function jp(r){return Array.isArray(r)?1==r.length?r[0]:cS(r):r}const xy=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qw(r){let i=[];if("string"==typeof r){let n;for(;n=xy.exec(r);)i.push(n[1]);xy.lastIndex=0}return i}function Zp(r,i,n){const s=r.toString(),a=s.replace(xy,(l,h)=>{let m=i[h];return i.hasOwnProperty(h)||(n.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return a==s?r:a}function zp(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const DS=/-+([a-z0-9])/g;function Ay(r){return r.replace(DS,(...i)=>i[1].toUpperCase())}function qO(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kw(r,i){return 0===r||0===i}function Xw(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let l=i[0],h=[];if(s.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=n[m]}),h.length)for(var a=1;a<i.length;a++){let m=i[a];h.forEach(function(_){m[_]=eC(r,_)})}}return i}function Us(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function eC(r,i){return window.getComputedStyle(r)[i]}function $p(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const _=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof _)return void i.push(_);r=_}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const a=s[1],l=s[2],h=s[3];i.push(MS(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&i.push(MS(h,a))}(s,n,i)):n.push(r),n}const Sh=new Set(["true","1"]),Hs=new Set(["false","0"]);function MS(r,i){const n=Sh.has(r)||Hs.has(r),s=Sh.has(i)||Hs.has(i);return(a,l)=>{let h="*"==r||r==a,m="*"==i||i==l;return!h&&n&&"boolean"==typeof a&&(h=a?Sh.has(r):Hs.has(r)),!m&&s&&"boolean"==typeof l&&(m=l?Sh.has(i):Hs.has(i)),h&&m}}const zO=new RegExp("s*:selfs*,?","g");function tC(r,i,n){return new nC(r).build(i,n)}class nC{constructor(i){this._driver=i}build(i,n){const s=new rC(n);return this._resetContextStyleTimingState(s),Us(this,jp(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,a=n.depCount=0;const l=[],h=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(m=>{if(this._resetContextStyleTimingState(n),0==m.type){const _=m,D=_.name;D.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,l.push(this.visitState(_,n))}),_.name=D}else if(1==m.type){const _=this.visitTransition(m,n);s+=_.queryCount,a+=_.depCount,h.push(_)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:h,queryCount:s,depCount:a,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),a=i.options&&i.options.params||null;if(s.containsDynamicStyles){const l=new Set,h=a||{};if(s.styles.forEach(m=>{if(Iy(m)){const _=m;Object.keys(_).forEach(D=>{Qw(_[D]).forEach(M=>{h.hasOwnProperty(M)||l.add(M)})})}}),l.size){const m=zp(l.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:i.name,style:s,options:a?{params:a}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=Us(this,jp(i.animation),n);return{type:1,matchers:$p(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:Su(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>Us(this,s,n)),options:Su(i.options)}}visitGroup(i,n){const s=n.currentTime;let a=0;const l=i.steps.map(h=>{n.currentTime=s;const m=Us(this,h,n);return a=Math.max(a,n.currentTime),m});return n.currentTime=a,{type:3,steps:l,options:Su(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return oC(Sy(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=oC(0,0,"");return l.dynamic=!0,l.strValue=s,l}return n=n||Sy(s,i),oC(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let a,l=i.styles?i.styles:$e({});if(5==l.type)a=this.visitKeyframes(l,n);else{let h=i.styles,m=!1;if(!h){m=!0;const D={};s.easing&&(D.easing=s.easing),h=$e(D)}n.currentTime+=s.duration+s.delay;const _=this.visitStyle(h,n);_.isEmptyStep=m,a=_}return n.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(h=>{"string"==typeof h?h==ll?s.push(h):n.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(i.styles);let a=!1,l=null;return s.forEach(h=>{if(Iy(h)){const m=h,_=m.easing;if(_&&(l=_,delete m.easing),!a)for(let D in m)if(m[D].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let a=n.currentTime,l=n.currentTime;s&&l>0&&(l-=s.duration+s.delay),i.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void n.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const _=n.collectedStyles[n.currentQuerySelector],D=_[m];let M=!0;D&&(l!=a&&l>=D.startTime&&a<=D.endTime&&(n.errors.push(`The CSS property "${m}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),M=!1),l=D.startTime),M&&(_[m]={startTime:l,endTime:a}),n.options&&function(r,i,n){const s=i.params||{},a=Qw(r);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||n.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let l=0;const h=[];let m=!1,_=!1,D=0;const M=i.steps.map(Re=>{const Ve=this._makeStyleAst(Re,n);let He=null!=Ve.offset?Ve.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(Iy(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(Iy(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(Ve.styles),Qe=0;return null!=He&&(l++,Qe=Ve.offset=He),_=_||Qe<0||Qe>1,m=m||Qe<D,D=Qe,h.push(Qe),Ve});_&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&n.errors.push("Please ensure that all keyframe offsets are in order");const A=i.steps.length;let I=0;l>0&&l<A?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(I=1/(A-1));const O=A-1,B=n.currentTime,$=n.currentAnimateTimings,le=$.duration;return M.forEach((Re,Ve)=>{const He=I>0?Ve==O?1:I*Ve:h[Ve],Qe=He*le;n.currentTime=B+$.delay+Qe,$.duration=Qe,this._validateStyleAst(Re,n),Re.offset=He,s.styles.push(Re)}),s}visitReference(i,n){return{type:8,animation:Us(this,jp(i.animation),n),options:Su(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:Su(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:Su(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,a=i.options||{};n.queryCount++,n.currentQuery=i;const[l,h]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(zO,"")),[r=r.replace(/@\*/g,Ty).replace(/@\w+/g,n=>Ty+"-"+n.substr(1)).replace(/:animating/g,Ey),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+l:l,Vs(n.collectedStyles,n.currentQuerySelector,{});const m=Us(this,jp(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:m,originalSelector:i.selector,options:Su(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:Sy(i.timings,n.errors,!0);return{type:12,animation:Us(this,jp(i.animation),n),timings:s,options:null}}}class rC{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Iy(r){return!Array.isArray(r)&&"object"==typeof r}function Su(r){return r?(r=Tu(r)).params&&(r.params=function(r){return r?Tu(r):null}(r.params)):r={},r}function oC(r,i,n){return{duration:r,delay:i,easing:n}}function Ry(r,i,n,s,a,l,h=null,m=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:m}}class Ah{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const xS=new RegExp(":enter","g"),JO=new RegExp(":leave","g");function Oy(r,i,n,s,a,l={},h={},m,_,D=[]){return(new kS).buildKeyframes(r,i,n,s,a,l,h,m,_,D)}class kS{buildKeyframes(i,n,s,a,l,h,m,_,D,M=[]){D=D||new Ah;const A=new Py(i,n,D,a,l,M,[]);A.options=_,A.currentTimeline.setStyles([h],null,A.errors,_),Us(this,s,A);const I=A.timelines.filter(O=>O.containsAnimation());if(I.length&&Object.keys(m).length){const O=I[I.length-1];O.allowOnlyTimelineStyles()||O.setStyles([m],null,A.errors,_)}return I.length?I.map(O=>O.buildKeyframes()):[Ry(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const a=n.createSubContext(i.options),l=n.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);l!=h&&n.transformIntoNewTimeline(h)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let l=n.currentTimeline.currentTime;const h=null!=s.duration?Mu(s.duration):null,m=null!=s.delay?Mu(s.delay):null;return 0!==h&&i.forEach(_=>{const D=n.appendInstructionToTimeline(_,h,m);l=Math.max(l,D.duration+D.delay)}),l}visitReference(i,n){n.updateOptions(i.options,!0),Us(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let a=n;const l=i.options;if(l&&(l.params||l.delay)&&(a=n.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ny);const h=Mu(l.delay);a.delayNextStep(h)}i.steps.length&&(i.steps.forEach(h=>Us(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let a=n.currentTimeline.currentTime;const l=i.options&&i.options.delay?Mu(i.options.delay):0;i.steps.forEach(h=>{const m=n.createSubContext(i.options);l&&m.delayNextStep(l),Us(this,h,m),a=Math.max(a,m.currentTimeline.currentTime),s.push(m.currentTimeline)}),s.forEach(h=>n.currentTimeline.mergeTimelineCollectedStyles(h)),n.transformIntoNewTimeline(a),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return Sy(n.params?Zp(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),a=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,n):(n.incrementTime(s.duration),this.visitStyle(l,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,a=n.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(l):s.setStyles(i.styles,l,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,a=n.currentTimeline.duration,l=s.duration,m=n.createSubContext().currentTimeline;m.easing=s.easing,i.styles.forEach(_=>{m.forwardTime((_.offset||0)*l),m.setStyles(_.styles,_.easing,n.errors,n.options),m.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(m),n.transformIntoNewTimeline(a+l),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,a=i.options||{},l=a.delay?Mu(a.delay):0;l&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ny);let h=s;const m=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=m.length;let _=null;m.forEach((D,M)=>{n.currentQueryIndex=M;const A=n.createSubContext(i.options,D);l&&A.delayNextStep(l),D===n.element&&(_=A.currentTimeline),Us(this,i.animation,A),A.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,A.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(h),_&&(n.currentTimeline.mergeTimelineCollectedStyles(_),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,a=n.currentTimeline,l=i.timings,h=Math.abs(l.duration),m=h*(n.currentQueryTotal-1);let _=h*n.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=m-_;break;case"full":_=s.currentStaggerTime}const M=n.currentTimeline;_&&M.delayNextStep(_);const A=M.currentTime;Us(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=a.currentTime-A+(a.startTime-s.currentTimeline.startTime)}}const Ny={};class Py{constructor(i,n,s,a,l,h,m,_){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ny,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Jp(this._driver,n,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let a=this.options;null!=s.duration&&(a.duration=Mu(s.duration)),null!=s.delay&&(a.delay=Mu(s.delay));const l=s.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!n||!h.hasOwnProperty(m))&&(h[m]=Zp(l[m],h,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(a=>{s[a]=n[a]})}}return i}createSubContext(i=null,n,s){const a=n||this.element,l=new Py(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=Ny,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const a={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},l=new LV(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,a,l,h){let m=[];if(a&&m.push(this.element),i.length>0){i=(i=i.replace(xS,"."+this._enterClassName)).replace(JO,"."+this._leaveClassName);let D=this._driver.query(this.element,i,1!=s);0!==s&&(D=s<0?D.slice(D.length+s,D.length):D.slice(0,s)),m.push(...D)}return!l&&0==m.length&&h.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),m}}class Jp{constructor(i,n,s,a){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new Jp(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||ll,this._currentKeyframe[n]=ll}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,a){n&&(this._previousKeyframe.easing=n);const l=a&&a.params||{},h=function(r,i){const n={};let s;return r.forEach(a=>{"*"===a?(s=s||Object.keys(i),s.forEach(l=>{n[l]=ll})):ec(a,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const _=Zp(h[m],l,s);this._pendingStyles[m]=_,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:ll),this._updateStyle(m,_)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],a=i._styleSummary[n];(!s||a.time>s.time)&&this._updateStyle(n,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,_)=>{const D=ec(m,!0);Object.keys(D).forEach(M=>{const A=D[M];"!"==A?i.add(M):A==ll&&n.add(M)}),s||(D.offset=_/this.duration),a.push(D)});const l=i.size?zp(i.values()):[],h=n.size?zp(n.values()):[];if(s){const m=a[0],_=Tu(m);m.offset=0,_.offset=1,a=[m,_]}return Ry(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class LV extends Jp{constructor(i,n,s,a,l,h,m=!1){super(i,n,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){const l=[],h=s+n,m=n/h,_=ec(i[0],!1);_.offset=0,l.push(_);const D=ec(i[0],!1);D.offset=Br(m),l.push(D);const M=i.length-1;for(let A=1;A<=M;A++){let I=ec(i[A],!1);I.offset=Br((n+I.offset*s)/h),l.push(I)}s=h,n=0,a="",i=l}return Ry(this.element,i,this.preStyleProps,this.postStyleProps,s,n,a,!0)}}function Br(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class aC{}class Qp extends aC{normalizePropertyName(i,n){return Ay(i)}normalizeStyleValue(i,n,s,a){let l="";const h=s.toString().trim();if(lC[n]&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const m=s.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(`Please provide a CSS unit value for ${i}:${s}`)}return h+l}}const lC=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cC(r,i,n,s,a,l,h,m,_,D,M,A,I){return{type:0,element:r,triggerName:i,isRemovalTransition:a,fromState:n,fromStyles:l,toState:s,toStyles:h,timelines:m,queriedElements:_,preStyleProps:D,postStyleProps:M,totalTime:A,errors:I}}const uC={};class IS{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,a){return function(r,i,n,s,a){return r.some(l=>l(i,n,s,a))}(this.ast.matchers,i,n,s,a)}buildStyles(i,n,s){const a=this._stateStyles["*"],l=this._stateStyles[i],h=a?a.buildStyles(n,s):{};return l?l.buildStyles(n,s):h}build(i,n,s,a,l,h,m,_,D,M){const A=[],I=this.ast.options&&this.ast.options.params||uC,B=this.buildStyles(s,m&&m.params||uC,A),$=_&&_.params||uC,le=this.buildStyles(a,$,A),Re=new Set,Ve=new Map,He=new Map,Qe="void"===a,vn={params:Object.assign(Object.assign({},I),$)},yi=M?[]:Oy(i,n,this.ast.animation,l,h,B,le,vn,D,A);let Ki=0;if(yi.forEach(Ko=>{Ki=Math.max(Ko.duration+Ko.delay,Ki)}),A.length)return cC(n,this._triggerName,s,a,Qe,B,le,[],[],Ve,He,Ki,A);yi.forEach(Ko=>{const Ju=Ko.element,s4=Vs(Ve,Ju,{});Ko.preStyleProps.forEach(Xm=>s4[Xm]=!0);const TD=Vs(He,Ju,{});Ko.postStyleProps.forEach(Xm=>TD[Xm]=!0),Ju!==n&&Re.add(Ju)});const Ai=zp(Re.values());return cC(n,this._triggerName,s,a,Qe,B,le,yi,Ai,Ve,He,Ki)}}class RS{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},a=Tu(this.defaultParams);return Object.keys(i).forEach(l=>{const h=i[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let _=h[m];_.length>1&&(_=Zp(_,a,n));const D=this.normalizer.normalizePropertyName(m,n);_=this.normalizer.normalizeStyleValue(m,D,_,n),s[D]=_})}}),s}}class Fy{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(a=>{this.states[a.name]=new RS(a.style,a.options&&a.options.params||{},s)}),KO(this.states,"true","1"),KO(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new IS(i,a,this.states))}),this.fallbackTransition=function(r,i,n){return new IS(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,a){return this.transitionFactories.find(h=>h.match(i,n,s,a))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function KO(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const NS=new Ah;class XO{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],a=tC(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=a}_buildPlayer(i,n,s){const a=i.element,l=HO(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const a=[],l=this._animations[i];let h;const m=new Map;if(l?(h=Oy(this._driver,n,l,Ww,My,{},{},s,NS,a),h.forEach(M=>{const A=Vs(m,M.element,{});M.postStyleProps.forEach(I=>A[I]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);m.forEach((M,A)=>{Object.keys(M).forEach(I=>{M[I]=this._driver.computeStyle(A,I,ll)})});const D=Cu(h.map(M=>{const A=m.get(M.element);return this._buildPlayer(M,{},A)}));return this._playersById[i]=D,D.onDestroy(()=>this.destroy(i)),this.players.push(D),D}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,a){const l=Zw(n,"","","");return pS(this._getPlayer(i),s,l,a),()=>{}}command(i,n,s,a){if("register"==s)return void this.register(i,a[0]);if("create"==s)return void this.create(i,n,a[0]||{});const l=this._getPlayer(i);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const fC="ng-animate-queued",pC="ng-animate-disabled",PS=".ng-animate-disabled",eN=[],FS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gs="__ng_removed";class By{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=null!=(r=s?i.value:i)?r:null,s){const l=Tu(i);delete l.value,this.options=l}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(a=>{null==s[a]&&(s[a]=n[a])})}}}const Kp="void",Vy=new By(Kp);class BS{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ys(n,this._hostClassName)}listen(i,n,s,a){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if("start"!=(r=s)&&"done"!=r)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);var r;const l=Vs(this._elementListeners,i,[]),h={name:n,phase:s,callback:a};l.push(h);const m=Vs(this._engine.statesByElement,i,{});return m.hasOwnProperty(n)||(Ys(i,Gp),Ys(i,Gp+"-"+n),m[n]=Vy),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(h);_>=0&&l.splice(_,1),this._triggers[n]||delete m[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,a=!0){const l=this._getTrigger(n),h=new _C(this.id,n,i);let m=this._engine.statesByElement.get(i);m||(Ys(i,Gp),Ys(i,Gp+"-"+n),this._engine.statesByElement.set(i,m={}));let _=m[n];const D=new By(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),m[n]=D,_||(_=Vy),D.value!==Kp&&_.value===D.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let a=0;a<n.length;a++){const l=n[a];if(!i.hasOwnProperty(l)||r[l]!==i[l])return!1}return!0}(_.params,D.params)){const $=[],le=l.matchStyles(_.value,_.params,$),Re=l.matchStyles(D.value,D.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{Eu(i,le),Ma(i,Re)})}return}const I=Vs(this._engine.playersByElement,i,[]);I.forEach($=>{$.namespaceId==this.id&&$.triggerName==n&&$.queued&&$.destroy()});let O=l.matchTransition(_.value,D.value,i,D.params),B=!1;if(!O){if(!a)return;O=l.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:O,fromState:_,toState:D,player:h,isFallbackTransition:B}),B||(Ys(i,fC),h.onStart(()=>{em(i,fC)})),h.onDone(()=>{let $=this.players.indexOf(h);$>=0&&this.players.splice($,1);const le=this._engine.playersByElement.get(i);if(le){let Re=le.indexOf(h);Re>=0&&le.splice(Re,1)}}),this.players.push(h),I.push(h),h}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,Ty,!0);s.forEach(a=>{if(a[Gs])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,n,s,a){const l=this._engine.statesByElement.get(i);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const _=this.trigger(i,m,Kp,a);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&Cu(h).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const a=new Set;n.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const _=this._triggers[h].fallbackTransition,D=s[h]||Vy,M=new By(Kp),A=new _C(this.id,h,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:h,transition:_,fromState:D,toState:M,player:A,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let h=i;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)s.markElementAsRemoved(this.id,i,!1,n);else{const l=i[Gs];(!l||l===FS)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Ys(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==s.triggerName){const _=Zw(l,s.triggerName,s.fromState.value,s.toState.value);_._data=i,pS(s.player,m.phase,_,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(s)}),this._queue=[],n.sort((s,a)=>{const l=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class tN{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new BS(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let l=s;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,n)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let a=this._namespaceLookup[i];a&&a.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const a=Object.keys(s);for(let l=0;l<a.length;l++){const h=s[a[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&n.add(m)}}}return n}trigger(i,n,s,a){if(Xp(n)){const l=this._fetchNamespace(i);if(l)return l.trigger(n,s,a),!0}return!1}insertNode(i,n,s,a){if(!Xp(n))return;const l=n[Gs];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(n);h>=0&&this.collectedLeaveElements.splice(h,1)}if(i){const h=this._fetchNamespace(i);h&&h.insertNode(n,s)}a&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ys(i,pC)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),em(i,pC))}removeNode(i,n,s,a){if(Xp(n)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(n,a):this.markElementAsRemoved(i,n,!1,a),s){const h=this.namespacesByHostElement.get(n);h&&h.id!==i&&h.removeNode(n,a)}}else this._onRemovalComplete(n,a)}markElementAsRemoved(i,n,s,a){this.collectedLeaveElements.push(n),n[Gs]={namespaceId:i,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,a,l){return Xp(n)?this._fetchNamespace(i).listen(n,s,a,l):()=>{}}_buildInstruction(i,n,s,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,a,i.fromState.options,i.toState.options,n,l)}destroyInnerAnimations(i){let n=this.driver.query(i,Ty,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,Ey,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Cu(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Gs];if(n&&n.setForRemoval){if(i[Gs]=FS,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,PS)&&this.markElementAsDisabled(i,!1),this.driver.query(i,PS,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ys(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?Cu(n).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new Ah,a=[],l=new Map,h=[],m=new Map,_=new Map,D=new Map,M=new Set;this.disabledNodes.forEach(ut=>{M.add(ut);const Mt=this.driver.query(ut,".ng-animate-queued",!0);for(let jt=0;jt<Mt.length;jt++)M.add(Mt[jt])});const A=this.bodyNode,I=Array.from(this.statesByElement.keys()),O=HS(I,this.collectedEnterElements),B=new Map;let $=0;O.forEach((ut,Mt)=>{const jt=Ww+$++;B.set(Mt,jt),ut.forEach(Sn=>Ys(Sn,jt))});const le=[],Re=new Set,Ve=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Mt=this.collectedLeaveElements[ut],jt=Mt[Gs];jt&&jt.setForRemoval&&(le.push(Mt),Re.add(Mt),jt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(Sn=>Re.add(Sn)):Ve.add(Mt))}const He=new Map,Qe=HS(I,Array.from(Re));Qe.forEach((ut,Mt)=>{const jt=My+$++;He.set(Mt,jt),ut.forEach(Sn=>Ys(Sn,jt))}),i.push(()=>{O.forEach((ut,Mt)=>{const jt=B.get(Mt);ut.forEach(Sn=>em(Sn,jt))}),Qe.forEach((ut,Mt)=>{const jt=He.get(Mt);ut.forEach(Sn=>em(Sn,jt))}),le.forEach(ut=>{this.processLeaveNode(ut)})});const vn=[],yi=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(n).forEach(jt=>{const Sn=jt.player,zr=jt.element;if(vn.push(Sn),this.collectedEnterElements.length){const _c=zr[Gs];if(_c&&_c.setForMove)return void Sn.destroy()}const gc=!A||!this.driver.containsElement(A,zr),Xo=He.get(zr),hf=B.get(zr),Xi=this._buildInstruction(jt,s,hf,Xo,gc);if(Xi.errors&&Xi.errors.length)yi.push(Xi);else{if(gc)return Sn.onStart(()=>Eu(zr,Xi.fromStyles)),Sn.onDestroy(()=>Ma(zr,Xi.toStyles)),void a.push(Sn);if(jt.isFallbackTransition)return Sn.onStart(()=>Eu(zr,Xi.fromStyles)),Sn.onDestroy(()=>Ma(zr,Xi.toStyles)),void a.push(Sn);Xi.timelines.forEach(_c=>_c.stretchStartingKeyframe=!0),s.append(zr,Xi.timelines),h.push({instruction:Xi,player:Sn,element:zr}),Xi.queriedElements.forEach(_c=>Vs(m,_c,[]).push(Sn)),Xi.preStyleProps.forEach((_c,ED)=>{const Sk=Object.keys(_c);if(Sk.length){let eg=_.get(ED);eg||_.set(ED,eg=new Set),Sk.forEach(_B=>eg.add(_B))}}),Xi.postStyleProps.forEach((_c,ED)=>{const Sk=Object.keys(_c);let eg=D.get(ED);eg||D.set(ED,eg=new Set),Sk.forEach(_B=>eg.add(_B))})}});if(yi.length){const ut=[];yi.forEach(Mt=>{ut.push(`@${Mt.triggerName} has failed due to:\n`),Mt.errors.forEach(jt=>ut.push(`- ${jt}\n`))}),vn.forEach(Mt=>Mt.destroy()),this.reportError(ut)}const Ki=new Map,Ai=new Map;h.forEach(ut=>{const Mt=ut.element;s.has(Mt)&&(Ai.set(Mt,Mt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,Ki))}),a.forEach(ut=>{const Mt=ut.element;this._getPreviousPlayers(Mt,!1,ut.namespaceId,ut.triggerName,null).forEach(Sn=>{Vs(Ki,Mt,[]).push(Sn),Sn.destroy()})});const Ko=le.filter(ut=>rN(ut,_,D)),Ju=new Map;bC(Ju,this.driver,Ve,D,ll).forEach(ut=>{rN(ut,_,D)&&Ko.push(ut)});const TD=new Map;O.forEach((ut,Mt)=>{bC(TD,this.driver,new Set(ut),_,"!")}),Ko.forEach(ut=>{const Mt=Ju.get(ut),jt=TD.get(ut);Ju.set(ut,Object.assign(Object.assign({},Mt),jt))});const Xm=[],o4=[],a4={};h.forEach(ut=>{const{element:Mt,player:jt,instruction:Sn}=ut;if(s.has(Mt)){if(M.has(Mt))return jt.onDestroy(()=>Ma(Mt,Sn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(Sn.totalTime),void a.push(jt);let zr=a4;if(Ai.size>1){let Xo=Mt;const hf=[];for(;Xo=Xo.parentNode;){const Xi=Ai.get(Xo);if(Xi){zr=Xi;break}hf.push(Xo)}hf.forEach(Xi=>Ai.set(Xi,zr))}const gc=this._buildAnimation(jt.namespaceId,Sn,Ki,l,TD,Ju);if(jt.setRealPlayer(gc),zr===a4)Xm.push(jt);else{const Xo=this.playersByElement.get(zr);Xo&&Xo.length&&(jt.parentPlayer=Cu(Xo)),a.push(jt)}}else Eu(Mt,Sn.fromStyles),jt.onDestroy(()=>Ma(Mt,Sn.toStyles)),o4.push(jt),M.has(Mt)&&a.push(jt)}),o4.forEach(ut=>{const Mt=l.get(ut.element);if(Mt&&Mt.length){const jt=Cu(Mt);ut.setRealPlayer(jt)}}),a.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<le.length;ut++){const Mt=le[ut],jt=Mt[Gs];if(em(Mt,My),jt&&jt.hasAnimation)continue;let Sn=[];if(m.size){let gc=m.get(Mt);gc&&gc.length&&Sn.push(...gc);let Xo=this.driver.query(Mt,Ey,!0);for(let hf=0;hf<Xo.length;hf++){let Xi=m.get(Xo[hf]);Xi&&Xi.length&&Sn.push(...Xi)}}const zr=Sn.filter(gc=>!gc.destroyed);zr.length?HV(this,Mt,zr):this.processLeaveNode(Mt)}return le.length=0,Xm.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Mt=this.players.indexOf(ut);this.players.splice(Mt,1)}),ut.play()}),Xm}elementContainsData(i,n){let s=!1;const a=n[Gs];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,a,l){let h=[];if(n){const m=this.playersByQueriedElement.get(i);m&&(h=m)}else{const m=this.playersByElement.get(i);if(m){const _=!l||l==Kp;m.forEach(D=>{D.queued||!_&&D.triggerName!=a||h.push(D)})}}return(s||a)&&(h=h.filter(m=>!(s&&s!=m.namespaceId||a&&a!=m.triggerName))),h}_beforeAnimationBuild(i,n,s){const l=n.element,h=n.isRemovalTransition?void 0:i,m=n.isRemovalTransition?void 0:n.triggerName;for(const _ of n.timelines){const D=_.element,M=D!==l,A=Vs(s,D,[]);this._getPreviousPlayers(D,M,h,m,n.toState).forEach(O=>{const B=O.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),O.destroy(),A.push(O)})}Eu(l,n.fromStyles)}_buildAnimation(i,n,s,a,l,h){const m=n.triggerName,_=n.element,D=[],M=new Set,A=new Set,I=n.timelines.map(B=>{const $=B.element;M.add($);const le=$[Gs];if(le&&le.removedBeforeQueried)return new Eh(B.duration,B.delay);const Re=$!==_,Ve=function(r){const i=[];return iN(r,i),i}((s.get($)||eN).map(Ki=>Ki.getRealPlayer())).filter(Ki=>!!Ki.element&&Ki.element===$),He=l.get($),Qe=h.get($),vn=HO(0,this._normalizer,0,B.keyframes,He,Qe),yi=this._buildPlayer(B,vn,Ve);if(B.subTimeline&&a&&A.add($),Re){const Ki=new _C(i,m,$);Ki.setRealPlayer(yi),D.push(Ki)}return yi});D.forEach(B=>{Vs(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const a=s.indexOf(n);s.splice(a,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const a=s.indexOf(n);s.splice(a,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,B.element,B))}),M.forEach(B=>Ys(B,jO));const O=Cu(I);return O.onDestroy(()=>{M.forEach(B=>em(B,jO)),Ma(_,n.toStyles)}),A.forEach(B=>{Vs(a,B,[]).push(O)}),O}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new Eh(i.duration,i.delay)}}class _C{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new Eh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>pS(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){Vs(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function Xp(r){return r&&1===r.nodeType}function yC(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function bC(r,i,n,s,a){const l=[];n.forEach(_=>l.push(yC(_)));const h=[];s.forEach((_,D)=>{const M={};_.forEach(A=>{const I=M[A]=i.computeStyle(D,A,a);(!I||0==I.length)&&(D[Gs]=LS,h.push(D))}),r.set(D,M)});let m=0;return n.forEach(_=>yC(_,l[m++])),h}function HS(r,i){const n=new Map;if(r.forEach(m=>n.set(m,[])),0==i.length)return n;const a=new Set(i),l=new Map;function h(m){if(!m)return 1;let _=l.get(m);if(_)return _;const D=m.parentNode;return _=n.has(D)?D:a.has(D)?1:h(D),l.set(m,_),_}return i.forEach(m=>{const _=h(m);1!==_&&n.get(_).push(m)}),n}const Uy="$$classes";function Ys(r,i){if(r.classList)r.classList.add(i);else{let n=r[Uy];n||(n=r[Uy]={}),n[i]=!0}}function em(r,i){if(r.classList)r.classList.remove(i);else{let n=r[Uy];n&&delete n[i]}}function HV(r,i,n){Cu(n).onDone(()=>r.processLeaveNode(i))}function iN(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof hS?iN(s.players,i):i.push(s)}}function rN(r,i,n){const s=n.get(r);if(!s)return!1;let a=i.get(r);return a?s.forEach(l=>a.add(l)):i.set(r,s),n.delete(r),!0}class vC{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new tN(i,n,s),this._timelineEngine=new XO(i,n,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,n,s,a,l){const h=i+"-"+a;let m=this._triggerCache[h];if(!m){const _=[],D=tC(this._driver,l,_);if(_.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);m=function(r,i,n){return new Fy(r,i,n)}(a,D,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(n,a,m)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,a){this._transitionEngine.insertNode(i,n,s,a)}onRemove(i,n,s,a){this._transitionEngine.removeNode(i,n,a||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,a){if("@"==s.charAt(0)){const[l,h]=mS(s);this._timelineEngine.command(l,n,h,a)}else this._transitionEngine.trigger(i,n,s,a)}listen(i,n,s,a,l){if("@"==s.charAt(0)){const[h,m]=mS(s);return this._timelineEngine.listen(h,n,m,l)}return this._transitionEngine.listen(i,n,s,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function sN(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=GS(i[0]),i.length>1&&(s=GS(i[i.length-1]))):i&&(n=GS(i)),n||s?new tm(r,n,s):null}class tm{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let a=tm.initialStylesByElement.get(i);a||tm.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ma(this._element,this._initialStyles),this._endStyles&&(Ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tm.initialStylesByElement.delete(this._element),this._startStyles&&(Eu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eu(this._element,this._endStyles),this._endStyles=null),Ma(this._element,this._initialStyles),this._state=3)}}function GS(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const a=n[s];oN(a)&&(i=i||{},i[a]=r[a])}return i}function oN(r){return"display"===r||"position"===r}tm.initialStylesByElement=new WeakMap;const aN="animation",lN="animationend";class qV{constructor(i,n,s,a,l,h,m){this._element=i,this._name=n,this._duration=s,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(r,i){const n=CC(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),wC(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hN(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){YS(this._element,this._name,"paused")}resume(){YS(this._element,this._name,"running")}setPosition(i){const n=jS(this._element,this._name);this._position=i*this._duration,wC(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hN(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=CC(r,"").split(","),a=qS(s,i);a>=0&&(s.splice(a,1),wC(r,"",s.join(",")))}(this._element,this._name))}}function YS(r,i,n){wC(r,"PlayState",n,jS(r,i))}function jS(r,i){const n=CC(r,"");return n.indexOf(",")>0?qS(n.split(","),i):qS([n],i)}function qS(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function hN(r,i,n){n?r.removeEventListener(lN,i):r.addEventListener(lN,i)}function wC(r,i,n,s){const a=aN+i;if(null!=s){const l=r.style[a];if(l.length){const h=l.split(",");h[s]=n,n=h.join(",")}}r.style[a]=n}function CC(r,i){return r.style[aN+i]||""}class mN{constructor(i,n,s,a,l,h,m,_){this.element=i,this.keyframes=n,this.animationName=s,this._duration=a,this._delay=l,this._finalStyles=m,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new qV(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:eC(this.element,s))})}this.currentSnapshot=i}}class zV extends Eh{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=gS(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class gN{constructor(){this._count=0}validateStyleProperty(i){return Up(i)}matchesElement(i,n){return vy(i,n)}containsElement(i,n){return wy(i,n)}query(i,n,s){return Cy(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(m=>gS(m));let a=`@keyframes ${n} {\n`,l="";s.forEach(m=>{l=" ";const _=parseFloat(m.offset);a+=`${l}${100*_}% {\n`,l+=" ",Object.keys(m).forEach(D=>{const M=m[D];switch(D){case"offset":return;case"easing":return void(M&&(a+=`${l}animation-timing-function: ${M};\n`));default:return void(a+=`${l}${D}: ${M};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(i,n,s,a,l,h=[],m){const _=h.filter(le=>le instanceof mN),D={};Kw(s,a)&&_.forEach(le=>{let Re=le.currentSnapshot;Object.keys(Re).forEach(Ve=>D[Ve]=Re[Ve])});const M=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(i[a]=s[a])})}),i}(n=Xw(i,n,D));if(0==s)return new zV(i,M);const A="gen_css_kf_"+this._count++,I=this.buildKeyframeElement(i,A,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(I);const B=sN(i,n),$=new mN(i,n,A,s,a,l,M,B);return $.onDestroy(()=>{var r;(r=I).parentNode.removeChild(r)}),$}}class zS{constructor(i,n,s,a){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:eC(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class TC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(EC().toString()),this._cssKeyframesDriver=new gN}validateStyleProperty(i){return Up(i)}matchesElement(i,n){return vy(i,n)}containsElement(i,n){return wy(i,n)}query(i,n,s){return Cy(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,a,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,a,l,h);const M={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(M.easing=l);const A={},I=h.filter(B=>B instanceof zS);Kw(s,a)&&I.forEach(B=>{let $=B.currentSnapshot;Object.keys($).forEach(le=>A[le]=$[le])});const O=sN(i,n=Xw(i,n=n.map(B=>ec(B,!1)),A));return new zS(i,n,M,O)}}function EC(){return fS()&&Element.prototype.animate||{}}let WS=(()=>{class r extends LO{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(n)?cS(n):n;return nm(this._renderer,null,s,"register",[a]),new JV(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.FYo),o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class JV extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new JS(this._id,i,n||{},this._renderer)}}class JS{constructor(i,n,s,a){this.id=i,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return nm(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function nm(r,i,n,s,a){return r.setProperty(i,`@@${n}:${s}`,a)}const yN="@.disabled";let QV=(()=>{class r{constructor(n,s,a){this.delegate=n,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(n,s){const l=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let M=this._rendererCache.get(l);return M||(M=new bN("",l,this.engine),this._rendererCache.set(l,M)),M}const h=s.id,m=s.id+"-"+this._currentId;this._currentId++,this.engine.register(m,n);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(h,m,n,M.name,M)};return s.data.animation.forEach(_),new vN(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,a){n>=0&&n<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.FYo),o.LFG(vC),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class bN{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>n.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,a=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,a)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,a){this.delegate.setAttribute(i,n,s,a)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,a){this.delegate.setStyle(i,n,s,a)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==yN?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class vN extends bN{constructor(i,n,s,a){super(n,s,a),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==yN?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const a=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let l=n.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,s,m)})}return this.delegate.listen(i,n,s)}}let wN=(()=>{class r extends vC{constructor(n,s,a){super(n.body,s,a)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(Dy),o.LFG(aC))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const In=new o.OlP("AnimationModuleType"),CN=[{provide:LO,useClass:WS},{provide:aC,useFactory:function(){return new Qp}},{provide:vC,useClass:wN},{provide:o.FYo,useFactory:function(r,i,n){return new QV(r,i,n)},deps:[Is,vC,o.R0b]}],DN=[{provide:Dy,useFactory:function(){return"function"==typeof EC()?new TC:new gN}},{provide:In,useValue:"BrowserAnimations"},...CN],QS=[{provide:Dy,useClass:_S},{provide:In,useValue:"NoopAnimations"},...CN];let t3=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?QS:DN}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:DN,imports:[mg]}),r})();const Gy=new o.GfV("12.2.5"),js=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ke=(()=>{class r{constructor(n,s,a){this._hasDoneGlobalChecks=!1,this._document=a,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,o.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Gy.full!==lS.full&&console.warn("The Angular Material version ("+Gy.full+") does not match the Angular CDK version ("+lS.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Yg),o.LFG(js,8),o.LFG(Z))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Pr],Pr]}),r})();function ar(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=xe(i)}}}function qs(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function os(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=xe(i)}}}function Go(r,i=0){return class extends r{constructor(...n){super(...n),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?qt(n):this.defaultTabIndex}}}function Rh(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new pe.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==i&&(this.errorState=l,this.stateChanges.next())}}}const xN=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,o.f3M)(o.soG)}});class pi{constructor(){this._localeChanges=new pe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return null==i||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,n){return this.getYear(i)-this.getYear(n)||this.getMonth(i)-this.getMonth(n)||this.getDate(i)-this.getDate(n)}sameDate(i,n){if(i&&n){let s=this.isValid(i),a=this.isValid(n);return s&&a?!this.compareDate(i,n):s==a}return i==n}clampDate(i,n,s){return n&&this.compareDate(i,n)<0?n:s&&this.compareDate(i,s)>0?s:i}}const Ta=new o.OlP("mat-date-formats");let xu;try{xu="undefined"!=typeof Intl}catch(r){xu=!1}const IC={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},XS=Ds(31,r=>String(r+1)),RC={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},kN=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ds(r,i){const n=Array(r);for(let s=0;s<r;s++)n[s]=i(s);return n}let IN=(()=>{class r extends pi{constructor(n,s){super(),this.useUtcForDisplay=!0,super.setLocale(n),this.useUtcForDisplay=!s.TRIDENT,this._clampDate=s.TRIDENT||s.EDGE}getYear(n){return n.getFullYear()}getMonth(n){return n.getMonth()}getDate(n){return n.getDate()}getDayOfWeek(n){return n.getDay()}getMonthNames(n){if(xu){const s=new Intl.DateTimeFormat(this.locale,{month:n,timeZone:"utc"});return Ds(12,a=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,a,1))))}return IC[n]}getDateNames(){if(xu){const n=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ds(31,s=>this._stripDirectionalityCharacters(this._format(n,new Date(2017,0,s+1))))}return XS}getDayOfWeekNames(n){if(xu){const s=new Intl.DateTimeFormat(this.locale,{weekday:n,timeZone:"utc"});return Ds(7,a=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,0,a+1))))}return RC[n]}getYearName(n){if(xu){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(s,n))}return String(this.getYear(n))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(n){return this.getDate(this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+1,0))}clone(n){return new Date(n.getTime())}createDate(n,s,a){let l=this._createDateWithOverflow(n,s,a);return l.getMonth(),l}today(){return new Date}parse(n){return"number"==typeof n?new Date(n):n?new Date(Date.parse(n)):null}format(n,s){if(!this.isValid(n))throw Error("NativeDateAdapter: Cannot format invalid date.");if(xu){this._clampDate&&(n.getFullYear()<1||n.getFullYear()>9999)&&(n=this.clone(n)).setFullYear(Math.max(1,Math.min(9999,n.getFullYear()))),s=Object.assign(Object.assign({},s),{timeZone:"utc"});const a=new Intl.DateTimeFormat(this.locale,s);return this._stripDirectionalityCharacters(this._format(a,n))}return this._stripDirectionalityCharacters(n.toDateString())}addCalendarYears(n,s){return this.addCalendarMonths(n,12*s)}addCalendarMonths(n,s){let a=this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+s,this.getDate(n));return this.getMonth(a)!=((this.getMonth(n)+s)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a}addCalendarDays(n,s){return this._createDateWithOverflow(this.getYear(n),this.getMonth(n),this.getDate(n)+s)}toIso8601(n){return[n.getUTCFullYear(),this._2digit(n.getUTCMonth()+1),this._2digit(n.getUTCDate())].join("-")}deserialize(n){if("string"==typeof n){if(!n)return null;if(kN.test(n)){let s=new Date(n);if(this.isValid(s))return s}}return super.deserialize(n)}isDateInstance(n){return n instanceof Date}isValid(n){return!isNaN(n.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(n,s,a){const l=new Date;return l.setFullYear(n,s,a),l.setHours(0,0,0,0),l}_2digit(n){return("00"+n).slice(-2)}_stripDirectionalityCharacters(n){return n.replace(/[\u200e\u200f]/g,"")}_format(n,s){const a=new Date;return a.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),a.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),n.format(a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(xN,8),o.LFG(kt))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),RN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:pi,useClass:IN}],imports:[[Yf]]}),r})();const a3={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ON=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:Ta,useValue:a3}],imports:[[RN]]}),r})(),as=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),Yy=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke],Ke]}),r})();class NN{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NC={enterDuration:225,exitDuration:150},tx=Oo({passive:!0}),PC=["mousedown","touchstart"],FC=["mouseup","mouseleave","touchend","touchcancel"];class LC{constructor(i,n,s,a){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=ri(s))}fadeInRipple(i,n,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},NC),s.animation);s.centered&&(i=a.left+a.width/2,n=a.top+a.height/2);const h=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),a=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+a*a)}(i,n,a),m=i-a.left,_=n-a.top,D=l.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=m-h+"px",M.style.top=_-h+"px",M.style.height=2*h+"px",M.style.width=2*h+"px",null!=s.color&&(M.style.backgroundColor=s.color),M.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)";const A=new NN(this,M,s);return A.state=0,this._activeRipples.add(A),s.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const I=A===this._mostRecentTransientRipple;A.state=1,!s.persistent&&(!I||!this._isPointerDown)&&A.fadeOut()},D),A}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,a=Object.assign(Object.assign({},NC),i.config.animation);s.style.transitionDuration=`${a.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=ri(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(PC))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(FC),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=n0(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Qf(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,tx)})})}_removeTriggerEvents(){this._triggerElement&&(PC.forEach(i=>{this._triggerElement.removeEventListener(i,this,tx)}),this._pointerUpEventsRegistered&&FC.forEach(i=>{this._triggerElement.removeEventListener(i,this,tx)}))}}const tc=new o.OlP("mat-ripple-global-options");let lr=(()=>{class r{constructor(n,s,a,l,h){this._elementRef=n,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new LC(this,s,n,a)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,a){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(kt),o.Y36(tc,8),o.Y36(In,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),go=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke,Yf],Ke]}),r})(),BC=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke]]}),r})(),qy=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[go,Kt,Ke,BC]]}),r})();function HC(r,i){}class ei{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const h3={dialogContainer:fi("dialogContainer",[Yt("void, exit",$e({opacity:0,transform:"scale(0.7)"})),Yt("enter",$e({transform:"none"})),on("* => enter",dn("150ms cubic-bezier(0, 0, 0.2, 1)",$e({transform:"none",opacity:1}))),on("* => void, * => exit",dn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",$e({opacity:0})))])};let ox=(()=>{class r extends Yd{constructor(n,s,a,l,h,m){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=a,this._config=h,this._focusMonitor=m,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(_)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=qa(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=qa())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=qa();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Bg),o.Y36(o.sBO),o.Y36(Z,8),o.Y36(ei),o.Y36(Xn))},r.\u0275dir=o.lG2({type:r,viewQuery:function(n,s){if(1&n&&o.Gf(si,7),2&n){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},features:[o.qOj]}),r})(),HN=(()=>{class r extends ox{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&o.WFA("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&n&&(o.Ikx("id",s._id),o.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),o.d8E("@dialogContainer",s._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&o.YNc(0,HC,0,0,"ng-template",0)},directives:[si],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[h3.dialogContainer]}}),r})(),Zy=0;class nc{constructor(i,n,s="mat-dialog-"+Zy++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new pe.xQ,this._afterClosed=new pe.xQ,this._beforeClosed=new pe.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(wt(a=>"opened"===a.state),P(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(wt(a=>"closed"===a.state),P(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(wt(a=>27===a.keyCode&&!this.disableClose&&!Hn(a))).subscribe(a=>{a.preventDefault(),GC(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():GC(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(wt(n=>"closing"===n.state),P(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function GC(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const Nh=new o.OlP("MatDialogData"),Au=new o.OlP("mat-dialog-default-options"),YC=new o.OlP("mat-dialog-scroll-strategy"),GN={provide:YC,deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.block()}};let zy=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M){this._overlay=n,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=_,this._dialogContainerType=D,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pe.xQ,this._afterOpenedAtThisLevel=new pe.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=vp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe($t(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new ei)).id&&this.getDialogById(s.id);const a=this._createOverlay(s),l=this._attachDialogContainer(a,s),h=this._attachDialogContent(n,l,a,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new Ul({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:ei,useValue:s}]}),h=new Gd(this._dialogContainerType,s.viewContainerRef,l,s.componentFactoryResolver);return n.attach(h).instance}_attachDialogContent(n,s,a,l){const h=new this._dialogRefConstructor(a,s,l.id);if(n instanceof o.Rgc)s.attachTemplatePortal(new so(n,null,{$implicit:l.data,dialogRef:h}));else{const m=this._createInjector(l,h,s),_=s.attachComponentPortal(new Gd(n,l.viewContainerRef,m));h.componentInstance=_.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(n,s,a){const l=n&&n.viewContainerRef&&n.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!l||!l.get(mn,null,o.XFs.Optional))&&h.push({provide:mn,useValue:{value:n.direction,change:(0,qe.of)()}}),o.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let a=s.length-1;a>-1;a--){let l=s[a];l!==n&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ri),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(Xa),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},r.\u0275dir=o.lG2({type:r}),r})(),ic=(()=>{class r extends zy{constructor(n,s,a,l,h,m,_){super(n,s,l,m,_,h,nc,HN,Nh)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ri),o.LFG(o.zs3),o.LFG(Ut,8),o.LFG(Au,8),o.LFG(YC),o.LFG(r,12),o.LFG(Xa))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),lx=0,Zi=(()=>{class r{constructor(n,s,a){this.dialogRef=n,this._elementRef=s,this._dialog=a,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=jN(this._elementRef,this._dialog.openDialogs))}ngOnChanges(n){const s=n._matDialogClose||n._matDialogCloseResult;s&&(this.dialogResult=s.currentValue)}_onButtonClick(n){GC(this.dialogRef,0===n.screenX&&0===n.screenY?"keyboard":"mouse",this.dialogResult)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(nc,8),o.Y36(o.SBq),o.Y36(ic))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,s){1&n&&o.NdJ("click",function(l){return s._onButtonClick(l)}),2&n&&o.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),r})(),YN=(()=>{class r{constructor(n,s,a){this._dialogRef=n,this._elementRef=s,this._dialog=a,this.id="mat-dialog-title-"+lx++}ngOnInit(){this._dialogRef||(this._dialogRef=jN(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const n=this._dialogRef._containerInstance;n&&!n._ariaLabelledBy&&(n._ariaLabelledBy=this.id)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(nc,8),o.Y36(o.SBq),o.Y36(ic))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(n,s){2&n&&o.Ikx("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),r})(),om=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),r})(),am=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),r})();function jN(r,i){let n=r.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?i.find(s=>s.id===n.id):null}let $y=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[ic,GN],imports:[[Ca,$a,Ke],Ke]}),r})();const qN=["underline"],f3=["connectionContainer"],p3=["inputContainer"],m3=["label"];function ZN(r,i){1&r&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function zN(r,i){1&r&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function $N(r,i){if(1&r&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&r){const n=o.oxw(2);o.xp6(3),o.Oqu(n._control.placeholder)}}function WN(r,i){1&r&&o.Hsn(0,3,["*ngSwitchCase","true"])}function JN(r,i){1&r&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function g3(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(n),o.oxw().updateOutlineGap()}),o.YNc(2,$N,4,1,"ng-container",12),o.YNc(3,WN,1,0,"ng-content",12),o.YNc(4,JN,2,0,"span",22),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),o.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),o.uIk("for",n._control.id)("aria-owns",n._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function QN(r,i){1&r&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function KN(r,i){if(1&r&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function XN(r,i){if(1&r&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&r){const n=o.oxw();o.Q6J("@transitionMessages",n._subscriptAnimationState)}}function _3(r,i){if(1&r&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.Q6J("id",n._hintLabelId),o.xp6(1),o.Oqu(n.hintLabel)}}function y3(r,i){if(1&r&&(o.TgZ(0,"div",28),o.YNc(1,_3,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&r){const n=o.oxw();o.Q6J("@transitionMessages",n._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",n.hintLabel)}}const eP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],tP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let nP=0;const cx=new o.OlP("MatError");let ku=(()=>{class r{constructor(n,s){this.id="mat-error-"+nP++,n||s.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(n){return new(n||r)(o.$8M("aria-live"),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(n,s){2&n&&o.uIk("id",s.id)},inputs:{id:"id"},features:[o._Bn([{provide:cx,useExisting:r}])]}),r})();const Yo={transitionMessages:fi("transitionMessages",[Yt("enter",$e({opacity:1,transform:"translateY(0%)"})),on("void => enter",[$e({opacity:0,transform:"translateY(-5px)"}),dn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Iu=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r}),r})();const ux=new o.OlP("MatHint");let ZC=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-label"]]}),r})(),lm=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const zC=new o.OlP("MatPrefix"),dx=new o.OlP("MatSuffix");let Wy=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:dx,useExisting:r}])]}),r})(),iP=0;const rP=qs(class{constructor(r){this._elementRef=r}},"primary"),sP=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ph=new o.OlP("MatFormField");let Ru=(()=>{class r extends rP{constructor(n,s,a,l,h,m,_,D){super(n),this._changeDetectorRef=s,this._dir=l,this._defaults=h,this._platform=m,this._ngZone=_,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pe.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+iP++,this._labelId="mat-form-field-label-"+iP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==D,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=xe(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe($t(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Be(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Be(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,kn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($t(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($t(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Be(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,On(this._label.nativeElement,"transitionend").pipe(P(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,a=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),a&&n.push(a.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),m=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=l.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(_),M=n.children,A=this._getStartEnd(M[0].getBoundingClientRect());let I=0;for(let O=0;O<M.length;O++)I+=M[O].offsetWidth;s=Math.abs(A-D)-5,a=I>0?.75*I+10:0}for(let _=0;_<h.length;_++)h[_].style.width=`${s}px`;for(let _=0;_<m.length;_++)m[_].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(mn,8),o.Y36(sP,8),o.Y36(kt),o.Y36(o.R0b),o.Y36(In,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,Iu,5),o.Suo(a,Iu,7),o.Suo(a,ZC,5),o.Suo(a,ZC,7),o.Suo(a,lm,5),o.Suo(a,cx,5),o.Suo(a,ux,5),o.Suo(a,zC,5),o.Suo(a,dx,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._controlNonStatic=l.first),o.iGM(l=o.CRH())&&(s._controlStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(s._placeholderChild=l.first),o.iGM(l=o.CRH())&&(s._errorChildren=l),o.iGM(l=o.CRH())&&(s._hintChildren=l),o.iGM(l=o.CRH())&&(s._prefixChildren=l),o.iGM(l=o.CRH())&&(s._suffixChildren=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(qN,5),o.Gf(f3,7),o.Gf(p3,5),o.Gf(m3,5)),2&n){let a;o.iGM(a=o.CRH())&&(s.underlineRef=a.first),o.iGM(a=o.CRH())&&(s._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(s._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(s._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&o.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Ph,useExisting:r}]),o.qOj],ngContentSelectors:tP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(o.F$t(eP),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(l){return s._control.onContainerClick&&s._control.onContainerClick(l)}),o.YNc(3,ZN,9,0,"ng-container",3),o.YNc(4,zN,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,g3,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,QN,2,0,"div",9),o.qZA(),o.YNc(11,KN,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,XN,2,1,"div",12),o.YNc(14,y3,5,2,"div",13),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Q6J("ngIf","outline"==s.appearance),o.xp6(1),o.Q6J("ngIf",s._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",s._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",s._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=s.appearance),o.xp6(1),o.Q6J("ngSwitch",s._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[ht,Ui,Jn,zf],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Yo.transitionMessages]},changeDetection:0}),r})(),$C=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,Ke,$f],Ke]}),r})();const hx=Oo({passive:!0});let fx=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return R.E;const s=ri(n),a=this._monitoredElements.get(s);if(a)return a.subject;const l=new pe.xQ,h="cdk-text-field-autofilled",m=_=>{"cdk-text-field-autofill-start"!==_.animationName||s.classList.contains(h)?"cdk-text-field-autofill-end"===_.animationName&&s.classList.contains(h)&&(s.classList.remove(h),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(s.classList.add(h),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",m,hx),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:l,unlisten:()=>{s.removeEventListener("animationstart",m,hx)}}),l}stopMonitoring(n){const s=ri(n),a=this._monitoredElements.get(s);a&&(a.unlisten(),a.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(kt),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(kt),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})(),WC=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Yf]]}),r})();const JC=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),px=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let QC=0;const KC=Rh(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let cl=(()=>{class r extends KC{constructor(n,s,a,l,h,m,_,D,M,A){super(m,l,h,a),this._elementRef=n,this._platform=s,this._autofillMonitor=D,this._formField=A,this._uid="mat-input-"+QC++,this.focused=!1,this.stateChanges=new pe.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>iM().has(B));const I=this._elementRef.nativeElement,O=I.nodeName.toLowerCase();this._inputValueAccessor=_||I,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&M.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",B=>{const $=B.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=xe(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=xe(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&iM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=xe(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const a=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(a!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=a,a?l.setAttribute("placeholder",a):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){px.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(kt),o.Y36(ss,10),o.Y36(Fs,8),o.Y36(Oi,8),o.Y36(as),o.Y36(JC,10),o.Y36(fx),o.Y36(o.R0b),o.Y36(Ph,8))},r.\u0275dir=o.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&o.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(o.Ikx("disabled",s.disabled)("required",s.required),o.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),o.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[o._Bn([{provide:Iu,useExisting:r}]),o.qOj,o.TTD]}),r})(),Qy=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[as],imports:[[WC,$C,Ke],WC,$C]}),r})();function Ky(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function mx(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function gx(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function aP(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}let _x=(()=>{class r{constructor(n,s,a,l){this.formBuilder=n,this.authService=s,this.dialogRef=a,this.data=l,this.userDatasForm=this.formBuilder.group({nom:["",[_t.required,_t.minLength(5),_t.maxLength(25)]],prenom:["",[_t.required,_t.minLength(3),_t.maxLength(25)]],email:[{value:this.authService.getCurrentUser().email,disabled:!0}]}),this.errorMessage="",this.description=""}ngOnInit(){this.initForm()}initForm(){}close(){this.dialogRef.close()}save(){this.dialogRef.close(this.userDatasForm.value)}getErrorMessage(n){let s="";switch(n){case"nom":this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("required")&&(s="Vous devez saisir votre nom"),(this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("minlength")||this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("maxlength"))&&(s="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("required")&&(s="Vous devez saisir votre pr\xe9nom"),(this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("minlength")||this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("maxlength"))&&(s="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("required")&&(s="Vous devez saisir une adresse email"),this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("email")&&(s="L'adresse saisie n'est pas valide.");break;case"password1":this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(jr),o.Y36(nc),o.Y36(Nh))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-user-datas"]],decls:21,vars:5,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2),o.TgZ(3,"div",3),o.YNc(4,Ky,2,1,"mat-error",4),o.YNc(5,mx,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"mat-form-field",1),o._UZ(8,"input",5),o.TgZ(9,"div",3),o.YNc(10,gx,2,1,"mat-error",4),o.YNc(11,aP,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",1),o._UZ(14,"input",6),o.qZA(),o._UZ(15,"br"),o.qZA(),o.TgZ(16,"mat-dialog-actions"),o.TgZ(17,"button",7),o.NdJ("click",function(){return s.save()}),o._uU(18,"Ok"),o.qZA(),o.TgZ(19,"button",8),o.NdJ("click",function(){return s.close()}),o._uU(20,"Annuler"),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.userDatasForm),o.xp6(4),o.Q6J("ngIf",(s.userDatasForm.controls.nom.hasError("minlength")||s.userDatasForm.controls.nom.hasError("maxlength"))&&!s.userDatasForm.controls.nom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.userDatasForm.controls.nom.hasError("required")),o.xp6(5),o.Q6J("ngIf",(s.userDatasForm.controls.prenom.hasError("minlength")||s.userDatasForm.controls.prenom.hasError("maxlength"))&&!s.userDatasForm.controls.prenom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.userDatasForm.controls.prenom.hasError("required")))},directives:[om,nl,Oi,Ru,cl,Vo,tl,Da,ht,am,ku],styles:[""]}),r})();var yx=L(5893),Wt=L(4685),Fh=L(5452),Ou=L(300),Lh=L(6034),oi=L(9126),$n=L(8939),cm=(L(4828),L(4486)),Me=L(8239),Bh=function(r,i){return(Bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])})(r,i)};function e1(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var it,eb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t1=t1||{},Bt=eb||self;function tb(){}function nb(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function um(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var n1="closure_uid_"+(1e9*Math.random()>>>0),rc=0;function dm(r,i,n){return r.call.apply(r.bind,arguments)}function r1(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(i,a)}}return function(){return r.apply(i,arguments)}}function Mr(r,i,n){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dm:r1).apply(null,arguments)}function ib(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Tr(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,a,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return i.prototype[a].apply(s,h)}}function Sa(){this.s=this.s,this.o=this.o}var bx={};Sa.prototype.s=!1,Sa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,n1)&&r[n1]||(r[n1]=++rc)}(this);delete bx[r]}},Sa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var s1=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},vx=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,a="string"==typeof r?r.split(""):r,l=0;l<s;l++)l in a&&i.call(n,a[l],l,r)};function wx(r){return Array.prototype.concat.apply([],arguments)}function jo(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function sc(r){return/^[\s\xa0]*$/.test(r)}var ls,Nu=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function cr(r,i){return-1!=r.indexOf(i)}function oc(r,i){return r<i?-1:r>i?1:0}e:{var Cx=Bt.navigator;if(Cx){var Dx=Cx.userAgent;if(Dx){ls=Dx;break e}}ls=""}function rb(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function o1(r){var i={};for(var n in r)i[n]=r[n];return i}var a1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l1(r,i){for(var n,s,a=1;a<arguments.length;a++){for(n in s=arguments[a])r[n]=s[n];for(var l=0;l<a1.length;l++)n=a1[l],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function hm(r){return hm[" "](r),r}hm[" "]=tb;var c1,r,hP=cr(ls,"Opera"),Pu=cr(ls,"Trident")||cr(ls,"MSIE"),ac=cr(ls,"Edge"),fm=ac||Pu,Mx=cr(ls,"Gecko")&&!(cr(ls.toLowerCase(),"webkit")&&!cr(ls,"Edge"))&&!(cr(ls,"Trident")||cr(ls,"MSIE"))&&!cr(ls,"Edge"),fP=cr(ls.toLowerCase(),"webkit")&&!cr(ls,"Edge");function pP(){var r=Bt.document;return r?r.documentMode:void 0}e:{var Tx="",Ex=(r=ls,Mx?/rv:([^\);]+)(\)|;)/.exec(r):ac?/Edge\/([\d\.]+)/.exec(r):Pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):fP?/WebKit\/(\S+)/.exec(r):hP?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ex&&(Tx=Ex?Ex[1]:""),Pu){var u1=pP();if(null!=u1&&u1>parseFloat(Tx)){c1=String(u1);break e}}c1=Tx}var mP={};function S3(){return i=mP,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=Nu(String(c1)).split("."),n=Nu("9").split("."),s=Math.max(i.length,n.length),a=0;0==r&&a<s;a++){var l=i[a]||"",h=n[a]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;r=oc(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||oc(0==l[2].length,0==h[2].length)||oc(l[2],h[2]),l=l[3],h=h[3]}while(0==r)}return 0<=r}();var i}var x3=Bt.document&&Pu&&(pP()||parseInt(c1,10))||void 0,_P=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Bt.addEventListener("test",tb,i),Bt.removeEventListener("test",tb,i)}catch(n){}return r}();function cs(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function sb(r,i){if(cs.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(Mx){e:{try{hm(i.nodeName);var a=!0;break e}catch(l){}a=!1}a||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:A3[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&sb.Z.h.call(this)}}cs.prototype.h=function(){this.defaultPrevented=!0},Tr(sb,cs);var A3={2:"touch",3:"pen",4:"mouse"};sb.prototype.h=function(){sb.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var ob="closure_listenable_"+(1e6*Math.random()|0),c=0;function u(r,i,n,s,a){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=a,this.key=++c,this.ca=this.fa=!1}function d(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function f(r){this.src=r,this.g={},this.h=0}function p(r,i){var n=i.type;if(n in r.g){var l,s=r.g[n],a=s1(s,i);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(d(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function g(r,i,n,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.ca&&l.listener==i&&l.capture==!!n&&l.ia==s)return a}return-1}f.prototype.add=function(r,i,n,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var h=g(r,i,s,a);return-1<h?(i=r[h],n||(i.fa=!1)):((i=new u(i,this.src,l,!!s,a)).fa=n,r.push(i)),i};var v="closure_lm_"+(1e6*Math.random()|0),w={};function E(r,i,n,s,a){if(s&&s.once)return N(r,i,n,s,a);if(Array.isArray(i)){for(var l=0;l<i.length;l++)E(r,i[l],n,s,a);return null}return n=Ee(n),r&&r[ob]?r.N(i,n,um(s)?!!s.capture:!!s,a):x(r,i,n,!1,s,a)}function x(r,i,n,s,a,l){if(!i)throw Error("Invalid event type");var h=um(a)?!!a.capture:!!a,m=ae(r);if(m||(r[v]=m=new f(r)),(n=m.add(i,n,s,h,l)).proxy)return n;if(s=function(){var i=ge;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)_P||(a=h),void 0===a&&(a=!1),r.addEventListener(i.toString(),s,a);else if(r.attachEvent)r.attachEvent(K(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function N(r,i,n,s,a){if(Array.isArray(i)){for(var l=0;l<i.length;l++)N(r,i[l],n,s,a);return null}return n=Ee(n),r&&r[ob]?r.O(i,n,um(s)?!!s.capture:!!s,a):x(r,i,n,!0,s,a)}function F(r,i,n,s,a){if(Array.isArray(i))for(var l=0;l<i.length;l++)F(r,i[l],n,s,a);else s=um(s)?!!s.capture:!!s,n=Ee(n),r&&r[ob]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=g(l=r.g[i],n,s,a))&&(d(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete r.g[i],r.h--))):r&&(r=ae(r))&&(i=r.g[i.toString()],r=-1,i&&(r=g(i,n,s,a)),(n=-1<r?i[r]:null)&&G(n))}function G(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[ob])p(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(K(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=ae(i))?(p(n,r),0==n.h&&(n.src=null,i[v]=null)):d(r)}}}function K(r){return r in w?w[r]:w[r]="on"+r}function ge(r,i){if(r.ca)r=!0;else{i=new sb(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&G(r),r=n.call(s,i)}return r}function ae(r){return(r=r[v])instanceof f?r:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(r){return"function"==typeof r?r:(r[Le]||(r[Le]=function(i){return r.handleEvent(i)}),r[Le])}function We(){Sa.call(this),this.i=new f(this),this.P=this,this.I=null}function rt(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new cs(i,r);else if(i instanceof cs)i.target=i.target||r;else{var a=i;l1(i=new cs(s,r),a)}if(a=!0,n)for(var l=n.length-1;0<=l;l--){var h=i.g=n[l];a=Xt(h,s,!0,i)&&a}if(a=Xt(h=i.g=r,s,!0,i)&&a,a=Xt(h,s,!1,i)&&a,n)for(l=0;l<n.length;l++)a=Xt(h=i.g=n[l],s,!1,i)&&a}function Xt(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,l=0;l<i.length;++l){var h=i[l];if(h&&!h.ca&&h.capture==n){var m=h.listener,_=h.ia||h.src;h.fa&&p(r.i,h),a=!1!==m.call(_,s)&&a}}return a&&!s.defaultPrevented}Tr(We,Sa),We.prototype[ob]=!0,We.prototype.removeEventListener=function(r,i,n,s){F(this,r,i,n,s)},We.prototype.M=function(){if(We.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)d(n[s]);delete r.g[i],r.h--}}this.I=null},We.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},We.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var Ni=Bt.JSON.stringify;function _o(){var r=ab,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var gm,pm=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=Fu.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),Fu=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new Vh},function(r){return r.reset()}),Vh=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function Uh(r){Bt.setTimeout(function(){throw r},0)}function mm(r,i){gm||function(){var r=Bt.Promise.resolve(void 0);gm=function(){r.then(y4)}}(),_m||(gm(),_m=!0),ab.add(r,i)}var _m=!1,ab=new pm;function y4(){for(var r;r=_o();){try{r.h.call(r.g)}catch(n){Uh(n)}var i=Fu;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}_m=!1}function xx(r,i){We.call(this),this.h=r||1,this.g=i||Bt,this.j=Mr(this.kb,this),this.l=Date.now()}function yP(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function bP(r,i,n){if("function"==typeof r)n&&(r=Mr(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Mr(r.handleEvent,r)}return 2147483647<Number(i)?-1:Bt.setTimeout(r,i||0)}function k3(r){r.g=bP(function(){r.g=null,r.i&&(r.i=!1,k3(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}Tr(xx,We),(it=xx.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rt(this,"tick"),this.da&&(yP(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){xx.Z.M.call(this),yP(this),delete this.g};var b4=function(r){function i(n,s){var a=r.call(this)||this;return a.m=n,a.j=s,a.h=null,a.i=!1,a.g=null,a}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}Bh(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:k3(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(Sa);function h1(r){Sa.call(this),this.h=r,this.g={}}Tr(h1,Sa);var I3=[];function R3(r,i,n,s){Array.isArray(n)||(n&&(I3[0]=n.toString()),n=I3);for(var a=0;a<n.length;a++){var l=E(i,n[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function O3(r){rb(r.g,function(i,n){this.g.hasOwnProperty(n)&&G(i)},r),r.g={}}function Ax(){this.g=!0}function lb(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return Ni(n)}catch(m){return i}}(r,n)+(s?" "+s:"")})}h1.prototype.M=function(){h1.Z.M.call(this),O3(this)},h1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ax.prototype.Aa=function(){this.g=!1},Ax.prototype.info=function(){};var ym={},N3=null;function kx(){return N3=N3||new We}function P3(r){cs.call(this,ym.Ma,r)}function f1(r){var i=kx();rt(i,new P3(i,r))}function F3(r,i){cs.call(this,ym.STAT_EVENT,r),this.stat=i}function Zs(r){var i=kx();rt(i,new F3(i,r))}function L3(r,i){cs.call(this,ym.Na,r),this.size=i}function p1(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){r()},i)}ym.Ma="serverreachability",Tr(P3,cs),ym.STAT_EVENT="statevent",Tr(F3,cs),ym.Na="timingevent",Tr(L3,cs);var Ix={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},B3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vP(){}function U3(){}vP.prototype.h=null;var DP,m1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wP(){cs.call(this,"d")}function CP(){cs.call(this,"c")}function Rx(){}function g1(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new h1(this),this.P=M4,this.W=new xx(r=fm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new H3}function H3(){this.i=null,this.g="",this.h=!1}Tr(wP,cs),Tr(CP,cs),Tr(Rx,vP),Rx.prototype.g=function(){return new XMLHttpRequest},Rx.prototype.i=function(){return{}},DP=new Rx;var M4=45e3,MP={},Ox={};function TP(r,i,n){r.K=1,r.v=Bx(Lu(i)),r.s=n,r.U=!0,G3(r,null)}function G3(r,i){r.F=Date.now(),_1(r),r.A=Lu(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),Q3(n.h,"t",s),r.C=0,n=r.l.H,r.h=new H3,r.g=v6(r.l,n?i:null,!r.s),0<r.O&&(r.L=new b4(Mr(r.Ia,r,r.g),r.O)),R3(r.V,r.g,"readystatechange",r.gb),i=r.H?o1(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),f1(1),function(r,i,n,s,a,l){r.info(function(){if(r.g)if(l)for(var h="",m=l.split("&"),_=0;_<m.length;_++){var D=m[_].split("=");if(1<D.length){var M=D[0];D=D[1];var A=M.split("_");h=2<=A.length&&"type"==A[1]?h+(M+"=")+D+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+i+"\n"+n+"\n"+h})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Y3(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function j3(r,i,n){for(var a,s=!0;!r.I&&r.C<n.length;){if((a=T4(r,n))==Ox){4==i&&(r.o=4,Zs(14),s=!1),lb(r.j,r.m,null,"[Incomplete Response]");break}if(a==MP){r.o=4,Zs(15),lb(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}lb(r.j,r.m,a,null),EP(r,a)}Y3(r)&&a!=Ox&&a!=MP&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,Zs(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),LP(i),i.L=!0,Zs(11))):(lb(r.j,r.m,n,"[Invalid Chunked Response]"),bm(r),y1(r))}function T4(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?Ox:(n=Number(i.substring(n,s)),isNaN(n)?MP:(s+=1)+n>i.length?Ox:(i=i.substr(s,n),r.C=s+n,i))}function _1(r){r.Y=Date.now()+r.P,q3(r,r.P)}function q3(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=p1(Mr(r.eb,r),i)}function Nx(r){r.B&&(Bt.clearTimeout(r.B),r.B=null)}function y1(r){0==r.l.G||r.I||g6(r.l,r)}function bm(r){Nx(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,yP(r.W),O3(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function EP(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||AP(n.i,r)))if(n.I=r.N,!r.J&&AP(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(le){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(n.u)n.ta=a[1],0<n.ta-n.U&&37500>a[2]&&n.N&&0==n.A&&!n.v&&(n.v=p1(Mr(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;jx(n),Gx(n)}FP(n),Zs(18)}if(1>=e6(n.i)&&n.ka){try{n.ka()}catch(le){}n.ka=void 0}}else Cm(n,11)}else if((r.J||n.g==r)&&jx(n),!sc(i))for(a=n.Ca.g.parse(i),i=0;i<a.length;i++){var l=a[i];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];var h=l[3];null!=h&&(n.ma=h,n.h.info("VER="+n.ma));var m=l[4];null!=m&&(n.za=m,n.h.info("SVER="+n.za));var _=l[5];null!=_&&"number"==typeof _&&0<_&&(n.K=s=1.5*_,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var D=r.g;if(D){var M=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var A=s.i;!A.g&&(cr(M,"spdy")||cr(M,"quic")||cr(M,"h2"))&&(A.j=A.l,A.g=new Set,A.h&&(kP(A,A.h),A.h=null))}if(s.D){var I=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(s.sa=I,Ei(s.F,s.D,I))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var O=r;if((s=n).oa=b6(s,s.H?s.la:null,s.W),O.J){t6(s.i,O);var B=O,$=s.K;$&&B.setTimeout($),B.B&&(Nx(B),_1(B)),s.g=O}else p6(s);0<n.l.length&&Yx(n)}else"stop"!=l[0]&&"close"!=l[0]||Cm(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Cm(n,7):NP(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}f1(4)}catch(le){}}function SP(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(nb(r)||"string"==typeof r)vx(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(nb(r)||"string"==typeof r){n=[];for(var s=r.length,a=0;a<s;a++)n.push(a)}else for(a in n=[],s=0,r)n[s++]=a;a=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(nb(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var l=0;l<a;l++)i.call(void 0,s[l],n&&n[l],r)}}function cb(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof cb)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function xP(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];vm(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var a={};for(n=i=0;i<r.g.length;)vm(a,s=r.g[i])||(r.g[n++]=s,a[s]=1),i++;r.g.length=n}}function vm(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(it=g1.prototype).setTimeout=function(r){this.P=r},it.gb=function(r){r=r.target;var i=this.L;i&&3==Bu(r)?i.l():this.Ia(r)},it.Ia=function(r){try{if(r==this.g)e:{var i=Bu(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||fm||this.g&&(this.h.h||this.g.ga()||c6(this.g)))){this.I||4!=i||7==n||f1(8==n||0>=s?3:2),Nx(this);var a=this.g.ba();this.N=a;t:if(Y3(this)){var l=c6(this.g);r="";var h=l.length,m=4==Bu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bm(this),y1(this);var _="";break t}this.h.i=new Bt.TextDecoder}for(n=0;n<h;n++)this.h.h=!0,r+=this.h.i.decode(l[n],{stream:m&&n==h-1});l.splice(0,h),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==a,function(r,i,n,s,a,l,h){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+i+"\n"+n+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sc(D)){var A=D;break t}}A=null}if(!(a=A)){this.i=!1,this.o=3,Zs(12),bm(this),y1(this);break e}lb(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,EP(this,a)}this.U?(j3(this,i,_),fm&&this.i&&3==i&&(R3(this.V,this.W,"tick",this.fb),this.W.start())):(lb(this.j,this.m,_,null),EP(this,_)),4==i&&bm(this),this.i&&!this.I&&(4==i?g6(this.l,this):(this.i=!1,_1(this)))}else 400==a&&0<_.indexOf("Unknown SID")?(this.o=3,Zs(12)):(this.o=0,Zs(13)),bm(this),y1(this)}}}catch(I){}},it.fb=function(){if(this.g){var r=Bu(this.g),i=this.g.ga();this.C<i.length&&(Nx(this),j3(this,r,i),this.i&&4!=r&&_1(this))}},it.cancel=function(){this.I=!0,bm(this)},it.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(f1(3),Zs(17)),bm(this),this.o=2,y1(this)):q3(this,this.Y-r)},(it=cb.prototype).R=function(){xP(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},it.T=function(){return xP(this),this.g.concat()},it.get=function(r,i){return vm(this.h,r)?this.h[r]:i},it.set=function(r,i){vm(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},it.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var a=n[s],l=this.get(a);r.call(i,l,a,this)}};var Z3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wm(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof wm){this.g=void 0!==i?i:r.g,Px(this,r.j),this.s=r.s,Fx(this,r.i),Lx(this,r.m),this.l=r.l,i=r.h;var n=new w1;n.i=i.i,i.g&&(n.g=new cb(i.g),n.h=i.h),z3(this,n),this.o=r.o}else r&&(n=String(r).match(Z3))?(this.g=!!i,Px(this,n[1]||"",!0),this.s=b1(n[2]||""),Fx(this,n[3]||"",!0),Lx(this,n[4]),this.l=b1(n[5]||"",!0),z3(this,n[6]||"",!0),this.o=b1(n[7]||"")):(this.g=!!i,this.h=new w1(null,this.g))}function Lu(r){return new wm(r)}function Px(r,i,n){r.j=n?b1(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function Fx(r,i,n){r.i=n?b1(i,!0):i}function Lx(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function z3(r,i,n){i instanceof w1?(r.h=i,function(r,i){i&&!r.j&&(Hh(r),r.i=null,r.g.forEach(function(n,s){var a=s.toLowerCase();s!=a&&(W3(this,s),Q3(this,a,n))},r)),r.j=i}(r.h,r.g)):(n||(i=v1(i,O4)),r.h=new w1(i,r.g))}function Ei(r,i,n){r.h.set(i,n)}function Bx(r){return Ei(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function b1(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function v1(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,k4),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function k4(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}wm.prototype.toString=function(){var r=[],i=this.j;i&&r.push(v1(i,$3,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(v1(i,$3,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(v1(n,"/"==n.charAt(0)?R4:I4,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",v1(n,N4)),r.join("")};var $3=/[#\/\?@]/g,I4=/[#\?:]/g,R4=/[#\?]/g,O4=/[#\?@]/g,N4=/#/g;function w1(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function Hh(r){r.g||(r.g=new cb,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),a=null;if(0<=s){var l=r[n].substring(0,s);a=r[n].substring(s+1)}else l=r[n];i(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function W3(r,i){Hh(r),i=ub(r,i),vm(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,vm((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&xP(r)))}function J3(r,i){return Hh(r),i=ub(r,i),vm(r.g.h,i)}function Q3(r,i,n){W3(r,i),0<n.length&&(r.i=null,r.g.set(ub(r,i),jo(n)),r.h+=n.length)}function ub(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(it=w1.prototype).add=function(r,i){Hh(this),this.i=null,r=ub(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},it.forEach=function(r,i){Hh(this),this.g.forEach(function(n,s){vx(n,function(a){r.call(i,a,s,this)},this)},this)},it.T=function(){Hh(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var a=r[s],l=0;l<a.length;l++)n.push(i[s]);return n},it.R=function(r){Hh(this);var i=[];if("string"==typeof r)J3(this,r)&&(i=wx(i,this.g.get(ub(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=wx(i,r[n])}return i},it.set=function(r,i){return Hh(this),this.i=null,J3(this,r=ub(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},it.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var h=a;""!==s[l]&&(h+="="+encodeURIComponent(String(s[l]))),r.push(h)}}return this.i=r.join("&")};var F4=function(i,n){this.h=i,this.g=n};function K3(r){this.l=r||L4,r=Bt.PerformanceNavigationTiming?0<(r=Bt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L4=10;function X3(r){return!!r.h||!!r.g&&r.g.size>=r.j}function e6(r){return r.h?1:r.g?r.g.size:0}function AP(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function kP(r,i){r.g?r.g.add(i):r.h=i}function t6(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function n6(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var a=e1(r.g.values()),l=a.next();!l.done;l=a.next())s=s.concat(l.value.D)}catch(m){i={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}return jo(r.i)}function IP(){}function B4(){this.g=new IP}function V4(r,i,n){var s=n||"";try{SP(r,function(a,l){var h=a;um(a)&&(h=Ni(a)),i.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw i.push(s+"type="+encodeURIComponent("_badmap")),a}}function Vx(r,i,n,s,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(s)}catch(l){}}function C1(r){this.l=r.$b||null,this.j=r.ib||!1}function Ux(r,i){We.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=RP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}K3.prototype.cancel=function(){var r,i;if(this.i=n6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=e1(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},IP.prototype.stringify=function(r){return Bt.JSON.stringify(r,void 0)},IP.prototype.parse=function(r){return Bt.JSON.parse(r,void 0)},Tr(C1,vP),C1.prototype.g=function(){return new Ux(this.l,this.j)},C1.prototype.i=function(r){return function(){return r}}({}),Tr(Ux,We);var RP=0;function i6(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function D1(r){r.readyState=4,r.l=null,r.j=null,r.A=null,M1(r)}function M1(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(it=Ux.prototype).open=function(r,i){if(this.readyState!=RP)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,M1(this)},it.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||Bt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,D1(this)),this.readyState=RP},it.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,M1(this)),this.g&&(this.readyState=3,M1(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Bt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;i6(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?D1(this):M1(this),3==this.readyState&&i6(this)}},it.Ua=function(r){this.g&&(this.response=this.responseText=r,D1(this))},it.Ta=function(r){this.g&&(this.response=r,D1(this))},it.ha=function(){this.g&&D1(this)},it.setRequestHeader=function(r,i){this.v.append(r,i)},it.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(Ux.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var H4=Bt.JSON.parse;function ur(r){We.call(this),this.headers=new cb,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=r6,this.K=this.L=!1}Tr(ur,We);var r6="",G4=/^https?$/i,Y4=["POST","PUT"];function q4(r){return"content-type"==r.toLowerCase()}function s6(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,o6(r),Hx(r)}function o6(r){r.D||(r.D=!0,rt(r,"complete"),rt(r,"error"))}function a6(r){if(r.h&&void 0!==t1&&(!r.C[1]||4!=Bu(r)||2!=r.ba()))if(r.v&&4==Bu(r))bP(r.Fa,0,r);else if(rt(r,"readystatechange"),4==Bu(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var a;if(a=0===i){var l=String(r.H).match(Z3)[1]||null;if(!l&&Bt.self&&Bt.self.location){var h=Bt.self.location.protocol;l=h.substr(0,h.length-1)}a=!G4.test(l?l.toLowerCase():"")}s=a}if(s)rt(r,"complete"),rt(r,"success");else{r.m=6;try{var m=2<Bu(r)?r.g.statusText:""}catch(_){m=""}r.j=m+" ["+r.ba()+"]",o6(r)}}finally{Hx(r)}}}function Hx(r,i){if(r.g){l6(r);var n=r.g,s=r.C[0]?tb:null;r.g=null,r.C=null,i||rt(r,"ready");try{n.onreadystatechange=s}catch(a){}}}function l6(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Bt.clearTimeout(r.A),r.A=null)}function Bu(r){return r.g?r.g.readyState:0}function c6(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case r6:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function OP(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return rb(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Ei(r,i,n))}function T1(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function u6(r){this.za=0,this.l=[],this.h=new Ax,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=T1("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=T1("baseRetryDelayMs",5e3,r),this.$a=T1("retryDelaySeedMs",1e4,r),this.Ya=T1("forwardChannelMaxRetries",2,r),this.ra=T1("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new K3(r&&r.concurrentRequestLimit),this.Ca=new B4,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function NP(r){if(d6(r),3==r.G){var i=r.V++,n=Lu(r.F);Ei(n,"SID",r.J),Ei(n,"RID",i),Ei(n,"TYPE","terminate"),E1(r,n),(i=new g1(r,r.h,i,void 0)).K=2,i.v=Bx(Lu(n)),n=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(n=Bt.navigator.sendBeacon(i.v.toString(),"")),!n&&Bt.Image&&((new Image).src=i.v,n=!0),n||(i.g=v6(i.l,null),i.g.ea(i.v)),i.F=Date.now(),_1(i)}y6(r)}function Gx(r){r.g&&(LP(r),r.g.cancel(),r.g=null)}function d6(r){Gx(r),r.u&&(Bt.clearTimeout(r.u),r.u=null),jx(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Bt.clearTimeout(r.m),r.m=null)}function PP(r,i){r.l.push(new F4(r.Za++,i)),3==r.G&&Yx(r)}function Yx(r){X3(r.i)||r.m||(r.m=!0,mm(r.Ha,r),r.C=0)}function h6(r,i){var n;n=i?i.m:r.V++;var s=Lu(r.F);Ei(s,"SID",r.J),Ei(s,"RID",n),Ei(s,"AID",r.U),E1(r,s),r.o&&r.s&&OP(s,r.o,r.s),n=new g1(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=f6(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),kP(r.i,n),TP(n,s,i)}function E1(r,i){r.j&&SP({},function(n,s){Ei(i,s,n)})}function f6(r,i,n){n=Math.min(r.l.length,n);var s=r.j?Mr(r.j.Oa,r.j,r):null;e:for(var a=r.l,l=-1;;){var h=["count="+n];-1==l?0<n?h.push("ofs="+(l=a[0].h)):l=0:h.push("ofs="+l);for(var m=!0,_=0;_<n;_++){var D=a[_].h,M=a[_].g;if(0>(D-=l))l=Math.max(0,a[_].h-100),m=!1;else try{V4(M,h,"req"+D+"_")}catch(A){s&&s(M)}}if(m){s=h.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function p6(r){r.g||r.u||(r.Y=1,mm(r.Ga,r),r.A=0)}function FP(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=p1(Mr(r.Ga,r),_6(r,r.A)),r.A++,0))}function LP(r){null!=r.B&&(Bt.clearTimeout(r.B),r.B=null)}function m6(r){r.g=new g1(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=Lu(r.oa);Ei(i,"RID","rpc"),Ei(i,"SID",r.J),Ei(i,"CI",r.N?"0":"1"),Ei(i,"AID",r.U),E1(r,i),Ei(i,"TYPE","xmlhttp"),r.o&&r.s&&OP(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=Bx(Lu(i)),n.s=null,n.U=!0,G3(n,r)}function jx(r){null!=r.v&&(Bt.clearTimeout(r.v),r.v=null)}function g6(r,i){var n=null;if(r.g==i){jx(r),LP(r),r.g=null;var s=2}else{if(!AP(r.i,i))return;n=i.D,t6(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var a=r.C;rt(s=kx(),new L3(s,n,i,a)),Yx(r)}else p6(r);else if(3==(a=i.o)||0==a&&0<r.I||!(1==s&&function(r,i){return!(e6(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=p1(Mr(r.Ha,r,i),_6(r,r.C)),r.C++,0)))}(r,i)||2==s&&FP(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),a){case 1:Cm(r,5);break;case 4:Cm(r,10);break;case 3:Cm(r,6);break;default:Cm(r,2)}}function _6(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function Cm(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=Mr(r.jb,r);n||(n=new wm("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||Px(n,"https"),Bx(n)),function(r,i){var n=new Ax;if(Bt.Image){var s=new Image;s.onload=ib(Vx,n,s,"TestLoadImage: loaded",!0,i),s.onerror=ib(Vx,n,s,"TestLoadImage: error",!1,i),s.onabort=ib(Vx,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=ib(Vx,n,s,"TestLoadImage: timeout",!1,i),Bt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else Zs(2);r.G=0,r.j&&r.j.va(i),y6(r),d6(r)}function y6(r){r.G=0,r.I=-1,r.j&&((0!=n6(r.i).length||0!=r.l.length)&&(r.i.i.length=0,jo(r.l),r.l.length=0),r.j.ua())}function b6(r,i,n){var s=function(r){return r instanceof wm?Lu(r):new wm(r,void 0)}(n);if(""!=s.i)i&&Fx(s,i+"."+s.i),Lx(s,s.m);else{var a=Bt.location;s=function(r,i,n,s){var a=new wm(null,void 0);return r&&Px(a,r),i&&Fx(a,i),n&&Lx(a,n),s&&(a.l=s),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,n)}return r.aa&&rb(r.aa,function(l,h){Ei(s,h,l)}),n=r.sa,(i=r.D)&&n&&Ei(s,i,n),Ei(s,"VER",r.ma),E1(r,s),s}function v6(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new ur(n&&r.Ba&&!r.qa?new C1({ib:!0}):r.qa)).L=r.H,i}function w6(){}function qx(){if(Pu&&!(10<=Number(x3)))throw Error("Environmental error: no available transport.")}function qo(r,i){We.call(this),this.g=new u6(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!sc(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!sc(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new db(this)}function C6(r){wP.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function D6(){CP.call(this),this.status=1}function db(r){this.g=r}(it=ur.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():DP.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:DP),this.g.onreadystatechange=Mr(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(l){return void s6(this,l)}r=n||"";var a=new cb(this.headers);s&&SP(s,function(l,h){a.set(h,l)}),s=function(r){e:{for(var i=q4,n=r.length,s="string"==typeof r?r.split(""):r,a=0;a<n;a++)if(a in s&&i.call(void 0,s[a],a,r)){i=a;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(a.T()),n=Bt.FormData&&r instanceof Bt.FormData,!(0<=s1(Y4,i))||s||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{l6(this),0<this.B&&((this.K=function(r){return Pu&&S3()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.pa,this)):this.A=bP(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){s6(this,l)}},it.pa=function(){void 0!==t1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))},it.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,rt(this,"complete"),rt(this,"abort"),Hx(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hx(this,!0)),ur.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?a6(this):this.cb())},it.cb=function(){a6(this)},it.ba=function(){try{return 2<Bu(this)?this.g.status:-1}catch(r){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},it.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),H4(i)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=u6.prototype).ma=8,it.G=1,it.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},it.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new g1(this,this.h,r,void 0),n=this.s;if(this.P&&(n?l1(n=o1(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,a=0;a<this.l.length;a++){var l=this.l[a];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(s+=l)){s=a;break e}if(4096===s||a===this.l.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=f6(this,i,s),Ei(a=Lu(this.F),"RID",r),Ei(a,"CVER",22),this.D&&Ei(a,"X-HTTP-Session-Id",this.D),E1(this,a),this.o&&n&&OP(a,this.o,n),kP(this.i,i),this.Ra&&Ei(a,"TYPE","init"),this.ja?(Ei(a,"$req",s),Ei(a,"SID","null"),i.$=!0,TP(i,a,null)):TP(i,a,s),this.G=2}}else 3==this.G&&(r?h6(this,r):0==this.l.length||X3(this.i)||h6(this))},it.Ga=function(){if(this.u=null,m6(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=p1(Mr(this.bb,this),r)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zs(10),Gx(this),m6(this))},it.ab=function(){null!=this.v&&(this.v=null,Gx(this),FP(this),Zs(19))},it.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Zs(2)):(this.h.info("Failed to ping google.com"),Zs(1))},(it=w6.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},qx.prototype.g=function(r,i){return new qo(r,i)},Tr(qo,We),qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),mm(Mr(r.hb,r,i))),Zs(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=b6(r,null,r.W),Yx(r)},qo.prototype.close=function(){NP(this.g)},qo.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,PP(this.g,i)}else this.v?((i={}).__data__=Ni(r),PP(this.g,i)):PP(this.g,r)},qo.prototype.M=function(){this.g.j=null,delete this.j,NP(this.g),delete this.g,qo.Z.M.call(this)},Tr(C6,wP),Tr(D6,CP),Tr(db,w6),db.prototype.xa=function(){rt(this.g,"a")},db.prototype.wa=function(r){rt(this.g,new C6(r))},db.prototype.va=function(r){rt(this.g,new D6(r))},db.prototype.ua=function(){rt(this.g,"b")},qx.prototype.createWebChannel=qx.prototype.g,qo.prototype.send=qo.prototype.u,qo.prototype.open=qo.prototype.m,qo.prototype.close=qo.prototype.close,Ix.NO_ERROR=0,Ix.TIMEOUT=8,Ix.HTTP_ERROR=6,B3.COMPLETE="complete",U3.EventType=m1,m1.OPEN="a",m1.CLOSE="b",m1.ERROR="c",m1.MESSAGE="d",We.prototype.listen=We.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.La,ur.prototype.getLastErrorCode=ur.prototype.Da,ur.prototype.getStatus=ur.prototype.ba,ur.prototype.getResponseJson=ur.prototype.Qa,ur.prototype.getResponseText=ur.prototype.ga,ur.prototype.send=ur.prototype.ea;var Zx=Ix,E6=B3,S6=ym,BP_PROXY=10,BP_NOPROXY=11,x6=C1,S1=U3,A6=ur;class us{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");let hb="9.0.2";const Gh=new Ou.Yd("@firebase/firestore");function VP(){return Gh.logLevel}function je(r,...i){if(Gh.logLevel<=Ou.in.DEBUG){const n=i.map(UP);Gh.debug(`Firestore (${hb}): ${r}`,...n)}}function dr(r,...i){if(Gh.logLevel<=Ou.in.ERROR){const n=i.map(UP);Gh.error(`Firestore (${hb}): ${r}`,...n)}}function x1(r,...i){if(Gh.logLevel<=Ou.in.WARN){const n=i.map(UP);Gh.warn(`Firestore (${hb}): ${r}`,...n)}}function UP(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function pt(r="Unexpected state"){const i=`FIRESTORE (${hb}) INTERNAL ASSERTION FAILED: `+r;throw dr(i),new Error(i)}function Nt(r,i){r||pt()}function Je(r,i){return r}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class k6{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class J4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(us.UNAUTHENTICATED))}shutdown(){}}class Q4{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K4{constructor(i){this.t=i,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let a=this.i;const l=D=>this.i!==a?(a=this.i,n(D)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,i.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const D=h;i.enqueueRetryable((0,Me.Z)(function*(){yield D.promise,yield l(s.currentUser)}))},_=D=>{je("FirebaseCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(je("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}},0),m()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(je("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nt("string"==typeof s.accessToken),new k6(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Nt(null===i||"string"==typeof i),new us(i)}}class X4{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=us.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class e5{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new X4(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zo{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function t5(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}Zo.T=-1;class I6{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const a=t5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=i.charAt(a[l]%i.length))}return s}}function gn(r,i){return r<i?-1:r>i?1:0}function fb(r,i,n){return r.length===i.length&&r.every((s,a)=>n(s,i[a]))}function R6(r){return r+"\0"}class Ur{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Fe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Fe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Fe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Ur.fromMillis(Date.now())}static fromDate(i){return Ur.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new Ur(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?gn(this.nanoseconds,i.nanoseconds):gn(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(i){this.timestamp=i}static fromTimestamp(i){return new en(i)}static min(){return new en(new Ur(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function O6(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function Dm(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function N6(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class A1{constructor(i,n,s){void 0===n?n=0:n>i.length&&pt(),void 0===s?s=i.length-n:s>i.length-n&&pt(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===A1.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof A1?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let a=0;a<s;a++){const l=i.get(a),h=n.get(a);if(l<h)return-1;if(l>h)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class Nn extends A1{construct(i,n,s){return new Nn(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Fe(De.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Nn(n)}static emptyPath(){return new Nn([])}}const n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ds extends A1{construct(i,n,s){return new ds(i,n,s)}static isValidIdentifier(i){return n5.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ds.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ds(["__name__"])}static fromServerFormat(i){const n=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Fe(De.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<i.length;){const m=i[a];if("\\"===m){if(a+1===i.length)throw new Fe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const _=i[a+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=_,a+=2}else"`"===m?(h=!h,a++):"."!==m||h?(s+=m,a++):(l(),a++)}if(l(),h)throw new Fe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new ds(n)}static emptyPath(){return new ds([])}}class pb{constructor(i){this.fields=i,i.sort(ds.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return fb(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class Hr{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new Hr(n)}static fromUint8Array(i){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(i);return new Hr(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return gn(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const r5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yh(r){if(Nt(!!r),"string"==typeof r){let i=0;const n=r5.exec(r);if(Nt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),i=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:hr(r.seconds),nanos:hr(r.nanos)}}function hr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function mb(r){return"string"==typeof r?Hr.fromBase64String(r):Hr.fromUint8Array(r)}function HP(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function P6(r){const i=r.mapValue.fields.__previous_value__;return HP(i)?P6(i):i}function k1(r){const i=Yh(r.mapValue.fields.__local_write_time__.timestampValue);return new Ur(i.seconds,i.nanos)}function Mm(r){return null==r}function zx(r){return 0===r&&1/r==-1/0}function F6(r){return"number"==typeof r&&Number.isInteger(r)&&!zx(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class ft{constructor(i){this.path=i}static fromPath(i){return new ft(Nn.fromString(i))}static fromName(i){return new ft(Nn.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===Nn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return Nn.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new ft(new Nn(i.slice()))}}function Tm(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?HP(r)?4:10:pt()}function lc(r,i){const n=Tm(r);if(n!==Tm(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return k1(r).isEqual(k1(i));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Yh(s.timestampValue),h=Yh(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return a=i,mb(r.bytesValue).isEqual(mb(a.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,a){return hr(s.geoPointValue.latitude)===hr(a.geoPointValue.latitude)&&hr(s.geoPointValue.longitude)===hr(a.geoPointValue.longitude)}(r,i);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return hr(s.integerValue)===hr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=hr(s.doubleValue),h=hr(a.doubleValue);return l===h?zx(l)===zx(h):isNaN(l)&&isNaN(h)}return!1}(r,i);case 9:return fb(r.arrayValue.values||[],i.arrayValue.values||[],lc);case 10:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(O6(l)!==O6(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!lc(l[m],h[m])))return!1;return!0}(r,i);default:return pt()}var a}function I1(r,i){return void 0!==(r.values||[]).find(n=>lc(n,i))}function gb(r,i){const n=Tm(r),s=Tm(i);if(n!==s)return gn(n,s);switch(n){case 0:return 0;case 1:return gn(r.booleanValue,i.booleanValue);case 2:return function(a,l){const h=hr(a.integerValue||a.doubleValue),m=hr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(r,i);case 3:return L6(r.timestampValue,i.timestampValue);case 4:return L6(k1(r),k1(i));case 5:return gn(r.stringValue,i.stringValue);case 6:return function(a,l){const h=mb(a),m=mb(l);return h.compareTo(m)}(r.bytesValue,i.bytesValue);case 7:return function(a,l){const h=a.split("/"),m=l.split("/");for(let _=0;_<h.length&&_<m.length;_++){const D=gn(h[_],m[_]);if(0!==D)return D}return gn(h.length,m.length)}(r.referenceValue,i.referenceValue);case 8:return function(a,l){const h=gn(hr(a.latitude),hr(l.latitude));return 0!==h?h:gn(hr(a.longitude),hr(l.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(a,l){const h=a.values||[],m=l.values||[];for(let _=0;_<h.length&&_<m.length;++_){const D=gb(h[_],m[_]);if(D)return D}return gn(h.length,m.length)}(r.arrayValue,i.arrayValue);case 10:return function(a,l){const h=a.fields||{},m=Object.keys(h),_=l.fields||{},D=Object.keys(_);m.sort(),D.sort();for(let M=0;M<m.length&&M<D.length;++M){const A=gn(m[M],D[M]);if(0!==A)return A;const I=gb(h[m[M]],_[D[M]]);if(0!==I)return I}return gn(m.length,D.length)}(r.mapValue,i.mapValue);default:throw pt()}}function L6(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return gn(r,i);const n=Yh(r),s=Yh(i),a=gn(n.seconds,s.seconds);return 0!==a?a:gn(n.nanos,s.nanos)}function GP(r){return YP(r)}function YP(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Yh(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?mb(r.bytesValue).toBase64():"referenceValue"in r?ft.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const h of s.values||[])l?l=!1:a+=",",a+=YP(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${YP(s.fields[m])}`;return l+"}"}(r.mapValue):pt();var i}function $x(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function jP(r){return!!r&&"integerValue"in r}function qP(r){return!!r&&"arrayValue"in r}function B6(r){return!!r&&"nullValue"in r}function V6(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wx(r){return!!r&&"mapValue"in r}function R1(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return Dm(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=R1(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=R1(r.arrayValue.values[n]);return i}return Object.assign({},r)}class Ms{constructor(i){this.value=i}static empty(){return new Ms({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!Wx(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=R1(n)}setAll(i){let n=ds.emptyPath(),s={},a=[];i.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=R1(h):a.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(i){const n=this.field(i.popLast());Wx(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return lc(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let a=n.mapValue.fields[i.get(s)];Wx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(i,n,s){Dm(n,(a,l)=>i[a]=l);for(const a of s)delete i[a]}clone(){return new Ms(R1(this.value))}}function U6(r){const i=[];return Dm(r.fields,(n,s)=>{const a=new ds([n]);if(Wx(s)){const l=U6(s.mapValue).fields;if(0===l.length)i.push(a);else for(const h of l)i.push(a.child(h))}else i.push(a)}),new pb(i)}class Si{constructor(i,n,s,a,l){this.key=i,this.documentType=n,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(i){return new Si(i,0,en.min(),Ms.empty(),0)}static newFoundDocument(i,n,s){return new Si(i,1,n,s,0)}static newNoDocument(i,n){return new Si(i,2,n,Ms.empty(),0)}static newUnknownDocument(i,n){return new Si(i,3,n,Ms.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Si&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new Si(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class s5{constructor(i,n=null,s=[],a=[],l=null,h=null,m=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.A=null}}function H6(r,i=null,n=[],s=[],a=null,l=null,h=null){return new s5(r,i,n,s,a,l,h)}function O1(r){const i=Je(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+GP(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Mm(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=Kx(i.startAt)),i.endAt&&(n+="|ub:",n+=Kx(i.endAt)),i.A=n}return i.A}function Jx(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!m5(r.orderBy[a],i.orderBy[a]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((n=r.filters[a]).op!==(s=i.filters[a]).op||!n.field.isEqual(s.field)||!lc(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!j6(r.startAt,i.startAt)&&j6(r.endAt,i.endAt)}function Qx(r){return ft.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class zs extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new l5(i,n,s):"array-contains"===n?new d5(i,s):"in"===n?new h5(i,s):"not-in"===n?new f5(i,s):"array-contains-any"===n?new p5(i,s):new zs(i,n,s)}static R(i,n,s){return"in"===n?new c5(i,s):new u5(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(gb(n,this.value)):null!==n&&Tm(this.value)===Tm(n)&&this.P(gb(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return pt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class l5 extends zs{constructor(i,n,s){super(i,n,s),this.key=ft.fromName(s.referenceValue)}matches(i){const n=ft.comparator(i.key,this.key);return this.P(n)}}class c5 extends zs{constructor(i,n){super(i,"in",n),this.keys=G6(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class u5 extends zs{constructor(i,n){super(i,"not-in",n),this.keys=G6(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function G6(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>ft.fromName(s.referenceValue))}class d5 extends zs{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return qP(n)&&I1(n.arrayValue,this.value)}}class h5 extends zs{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&I1(this.value.arrayValue,n)}}class f5 extends zs{constructor(i,n){super(i,"not-in",n)}matches(i){if(I1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!I1(this.value.arrayValue,n)}}class p5 extends zs{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!qP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>I1(this.value.arrayValue,s))}}class N1{constructor(i,n){this.position=i,this.before=n}}function Kx(r){return`${r.before?"b":"a"}:${r.position.map(i=>GP(i)).join(",")}`}class _b{constructor(i,n="asc"){this.field=i,this.dir=n}}function m5(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function Y6(r,i,n){let s=0;for(let a=0;a<r.position.length;a++){const l=i[a],h=r.position[a];if(s=l.field.isKeyField()?ft.comparator(ft.fromName(h.referenceValue),n.key):gb(h,n.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function j6(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!lc(r.position[n],i.position[n]))return!1;return!0}class Vu{constructor(i,n=null,s=[],a=[],l=null,h="F",m=null,_=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=_,this.V=null,this.S=null}}function q6(r,i,n,s,a,l,h,m){return new Vu(r,i,n,s,a,l,h,m)}function yb(r){return new Vu(r)}function Xx(r){return!Mm(r.limit)&&"F"===r.limitType}function eA(r){return!Mm(r.limit)&&"L"===r.limitType}function ZP(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function zP(r){for(const i of r.filters)if(i.v())return i.field;return null}function $P(r){return null!==r.collectionGroup}function bb(r){const i=Je(r);if(null===i.V){i.V=[];const n=zP(i),s=ZP(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new _b(n)),i.V.push(new _b(ds.keyField(),"asc"));else{let a=!1;for(const l of i.explicitOrderBy)i.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new _b(ds.keyField(),l))}}}return i.V}function xa(r){const i=Je(r);if(!i.S)if("F"===i.limitType)i.S=H6(i.path,i.collectionGroup,bb(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const l of bb(i))n.push(new _b(l.field,"desc"===l.dir?"asc":"desc"));const s=i.endAt?new N1(i.endAt.position,!i.endAt.before):null,a=i.startAt?new N1(i.startAt.position,!i.startAt.before):null;i.S=H6(i.path,i.collectionGroup,n,i.filters,i.limit,s,a)}return i.S}function Z6(r,i,n){return new Vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function P1(r,i){return Jx(xa(r),xa(i))&&r.limitType===i.limitType}function z6(r){return`${O1(xa(r))}|lt:${r.limitType}`}function WP(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${GP(s.value)}`;var s}).join(", ")}]`),Mm(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+Kx(r.startAt)),r.endAt&&(i+=", endAt: "+Kx(r.endAt)),`Target(${i})`}(xa(r))}; limitType=${r.limitType})`}function F1(r,i){return i.isFoundDocument()&&function(n,s){const a=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ft.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,i)&&function(n,s){for(const a of n.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,i)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!Y6(n.startAt,bb(n),s)||n.endAt&&Y6(n.endAt,bb(n),s)));var n,s}function $6(r){return(i,n)=>{let s=!1;for(const a of bb(r)){const l=g5(a,i,n);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function g5(r,i,n){const s=r.field.isKeyField()?ft.comparator(i.key,n.key):function(a,l,h){const m=l.data.field(a),_=h.data.field(a);return null!==m&&null!==_?gb(m,_):pt()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt()}}function W6(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zx(i)?"-0":i}}function J6(r){return{integerValue:""+r}}function Q6(r,i){return F6(i)?J6(i):W6(r,i)}class tA{constructor(){this._=void 0}}function _5(r,i,n){return r instanceof vb?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,i):r instanceof Em?X6(r,i):r instanceof Sm?eU(r,i):function(s,a){const l=K6(s,a),h=tU(l)+tU(s.C);return jP(l)&&jP(s.C)?J6(h):W6(s.N,h)}(r,i)}function y5(r,i,n){return r instanceof Em?X6(r,i):r instanceof Sm?eU(r,i):n}function K6(r,i){return r instanceof wb?jP(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class vb extends tA{}class Em extends tA{constructor(i){super(),this.elements=i}}function X6(r,i){const n=nU(i);for(const s of r.elements)n.some(a=>lc(a,s))||n.push(s);return{arrayValue:{values:n}}}class Sm extends tA{constructor(i){super(),this.elements=i}}function eU(r,i){let n=nU(i);for(const s of r.elements)n=n.filter(a=>!lc(a,s));return{arrayValue:{values:n}}}class wb extends tA{constructor(i,n){super(),this.N=i,this.C=n}}function tU(r){return hr(r.integerValue||r.doubleValue)}function nU(r){return qP(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class L1{constructor(i,n){this.field=i,this.transform=n}}class v5{constructor(i,n){this.version=i,this.transformResults=n}}class fr{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new fr}static exists(i){return new fr(void 0,i)}static updateTime(i){return new fr(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function nA(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class iA{}function w5(r,i,n){r instanceof B1?function(s,a,l){const h=s.value.clone(),m=oU(s.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,i,n):r instanceof jh?function(s,a,l){if(!nA(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=oU(s.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(sU(s)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function JP(r,i,n){var a;r instanceof B1?function(s,a,l){if(!nA(s.precondition,a))return;const h=s.value.clone(),m=aU(s.fieldTransforms,l,a);h.setAll(m),a.convertToFoundDocument(rU(a),h).setHasLocalMutations()}(r,i,n):r instanceof jh?function(s,a,l){if(!nA(s.precondition,a))return;const h=aU(s.fieldTransforms,l,a),m=a.data;m.setAll(sU(s)),m.setAll(h),a.convertToFoundDocument(rU(a),m).setHasLocalMutations()}(r,i,n):nA(r.precondition,a=i)&&a.convertToNoDocument(en.min())}function C5(r,i){let n=null;for(const s of r.fieldTransforms){const a=i.data.field(s.field),l=K6(s.transform,a||null);null!=l&&(null==n&&(n=Ms.empty()),n.set(s.field,l))}return n||null}function iU(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&fb(n,s,(a,l)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof Em&&s instanceof Em||n instanceof Sm&&s instanceof Sm?fb(n.elements,s.elements,lc):n instanceof wb&&s instanceof wb?lc(n.C,s.C):n instanceof vb&&s instanceof vb);var n,s}(a,l))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function rU(r){return r.isFoundDocument()?r.version:en.min()}class B1 extends iA{constructor(i,n,s,a=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}}class jh extends iA{constructor(i,n,s,a,l=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function sU(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function oU(r,i,n){const s=new Map;Nt(r.length===n.length);for(let a=0;a<n.length;a++){const l=r[a],h=l.transform,m=i.data.field(l.field);s.set(l.field,y5(h,m,n[a]))}return s}function aU(r,i,n){const s=new Map;for(const a of r){const l=a.transform,h=n.data.field(a.field);s.set(a.field,_5(l,h,i))}return s}class V1 extends iA{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class QP extends iA{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class D5{constructor(i){this.count=i}}var pr,Mn;function lU(r){switch(r){case De.OK:return pt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return pt()}}function cU(r){if(void 0===r)return dr("GRPC error has no .code"),De.UNKNOWN;switch(r){case pr.OK:return De.OK;case pr.CANCELLED:return De.CANCELLED;case pr.UNKNOWN:return De.UNKNOWN;case pr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case pr.INTERNAL:return De.INTERNAL;case pr.UNAVAILABLE:return De.UNAVAILABLE;case pr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case pr.NOT_FOUND:return De.NOT_FOUND;case pr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case pr.ABORTED:return De.ABORTED;case pr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case pr.DATA_LOSS:return De.DATA_LOSS;default:return pt()}}(Mn=pr||(pr={}))[Mn.OK=0]="OK",Mn[Mn.CANCELLED=1]="CANCELLED",Mn[Mn.UNKNOWN=2]="UNKNOWN",Mn[Mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mn[Mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mn[Mn.NOT_FOUND=5]="NOT_FOUND",Mn[Mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mn[Mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mn[Mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mn[Mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mn[Mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mn[Mn.ABORTED=10]="ABORTED",Mn[Mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mn[Mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mn[Mn.INTERNAL=13]="INTERNAL",Mn[Mn.UNAVAILABLE=14]="UNAVAILABLE",Mn[Mn.DATA_LOSS=15]="DATA_LOSS";class Er{constructor(i,n){this.comparator=i,this.root=n||hs.EMPTY}insert(i,n){return new Er(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,hs.BLACK,null,null))}remove(i){return new Er(this.comparator,this.root.remove(i,this.comparator).copy(null,null,hs.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(i,s.key);if(0===a)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new rA(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new rA(this.root,i,this.comparator,!1)}getReverseIterator(){return new rA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new rA(this.root,i,this.comparator,!0)}}class rA{constructor(i,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!i.isEmpty();)if(l=n?s(i.key,n):1,a&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class hs{constructor(i,n,s,a,l){this.key=i,this.value=n,this.color=null!=s?s:hs.RED,this.left=null!=a?a:hs.EMPTY,this.right=null!=l?l:hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,a,l){return new hs(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let a=this;const l=s(i,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(i,n,s),null):0===l?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(i,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hs.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,a=this;if(n(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(i,a.key)){if(a.right.isEmpty())return hs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const i=this.left.check();if(i!==this.right.check())throw pt();return i+(this.isRed()?0:1)}}hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1,hs.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(r,i,n,s,a){return this}insert(r,i,n){return new hs(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zi{constructor(i){this.comparator=i,this.data=new Er(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,i[1])>=0)return;n(a.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new uU(this.data.getIterator())}getIteratorFrom(i){return new uU(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof zi)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new zi(this.comparator);return n.data=i,n}}class uU{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const M5=new Er(ft.comparator);function Aa(){return M5}const T5=new Er(ft.comparator);function KP(){return T5}const E5=new Er(ft.comparator);function dU(){return E5}const S5=new zi(ft.comparator);function Gn(...r){let i=S5;for(const n of r)i=i.add(n);return i}const x5=new zi(gn);function sA(){return x5}class U1{constructor(i,n,s,a,l){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,H1.createSynthesizedTargetChangeForCurrentChange(i,n)),new U1(en.min(),s,sA(),Aa(),Gn())}}class H1{constructor(i,n,s,a,l){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(i,n){return new H1(Hr.EMPTY_BYTE_STRING,n,Gn(),Gn(),Gn())}}class oA{constructor(i,n,s,a){this.k=i,this.removedTargetIds=n,this.key=s,this.$=a}}class hU{constructor(i,n){this.targetId=i,this.O=n}}class fU{constructor(i,n,s=Hr.EMPTY_BYTE_STRING,a=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=a}}class pU{constructor(){this.F=0,this.M=gU(),this.L=Hr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=Gn(),n=Gn(),s=Gn();return this.M.forEach((a,l)=>{switch(l){case 0:i=i.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:pt()}}),new H1(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=gU()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class A5{constructor(i){this.tt=i,this.et=new Map,this.nt=Aa(),this.st=mU(),this.it=new zi(gn)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:pt()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,a)=>{this.ht(a)&&n(a)})}ft(i){const n=i.targetId,s=i.O.count,a=this.dt(n);if(a){const l=a.target;if(Qx(l))if(0===s){const h=new ft(l.path);this.at(n,h,Si.newNoDocument(h,en.min()))}else Nt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((l,h)=>{const m=this.dt(h);if(m){if(l.current&&Qx(m.target)){const _=new ft(m.target.path);null!==this.nt.get(_)||this.gt(h,_)||this.at(h,_,Si.newNoDocument(_,i))}l.K&&(n.set(h,l.W()),l.G())}});let s=Gn();this.st.forEach((l,h)=>{let m=!0;h.forEachWhile(_=>{const D=this.dt(_);return!D||2===D.purpose||(m=!1,!1)}),m&&(s=s.add(l))});const a=new U1(i,n,this.it,this.nt,s);return this.nt=Aa(),this.st=mU(),this.it=new zi(gn),a}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const a=this.ut(i);this.gt(i,n)?a.H(n,1):a.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new pU,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new zi(gn),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||je("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new pU),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function mU(){return new Er(ft.comparator)}function gU(){return new Er(ft.comparator)}const k5={asc:"ASCENDING",desc:"DESCENDING"},I5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class R5{constructor(i,n){this.databaseId=i,this.D=n}}function G1(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function _U(r,i){return r.D?i.toBase64():i.toUint8Array()}function O5(r,i){return G1(r,i.toTimestamp())}function Gr(r){return Nt(!!r),en.fromTimestamp(function(i){const n=Yh(i);return new Ur(n.seconds,n.nanos)}(r))}function XP(r,i){return(n=r,new Nn(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function yU(r){const i=Nn.fromString(r);return Nt(kU(i)),i}function Y1(r,i){return XP(r.databaseId,i.path)}function cc(r,i){const n=yU(i);if(n.get(1)!==r.databaseId.projectId)throw new Fe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Fe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ft(vU(n))}function eF(r,i){return XP(r.databaseId,i)}function bU(r){const i=yU(r);return 4===i.length?Nn.emptyPath():vU(i)}function j1(r){return new Nn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vU(r){return Nt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function wU(r,i,n){return{name:Y1(r,i),fields:n.value.mapValue.fields}}function CU(r,i,n){const s=cc(r,i.name),a=Gr(i.updateTime),l=new Ms({mapValue:{fields:i.fields}}),h=Si.newFoundDocument(s,a,l);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function aA(r,i){let n;if(i instanceof B1)n={update:wU(r,i.key,i.value)};else if(i instanceof V1)n={delete:Y1(r,i.key)};else if(i instanceof jh)n={update:wU(r,i.key,i.data),updateMask:G5(i.fieldMask)};else{if(!(i instanceof QP))return pt();n={verify:Y1(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(a,l){const h=l.transform;if(h instanceof vb)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Em)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Sm)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wb)return{fieldPath:l.field.canonicalString(),increment:h.C};throw pt()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:O5(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:pt()),n;var a}function DU(r,i){const n=i.currentDocument?void 0!==(a=i.currentDocument).updateTime?fr.updateTime(Gr(a.updateTime)):void 0!==a.exists?fr.exists(a.exists):fr.none():fr.none(),s=i.updateTransforms?i.updateTransforms.map(a=>function(l,h){let m=null;"setToServerValue"in h?(Nt("REQUEST_TIME"===h.setToServerValue),m=new vb):"appendMissingElements"in h?m=new Em(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Sm(h.removeAllFromArray.values||[]):"increment"in h?m=new wb(l,h.increment):pt();const _=ds.fromServerFormat(h.fieldPath);return new L1(_,m)}(r,a)):[];var a;if(i.update){const a=cc(r,i.update.name),l=new Ms({mapValue:{fields:i.update.fields}});if(i.updateMask){const h=new pb((i.updateMask.fieldPaths||[]).map(D=>ds.fromServerFormat(D)));return new jh(a,l,h,n,s)}return new B1(a,l,n,s)}if(i.delete){const a=cc(r,i.delete);return new V1(a,n)}if(i.verify){const a=cc(r,i.verify);return new QP(a,n)}return pt()}function MU(r,i){return{documents:[eF(r,i.path)]}}function TU(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=eF(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=eF(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(m){if(0===m.length)return;const _=m.map(D=>function(M){if("=="===M.op){if(V6(M.value))return{unaryFilter:{field:Cb(M.field),op:"IS_NAN"}};if(B6(M.value))return{unaryFilter:{field:Cb(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(V6(M.value))return{unaryFilter:{field:Cb(M.field),op:"IS_NOT_NAN"}};if(B6(M.value))return{unaryFilter:{field:Cb(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cb(M.field),op:V5(M.op),value:M.value}}}(D));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(i.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(0!==m.length)return m.map(_=>{return{field:Cb((D=_).field),direction:B5(D.dir)};var D})}(i.orderBy);l&&(n.structuredQuery.orderBy=l);const h=(_=i.limit,r.D||Mm(_)?_:{value:_});var _;return null!==h&&(n.structuredQuery.limit=h),i.startAt&&(n.structuredQuery.startAt=xU(i.startAt)),i.endAt&&(n.structuredQuery.endAt=xU(i.endAt)),n}function EU(r){let i=bU(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Nt(1===s);const M=n.from[0];M.allDescendants?a=M.collectionId:i=i.child(M.collectionId)}let l=[];n.where&&(l=SU(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(M=>{return new _b(Db((A=M).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let m=null;n.limit&&(m=function(M){let A;return A="object"==typeof M?M.value:M,Mm(A)?null:A}(n.limit));let _=null;n.startAt&&(_=AU(n.startAt));let D=null;return n.endAt&&(D=AU(n.endAt)),q6(i,a,h,l,m,"F",_,D)}function SU(r){return r?void 0!==r.unaryFilter?[H5(r)]:void 0!==r.fieldFilter?[U5(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>SU(i)).reduce((i,n)=>i.concat(n)):pt():[]}function xU(r){return{before:r.before,values:r.position}}function AU(r){return new N1(r.values||[],!!r.before)}function B5(r){return k5[r]}function V5(r){return I5[r]}function Cb(r){return{fieldPath:r.canonicalString()}}function Db(r){return ds.fromServerFormat(r.fieldPath)}function U5(r){return zs.create(Db(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pt()}}(r.fieldFilter.op),r.fieldFilter.value)}function H5(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Db(r.unaryFilter.field);return zs.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=Db(r.unaryFilter.field);return zs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Db(r.unaryFilter.field);return zs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Db(r.unaryFilter.field);return zs.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pt()}}function G5(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function kU(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ul(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=IU(i)),i=Y5(r.get(n),i);return IU(i)}function Y5(r,i){let n=i;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function IU(r){return r+"\x01\x01"}function Uu(r){const i=r.length;if(Nt(i>=2),2===i)return Nt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Nn.emptyPath();const n=i-2,s=[];let a="";for(let l=0;l<i;){const h=r.indexOf("\x01",l);switch((h<0||h>n)&&pt(),r.charAt(h+1)){case"\x01":const m=r.substring(l,h);let _;0===a.length?_=m:(a+=m,_=a,a=""),s.push(_);break;case"\x10":a+=r.substring(l,h),a+="\0";break;case"\x11":a+=r.substring(l,h+1);break;default:pt()}l=h+2}return new Nn(s)}class j5{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class zo{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}zo.store="owner",zo.key="owner";class qh{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}qh.store="mutationQueues",qh.keyPath="userId";class mi{constructor(i,n,s,a,l){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}mi.store="mutations",mi.keyPath="batchId",mi.userMutationsIndex="userMutationsIndex",mi.userMutationsKeyPath=["userId","batchId"];class Ts{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,ul(n)]}static key(i,n,s){return[i,ul(n),s]}}Ts.store="documentMutations",Ts.PLACEHOLDER=new Ts;class q5{constructor(i,n){this.path=i,this.readTime=n}}class Z5{constructor(i,n){this.path=i,this.version=n}}class $i{constructor(i,n,s,a,l,h){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}$i.store="remoteDocuments",$i.readTimeIndex="readTimeIndex",$i.readTimeIndexPath="readTime",$i.collectionReadTimeIndex="collectionReadTimeIndex",$i.collectionReadTimeIndexPath=["parentPath","readTime"];class uc{constructor(i){this.byteSize=i}}uc.store="remoteDocumentGlobal",uc.key="remoteDocumentGlobalKey";class yo{constructor(i,n,s,a,l,h,m){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}yo.store="targets",yo.keyPath="targetId",yo.queryTargetsIndexName="queryTargetsIndex",yo.queryTargetsKeyPath=["canonicalId","targetId"];class fs{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}fs.store="targetDocuments",fs.keyPath=["targetId","path"],fs.documentTargetsIndex="documentTargetsIndex",fs.documentTargetsKeyPath=["path","targetId"];class $o{constructor(i,n,s,a){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}$o.key="targetGlobalKey",$o.store="targetGlobal";class xm{constructor(i,n){this.collectionId=i,this.parent=n}}xm.store="collectionParents",xm.keyPath=["collectionId","parent"];class Hu{constructor(i,n,s,a){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=a}}Hu.store="clientMetadata",Hu.keyPath="clientId";class Mb{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}Mb.store="bundles",Mb.keyPath="bundleId";class Tb{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}Tb.store="namedQueries",Tb.keyPath="name";const z5=[qh.store,mi.store,Ts.store,$i.store,yo.store,zo.store,$o.store,fs.store,Hu.store,uc.store,xm.store,Mb.store,Tb.store],RU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Ne{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(i,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Ne.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Ne.reject(n)}static resolve(i){return new Ne((n,s)=>{n(i)})}static reject(i){return new Ne((n,s)=>{s(i)})}static waitFor(i){return new Ne((n,s)=>{let a=0,l=0,h=!1;i.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&n()},_=>s(_))}),h=!0,l===a&&n()})}static or(i){let n=Ne.resolve(!1);for(const s of i)n=n.next(a=>a?Ne.resolve(a):s());return n}static forEach(i,n){const s=[];return i.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}}class lA{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new Vr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new q1(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const a=tF(s.target.error);this.Tt.reject(new q1(i,a))}}static open(i,n,s,a){try{return new lA(n,i.transaction(a,s))}catch(l){throw new q1(n,l)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(je("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new W5(n)}}class dl{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===dl.Rt((0,Wt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return je("SimpleDb","Removing database:",i),km(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(dl.Pt())return!0;const i=(0,Wt.z$)(),n=dl.Rt(i),s=0<n&&n<10,a=dl.vt(i),l=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||l)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,Me.Z)(function*(){return n.db||(je("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,a)=>{const l=indexedDB.open(n.name,n.version);l.onsuccess=h=>{s(h.target.result)},l.onblocked=()=>{a(new q1(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;a("VersionError"===m.name?new Fe(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new q1(i,m))},l.onupgradeneeded=h=>{je("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',h.oldVersion),n.At.Ct(h.target.result,l.transaction,h.oldVersion,n.version).next(()=>{je("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,a){var l=this;return(0,Me.Z)(function*(){const h="readonly"===n;let m=0;for(;;){++m;try{l.db=yield l.Dt(i);const _=lA.open(l.db,i,h?"readonly":"readwrite",s),D=a(_).catch(M=>(_.abort(M),Ne.reject(M))).toPromise();return D.catch(()=>{}),yield _.It,D}catch(_){const D="FirebaseError"!==_.name&&m<3;if(je("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),l.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $5{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return km(this.kt.delete())}}class q1 extends Fe{constructor(i,n){super(De.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Am(r){return"IndexedDbTransactionError"===r.name}class W5{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(je("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),km(s)}add(i){return je("SimpleDb","ADD",this.store.name,i,i),km(this.store.add(i))}get(i){return km(this.store.get(i)).next(n=>(void 0===n&&(n=null),je("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return je("SimpleDb","DELETE",this.store.name,i),km(this.store.delete(i))}count(){return je("SimpleDb","COUNT",this.store.name),km(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),a=[];return this.Bt(s,(l,h)=>{a.push(h)}).next(()=>a)}Ut(i,n){je("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,h,m)=>m.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const a=this.cursor(s);return this.Bt(a,n)}jt(i){const n=this.cursor({});return new Ne((s,a)=>{n.onerror=l=>{const h=tF(l.target.error);a(h)},n.onsuccess=l=>{const h=l.target.result;h?i(h.primaryKey,h.value).next(m=>{m?h.continue():s()}):s()}})}Bt(i,n){const s=[];return new Ne((a,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{const m=h.target.result;if(!m)return void a();const _=new $5(m),D=n(m.primaryKey,m.value,_);if(D instanceof Ne){const M=D.catch(A=>(_.done(),Ne.reject(A)));s.push(M)}_.isDone?a():null===_.Ft?m.continue():m.continue(_.Ft)}}).next(()=>Ne.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function km(r){return new Ne((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const a=tF(s.target.error);n(a)}})}let NU=!1;function tF(r){const i=dl.Rt((0,Wt.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NU||(NU=!0,setTimeout(()=>{throw s},0)),s}}return r}class PU extends OU{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function bo(r,i){const n=Je(r);return dl.St(n.Qt,i)}class nF{constructor(i,n,s,a){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(i.key)&&w5(l,i,s[a])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&JP(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&JP(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(en.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),Gn())}isEqual(i){return this.batchId===i.batchId&&fb(this.mutations,i.mutations,(n,s)=>iU(n,s))&&fb(this.baseMutations,i.baseMutations,(n,s)=>iU(n,s))}}class iF{constructor(i,n,s,a){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(i,n,s){Nt(i.mutations.length===s.length);let a=dU();const l=i.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new iF(i,n,s,a)}}class Zh{constructor(i,n,s,a,l=en.min(),h=en.min(),m=Hr.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(i){return new Zh(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class FU{constructor(i){this.Wt=i}}function rF(r,i){if(i.document)return CU(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=ft.fromSegments(i.noDocument.path),s=Sb(i.noDocument.readTime),a=Si.newNoDocument(n,s);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){const n=ft.fromSegments(i.unknownDocument.path),s=Sb(i.unknownDocument.version);return Si.newUnknownDocument(n,s)}return pt()}function LU(r,i,n){const s=sF(n),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){const l={name:Y1(m=r.Wt,(_=i).key),fields:_.data.value.mapValue.fields,updateTime:G1(m,_.version.toTimestamp())};return new $i(null,null,l,i.hasCommittedMutations,s,a)}var m,_;if(i.isNoDocument()){const l=i.key.path.toArray(),h=Eb(i.version),m=i.hasCommittedMutations;return new $i(null,new q5(l,h),null,m,s,a)}if(i.isUnknownDocument()){const l=i.key.path.toArray(),h=Eb(i.version);return new $i(new Z5(l,h),null,null,!0,s,a)}return pt()}function sF(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function BU(r){const i=new Ur(r[0],r[1]);return en.fromTimestamp(i)}function Eb(r){const i=r.toTimestamp();return new j5(i.seconds,i.nanoseconds)}function Sb(r){const i=new Ur(r.seconds,r.nanoseconds);return en.fromTimestamp(i)}function xb(r,i){const n=(i.baseMutations||[]).map(l=>DU(r.Wt,l));for(let l=0;l<i.mutations.length-1;++l){const h=i.mutations[l];l+1<i.mutations.length&&void 0!==i.mutations[l+1].transform&&(h.updateTransforms=i.mutations[l+1].transform.fieldTransforms,i.mutations.splice(l+1,1),++l)}const s=i.mutations.map(l=>DU(r.Wt,l)),a=Ur.fromMillis(i.localWriteTimeMs);return new nF(i.batchId,a,n,s)}function Z1(r){const i=Sb(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?Sb(r.lastLimboFreeSnapshotVersion):en.min();let s;var a;return void 0!==r.query.documents?(Nt(1===(a=r.query).documents.length),s=xa(yb(bU(a.documents[0])))):s=xa(EU(r.query)),new Zh(s,r.targetId,0,r.lastListenSequenceNumber,i,n,Hr.fromBase64String(r.resumeToken))}function VU(r,i){const n=Eb(i.snapshotVersion),s=Eb(i.lastLimboFreeSnapshotVersion);let a;a=Qx(i.target)?MU(r.Wt,i.target):TU(r.Wt,i.target);const l=i.resumeToken.toBase64();return new yo(i.targetId,O1(i.target),n,l,i.sequenceNumber,s,a)}function oF(r){const i=EU({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Z6(i,i.limit,"L"):i}class J5{getBundleMetadata(i,n){return UU(i).get(n).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Sb(a.createTime),version:a.version};var a})}saveBundleMetadata(i,n){return UU(i).put({bundleId:(s=n).id,createTime:Eb(Gr(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return HU(i).get(n).next(s=>{if(s)return{name:(a=s).name,query:oF(a.bundledQuery),readTime:Sb(a.readTime)};var a})}saveNamedQuery(i,n){return HU(i).put({name:(s=n).name,readTime:Eb(Gr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function UU(r){return bo(r,Mb.store)}function HU(r){return bo(r,Tb.store)}class Q5{constructor(){this.Gt=new aF}addToCollectionParentIndex(i,n){return this.Gt.add(n),Ne.resolve()}getCollectionParents(i,n){return Ne.resolve(this.Gt.getEntries(n))}}class aF{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),a=this.index[n]||new zi(Nn.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(i){const n=i.lastSegment(),s=i.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(i){return(this.index[i]||new zi(Nn.comparator)).toArray()}}class K5{constructor(){this.zt=new aF}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),a=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const l={collectionId:s,parent:ul(a)};return GU(i).put(l)}return Ne.resolve()}getCollectionParents(i,n){const s=[],a=IDBKeyRange.bound([n,""],[R6(n),""],!1,!0);return GU(i).Lt(a).next(l=>{for(const h of l){if(h.collectionId!==n)break;s.push(Uu(h.parent))}return s})}}function GU(r){return bo(r,xm.store)}const YU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new vo(i,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jU(r,i,n){const s=r.store(mi.store),a=r.store(Ts.store),l=[],h=IDBKeyRange.only(n.batchId);let m=0;const _=s.Kt({range:h},(M,A,I)=>(m++,I.delete()));l.push(_.next(()=>{Nt(1===m)}));const D=[];for(const M of n.mutations){const A=Ts.key(i,M.key.path,n.batchId);l.push(a.delete(A)),D.push(M.key)}return Ne.waitFor(l).next(()=>D)}function cA(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw pt();i=r.noDocument}return JSON.stringify(i).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class lF{constructor(i,n,s,a){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(i,n,s,a){Nt(""!==i.uid);const l=i.isAuthenticated()?i.uid:"";return new lF(l,n,s,a)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zh(i).Kt({index:mi.userMutationsIndex,range:s},(a,l,h)=>{n=!1,h.done()}).next(()=>n)}addMutationBatch(i,n,s,a){const l=Ab(i),h=zh(i);return h.add({}).next(m=>{Nt("number"==typeof m);const _=new nF(m,n,s,a),D=function(I,O,B){const $=B.baseMutations.map(Re=>aA(I.Wt,Re)),le=B.mutations.map(Re=>aA(I.Wt,Re));return new mi(O,B.batchId,B.localWriteTime.toMillis(),$,le)}(this.N,this.userId,_),M=[];let A=new zi((I,O)=>gn(I.canonicalString(),O.canonicalString()));for(const I of a){const O=Ts.key(this.userId,I.key.path,m);A=A.add(I.key.path.popLast()),M.push(h.put(D)),M.push(l.put(O,Ts.PLACEHOLDER))}return A.forEach(I=>{M.push(this.Ht.addToCollectionParentIndex(i,I))}),i.addOnCommittedListener(()=>{this.Jt[m]=_.keys()}),Ne.waitFor(M).next(()=>_)})}lookupMutationBatch(i,n){return zh(i).get(n).next(s=>s?(Nt(s.userId===this.userId),xb(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Ne.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const a=s.keys();return this.Jt[n]=a,a}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return zh(i).Kt({index:mi.userMutationsIndex,range:a},(h,m,_)=>{m.userId===this.userId&&(Nt(m.batchId>=s),l=xb(this.N,m)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return zh(i).Kt({index:mi.userMutationsIndex,range:n,reverse:!0},(a,l,h)=>{s=l.batchId,h.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zh(i).Lt(mi.userMutationsIndex,n).next(s=>s.map(a=>xb(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=Ts.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(s),l=[];return Ab(i).Kt({range:a},(h,m,_)=>{const[D,M,A]=h,I=Uu(M);if(D===this.userId&&n.path.isEqual(I))return zh(i).get(A).next(O=>{if(!O)throw pt();Nt(O.userId===this.userId),l.push(xb(this.N,O))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new zi(gn);const a=[];return n.forEach(l=>{const h=Ts.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),_=Ab(i).Kt({range:m},(D,M,A)=>{const[I,O,B]=D,$=Uu(O);I===this.userId&&l.path.isEqual($)?s=s.add(B):A.done()});a.push(_)}),Ne.waitFor(a).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,a=s.length+1,l=Ts.prefixForPath(this.userId,s),h=IDBKeyRange.lowerBound(l);let m=new zi(gn);return Ab(i).Kt({range:h},(_,D,M)=>{const[A,I,O]=_,B=Uu(I);A===this.userId&&s.isPrefixOf(B)?B.length===a&&(m=m.add(O)):M.done()}).next(()=>this.Zt(i,m))}Zt(i,n){const s=[],a=[];return n.forEach(l=>{a.push(zh(i).get(l).next(h=>{if(null===h)throw pt();Nt(h.userId===this.userId),s.push(xb(this.N,h))}))}),Ne.waitFor(a).next(()=>s)}removeMutationBatch(i,n){return jU(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Ne.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(i,a))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Ne.resolve();const s=IDBKeyRange.lowerBound(Ts.prefixForUser(this.userId)),a=[];return Ab(i).Kt({range:s},(l,h,m)=>{if(l[0]===this.userId){const _=Uu(l[1]);a.push(_)}else m.done()}).next(()=>{Nt(0===a.length)})})}containsKey(i,n){return qU(i,this.userId,n)}ee(i){return ZU(i).get(this.userId).next(n=>n||new qh(this.userId,-1,""))}}function qU(r,i,n){const s=Ts.prefixForPath(i,n.path),a=s[1],l=IDBKeyRange.lowerBound(s);let h=!1;return Ab(r).Kt({range:l,qt:!0},(m,_,D)=>{const[M,A,I]=m;M===i&&A===a&&(h=!0),D.done()}).next(()=>h)}function zh(r){return bo(r,mi.store)}function Ab(r){return bo(r,Ts.store)}function ZU(r){return bo(r,qh.store)}class Im{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new Im(0)}static ie(){return new Im(-1)}}class X5{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new Im(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>en.fromTimestamp(new Ur(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(a=>(a.highestListenSequenceNumber=n,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.oe(i,a)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>kb(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(Nt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let a=0;const l=[];return kb(i).Kt((h,m)=>{const _=Z1(m);_.sequenceNumber<=n&&null===s.get(_.targetId)&&(a++,l.push(this.removeTargetData(i,_)))}).next(()=>Ne.waitFor(l)).next(()=>a)}forEachTarget(i,n){return kb(i).Kt((s,a)=>{const l=Z1(a);n(l)})}re(i){return zU(i).get($o.key).next(n=>(Nt(null!==n),n))}oe(i,n){return zU(i).put($o.key,n)}ae(i,n){return kb(i).put(VU(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=O1(n),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return kb(i).Kt({range:a,index:yo.queryTargetsIndexName},(h,m,_)=>{const D=Z1(m);Jx(n,D.target)&&(l=D,_.done())}).next(()=>l)}addMatchingKeys(i,n,s){const a=[],l=$h(i);return n.forEach(h=>{const m=ul(h.path);a.push(l.put(new fs(s,m))),a.push(this.referenceDelegate.addReference(i,s,h))}),Ne.waitFor(a)}removeMatchingKeys(i,n,s){const a=$h(i);return Ne.forEach(n,l=>{const h=ul(l.path);return Ne.waitFor([a.delete([s,h]),this.referenceDelegate.removeReference(i,s,l)])})}removeMatchingKeysForTargetId(i,n){const s=$h(i),a=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),a=$h(i);let l=Gn();return a.Kt({range:s,qt:!0},(h,m,_)=>{const D=Uu(h[1]),M=new ft(D);l=l.add(M)}).next(()=>l)}containsKey(i,n){const s=ul(n.path),a=IDBKeyRange.bound([s],[R6(s)],!1,!0);let l=0;return $h(i).Kt({index:fs.documentTargetsIndex,qt:!0,range:a},([h,m],_,D)=>{0!==h&&(l++,D.done())}).next(()=>l>0)}Et(i,n){return kb(i).get(n).next(s=>s?Z1(s):null)}}function kb(r){return bo(r,yo.store)}function zU(r){return bo(r,$o.store)}function $h(r){return bo(r,fs.store)}function Rm(r){return cF.apply(this,arguments)}function cF(){return(cF=(0,Me.Z)(function*(r){if(r.code!==De.FAILED_PRECONDITION||r.message!==RU)throw r;je("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function $U([r,i],[n,s]){const a=gn(r,n);return 0===a?gn(i,s):a}class ez{constructor(i){this.ue=i,this.buffer=new zi($U),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$U(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tz{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Me.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(a){Am(a)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Rm(a)}yield n._e(i)}))}}class nz{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Ne.resolve(Zo.T);const s=new ez(n);return this.me.forEachTarget(i,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(i,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(YU)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YU):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,a,l,h,m,_,D;const M=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,h=Date.now(),this.nthSequenceNumber(i,a))).next(A=>(s=A,m=Date.now(),this.removeTargets(i,s,n))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(i,s))).next(A=>(D=Date.now(),VP()<=Ou.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${a} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(_-m)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-M}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:A})))}}class iz{constructor(i,n){this.db=i,this.garbageCollector=new nz(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(a=>s+a))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,a)=>n(a))}addReference(i,n,s){return uA(i,s)}removeReference(i,n,s){return uA(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return uA(i,n)}Ie(i,n){return function(s,a){let l=!1;return ZU(s).jt(h=>qU(s,h,a).next(m=>(m&&(l=!0),Ne.resolve(!m)))).next(()=>l)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Te(i,(h,m)=>{if(m<=n){const _=this.Ie(i,h).next(D=>{if(!D)return l++,s.getEntry(i,h).next(()=>(s.removeEntry(h),$h(i).delete([0,ul(h.path)])))});a.push(_)}}).next(()=>Ne.waitFor(a)).next(()=>s.apply(i)).next(()=>l)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return uA(i,n)}Te(i,n){const s=$h(i);let a,l=Zo.T;return s.Kt({index:fs.documentTargetsIndex},([h,m],{path:_,sequenceNumber:D})=>{0===h?(l!==Zo.T&&n(new ft(Uu(a)),l),l=D,a=_):l=Zo.T}).next(()=>{l!==Zo.T&&n(new ft(Uu(a)),l)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function uA(r,i){return $h(r).put((s=r.currentSequenceNumber,new fs(0,ul(i.path),s)));var s}class Ib{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,i))return l}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],i))return void(a[l]=[i,n]);a.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],i))return 1===s.length?delete this.inner[n]:s.splice(a,1),!0;return!1}forEach(i){Dm(this.inner,(n,s)=>{for(const[a,l]of s)i(a,l)})}isEmpty(){return N6(this.inner)}}class WU{constructor(){this.changes=new Ib(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:en.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:Si.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Ne.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class rz{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return Wh(i).put(dA(n),s)}removeEntry(i,n){const s=Wh(i),a=dA(n);return s.delete(a)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return Wh(i).get(dA(n)).next(s=>this.Re(n,s))}be(i,n){return Wh(i).get(dA(n)).next(s=>({document:this.Re(n,s),size:cA(s)}))}getEntries(i,n){let s=Aa();return this.Pe(i,n,(a,l)=>{const h=this.Re(a,l);s=s.insert(a,h)}).next(()=>s)}ve(i,n){let s=Aa(),a=new Er(ft.comparator);return this.Pe(i,n,(l,h)=>{const m=this.Re(l,h);s=s.insert(l,m),a=a.insert(l,cA(h))}).next(()=>({documents:s,Ve:a}))}Pe(i,n,s){if(n.isEmpty())return Ne.resolve();const a=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),l=n.getIterator();let h=l.getNext();return Wh(i).Kt({range:a},(m,_,D)=>{const M=ft.fromSegments(m);for(;h&&ft.comparator(h,M)<0;)s(h,null),h=l.getNext();h&&h.isEqual(M)&&(s(h,_),h=l.hasNext()?l.getNext():null),h?D.Mt(h.path.toArray()):D.done()}).next(()=>{for(;h;)s(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(i,n,s){let a=Aa();const l=n.path.length+1,h={};if(s.isEqual(en.min())){const m=n.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=n.path.toArray(),_=sF(s);h.range=IDBKeyRange.lowerBound([m,_],!0),h.index=$i.collectionReadTimeIndex}return Wh(i).Kt(h,(m,_,D)=>{if(m.length!==l)return;const M=rF(this.N,_);n.path.isPrefixOf(M.key.path)?F1(n,M)&&(a=a.insert(M.key,M)):D.done()}).next(()=>a)}newChangeBuffer(i){return new sz(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return JU(i).get(uc.key).next(n=>(Nt(!!n),n))}Ae(i,n){return JU(i).put(uc.key,n)}Re(i,n){if(n){const s=rF(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(en.min()))return s}return Si.newInvalidDocument(i)}}class sz extends WU{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new Ib(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(i){const n=[];let s=0,a=new zi((l,h)=>gn(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.De.get(l);if(h.document.isValidDocument()){const _=LU(this.Se.N,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=cA(_)-m,n.push(this.Se.addEntry(i,l,_))}else if(s-=m,this.trackRemovals){const _=LU(this.Se.N,Si.newNoDocument(l,en.min()),this.getReadTime(l));n.push(this.Se.addEntry(i,l,_))}else n.push(this.Se.removeEntry(i,l))}),a.forEach(l=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,l))}),n.push(this.Se.updateMetadata(i,s)),Ne.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:a})=>(a.forEach((l,h)=>{this.De.set(l,h)}),s))}}function JU(r){return bo(r,uc.store)}function Wh(r){return bo(r,$i.store)}function dA(r){return r.path.toArray()}class oz{constructor(i){this.N=i}Ct(i,n,s,a){Nt(s<a&&s>=0&&a<=11);const l=new lA("createOrUpgrade",n);var m;s<1&&a>=1&&(i.createObjectStore(zo.store),(m=i).createObjectStore(qh.store,{keyPath:qh.keyPath}),m.createObjectStore(mi.store,{keyPath:mi.keyPath,autoIncrement:!0}).createIndex(mi.userMutationsIndex,mi.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Ts.store),QU(i),function(m){m.createObjectStore($i.store)}(i));let h=Ne.resolve();return s<3&&a>=3&&(0!==s&&(function(m){m.deleteObjectStore(fs.store),m.deleteObjectStore(yo.store),m.deleteObjectStore($o.store)}(i),QU(i)),h=h.next(()=>function(m){const _=m.store($o.store),D=new $o(0,0,en.min().toTimestamp(),0);return _.put($o.key,D)}(l))),s<4&&a>=4&&(0!==s&&(h=h.next(()=>function(m,_){return _.store(mi.store).Lt().next(D=>{m.deleteObjectStore(mi.store),m.createObjectStore(mi.store,{keyPath:mi.keyPath,autoIncrement:!0}).createIndex(mi.userMutationsIndex,mi.userMutationsKeyPath,{unique:!0});const M=_.store(mi.store),A=D.map(I=>M.put(I));return Ne.waitFor(A)})}(i,l))),h=h.next(()=>{!function(m){m.createObjectStore(Hu.store,{keyPath:Hu.keyPath})}(i)})),s<5&&a>=5&&(h=h.next(()=>this.Ce(l))),s<6&&a>=6&&(h=h.next(()=>(function(m){m.createObjectStore(uc.store)}(i),this.Ne(l)))),s<7&&a>=7&&(h=h.next(()=>this.xe(l))),s<8&&a>=8&&(h=h.next(()=>this.ke(i,l))),s<9&&a>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(i),function(m){const _=m.objectStore($i.store);_.createIndex($i.readTimeIndex,$i.readTimeIndexPath,{unique:!1}),_.createIndex($i.collectionReadTimeIndex,$i.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&a>=10&&(h=h.next(()=>this.$e(l))),s<11&&a>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Mb.store,{keyPath:Mb.keyPath})})(i),function(m){m.createObjectStore(Tb.store,{keyPath:Tb.keyPath})}(i)})),h}Ne(i){let n=0;return i.store($i.store).Kt((s,a)=>{n+=cA(a)}).next(()=>{const s=new uc(n);return i.store(uc.store).put(uc.key,s)})}Ce(i){const n=i.store(qh.store),s=i.store(mi.store);return n.Lt().next(a=>Ne.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(mi.userMutationsIndex,h).next(m=>Ne.forEach(m,_=>{Nt(_.userId===l.userId);const D=xb(this.N,_);return jU(i,l.userId,D).next(()=>{})}))}))}xe(i){const n=i.store(fs.store),s=i.store($i.store);return i.store($o.store).get($o.key).next(a=>{const l=[];return s.Kt((h,m)=>{const _=new Nn(h),D=[0,ul(_)];l.push(n.get(D).next(M=>M?Ne.resolve():n.put(new fs(0,ul(_),a.highestListenSequenceNumber))))}).next(()=>Ne.waitFor(l))})}ke(i,n){i.createObjectStore(xm.store,{keyPath:xm.keyPath});const s=n.store(xm.store),a=new aF,l=h=>{if(a.add(h)){const m=h.lastSegment(),_=h.popLast();return s.put({collectionId:m,parent:ul(_)})}};return n.store($i.store).Kt({qt:!0},(h,m)=>{const _=new Nn(h);return l(_.popLast())}).next(()=>n.store(Ts.store).Kt({qt:!0},([h,m,_],D)=>{const M=Uu(m);return l(M.popLast())}))}$e(i){const n=i.store(yo.store);return n.Kt((s,a)=>{const l=Z1(a),h=VU(this.N,l);return n.put(h)})}}function QU(r){r.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.documentTargetsIndex,fs.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(yo.store,{keyPath:yo.keyPath}).createIndex(yo.queryTargetsIndexName,yo.queryTargetsKeyPath,{unique:!0}),r.createObjectStore($o.store)}const uF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dF{constructor(i,n,s,a,l,h,m,_,D,M){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=l,this.window=h,this.document=m,this.Fe=D,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=A=>Promise.resolve(),!dF.bt())throw new Fe(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iz(this,a),this.We=n+"main",this.N=new FU(_),this.Ge=new dl(this.We,11,new oz(this.N)),this.ze=new X5(this.referenceDelegate,this.N),this.Ht=new K5,this.He=new rz(this.N,this.Ht),this.Je=new J5,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(De.FAILED_PRECONDITION,uF);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new Zo(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,Me.Z)(function*(a){if(n.started)return i(a)});return function(a){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,Me.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,Me.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>hA(i).put(new Hu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(Am(i))return je("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return z1(i).get(zo.key).next(n=>Ne.resolve(this.cn(n)))}un(i){return hA(i).delete(this.clientId)}hn(){var i=this;return(0,Me.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=bo(s,Hu.store);return a.Lt().next(l=>{const h=i.fn(l,18e5),m=l.filter(_=>-1===h.indexOf(_));return Ne.forEach(m,_=>a.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Ne.resolve(!0):z1(i).get(zo.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Fe(De.FAILED_PRECONDITION,uF);return!1}}return!(!this.networkEnabled||!this.inForeground)||hA(i).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&m)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&je("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,Me.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[zo.store,Hu.store],n=>{const s=new PU(n,Zo.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>hA(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return lF.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let l;return je("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",z5,h=>(l=new PU(h,this.Le?this.Le.next():Zo.T),"readwrite-primary"===n?this.sn(l).next(m=>!!m||this.rn(l)).next(m=>{if(!m)throw dr(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Fe(De.FAILED_PRECONDITION,RU);return s(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>s(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(i){return z1(i).get(zo.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Fe(De.FAILED_PRECONDITION,uF)})}an(i){const n=new zo(this.clientId,this.allowTabSynchronization,Date.now());return z1(i).put(zo.key,n)}static bt(){return dl.bt()}on(i){const n=z1(i);return n.get(zo.key).next(s=>this.cn(s)?(je("IndexedDbPersistence","Releasing primary lease."),n.delete(zo.key)):Ne.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(dr(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,Wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return je("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return dr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){dr("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function z1(r){return bo(r,zo.store)}function hA(r){return bo(r,Hu.store)}function hF(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class az{constructor(i,n){this.progress=i,this.Tn=n}}class KU{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(i,n){i.forEach((s,a)=>{for(const l of n)l.applyToLocalView(a)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return ft.isDocumentKey((a=n).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(i,n.path):$P(n)?this.Sn(i,n,s):this.Dn(i,n,s);var a}Vn(i,n){return this.An(i,new ft(n)).next(s=>{let a=KP();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(i,n,s){const a=n.collectionGroup;let l=KP();return this.Ht.getCollectionParents(i,a).next(h=>Ne.forEach(h,m=>{const _=(D=n,M=m.child(a),new Vu(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,M;return this.Dn(i,_,s).next(D=>{D.forEach((M,A)=>{l=l.insert(M,A)})})}).next(()=>l))}Dn(i,n,s){let a,l;return this.He.getDocumentsMatchingQuery(i,n,s).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(h=>(l=h,this.Cn(i,l,a).next(m=>{a=m;for(const _ of l)for(const D of _.mutations){const M=D.key;let A=a.get(M);null==A&&(A=Si.newInvalidDocument(M),a=a.insert(M,A)),JP(D,A,_.localWriteTime),A.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((h,m)=>{F1(n,m)||(a=a.remove(h))}),a))}Cn(i,n,s){let a=Gn();for(const h of n)for(const m of h.mutations)m instanceof jh&&null===s.get(m.key)&&(a=a.add(m.key));let l=s;return this.He.getEntries(i,a).next(h=>(h.forEach((m,_)=>{_.isFoundDocument()&&(l=l.insert(m,_))}),l))}}class fF{constructor(i,n,s,a){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=a}static kn(i,n){let s=Gn(),a=Gn();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fF(i,n.fromCache,s,a)}}class XU{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,a){return 0===(l=n).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(en.min())?this.Fn(i,n):this.On.Pn(i,a).next(l=>{const h=this.Mn(n,l);return(Xx(n)||eA(n))&&this.Ln(n.limitType,h,a,s)?this.Fn(i,n):(VP()<=Ou.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),WP(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(m=>(h.forEach(_=>{m=m.insert(_.key,_)}),m)))});var l}Mn(i,n){let s=new zi($6(i));return n.forEach((a,l)=>{F1(i,l)&&(s=s.add(l))}),s}Ln(i,n,s,a){if(s.size!==n.size)return!0;const l="F"===i?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(i,n){return VP()<=Ou.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",WP(n)),this.On.getDocumentsMatchingQuery(i,n,en.min())}}class lz{constructor(i,n,s,a){this.persistence=i,this.Bn=n,this.N=a,this.Un=new Er(gn),this.qn=new Ib(l=>O1(l),Jx),this.Kn=en.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new KU(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function eH(r,i,n,s){return new lz(r,i,n,s)}function tH(r,i){return pF.apply(this,arguments)}function pF(){return(pF=(0,Me.Z)(function*(r,i){const n=Je(r);let s=n.In,a=n.Qn;const l=yield n.persistence.runTransaction("Handle user change","readonly",h=>{let m;return n.In.getAllMutationBatches(h).next(_=>(m=_,s=n.persistence.getMutationQueue(i),a=new KU(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(h))).next(_=>{const D=[],M=[];let A=Gn();for(const I of m){D.push(I.batchId);for(const O of I.mutations)A=A.add(O.key)}for(const I of _){M.push(I.batchId);for(const O of I.mutations)A=A.add(O.key)}return a.Pn(h,A).next(I=>({Wn:I,removedBatchIds:D,addedBatchIds:M}))})});return n.In=s,n.Qn=a,n.Bn.$n(n.Qn),l})).apply(this,arguments)}function cz(r,i){const n=Je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=i.batch.keys(),l=n.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,_,D){const M=_.batch,A=M.keys();let I=Ne.resolve();return A.forEach(O=>{I=I.next(()=>D.getEntry(m,O)).next(B=>{const $=_.docVersions.get(O);Nt(null!==$),B.version.compareTo($)<0&&(M.applyToRemoteDocument(B,_),B.isValidDocument()&&D.addEntry(B,_.commitVersion))})}),I.next(()=>h.In.removeMutationBatch(m,M))}(n,s,i,l).next(()=>l.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,a))})}function nH(r){const i=Je(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function uz(r,i){const n=Je(r),s=i.snapshotVersion;let a=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=n.jn.newChangeBuffer({trackRemovals:!0});a=n.Un;const m=[];i.targetChanges.forEach((D,M)=>{const A=a.get(M);if(!A)return;m.push(n.ze.removeMatchingKeys(l,D.removedDocuments,M).next(()=>n.ze.addMatchingKeys(l,D.addedDocuments,M)));const I=D.resumeToken;if(I.approximateByteSize()>0){const O=A.withResumeToken(I,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(M,O),B=A,le=D,Nt(($=O).resumeToken.approximateByteSize()>0),(0===B.resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&m.push(n.ze.updateTargetData(l,O))}var B,$,le});let _=Aa();if(i.documentUpdates.forEach((D,M)=>{i.resolvedLimboDocuments.has(D)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,D))}),m.push(iH(l,h,i.documentUpdates,s,void 0).next(D=>{_=D})),!s.isEqual(en.min())){const D=n.ze.getLastRemoteSnapshotVersion(l).next(M=>n.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(D)}return Ne.waitFor(m).next(()=>h.apply(l)).next(()=>n.Qn.vn(l,_)).next(()=>_)}).then(l=>(n.Un=a,l))}function iH(r,i,n,s,a){let l=Gn();return n.forEach(h=>l=l.add(h)),i.getEntries(r,l).next(h=>{let m=Aa();return n.forEach((_,D)=>{const M=h.get(_),A=(null==a?void 0:a.get(_))||s;D.isNoDocument()&&D.version.isEqual(en.min())?(i.removeEntry(_,A),m=m.insert(_,D)):!M.isValidDocument()||D.version.compareTo(M.version)>0||0===D.version.compareTo(M.version)&&M.hasPendingWrites?(i.addEntry(D,A),m=m.insert(_,D)):je("LocalStore","Ignoring outdated watch update for ",_,". Current version:",M.version," Watch version:",D.version)}),m})}function dz(r,i){const n=Je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function Rb(r,i){const n=Je(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ze.getTargetData(s,i).next(l=>l?(a=l,Ne.resolve(a)):n.ze.allocateTargetId(s).next(h=>(a=new Zh(i,h,0,s.currentSequenceNumber),n.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Ob(r,i,n){return mF.apply(this,arguments)}function mF(){return(mF=(0,Me.Z)(function*(r,i,n){const s=Je(r),a=s.Un.get(i),l=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Am(h))throw h;je("LocalStore",`Failed to update sequence numbers for target ${i}: ${h}`)}s.Un=s.Un.remove(i),s.qn.delete(a.target)})).apply(this,arguments)}function fA(r,i,n){const s=Je(r);let a=en.min(),l=Gn();return s.persistence.runTransaction("Execute query","readonly",h=>function(m,_,D){const M=Je(m),A=M.qn.get(D);return void 0!==A?Ne.resolve(M.Un.get(A)):M.ze.getTargetData(_,D)}(s,h,xa(i)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(h,m.targetId).next(_=>{l=_})}).next(()=>s.Bn.getDocumentsMatchingQuery(h,i,n?a:en.min(),n?l:Gn())).next(m=>({documents:m,Gn:l})))}function rH(r,i){const n=Je(r),s=Je(n.ze),a=n.Un.get(i);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",l=>s.Et(l,i).next(h=>h?h.target:null))}function sH(r){const i=Je(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,a,l){const h=Je(s);let m=Aa(),_=sF(l);const D=Wh(a),M=IDBKeyRange.lowerBound(_,!0);return D.Kt({index:$i.readTimeIndex,range:M},(A,I)=>{const O=rF(h.N,I);m=m.insert(O.key,O),_=I.readTime}).next(()=>({Tn:m,readTime:BU(_)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function gF(){return(gF=(0,Me.Z)(function*(r){const i=Je(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const a=Wh(s);let l=en.min();return a.Kt({index:$i.readTimeIndex,reverse:!0},(h,m,_)=>{m.readTime&&(l=BU(m.readTime)),_.done()}).next(()=>l)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function _F(){return(_F=(0,Me.Z)(function*(r,i,n,s){const a=Je(r);let l=Gn(),h=Aa(),m=dU();for(const M of n){const A=i.zn(M.metadata.name);M.document&&(l=l.add(A)),h=h.insert(A,i.Hn(M)),m=m.insert(A,i.Jn(M.metadata.readTime))}const _=a.jn.newChangeBuffer({trackRemovals:!0}),D=yield Rb(a,(M=s,xa(yb(Nn.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>iH(M,_,h,en.min(),m).next(A=>(_.apply(M),A)).next(A=>a.ze.removeMatchingKeysForTargetId(M,D.targetId).next(()=>a.ze.addMatchingKeys(M,l,D.targetId)).next(()=>a.Qn.vn(M,A)).next(()=>A)))})).apply(this,arguments)}function pz(r,i){return yF.apply(this,arguments)}function yF(){return(yF=(0,Me.Z)(function*(r,i,n=Gn()){const s=yield Rb(r,xa(oF(i.bundledQuery))),a=Je(r);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=Gr(i.readTime);if(s.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(l,i);const m=s.withResumeToken(Hr.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(m.targetId,m),a.ze.updateTargetData(l,m).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,n,s.targetId)).next(()=>a.Je.saveNamedQuery(l,i))})})).apply(this,arguments)}class mz{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Ne.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:Gr(s.createTime)}),Ne.resolve()}getNamedQuery(i,n){return Ne.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:oF(s.bundledQuery),readTime:Gr(s.readTime)}),Ne.resolve();var s}}class bF{constructor(){this.Zn=new zi(Yr.ts),this.es=new zi(Yr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new Yr(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new Yr(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new ft(new Nn([])),s=new Yr(n,i),a=new Yr(n,i+1),l=[];return this.es.forEachInRange([s,a],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new ft(new Nn([])),s=new Yr(n,i),a=new Yr(n,i+1);let l=Gn();return this.es.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(i){const n=new Yr(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class Yr{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return ft.comparator(i.key,n.key)||gn(i.ls,n.ls)}static ns(i,n){return gn(i.ls,n.ls)||ft.comparator(i.key,n.key)}}class gz{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new zi(Yr.ts)}checkEmpty(i){return Ne.resolve(0===this.In.length)}addMutationBatch(i,n,s,a){const l=this.fs;this.fs++;const h=new nF(l,n,s,a);this.In.push(h);for(const m of a)this.ds=this.ds.add(new Yr(m.key,l)),this.Ht.addToCollectionParentIndex(i,m.key.path.popLast());return Ne.resolve(h)}lookupMutationBatch(i,n){return Ne.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const a=this._s(n+1),l=a<0?0:a;return Ne.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Ne.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new Yr(n,0),a=new Yr(n,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],h=>{const m=this.ws(h.ls);l.push(m)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new zi(gn);return n.forEach(a=>{const l=new Yr(a,0),h=new Yr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],m=>{s=s.add(m.ls)})}),Ne.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,a=s.length+1;let l=s;ft.isDocumentKey(l)||(l=l.child(""));const h=new Yr(new ft(l),0);let m=new zi(gn);return this.ds.forEachWhile(_=>{const D=_.key.path;return!!s.isPrefixOf(D)&&(D.length===a&&(m=m.add(_.ls)),!0)},h),Ne.resolve(this.gs(m))}gs(i){const n=[];return i.forEach(s=>{const a=this.ws(s);null!==a&&n.push(a)}),n}removeMutationBatch(i,n){Nt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Ne.forEach(n.mutations,a=>{const l=new Yr(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(i,a.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new Yr(n,0),a=this.ds.firstAfterOrEqual(s);return Ne.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(i){return Ne.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class _z{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Er(ft.comparator),this.size=0}addEntry(i,n,s){const a=n.key,l=this.docs.get(a),h=l?l.size:0,m=this.ps(n);return this.docs=this.docs.insert(a,{document:n.clone(),size:m,readTime:s}),this.size+=m-h,this.Ht.addToCollectionParentIndex(i,a.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Ne.resolve(s?s.document.clone():Si.newInvalidDocument(n))}getEntries(i,n){let s=Aa();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():Si.newInvalidDocument(a))}),Ne.resolve(s)}getDocumentsMatchingQuery(i,n,s){let a=Aa();const l=new ft(n.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:_,readTime:D}}=h.getNext();if(!n.path.isPrefixOf(m.path))break;D.compareTo(s)<=0||F1(n,_)&&(a=a.insert(_.key,_.clone()))}return Ne.resolve(a)}Es(i,n){return Ne.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new yz(this)}getSize(i){return Ne.resolve(this.size)}}class yz extends WU{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?n.push(this.Se.addEntry(i,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ne.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class bz{constructor(i){this.persistence=i,this.Ts=new Ib(n=>O1(n),Jx),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.Is=0,this.As=new bF,this.targetCount=0,this.Rs=Im.se()}forEachTarget(i,n){return this.Ts.forEach((s,a)=>n(a)),Ne.resolve()}getLastRemoteSnapshotVersion(i){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Ne.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Ne.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new Im(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Ne.resolve()}updateTargetData(i,n){return this.ae(n),Ne.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(i,n,s){let a=0;const l=[];return this.Ts.forEach((h,m)=>{m.sequenceNumber<=n&&null===s.get(m.targetId)&&(this.Ts.delete(h),l.push(this.removeMatchingKeysForTargetId(i,m.targetId)),a++)}),Ne.waitFor(l).next(()=>a)}getTargetCount(i){return Ne.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Ne.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Ne.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(h=>{l.push(a.markPotentiallyOrphaned(i,h))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Ne.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Ne.resolve(s)}containsKey(i,n){return Ne.resolve(this.As.containsKey(n))}}class vz{constructor(i,n){this.bs={},this.Le=new Zo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new bz(this),this.Ht=new Q5,this.He=new _z(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new FU(n),this.Je=new mz(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new gz(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){je("MemoryPersistence","Starting transaction:",i);const a=new wz(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(i,n){return Ne.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class wz extends OU{constructor(i){super(),this.currentSequenceNumber=i}}class vF{constructor(i){this.persistence=i,this.Ds=new bF,this.Cs=null}static Ns(i){return new vF(i)}get xs(){if(this.Cs)return this.Cs;throw pt()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Ne.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Ne.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Ne.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.xs,s=>{const a=ft.fromPath(s);return this.ks(i,a).next(l=>{l||n.removeEntry(a)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Ne.or([()=>Ne.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function oH(r,i){return`firestore_clients_${r}_${i}`}function aH(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function wF(r,i){return`firestore_targets_${r}_${i}`}class pA{constructor(i,n,s,a){this.user=i,this.batchId=n,this.state=s,this.error=a}static $s(i,n,s){const a=JSON.parse(s);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Fe(a.error.code,a.error.message))),h?new pA(i,n,a.state,l):(dr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class $1{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Fe(s.error.code,s.error.message))),l?new $1(i,s.state,a):(dr("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class mA{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=sA();for(let h=0;a&&h<s.activeTargetIds.length;++h)a=F6(s.activeTargetIds[h]),l=l.add(s.activeTargetIds[h]);return a?new mA(i,l):(dr("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class CF{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new CF(n.clientId,n.onlineState):(dr("SharedClientState",`Failed to parse online state: ${i}`),null)}}class DF{constructor(){this.activeTargetIds=sA()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class MF{constructor(i,n,s,a,l){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Er(gn),this.started=!1,this.Ks=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=oH(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new DF),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,Me.Z)(function*(){const n=yield i.syncEngine.pn();for(const a of n){if(a===i.Ls)continue;const l=i.getItem(oH(i.persistenceKey,a));if(l){const h=mA.$s(a,l);h&&(i.qs=i.qs.insert(h.clientId,h))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const a=i.Xs(s);a&&i.Zs(a)}for(const a of i.Ks)i.Us(a);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(wF(this.persistenceKey,i));if(s){const a=$1.$s(i,s);a&&(n=a.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(wF(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(a=>{this.ni(a)}),this.currentUser=i,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return je("SharedClientState","READ",i,n),n}setItem(i,n){je("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){je("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(je("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Me.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const a=n.ai(s.key);return n.ci(a,null)}{const a=n.ui(s.key,s.newValue);if(a)return n.ci(a.clientId,a)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const a=n.hi(s.key,s.newValue);if(a)return n.li(a)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const a=n.fi(s.key,s.newValue);if(a)return n.di(a)}}else if(s.key===n.Hs){if(null!==s.newValue){const a=n.Xs(s.newValue);if(a)return n.Zs(a)}}else if(s.key===n.Qs){const a=function(l){let h=Zo.T;if(null!=l)try{const m=JSON.parse(l);Nt("number"==typeof m),h=m}catch(m){dr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(s.newValue);a!==Zo.T&&n.sequenceNumberHandler(a)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const a=new pA(this.currentUser,i,n,s),l=aH(this.persistenceKey,this.currentUser,i);this.setItem(l,a.Os())}ni(i){const n=aH(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const a=wF(this.persistenceKey,i),l=new $1(i,n,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return mA.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),a=Number(s[1]);return pA.$s(new us(void 0!==s[2]?s[2]:null),a,n)}fi(i,n){const s=this.zs.exec(i),a=Number(s[1]);return $1.$s(a,n)}Xs(i){return CF.$s(i)}li(i){var n=this;return(0,Me.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);je("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),a=this.ti(this.qs),l=this.ti(s),h=[],m=[];return l.forEach(_=>{a.has(_)||h.push(_)}),a.forEach(_=>{l.has(_)||m.push(_)}),this.syncEngine.gi(h,m).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=sA();return i.forEach((s,a)=>{n=n.unionWith(a.activeTargetIds)}),n}}class lH{constructor(){this.yi=new DF,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new DF,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class Cz{Ei(i){}shutdown(){}}class cH{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Dz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mz{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class Tz extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,a){const l=this.Bi(i,n);je("RestConnection","Sending: ",l,s);const h={};return this.Ui(h,a),this.qi(i,l,h,s).then(m=>(je("RestConnection","Received: ",m),m),m=>{throw x1("RestConnection",`${i} failed with error: `,m,"url: ",l,"request:",s),m})}Ki(i,n,s,a){return this.Li(i,n,s,a)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+hb,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${Dz[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,a){return new Promise((l,h)=>{const m=new A6;m.listenOnce(E6.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Zx.NO_ERROR:const D=m.getResponseJson();je("Connection","XHR received:",JSON.stringify(D)),l(D);break;case Zx.TIMEOUT:je("Connection",'RPC "'+i+'" timed out'),h(new Fe(De.DEADLINE_EXCEEDED,"Request time out"));break;case Zx.HTTP_ERROR:const M=m.getStatus();if(je("Connection",'RPC "'+i+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const A=m.getResponseJson().error;if(A&&A.status&&A.message){const I=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(B)>=0?B:De.UNKNOWN}(A.status);h(new Fe(I,A.message))}else h(new Fe(De.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Fe(De.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{je("Connection",'RPC "'+i+'" completed.')}});const _=JSON.stringify(a);m.send(n,"POST",_,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],a=new qx,l=kx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new x6({})),this.Ui(h.initMessageHeaders,n),(0,Wt.uI)()||(0,Wt.b$)()||(0,Wt.d)()||(0,Wt.w1)()||(0,Wt.Mn)()||(0,Wt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=s.join("");je("Connection","Creating WebChannel: "+m,h);const _=a.createWebChannel(m,h);let D=!1,M=!1;const A=new Mz({vi:O=>{M?je("Connection","Not sending because WebChannel is closed:",O):(D||(je("Connection","Opening WebChannel transport."),_.open(),D=!0),je("Connection","WebChannel sending:",O),_.send(O))},Vi:()=>_.close()}),I=(O,B,$)=>{O.listen(B,le=>{try{$(le)}catch(Re){setTimeout(()=>{throw Re},0)}})};return I(_,S1.EventType.OPEN,()=>{M||je("Connection","WebChannel transport opened.")}),I(_,S1.EventType.CLOSE,()=>{M||(M=!0,je("Connection","WebChannel transport closed"),A.$i())}),I(_,S1.EventType.ERROR,O=>{M||(M=!0,x1("Connection","WebChannel transport errored:",O),A.$i(new Fe(De.UNAVAILABLE,"The operation could not be completed")))}),I(_,S1.EventType.MESSAGE,O=>{var B;if(!M){const $=O.data[0];Nt(!!$);const le=$,Re=le.error||(null===(B=le[0])||void 0===B?void 0:B.error);if(Re){je("Connection","WebChannel received error:",Re);const Ve=Re.status;let He=function(vn){const yi=pr[vn];if(void 0!==yi)return cU(yi)}(Ve),Qe=Re.message;void 0===He&&(He=De.INTERNAL,Qe="Unknown error status: "+Ve+" with message "+Re.message),M=!0,A.$i(new Fe(He,Qe)),_.close()}else je("Connection","WebChannel received:",$),A.Oi($)}}),I(l,S6.STAT_EVENT,O=>{O.stat===BP_PROXY?je("Connection","Detected buffering proxy"):O.stat===BP_NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.ki()},0),A}}function uH(){return"undefined"!=typeof window?window:null}function gA(){return"undefined"!=typeof document?document:null}function W1(r){return new R5(r,!0)}class TF{constructor(i,n,s=1e3,a=1.5,l=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,n-s);a>0&&je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class dH{constructor(i,n,s,a,l,h){this.Oe=i,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=h,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new TF(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,Me.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,Me.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,Me.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===De.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===De.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const a=new Fe(De.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,Me.Z)(function*(){i.state=0,i.start()}))}pr(i){return je("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ez extends dH{constructor(i,n,s,a,l){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,l),this.N=a}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(_=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),a=i.targetChange.targetIds||[],l=function(_,D){return _.D?(Nt(void 0===D||"string"==typeof D),Hr.fromBase64String(D||"")):(Nt(void 0===D||D instanceof Uint8Array),Hr.fromUint8Array(D||new Uint8Array))}(r,i.targetChange.resumeToken),h=i.targetChange.cause,m=h&&function(_){const D=void 0===_.code?De.UNKNOWN:cU(_.code);return new Fe(D,_.message||"")}(h);n=new fU(s,a,l,m||null)}else if("documentChange"in i){const s=i.documentChange,a=cc(r,s.document.name),l=Gr(s.document.updateTime),h=new Ms({mapValue:{fields:s.document.fields}}),m=Si.newFoundDocument(a,l,h);n=new oA(s.targetIds||[],s.removedTargetIds||[],m.key,m)}else if("documentDelete"in i){const s=i.documentDelete,a=cc(r,s.document),l=s.readTime?Gr(s.readTime):en.min(),h=Si.newNoDocument(a,l);n=new oA([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in i){const s=i.documentRemove,a=cc(r,s.document);n=new oA([],s.removedTargetIds||[],a,null)}else{if(!("filter"in i))return pt();{const s=i.filter,l=new D5(s.count||0);n=new hU(s.targetId,l)}}var _;return n}(this.N,i),s=function(a){if(!("targetChange"in a))return en.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?en.min():l.readTime?Gr(l.readTime):en.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=j1(this.N),n.addTarget=function(a,l){let h;const m=l.target;return h=Qx(m)?{documents:MU(a,m)}:{query:TU(a,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=_U(a,l.resumeToken):l.snapshotVersion.compareTo(en.min())>0&&(h.readTime=G1(a,l.snapshotVersion.toTimestamp())),h}(this.N,i);const s=function(r,i){const n=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=j1(this.N),n.removeTarget=i,this.wr(n)}}class Sz extends dH{constructor(i,n,s,a,l){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(Nt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(Nt(void 0!==i),r.map(n=>function(s,a){let l=Gr(s.updateTime?s.updateTime:a);return l.isEqual(en.min())&&(l=Gr(a)),new v5(l,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=Gr(i.commitTime);return this.listener.vr(s,n)}return Nt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=j1(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>aA(this.N,s))};this.wr(n)}}class xz extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Fe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(i,n,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===De.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Fe(De.UNKNOWN,a.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(i,n,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===De.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Fe(De.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class Az{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(dr(n),this.$r=!1):je("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class kz{constructor(i,n,s,a,l){var h=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ei(m=>{s.enqueueAndForget((0,Me.Z)(function*(){var _;Jh(h)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Me.Z)(function*(D){const M=Je(D);M.Kr.add(4),yield Nb(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield J1(M)}),function(D){return _.apply(this,arguments)})(h))}))}),this.Wr=new Az(s,a)}}function J1(r){return EF.apply(this,arguments)}function EF(){return(EF=(0,Me.Z)(function*(r){if(Jh(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function Nb(r){return SF.apply(this,arguments)}function SF(){return(SF=(0,Me.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function _A(r,i){const n=Je(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),kF(n)?AF(n):Fb(n).cr()&&xF(n,i))}function Q1(r,i){const n=Je(r),s=Fb(n);n.qr.delete(i),s.cr()&&hH(n,i),0===n.qr.size&&(s.cr()?s.lr():Jh(n)&&n.Wr.set("Unknown"))}function xF(r,i){r.Gr.Y(i.targetId),Fb(r).Ir(i)}function hH(r,i){r.Gr.Y(i),Fb(r).Ar(i)}function AF(r){r.Gr=new A5({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),Fb(r).start(),r.Wr.Or()}function kF(r){return Jh(r)&&!Fb(r).ar()&&r.qr.size>0}function Jh(r){return 0===Je(r).Kr.size}function fH(r){r.Gr=void 0}function Iz(r){return IF.apply(this,arguments)}function IF(){return(IF=(0,Me.Z)(function*(r){r.qr.forEach((i,n)=>{xF(r,i)})})).apply(this,arguments)}function Rz(r,i){return RF.apply(this,arguments)}function RF(){return(RF=(0,Me.Z)(function*(r,i){fH(r),kF(r)?(r.Wr.Lr(i),AF(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function Oz(r,i,n){return OF.apply(this,arguments)}function OF(){return(OF=(0,Me.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof fU&&2===i.state&&i.cause)try{yield(s=(0,Me.Z)(function*(a,l){const h=l.cause;for(const m of l.targetIds)a.qr.has(m)&&(yield a.remoteSyncer.rejectListen(m,h),a.qr.delete(m),a.Gr.removeTarget(m))}),function(a,l){return s.apply(this,arguments)})(r,i)}catch(s){je("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield yA(r,s)}else if(i instanceof oA?r.Gr.rt(i):i instanceof hU?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(en.min()))try{const s=yield nH(r.localStore);n.compareTo(s)>=0&&(yield function(a,l){const h=a.Gr._t(l);return h.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const D=a.qr.get(_);D&&a.qr.set(_,D.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const _=a.qr.get(m);if(!_)return;a.qr.set(m,_.withResumeToken(Hr.EMPTY_BYTE_STRING,_.snapshotVersion)),hH(a,m);const D=new Zh(_.target,m,1,_.sequenceNumber);xF(a,D)}),a.remoteSyncer.applyRemoteEvent(h)}(r,n))}catch(s){je("RemoteStore","Failed to raise snapshot:",s),yield yA(r,s)}var s})).apply(this,arguments)}function yA(r,i,n){return NF.apply(this,arguments)}function NF(){return(NF=(0,Me.Z)(function*(r,i,n){if(!Am(i))throw i;r.Kr.add(1),yield Nb(r),r.Wr.set("Offline"),n||(n=()=>nH(r.localStore)),r.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield J1(r)}))})).apply(this,arguments)}function pH(r,i){return i().catch(n=>yA(r,n,i))}function Pb(r){return PF.apply(this,arguments)}function PF(){return(PF=(0,Me.Z)(function*(r){const i=Je(r),n=Qh(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;Nz(i);)try{const a=yield dz(i.localStore,s);if(null===a){0===i.Ur.length&&n.lr();break}s=a.batchId,Pz(i,a)}catch(a){yield yA(i,a)}mH(i)&&gH(i)})).apply(this,arguments)}function Nz(r){return Jh(r)&&r.Ur.length<10}function Pz(r,i){r.Ur.push(i);const n=Qh(r);n.cr()&&n.br&&n.Pr(i.mutations)}function mH(r){return Jh(r)&&!Qh(r).ar()&&r.Ur.length>0}function gH(r){Qh(r).start()}function Fz(r){return FF.apply(this,arguments)}function FF(){return(FF=(0,Me.Z)(function*(r){Qh(r).Sr()})).apply(this,arguments)}function Lz(r){return LF.apply(this,arguments)}function LF(){return(LF=(0,Me.Z)(function*(r){const i=Qh(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function Bz(r,i,n){return BF.apply(this,arguments)}function BF(){return(BF=(0,Me.Z)(function*(r,i,n){const s=r.Ur.shift(),a=iF.from(s,i,n);yield pH(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Pb(r)})).apply(this,arguments)}function Vz(r,i){return VF.apply(this,arguments)}function VF(){return(VF=(0,Me.Z)(function*(r,i){var n;i&&Qh(r).br&&(yield(n=(0,Me.Z)(function*(s,a){if(lU(l=a.code)&&l!==De.ABORTED){const h=s.Ur.shift();Qh(s).hr(),yield pH(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Pb(s)}var l}),function(s,a){return n.apply(this,arguments)})(r,i)),mH(r)&&gH(r)})).apply(this,arguments)}function UF(r,i){return HF.apply(this,arguments)}function HF(){return(HF=(0,Me.Z)(function*(r,i){const n=Je(r);i?(n.Kr.delete(2),yield J1(n)):i||(n.Kr.add(2),yield Nb(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Fb(r){return r.zr||(r.zr=function(i,n,s){const a=Je(i);return a.Cr(),new Ez(n,a.nr,a.credentials,a.N,s)}(r.datastore,r.asyncQueue,{Si:Iz.bind(null,r),Ci:Rz.bind(null,r),Tr:Oz.bind(null,r)}),r.jr.push(function(){var i=(0,Me.Z)(function*(n){n?(r.zr.hr(),kF(r)?AF(r):r.Wr.set("Unknown")):(yield r.zr.stop(),fH(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function Qh(r){return r.Hr||(r.Hr=function(i,n,s){const a=Je(i);return a.Cr(),new Sz(n,a.nr,a.credentials,a.N,s)}(r.datastore,r.asyncQueue,{Si:Fz.bind(null,r),Ci:Vz.bind(null,r),Vr:Lz.bind(null,r),vr:Bz.bind(null,r)}),r.jr.push(function(){var i=(0,Me.Z)(function*(n){n?(r.Hr.hr(),yield Pb(r)):(yield r.Hr.stop(),r.Ur.length>0&&(je("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class GF{constructor(i,n,s,a,l){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(i,n,s,a,l){const h=Date.now()+s,m=new GF(i,n,h,a,l);return m.start(s),m}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(De.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lb(r,i){if(dr("AsyncQueue",`${i}: ${r}`),Am(r))return new Fe(De.UNAVAILABLE,`${i}: ${r}`);throw r}class Bb{constructor(i){this.comparator=i?(n,s)=>i(n,s)||ft.comparator(n.key,s.key):(n,s)=>ft.comparator(n.key,s.key),this.keyedMap=KP(),this.sortedSet=new Er(this.comparator)}static emptySet(i){return new Bb(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof Bb)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new Bb;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class _H{constructor(){this.Jr=new Er(ft.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):pt():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class Vb{constructor(i,n,s,a,l,h,m,_){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=_}static fromInitialDocuments(i,n,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Vb(i,n,Bb.emptySet(n),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&P1(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class Uz{constructor(){this.Xr=void 0,this.listeners=[]}}class Hz{constructor(){this.queries=new Ib(i=>z6(i),P1),this.onlineState="Unknown",this.Zr=new Set}}function YF(r,i){return jF.apply(this,arguments)}function jF(){return(jF=(0,Me.Z)(function*(r,i){const n=Je(r),s=i.query;let a=!1,l=n.queries.get(s);if(l||(a=!0,l=new Uz),a)try{l.Xr=yield n.onListen(s)}catch(h){const m=Lb(h,`Initialization of query '${WP(i.query)}' failed`);return void i.onError(m)}n.queries.set(s,l),l.listeners.push(i),i.eo(n.onlineState),l.Xr&&i.no(l.Xr)&&zF(n)})).apply(this,arguments)}function qF(r,i){return ZF.apply(this,arguments)}function ZF(){return(ZF=(0,Me.Z)(function*(r,i){const n=Je(r),s=i.query;let a=!1;const l=n.queries.get(s);if(l){const h=l.listeners.indexOf(i);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function Gz(r,i){const n=Je(r);let s=!1;for(const a of i){const h=n.queries.get(a.query);if(h){for(const m of h.listeners)m.no(a)&&(s=!0);h.Xr=a}}s&&zF(n)}function Yz(r,i,n){const s=Je(r),a=s.queries.get(i);if(a)for(const l of a.listeners)l.onError(n);s.queries.delete(i)}function zF(r){r.Zr.forEach(i=>{i.next()})}class $F{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const a of i.docChanges)3!==a.type&&s.push(a);i=new Vb(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=Vb.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class jz{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class yH{constructor(i){this.N=i}zn(i){return cc(this.N,i)}Hn(i){return i.metadata.exists?CU(this.N,i.document,!1):Si.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return Gr(i)}}class qz{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=bH(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new yH(this.N);for(const a of i)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const h of a.metadata.queries){const m=(n.get(h)||Gn()).add(l);n.set(h,m)}}return n}complete(){var i=this;return(0,Me.Z)(function*(){const n=yield function(r,i,n,s){return _F.apply(this,arguments)}(i.localStore,new yH(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const a of i.queries)yield pz(i.localStore,a,s.get(a.name));return i.progress.taskState="Success",new az(Object.assign({},i.progress),n)})()}}function bH(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class vH{constructor(i){this.key=i}}class wH{constructor(i){this.key=i}}class CH{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=Gn(),this.mutatedKeys=Gn(),this.po=$6(i),this.Eo=new Bb(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new _H,a=n?n.Eo:this.Eo;let l=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const _=Xx(this.query)&&a.size===this.query.limit?a.last():null,D=eA(this.query)&&a.size===this.query.limit?a.first():null;if(i.inorderTraversal((M,A)=>{const I=a.get(M),O=F1(this.query,A)?A:null,B=!!I&&this.mutatedKeys.has(I.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let le=!1;I&&O?I.data.isEqual(O.data)?B!==$&&(s.track({type:3,doc:O}),le=!0):this.Ro(I,O)||(s.track({type:2,doc:O}),le=!0,(_&&this.po(O,_)>0||D&&this.po(O,D)<0)&&(m=!0)):!I&&O?(s.track({type:0,doc:O}),le=!0):I&&!O&&(s.track({type:1,doc:I}),le=!0,(_||D)&&(m=!0)),le&&(O?(h=h.add(O),l=$?l.add(M):l.delete(M)):(h=h.delete(M),l=l.delete(M)))}),Xx(this.query)||eA(this.query))for(;h.size>this.query.limit;){const M=Xx(this.query)?h.last():h.first();h=h.delete(M.key),l=l.delete(M.key),s.track({type:1,doc:M})}return{Eo:h,Ao:s,Ln:m,mutatedKeys:l}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const a=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const l=i.Ao.Yr();l.sort((D,M)=>function(A,I){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return O(A)-O(I)}(D.type,M.type)||this.po(D.doc,M.doc)),this.bo(s);const h=n?this.Po():[],m=0===this.yo.size&&this.current?1:0,_=m!==this.mo;return this.mo=m,0!==l.length||_?{snapshot:new Vb(this.query,i.Eo,a,l,i.mutatedKeys,0===m,_,!1),vo:h}:{vo:h}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new _H,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=Gn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new wH(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new vH(s))}),n}So(i){this._o=i.Gn,this.yo=Gn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return Vb.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Zz{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class zz{constructor(i){this.key=i,this.Co=!1}}class $z{constructor(i,n,s,a,l,h){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.No={},this.xo=new Ib(m=>z6(m),P1),this.ko=new Map,this.$o=new Set,this.Oo=new Er(ft.comparator),this.Fo=new Map,this.Mo=new bF,this.Lo={},this.Bo=new Map,this.Uo=Im.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Wz(r,i){return WF.apply(this,arguments)}function WF(){return(WF=(0,Me.Z)(function*(r,i){const n=yL(r);let s,a;const l=n.xo.get(i);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const h=yield Rb(n.localStore,xa(i)),m=n.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield JF(n,i,s,"current"===m),n.isPrimaryClient&&_A(n.remoteStore,h)}return a})).apply(this,arguments)}function JF(r,i,n,s){return QF.apply(this,arguments)}function QF(){return(QF=(0,Me.Z)(function*(r,i,n,s){r.Ko=(M,A,I)=>{return(O=(0,Me.Z)(function*(B,$,le,Re){let Ve=$.view.Io(le);Ve.Ln&&(Ve=yield fA(B.localStore,$.query,!1).then(({documents:vn})=>$.view.Io(vn,Ve)));const He=Re&&Re.targetChanges.get($.targetId),Qe=$.view.applyChanges(Ve,B.isPrimaryClient,He);return aL(B,$.targetId,Qe.vo),Qe.snapshot}),function(B,$,le,Re){return O.apply(this,arguments)})(r,M,A,I);var O};const a=yield fA(r.localStore,i,!0),l=new CH(i,a.Gn),h=l.Io(a.documents),m=H1.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),_=l.applyChanges(h,r.isPrimaryClient,m);aL(r,n,_.vo);const D=new Zz(i,n,l);return r.xo.set(i,D),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),_.snapshot})).apply(this,arguments)}function Jz(r,i){return KF.apply(this,arguments)}function KF(){return(KF=(0,Me.Z)(function*(r,i){const n=Je(r),s=n.xo.get(i),a=n.ko.get(s.targetId);if(a.length>1)return n.ko.set(s.targetId,a.filter(l=>!P1(l,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ob(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Q1(n.remoteStore,s.targetId),Ub(n,s.targetId)}).catch(Rm))):(Ub(n,s.targetId),yield Ob(n.localStore,s.targetId,!0))})).apply(this,arguments)}function XF(){return(XF=(0,Me.Z)(function*(r,i,n){const s=bL(r);try{const a=yield function(l,h){const m=Je(l),_=Ur.now(),D=h.reduce((A,I)=>A.add(I.key),Gn());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>m.Qn.Pn(A,D).next(I=>{M=I;const O=[];for(const B of h){const $=C5(B,M.get(B.key));null!=$&&O.push(new jh(B.key,$,U6($.value.mapValue),fr.exists(!0)))}return m.In.addMutationBatch(A,_,O,h)})).then(A=>(A.applyToLocalDocumentSet(M),{batchId:A.batchId,changes:M}))}(s.localStore,i);s.sharedClientState.addPendingMutation(a.batchId),function(l,h,m){let _=l.Lo[l.currentUser.toKey()];_||(_=new Er(gn)),_=_.insert(h,m),l.Lo[l.currentUser.toKey()]=_}(s,a.batchId,n),yield Gu(s,a.changes),yield Pb(s.remoteStore)}catch(a){const l=Lb(a,"Failed to persist write");n.reject(l)}})).apply(this,arguments)}function DH(r,i){return eL.apply(this,arguments)}function eL(){return(eL=(0,Me.Z)(function*(r,i){const n=Je(r);try{const s=yield uz(n.localStore,i);i.targetChanges.forEach((a,l)=>{const h=n.Fo.get(l);h&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Co=!0:a.modifiedDocuments.size>0?Nt(h.Co):a.removedDocuments.size>0&&(Nt(h.Co),h.Co=!1))}),yield Gu(n,s,i)}catch(s){yield Rm(s)}})).apply(this,arguments)}function MH(r,i,n){const s=Je(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const a=[];s.xo.forEach((l,h)=>{const m=h.view.eo(i);m.snapshot&&a.push(m.snapshot)}),function(l,h){const m=Je(l);m.onlineState=h;let _=!1;m.queries.forEach((D,M)=>{for(const A of M.listeners)A.eo(h)&&(_=!0)}),_&&zF(m)}(s.eventManager,i),a.length&&s.No.Tr(a),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function Kz(r,i,n){return tL.apply(this,arguments)}function tL(){return(tL=(0,Me.Z)(function*(r,i,n){const s=Je(r);s.sharedClientState.updateQueryState(i,"rejected",n);const a=s.Fo.get(i),l=a&&a.key;if(l){let h=new Er(ft.comparator);h=h.insert(l,Si.newNoDocument(l,en.min()));const m=Gn().add(l),_=new U1(en.min(),new Map,new zi(gn),h,m);yield DH(s,_),s.Oo=s.Oo.remove(l),s.Fo.delete(i),lL(s)}else yield Ob(s.localStore,i,!1).then(()=>Ub(s,i,n)).catch(Rm)})).apply(this,arguments)}function Xz(r,i){return nL.apply(this,arguments)}function nL(){return(nL=(0,Me.Z)(function*(r,i){const n=Je(r),s=i.batch.batchId;try{const a=yield cz(n.localStore,i);oL(n,s,null),sL(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Gu(n,a)}catch(a){yield Rm(a)}})).apply(this,arguments)}function e8(r,i,n){return iL.apply(this,arguments)}function iL(){return(iL=(0,Me.Z)(function*(r,i,n){const s=Je(r);try{const a=yield function(l,h){const m=Je(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return m.In.lookupMutationBatch(_,h).next(M=>(Nt(null!==M),D=M.keys(),m.In.removeMutationBatch(_,M))).next(()=>m.In.performConsistencyCheck(_)).next(()=>m.Qn.Pn(_,D))})}(s.localStore,i);oL(s,i,n),sL(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield Gu(s,a)}catch(a){yield Rm(a)}})).apply(this,arguments)}function rL(){return(rL=(0,Me.Z)(function*(r,i){const n=Je(r);Jh(n.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const h=Je(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===s)return void i.resolve();const a=n.Bo.get(s)||[];a.push(i),n.Bo.set(s,a)}catch(s){const a=Lb(s,"Initialization of waitForPendingWrites() operation failed");i.reject(a)}})).apply(this,arguments)}function sL(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function oL(r,i,n){const s=Je(r);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(i);l&&(n?l.reject(n):l.resolve(),a=a.remove(i)),s.Lo[s.currentUser.toKey()]=a}}function Ub(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||TH(r,s)})}function TH(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(Q1(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),lL(r))}function aL(r,i,n){for(const s of n)s instanceof vH?(r.Mo.addReference(s.key,i),n8(r,s)):s instanceof wH?(je("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||TH(r,s.key)):pt()}function n8(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(je("SyncEngine","New document in limbo: "+n),r.$o.add(s),lL(r))}function lL(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new ft(Nn.fromString(i)),s=r.Uo.next();r.Fo.set(s,new zz(n)),r.Oo=r.Oo.insert(n,s),_A(r.remoteStore,new Zh(xa(yb(n.path)),s,2,Zo.T))}}function Gu(r,i,n){return cL.apply(this,arguments)}function cL(){return(cL=(0,Me.Z)(function*(r,i,n){const s=Je(r),a=[],l=[],h=[];var m;s.xo.isEmpty()||(s.xo.forEach((m,_)=>{h.push(s.Ko(_,i,n).then(D=>{if(D){s.isPrimaryClient&&s.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),a.push(D);const M=fF.kn(_.targetId,D);l.push(M)}}))}),yield Promise.all(h),s.No.Tr(a),yield(m=(0,Me.Z)(function*(_,D){const M=Je(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Ne.forEach(D,I=>Ne.forEach(I.Nn,O=>M.persistence.referenceDelegate.addReference(A,I.targetId,O)).next(()=>Ne.forEach(I.xn,O=>M.persistence.referenceDelegate.removeReference(A,I.targetId,O)))))}catch(A){if(!Am(A))throw A;je("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const I=A.targetId;if(!A.fromCache){const O=M.Un.get(I),$=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);M.Un=M.Un.insert(I,$)}}}),function(_,D){return m.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function i8(r,i){return uL.apply(this,arguments)}function uL(){return(uL=(0,Me.Z)(function*(r,i){const n=Je(r);if(!n.currentUser.isEqual(i)){je("SyncEngine","User change. New user:",i.toKey());const s=yield tH(n.localStore,i);n.currentUser=i,(a=n).Bo.forEach(h=>{h.forEach(m=>{m.reject(new Fe(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield Gu(n,s.Wn)}var a})).apply(this,arguments)}function r8(r,i){const n=Je(r),s=n.Fo.get(i);if(s&&s.Co)return Gn().add(s.key);{let a=Gn();const l=n.ko.get(i);if(!l)return a;for(const h of l){const m=n.xo.get(h);a=a.unionWith(m.view.To)}return a}}function s8(r,i){return dL.apply(this,arguments)}function dL(){return(dL=(0,Me.Z)(function*(r,i){const n=Je(r),s=yield fA(n.localStore,i.query,!0),a=i.view.So(s);return n.isPrimaryClient&&aL(n,i.targetId,a.vo),a})).apply(this,arguments)}function o8(r){return hL.apply(this,arguments)}function hL(){return(hL=(0,Me.Z)(function*(r){const i=Je(r);return sH(i.localStore).then(n=>Gu(i,n))})).apply(this,arguments)}function a8(r,i,n,s){return fL.apply(this,arguments)}function fL(){return(fL=(0,Me.Z)(function*(r,i,n,s){const a=Je(r),l=yield function(h,m){const _=Je(h),D=Je(_.In);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>D.Xt(M,m).next(A=>A?_.Qn.Pn(M,A):Ne.resolve(null)))}(a.localStore,i);var m;null!==l?("pending"===n?yield Pb(a.remoteStore):"acknowledged"===n||"rejected"===n?(oL(a,i,s||null),sL(a,i),m=i,Je(Je(a.localStore).In).te(m)):pt(),yield Gu(a,l)):je("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function pL(){return(pL=(0,Me.Z)(function*(r,i){const n=Je(r);if(yL(n),bL(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),a=yield EH(n,s.toArray());n.qo=!0,yield UF(n.remoteStore,!0);for(const l of a)_A(n.remoteStore,l)}else if(!1===i&&!1!==n.qo){const s=[];let a=Promise.resolve();n.ko.forEach((l,h)=>{n.sharedClientState.isLocalQueryTarget(h)?s.push(h):a=a.then(()=>(Ub(n,h),Ob(n.localStore,h,!0))),Q1(n.remoteStore,h)}),yield a,yield EH(n,s),function(l){const h=Je(l);h.Fo.forEach((m,_)=>{Q1(h.remoteStore,_)}),h.Mo.us(),h.Fo=new Map,h.Oo=new Er(ft.comparator)}(n),n.qo=!1,yield UF(n.remoteStore,!1)}})).apply(this,arguments)}function EH(r,i,n){return mL.apply(this,arguments)}function mL(){return(mL=(0,Me.Z)(function*(r,i,n){const s=Je(r),a=[],l=[];for(const h of i){let m;const _=s.ko.get(h);if(_&&0!==_.length){m=yield Rb(s.localStore,xa(_[0]));for(const D of _){const M=s.xo.get(D),A=yield s8(s,M);A.snapshot&&l.push(A.snapshot)}}else{const D=yield rH(s.localStore,h);m=yield Rb(s.localStore,D),yield JF(s,SH(D),h,!1)}a.push(m)}return s.No.Tr(l),a})).apply(this,arguments)}function SH(r){return q6(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function c8(r){const i=Je(r);return Je(Je(i.localStore).persistence).pn()}function u8(r,i,n,s){return gL.apply(this,arguments)}function gL(){return(gL=(0,Me.Z)(function*(r,i,n,s){const a=Je(r);if(a.qo)je("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(i))switch(n){case"current":case"not-current":{const l=yield sH(a.localStore),h=U1.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield Gu(a,l,h);break}case"rejected":yield Ob(a.localStore,i,!0),Ub(a,i,s);break;default:pt()}})).apply(this,arguments)}function d8(r,i,n){return _L.apply(this,arguments)}function _L(){return(_L=(0,Me.Z)(function*(r,i,n){const s=yL(r);if(s.qo){for(const a of i){if(s.ko.has(a)){je("SyncEngine","Adding an already active target "+a);continue}const l=yield rH(s.localStore,a),h=yield Rb(s.localStore,l);yield JF(s,SH(l),h.targetId,!1),_A(s.remoteStore,h)}for(const a of n)s.ko.has(a)&&(yield Ob(s.localStore,a,!1).then(()=>{Q1(s.remoteStore,a),Ub(s,a)}).catch(Rm))}})).apply(this,arguments)}function yL(r){const i=Je(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=DH.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=r8.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Kz.bind(null,i),i.No.Tr=Gz.bind(null,i.eventManager),i.No.jo=Yz.bind(null,i.eventManager),i}function bL(r){const i=Je(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=Xz.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=e8.bind(null,i),i}class xH{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,Me.Z)(function*(){n.N=W1(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return eH(this.persistence,new XU,i.initialUser,this.N)}Go(i){return new vz(vF.Ns,this.N)}Wo(i){return new lH}terminate(){var i=this;return(0,Me.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class AH extends xH{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,Me.Z)(function*(){yield n().call(s,i),yield function(r){return gF.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield bL(s.Jo.syncEngine),yield Pb(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return eH(this.persistence,new XU,i.initialUser,this.N)}zo(i){return new tz(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=hF(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new dF(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,uH(),gA(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new lH}}class f8 extends AH{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,Me.Z)(function*(){yield n().call(s,i);const a=s.Jo.syncEngine;s.sharedClientState instanceof MF&&(s.sharedClientState.syncEngine={_i:a8.bind(null,a),mi:u8.bind(null,a),gi:d8.bind(null,a),pn:c8.bind(null,a),wi:o8.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,Me.Z)(function*(h){yield function(r,i){return pL.apply(this,arguments)}(s.Jo.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):h||s.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Wo(i){const n=uH();if(!MF.bt(n))throw new Fe(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=hF(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new MF(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class vL{initialize(i,n){var s=this;return(0,Me.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>MH(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=i8.bind(null,s.syncEngine),yield UF(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Hz}createDatastore(i){const n=W1(i.databaseInfo.databaseId),s=new Tz(i.databaseInfo);return new xz(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,a=i.asyncQueue,l=m=>MH(this.syncEngine,m,0),h=cH.bt()?new cH:new Cz,new kz(n,s,a,l,h);var n,s,a,l,h}createSyncEngine(i,n){return function(s,a,l,h,m,_,D){const M=new $z(s,a,l,h,m,_);return D&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,Me.Z)(function*(n){const s=Je(n);je("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Nb(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function kH(r,i=10240){let n=0;return{read:()=>(0,Me.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bA{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class p8{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new Vr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,Me.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,Me.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,Me.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),a=Number(s);isNaN(a)&&i.sa(`length string (${s}) is not valid number`);const l=yield i.ia(a);return new jz(JSON.parse(l),n.length+a)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,Me.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,Me.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,Me.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class m8{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,Me.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Fe(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Me.Z)(function*(l,h){const m=Je(l),_=j1(m.N)+"/documents",D={documents:h.map(O=>Y1(m.N,O))},M=yield m.Ki("BatchGetDocuments",_,D),A=new Map;M.forEach(O=>{const B=function(r,i){return"found"in i?function(n,s){Nt(!!s.found);const a=cc(n,s.found.name),l=Gr(s.found.updateTime),h=new Ms({mapValue:{fields:s.found.fields}});return Si.newFoundDocument(a,l,h)}(r,i):"missing"in i?function(n,s){Nt(!!s.missing),Nt(!!s.readTime);const a=cc(n,s.missing),l=Gr(s.readTime);return Si.newNoDocument(a,l)}(r,i):pt()}(m.N,O);A.set(B.key.toString(),B)});const I=[];return h.forEach(O=>{const B=A.get(O.toString());Nt(!!B),I.push(B)}),I}),function(l,h){return a.apply(this,arguments)})(n.datastore,i);var a;return s.forEach(a=>n.recordVersion(a)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new V1(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,Me.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,a)=>{const l=ft.fromPath(a);i.mutations.push(new QP(l,i.precondition(l)))}),yield(s=(0,Me.Z)(function*(a,l){const h=Je(a),m=j1(h.N)+"/documents",_={writes:l.map(D=>aA(h.N,D))};yield h.Li("Commit",m,_)}),function(a,l){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw pt();n=en.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Fe(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?fr.updateTime(n):fr.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(en.min()))throw new Fe(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(n)}return fr.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class g8{constructor(i,n,s,a){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new TF(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,Me.Z)(function*(){const n=new m8(i.datastore),s=i.ua(n);s&&s.then(a=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(a)}).catch(l=>{i.ha(l)}))}).catch(a=>{i.ha(a)})}))}ua(i){try{const n=this.updateFunction(i);return!Mm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!lU(n)}return!1}}class _8{constructor(i,n,s){var a=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=us.UNAUTHENTICATED,this.clientId=I6.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var l=(0,Me.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,Me.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const a=Lb(s,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}function IH(r,i){return wL.apply(this,arguments)}function wL(){return(wL=(0,Me.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var a=(0,Me.Z)(function*(l){s.isEqual(l)||(yield tH(i.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function RH(r,i){return CL.apply(this,arguments)}function CL(){return(CL=(0,Me.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield DL(r);je("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(a=>{return(l=(0,Me.Z)(function*(h,m){const _=Je(h);_.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const D=Jh(_);_.Kr.add(3),yield Nb(_),D&&_.Wr.set("Unknown"),yield _.remoteSyncer.handleCredentialChange(m),_.Kr.delete(3),yield J1(_)}),function(h,m){return l.apply(this,arguments)})(i.remoteStore,a);var l}),r.onlineComponents=i})).apply(this,arguments)}function DL(r){return ML.apply(this,arguments)}function ML(){return(ML=(0,Me.Z)(function*(r){return r.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield IH(r,new xH)),r.offlineComponents})).apply(this,arguments)}function vA(r){return TL.apply(this,arguments)}function TL(){return(TL=(0,Me.Z)(function*(r){return r.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield RH(r,new vL)),r.onlineComponents})).apply(this,arguments)}function OH(r){return DL(r).then(i=>i.persistence)}function EL(r){return DL(r).then(i=>i.localStore)}function NH(r){return vA(r).then(i=>i.remoteStore)}function SL(r){return vA(r).then(i=>i.syncEngine)}function Hb(r){return xL.apply(this,arguments)}function xL(){return(xL=(0,Me.Z)(function*(r){const i=yield vA(r),n=i.eventManager;return n.onListen=Wz.bind(null,i.syncEngine),n.onUnlisten=Jz.bind(null,i.syncEngine),n})).apply(this,arguments)}function PH(r,i,n={}){const s=new Vr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(a,l,h,m,_){const D=new bA({next:A=>{l.enqueueAndForget(()=>qF(a,M));const I=A.docs.has(h);!I&&A.fromCache?_.reject(new Fe(De.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&m&&"server"===m.source?_.reject(new Fe(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),M=new $F(yb(h.path),D,{includeMetadataChanges:!0,uo:!0});return YF(a,M)}(yield Hb(r),r.asyncQueue,i,n,s)})),s.promise}function FH(r,i,n={}){const s=new Vr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(a,l,h,m,_){const D=new bA({next:A=>{l.enqueueAndForget(()=>qF(a,M)),A.fromCache&&"server"===m.source?_.reject(new Fe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),M=new $F(h,D,{includeMetadataChanges:!0,uo:!0});return YF(a,M)}(yield Hb(r),r.asyncQueue,i,n,s)})),s.promise}class E8{constructor(i,n,s,a,l,h,m,_){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class Gb{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Gb&&i.projectId===this.projectId&&i.database===this.database}}const LH=new Map;function AL(r,i,n){if(!n)throw new Fe(De.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function BH(r,i,n,s){if(!0===i&&!0===s)throw new Fe(De.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function VH(r){if(!ft.isDocumentKey(r))throw new Fe(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function UH(r){if(ft.isDocumentKey(r))throw new Fe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wA(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":pt()}function En(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Fe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wA(r);throw new Fe(De.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function HH(r,i){if(i<=0)throw new Fe(De.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class GH{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Fe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Fe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,BH("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class K1{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GH({}),this._settingsFrozen=!1,i instanceof Gb?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Fe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gb(s.options.projectId)}(i))}get app(){if(!this._app)throw new Fe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Fe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GH(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new J4;switch(n.type){case"gapi":const s=n.client;return Nt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new e5(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Fe(De.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=LH.get(i);n&&(je("ComponentProvider","Removing Datastore"),LH.delete(i),n.terminate())}(this),Promise.resolve()}}class gi{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new gi(this.firestore,i,this._key)}}class Es{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Es(this.firestore,i,this._query)}}class dc extends Es{constructor(i,n,s){super(i,n,yb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new gi(this.firestore,null,new ft(i))}withConverter(i){return new dc(this.firestore,i,this._path)}}function YH(r,i,...n){if(r=(0,Wt.m9)(r),AL("collection","path",i),r instanceof K1){const s=Nn.fromString(i,...n);return UH(s),new dc(r,null,s)}{if(!(r instanceof gi||r instanceof dc))throw new Fe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Nn.fromString(i,...n));return UH(s),new dc(r.firestore,null,s)}}function CA(r,i,...n){if(r=(0,Wt.m9)(r),1===arguments.length&&(i=I6.I()),AL("doc","path",i),r instanceof K1){const s=Nn.fromString(i,...n);return VH(s),new gi(r,null,new ft(s))}{if(!(r instanceof gi||r instanceof dc))throw new Fe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Nn.fromString(i,...n));return VH(s),new gi(r.firestore,r instanceof dc?r.converter:null,new ft(s))}}function jH(r,i){return r=(0,Wt.m9)(r),i=(0,Wt.m9)(i),(r instanceof gi||r instanceof dc)&&(i instanceof gi||i instanceof dc)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function qH(r,i){return r=(0,Wt.m9)(r),i=(0,Wt.m9)(i),r instanceof Es&&i instanceof Es&&r.firestore===i.firestore&&P1(r._query,i._query)&&r.converter===i.converter}class A8{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new TF(this,"async_queue_retry"),this.Ea=()=>{const n=gA();n&&je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=gA();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=gA();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new Vr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,Me.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!Am(n))throw n;je("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,dr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const a=GF.createAndSchedule(this,i,n,s,l=>this.Ra(l));return this._a.push(a),a}Ta(){this.ma&&pt()}verifyOperationInProgress(){}ba(){var i=this;return(0,Me.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function kL(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class k8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class Wi extends K1{constructor(i,n){super(i,n),this.type="firestore",this._queue=new A8,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ZH(this),this._firestoreClient.terminate()}}function Sr(r){return r._firestoreClient||ZH(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ZH(r){var i;const n=r._freezeSettings(),s=(l=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new E8(r._databaseId,l,r._persistenceKey,(m=n).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;r._firestoreClient=new _8(r._credentials,r._queue,s)}function zH(r,i,n){const s=new Vr;return r.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield IH(r,n),yield RH(r,i),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===De.FAILED_PRECONDITION||l.code===De.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function $H(r){if(r._initialized||r._terminated)throw new Fe(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Fe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ds(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class hc{constructor(i){this._byteString=i}static fromBase64String(i){try{return new hc(Hr.fromBase64String(i))}catch(n){throw new Fe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new hc(Hr.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Om{constructor(i){this._methodName=i}}class DA{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Fe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Fe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return gn(this._lat,i._lat)||gn(this._long,i._long)}}const U8=/^__.*__$/;class H8{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new jh(i,this.data,this.fieldMask,n,this.fieldTransforms):new B1(i,this.data,n,this.fieldTransforms)}}class WH{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new jh(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function JH(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class MA{constructor(i,n,s,a,l,h){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new MA(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),a=this.Ca({path:s,xa:!1});return a.ka(i),a}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return EA(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(JH(this.Da)&&U8.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class G8{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||W1(i)}Ba(i,n,s,a=!1){return new MA({Da:i,methodName:n,La:s,path:ds.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Nm(r){const i=r._freezeSettings(),n=W1(r._databaseId);return new G8(r._databaseId,!!i.ignoreUndefinedProperties,n)}function TA(r,i,n,s,a,l={}){const h=r.Ba(l.merge||l.mergeFields?2:0,i,n,a);NL("Data must be an object, but it was:",h,s);const m=XH(s,h);let _,D;if(l.merge)_=new pb(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const M=[];for(const A of l.mergeFields){const I=PL(i,A,n);if(!h.contains(I))throw new Fe(De.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);tG(M,I)||M.push(I)}_=new pb(M),D=h.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=h.fieldTransforms;return new H8(new Ms(m),_,D)}class X1 extends Om{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof X1}}function QH(r,i,n){return new MA({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class IL extends Om{_toFieldTransform(i){return new L1(i.path,new vb)}isEqual(i){return i instanceof IL}}class Y8 extends Om{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=QH(this,i,!0),s=this.Ua.map(l=>Pm(l,n)),a=new Em(s);return new L1(i.path,a)}isEqual(i){return this===i}}class j8 extends Om{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=QH(this,i,!0),s=this.Ua.map(l=>Pm(l,n)),a=new Sm(s);return new L1(i.path,a)}isEqual(i){return this===i}}class q8 extends Om{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new wb(i.N,Q6(i.N,this.qa));return new L1(i.path,n)}isEqual(i){return this===i}}function RL(r,i,n,s){const a=r.Ba(1,i,n);NL("Data must be an object, but it was:",a,s);const l=[],h=Ms.empty();Dm(s,(_,D)=>{const M=FL(i,_,n);D=(0,Wt.m9)(D);const A=a.$a(M);if(D instanceof X1)l.push(M);else{const I=Pm(D,A);null!=I&&(l.push(M),h.set(M,I))}});const m=new pb(l);return new WH(h,m,a.fieldTransforms)}function OL(r,i,n,s,a,l){const h=r.Ba(1,i,n),m=[PL(i,s,n)],_=[a];if(l.length%2!=0)throw new Fe(De.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)m.push(PL(i,l[I])),_.push(l[I+1]);const D=[],M=Ms.empty();for(let I=m.length-1;I>=0;--I)if(!tG(D,m[I])){const O=m[I];let B=_[I];B=(0,Wt.m9)(B);const $=h.$a(O);if(B instanceof X1)D.push(O);else{const le=Pm(B,$);null!=le&&(D.push(O),M.set(O,le))}}const A=new pb(D);return new WH(M,A,h.fieldTransforms)}function KH(r,i,n,s=!1){return Pm(n,r.Ba(s?4:3,i))}function Pm(r,i){if(eG(r=(0,Wt.m9)(r)))return NL("Unsupported field value:",i,r),XH(r,i);if(r instanceof Om)return function(n,s){if(!JH(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const h of n){let m=Pm(h,s.Oa(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(r,i)}return function(n,s){if(null===(n=(0,Wt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Q6(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const a=Ur.fromDate(n);return{timestampValue:G1(s.N,a)}}if(n instanceof Ur){const a=new Ur(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:G1(s.N,a)}}if(n instanceof DA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hc)return{bytesValue:_U(s.N,n._byteString)};if(n instanceof gi){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:XP(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${wA(n)}`)}(r,i)}function XH(r,i){const n={};return N6(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Dm(r,(s,a)=>{const l=Pm(a,i.Na(s));null!=l&&(n[s]=l)}),{mapValue:{fields:n}}}function eG(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ur||r instanceof DA||r instanceof hc||r instanceof gi||r instanceof Om)}function NL(r,i,n){if(!eG(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=wA(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function PL(r,i,n){if((i=(0,Wt.m9)(i))instanceof Yu)return i._internalPath;if("string"==typeof i)return FL(r,i);throw EA("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const Z8=new RegExp("[~\\*/\\[\\]]");function FL(r,i,n){if(i.search(Z8)>=0)throw EA(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yu(...i.split("."))._internalPath}catch(s){throw EA(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function EA(r,i,n,s,a){const l=s&&!s.isEmpty(),h=void 0!==a;let m=`Function ${i}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(l||h)&&(_+=" (found",l&&(_+=` in field ${s}`),h&&(_+=` in document ${a}`),_+=")"),new Fe(De.INVALID_ARGUMENT,m+r+_)}function tG(r,i){return r.some(n=>n.isEqual(i))}class eD{constructor(i,n,s,a,l){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(SA("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class z8 extends eD{data(){return super.data()}}function SA(r,i){return"string"==typeof i?FL(r,i):i instanceof Yu?i._internalPath:i._delegate._internalPath}class Fm{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class ju extends eD{constructor(i,n,s,a,l,h){super(i,n,s,a,h),this._firestore=i,this._firestoreImpl=i,this.metadata=l}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new tD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(SA("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class tD extends ju{data(i={}){return super.data(i)}}class Kh{constructor(i,n,s,a){this._firestore=i,this._userDataWriter=n,this._snapshot=a,this.metadata=new Fm(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new tD(this._firestore,this._userDataWriter,s.key,s,new Fm(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new tD(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Fm(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const m=new tD(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Fm(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,D=-1;return 0!==h.type&&(_=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),D=l.indexOf(h.doc.key)),{type:$8(h.type),doc:m,oldIndex:_,newIndex:D}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $8(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function nG(r,i){return r instanceof ju&&i instanceof ju?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof Kh&&i instanceof Kh&&r._firestore===i._firestore&&qH(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function iG(r){if(eA(r)&&0===r.explicitOrderBy.length)throw new Fe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nD{}function Xh(r,...i){for(const n of i)r=n._apply(r);return r}class W8 extends nD{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=Nm(i.firestore),s=function(a,l,h,m,_,D,M){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Fe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){cG(M,D);const O=[];for(const B of M)O.push(lG(m,a,B));A={arrayValue:{values:O}}}else A=lG(m,a,M)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||cG(M,D),A=KH(h,"where",M,"in"===D||"not-in"===D);const I=zs.create(_,D,A);return function(O,B){if(B.v()){const le=zP(O);if(null!==le&&!le.isEqual(B.field))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${le.toString()}' and '${B.field.toString()}'`);const Re=ZP(O);null!==Re&&uG(0,B.field,Re)}const $=function(le,Re){for(const Ve of le.filters)if(Re.indexOf(Ve.op)>=0)return Ve.op;return null}(O,function(le){switch(le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==$)throw new Fe(De.INVALID_ARGUMENT,$===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${$.toString()}' filters.`)}(a,I),I}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Es(i.firestore,i.converter,function(a,l){const h=a.filters.concat([l]);return new Vu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(i._query,s))}}class Q8 extends nD{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,a,l){if(null!==s.startAt)throw new Fe(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Fe(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new _b(a,l);return function(m,_){if(null===ZP(m)){const D=zP(m);null!==D&&uG(0,D,_.field)}}(s,h),h}(i._query,this.Ka,this.Wa);return new Es(i.firestore,i.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Vu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class rG extends nD{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Es(i.firestore,i.converter,Z6(i._query,this.Ga,this.za))}}class sG extends nD{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=aG(i,this.type,this.Ha,this.Ja);return new Es(i.firestore,i.converter,(a=n,new Vu((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class oG extends nD{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=aG(i,this.type,this.Ha,this.Ja);return new Es(i.firestore,i.converter,(a=n,new Vu((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function aG(r,i,n,s){if(n[0]=(0,Wt.m9)(n[0]),n[0]instanceof eD)return function(a,l,h,m,_){if(!m)throw new Fe(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const M of bb(a))if(M.field.isKeyField())D.push($x(l,m.key));else{const A=m.data.field(M.field);if(HP(A))throw new Fe(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const I=M.field.canonicalString();throw new Fe(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}D.push(A)}return new N1(D,_)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const a=Nm(r.firestore);return function(l,h,m,_,D,M){const A=l.explicitOrderBy;if(D.length>A.length)throw new Fe(De.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let O=0;O<D.length;O++){const B=D[O];if(A[O].field.isKeyField()){if("string"!=typeof B)throw new Fe(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof B}`);if(!$P(l)&&-1!==B.indexOf("/"))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${_}() must be a plain document ID, but '${B}' contains a slash.`);const $=l.path.child(Nn.fromString(B));if(!ft.isDocumentKey($))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${_}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const le=new ft($);I.push($x(h,le))}else{const $=KH(m,_,B);I.push($)}}return new N1(I,M)}(r._query,r.firestore._databaseId,a,i,n,s)}}function lG(r,i,n){if("string"==typeof(n=(0,Wt.m9)(n))){if(""===n)throw new Fe(De.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$P(i)&&-1!==n.indexOf("/"))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(Nn.fromString(n));if(!ft.isDocumentKey(s))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $x(r,new ft(s))}if(n instanceof gi)return $x(r,n._key);throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${wA(n)}.`)}function cG(r,i){if(!Array.isArray(r)||0===r.length)throw new Fe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Fe(De.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function uG(r,i,n){if(!n.isEqual(i))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class LL{convertValue(i,n="none"){switch(Tm(i)){case 0:return null;case 1:return i.booleanValue;case 2:return hr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(mb(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw pt()}}convertObject(i,n){const s={};return Dm(i.fields,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertGeoPoint(i){return new DA(hr(i.latitude),hr(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=P6(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(k1(i));default:return null}}convertTimestamp(i){const n=Yh(i);return new Ur(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=Nn.fromString(i);Nt(kU(s));const a=new Gb(s.get(1),s.get(3)),l=new ft(s.popFirst(5));return a.isEqual(n)||dr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function xA(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class s$ extends LL{constructor(i){super(),this.firestore=i}convertBytes(i){return new hc(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new gi(this.firestore,null,n)}}class dG{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nm(i)}set(i,n,s){this._verifyNotCommitted();const a=ef(i,this._firestore),l=xA(a.converter,n,s),h=TA(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,fr.none())),this}update(i,n,s,...a){this._verifyNotCommitted();const l=ef(i,this._firestore);let h;return h="string"==typeof(n=(0,Wt.m9)(n))||n instanceof Yu?OL(this._dataReader,"WriteBatch.update",l._key,n,s,a):RL(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(h.toMutation(l._key,fr.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=ef(i,this._firestore);return this._mutations=this._mutations.concat(new V1(n._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ef(r,i){if((r=(0,Wt.m9)(r)).firestore!==i)throw new Fe(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Lm extends LL{constructor(i){super(),this.firestore=i}convertBytes(i){return new hc(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new gi(this.firestore,null,n)}}function hG(r,i,n){r=En(r,gi);const s=En(r.firestore,Wi),a=xA(r.converter,i,n);return Yb(s,[TA(Nm(s),"setDoc",r._key,a,null!==r.converter,n).toMutation(r._key,fr.none())])}function fG(r,i,n,...s){r=En(r,gi);const a=En(r.firestore,Wi),l=Nm(a);let h;return h="string"==typeof(i=(0,Wt.m9)(i))||i instanceof Yu?OL(l,"updateDoc",r._key,i,n,s):RL(l,"updateDoc",r._key,i),Yb(a,[h.toMutation(r._key,fr.exists(!0))])}function pG(r,...i){var n,s,a;r=(0,Wt.m9)(r);let l={includeMetadataChanges:!1},h=0;"object"!=typeof i[h]||kL(i[h])||(l=i[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(kL(i[h])){const A=i[h];i[h]=null===(n=A.next)||void 0===n?void 0:n.bind(A),i[h+1]=null===(s=A.error)||void 0===s?void 0:s.bind(A),i[h+2]=null===(a=A.complete)||void 0===a?void 0:a.bind(A)}let _,D,M;if(r instanceof gi)D=En(r.firestore,Wi),M=yb(r._key.path),_={next:A=>{i[h]&&i[h](BL(D,r,A))},error:i[h+1],complete:i[h+2]};else{const A=En(r,Es);D=En(A.firestore,Wi),M=A._query;const I=new Lm(D);_={next:O=>{i[h]&&i[h](new Kh(D,I,A,O))},error:i[h+1],complete:i[h+2]},iG(r._query)}return function(A,I,O,B){const $=new bA(B),le=new $F(I,$,O);return A.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return YF(yield Hb(A),le)})),()=>{$.Xo(),A.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return qF(yield Hb(A),le)}))}}(Sr(D),M,m,_)}function Yb(r,i){return function(n,s){const a=new Vr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,i,n){return XF.apply(this,arguments)}(yield SL(n),s,a)})),a.promise}(Sr(r),i)}function BL(r,i,n){const s=n.docs.get(i._key),a=new Lm(r);return new ju(r,a,i._key,s,new Fm(n.hasPendingWrites,n.fromCache),i.converter)}class m$ extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Nm(i)}get(i){const n=ef(i,this._firestore),s=new s$(this._firestore);return this._transaction.lookup([n._key]).then(a=>{if(!a||1!==a.length)return pt();const l=a[0];if(l.isFoundDocument())return new eD(this._firestore,s,l.key,l,n.converter);if(l.isNoDocument())return new eD(this._firestore,s,n._key,null,n.converter);throw pt()})}set(i,n,s){const a=ef(i,this._firestore),l=xA(a.converter,n,s),h=TA(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,h),this}update(i,n,s,...a){const l=ef(i,this._firestore);let h;return h="string"==typeof(n=(0,Wt.m9)(n))||n instanceof Yu?OL(this._dataReader,"Transaction.update",l._key,n,s,a):RL(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,h),this}delete(i){const n=ef(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=ef(i,this._firestore),s=new Lm(this._firestore);return super.get(i).then(a=>new ju(this._firestore,s,n._key,a._document,new Fm(!1,!1),n.converter))}}function VL(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function mG(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function gG(){if("undefined"==typeof atob)throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){hb=r})(Fh.SDK_VERSION),(0,Fh._registerComponent)(new Lh.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new Wi(n,new K4(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,Fh.registerVersion)("@firebase/firestore","3.0.2",void 0);class iD{constructor(i){this._delegate=i}static fromBase64String(i){return gG(),new iD(hc.fromBase64String(i))}static fromUint8Array(i){return mG(),new iD(hc.fromUint8Array(i))}toBase64(){return gG(),this._delegate.toBase64()}toUint8Array(){return mG(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UL(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class E${enableIndexedDbPersistence(i,n){return function(r,i){$H(r=En(r,Wi));const n=Sr(r),s=r._freezeSettings(),a=new vL;return zH(n,a,new AH(a,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){$H(r=En(r,Wi));const i=Sr(r),n=r._freezeSettings(),s=new vL;return zH(i,s,new f8(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Fe(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Vr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(n=(0,Me.Z)(function*(s){if(!dl.bt())return Promise.resolve();const a=s+"main";yield dl.delete(a)}),function(s){return n.apply(this,arguments)})(hF(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class _G{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof Gb||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&x1("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var a;const l=(r=En(r,K1))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==i&&x1("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},l),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let h,m;if("string"==typeof s.mockUserToken)h=s.mockUserToken,m=us.MOCK_USER;else{h=(0,Wt.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new Fe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new us(_)}r._credentials=new Q4(new k6(h,m))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,Me.Z)(function*(){const i=yield OH(r),n=yield NH(r);return i.setNetworkEnabled(!0),function(s){const a=Je(s);return a.Kr.delete(0),J1(a)}(n)}))}(Sr(r=En(r,Wi)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,Me.Z)(function*(){const i=yield OH(r),n=yield NH(r);return i.setNetworkEnabled(!1),(s=(0,Me.Z)(function*(a){const l=Je(a);l.Kr.add(0),yield Nb(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(n);var s}))}(Sr(r=En(r,Wi)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,BH("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new Vr;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,i){return rL.apply(this,arguments)}(yield SL(i),n)})),n.promise}(Sr(r=En(r,Wi)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new bA(i);return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return s=yield Hb(r),a=n,Je(s).Zr.add(a),void a.next();var s,a})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return s=yield Hb(r),a=n,void Je(s).Zr.delete(a);var s,a}))}}(Sr(r=En(r,Wi)),kL(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new jb(this,YH(this._delegate,i))}catch(n){throw $s(n,"collection()","Firestore.collection()")}}doc(i){try{return new ka(this,CA(this._delegate,i))}catch(n){throw $s(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Ws(this,function(r,i){if(r=En(r,K1),AL("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Fe(De.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(r,null,(n=i,new Vu(Nn.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw $s(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new Vr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const s=yield(a=r,vA(a).then(l=>l.datastore));var a;new g8(r.asyncQueue,s,i,n).run()})),n.promise}(Sr(r),n=>i(new m$(r,n)))}(this._delegate,n=>i(new yG(this,n)))}batch(){return Sr(this._delegate),new bG(new dG(this._delegate,i=>Yb(this._delegate,i)))}loadBundle(i){return function(r,i){const n=Sr(r=En(r,Wi)),s=new k8;return function(r,i,n,s){const a=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,D){if(_ instanceof Uint8Array)return kH(_,D);if(_ instanceof ArrayBuffer)return kH(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new p8(_,h);var _}(n,W1(i));r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function(r,i,n){const s=Je(r);var a;(a=(0,Me.Z)(function*(l,h,m){try{const _=yield h.getMetadata();if(yield function(I,O){const B=Je(I),$=Gr(O.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",le=>B.Je.getBundleMetadata(le,O.id)).then(le=>!!le&&le.createTime.compareTo($)>=0)}(l.localStore,_))return yield h.close(),void m._completeWith((I=_,{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}));m._updateProgress(bH(_));const D=new qz(_,l.localStore,h.N);let M=yield h.Qo();for(;M;){const I=yield D.fo(M);I&&m._updateProgress(I),M=yield h.Qo()}const A=yield D.complete();yield Gu(l,A.Tn,void 0),yield function(I,O){const B=Je(I);return B.persistence.runTransaction("Save bundle","readwrite",$=>B.Je.saveBundleMetadata($,O))}(l.localStore,_),m._completeWith(A.progress)}catch(_){x1("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_)}var I}),function(l,h,m){return a.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield SL(r),a,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,Me.Z)(function*(){return function(n,s){const a=Je(n);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield EL(r),i)}))}(Sr(r=En(r,Wi)),i).then(n=>n?new Es(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Ws(this,n):null)}}class AA extends LL{constructor(i){super(),this.firestore=i}convertBytes(i){return new iD(new hc(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return ka.forKey(n,this.firestore,null)}}class yG{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new AA(i)}get(i){const n=Vm(i);return this._delegate.get(n).then(s=>new rD(this._firestore,new ju(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const a=Vm(i);return s?(VL("Transaction.set",s),this._delegate.set(a,n,s)):this._delegate.set(a,n),this}update(i,n,s,...a){const l=Vm(i);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,s,...a),this}delete(i){const n=Vm(i);return this._delegate.delete(n),this}}class bG{constructor(i){this._delegate=i}set(i,n,s){const a=Vm(i);return s?(VL("WriteBatch.set",s),this._delegate.set(a,n,s)):this._delegate.set(a,n),this}update(i,n,s,...a){const l=Vm(i);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,s,...a),this}delete(i){const n=Vm(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Bm{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new tD(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new sD(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=Bm.INSTANCES;let a=s.get(i);a||(a=new WeakMap,s.set(i,a));let l=a.get(n);return l||(l=new Bm(i,new AA(i),n),a.set(n,l)),l}}Bm.INSTANCES=new WeakMap;class ka{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new AA(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new ka(n,new gi(n._delegate,s,new ft(i)))}static forKey(i,n,s){return new ka(n,new gi(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new jb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new jb(this.firestore,YH(this._delegate,i))}catch(n){throw $s(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Wt.m9)(i))instanceof gi&&jH(this._delegate,i)}set(i,n){n=VL("DocumentReference.set",n);try{return n?hG(this._delegate,i,n):hG(this._delegate,i)}catch(s){throw $s(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?fG(this._delegate,i):fG(this._delegate,i,n,...s)}catch(a){throw $s(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return Yb(En(r.firestore,Wi),[new V1(r._key,fr.none())])}(this._delegate)}onSnapshot(...i){const n=vG(i),s=wG(i,a=>new rD(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return pG(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=En(r,gi);const i=En(r.firestore,Wi),n=Sr(i),s=new Lm(i);return function(r,i){const n=new Vr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(s=(0,Me.Z)(function*(a,l,h){try{const m=yield function(_,D){const M=Je(_);return M.persistence.runTransaction("read document","readonly",A=>M.Qn.An(A,D))}(a,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Fe(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=Lb(m,`Failed to get document '${l} from cache`);h.reject(_)}}),function(a,l,h){return s.apply(this,arguments)})(yield EL(r),i,n);var s})),n.promise}(n,r._key).then(a=>new ju(i,s,r._key,a,new Fm(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=En(r,gi);const i=En(r.firestore,Wi);return PH(Sr(i),r._key,{source:"server"}).then(n=>BL(i,r,n))}(this._delegate):function(r){r=En(r,gi);const i=En(r.firestore,Wi);return PH(Sr(i),r._key).then(n=>BL(i,r,n))}(this._delegate),n.then(s=>new rD(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new ka(this.firestore,this._delegate.withConverter(i?Bm.getInstance(this.firestore,i):null))}}function $s(r,i,n){return r.message=r.message.replace(i,n),r}function vG(r){for(const i of r)if("object"==typeof i&&!UL(i))return i;return{}}function wG(r,i){var n,s;let a;return a=UL(r[0])?r[0]:UL(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:l=>{a.next&&a.next(i(l))},error:null===(n=a.error)||void 0===n?void 0:n.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class rD{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return nG(this._delegate,i._delegate)}}class sD extends rD{data(i){const n=this._delegate.data(i);return function(r,i){r||pt()}(void 0!==n),n}}class Ws{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new AA(i)}where(i,n,s){try{return new Ws(this.firestore,Xh(this._delegate,function(r,i,n){const s=i,a=SA("where",r);return new W8(a,s,n)}(i,n,s)))}catch(a){throw $s(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Ws(this.firestore,Xh(this._delegate,function(r,i="asc"){const n=i,s=SA("orderBy",r);return new Q8(s,n)}(i,n)))}catch(s){throw $s(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Ws(this.firestore,Xh(this._delegate,function(r){return HH("limit",r),new rG("limit",r,"F")}(i)))}catch(n){throw $s(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Ws(this.firestore,Xh(this._delegate,function(r){return HH("limitToLast",r),new rG("limitToLast",r,"L")}(i)))}catch(n){throw $s(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Ws(this.firestore,Xh(this._delegate,function(...r){return new sG("startAt",r,!0)}(...i)))}catch(n){throw $s(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Ws(this.firestore,Xh(this._delegate,function(...r){return new sG("startAfter",r,!1)}(...i)))}catch(n){throw $s(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Ws(this.firestore,Xh(this._delegate,function(...r){return new oG("endBefore",r,!0)}(...i)))}catch(n){throw $s(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Ws(this.firestore,Xh(this._delegate,function(...r){return new oG("endAt",r,!1)}(...i)))}catch(n){throw $s(n,"endAt()","Query.endAt()")}}isEqual(i){return qH(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=En(r,Es);const i=En(r.firestore,Wi),n=Sr(i),s=new Lm(i);return function(r,i){const n=new Vr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(s=(0,Me.Z)(function*(a,l,h){try{const m=yield fA(a,l,!0),_=new CH(l,m.Gn),D=_.Io(m.documents),M=_.applyChanges(D,!1);h.resolve(M.snapshot)}catch(m){const _=Lb(m,`Failed to execute query '${l} against cache`);h.reject(_)}}),function(a,l,h){return s.apply(this,arguments)})(yield EL(r),i,n);var s})),n.promise}(n,r._query).then(a=>new Kh(i,s,r,a))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=En(r,Es);const i=En(r.firestore,Wi),n=Sr(i),s=new Lm(i);return FH(n,r._query,{source:"server"}).then(a=>new Kh(i,s,r,a))}(this._delegate):function(r){r=En(r,Es);const i=En(r.firestore,Wi),n=Sr(i),s=new Lm(i);return iG(r._query),FH(n,r._query).then(a=>new Kh(i,s,r,a))}(this._delegate),n.then(s=>new HL(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=vG(i),s=wG(i,a=>new HL(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return pG(this._delegate,n,s)}withConverter(i){return new Ws(this.firestore,this._delegate.withConverter(i?Bm.getInstance(this.firestore,i):null))}}class x${constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HL{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new sD(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new x$(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new sD(this._firestore,s))})}isEqual(i){return nG(this._delegate,i._delegate)}}class jb extends Ws{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new ka(this.firestore,i):null}doc(i){try{return new ka(this.firestore,void 0===i?CA(this._delegate):CA(this._delegate,i))}catch(n){throw $s(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=En(r.firestore,Wi),s=CA(r),a=xA(r.converter,i);return Yb(n,[TA(Nm(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,fr.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new ka(this.firestore,n))}isEqual(i){return jH(this._delegate,i._delegate)}withConverter(i){return new jb(this.firestore,this._delegate.withConverter(i?Bm.getInstance(this.firestore,i):null))}}function Vm(r){return En(r,gi)}class GL{constructor(...i){this._delegate=new Yu(...i)}static documentId(){return new GL(ds.keyField().canonicalString())}isEqual(i){return(i=(0,Wt.m9)(i))instanceof Yu&&this._delegate._internalPath.isEqual(i._internalPath)}}class Um{constructor(i){this._delegate=i}static serverTimestamp(){const i=new IL("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new Um(i)}static delete(){const i=new X1("deleteField");return i._methodName="FieldValue.delete",new Um(i)}static arrayUnion(...i){const n=function(...r){return new Y8("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new Um(n)}static arrayRemove(...i){const n=function(...r){return new j8("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new Um(n)}static increment(i){const n=function(r){return new q8("increment",r)}(i);return n._methodName="FieldValue.increment",new Um(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const A$={Firestore:_G,GeoPoint:DA,Timestamp:Ur,Blob:iD,Transaction:yG,WriteBatch:bG,DocumentReference:ka,DocumentSnapshot:rD,Query:Ws,QueryDocumentSnapshot:sD,QuerySnapshot:HL,CollectionReference:jb,FieldPath:GL,FieldValue:Um,setLogLevel:function(r){!function(r){Gh.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function CG(r,i){return i?pn(()=>r,i):pn(()=>r)}!function(r){(function(r,i){r.INTERNAL.registerComponent(new Lh.wA("firestore-compat",n=>((i,n)=>new _G(i,n,new E$))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},A$)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(cm.Z);var YL=L(9673),DG=L(7841);const MG=new o.OlP("angularfire2.auth.use-emulator"),TG=new o.OlP("angularfire2.auth.settings"),EG=new o.OlP("angularfire2.auth.tenant-id"),SG=new o.OlP("angularfire2.auth.langugage-code"),xG=new o.OlP("angularfire2.auth.use-device-language"),AG=new o.OlP("angularfire.auth.persistence"),kG=(r,i,n,s,a,l,h,m)=>(0,oi.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const _=i.runOutsideAngular(()=>r.auth());if(n&&_.useEmulator(...n),s&&(_.tenantId=s),_.languageCode=a,l&&_.useDeviceLanguage(),h)for(const[D,M]of Object.entries(h))_.settings[D]=M;return m&&_.setPersistence(m),_},[n,s,a,l,h,m]);let jL=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I){const O=new pe.xQ,B=(0,qe.of)(void 0).pipe((0,np.QV)(h.outsideAngular),pn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4828)))),(0,b.U)(()=>(0,$n.on)(n,l,s)),(0,b.U)($=>kG($,l,m,D,M,A,_,I)),Ol({bufferSize:1,refCount:!1}));if(Xr(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{B.pipe(Zl()).subscribe();const le=B.pipe(pn(He=>He.getRedirectResult().then(Qe=>Qe,()=>null)),oi.iC,Ol({bufferSize:1,refCount:!1})),Re=B.pipe(pn(He=>new An.y(Qe=>({unsubscribe:l.runOutsideAngular(()=>He.onAuthStateChanged(vn=>Qe.next(vn),vn=>Qe.error(vn),()=>Qe.complete()))})))),Ve=B.pipe(pn(He=>new An.y(Qe=>({unsubscribe:l.runOutsideAngular(()=>He.onIdTokenChanged(vn=>Qe.next(vn),vn=>Qe.error(vn),()=>Qe.complete()))}))));this.authState=le.pipe(CG(Re),(0,YL.R)(h.outsideAngular),(0,np.QV)(h.insideAngular)),this.user=le.pipe(CG(Ve),(0,YL.R)(h.outsideAngular),(0,np.QV)(h.insideAngular)),this.idToken=this.user.pipe(pn(He=>He?(0,Ln.D)(He.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(pn(He=>He?(0,Ln.D)(He.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,kn.T)(le,O,this.authState.pipe(wt(He=>!He))).pipe((0,b.U)(He=>(null==He?void 0:He.user)?He:null),(0,YL.R)(h.outsideAngular),(0,np.QV)(h.insideAngular))}return(0,$n.pX)(this,B,l,{spy:{apply:($,le,Re)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&Re.then(Ve=>O.next(Ve))}}})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG($n.Dh),o.LFG($n.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(oi.HU),o.LFG(MG,8),o.LFG(TG,8),o.LFG(EG,8),o.LFG(SG,8),o.LFG(xG,8),o.LFG(AG,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function IG(r,i){return function(r,i=rs.z){return new An.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function qL(r,i){return IG(r,i).pipe((0,b.U)(n=>({payload:n,type:"query"})))}function kA(r,i){return qL(r,i).pipe($t(void 0),tp(),(0,b.U)(([n,s])=>{const a=s.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,m)=>{const _=a.find(M=>M.doc.ref.isEqual(h.ref)),D=null==n?void 0:n.payload.docs.find(M=>M.ref.isEqual(h.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(h.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function RG(r,i,n){return kA(r,n).pipe(U_((s,a)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return ZL(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return ZL(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return ZL(r,i.oldIndex,1)}return r}(r,s))}),r}(s,a.map(l=>l.payload),i),[]),bn(),(0,b.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function ZL(r,i,n,...s){const a=r.slice();return a.splice(i,n,...s),a}function OG(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class NG{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=kA(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,b.U)(s=>s.filter(a=>i.indexOf(a.type)>-1)))),n.pipe($t(void 0),tp(),wt(([s,a])=>a.length>0||!s),(0,b.U)(([s,a])=>a),oi.iC)}auditTrail(i){return this.stateChanges(i).pipe(U_((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=OG(i);return RG(this.query,n,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(i={}){return qL(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),oi.iC)}get(i){return(0,Ln.D)(this.query.get(i)).pipe(oi.iC)}add(i){return this.ref.add(i)}doc(i){return new PG(this.ref.doc(i),this.afs)}}class PG{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:a,query:l}=BG(s,n);return new NG(a,l,this.afs)}snapshotChanges(){return function(r,i){return IG(r,i).pipe($t(void 0),tp(),(0,b.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,b.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Ln.D)(this.ref.get(i)).pipe(oi.iC)}}class L${constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?kA(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),wt(n=>n.length>0),oi.iC):kA(this.query,this.afs.schedulers.outsideAngular).pipe(oi.iC)}auditTrail(i){return this.stateChanges(i).pipe(U_((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=OG(i);return RG(this.query,n,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(i={}){return qL(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(s=>s.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),oi.iC)}get(i){return(0,Ln.D)(this.query.get(i)).pipe(oi.iC)}}const FG=new o.OlP("angularfire2.enableFirestorePersistence"),LG=new o.OlP("angularfire2.firestore.persistenceSettings"),B$=new o.OlP("angularfire2.firestore.settings"),V$=new o.OlP("angularfire2.firestore.use-emulator");function BG(r,i=(n=>n)){return{query:i(r),ref:r}}let tf=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I,O,B,$,le,Re){this.schedulers=_;const Ve=(0,$n.on)(n,m,s),He=M;A&&kG(Ve,m,I,B,$,le,O,Re),[this.firestore,this.persistenceEnabled$]=(0,oi.cc)(`${Ve.name}.firestore`,"AngularFirestore",Ve.name,()=>{const Qe=m.runOutsideAngular(()=>Ve.firestore());if(l&&Qe.settings(l),He&&Qe.useEmulator(...He),a&&!Xr(h)){const vn=()=>{try{return(0,Ln.D)(Qe.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(yi){return"undefined"!=typeof console&&console.warn(yi),(0,qe.of)(!1)}};return[Qe,m.runOutsideAngular(vn)]}return[Qe,(0,qe.of)(!1)]},[l,He,a])}collection(n,s){let a;a="string"==typeof n?this.firestore.collection(n):n;const{ref:l,query:h}=BG(a,s),m=this.schedulers.ngZone.run(()=>l);return new NG(m,h,this)}collectionGroup(n,s){const a=s||(h=>h),l=this.firestore.collectionGroup(n);return new L$(a(l),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const a=this.schedulers.ngZone.run(()=>s);return new PG(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(o.LFG($n.Dh),o.LFG($n.xv,8),o.LFG(FG,8),o.LFG(B$,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(oi.HU),o.LFG(LG,8),o.LFG(V$,8),o.LFG(jL,8),o.LFG(MG,8),o.LFG(TG,8),o.LFG(EG,8),o.LFG(SG,8),o.LFG(xG,8),o.LFG(AG,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),U$=(()=>{class r{constructor(){DG.Z.registerVersion("angularfire",oi.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:FG,useValue:!0},{provide:LG,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[tf]}),r})(),IA=(()=>{class r{constructor(n){this.angulatFirestore=n}getUsers(){return this.angulatFirestore.collection("Users").get()}getUser(n){return this.angulatFirestore.collection("Users").doc(n).get()}getUserByUid(n){return this.angulatFirestore.collection("Users",s=>s.where("uid","==",n)).get()}addUser(n){return this.angulatFirestore.collection("Users").add({nom:n.nom,prenom:n.prenom,email:n.email,emailVerified:n.emailVerified,uid:n.uid,status:n.status})}changeDroitsUser(n,s){this.angulatFirestore.collection("Users").doc(n).update({status:s})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tf))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),jr=(()=>{class r{constructor(n,s,a,l,h,m){this.dialog=n,this.router=s,this.ngZone=a,this.usersService=l,this.angularFirestore=h,this.angularFireAuth=m,this.visiteur={email:"memoiremorieroise@gmail.com",password:"MyPepita51"},this.userId="",this.authSubject=new pe.xQ,this.status=0,this.angularFireAuth.onAuthStateChanged(_=>{null==_?this.signInVisiteur().then(D=>{this.emitUserChanged()}):_.email==this.visiteur.email?(this.currentUser=new vu("",_.uid,"Visiteur","Visiteur","Visiteur",!0,ai.initial),this.emitUserChanged()):l.getUserByUid(_.uid).subscribe(M=>{M&&M.docs.length>0?(this.currentUser=new vu(M.docs[0].id,_.uid,M.docs[0].data().nom,M.docs[0].data().prenom,M.docs[0].data().email,M.docs[0].data().emailVerified,M.docs[0].data().status),this.emitUserChanged()):this.emitUserChanged()},M=>{console.log(M.message)})})}emitUserChanged(){this.authSubject.next(this.currentUser)}getVisiteur(){return this.visiteur.email}getCurrentUser(){return this.currentUser}getStatus(){return this.status}signInVisiteur(){return this.SignInUser(this.visiteur.email,this.visiteur.password)}createNewUser(n,s){return new Promise((a,l)=>{this.angularFireAuth.createUserWithEmailAndPassword(n.email.trim(),s.trim()).then(h=>{h.user.updateProfile({displayName:n.nom+"/"+n.prenom}),n.uid=h.user.uid,h.user.sendEmailVerification().then(()=>{alert("Un email vous a \xe9t\xe9 envoy\xe9, merci de cliquer sur le lien qu'il contien afin de valider v\xf4tre inscription.")}).catch(m=>{console.log(m),l(m)}),this.angularFireAuth.signInWithEmailAndPassword(this.visiteur.email,this.visiteur.password).then(m=>{}),this.router.navigate(["app-accueil"]),a(!0)})})}updateCurrentUser(n){}SignInUser(n,s){return this.angularFireAuth.signInWithEmailAndPassword(n,s).then(a=>{a.user.emailVerified?this.emitUserChanged():this.router.navigate(["app-unvalidate-user-message"])}).catch(a=>{console.log(a.message),alert("Erreur de connexion, mail ou mot de passe incorrect ?")})}SignOut(){this.currentUser=void 0,this.angularFireAuth.signOut().then(()=>{}).catch(n=>{console.log(n)}).finally(()=>{this.signInVisiteur().then(()=>{this.emitUserChanged()})})}sendMailNewUser(){this.angularFireAuth.currentUser.then(n=>{null==n||n.sendEmailVerification()})}getCurrentAuthUser(){return this.angularFireAuth.currentUser}ForgotPassword(n){return this.angularFireAuth.sendPasswordResetEmail(n).then(()=>{alert("Un email de r\xe9initialisation du mot de passe vous a \xe9t\xe9 envoy\xe9, v\xe9rifiez votre bo\xeete de r\xe9ception.")}).catch(s=>{alert("Erreur de connexion, avez-vous bien saisi l'adresse ?."),console.log(s)})}connectWidthGoogle(){const n=new yx.N;let s=[];return this.angularFireAuth.signInWithPopup(n).then(a=>{var l,h,m,_,D,M;null==this.currentUser&&(this.currentUser=new vu),(null===(l=a.user)||void 0===l?void 0:l.emailVerified)?(this.currentUser.email=null===(h=a.user.email)||void 0===h?void 0:h.toString(),this.currentUser.emailVerified=!0,this.currentUser.uid=a.user.uid,this.currentUser.nom=null===(m=a.user.displayName)||void 0===m?void 0:m.substring(0,null===(_=a.user.displayName)||void 0===_?void 0:_.indexOf("/")),this.currentUser.prenom=null===(D=a.user.displayName)||void 0===D?void 0:D.substring((null===(M=a.user.displayName)||void 0===M?void 0:M.indexOf("/"))+1),this.currentUser.status=Vt.visiteur,this.getUserFromDB(a.user).subscribe(A=>{var I;if(s=A.docs.map(O=>{O.data().id=O.id}),0===s.length){const O=new ei;O.disableClose=!0,O.autoFocus=!0,O.width="500px",O.data={email:null===(I=this.currentUser)||void 0===I?void 0:I.email},this.dialog.open(_x,O).afterClosed().subscribe($=>{this.currentUser.nom=$.nom,this.currentUser.prenom=$.prenom,this.usersService.addUser(this.currentUser)})}})):this.router.navigate(["app-unvalidate-user-message"])},a=>{console.log(a),alert("Erreur de connexion, adresse mail ou mot de passe incorrect ?")})}getUserFromDB(n){return this.angularFirestore.collection("Users/",s=>s.where("uid","==",n.uid)).get()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ic),o.LFG(zn),o.LFG(o.R0b),o.LFG(IA),o.LFG(tf),o.LFG(jL))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wo=(()=>{class r{constructor(n){this.authService=n,this.photos=[],this.bytesTransfered=0,this.themeSubject=new pe.xQ,this.articlesDuThemeSubject=new pe.xQ,this.userSubscription=this.authService.authSubject.subscribe(s=>{})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(jr))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Vt=(()=>(function(r){r[r.visiteur=1]="visiteur",r[r.moderateur=2]="moderateur",r[r.editArticle=4]="editArticle",r[r.editPhotosDeClasse=8]="editPhotosDeClasse",r[r.administrateur=255]="administrateur"}(Vt||(Vt={})),Vt))(),ai=(()=>(function(r){r[r.initial=0]="initial",r[r.valide=1]="valide",r[r.rejete=256]="rejete",r[r.supprime=4096]="supprime",r[r.visiteur=65536]="visiteur"}(ai||(ai={})),ai))();let nf=(()=>{class r{constructor(n){this.angularFirestore=n,this.listePhotos=[],this.photosAValider=[],this.photoSubject=new pe.xQ}emitPhoto(){this.photoSubject.next(this.listePhotos)}addPhoto(n){this.angularFirestore.collection("Photos").add({annee:n.annee,auteur:n.auteur,listeEleves:n.listeEleves,photo:n.photo,titre:n.titre,status:ai.initial})}getPhotos(){return this.angularFirestore.collection("Photos").get().subscribe(n=>{this.listePhotos=n.docs.map(s=>s.data()),this.listePhotos.length>0&&(this.currentPhoto=this.listePhotos[0]),this.emitPhoto()})}getPhotosCarousel(){return this.angularFirestore.collection("Carousel").get()}getPhoto(n){return this.angularFirestore.collection("Photos").doc(n).get()}getPhotosByPeriode(n,s){return this.angularFirestore.collection("Photos").get()}updatePhoto(n){console.log(n),this.angularFirestore.collection("Photos").doc(n.id).update({auteur:n.auteur,titre:n.titre,annee:n.annee,listeEleves:n.listeEleves,photo:n.photo,status:n.status})}getPhotosAValider(){return this.angularFirestore.collection("Photos",n=>n.where("status","==",0)).get()}validerPhoto(n){return this.angularFirestore.collection("Photos").doc(n.id).update({status:ai.valide})}rejeterPhoto(n){return this.angularFirestore.collection("Photos").doc(n.id).update({status:ai.rejete})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tf))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qu=(()=>{class r{constructor(n){this.angularFirestore=n,this.articles=[],this.articlesSubject=new pe.xQ}emitArticles(){this.articlesSubject.next(this.articles)}addArticle(n){return this.angularFirestore.collection("Articles").add({auteur:n.auteur,titre:n.titre,texte:n.texte,date:n.date,idTheme:n.idTheme.trim(),photo:n.photo,legende:n.legende,status:ai.initial})}getArticles(){this.angularFirestore.collection("Articles",n=>n.where("status",">",ai.initial)).get().subscribe(n=>{this.articles=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.emitArticles()})}getArticle(n){return this.angularFirestore.collection("Articles").doc(n).get()}getArticlesDuTheme(n){this.angularFirestore.collection("Articles",s=>s.where("idTheme","==",n.id).where("status","==",ai.valide)).get().subscribe(s=>{n.articles=s.docs.map(a=>{const l=a.data();return l.id=a.id,l})}),this.articles.length>0&&(this.currentArticle=this.articles[0])}getArticlesAValider(){return this.angularFirestore.collection("Articles",n=>n.where("status","==",ai.initial)).get()}valideArticle(n){return this.angularFirestore.collection("Articles").doc(n.id).update({status:ai.valide})}rejeteArticle(n){return this.angularFirestore.collection("Articles").doc(n.id).update({status:ai.rejete})}ChangeCurrentArticle(n){this.currentArticle=n}AddArticleToTheme(n,s){return s.articles.push(n),this.addArticle(n)}updateArticle(n){return void 0===n.photo?this.angularFirestore.collection("Articles").doc(n.id).update({titre:n.titre,texte:n.texte,legende:n.legende,date:n.date,idTheme:n.idTheme.trim(),status:n.status}):this.angularFirestore.collection("Articles").doc(n.id).update({titre:n.titre,texte:n.texte,legende:n.legende,date:n.date,idTheme:n.idTheme.trim(),status:n.status,photo:n.photo})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tf))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function H$(r,i){1&r&&o.Hsn(0)}const zL=["*"];function G$(r,i){}const Y$=function(r){return{animationDuration:r}},j$=function(r,i){return{value:r,params:i}},q$=["tabBodyWrapper"],Z$=["tabHeader"];function z$(r,i){}function $$(r,i){if(1&r&&o.YNc(0,z$,0,0,"ng-template",9),2&r){const n=o.oxw().$implicit;o.Q6J("cdkPortalOutlet",n.templateLabel)}}function W$(r,i){if(1&r&&o._uU(0),2&r){const n=o.oxw().$implicit;o.Oqu(n.textLabel)}}function J$(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const a=o.CHM(n),l=a.$implicit,h=a.index,m=o.oxw(),_=o.MAs(1);return m._handleClick(l,_,h)})("cdkFocusChange",function(a){const h=o.CHM(n).index;return o.oxw()._tabFocusChanged(a,h)}),o.TgZ(1,"div",7),o.YNc(2,$$,1,1,"ng-template",8),o.YNc(3,W$,1,1,"ng-template",8),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=i.index,a=o.oxw();o.ekj("mat-tab-label-active",a.selectedIndex==s),o.Q6J("id",a._getTabLabelId(s))("disabled",n.disabled)("matRippleDisabled",n.disabled||a.disableRipple),o.uIk("tabIndex",a._getTabIndex(n,s))("aria-posinset",s+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(s))("aria-selected",a.selectedIndex==s)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),o.xp6(2),o.Q6J("ngIf",n.templateLabel),o.xp6(1),o.Q6J("ngIf",!n.templateLabel)}}function Q$(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-tab-body",10),o.NdJ("_onCentered",function(){return o.CHM(n),o.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(a){return o.CHM(n),o.oxw()._setTabBodyWrapperHeight(a)}),o.qZA()}if(2&r){const n=i.$implicit,s=i.index,a=o.oxw();o.ekj("mat-tab-body-active",a.selectedIndex===s),o.Q6J("id",a._getTabContentId(s))("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",a.animationDuration),o.uIk("tabindex",null!=a.contentTabIndex&&a.selectedIndex===s?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(s))}}const VG=["tabListContainer"],UG=["tabList"],HG=["nextPaginator"],GG=["previousPaginator"],X$=new o.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return i=>({left:i?(i.offsetLeft||0)+"px":"0",width:i?(i.offsetWidth||0)+"px":"0"})}});let RA=(()=>{class r{constructor(n,s,a,l){this._elementRef=n,this._ngZone=s,this._inkBarPositioner=a,this._animationMode=l}alignToElement(n){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(n))}):this._setStyles(n)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(n){const s=this._inkBarPositioner(n),a=this._elementRef.nativeElement;a.style.left=s.left,a.style.width=s.width}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(X$),o.Y36(In,8))},r.\u0275dir=o.lG2({type:r,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)}}),r})();const YG=new o.OlP("MatTabContent"),jG=new o.OlP("MatTabLabel"),t7=ar(class{}),qG=new o.OlP("MAT_TAB_GROUP");let ZG=(()=>{class r extends t7{constructor(n,s){super(),this._viewContainerRef=n,this._closestTabGroup=s,this.textLabel="",this._contentPortal=null,this._stateChanges=new pe.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new so(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&(this._templateLabel=n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(qG,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,jG,5),o.Suo(a,YG,7,o.Rgc)),2&n){let l;o.iGM(l=o.CRH())&&(s.templateLabel=l.first),o.iGM(l=o.CRH())&&(s._explicitContent=l.first)}},viewQuery:function(n,s){if(1&n&&o.Gf(o.Rgc,7),2&n){let a;o.iGM(a=o.CRH())&&(s._implicitContent=a.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.qOj,o.TTD],ngContentSelectors:zL,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.YNc(0,H$,1,0,"ng-template"))},encapsulation:2}),r})();const n7={translateTab:fi("translateTab",[Yt("center, void, left-origin-center, right-origin-center",$e({transform:"none"})),Yt("left",$e({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Yt("right",$e({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),on("* => left, * => right, left => center, right => center",dn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),on("void => left-origin-center",[$e({transform:"translate3d(-100%, 0, 0)"}),dn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),on("void => right-origin-center",[$e({transform:"translate3d(100%, 0, 0)"}),dn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let i7=(()=>{class r extends si{constructor(n,s,a,l){super(n,s,l),this._host=a,this._centeringSub=xt.w.EMPTY,this._leavingSub=xt.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe($t(this._host._isCenterPosition(this._host._position))).subscribe(n=>{n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36((0,o.Gpc)(()=>zG)),o.Y36(Z))},r.\u0275dir=o.lG2({type:r,selectors:[["","matTabBodyHost",""]],features:[o.qOj]}),r})(),r7=(()=>{class r{constructor(n,s,a){this._elementRef=n,this._dir=s,this._dirChangeSubscription=xt.w.EMPTY,this._translateTabComplete=new pe.xQ,this._onCentering=new o.vpe,this._beforeCentering=new o.vpe,this._afterLeavingCenter=new o.vpe,this._onCentered=new o.vpe(!0),this.animationDuration="500ms",s&&(this._dirChangeSubscription=s.change.subscribe(l=>{this._computePositionAnimationState(l),a.markForCheck()})),this._translateTabComplete.pipe(bn((l,h)=>l.fromState===h.fromState&&l.toState===h.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(n){this._positionIndex=n,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){const s=this._isCenterPosition(n.toState);this._beforeCentering.emit(s),s&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(n){return"center"==n||"left-origin-center"==n||"right-origin-center"==n}_computePositionAnimationState(n=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==n?"left":"right":this._positionIndex>0?"ltr"==n?"right":"left":"center"}_computePositionFromOrigin(n){const s=this._getLayoutDirection();return"ltr"==s&&n<=0||"rtl"==s&&n>0?"left-origin-center":"right-origin-center"}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mn,8),o.Y36(o.sBO))},r.\u0275dir=o.lG2({type:r,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),r})(),zG=(()=>{class r extends r7{constructor(n,s,a){super(n,s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mn,8),o.Y36(o.sBO))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-body"]],viewQuery:function(n,s){if(1&n&&o.Gf(si,5),2&n){let a;o.iGM(a=o.CRH())&&(s._portalHost=a.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(n,s){1&n&&(o.TgZ(0,"div",0,1),o.NdJ("@translateTab.start",function(l){return s._onTranslateTabStarted(l)})("@translateTab.done",function(l){return s._translateTabComplete.next(l)}),o.YNc(2,G$,0,0,"ng-template",2),o.qZA()),2&n&&o.Q6J("@translateTab",o.WLB(3,j$,s._position,o.VKq(1,Y$,s.animationDuration)))},directives:[i7],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[n7.translateTab]}}),r})();const $G=new o.OlP("MAT_TABS_CONFIG");let s7=0;class o7{}const a7=qs(os(class{constructor(r){this._elementRef=r}}),"primary");let l7=(()=>{class r extends a7{constructor(n,s,a,l){var h;super(n),this._changeDetectorRef=s,this._animationMode=l,this._tabs=new o.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=xt.w.EMPTY,this._tabLabelSubscription=xt.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.vpe,this.focusChange=new o.vpe,this.animationDone=new o.vpe,this.selectedTabChange=new o.vpe(!0),this._groupId=s7++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,this.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,this.contentTabIndex=null!==(h=null==a?void 0:a.contentTabIndex)&&void 0!==h?h:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(n){this._dynamicHeight=xe(n)}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=qt(n,null)}get animationDuration(){return this._animationDuration}set animationDuration(n){this._animationDuration=/^\d+$/.test(n)?n+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=qt(n,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){const s=this._elementRef.nativeElement;s.classList.remove(`mat-background-${this.backgroundColor}`),n&&s.classList.add(`mat-background-${n}`),this._backgroundColor=n}ngAfterContentChecked(){const n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){const s=null==this._selectedIndex;if(!s){this.selectedTabChange.emit(this._createChangeEvent(n));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,l)=>a.isActive=l===n),s||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((s,a)=>{s.position=a-n,null!=this._selectedIndex&&0==s.position&&!s.origin&&(s.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const s=this._tabs.toArray();for(let a=0;a<s.length;a++)if(s[a].isActive){this._indexToSelect=this._selectedIndex=a;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe($t(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(s=>s._closestTabGroup===this||!s._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(n){const s=this._tabHeader;s&&(s.focusIndex=n)}_focusChanged(n){this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){const s=new o7;return s.index=n,this._tabs&&this._tabs.length&&(s.tab=this._tabs.toArray()[n]),s}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,kn.T)(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const s=this._tabBodyWrapper.nativeElement;s.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(s.style.height=n+"px")}_removeTabBodyWrapperHeight(){const n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,s,a){n.disabled||(this.selectedIndex=s.focusIndex=a)}_getTabIndex(n,s){return n.disabled?null:this.selectedIndex===s?0:-1}_tabFocusChanged(n,s){n&&"mouse"!==n&&"touch"!==n&&(this._tabHeader.focusIndex=s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36($G,8),o.Y36(In,8))},r.\u0275dir=o.lG2({type:r,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.qOj]}),r})(),c7=(()=>{class r extends l7{constructor(n,s,a,l){super(n,s,a,l)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36($G,8),o.Y36(In,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-group"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,ZG,5),2&n){let l;o.iGM(l=o.CRH())&&(s._allTabs=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(q$,5),o.Gf(Z$,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._tabBodyWrapper=a.first),o.iGM(a=o.CRH())&&(s._tabHeader=a.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-tab-group-dynamic-height",s.dynamicHeight)("mat-tab-group-inverted-header","below"===s.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o._Bn([{provide:qG,useExisting:r}]),o.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-tab-header",0,1),o.NdJ("indexFocused",function(l){return s._focusChanged(l)})("selectFocusedIndex",function(l){return s.selectedIndex=l}),o.YNc(2,J$,4,14,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.YNc(5,Q$,1,9,"mat-tab-body",5),o.qZA()),2&n&&(o.Q6J("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination),o.xp6(2),o.Q6J("ngForOf",s._tabs),o.xp6(1),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),o.xp6(2),o.Q6J("ngForOf",s._tabs))},directives:function(){return[p7,bt,WG,lr,Hg,ht,si,zG]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),r})();const u7=ar(class{});let WG=(()=>{class r extends u7{constructor(n){super(),this.elementRef=n}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,s){2&n&&(o.uIk("aria-disabled",!!s.disabled),o.ekj("mat-tab-disabled",s.disabled))},inputs:{disabled:"disabled"},features:[o.qOj]}),r})();const JG=Oo({passive:!0});let KG=(()=>{class r{constructor(n,s,a,l,h,m,_){this._elementRef=n,this._changeDetectorRef=s,this._viewportRuler=a,this._dir=l,this._ngZone=h,this._platform=m,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new pe.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new pe.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.vpe,this.indexFocused=new o.vpe,h.runOutsideAngular(()=>{On(n.nativeElement,"mouseleave").pipe(Be(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){n=qt(n),this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}ngAfterViewInit(){On(this._previousPaginator.nativeElement,"touchstart",JG).pipe(Be(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),On(this._nextPaginator.nativeElement,"touchstart",JG).pipe(Be(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const n=this._dir?this._dir.change:(0,qe.of)("ltr"),s=this._viewportRuler.change(150),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new jc(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(a):a(),(0,kn.T)(n,s,this._items.changes).pipe(Be(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(a)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Be(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Hn(n))switch(n.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n));break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){const n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){if(!this._items)return!0;const s=this._items?this._items.toArray()[n]:null;return!!s&&!s.disabled}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();const s=this._tabListContainer.nativeElement;s.scrollLeft="ltr"==this._getLayoutDirection()?0:s.scrollWidth-s.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const n=this.scrollDistance,s="ltr"===this._getLayoutDirection()?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(s)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){return this._scrollTo(this._scrollDistance+("before"==n?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;const s=this._items?this._items.toArray()[n]:null;if(!s)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:h}=s.elementRef.nativeElement;let m,_;"ltr"==this._getLayoutDirection()?(m=l,_=m+h):(_=this._tabList.nativeElement.offsetWidth-l,m=_-h);const D=this.scrollDistance,M=this.scrollDistance+a;m<D?this.scrollDistance-=D-m+60:_>M&&(this.scrollDistance+=_-M+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const n=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;n||(this.scrollDistance=0),n!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=n}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,s=n?n.elementRef.nativeElement:null;s?this._inkBar.alignToElement(s):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,s){s&&null!=s.button&&0!==s.button||(this._stopInterval(),Xf(650,100).pipe(Be((0,kn.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:l}=this._scrollHeader(n);(0===l||l>=a)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const s=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(s,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:s,distance:this._scrollDistance}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ir),o.Y36(mn,8),o.Y36(o.R0b),o.Y36(kt),o.Y36(In,8))},r.\u0275dir=o.lG2({type:r,inputs:{disablePagination:"disablePagination"}}),r})(),f7=(()=>{class r extends KG{constructor(n,s,a,l,h,m,_){super(n,s,a,l,h,m,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=xe(n)}_itemSelected(n){n.preventDefault()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ir),o.Y36(mn,8),o.Y36(o.R0b),o.Y36(kt),o.Y36(In,8))},r.\u0275dir=o.lG2({type:r,inputs:{disableRipple:"disableRipple"},features:[o.qOj]}),r})(),p7=(()=>{class r extends f7{constructor(n,s,a,l,h,m,_){super(n,s,a,l,h,m,_)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ir),o.Y36(mn,8),o.Y36(o.R0b),o.Y36(kt),o.Y36(In,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-header"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,WG,4),2&n){let l;o.iGM(l=o.CRH())&&(s._items=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(RA,7),o.Gf(VG,7),o.Gf(UG,7),o.Gf(HG,5),o.Gf(GG,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._inkBar=a.first),o.iGM(a=o.CRH())&&(s._tabListContainer=a.first),o.iGM(a=o.CRH())&&(s._tabList=a.first),o.iGM(a=o.CRH())&&(s._nextPaginator=a.first),o.iGM(a=o.CRH())&&(s._previousPaginator=a.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-tab-header-rtl","rtl"==s._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.qOj],ngContentSelectors:zL,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return s._handlePaginatorClick("before")})("mousedown",function(l){return s._handlePaginatorPress("before",l)})("touchend",function(){return s._stopInterval()}),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.NdJ("keydown",function(l){return s._handleKeydown(l)}),o.TgZ(5,"div",5,6),o.NdJ("cdkObserveContent",function(){return s._onContentChanges()}),o.TgZ(7,"div",7),o.Hsn(8),o.qZA(),o._UZ(9,"mat-ink-bar"),o.qZA(),o.qZA(),o.TgZ(10,"div",8,9),o.NdJ("mousedown",function(l){return s._handlePaginatorPress("after",l)})("click",function(){return s._handlePaginatorClick("after")})("touchend",function(){return s._stopInterval()}),o._UZ(12,"div",2),o.qZA()),2&n&&(o.ekj("mat-tab-header-pagination-disabled",s._disableScrollBefore),o.Q6J("matRippleDisabled",s._disableScrollBefore||s.disableRipple),o.xp6(5),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),o.xp6(5),o.ekj("mat-tab-header-pagination-disabled",s._disableScrollAfter),o.Q6J("matRippleDisabled",s._disableScrollAfter||s.disableRipple))},directives:[lr,zf,RA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),r})(),b7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,Ke,$a,go,$f,qc],Ke]}),r})();class v7{call(i,n){return n.subscribe(new w7(i))}}class w7 extends F_{constructor(i){super(i),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(i){this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{for(let s=0;s<n&&!this.hasFirst;s++){const l=L_(this,i[s],void 0,s);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(i,n,s){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==s){let l=this.subscriptions[a];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(n)}}var C7=L(8640);const tY=new An.y(C7.Z);var OA=L(377);function NA(...r){const i=r[r.length-1];return"function"==typeof i&&r.pop(),(0,B_.n)(r,void 0).lift(new D7(i))}class D7{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new M7(i,this.resultSelector))}}class M7 extends Ci.L{constructor(i,n,s=Object.create(null)){super(i),this.resultSelector=n,this.iterators=[],this.active=0,this.resultSelector="function"==typeof n?n:void 0}_next(i){const n=this.iterators;(0,Il.k)(i)?n.push(new E7(i)):n.push("function"==typeof i[OA.hZ]?new T7(i[OA.hZ]()):new S7(this.destination,this,i))}_complete(){const i=this.iterators,n=i.length;if(this.unsubscribe(),0!==n){this.active=n;for(let s=0;s<n;s++){let a=i[s];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const i=this.iterators,n=i.length,s=this.destination;for(let h=0;h<n;h++){let m=i[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let a=!1;const l=[];for(let h=0;h<n;h++){let m=i[h],_=m.next();if(m.hasCompleted()&&(a=!0),_.done)return void s.complete();l.push(_.value)}this.resultSelector?this._tryresultSelector(l):s.next(l),a&&s.complete()}_tryresultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}class T7{constructor(i){this.iterator=i,this.nextResult=i.next()}hasValue(){return!0}next(){const i=this.nextResult;return this.nextResult=this.iterator.next(),i}hasCompleted(){const i=this.nextResult;return Boolean(i&&i.done)}}class E7{constructor(i){this.array=i,this.index=0,this.length=0,this.length=i.length}[OA.hZ](){return this}next(i){const n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class S7 extends ii.Ds{constructor(i,n,s){super(i),this.parent=n,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[OA.hZ](){return this}next(){const i=this.buffer;return 0===i.length&&this.isComplete?{value:null,done:!0}:{value:i.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(i){this.buffer.push(i),this.parent.checkIterators()}subscribe(){return(0,ii.ft)(this.observable,new ii.IY(this))}}function $L(...r){return i=>{let n;return"function"==typeof r[r.length-1]&&(n=r.pop()),i.lift(new A7(r,n))}}class A7{constructor(i,n){this.observables=i,this.project=n}call(i,n){return n.subscribe(new k7(i,this.observables,this.project))}}class k7 extends F_{constructor(i,n,s){super(i),this.observables=n,this.project=s,this.toRespond=[];const a=n.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(L_(this,n[l],void 0,l))}notifyNext(i,n,s){this.values[s]=n;const a=this.toRespond;if(a.length>0){const l=a.indexOf(s);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const n=[i,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(i){let n;try{n=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}L(3098);var iY=L(8819);const qb=["*"];function G7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"li",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit,h=o.oxw();return h.focus(),h.select(l.id,h.NgbSlideEventSource.INDICATOR)}),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw();o.ekj("active",n.id===s.activeId),o.uIk("aria-labelledby","slide-"+n.id)("aria-controls","slide-"+n.id)("aria-selected",n.id===s.activeId)}}function Y7(r,i){}function j7(r,i){if(1&r&&(o.TgZ(0,"div",7),o.TgZ(1,"span",8),o.SDv(2,9),o.qZA(),o.YNc(3,Y7,0,0,"ng-template",10),o.qZA()),2&r){const n=i.$implicit,s=i.index,a=i.count;o.Q6J("id","slide-"+n.id),o.xp6(2),o.pQV(s+1)(a),o.QtT(2),o.xp6(1),o.Q6J("ngTemplateOutlet",n.tplRef)}}function q7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"a",11),o.NdJ("click",function(){return o.CHM(n),o.oxw().arrowLeft()}),o._UZ(1,"span",12),o.TgZ(2,"span",8),o.SDv(3,13),o.qZA(),o.qZA()}}function Z7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"a",14),o.NdJ("click",function(){return o.CHM(n),o.oxw().arrowRight()}),o._UZ(1,"span",15),o.TgZ(2,"span",8),o.SDv(3,16),o.qZA(),o.qZA()}}const wW=["dialog"];function rf(r){return null!=r}function zb(r){return(r||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(r){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(r))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const oY={animation:!0,transitionTimerDelayMs:5};let qr=(()=>{class r{constructor(){this.animation=oY.animation}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const OJ=()=>{},{transitionTimerDelayMs:NJ}=oY,lD=new Map,xr=(r,i,n,s)=>{let a=s.context||{};const l=lD.get(i);if(l)switch(s.runningTransition){case"continue":return R.E;case"stop":r.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),lD.delete(i)}const h=n(i,s.animation,a)||OJ;if(!s.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>h()),(0,qe.of)(void 0).pipe(function(r){return i=>new An.y(n=>i.subscribe(h=>r.run(()=>n.next(h)),h=>r.run(()=>n.error(h)),()=>r.run(()=>n.complete())))}(r));const m=new pe.xQ,_=new pe.xQ,D=m.pipe(function(...r){return i=>Rl(i,(0,qe.of)(...r))}(!0));lD.set(i,{transition$:m,complete:()=>{_.next(),_.complete()},context:a});const M=function(r){const{transitionDelay:i,transitionDuration:n}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(n))}(i);return r.runOutsideAngular(()=>{const A=On(i,"transitionend").pipe(Be(D),wt(({target:O})=>O===i));(function(...r){if(1===r.length){if(!(0,Il.k)(r[0]))return r[0];r=r[0]}return(0,B_.n)(r,void 0).lift(new v7)})(Xf(M+NJ).pipe(Be(D)),A,_).pipe(Be(D)).subscribe(()=>{lD.delete(i),r.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let dY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),hY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),pY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),YJ=(()=>{class r{constructor(n){this._ngbConfig=n,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(qr))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(qr))},token:r,providedIn:"root"}),r})();var sf=(()=>(function(r){r.LEFT="left",r.RIGHT="right"}(sf||(sf={})),sf))();const mY=({classList:r})=>r.contains("carousel-item-left")||r.contains("carousel-item-right"),cD=r=>{r.remove("carousel-item-left"),r.remove("carousel-item-right")},LA=r=>{cD(r),r.remove("carousel-item-prev"),r.remove("carousel-item-next")},jJ=(r,i,{direction:n})=>{const{classList:s}=r;return i?(mY(r)?cD(s):(s.add("carousel-item-"+(n===sf.LEFT?"next":"prev")),zb(r),s.add("carousel-item-"+n)),()=>{LA(s),s.add("active")}):(cD(s),LA(s),void s.add("active"))},qJ=(r,i,{direction:n})=>{const{classList:s}=r;return i?(mY(r)?cD(s):s.add("carousel-item-"+n),()=>{LA(s),s.remove("active")}):(cD(s),LA(s),void s.remove("active"))};let ZJ=0,t2=(()=>{class r{constructor(n){this.tplRef=n,this.id="ngb-slide-"+ZJ++,this.slid=new o.vpe}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),r})(),gY=(()=>{class r{constructor(n,s,a,l,h){this._platformId=s,this._ngZone=a,this._cd=l,this._container=h,this.NgbSlideEventSource=Hm,this._destroy$=new pe.xQ,this._interval$=new ni(0),this._mouseHover$=new ni(!1),this._focused$=new ni(!1),this._pauseOnHover$=new ni(!1),this._pauseOnFocus$=new ni(!1),this._pause$=new ni(!1),this._wrap$=new ni(!1),this.slide=new o.vpe,this.slid=new o.vpe,this._transitionIds=null,this.animation=n.animation,this.interval=n.interval,this.wrap=n.wrap,this.keyboard=n.keyboard,this.pauseOnHover=n.pauseOnHover,this.pauseOnFocus=n.pauseOnFocus,this.showNavigationArrows=n.showNavigationArrows,this.showNavigationIndicators=n.showNavigationIndicators}set interval(n){this._interval$.next(n)}get interval(){return this._interval$.value}set wrap(n){this._wrap$.next(n)}get wrap(){return this._wrap$.value}set pauseOnHover(n){this._pauseOnHover$.next(n)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(n){this._pauseOnFocus$.next(n)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(n){this._mouseHover$.next(n)}get mouseHover(){return this._mouseHover$.value}set focused(n){this._focused$.next(n)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Hm.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Hm.ARROW_RIGHT)}ngAfterContentInit(){bc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const n=bp([this.slide.pipe((0,b.U)(s=>s.current),$t(this.activeId)),this._wrap$,this.slides.changes.pipe($t(null))]).pipe((0,b.U)(([s,a])=>{const l=this.slides.toArray(),h=this._getSlideIdxById(s);return a?l.length>1:h<l.length-1}),bn());bp([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,n]).pipe((0,b.U)(([s,a,l,h,m,_,D])=>s||a&&l||h&&m||!D?0:_),bn(),pn(s=>s>0?Xf(s,s):tY),Be(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Hm.TIMER)))}),this.slides.changes.pipe(Be(this._destroy$)).subscribe(()=>{var n;null===(n=this._transitionIds)||void 0===n||n.forEach(s=>(r=>{var i;null===(i=lD.get(r))||void 0===i||i.complete()})(this._getSlideElement(s))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(P(1)).subscribe(()=>{for(const{id:s}of this.slides){const a=this._getSlideElement(s);s===this.activeId?a.classList.add("active"):a.classList.remove("active")}})})}ngAfterContentChecked(){let n=this._getSlideById(this.activeId);this.activeId=n?n.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const n=this._getSlideElement(this.activeId);n&&n.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(n,s){this._cycleToSelected(n,this._getSlideEventDirection(this.activeId,n),s)}prev(n){this._cycleToSelected(this._getPrevSlide(this.activeId),sf.RIGHT,n)}next(n){this._cycleToSelected(this._getNextSlide(this.activeId),sf.LEFT,n)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(n,s,a){const l=this._transitionIds;if(l&&(l[0]!==n||l[1]!==this.activeId))return;let h=this._getSlideById(n);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,n],this.slide.emit({prev:this.activeId,current:h.id,direction:s,paused:this._pause$.value,source:a});const m={animation:this.animation,runningTransition:"stop",context:{direction:s}},_=[],D=this._getSlideById(this.activeId);if(D){const O=xr(this._ngZone,this._getSlideElement(D.id),qJ,m);O.subscribe(()=>{D.slid.emit({isShown:!1,direction:s,source:a})}),_.push(O)}const M=this.activeId;this.activeId=h.id;const A=this._getSlideById(this.activeId),I=xr(this._ngZone,this._getSlideElement(h.id),jJ,m);I.subscribe(()=>{null==A||A.slid.emit({isShown:!0,direction:s,source:a})}),_.push(I),NA(..._).pipe(P(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:M,current:h.id,direction:s,paused:this._pause$.value,source:a})})}this._cd.markForCheck()}_getSlideEventDirection(n,s){return this._getSlideIdxById(n)>this._getSlideIdxById(s)?sf.RIGHT:sf.LEFT}_getSlideById(n){return this.slides.find(s=>s.id===n)||null}_getSlideIdxById(n){const s=this._getSlideById(n);return null!=s?this.slides.toArray().indexOf(s):-1}_getNextSlide(n){const s=this.slides.toArray(),a=this._getSlideIdxById(n);return a===s.length-1?this.wrap?s[0].id:s[s.length-1].id:s[a+1].id}_getPrevSlide(n){const s=this.slides.toArray(),a=this._getSlideIdxById(n);return 0===a?this.wrap?s[s.length-1].id:s[0].id:s[a-1].id}_getSlideElement(n){return this._container.nativeElement.querySelector(`#slide-${n}`)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(YJ),o.Y36(o.Lbi),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.SBq))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-carousel"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,t2,4),2&n){let l;o.iGM(l=o.CRH())&&(s.slides=l)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(n,s){1&n&&o.NdJ("keydown.arrowLeft",function(){return s.keyboard&&s.arrowLeft()})("keydown.arrowRight",function(){return s.keyboard&&s.arrowRight()})("mouseenter",function(){return s.mouseHover=!0})("mouseleave",function(){return s.mouseHover=!1})("focusin",function(){return s.focused=!0})("focusout",function(){return s.focused=!1}),2&n&&(o.uIk("aria-activedescendant","slide-"+s.activeId),o.Udp("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,n,s;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number␟a65b1b49aa7dd8c4f3004da6a8c2241814dae621␟783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,n=$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,s=$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],n,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],s]},template:function(n,s){1&n&&(o.TgZ(0,"ol",0),o.YNc(1,G7,1,5,"li",1),o.qZA(),o.TgZ(2,"div",2),o.YNc(3,j7,4,4,"div",3),o.qZA(),o.YNc(4,q7,4,0,"a",4),o.YNc(5,Z7,4,0,"a",5)),2&n&&(o.ekj("sr-only",!s.showNavigationIndicators),o.xp6(1),o.Q6J("ngForOf",s.slides),o.xp6(2),o.Q6J("ngForOf",s.slides),o.xp6(1),o.Q6J("ngIf",s.showNavigationArrows),o.xp6(1),o.Q6J("ngIf",s.showNavigationArrows))},directives:[bt,ht,bi],encapsulation:2,changeDetection:0}),r})();var Hm=(()=>(function(r){r.TIMER="timer",r.ARROW_LEFT="arrowLeft",r.ARROW_RIGHT="arrowRight",r.INDICATOR="indicator"}(Hm||(Hm={})),Hm))();let _Y=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),yY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();var ln=(()=>(function(r){r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown"}(ln||(ln={})),ln))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const DY=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function MY(r){const i=Array.from(r.querySelectorAll(DY)).filter(n=>-1!==n.tabIndex);return[i[0],i[i.length-1]]}new class{getAllStyles(i){return window.getComputedStyle(i)}getStyle(i,n){return this.getAllStyles(i)[n]}isStaticPositioned(i){return"static"===(this.getStyle(i,"position")||"static")}offsetParent(i){let n=i.offsetParent||document.documentElement;for(;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement}position(i,n=!0){let s,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))s=i.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const l=this.offsetParent(i);s=this.offset(i,!1),l!==document.documentElement&&(a=this.offset(l,!1)),a.top+=l.clientTop,a.left+=l.clientLeft}return s.top-=a.top,s.bottom-=a.top,s.left-=a.left,s.right-=a.left,n&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(i,n=!0){const s=i.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:s.height||i.offsetHeight,width:s.width||i.offsetWidth,top:s.top+a_top,bottom:s.bottom+a_top,left:s.left+a_left,right:s.right+a_left};return n&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(i,n,s,a){const[l="top",h="center"]=s.split("-"),m=a?this.offset(i,!1):this.position(i,!1),_=this.getAllStyles(n),D=parseFloat(_.marginTop),M=parseFloat(_.marginBottom),A=parseFloat(_.marginLeft),I=parseFloat(_.marginRight);let O=0,B=0;switch(l){case"top":O=m.top-(n.offsetHeight+D+M);break;case"bottom":O=m.top+m.height;break;case"left":B=m.left-(n.offsetWidth+A+I);break;case"right":B=m.left+m.width}switch(h){case"top":O=m.top;break;case"bottom":O=m.top+m.height-n.offsetHeight;break;case"left":B=m.left;break;case"right":B=m.left+m.width-n.offsetWidth;break;case"center":"top"===l||"bottom"===l?B=m.left+m.width/2-n.offsetWidth/2:O=m.top+m.height/2-n.offsetHeight/2}n.style.transform=`translate(${Math.round(B)}px, ${Math.round(O)}px)`;const $=n.getBoundingClientRect(),le=document.documentElement,Re=window.innerHeight||le.clientHeight,Ve=window.innerWidth||le.clientWidth;return $.left>=0&&$.top>=0&&$.right<=Ve&&$.bottom<=Re}},new Date(1882,10,12),new Date(2174,10,25);let NY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,xR]]}),r})(),BY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),VY=(()=>{class r{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(qr))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(qr))},token:r,providedIn:"root"}),r})();class qm{constructor(i,n,s){this.nodes=i,this.viewRef=n,this.componentRef=s}}const k9=()=>{};let UY=(()=>{class r{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):k9}_adjustBody(n){const s=this._document.body,a=s.style.paddingRight,l=parseFloat(window.getComputedStyle(s)["padding-right"]);return s.style["padding-right"]=`${l+n}px`,()=>s.style["padding-right"]=a}_isPresent(n){const s=this._document.body.getBoundingClientRect();return window.innerWidth-(s.left+s.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const s=this._document.body;s.appendChild(n);const a=n.getBoundingClientRect().width-n.clientWidth;return s.removeChild(n),a}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z))},token:r,providedIn:"root"}),r})(),I9=(()=>{class r{constructor(n,s){this._el=n,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe(P(1)).subscribe(()=>{xr(this._zone,this._el.nativeElement,(n,s)=>{s&&zb(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return xr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(n,s){2&n&&(o.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),o.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,s){},encapsulation:2}),r})();class HY{close(i){}dismiss(i){}}class R9{constructor(i,n,s,a){this._windowCmptRef=i,this._contentRef=n,this._backdropCmptRef=s,this._beforeDismiss=a,this._closed=new pe.xQ,this._dismissed=new pe.xQ,this._hidden=new pe.xQ,i.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Be(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Be(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();n&&n.then?n.then(s=>{!1!==s&&this._dismiss(i)},()=>{}):!1!==n&&this._dismiss(i)}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,qe.of)(void 0);i.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),NA(i,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var pD=(()=>(function(r){r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC"}(pD||(pD={})),pD))();let O9=(()=>{class r{constructor(n,s,a){this._document=n,this._elRef=s,this._zone=a,this._closed$=new pe.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new pe.xQ,this.hidden=new pe.xQ}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,s={animation:this.animation,runningTransition:"stop"},h=NA(xr(this._zone,n,()=>n.classList.remove("show"),s),xr(this._zone,this._dialogEl.nativeElement,()=>{},s));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const n={animation:this.animation,runningTransition:"continue"};NA(xr(this._zone,this._elRef.nativeElement,(l,h)=>{h&&zb(l),l.classList.add("show")},n),xr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{On(n,"keydown").pipe(Be(this._closed$),wt(a=>a.which===ln.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(pD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;On(this._dialogEl.nativeElement,"mousedown").pipe(Be(this._closed$),(0,Zn.b)(()=>s=!1),pn(()=>On(n,"mouseup").pipe(Be(this._closed$),P(1))),wt(({target:a})=>n===a)).subscribe(()=>{s=!0}),On(n,"click").pipe(Be(this._closed$)).subscribe(({target:a})=>{n===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(pD.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const s=n.querySelector("[ngbAutofocus]"),a=MY(n)[0];(s||a||n).focus()}}_restoreFocus(){const n=this._document.body,s=this._elWithFocus;let a;a=s&&s.focus&&n.contains(s)?s:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&xr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Z),o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,s){if(1&n&&o.Gf(wW,7),2&n){let a;o.iGM(a=o.CRH())&&(s._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,s){2&n&&(o.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),o.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),o.ekj("fade",s.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:qb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&n&&o.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),r})(),GY=(()=>{class r{constructor(n,s,a,l,h,m){this._applicationRef=n,this._injector=s,this._document=a,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new pe.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((r,i,n,s=!1)=>{r.runOutsideAngular(()=>{const a=On(i,"focusin").pipe(Be(n),(0,b.U)(l=>l.target));On(i,"keydown").pipe(Be(n),wt(l=>l.which===ln.Tab),$L(a)).subscribe(([l,h])=>{const[m,_]=MY(i);(h===m||h===i)&&l.shiftKey&&(_.focus(),l.preventDefault()),h===_&&!l.shiftKey&&(m.focus(),l.preventDefault())}),s&&On(i,"click").pipe(Be(n),$L(a),(0,b.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}open(n,s,a,l){const h=l.container instanceof HTMLElement?l.container:rf(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),_=this._scrollBar.compensate(),D=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const M=new HY,A=this._getContentRef(n,l.injector||s,a,M,l);let I=!1!==l.backdrop?this._attachBackdrop(n,h):void 0,O=this._attachWindowComponent(n,h,A),B=new R9(O,A,I,l.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(O),B.result.then(_,_),B.result.then(D,D),M.close=$=>{B.close($)},M.dismiss=$=>{B.dismiss($)},this._applyWindowOptions(O.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,l),I.changeDetectorRef.detectChanges()),O.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(s=>s.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,s){let l=n.resolveComponentFactory(I9).create(this._injector);return this._applicationRef.attachView(l.hostView),s.appendChild(l.location.nativeElement),l}_attachWindowComponent(n,s,a){let h=n.resolveComponentFactory(O9).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),s.appendChild(h.location.nativeElement),h}_applyWindowOptions(n,s){this._windowAttributes.forEach(a=>{rf(s[a])&&(n[a]=s[a])})}_applyBackdropOptions(n,s){this._backdropAttributes.forEach(a=>{rf(s[a])&&(n[a]=s[a])})}_getContentRef(n,s,a,l,h){return a?a instanceof o.Rgc?this._createFromTemplateRef(a,l):function(r){return"string"==typeof r}(a)?this._createFromString(a):this._createFromComponent(n,s,a,l,h):new qm([])}_createFromTemplateRef(n,s){const l=n.createEmbeddedView({$implicit:s,close(h){s.close(h)},dismiss(h){s.dismiss(h)}});return this._applicationRef.attachView(l),new qm([l.rootNodes],l)}_createFromString(n){const s=this._document.createTextNode(`${n}`);return new qm([[s]])}_createFromComponent(n,s,a,l,h){const m=n.resolveComponentFactory(a),_=o.zs3.create({providers:[{provide:HY,useValue:l}],parent:s}),D=m.create(_),M=D.location.nativeElement;return h.scrollable&&M.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new qm([[M]],D.hostView,D)}_setAriaHidden(n){const s=n.parentElement;s&&n!==this._document.body&&(Array.from(s.children).forEach(a=>{a!==n&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const s=()=>{const a=this._modalRefs.indexOf(n);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(s,s)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const s=this._windowCmpts.indexOf(n);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(Z),o.LFG(UY),o.LFG(o.FYo),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.z2F),o.LFG(o.gxx),o.LFG(Z),o.LFG(UY),o.LFG(o.FYo),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})(),N9=(()=>{class r{constructor(n,s,a,l){this._moduleCFR=n,this._injector=s,this._modalStack=a,this._config=l}open(n,s={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._moduleCFR,this._injector,n,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(GY),o.LFG(VY))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o._Vd),o.LFG(o.gxx),o.LFG(GY),o.LFG(VY))},token:r,providedIn:"root"}),r})(),YY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[N9]}),r})(),zY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),tj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),rj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),sj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),oj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),uj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),dj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})(),hj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();new o.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let mj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt]]}),r})();const _Q=[dY,hY,pY,_Y,yY,NY,BY,YY,zY,tj,rj,sj,oj,uj,dj,hj,mj];let yQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[_Q,dY,hY,pY,_Y,yY,NY,BY,YY,zY,tj,rj,sj,oj,uj,dj,hj,mj]}),r})();const gj=["*"],_j=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class wQ{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(s=>this._trackTile(s))}_trackTile(i){const n=this._findMatchingGap(i.colspan);return this._markTilePosition(n,i),this.columnIndex=n+i.colspan,new CQ(this.rowIndex,n)}_findMatchingGap(i){let n=-1,s=-1;do{this.columnIndex+i>this.tracker.length?(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)):(n=this.tracker.indexOf(0,this.columnIndex),-1!=n?(s=this._findGapEndIndex(n),this.columnIndex=n+1):(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)))}while(s-n<i||0==s);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let n=i+1;n<this.tracker.length;n++)if(0!=this.tracker[n])return n;return this.tracker.length}_markTilePosition(i,n){for(let s=0;s<n.colspan;s++)this.tracker[i+s]=n.rowspan}}class CQ{constructor(i,n){this.row=i,this.col=n}}const yj=new o.OlP("MAT_GRID_LIST");let bj=(()=>{class r{constructor(n,s){this._element=n,this._gridList=s,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(n){this._rowspan=Math.round(qt(n))}get colspan(){return this._colspan}set colspan(n){this._colspan=Math.round(qt(n))}_setStyle(n,s){this._element.nativeElement.style[n]=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(yj,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(n,s){2&n&&o.uIk("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:gj,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[_j],encapsulation:2,changeDetection:0}),r})();const DQ=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class p2{constructor(){this._rows=0,this._rowspan=0}init(i,n,s,a){this._gutterSize=vj(i),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=s,this._direction=a}getBaseTileSize(i,n){return`(${i}% - (${this._gutterSize} * ${n}))`}getTilePosition(i,n){return 0===n?"0":Zm(`(${i} + ${this._gutterSize}) * ${n}`)}getTileSize(i,n){return`(${i} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(i,n,s){let a=100/this._cols,l=(this._cols-1)/this._cols;this.setColStyles(i,s,a,l),this.setRowStyles(i,n,a,l)}setColStyles(i,n,s,a){let l=this.getBaseTileSize(s,a);i._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(l,n)),i._setStyle("width",Zm(this.getTileSize(l,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}}class MQ extends p2{constructor(i){super(),this.fixedRowHeight=i}init(i,n,s,a){super.init(i,n,s,a),this.fixedRowHeight=vj(this.fixedRowHeight),DQ.test(this.fixedRowHeight)}setRowStyles(i,n){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),i._setStyle("height",Zm(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",Zm(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}class TQ extends p2{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,n,s,a){this.baseTileHeight=this.getBaseTileSize(s/this.rowHeightRatio,a),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),i._setStyle("paddingTop",Zm(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",Zm(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(i){const n=i.split(":");this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}}class EQ extends p2{setRowStyles(i,n){let l=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);i._setStyle("top",this.getTilePosition(l,n)),i._setStyle("height",Zm(this.getTileSize(l,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}function Zm(r){return`calc(${r})`}function vj(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let xQ=(()=>{class r{constructor(n,s){this._element=n,this._dir=s,this._gutter="1px"}get cols(){return this._cols}set cols(n){this._cols=Math.max(1,Math.round(qt(n)))}get gutterSize(){return this._gutter}set gutterSize(n){this._gutter=`${null==n?"":n}`}get rowHeight(){return this._rowHeight}set rowHeight(n){const s=`${null==n?"":n}`;s!==this._rowHeight&&(this._rowHeight=s,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(n){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===n?new EQ:n&&n.indexOf(":")>-1?new TQ(n):new MQ(n)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new wQ);const n=this._tileCoordinator,s=this._tiles.filter(l=>!l._gridList||l._gridList===this),a=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,s),this._tileStyler.init(this.gutterSize,n,this.cols,a),s.forEach((l,h)=>{const m=n.positions[h];this._tileStyler.setStyle(l,m.row,m.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(n){n&&(this._element.nativeElement.style[n[0]]=n[1])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-grid-list"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,bj,5),2&n){let l;o.iGM(l=o.CRH())&&(s._tiles=l)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(n,s){2&n&&o.uIk("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:yj,useExisting:r}])],ngContentSelectors:gj,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[_j],encapsulation:2,changeDetection:0}),r})(),AQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Yy,Ke],Yy,Ke]}),r})();const wj=["mat-button",""],Cj=["*"],IQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],RQ=qs(ar(os(class{constructor(r){this._elementRef=r}})));let Zr=(()=>{class r extends RQ{constructor(n,s,a){super(n),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of IQ)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Xn),o.Y36(In,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&o.Gf(lr,5),2&n){let a;o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(o.uIk("disabled",s.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:wj,ngContentSelectors:Cj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&n&&(o.xp6(2),o.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),o.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[lr],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),mD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[go,Ke],Ke]}),r})();const OQ=["*",[["mat-card-footer"]]],NQ=["*","mat-card-footer"],PQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],FQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Qb=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),zm=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),Kb=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),zA=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),m2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),r})(),$m=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(In,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:NQ,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(OQ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),g2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:FQ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(n,s){1&n&&(o.F$t(PQ),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),r})(),VQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke],Ke]}),r})();const UQ=["ngcarousel"];function HQ(r,i){if(1&r&&(o.TgZ(0,"div",14),o._UZ(1,"img",15),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(1),o.s9C("src",n.path,o.LSH)}}function GQ(r,i){1&r&&o.YNc(0,HQ,2,1,"ng-template",13)}function YQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementePhoto()}),o._uU(1,"<<"),o.qZA()}}function jQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function qQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementePhoto()}),o._uU(1,">>"),o.qZA()}}function ZQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}function zQ(r,i){if(1&r&&(o.TgZ(0,"pre"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2).$implicit;o.xp6(1),o.hij("                  ",n.listeEleves.substring(0,300)," ...\n                ")}}function $Q(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-header"),o.TgZ(3,"mat-card-title"),o._uU(4),o.qZA(),o.TgZ(5,"mat-card-subtitle"),o._uU(6),o.qZA(),o.qZA(),o._UZ(7,"img",19),o.TgZ(8,"mat-card-content"),o.YNc(9,zQ,2,1,"pre",18),o.TgZ(10,"p"),o._uU(11,"Photo \xe0 voir dans la rubrique Photos de classes"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(4),o.Oqu(n.annee),o.xp6(2),o.Oqu(n.titre),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(2),o.Q6J("ngIf",n.listeEleves)}}function WQ(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,$Q,12,4,"mat-grid-tile",18),o.qZA()),2&r){const n=i.index,s=o.oxw();o.xp6(1),o.Q6J("ngIf",n>=s.photoCourante&&n<s.photoCourante+s.pasPhotos)}}function JQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementePhoto()}),o._uU(1,"<<"),o.qZA()}}function QQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function KQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementePhoto()}),o._uU(1,">>"),o.qZA()}}function XQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}function eK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementeArticle()}),o._uU(1,"<<"),o.qZA()}}function tK(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function nK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementeArticle()}),o._uU(1,">>"),o.qZA()}}function iK(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}function rK(r,i){if(1&r&&(o.TgZ(0,"pre"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2).$implicit;o.xp6(1),o.hij("                ",n.texte.substring(0,300)," ...\n              ")}}function sK(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-header"),o.TgZ(3,"mat-card-title"),o._uU(4),o.qZA(),o.TgZ(5,"mat-card-subtitle"),o._uU(6),o.qZA(),o.qZA(),o._UZ(7,"img",20),o.TgZ(8,"mat-card-content"),o.YNc(9,rK,2,1,"pre",18),o.TgZ(10,"p"),o._uU(11,"Article \xe0 lire dans les rubriques Articles"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(4),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(2),o.Q6J("ngIf",n.texte)}}function oK(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,sK,12,4,"mat-grid-tile",18),o.qZA()),2&r){const n=i.index,s=o.oxw();o.xp6(1),o.Q6J("ngIf",n>=s.articleCourant&&n<s.articleCourant+s.pasArticles)}}function aK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementeArticle()}),o._uU(1,"<<"),o.qZA()}}function lK(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function cK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementeArticle()}),o._uU(1,">>"),o.qZA()}}function uK(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}let dK=(()=>{class r{constructor(n,s,a,l){this.globalService=n,this.photosService=s,this.articlesService=a,this.authService=l,this.photos=[],this.articleCourant=0,this.photoCourante=0,this.listePhotosCarousel=[],this.pasPhotos=4,this.pasArticles=4,this.pageCourantePhoto=1,this.pageCouranteArticle=1,this.nbPagesPhotos=0,this.nbPagesArticles=0,this.articlesService.getArticles(),this.photosService.getPhotos()}ngOnInit(){this.photosSubscription=this.photosService.photoSubject.subscribe(n=>{this.photos=n,this.nbPagesPhotos=Math.round(n.length/this.pasPhotos),this.photosService.getPhotosCarousel().subscribe(s=>{this.listePhotosCarousel=s.docs.map(a=>a.data())})}),this.articlesSubscription=this.articlesService.articlesSubject.subscribe(n=>{this.nbPagesArticles=Math.round(this.articlesService.articles.length/this.pasArticles)}),this.articlesService.emitArticles()}ngOnDestroy(){null!=this.photosSubscription&&this.photosSubscription.unsubscribe()}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.round(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onIncrementePhoto(){this.photoCourante+=this.pasArticles,this.pageCourantePhoto=Math.round(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onDecrementeArticle(){this.articleCourant-=this.pasArticles,this.pageCouranteArticle=Math.round(this.articleCourant/this.pasArticles)+1}onIncrementeArticle(){this.articleCourant+=this.pasArticles,this.pageCouranteArticle=Math.round(this.articleCourant/this.pasArticles)+1}prevSlide(){this.ngCarousel.prev()}nextSlide(){this.ngCarousel.next()}stopSlider(){this.ngCarousel.pause()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(nf),o.Y36(qu),o.Y36(jr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-accueil"]],viewQuery:function(n,s){if(1&n&&o.Gf(UQ,7),2&n){let a;o.iGM(a=o.CRH())&&(s.ngCarousel=a.first)}},decls:46,vars:39,consts:[["label","Accueil"],[3,"cellSpacing","cellPadding"],[1,"texte-entete",3,"width"],["src","../../assets/images/blason/Blason_ville_fr_Mori\xe8res-l\xe8s-Avignon_(Vaucluse).svg.png","alt","","height","250",2,"align-items","center"],[3,"width"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard","pauseOnHover","wrap","activeId"],["ngCarousel",""],[4,"ngFor","ngForOf"],["label","Photos de classes"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],["label","Articles sur Mori\xe8res"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","",2,"width","600px",3,"src"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-image","","alt","Photo de classe",3,"src"],["mat-card-image","","alt","Photo",3,"src"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-tab-group"),o.TgZ(1,"mat-tab",0),o.TgZ(2,"table",1),o.TgZ(3,"tr"),o.TgZ(4,"td",2),o._UZ(5,"img",3),o.TgZ(6,"h4"),o._uU(7,"Nomine ne moreris"),o.qZA(),o.qZA(),o.TgZ(8,"td",2),o._uU(9," M\xe9moire mori\xe9roise "),o._UZ(10,"br"),o._uU(11," Association r\xe9gie par la loi de 1901 "),o._UZ(12,"br"),o._uU(13," 1375 route de Gadagne "),o._UZ(14,"br"),o._uU(15," 84310 Mori\xe8res les Avignon "),o.qZA(),o.TgZ(16,"td",4),o.TgZ(17,"ngb-carousel",5,6),o.YNc(19,GQ,1,0,void 0,7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"mat-tab",8),o.YNc(21,YQ,2,0,"button",9),o.YNc(22,jQ,2,0,"button",10),o._uU(23),o.YNc(24,qQ,2,0,"button",9),o.YNc(25,ZQ,2,0,"button",10),o.TgZ(26,"mat-grid-list",11),o.YNc(27,WQ,2,1,"div",7),o.qZA(),o.YNc(28,JQ,2,0,"button",9),o.YNc(29,QQ,2,0,"button",10),o._uU(30),o.YNc(31,KQ,2,0,"button",9),o.YNc(32,XQ,2,0,"button",10),o.qZA(),o.TgZ(33,"mat-tab",12),o.YNc(34,eK,2,0,"button",9),o.YNc(35,tK,2,0,"button",10),o._uU(36),o.YNc(37,nK,2,0,"button",9),o.YNc(38,iK,2,0,"button",10),o.TgZ(39,"mat-grid-list",11),o.YNc(40,oK,2,1,"div",7),o.qZA(),o.YNc(41,aK,2,0,"button",9),o.YNc(42,lK,2,0,"button",10),o._uU(43),o.YNc(44,cK,2,0,"button",9),o.YNc(45,uK,2,0,"button",10),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("cellSpacing",0)("cellPadding",30),o.xp6(2),o.Q6J("width",300),o.xp6(4),o.Q6J("width",300),o.xp6(8),o.Q6J("width",700),o.xp6(1),o.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!0)("interval",3e3)("keyboard",!1)("pauseOnHover",!1)("wrap",!0)("activeId","1"),o.xp6(2),o.Q6J("ngForOf",s.listePhotosCarousel),o.xp6(2),o.Q6J("ngIf",s.pageCourantePhoto>1),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<=1),o.xp6(1),o.AsE(" Page ",s.pageCourantePhoto," sur ",s.nbPagesPhotos," "),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<s.nbPagesPhotos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>=s.nbPagesPhotos),o.xp6(2),o.Q6J("ngForOf",s.photos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>1),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<=1),o.xp6(1),o.AsE(" Page ",s.pageCourantePhoto," sur ",s.nbPagesPhotos," "),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<s.nbPagesPhotos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>=s.nbPagesPhotos),o.xp6(2),o.Q6J("ngIf",s.pageCouranteArticle>1),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<=1),o.xp6(1),o.AsE(" Page ",s.pageCouranteArticle," sur ",s.nbPagesArticles," "),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<s.nbPagesArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>=s.nbPagesArticles),o.xp6(2),o.Q6J("ngForOf",s.articlesService.articles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>1),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<=1),o.xp6(1),o.AsE(" Page ",s.pageCouranteArticle," sur ",s.nbPagesArticles," "),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<s.nbPagesArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>=s.nbPagesArticles))},directives:[c7,ZG,gY,bt,ht,xQ,t2,Zr,bj,$m,g2,zm,Kb,m2,Qb],styles:[".card[_ngcontent-%COMP%]{max-width:400px}.header-image[_ngcontent-%COMP%]{background-size:cover;vertical-align:top}button[_ngcontent-%COMP%]{background-color:#282832;font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:150px}"]}),r})();const hK=["input"],fK=function(r){return{enterDuration:r}},pK=["*"],mK=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Mj});function Mj(){return{color:"accent",clickAction:"check-indeterminate"}}let gK=0;const Tj=Mj(),_K={provide:Vn,useExisting:(0,o.Gpc)(()=>Ej),multi:!0};class yK{}const bK=Go(qs(os(ar(class{constructor(r){this._elementRef=r}}))));let Ej=(()=>{class r extends bK{constructor(n,s,a,l,h,m,_){super(n),this._changeDetectorRef=s,this._focusMonitor=a,this._ngZone=l,this._animationMode=m,this._options=_,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++gK,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Tj,this.color=this.defaultColor=this._options.color||Tj.color,this.tabIndex=parseInt(h)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(n){this._required=xe(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){const s=xe(n);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){const s=n!=this._indeterminate;this._indeterminate=xe(n),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(n){let s=this._currentCheckState,a=this._elementRef.nativeElement;if(s!==n&&(this._currentAnimationClass.length>0&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);const l=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(l)},1e3)})}}_emitChangeEvent(){const n=new yK;n.source=this,n.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(n),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(n){var s;const a=null===(s=this._options)||void 0===s?void 0:s.clickAction;n.stopPropagation(),this.disabled||"noop"===a?!this.disabled&&"noop"===a&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==a&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(n,s){n?this._focusMonitor.focusVia(this._inputElement,n,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(n){n.stopPropagation()}_getAnimationClassForCheckStateTransition(n,s){if("NoopAnimations"===this._animationMode)return"";let a="";switch(n){case 0:if(1===s)a="unchecked-checked";else{if(3!=s)return"";a="unchecked-indeterminate"}break;case 2:a=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:a=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:a=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${a}`}_syncIndeterminate(n){const s=this._inputElement;s&&(s.nativeElement.indeterminate=n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Xn),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(In,8),o.Y36(mK,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-checkbox"]],viewQuery:function(n,s){if(1&n&&(o.Gf(hK,5),o.Gf(lr,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._inputElement=a.first),o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(n,s){2&n&&(o.Ikx("id",s.id),o.uIk("tabindex",null),o.ekj("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o._Bn([_K]),o.qOj],ngContentSelectors:pK,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(n,s){if(1&n&&(o.F$t(),o.TgZ(0,"label",0,1),o.TgZ(2,"span",2),o.TgZ(3,"input",3,4),o.NdJ("change",function(l){return s._onInteractionEvent(l)})("click",function(l){return s._onInputClick(l)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA(),o.qZA(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA(),o.qZA()),2&n){const a=o.MAs(1),l=o.MAs(13);o.uIk("for",s.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!l.textContent||!l.textContent.trim()),o.xp6(1),o.Q6J("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),o.uIk("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",a)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,fK,"NoopAnimations"===s._animationMode?0:150))}},directives:[lr,zf],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),Sj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),CK=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[go,Ke,$f,Sj],Ke,Sj]}),r})(),xj=(()=>{class r{constructor(n,s,a){this.formBuilder=n,this.dialogRef=s,this.data=a,this.user=new vu("","","","","",!1,0),this.data&&(this.user=this.data),this.form=this.formBuilder.group({visiteur:!0,moderateur:!1,editArticle:!1,editPhotosDeClasse:!1,administrateur:!1})}ngOnInit(){}onSave(){var n,s,a,l,h,m,_,D,M,A;(null===(s=null===(n=this.form)||void 0===n?void 0:n.get("visiteur"))||void 0===s?void 0:s.value)&&(this.user.status|=Vt.visiteur),(null===(l=null===(a=this.form)||void 0===a?void 0:a.get("moderateur"))||void 0===l?void 0:l.value)&&(this.user.status|=Vt.moderateur),(null===(m=null===(h=this.form)||void 0===h?void 0:h.get("editArticle"))||void 0===m?void 0:m.value)&&(this.user.status|=Vt.editArticle),(null===(D=null===(_=this.form)||void 0===_?void 0:_.get("editPhotosDeClasse"))||void 0===D?void 0:D.value)&&(this.user.status|=Vt.editPhotosDeClasse),(null===(A=null===(M=this.form)||void 0===M?void 0:M.get("administrateur"))||void 0===A?void 0:A.value)&&(this.user.status|=Vt.administrateur),this.dialogRef.close(this.user)}onClose(){this.dialogRef.close()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(nc),o.Y36(Nh))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-droits-form"]],decls:16,vars:1,consts:[[3,"formGroup"],["placeholder","Visiteur","formControlName","visiteur",1,"margin"],["placeholder","Mod\xe9rateur","formControlName","moderateur",1,"margin"],["placeholder","editArticle","formControlName","editArticle",1,"margin"],["placeholder","editPhotosDeClasse","formControlName","editPhotosDeClasse",1,"margin"],["placeholder","administrateur","formControlName","administrateur",1,"margin"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-checkbox",1),o._uU(2," Visiteur "),o.qZA(),o.TgZ(3,"mat-checkbox",2),o._uU(4," Mod\xe9rateur "),o.qZA(),o.TgZ(5,"mat-checkbox",3),o._uU(6," Edition articles "),o.qZA(),o.TgZ(7,"mat-checkbox",4),o._uU(8," Edition photos de classes "),o.qZA(),o.TgZ(9,"mat-checkbox",5),o._uU(10," administrateur "),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.TgZ(12,"button",6),o.NdJ("click",function(){return s.onSave()}),o._uU(13,"Valider"),o.qZA(),o.TgZ(14,"button",7),o.NdJ("click",function(){return s.onClose()}),o._uU(15,"Annuler"),o.qZA(),o.qZA()),2&n&&o.Q6J("formGroup",s.form)},directives:[om,nl,Oi,Ej,tl,Da,am],styles:[".section[_ngcontent-%COMP%]{margin:12px 0}.margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),r})();const DK=[[["caption"]],[["colgroup"],["col"]]],MK=["caption","colgroup, col"];let _2=(()=>{class r extends cp{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:Zc,useClass:kM},{provide:cp,useExisting:r},{provide:qd,useExisting:r},{provide:Xc,useClass:Zd},{provide:tT,useValue:null}]),o.qOj],ngContentSelectors:MK,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,s){1&n&&(o.F$t(DK),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[Wd,$d,d_,O0],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),r})(),$A=(()=>{class r extends Qc{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:Qc,useExisting:r}]),o.qOj]}),r})(),WA=(()=>{class r extends Kc{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Kc,useExisting:r}]),o.qOj]}),r})(),JA=(()=>{class r extends oo{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:oo,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),o.qOj]}),r})(),QA=(()=>{class r extends A0{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),r})(),KA=(()=>{class r extends Bl{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),r})(),y2=(()=>{class r extends zd{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:zd,useExisting:r}]),o.qOj]}),r})(),b2=(()=>{class r extends l_{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:l_,useExisting:r}]),o.qOj]}),r})(),v2=(()=>{class r extends Vl{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:Vl,useExisting:r}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[ba],encapsulation:2}),r})(),w2=(()=>{class r extends R0{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:R0,useExisting:r}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[ba],encapsulation:2}),r})(),NK=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nT,Ke],Ke]}),r})();function FK(r,i){if(1&r&&(o.TgZ(0,"h5"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Gestion des droits des ",n.users.length," utilisateurs )")}}function LK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Id "),o.qZA())}function BK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.uid," ")}}function VK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Email "),o.qZA())}function UK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.email," ")}}function HK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Nom "),o.qZA())}function GK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.nom," ")}}function YK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Pr\xe9nom "),o.qZA())}function jK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.prenom," ")}}function qK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Status "),o.qZA())}function ZK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit,s=o.oxw();o.xp6(1),o.hij(" ",s.getDroitsSelectedUser(n.status).toString()," ")}}function zK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Action "),o.qZA())}function $K(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"td",13),o.TgZ(1,"button",14),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onDroits(l)}),o._uU(2,"Droits"),o.qZA(),o.qZA()}}function WK(r,i){1&r&&o._UZ(0,"tr",15)}function JK(r,i){1&r&&o._UZ(0,"tr",16)}function QK(r,i){1&r&&(o.TgZ(0,"div"),o._uU(1," Visible\n"),o.qZA())}let KK=(()=>{class r{constructor(n,s,a){this.globalService=n,this.usersService=s,this.dialog=a,this.users=[],this.formVisible=!1,this.displayedColumns=["uid","email","nom","prenom","status","action"]}ngOnInit(){this.usersService.getUsers().subscribe(n=>{this.users=n.docs.map(s=>{const a=s.data();return a.id=s.id,a},s=>{console.log(s)})},()=>{})}ngOnDestroy(){this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe()}getDroitsSelectedUser(n){let s="";return 65536===n?"Non":255===n?"Administrateur":(1==(1&n)&&(""!==s&&(s+=", "),s+="Visiteur"),2==(2&n)&&(""!==s&&(s+=", "),s+="Mod\xe9rateur"),4==(4&n)&&(""!==s&&(s+=", "),s+="Editer articles"),8==(8&n)&&(""!==s&&(s+=", "),s+="Editer photos de classes"),""===s&&(s="Non"),s)}onDroits(n){const s=new ei;s.disableClose=!0,s.autoFocus=!0,s.width="300px",s.height="400px",s.data={user:n};const a=this.dialog.open(xj,s);this.dialogResultSuscription=a.afterClosed().subscribe(l=>{void 0!==l&&this.usersService.changeDroitsUser(n.id,l.status)},l=>{console.log(l)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(IA),o.Y36(ic))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-droits"]],decls:25,vars:5,consts:[[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,s){1&n&&(o.YNc(0,FK,2,1,"h5",0),o._uU(1,"\n==============================================================\n"),o.TgZ(2,"div"),o.TgZ(3,"table",1),o.ynx(4,2),o.YNc(5,LK,2,0,"th",3),o.YNc(6,BK,2,1,"td",4),o.BQk(),o.ynx(7,5),o.YNc(8,VK,2,0,"th",3),o.YNc(9,UK,2,1,"td",4),o.BQk(),o.ynx(10,6),o.YNc(11,HK,2,0,"th",3),o.YNc(12,GK,2,1,"td",4),o.BQk(),o.ynx(13,7),o.YNc(14,YK,2,0,"th",3),o.YNc(15,jK,2,1,"td",4),o.BQk(),o.ynx(16,8),o.YNc(17,qK,2,0,"th",3),o.YNc(18,ZK,2,1,"td",4),o.BQk(),o.ynx(19,9),o.YNc(20,zK,2,0,"th",3),o.YNc(21,$K,3,0,"td",4),o.BQk(),o.YNc(22,WK,1,0,"tr",10),o.YNc(23,JK,1,0,"tr",11),o.qZA(),o.qZA(),o.YNc(24,QK,2,0,"div",0)),2&n&&(o.Q6J("ngIf",s.users),o.xp6(3),o.Q6J("dataSource",s.users),o.xp6(19),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(1),o.Q6J("ngIf",s.formVisible))},directives:[ht,_2,JA,WA,$A,y2,b2,QA,KA,v2,w2],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),r})();class XA{constructor(i,n,s,a,l){this.id=i,this.description=n,this.fichier=s,this.titre=a,this.status=l}}let Xb=(()=>{class r{constructor(n){this.angularFirestore=n,this.pdfs=[],this.pdfsAValider=[],this.pdfSubject=new pe.xQ}emitPdf(){this.pdfSubject.next(this.pdfs)}getPdfs(){this.angularFirestore.collection("Pdf").get().subscribe(n=>{this.pdfs=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.pdfs.length>0&&(this.currentPdf=this.pdfs[0])})}getPdf(n){return this.angularFirestore.collection("Pdf").doc(n).get()}getListePdfsValides(){this.angularFirestore.collection("listePdf",n=>n.where("Status","==",ai.valide)).get().subscribe(n=>{this.pdfs=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.emitPdf()}getListePdfAValider(){return this.angularFirestore.collection("listePdf",n=>n.where("Status","==",ai.initial)).get()}GetSinglePdf(n){this.angularFirestore.collection("listePdf").doc(n).get().subscribe(s=>{null==this.currentPdf&&(this.currentPdf=new XA("","","","",0)),this.currentPdf.id=s.id,this.currentPdf=s.data(),this.emitPdf()})}addPdf(n){this.angularFirestore.collection("listePdf").add({description:n.description,fichier:n.fichier,Status:ai.initial,titre:n.titre}).then(s=>{},s=>{console.log("Erreur "+s)})}validerPdf(n){n.status=ai.valide,this.angularFirestore.collection("listePdf").doc(n.id).update({Status:n.status})}rejeterPdf(n){n.status=ai.rejete,this.angularFirestore.collection("listePdf").doc(n.id).update(n)}supprimerPdf(n){n.status=ai.supprime,this.angularFirestore.collection("listePdf").doc(n.id).update(n)}updatePdf(n){this.angularFirestore.collection("listePdf").doc(n.id).update(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tf))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function XK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o._UZ(6,"img",2),o.TgZ(7,"mat-card-content",3),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"mat-card-actions"),o.TgZ(12,"div",4),o.TgZ(13,"button",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onValideArticle(l)}),o._uU(14,"Valider l'article"),o.qZA(),o.TgZ(15,"button",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onRejeteArticle(l)}),o._uU(16,"Rejeter l'article"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.texte)}}function eX(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2),o.qZA(),o.YNc(3,XK,17,4,"div",1),o._UZ(4,"br"),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.hij("Liste des articles \xe0 valider. (",n.articlesAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",n.articlesAValider)}}let Aj=(()=>{class r{constructor(n,s,a,l,h){this.globalService=n,this.pdfService=s,this.photosService=a,this.authService=l,this.articlesService=h,this.articlesAValider=[],this.isConnected=!1,this.canWrite=!1,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.pdfsAValider=[],this.authSubscription=this.authService.authSubject.subscribe(m=>{if(null!=m){let _=this.authService.getCurrentUser();_&&_.status&&(_.status&Vt.administrateur)===Vt.administrateur?this.isAdmin=!0:(_&&_.status&&(_.status&Vt.editArticle)===Vt.editArticle&&(this.isEditArticle=!0),_&&_.status&&(_.status&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),_&&_.status&&(_.status&Vt.moderateur)===Vt.moderateur&&(this.isModerateur=!0))}}),this.authService.emitUserChanged()}ngOnInit(){this.articlesService.getArticlesAValider().subscribe(n=>{this.articlesAValider=n.docs}),this.pdfService.getListePdfAValider().subscribe(n=>{this.pdfsAValider=n.docs})}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}onValideArticle(n){this.articlesService.valideArticle(n).then(s=>{}).catch(s=>{console.log(s)})}onRejeteArticle(n){this.articlesService.rejeteArticle(n).then(s=>{}).catch(s=>{console.log(s)})}onValidePdf(n){this.pdfService.validerPdf(n)}onRejetePdf(n){this.pdfService.rejeterPdf(n)}onValidePhoto(n){this.photosService.validerPhoto(n)}onRejetePhoto(n){this.photosService.rejeterPhoto(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(Xb),o.Y36(nf),o.Y36(jr),o.Y36(qu))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-valider-articles"]],inputs:{articlesAValider:"articlesAValider"},decls:4,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Validations"),o.qZA(),o._UZ(2,"br"),o.YNc(3,eX,5,2,"div",0)),2&n&&(o.xp6(3),o.Q6J("ngIf",s.isEditArticle||s.isAdmin))},directives:[ht,bt,$m,zm,Kb,Qb,zA,Zr],styles:["pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}.card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:20%;max-height:20%;align-content:left}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}"]}),r})();function tX(r,i){if(1&r&&o._UZ(0,"app-valider-articles",3),2&r){const n=o.oxw(4);o.Q6J("articlesAValider",n.articlesAValider)}}function nX(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,tX,1,1,"app-valider-articles",2),o.qZA()),2&r){const n=o.oxw(3);o.xp6(1),o.Q6J("ngIf",n.articlesAValider&&n.articlesAValider.length>0)}}function iX(r,i){if(1&r&&(o.TgZ(0,"li"),o.TgZ(1,"a",1),o._uU(2),o.qZA(),o.YNc(3,nX,2,1,"div",0),o.qZA()),2&r){const n=o.oxw(2);o.xp6(2),o.hij("Valider articles, photos et documents (",n.totalAValider,")"),o.xp6(1),o.Q6J("ngIf",n.articlesAValider&&n.articlesAValider.length>0)}}function rX(r,i){1&r&&(o.TgZ(0,"li"),o.TgZ(1,"a",4),o._uU(2,"Messages"),o.qZA(),o.qZA())}function sX(r,i){1&r&&(o.TgZ(0,"li"),o.TgZ(1,"a",5),o._uU(2,"G\xe9rer les droits."),o.qZA(),o.qZA())}function oX(r,i){if(1&r&&(o.TgZ(0,"ul"),o.YNc(1,iX,4,2,"li",0),o.YNc(2,rX,3,0,"li",0),o.YNc(3,sX,3,0,"li",0),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.isModerateur||n.isAdmin),o.xp6(1),o.Q6J("ngIf",n.isModerateur||n.isAdmin),o.xp6(1),o.Q6J("ngIf",n.isAdmin)}}let aX=(()=>{class r{constructor(n,s,a,l,h,m){this.router=n,this.globalService=s,this.authService=a,this.articlesService=l,this.pdfService=h,this.photoService=m,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.totalAValider=0,this.articlesAValider=[],this.pdfsAValider=[],this.photosAValider=[],this.authSubscription=this.authService.authSubject.pipe(Ol(1)).subscribe(_=>{var D,M,A,I;null!=_&&(((null===(D=this.authService.getCurrentUser())||void 0===D?void 0:D.status)&&Vt.administrateur)===Vt.administrateur?this.isAdmin=!0:(((null===(M=this.authService.getCurrentUser())||void 0===M?void 0:M.status)&&Vt.editArticle)===Vt.editArticle&&(this.isEditArticle=!0),((null===(A=this.authService.getCurrentUser())||void 0===A?void 0:A.status)&&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),((null===(I=this.authService.getCurrentUser())||void 0===I?void 0:I.status)&&Vt.moderateur)===Vt.moderateur&&(this.isModerateur=!0)))})}ngOnInit(){let n=this.authService.getCurrentUser();this.articlesService.getArticlesAValider().subscribe(s=>{this.articlesAValider=s.docs,this.pdfService.getListePdfAValider().subscribe(a=>{this.pdfsAValider=a.docs,this.photoService.getPhotosAValider().subscribe(l=>{this.photosAValider=l.docs,this.totalAValider=this.articlesAValider.length+this.photosAValider.length+this.pdfService.pdfsAValider.length})})}),n&&n.status&&(n.status&Vt.administrateur)===Vt.administrateur?this.isAdmin=!0:(n&&n.status&&(n.status&Vt.editArticle)==Vt.editArticle&&(this.isEditArticle=!0),n&&n.status&&(n.status&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),n&&n.status&&(n.status&Vt.moderateur)===Vt.moderateur&&(this.isModerateur=!0))}ngOnDestroy(){this.authSubscription.unsubscribe()}openValidateDialog(){this.router.navigate(["app-valider-articles"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(zn),o.Y36(Wo),o.Y36(jr),o.Y36(qu),o.Y36(Xb),o.Y36(nf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-home-administration"]],decls:4,vars:1,consts:[[4,"ngIf"],["routerLink","/app-valider-articles"],[3,"articlesAValider",4,"ngIf"],[3,"articlesAValider"],["routerLink","/app-liste-messages"],["routerLink","/app-droits"]],template:function(n,s){1&n&&(o.TgZ(0,"h2"),o._uU(1,"Administration"),o.qZA(),o._UZ(2,"br"),o.YNc(3,oX,4,3,"ul",0)),2&n&&(o.xp6(3),o.Q6J("ngIf",s.isAdmin))},directives:[ht,Lp,Aj],styles:["a[_ngcontent-%COMP%]{color:#0ff;font-size:large}"]}),r})();class kj{constructor(i,n,s,a,l){this.date=i,this.email=n,this.texte=s,this.lu=a,this.id=l}}let C2=(()=>{class r{constructor(n){this.angularFirestore=n,this.listeMessagesNonLus=[],this.pdfSubject=new pe.xQ}emitMessage(){this.pdfSubject.next(this.listeMessagesNonLus)}getMessagesNonLus(){this.angularFirestore.collection("Messages",n=>n.where("lu","==",!1)).get().subscribe(n=>{this.listeMessagesNonLus=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.emitMessage()}addMessage(n){this.angularFirestore.collection("Messages").add({date:n.date.toJSON(),email:n.email,texte:n.texte,lu:n.lu}).catch(s=>{console.log("Erreur "+s)})}SoldeMessage(n){this.angularFirestore.collection("Messages").doc(n.id).update({lu:!0})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tf))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function lX(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Id "),o.qZA())}function cX(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.id," ")}}function uX(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Email "),o.qZA())}function dX(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.email," ")}}function hX(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Date "),o.qZA())}function fX(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.date," ")}}function pX(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Texte "),o.qZA())}function mX(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.texte," ")}}function gX(r,i){1&r&&o._UZ(0,"mat-header-cell")}function _X(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-cell"),o.TgZ(1,"button",14),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onVu(l)}),o._uU(2,"Vu"),o.qZA(),o.qZA()}}function yX(r,i){1&r&&o._UZ(0,"tr",15)}function bX(r,i){1&r&&o._UZ(0,"tr",16)}let vX=(()=>{class r{constructor(n){this.messagesService=n,this.displayedColumns=["email","date","texte","action"]}ngOnInit(){this.messagesService.getMessagesNonLus()}onVu(n){const s=new kj(n.date,n.email,n.texte,n.vu,n.id);this.messagesService.SoldeMessage(s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(C2))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-messages"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","date"],["matColumnDef","texte"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1),o.qZA(),o._UZ(2,"br"),o.TgZ(3,"div"),o.TgZ(4,"table",0),o.ynx(5,1),o.YNc(6,lX,2,0,"th",2),o.YNc(7,cX,2,1,"td",3),o.BQk(),o.ynx(8,4),o.YNc(9,uX,2,0,"th",2),o.YNc(10,dX,2,1,"td",3),o.BQk(),o.ynx(11,5),o.YNc(12,hX,2,0,"th",2),o.YNc(13,fX,2,1,"td",3),o.BQk(),o.ynx(14,6),o.YNc(15,pX,2,0,"th",2),o.YNc(16,mX,2,1,"td",3),o.BQk(),o.ynx(17,7),o.YNc(18,gX,1,0,"mat-header-cell",8),o.YNc(19,_X,3,0,"mat-cell",9),o.BQk(),o.YNc(20,yX,1,0,"tr",10),o.YNc(21,bX,1,0,"tr",11),o.qZA(),o.qZA()),2&n&&(o.xp6(1),o.hij("Liste des messages non lus (",s.messagesService.listeMessagesNonLus.length,") "),o.xp6(3),o.Q6J("dataSource",s.messagesService.listeMessagesNonLus),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns))},directives:[_2,JA,WA,$A,y2,b2,QA,KA,v2,w2],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),r})();class wX{constructor(i,n,s,a,l,h,m,_,D,M,A){this.id=i,this.titre=n,this.texte=s,this.idTheme=a,this.date=l,this.photo=h,this.photo2=m,this.legende=_,this.auteur=D,this.nomAuteur=M,this.status=A}}function CX(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition de l'article ",n.article.titre,"")}}function DX(r,i){if(1&r&&o._UZ(0,"app-article-form",2),2&r){const n=o.oxw();o.Q6J("article",n.article)}}let D2=(()=>{class r{constructor(n,s,a){this.globalService=n,this.articlesService=s,this.route=a,this.articlesService.getArticle(this.route.snapshot.params.id).subscribe(h=>{this.article=h.data()},h=>{console.log("Erreur = "+h)})}ngOnInit(){}ngOnDestroy(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(qu),o.Y36(ho))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-article"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"article",4,"ngIf"],[3,"article"]],template:function(n,s){1&n&&(o.YNc(0,CX,2,1,"h4",0),o.YNc(1,DX,1,1,"app-article-form",1)),2&n&&(o.Q6J("ngIf",s.article),o.xp6(1),o.Q6J("ngIf",s.article))},styles:[""]}),r})();const Ij=new Set;let ev,Rj=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TX}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!Ij.has(r))try{ev||(ev=document.createElement("style"),ev.setAttribute("type","text/css"),document.head.appendChild(ev)),ev.sheet&&(ev.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),Ij.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(kt))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(kt))},token:r,providedIn:"root"}),r})();function TX(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let ek=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new pe.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Oj(Gc(n)).some(a=>this._registerQuery(a).mql.matches)}observe(n){let l=bp(Oj(Gc(n)).map(h=>this._registerQuery(h).observable));return l=Rl(l.pipe(P(1)),l.pipe(nt(1),Hc(0))),l.pipe((0,b.U)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:_,query:D})=>{m.matches=m.matches||_,m.breakpoints[D]=_}),m}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),l={observable:new An.y(h=>{const m=_=>this._zone.run(()=>h.next(_));return s.addListener(m),()=>{s.removeListener(m)}}).pipe($t(s),(0,b.U)(({matches:h})=>({query:n,matches:h})),Be(this._destroySubject)),mql:s};return this._queries.set(n,l),l}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Rj),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Rj),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})();function Oj(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}const fc_Small="(min-width: 600px) and (max-width: 959.98px)";var af=(()=>(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"}(af||(af={})),af))();const Nj="firebasestorage.googleapis.com",Pj="storageBucket";class Qi extends Wt.ZR{constructor(i,n){super(M2(i),`Firebase Storage: ${n} (${M2(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}_codeEquals(i){return M2(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function M2(r){return"storage/"+r}function T2(){return new Qi("unknown","An unknown error occurred, please check the error payload for server response.")}function Fj(){return new Qi("canceled","User canceled the upload/download.")}function Lj(){return new Qi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function BX(){return new Qi("no-download-url","The given file does not have any download URLs.")}function tv(r){return new Qi("invalid-argument",r)}function Bj(){return new Qi("app-deleted","The Firebase app was deleted.")}function Vj(r){return new Qi("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gD(r,i){return new Qi("invalid-format","String does not match format '"+r+"': "+i)}function tk(r){throw new Qi("internal-error","Internal error: "+r)}class VX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=af.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=af.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=af.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,a){if(this.sent_)throw tk("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tk("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tk("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw tk("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class HX{createConnection(){return new VX}}class Ss{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=Ss.makeFromUrl(i,n)}catch(a){return new Ss(i,"")}if(""===s.path)return s;throw function(r){return new Qi("invalid-default-bucket","Invalid default bucket '"+r+"'.")}(i)}static makeFromUrl(i,n){let s=null;const a="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+a+"(/(.*))?$","i");function D(Qe){Qe.path_=decodeURIComponent(Qe.path)}const A=n.replace(/[.]/g,"\\."),He=[{regex:m,indices:{bucket:1,path:3},postModify:function(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${n===Nj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let Qe=0;Qe<He.length;Qe++){const vn=He[Qe],yi=vn.regex.exec(i);if(yi){let Ai=yi[vn.indices.path];Ai||(Ai=""),s=new Ss(yi[vn.indices.bucket],Ai),vn.postModify(s);break}}if(null==s)throw function(r){return new Qi("invalid-url","Invalid URL '"+r+"'.")}(i);return s}}class GX{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function nk(r){return"string"==typeof r||r instanceof String}function Uj(r){return E2()&&r instanceof Blob}function E2(){return"undefined"!=typeof Blob}function S2(r,i,n,s){if(s<i)throw tv(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw tv(`Invalid value for '${r}'. Expected ${n} or less.`)}function lf(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function Hj(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class $X{constructor(i,n,s,a,l,h,m,_,D,M,A){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l.slice(),this.additionalRetryCodes_=h.slice(),this.callback_=m,this.errorCallback_=_,this.progressCallback_=M,this.timeout_=D,this.pool_=A,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const i=this;function s(a,l){const h=i.resolve_,m=i.reject_,_=l.connection;if(l.wasSuccessCode)try{const D=i.callback_(_,_.getResponseText());!function(r){return void 0!==r}(D)?h():h(D)}catch(D){m(D)}else if(null!==_){const D=T2();D.serverResponse=_.getResponseText(),m(i.errorCallback_?i.errorCallback_(_,D):D)}else m(l.canceled?i.appDelete_?Bj():Fj():new Qi("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new ik(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,a=null,l=!1,h=0;function m(){return 2===h}let _=!1;function D(...B){_||(_=!0,i.apply(null,B))}function M(B){a=setTimeout(()=>{a=null,r(A,m())},B)}function A(B,...$){if(_)return;if(B)return void D.call(null,B,...$);if(m()||l)return void D.call(null,B,...$);let Re;s<64&&(s*=2),1===h?(h=2,Re=0):Re=1e3*(s+Math.random()),M(Re)}let I=!1;function O(B){I||(I=!0,!_&&(null!==a?(B||(h=2),clearTimeout(a),M(0)):B||(h=1)))}return M(0),setTimeout(()=>{l=!0,O(!0)},n),O}(function(a,l){if(l)return void a(!1,new ik(!1,null,!0));const h=i.pool_.createConnection();function m(_){null!==i.progressCallback_&&i.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)}i.pendingConnection_=h,null!==i.progressCallback_&&h.addUploadProgressListener(m),h.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&h.removeUploadProgressListener(m),i.pendingConnection_=null;const _=h.getErrorCode()===af.NO_ERROR,D=h.getStatus();if(!_||i.isRetryStatusCode_(D)){const A=h.getErrorCode()===af.ABORT;return void a(!1,new ik(!1,null,A))}const M=-1!==i.successCodes_.indexOf(D);a(!0,new ik(M,h))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,a=-1!==[408,429].indexOf(i),l=-1!==this.additionalRetryCodes_.indexOf(i);return n||a||l}}class ik{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function tee(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(E2())return new Blob(r);throw new Qi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class x2{constructor(i,n){this.data=i,this.contentType=n||null}}function A2(r,i){switch(r){case Jo.RAW:return new x2(Gj(i));case Jo.BASE64:case Jo.BASE64URL:return new x2(Yj(r,i));case Jo.DATA_URL:return new x2(function(r){const i=new jj(r);return i.base64?Yj(Jo.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw gD(Jo.DATA_URL,"Malformed data URL.")}return Gj(i)}(i.rest)}(i),function(r){return new jj(r).contentType}(i))}throw T2()}function Gj(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function Yj(r,i){switch(r){case Jo.BASE64:{const a=-1!==i.indexOf("-"),l=-1!==i.indexOf("_");if(a||l)throw gD(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Jo.BASE64URL:{const a=-1!==i.indexOf("+"),l=-1!==i.indexOf("/");if(a||l)throw gD(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(a){throw gD(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class jj{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw gD(Jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class pc{constructor(i,n){let s=0,a="";Uj(i)?(this.data_=i,s=i.size,a=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(i,n){if(Uj(this.data_)){const a=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===a?null:new pc(a)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new pc(s,!0)}}static getBlob(...i){if(E2()){const n=i.map(s=>s instanceof pc?s.data_:s);return new pc(tee.apply(null,n))}{const n=i.map(h=>nk(h)?A2(Jo.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)a[l++]=h[m]}),new pc(a,!0)}}uploadData(){return this.data_}}function k2(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function qj(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function uee(r,i){return i}class Js{constructor(i,n,s,a){this.server=i,this.local=n||i,this.writable=!!s,this.xform=a||uee}}let rk=null;function _D(){if(rk)return rk;const r=[];r.push(new Js("bucket")),r.push(new Js("generation")),r.push(new Js("metageneration")),r.push(new Js("name","fullPath",!0));const n=new Js("name");n.xform=function(l,h){return function(r){return!nk(r)||r.length<2?r:qj(r)}(h)},r.push(n);const a=new Js("size");return a.xform=function(l,h){return void 0!==h?Number(h):h},r.push(a),r.push(new Js("timeCreated")),r.push(new Js("updated")),r.push(new Js("md5Hash",null,!0)),r.push(new Js("cacheControl",null,!0)),r.push(new Js("contentDisposition",null,!0)),r.push(new Js("contentEncoding",null,!0)),r.push(new Js("contentLanguage",null,!0)),r.push(new Js("contentType",null,!0)),r.push(new Js("metadata","customMetadata",!0)),rk=r,rk}function Zj(r,i,n){const s=k2(i);return null===s?null:function(r,i,n){const s={type:"file"},a=n.length;for(let l=0;l<a;l++){const h=n[l];s[h.local]=h.xform(s,i[h.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const l=new Ss(r.bucket,r.fullPath);return i._makeStorageReference(l)}})}(s,r),s}(r,s,n)}function I2(r,i){const n={},s=i.length;for(let a=0;a<s;a++){const l=i[a];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}const zj="prefixes";class Zu{constructor(i,n,s,a){this.url=i,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mc(r){if(!r)throw T2()}function sk(r,i){return function(s,a){const l=Zj(r,a,i);return mc(null!==l),l}}function nv(r){return function(n,s){let a;return a=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Qi("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new Qi("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new Qi("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,a.serverResponse=s.serverResponse,a}}function ok(r){const i=nv(r);return function(s,a){let l=i(s,a);return 404===s.getStatus()&&(l=function(r){return new Qi("object-not-found","Object '"+r+"' does not exist.")}(r.path)),l.serverResponse=a.serverResponse,l}}function Wj(r,i,n){const a=lf(i.fullServerUrl(),r.host,r._protocol),h=r.maxOperationRetryTime,m=new Zu(a,"GET",sk(r,n),h);return m.errorHandler=ok(i),m}function bee(r,i,n,s,a){const l={};l.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(l.delimiter=n),s&&(l.pageToken=s),a&&(l.maxResults=a);const m=lf(i.bucketOnlyServerUrl(),r.host,r._protocol),D=r.maxOperationRetryTime,M=new Zu(m,"GET",function(r,i){return function(s,a){const l=function(r,i,n){const s=k2(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[zj])for(const a of n[zj]){const l=a.replace(/\/$/,""),h=r._makeStorageReference(new Ss(i,l));s.prefixes.push(h)}if(n.items)for(const a of n.items){const l=r._makeStorageReference(new Ss(i,a.name));s.items.push(l)}return s}(r,i,s)}(r,i,a);return mc(null!==l),l}}(r,i.bucket),D);return M.urlParams=l,M.errorHandler=nv(i),M}function vee(r,i,n){const a=lf(i.fullServerUrl(),r.host,r._protocol),h=r.maxOperationRetryTime,m=new Zu(a,"GET",function(r,i){return function(s,a){const l=Zj(r,a,i);return mc(null!==l),function(r,i,n,s){const a=k2(i);if(null===a||!nk(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(D=>{const A=r.fullPath;return lf("/b/"+h(r.bucket)+"/o/"+h(A),n,s)+Hj({alt:"media",token:D})})[0]}(l,a,r.host,r._protocol)}}(r,n),h);return m.errorHandler=ok(i),m}function wee(r,i,n,s){const l=lf(i.fullServerUrl(),r.host,r._protocol),m=I2(n,s),D=r.maxOperationRetryTime,M=new Zu(l,"PATCH",sk(r,s),D);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=m,M.errorHandler=ok(i),M}function Cee(r,i){const s=lf(i.fullServerUrl(),r.host,r._protocol),m=new Zu(s,"DELETE",function(_,D){},r.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=ok(i),m}function Jj(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class ak{constructor(i,n,s,a){this.current=i,this.total=n,this.finalized=!!s,this.metadata=a||null}}function R2(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(a){mc(!1)}return mc(!!n&&-1!==(i||["active"]).indexOf(n)),n}const See={STATE_CHANGED:"state_changed"},Qs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O2(r){switch(r){case"running":case"pausing":case"canceling":return Qs.RUNNING;case"paused":return Qs.PAUSED;case"success":return Qs.SUCCESS;case"canceled":return Qs.CANCELED;case"error":default:return Qs.ERROR}}class xee{constructor(i,n,s){if(function(r){return"function"==typeof r}(i)||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const l=i;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function iv(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class Xj{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=_D(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,a){const l=i.bucketOnlyServerUrl(),h=Jj(i,s,a),m={name:h.fullPath},_=lf(l,r.host,r._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},A=I2(h,n),B=new Zu(_,"POST",function($){let le;R2($);try{le=$.getResponseHeader("X-Goog-Upload-URL")}catch(Re){mc(!1)}return mc(nk(le)),le},r.maxUploadRetryTime);return B.urlParams=m,B.headers=M,B.body=A,B.errorHandler=nv(i),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const a=function(r,i,n,s){const _=new Zu(n,"POST",function(D){const M=R2(D,["active","final"]);let A=null;try{A=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){mc(!1)}A||mc(!1);const I=Number(A);return mc(!isNaN(I)),new ak(I,s.size(),"final"===M)},r.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=nv(i),_}(this._ref.storage,this._ref._location,i,this._blob),l=this._ref.storage._makeRequest(a,n,s);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new ak(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let h;try{h=function(r,i,n,s,a,l,h,m){const _=new ak(0,0);if(h?(_.current=h.current,_.total=h.total):(_.current=0,_.total=s.size()),s.size()!==_.total)throw new Qi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=_.total-_.current;let M=D;a>0&&(M=Math.min(M,a));const A=_.current,B={"X-Goog-Upload-Command":M===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},$=s.slice(A,A+M);if(null===$)throw Lj();const He=new Zu(n,"POST",function(Qe,vn){const yi=R2(Qe,["active","final"]),Ki=_.current+M,Ai=s.size();let Ko;return Ko="final"===yi?sk(i,l)(Qe,vn):null,new ak(Ki,Ai,"final"===yi,Ko)},i.maxUploadRetryTime);return He.headers=B,He.body=$.uploadData(),He.progressCallback=m||null,He.errorHandler=nv(r),He}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const m=this._ref.storage._makeRequest(h,a,l);this._request=m,m.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=Wj(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,a){const l=i.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},_=function(){let He="";for(let Qe=0;Qe<2;Qe++)He+=Math.random().toString().slice(2);return He}();h["Content-Type"]="multipart/related; boundary="+_;const D=Jj(i,s,a),M=I2(D,n),O=pc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+_+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",s,"\r\n--"+_+"--");if(null===O)throw Lj();const B={name:D.fullPath},$=lf(l,r.host,r._protocol),Re=r.maxUploadRetryTime,Ve=new Zu($,"POST",sk(r,n),Re);return Ve.urlParams=B,Ve.headers=h,Ve.body=O.uploadData(),Ve.errorHandler=nv(i),Ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=Fj(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=O2(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,a){const l=new xee(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(O2(this._state)){case Qs.SUCCESS:iv(this._resolve.bind(null,this.snapshot))();break;case Qs.CANCELED:case Qs.ERROR:iv(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(O2(this._state)){case Qs.RUNNING:case Qs.PAUSED:i.next&&iv(i.next.bind(i,this.snapshot))();break;case Qs.SUCCESS:i.complete&&iv(i.complete.bind(i))();break;case Qs.CANCELED:case Qs.ERROR:i.error&&iv(i.error.bind(i,this._error))();break;default:i.error&&iv(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Wm{constructor(i,n){this._service=i,this._location=n instanceof Ss?n:Ss.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new Wm(i,n)}get root(){const i=new Ss(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qj(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new Ss(this._location.bucket,i);return new Wm(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw Vj(i)}}function tq(r,i,n){return N2.apply(this,arguments)}function N2(){return(N2=(0,Me.Z)(function*(r,i,n){const a=yield nq(r,{pageToken:n});i.prefixes.push(...a.prefixes),i.items.push(...a.items),null!=a.nextPageToken&&(yield tq(r,i,a.nextPageToken))})).apply(this,arguments)}function nq(r,i){return P2.apply(this,arguments)}function P2(){return(P2=(0,Me.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&S2("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=bee(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function F2(){return(F2=(0,Me.Z)(function*(r){r._throwIfRoot("getMetadata");const i=Wj(r.storage,r._location,_D());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function L2(){return(L2=(0,Me.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=wee(r.storage,r._location,i,_D());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function B2(){return(B2=(0,Me.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=vee(r.storage,r._location,_D());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw BX();return n})})).apply(this,arguments)}function V2(){return(V2=(0,Me.Z)(function*(r){r._throwIfRoot("deleteObject");const i=Cee(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function iq(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new Ss(r._location.bucket,n);return new Wm(r.storage,s)}function rq(r,i){if(r instanceof U2){const n=r;if(null==n._bucket)throw new Qi("no-default-bucket","No default bucket found. Did you set the '"+Pj+"' property when initializing the app?");const s=new Wm(n,n._bucket);return null!=i?rq(s,i):s}return void 0!==i?iq(r,i):r}function Bee(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof U2)return function(r,i){return new Wm(r,i)}(r,i);throw tv("To use ref(service, url), the first argument must be a Storage instance.")}return rq(r,i)}function sq(r,i){const n=null==i?void 0:i[Pj];return null==n?null:Ss.makeFromBucketSpec(n,r)}class U2{constructor(i,n,s,a,l,h){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=a,this._url=l,this._firebaseVersion=h,this._bucket=null,this._host=Nj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=l?Ss.makeFromBucketSpec(l,this._host):sq(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Ss.makeFromBucketSpec(this._url,i):sq(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){S2("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){S2("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Me.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Me.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Wm(this,i)}_makeRequest(i,n,s){if(this._deleted)return new GX(Bj());{const a=function(r,i,n,s,a,l){const h=Hj(r.urlParams),m=r.url+h,_=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(_,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(_,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(_,l),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(_,s),new $X(m,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(i){var n=this;return(0,Me.Z)(function*(){const[s,a]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,a)})()}}function aq(r,i){return Bee(r=(0,Wt.m9)(r),i)}(0,Fh._registerComponent)(new Lh.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new U2(n,s,a,new HX,i,Fh.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Fh.registerVersion)("@firebase/storage","0.8.2");class lk{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lq{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lk(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new lk(s,this,this._ref))},n)}on(i,n,s,a){let l;return n&&(l="function"==typeof n?h=>n(new lk(h,this,this._ref)):{next:n.next?h=>n.next(new lk(h,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,l,s||void 0,a||void 0)}}class cq{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new zu(i,this._service))}get items(){return this._delegate.items.map(i=>new zu(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class zu{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return iq(r,i)}(this._delegate,i);return new zu(n,this.storage)}get root(){return new zu(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new zu(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new lq(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new Xj(r,new pc(i),n)}(r=(0,Wt.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=Jo.RAW,s){this._throwIfRoot("putString");const a=A2(n,i),l=Object.assign({},s);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new lq(new Xj(this._delegate,new pc(a.data,!0),l),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return tq(r,i).then(()=>i)}(r=(0,Wt.m9)(r))}(this._delegate).then(i=>new cq(i,this.storage))}list(i){return function(r,i){return nq(r=(0,Wt.m9)(r),i)}(this._delegate,i||void 0).then(n=>new cq(n,this.storage))}getMetadata(){return function(r){return function(r){return F2.apply(this,arguments)}(r=(0,Wt.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return L2.apply(this,arguments)}(r=(0,Wt.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return B2.apply(this,arguments)}(r=(0,Wt.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return V2.apply(this,arguments)}(r=(0,Wt.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw Vj(i)}}class uq{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(dq(i))throw tv("ref() expected a child path but got a URL, use refFromURL instead.");return new zu(aq(this._delegate,i),this)}refFromURL(i){if(!dq(i))throw tv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ss.makeFromUrl(i,this._delegate.host)}catch(n){throw tv("refFromUrl() expected a valid full URL but got an invalid one.")}return new zu(aq(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:a}=s;a&&(r._overrideAuthToken="string"==typeof a?a:(0,Wt.Sg)(a,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function dq(r){return/^[A-Za-z]+:\/\//.test(r)}function nte(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new uq(n,s)}function hq(r){const i=function(r){return new An.y(i=>{const n=h=>i.next(h);n(r.snapshot);const l=r.on("state_changed",n);return r.then(h=>{n(h),i.complete()},h=>{n(r.snapshot),(h=>{i.error(h)})(h)}),function(){l()}}).pipe(Hc(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,b.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function ck(r){return{getDownloadURL:()=>(0,qe.of)(void 0).pipe(oi.fc,pn(()=>r.getDownloadURL()),oi.iC),getMetadata:()=>(0,qe.of)(void 0).pipe(oi.fc,pn(()=>r.getMetadata()),oi.iC),delete:()=>(0,Ln.D)(r.delete()),child:i=>ck(r.child(i)),updateMetadata:i=>(0,Ln.D)(r.updateMetadata(i)),put:(i,n)=>hq(r.put(i,n)),putString:(i,n,s)=>hq(r.putString(i,n,s)),listAll:()=>(0,Ln.D)(r.listAll())}}!function(r){const i={TaskState:Qs,TaskEvent:See,StringFormat:Jo,Storage:uq,Reference:zu};r.INTERNAL.registerComponent(new Lh.wA("storage-compat",nte,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(cm.Z);const ste=new o.OlP("angularfire2.storageBucket"),ote=new o.OlP("angularfire2.storage.maxUploadRetryTime"),ate=new o.OlP("angularfire2.storage.maxOperationRetryTime"),lte=new o.OlP("angularfire2.storage.use-emulator");let H2=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M){const A=(0,$n.on)(n,h,s);this.storage=(0,oi.cc)(`${A.name}.storage.${a}`,"AngularFireStorage",A.name,()=>{const I=h.runOutsideAngular(()=>A.storage(a||void 0)),O=M;return O&&I.useEmulator(...O),_&&I.setMaxUploadRetryTime(_),D&&I.setMaxOperationRetryTime(D),I},[_,D])}ref(n){return ck(this.storage.ref(n))}refFromURL(n){return ck(this.storage.refFromURL(n))}upload(n,s,a){return ck(this.storage.ref(n)).put(s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG($n.Dh),o.LFG($n.xv,8),o.LFG(ste,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(oi.HU),o.LFG(ote,8),o.LFG(ate,8),o.LFG(lte,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),cte=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),ute=(()=>{class r{constructor(){DG.Z.registerVersion("angularfire",oi.q4.full,"gcs-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[H2],imports:[cte]}),r})(),uk=(()=>{class r{constructor(n){this.angularFirestore=n,this.themes=[]}getThemes(){this.angularFirestore.collection("Themes").get().subscribe(n=>{this.themes=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.themes.length>0&&(this.currentTheme=this.themes[0])}getTheme(n){return this.angularFirestore.collection("Themes").doc(n).get()}addTheme(n){return this.angularFirestore.collection("Themes").add({nom:n.nom,status:n.status})}changeCurrentTheme(n){this.currentTheme=n}VideListeThemes(){this.themes.splice(0),this.currentTheme=void 0}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tf))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var At=L(4762);new o.OlP("ngx-mat-file-input.config");class dk{constructor(i,n=", "){this._files=i,this.delimiter=n,this._fileNames=(this._files||[]).map(s=>s.name).join(n)}get files(){return this._files||[]}get fileNames(){return this._fileNames}}const fte=Rh(class{constructor(i,n,s,a){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=s,this.ngControl=a}});var hk;let _i=hk=class extends fte{constructor(i,n,s,a,l,h,m){super(a,h,m,l),this.fm=i,this._elementRef=n,this._renderer=s,this._defaultErrorStateMatcher=a,this.ngControl=l,this._parentForm=h,this._parentFormGroup=m,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.accept=null,this.id="ngx-mat-file-input-"+hk.nextId++,this.describedBy="",this._onChange=_=>{},this._onTouched=()=>{},null!=this.ngControl&&(this.ngControl.valueAccessor=this),i.monitor(n.nativeElement,!0).subscribe(_=>{this.focused=!!_,this.stateChanges.next()})}setDescribedByIds(i){this.describedBy=i.join(" ")}get value(){return this.empty?null:new dk(this._elementRef.nativeElement.value||[])}set value(i){i&&(this.writeValue(i),this.stateChanges.next())}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get empty(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length}get shouldLabelFloat(){return this.focused||!this.empty||void 0!==this.valuePlaceholder}get required(){return this._required}set required(i){this._required=xe(i),this.stateChanges.next()}get isDisabled(){return this.disabled}get disabled(){return this._elementRef.nativeElement.disabled}set disabled(i){this.setDisabledState(xe(i)),this.stateChanges.next()}onContainerClick(i){"input"!==i.target.tagName.toLowerCase()&&!this.disabled&&(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())}get fileNames(){return this.value?this.value.fileNames:this.valuePlaceholder}writeValue(i){this._renderer.setProperty(this._elementRef.nativeElement,"value",i instanceof dk?i.files:null)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}clear(i){i&&(i.preventDefault(),i.stopPropagation()),this.value=new dk([]),this._elementRef.nativeElement.querySelector("input").value=null,this._onChange(this.value)}change(i){const n=i.target.files,s=[];if(n)for(let a=0;a<n.length;a++)s.push(n[a]);this.value=new dk(s),this._onChange(this.value)}blur(){this.focused=!1,this._onTouched()}setDisabledState(i){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",i)}ngOnInit(){this.multiple=xe(this.multiple)}open(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()}ngOnDestroy(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}};_i.\u0275fac=function(i){return new(i||_i)(o.Y36(Xn),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(as),o.Y36(ss,10),o.Y36(Fs,8),o.Y36(Oi,8))},_i.\u0275cmp=o.Xpm({type:_i,selectors:[["ngx-mat-file-input"]],hostVars:6,hostBindings:function(i,n){1&i&&o.NdJ("change",function(a){return n.change(a)})("focusout",function(){return n.blur()}),2&i&&(o.Ikx("id",n.id),o.uIk("aria-describedby",n.describedBy),o.ekj("mat-form-field-should-float",n.shouldLabelFloat)("file-input-disabled",n.isDisabled))},inputs:{autofilled:"autofilled",accept:"accept",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",multiple:"multiple",valuePlaceholder:"valuePlaceholder",errorStateMatcher:"errorStateMatcher"},features:[o._Bn([{provide:Iu,useExisting:hk}]),o.qOj],decls:4,vars:4,consts:[["type","file"],["input",""],[1,"filename",3,"title"]],template:function(i,n){1&i&&(o._UZ(0,"input",0,1),o.TgZ(2,"span",2),o._uU(3),o.qZA()),2&i&&(o.uIk("multiple",n.multiple?"":null)("accept",n.accept),o.xp6(2),o.Q6J("title",n.fileNames),o.xp6(1),o.Oqu(n.fileNames))},styles:["[_nghost-%COMP%]{display:inline-block;width:100%}[_nghost-%COMP%]:not(.file-input-disabled){cursor:pointer}input[_ngcontent-%COMP%]{width:0;height:0;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),_i.nextId=0,_i.ctorParameters=()=>[{type:Xn},{type:o.SBq},{type:o.Qsj},{type:as},{type:ss,decorators:[{type:o.FiY},{type:o.PiD}]},{type:Fs,decorators:[{type:o.FiY}]},{type:Oi,decorators:[{type:o.FiY}]}],(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Object)],_i.prototype,"autofilled",void 0),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",String)],_i.prototype,"valuePlaceholder",void 0),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Boolean)],_i.prototype,"multiple",void 0),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Object)],_i.prototype,"accept",void 0),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",as)],_i.prototype,"errorStateMatcher",void 0),(0,At.gn)([(0,o.pfw)(),(0,At.w6)("design:type",Object)],_i.prototype,"id",void 0),(0,At.gn)([(0,o.pfw)("attr.aria-describedby"),(0,At.w6)("design:type",Object)],_i.prototype,"describedBy",void 0),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Object),(0,At.w6)("design:paramtypes",[Object])],_i.prototype,"value",null),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Object),(0,At.w6)("design:paramtypes",[Object])],_i.prototype,"placeholder",null),(0,At.gn)([(0,o.pfw)("class.mat-form-field-should-float"),(0,At.w6)("design:type",Object),(0,At.w6)("design:paramtypes",[])],_i.prototype,"shouldLabelFloat",null),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Boolean),(0,At.w6)("design:paramtypes",[Boolean])],_i.prototype,"required",null),(0,At.gn)([(0,o.pfw)("class.file-input-disabled"),(0,At.w6)("design:type",Object),(0,At.w6)("design:paramtypes",[])],_i.prototype,"isDisabled",null),(0,At.gn)([(0,o.IIB)(),(0,At.w6)("design:type",Boolean),(0,At.w6)("design:paramtypes",[Boolean])],_i.prototype,"disabled",null),(0,At.gn)([(0,o.L6J)("change",["$event"]),(0,At.w6)("design:type",Function),(0,At.w6)("design:paramtypes",[Event]),(0,At.w6)("design:returntype",void 0)],_i.prototype,"change",null),(0,At.gn)([(0,o.L6J)("focusout"),(0,At.w6)("design:type",Function),(0,At.w6)("design:paramtypes",[]),(0,At.w6)("design:returntype",void 0)],_i.prototype,"blur",null),_i=hk=(0,At.gn)([(0,At.fM)(4,(0,o.FiY)()),(0,At.fM)(4,(0,o.PiD)()),(0,At.fM)(5,(0,o.FiY)()),(0,At.fM)(6,(0,o.FiY)()),(0,At.w6)("design:paramtypes",[Xn,o.SBq,o.Qsj,as,ss,Fs,Oi])],_i);let pte=(()=>{let r=class{};return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Xn]}),r})();var pq;!function(r){r.maxContentSize=function(s){return a=>{const l=a&&a.value?a.value.files.map(m=>m.size).reduce((m,_)=>m+_,0):0;return s>=l?null:{maxContentSize:{actualSize:l,maxSize:s}}}},r.allowedExtensions=function(s){return a=>a&&a.value&&a.value.files.every(h=>{const m=h.name.split(".");return-1!==s.indexOf(m[m.length-1])})?null:{allowedExtensions:s}}}(pq||(pq={}));var mte=L(205);class mq{}class $u{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const a=n.slice(0,s),l=a.toLowerCase(),h=n.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const a=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(n,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof $u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new $u;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof $u?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const a=("a"===i.op?this.headers.get(n):void 0)||[];a.push(...s),this.headers.set(n,a);break;case"d":const l=i.value;if(l){let h=this.headers.get(n);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,h)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class gte{encodeKey(i){return _q(i)}encodeValue(i){return _q(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const yte=/%(\d[a-f0-9])/gi,bte={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _q(r){return encodeURIComponent(r).replace(yte,(i,n)=>{var s;return null!==(s=bte[n])&&void 0!==s?s:i})}function yq(r){return`${r}`}class cf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new gte,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[h,m]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],_=n.get(h)||[];_.push(m),n.set(h,_)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{n.push({param:s,value:l,op:"a"})}):n.push({param:s,value:a,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new cf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(yq(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(yq(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class vte{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function bq(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function vq(r){return"undefined"!=typeof Blob&&r instanceof Blob}function wq(r){return"undefined"!=typeof FormData&&r instanceof FormData}class yD{constructor(i,n,s,a){let l;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new $u),this.context||(this.context=new vte),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=n;else{const m=n.indexOf("?");this.urlWithParams=n+(-1===m?"?":m<n.length-1?"&":"")+h}}else this.params=new cf,this.urlWithParams=n}serializeBody(){return null===this.body?null:bq(this.body)||vq(this.body)||wq(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wq(this.body)?null:vq(this.body)?this.body.type||null:bq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,a=i.url||this.url,l=i.responseType||this.responseType,h=void 0!==i.body?i.body:this.body,m=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,_=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let D=i.headers||this.headers,M=i.params||this.params;const A=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(D=Object.keys(i.setHeaders).reduce((I,O)=>I.set(O,i.setHeaders[O]),D)),i.setParams&&(M=Object.keys(i.setParams).reduce((I,O)=>I.set(O,i.setParams[O]),M)),new yD(s,a,h,{params:M,headers:D,context:A,reportProgress:_,responseType:l,withCredentials:m})}}var mr=(()=>((mr=mr||{})[mr.Sent=0]="Sent",mr[mr.UploadProgress=1]="UploadProgress",mr[mr.ResponseHeader=2]="ResponseHeader",mr[mr.DownloadProgress=3]="DownloadProgress",mr[mr.Response=4]="Response",mr[mr.User=5]="User",mr))();class fk extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new $u,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=mr.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new fk({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function j2(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let pk=(()=>{class r{constructor(n){this.handler=n}request(n,s,a={}){let l;if(n instanceof yD)l=n;else{let _,D;_=a.headers instanceof $u?a.headers:new $u(a.headers),a.params&&(D=a.params instanceof cf?a.params:new cf({fromObject:a.params})),l=new yD(n,s,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:D,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=(0,qe.of)(l).pipe(fh(_=>this.handler.handle(_)));if(n instanceof yD||"events"===a.observe)return h;const m=h.pipe(wt(_=>_ instanceof fk));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,b.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,b.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,b.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));case"json":default:return m.pipe((0,b.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new cf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,a={}){return this.request("PATCH",n,j2(a,s))}post(n,s,a={}){return this.request("POST",n,j2(a,s))}put(n,s,a={}){return this.request("PUT",n,j2(a,s))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(mq))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Ate=["*"];function Sq(r){return Error(`Unable to find icon with the name "${r}"`)}function xq(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function Aq(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Jm{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let mk=(()=>{class r{constructor(n,s,a,l){this._httpClient=n,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(n,s,a){return this.addSvgIconInNamespace("",n,s,a)}addSvgIconLiteral(n,s,a){return this.addSvgIconLiteralInNamespace("",n,s,a)}addSvgIconInNamespace(n,s,a,l){return this._addSvgIconConfig(n,s,new Jm(a,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,a,l){const h=this._sanitizer.sanitize(o.q3G.HTML,a);if(!h)throw Aq(a);return this._addSvgIconConfig(n,s,new Jm("",h,l))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,a){return this._addSvgIconSetConfig(n,new Jm(s,null,a))}addSvgIconSetLiteralInNamespace(n,s,a){const l=this._sanitizer.sanitize(o.q3G.HTML,s);if(!l)throw Aq(s);return this._addSvgIconSetConfig(n,new Jm("",l,a))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,n);if(!s)throw xq(n);const a=this._cachedIconsByUrl.get(s);return a?(0,qe.of)(gk(a)):this._loadSvgIconFromConfig(new Jm(n,null)).pipe((0,Zn.b)(l=>this._cachedIconsByUrl.set(s,l)),(0,b.U)(l=>gk(l)))}getNamedSvgIcon(n,s=""){const a=kq(s,n);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,n),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(s);return h?this._getSvgFromIconSetConfigs(n,h):(0,mte._)(Sq(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,qe.of)(gk(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,b.U)(s=>gk(s)))}_getSvgFromIconSetConfigs(n,s){const a=this._extractIconWithNameFromAnySet(n,s);return a?(0,qe.of)(a):H0(s.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(rl(m=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(D)),(0,qe.of)(null)})))).pipe((0,b.U)(()=>{const h=this._extractIconWithNameFromAnySet(n,s);if(!h)throw Sq(n);return h}))}_extractIconWithNameFromAnySet(n,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.indexOf(n)>-1){const h=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(h,n,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,Zn.b)(s=>n.svgText=s),(0,b.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,qe.of)(null):this._fetchIcon(n).pipe((0,Zn.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,a){const l=n.querySelector(`[id="${s}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,a);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),a);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(h),this._setSvgAttributes(m,a)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),a=n.attributes;for(let l=0;l<a.length;l++){const{name:h,value:m}=a[l];"id"!==h&&s.setAttribute(h,m)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:a,options:l}=n,h=null!==(s=null==l?void 0:l.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const m=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a);if(!m)throw xq(a);const _=this._inProgressUrlFetches.get(m);if(_)return _;const D=this._httpClient.get(m,{responseType:"text",withCredentials:h}).pipe(j_(()=>this._inProgressUrlFetches.delete(m)),(0,iY.B)());return this._inProgressUrlFetches.set(m,D),D}_addSvgIconConfig(n,s,a){return this._svgIconConfigs.set(kq(n,s),a),this}_addSvgIconSetConfig(n,s){const a=this._iconSetConfigs.get(n);return a?a.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,n);if(l)return Rte(l)?new Jm(l.url,null,l.options):new Jm(l,null)}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(pk,8),o.LFG(Ao),o.LFG(Z,8),o.LFG(o.qLn))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(pk,8),o.LFG(Ao),o.LFG(Z,8),o.LFG(o.qLn))},token:r,providedIn:"root"}),r})();function gk(r){return r.cloneNode(!0)}function kq(r,i){return r+":"+i}function Rte(r){return!(!r.url||!r.options)}const Ote=qs(class{constructor(r){this._elementRef=r}}),Nte=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,o.f3M)(Z),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),Iq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lte=Iq.map(r=>`[${r}]`).join(", "),Bte=/^url\(['"]?#(.*?)['"]?\)$/;let Qm=(()=>{class r extends Ote{constructor(n,s,a,l,h){super(n),this._iconRegistry=s,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=xt.w.EMPTY,a||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=xe(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let l=0;l<s.length;l++)s[l].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=n.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&n.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(h=>{l.setAttribute(h.name,`url('${n}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(Lte),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)Iq.forEach(h=>{const m=s[l],_=m.getAttribute(h),D=_?_.match(Bte):null;if(D){let M=a.get(m);M||(M=[],a.set(m,M)),M.push({name:h,value:D[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,a]=this._splitIconName(n);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(P(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mk),o.$8M("aria-hidden"),o.Y36(Nte),o.Y36(o.qLn))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(o.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),o.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:Ate,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),Rq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke],Ke]}),r})();const Vte=["primaryValueBar"],Ute=qs(class{constructor(r){this._elementRef=r}},"primary"),Hte=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,o.f3M)(Z),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let Yte=0,$2=(()=>{class r extends Ute{constructor(n,s,a,l){super(n),this._ngZone=s,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=xt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Yte++;const h=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(n){this._value=Oq(qt(n)||0)}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=Oq(n||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=On(n,"transitionend").pipe(wt(s=>s.target===n)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(In,8),o.Y36(Hte,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(n,s){if(1&n&&o.Gf(Vte,5),2&n){let a;o.iGM(a=o.CRH())&&(s._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,s){2&n&&(o.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),o.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&n&&(o.xp6(3),o.Q6J("id",s.progressbarId),o.xp6(2),o.uIk("fill",s._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",s._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",s._primaryTransform()))},directives:[aa],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function Oq(r,i=0,n=100){return Math.max(i,Math.min(n,r))}let jte=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,Ke],Ke]}),r})();function qte(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function Zte(r,i){if(1&r&&o._UZ(0,"mat-progress-bar",14),2&r){const n=o.oxw(2);o.Q6J("value",n.uploadPercent)}}function zte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2,"Vous voulez joindre une photo ?"),o.qZA(),o.TgZ(3,"mat-form-field",5),o.TgZ(4,"ngx-mat-file-input",11),o.NdJ("change",function(a){return o.CHM(n),o.oxw().onUpload(a)}),o.qZA(),o.TgZ(5,"mat-icon",12),o._uU(6,"folder"),o.qZA(),o.YNc(7,qte,2,1,"mat-error",2),o.qZA(),o.YNc(8,Zte,1,1,"mat-progress-bar",13),o.qZA()}if(2&r){const n=o.oxw();let s;o.xp6(7),o.Q6J("ngIf",null==n.form||null==(s=n.form.get("photo"))?null:s.hasError("maxSize")),o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function $te(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("legende"))}}function Wte(r,i){if(1&r&&(o.TgZ(0,"mat-form-field",5),o._UZ(1,"input",15),o.TgZ(2,"div",7),o.YNc(3,$te,2,1,"mat-error",8),o.qZA(),o.qZA()),2&r){const n=o.oxw();o.xp6(3),o.Q6J("ngIf",null==n.form||null==n.form.controls||null==n.form.controls.legende?null:n.form.controls.legende.hasError("required"))}}function Jte(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Qte(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Kte(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function Xte(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function ene(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function tne(r,i){1&r&&(o.TgZ(0,"div",17),o.TgZ(1,"button",18),o._uU(2,"Valider"),o.qZA(),o.qZA())}let _k=(()=>{class r{constructor(n,s,a,l,h,m,_){var D;this.formBuilder=n,this.angularFireStorage=s,this.themesService=a,this.authService=l,this.articlesService=h,this.location=m,this.breakpointObserver=_,this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.maxSize=1e8,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,b.U)(M=>M.matches)),this.form=this.formBuilder.group({photo:[{value:null===(D=this.article)||void 0===D?void 0:D.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],legende:["",[_t.maxLength(50)]],titre:["",[_t.required,_t.maxLength(60)]],texte:["",[_t.required,_t.minLength(20),_t.maxLength(6500)]]})}ngOnInit(){var n,s,a,l,h,m;this.initForm(),null!=(null===(n=this.article)||void 0===n?void 0:n.photo)&&(this.downloadURL=null===(s=this.article)||void 0===s?void 0:s.photo),this.form.controls.photo.setValue(this.downloadURL),this.form.controls.legende.setValue(null===(a=this.article)||void 0===a?void 0:a.legende),this.form.controls.titre.setValue(null===(l=this.article)||void 0===l?void 0:l.titre),this.form.controls.texte.setValue(null===(h=this.article)||void 0===h?void 0:h.texte),this.isFileAttached=""!==(null===(m=this.article)||void 0===m?void 0:m.photo)}initForm(){}getErrorMessage(n){var s,a,l,h,m,_,D,M,A;let I="";switch(n){case"photo":(null===(s=this.form)||void 0===s?void 0:s.controls.photo.touched)&&(I=(null===(a=this.form)||void 0===a?void 0:a.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(l=this.form)||void 0===l?void 0:l.controls.titre.touched)&&((null===(h=this.form)||void 0===h?void 0:h.controls.titre.hasError("required"))&&(I="Vous devez saisir un titre."),(null===(m=this.form)||void 0===m?void 0:m.controls.titre.hasError("maxlength"))&&(I="Le titre ne doit pas comporter plus de 60 caract\xe8res."));break;case"texte":(null===(_=this.form)||void 0===_?void 0:_.controls.texte.touched)&&((null===(D=this.form)||void 0===D?void 0:D.controls.texte.hasError("required"))&&(I="Vous devez saisir un texte."),(null===(M=this.form)||void 0===M?void 0:M.controls.texte.hasError("minlength"))&&(I="Le texte doit comporter plus de 20 caract\xe8res."),(null===(A=this.form)||void 0===A?void 0:A.controls.texte.hasError("maxlength"))&&(I="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return I}onSubmit(){var n,s,a,l,h,m,_,D,M;null!=this.article&&(this.article.titre=null===(s=null===(n=this.form)||void 0===n?void 0:n.get("titre"))||void 0===s?void 0:s.value),null!=this.article&&(this.article.texte=null===(l=null===(a=this.form)||void 0===a?void 0:a.get("texte"))||void 0===l?void 0:l.value),null!=this.article&&(this.article.idTheme=null===(h=this.themesService.currentTheme)||void 0===h?void 0:h.id),null!=this.article&&(this.article.photo=this.downloadURL),null!=this.article&&(this.article.legende=null===(_=null===(m=this.form)||void 0===m?void 0:m.get("legende"))||void 0===_?void 0:_.value),""===(null===(D=this.article)||void 0===D?void 0:D.id)?(this.article.auteur=null===(M=this.authService.getCurrentUser())||void 0===M?void 0:M.uid,this.articlesService.addArticle(this.article).then(A=>{alert("Merci pour cet article qui sera tr\xe9s prochainement publi\xe9.")})):this.articlesService.updateArticle(this.article).then(A=>{}),this.location.back()}onUpload(n){const s=n.target.files[0],a="Images/",l=this.angularFireStorage.ref(a),h=this.angularFireStorage.upload(a,s);h.percentageChanges().subscribe(m=>{this.uploadPercent=m}),h.snapshotChanges().pipe(j_(()=>l.getDownloadURL().subscribe(m=>{this.downloadURL=m})))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(H2),o.Y36(uk),o.Y36(jr),o.Y36(qu),o.Y36(Ut),o.Y36(ek))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-article-form"]],inputs:{article:"article"},features:[o._Bn([D2])],decls:20,vars:10,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["alt","",1,"img",3,"src"],["class","full-width",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","rows","25","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",1,"photo-input",3,"change"],["matSuffix",""],["mode","determinate",3,"value",4,"ngIf"],["mode","determinate",3,"value"],["matInput","","formControlName","legende","placeholder","L\xe9gende"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(n,s){if(1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,zte,9,2,"div",2),o.TgZ(3,"div"),o._UZ(4,"img",3),o.qZA(),o.YNc(5,Wte,4,1,"mat-form-field",4),o.TgZ(6,"mat-form-field",5),o._UZ(7,"input",6),o.TgZ(8,"div",7),o.YNc(9,Jte,2,1,"mat-error",8),o.YNc(10,Qte,2,1,"mat-error",8),o.qZA(),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"mat-form-field",5),o.TgZ(13,"textarea",9),o._uU(14,"      "),o.qZA(),o.TgZ(15,"div",7),o.YNc(16,Kte,2,1,"mat-error",8),o.YNc(17,Xte,2,1,"mat-error",8),o.YNc(18,ene,2,1,"mat-error",8),o.qZA(),o.qZA(),o.YNc(19,tne,3,0,"div",10),o.qZA(),o.qZA()),2&n){let a,l,h,m,_;o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",0==s.isFileAttached),o.xp6(2),o.s9C("src",null==s.article?null:s.article.photo,o.LSH),o.xp6(1),o.Q6J("ngIf",s.fileUploaded),o.xp6(4),o.Q6J("ngIf",null==s.form||null==(a=s.form.get("titre"))||null==a.errors?null:a.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(l=s.form.get("titre"))||null==l.errors?null:l.errors.maxlength),o.xp6(6),o.Q6J("ngIf",null==s.form||null==(h=s.form.get("texte"))||null==h.errors?null:h.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(m=s.form.get("texte"))||null==m.errors?null:m.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(_=s.form.get("texte"))||null==_.errors?null:_.errors.maxlength),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&(null==s.form?null:s.form.valid))}},directives:[k_,nl,Oi,ht,Ru,cl,Vo,tl,Da,_i,Qm,Wy,ku,$2,Zr],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:20%;max-height:15%;align-content:left}.photo-input[_ngcontent-%COMP%]{border:thin;border-color:#fff;width:10%;background-color:#fff;color:#000}.file-input[_ngcontent-%COMP%]{color:#000}"]}),r})();function nne(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un article."),o.qZA())}function ine(r,i){if(1&r&&o._UZ(0,"app-article-form",2),2&r){const n=o.oxw();o.Q6J("article",n.article)}}let rne=(()=>{class r{constructor(n,s){var a;this.globalService=n,this.authService=s,this.article=new wX("","","","",(new Date).toJSON(),"","","",null===(a=this.authService.getCurrentUser())||void 0===a?void 0:a.uid,"",0)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(jr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-article"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"article",4,"ngIf"],[3,"article"]],template:function(n,s){1&n&&(o.YNc(0,nne,2,0,"h4",0),o.YNc(1,ine,1,1,"app-article-form",1)),2&n&&(o.Q6J("ngIf",s.article),o.xp6(1),o.Q6J("ngIf",s.article))},directives:[ht,_k],styles:[""]}),r})();function sne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddArticle()}),o._uU(1," Ajouter un article sur ce th\xe8me.\n"),o.qZA()}}function one(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"img",5),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw(2).onZoom(a)}),o.qZA()}if(2&r){const n=o.oxw().$implicit;o.s9C("src",n.photo2,o.LSH)}}function ane(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw(2).onEdit(a)}),o._uU(1,"Modifier l'article"),o.qZA()}}function lne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card",4),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"img",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onZoom(l)}),o.qZA(),o.YNc(5,one,1,1,"img",6),o.TgZ(6,"mat-card-subtitle"),o._uU(7),o.qZA(),o.TgZ(8,"div"),o.TgZ(9,"h2"),o.TgZ(10,"pre"),o._uU(11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",7),o.YNc(13,ane,2,0,"button",8),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw(2);o.xp6(3),o.AsE("",n.titre," (par : ",n.nomAuteur,") (Cliquez sur la photo pour l'agrandir.)"),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(1),o.Q6J("ngIf",n.photo2),o.xp6(2),o.Oqu(n.legende),o.xp6(4),o.Oqu(n.texte),o.xp6(2),o.Q6J("ngIf",s.canWrite)}}function cne(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,lne,14,7,"div",3),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==n.themesService.currentTheme?null:n.themesService.currentTheme.articles)}}function une(r,i){if(1&r&&o._UZ(0,"img",1),2&r){const n=o.oxw();o.s9C("src",n.image2,o.LSH)}}let dne=(()=>{class r{constructor(n,s,a,l,h,m){this.globalService=n,this.themesService=s,this.articlesService=a,this.authService=l,this.router=h,this.matDialog=m,this.isConnected=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ol(1)).subscribe(_=>{if(null!=_){const D=_.status;null!=D&&(D&ai.valide)==ai.valide&&(this.isConnected=!0),this.isConnected?(this.canWrite=!1,this.canWrite=null!=D&&(D&Vt.editArticle)==Vt.editArticle):this.canWrite=!1}}),l.emitUserChanged()}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}onEdit(n){this.router.navigate(["app-edit-article/",n.id])}onAddArticle(){this.router.navigate(["app-add-article"])}onZoom(n){this.articlesService.currentArticle=n,this.matDialog.open(Nq,{height:"90%",width:"60%"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(uk),o.Y36(qu),o.Y36(jr),o.Y36(zn),o.Y36(ic))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-articles"]],decls:4,vars:3,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","color","accent",3,"click"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res","height","250px",2,"margin","25px",3,"src","click"],["alt","Photo de Mori\xe8res","style","margin: 25px;","height","250px",3,"src","click",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h2"),o._uU(1),o.qZA(),o.YNc(2,sne,2,0,"button",0),o.YNc(3,cne,2,1,"div",1)),2&n&&(o.xp6(1),o.hij("Articles sur le th\xe8me : [",null==s.themesService.currentTheme?null:s.themesService.currentTheme.nom,"]"),o.xp6(1),o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngIf",null==s.themesService.currentTheme?null:s.themesService.currentTheme.articles))},directives:[ht,Zr,bt,$m,zm,Kb],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:24%;max-height:30%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:5px}"]}),r})(),Nq=(()=>{class r{constructor(n,s){var a,l,h,m,_;this.globalService=n,this.articlesService=s,this.sousTitre="",this.image=null===(a=s.currentArticle)||void 0===a?void 0:a.photo,this.image2=null===(l=s.currentArticle)||void 0===l?void 0:l.photo2,this.legende=null===(h=s.currentArticle)||void 0===h?void 0:h.legende,this.texte=null===(m=s.currentArticle)||void 0===m?void 0:m.texte,this.titre=null===(_=s.currentArticle)||void 0===_?void 0:_.titre}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wo),o.Y36(qu))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-dialog-maximise-article-image"]],decls:17,vars:6,consts:[[1,"card"],["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-card-image","","dialog-img","","alt","Article","class","dialog-img",3,"src",4,"ngIf"],["mat-button-accent","","mat-dialog-close",""]],template:function(n,s){1&n&&(o.TgZ(0,"mat-card",0),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.qZA(),o._UZ(6,"img",1),o.YNc(7,une,1,1,"img",2),o.TgZ(8,"mat-card-content"),o._uU(9),o.qZA(),o.TgZ(10,"mat-card-content"),o.TgZ(11,"pre"),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"mat-card-actions"),o.TgZ(14,"div"),o.TgZ(15,"button",3),o._uU(16,"Fermer"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Oqu(s.titre),o.xp6(2),o.Oqu(s.sousTitre),o.xp6(1),o.s9C("src",s.image,o.LSH),o.xp6(1),o.Q6J("ngIf",s.image2),o.xp6(2),o.hij(" ",s.legende," "),o.xp6(3),o.hij("            ",s.texte,"\n        "))},directives:[$m,g2,zm,Kb,m2,ht,Qb,zA,Zi],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),r})();function hne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function fne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function pne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}function mne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}function gne(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}let Pq=(()=>{class r{constructor(n,s,a,l){this.authService=n,this.formBuilder=s,this.dialogRef=a,this.data=l,this.signinForm=this.formBuilder.group({email:["",[_t.required,_t.email]],password:["",[_t.required,_t.minLength(5),_t.maxLength(20)]]}),this.errorMessage="",this.hide=!0}ngOnInit(){}save(){this.dialogRef.close(this.signinForm.value)}close(){this.dialogRef.close()}getErrorMessage(n){let s="";switch(n){case"email":if(null!=this.signinForm&&this.signinForm.get("email").hasError("required")){s="Vous devez saisir une adresse email. ";break}if(null!=this.signinForm&&this.signinForm.get("email").hasError("email")){s="L'adresse saisie n'est pas valide.";break}break;case"password":if(null!=this.signinForm&&this.signinForm.controls.password.hasError("required")){s="Vous devez saisir un mot de passe. ";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("minlength")){s="Vous devez saisir un mot de passe comportant au moins 5 caract\xe8res";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("maxlength")){s="Vous devez saisir un mot de passe comportant au plus 20 caract\xe8res";break}}return s}onMotDePasseOublie(){null!=this.signinForm&&!0===this.signinForm.get("email").valid?this.authService.ForgotPassword(this.signinForm.get("email").value):alert("Merci de saisir l'adresse mail avec laquelle vous avez cr\xe9\xe9 votre compte.")}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(jr),o.Y36(il),o.Y36(nc),o.Y36(Nh))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-sign-in"]],decls:24,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Email","formControlName","email"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Mot de passe","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"h2",0),o._uU(1,"Connexion"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field",2),o._UZ(4,"input",3),o.TgZ(5,"div",4),o.YNc(6,hne,2,1,"mat-error",5),o.YNc(7,fne,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",2),o._UZ(9,"input",6),o.TgZ(10,"button",7),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(11,"mat-icon"),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.YNc(14,pne,2,1,"mat-error",5),o.YNc(15,mne,2,1,"mat-error",5),o.YNc(16,gne,2,1,"mat-error",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"mat-dialog-actions"),o.TgZ(18,"button",8),o.NdJ("click",function(){return s.save()}),o._uU(19,"Ok"),o.qZA(),o.TgZ(20,"button",9),o.NdJ("click",function(){return s.close()}),o._uU(21,"Annuler"),o.qZA(),o.TgZ(22,"button",9),o.NdJ("click",function(){return s.onMotDePasseOublie()}),o._uU(23,"Mot de passe oubli\xe9 ?"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("formGroup",s.signinForm),o.xp6(4),o.Q6J("ngIf",s.signinForm.get("email").hasError("email")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("email").hasError("required")),o.xp6(2),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signinForm.get("password").hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("password").hasError("minlength")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("password").hasError("maxlength")))},directives:[YN,om,nl,Oi,Ru,cl,Vo,tl,Da,ht,Zr,Wy,Qm,am,ku],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),r})();function _ne(r,i){return n=>{const a=n.controls[i];a.errors&&!a.errors.mustMatch||a.setErrors(n.controls[r].value!==a.value?{mustMatch:!0}:null)}}function yne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function bne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function vne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function wne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function Cne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function Dne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function Mne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password1"))}}function Tne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password1"))}}function Ene(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password2"))}}function Sne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password2"))}}let Fq=(()=>{class r{constructor(n,s){this.formBuilder=n,this.dialogRef=s,this.signupForm=this.formBuilder.group({nom:["",[_t.required,_t.minLength(5),_t.maxLength(25)]],prenom:["",[_t.required,_t.minLength(3),_t.maxLength(25)]],email:["",[_t.required,_t.email]],password1:["",[_t.required,_t.minLength(5),_t.maxLength(20)]],password2:["",[_t.required,_t.minLength(5),_t.maxLength(20)]]},{validator:_ne("password1","password2")}),this.errorMessage="",this.hide=!0}ngOnInit(){}initForm(){}close(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.signupForm.value)}getErrorMessage(n){let s="";switch(n){case"nom":this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("required")&&(s="Vous devez saisir votre nom"),(this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("minlength")||this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("maxlength"))&&(s="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("required")&&(s="Vous devez saisir votre pr\xe9nom"),(this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("minlength")||this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("maxlength"))&&(s="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("required")&&(s="Vous devez saisir une adresse email"),this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("email")&&(s="L'adresse saisie n'est pas valide.");break;case"password1":this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return s}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(nc))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-sign-up"]],decls:41,vars:20,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Mot de passe","formControlName","password1","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirmer le mot de passe","formControlName","password2","autocomplete","current-password",3,"type"],["mat-button","","mat-dialog-close","true",3,"disabled","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2),o.TgZ(3,"div",3),o.YNc(4,yne,2,1,"mat-error",4),o.YNc(5,bne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"mat-form-field",1),o._UZ(8,"input",5),o.TgZ(9,"div",3),o.YNc(10,vne,2,1,"mat-error",4),o.YNc(11,wne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",1),o._UZ(14,"input",6),o.TgZ(15,"div",3),o.YNc(16,Cne,2,1,"mat-error",4),o.YNc(17,Dne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(18,"br"),o.TgZ(19,"mat-form-field",1),o._UZ(20,"input",7),o.TgZ(21,"button",8),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(22,"mat-icon"),o._uU(23),o.qZA(),o.qZA(),o.TgZ(24,"div",3),o.YNc(25,Mne,2,1,"mat-error",4),o.YNc(26,Tne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"mat-form-field",1),o._UZ(29,"input",9),o.TgZ(30,"button",8),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(31,"mat-icon"),o._uU(32),o.qZA(),o.qZA(),o.TgZ(33,"div",3),o.YNc(34,Ene,2,1,"mat-error",4),o.YNc(35,Sne,2,1,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(36,"mat-dialog-actions"),o.TgZ(37,"button",10),o.NdJ("click",function(){return s.onSave()}),o._uU(38,"Ok"),o.qZA(),o.TgZ(39,"button",11),o._uU(40,"Annuler"),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.signupForm),o.xp6(4),o.Q6J("ngIf",(s.signupForm.controls.nom.hasError("minlength")||s.signupForm.controls.nom.hasError("maxlength"))&&!s.signupForm.controls.nom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.nom.hasError("required")),o.xp6(5),o.Q6J("ngIf",(s.signupForm.controls.prenom.hasError("minlength")||s.signupForm.controls.prenom.hasError("maxlength"))&&!s.signupForm.controls.prenom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.prenom.hasError("required")),o.xp6(5),o.Q6J("ngIf",s.signupForm.controls.email.hasError("email")&&!s.signupForm.controls.email.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.email.hasError("required")),o.xp6(3),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password1")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signupForm.controls.password1.hasError("minLength")&&!s.signupForm.controls.password1.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.password1.hasError("required")),o.xp6(3),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password2")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signupForm.controls.password2.hasError("minLength")&&!s.signupForm.controls.password2.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.password2.hasError("required")),o.xp6(2),o.Q6J("disabled",s.signupForm.invalid))},directives:[om,nl,Oi,Ru,cl,Vo,tl,Da,ht,Zr,Wy,Qm,am,Zi,ku],styles:[""]}),r})();function xne(r,i){if(1&r&&(o.TgZ(0,"mat-error",7),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij(" ",n.getErrorMessage("message")," ")}}let Lq=(()=>{class r{constructor(n,s,a){this.formBuilder=n,this.matDialogRef=s,this.data=a,this.messageForm=this.formBuilder.group({message:["",[_t.required,_t.maxLength(150)]]}),this.errorMessage="",this.email=a.email}close(){this.matDialogRef.close()}save(){"VALID"==this.messageForm.status?this.matDialogRef.close(this.messageForm.value):alert("Saisie invalide.")}getErrorMessage(n){let s="";switch(n){case"message":this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("required")&&(s="Vous devez saisir un message"),this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("maxlength")&&(s="Le message doit comporter au maximum 150 caract\xe8res")}return s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(nc),o.Y36(Nh))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-messages"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","cols","50","rows","3","formControlName","message","placeholder","Message"],["class","error-message",4,"ngIf"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"h2",0),o._uU(1,"Message :"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o._uU(3),o.TgZ(4,"mat-form-field",2),o.TgZ(5,"mat-label"),o._uU(6,"Ecrivez ici v\xf4tre message."),o.qZA(),o._UZ(7,"textarea",3),o.TgZ(8,"div"),o.YNc(9,xne,2,1,"mat-error",4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-dialog-actions"),o.TgZ(11,"button",5),o.NdJ("click",function(){return s.save()}),o._uU(12,"Ok"),o.qZA(),o.TgZ(13,"button",6),o.NdJ("click",function(){return s.close()}),o._uU(14,"Annuler"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("formGroup",s.messageForm),o.xp6(1),o.hij(" ",s.email," "),o.xp6(6),o.Q6J("ngIf",s.messageForm.controls.message.hasError("maxlength")||s.messageForm.controls.message.hasError("required")))},directives:[YN,om,nl,Oi,Ru,ZC,cl,Vo,tl,Da,ht,am,ku],styles:["mat-label[_ngcontent-%COMP%]{color:#ff0;font-size:large}"]}),r})();function Bq(r){return i=>i.lift(new Ane(r))}class Ane{constructor(i){this.value=i}call(i,n){return n.subscribe(new kne(i,this.value))}}class kne extends Ci.L{constructor(i,n){super(i),this.value=n}_next(i){this.destination.next(this.value)}}const yk=["*"];function Ine(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(n),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function Rne(r,i){1&r&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const One=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Nne=["mat-drawer","mat-drawer-content","*"];function Pne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(n),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function Fne(r,i){1&r&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const Lne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Bne=["mat-sidenav","mat-sidenav-content","*"],Vq=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",Uq={transformDrawer:fi("transform",[Yt("open, open-instant",$e({transform:"none",visibility:"visible"})),Yt("void",$e({"box-shadow":"none",visibility:"hidden"})),on("void => open-instant",dn("0ms")),on("void <=> open, open-instant => void",dn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Vne=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),W2=new o.OlP("MAT_DRAWER_CONTAINER");let bk=(()=>{class r extends Nl{constructor(n,s,a,l,h){super(a,l,h),this._changeDetectorRef=n,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>Gq)),o.Y36(o.SBq),o.Y36(Za),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,s){2&n&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:yk,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),Hq=(()=>{class r{constructor(n,s,a,l,h,m,_){this._elementRef=n,this._focusTrapFactory=s,this._focusMonitor=a,this._platform=l,this._ngZone=h,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new pe.xQ,this._animationEnd=new pe.xQ,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(wt(D=>D),(0,b.U)(()=>{})),this.openedStart=this._animationStarted.pipe(wt(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),Bq(void 0)),this._closedStream=this.openedChange.pipe(wt(D=>!D),(0,b.U)(()=>{})),this.closedStart=this._animationStarted.pipe(wt(D=>D.fromState!==D.toState&&"void"===D.toState),Bq(void 0)),this._destroyed=new pe.xQ,this.onPositionChanged=new o.vpe,this._modeChanged=new pe.xQ,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{On(this._elementRef.nativeElement,"keydown").pipe(wt(D=>27===D.keyCode&&!this.disableClose&&!Hn(D)),Be(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(bn((D,M)=>D.fromState===M.fromState&&D.toState===M.toState)).subscribe(D=>{const{fromState:M,toState:A}=D;(0===A.indexOf("open")&&"void"===M||"void"===A&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(n){(n="end"===n?"end":"start")!=this._position&&(this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=xe(n)}get autoFocus(){const n=this._autoFocus;return null==n?"side"!==this.mode:n}set autoFocus(n){this._autoFocus=xe(n)}get opened(){return this._opened}set opened(n){this.toggle(xe(n))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var n;const s=null===(n=this._doc)||void 0===n?void 0:n.activeElement;return!!s&&this._elementRef.nativeElement.contains(s)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(n=!this.opened,s){return this._setOpen(n,!n&&this._isFocusWithinDrawer(),s)}_setOpen(n,s,a="program"){return this._opened=n,n?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=a):(this._animationState="void",s&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(P(1)).subscribe(h=>l(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(n){this._animationStarted.next(n)}_animationDoneListener(n){this._animationEnd.next(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Bg),o.Y36(Xn),o.Y36(kt),o.Y36(o.R0b),o.Y36(Z,8),o.Y36(W2,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,s){1&n&&o.WFA("@transform.start",function(l){return s._animationStartListener(l)})("@transform.done",function(l){return s._animationDoneListener(l)}),2&n&&(o.uIk("align",null),o.d8E("@transform",s._animationState),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:yk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Nl],encapsulation:2,data:{animation:[Uq.transformDrawer]},changeDetection:0}),r})(),Gq=(()=>{class r{constructor(n,s,a,l,h,m=!1,_){this._dir=n,this._element=s,this._ngZone=a,this._changeDetectorRef=l,this._animationMode=_,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new pe.xQ,this._doCheckSubject=new pe.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new pe.xQ,n&&n.change.pipe(Be(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(Be(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=xe(n)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(n){this._backdropOverride=null==n?null:xe(n)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe($t(this._allDrawers),Be(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe($t(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Hc(10),Be(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();n+=a,s-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();s+=a,n-=a}n=n||null,s=s||null,(n!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:n,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(wt(s=>s.fromState!==s.toState),Be(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==n.mode&&n.openedChange.pipe(Be(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){!n||n.onPositionChanged.pipe(Be(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(P(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(Be((0,kn.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){const s=this._element.nativeElement.classList,a="mat-drawer-container-has-open";n?s.add(a):s.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{"end"==n.position?this._end=n:this._start=n}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._canHaveBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(n){return"side"!==n.mode||!!this._backdropOverride}_isDrawerOpen(n){return null!=n&&n.opened}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(mn,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(ir),o.Y36(Vne),o.Y36(In,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,bk,5),o.Suo(a,Hq,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._content=l.first),o.iGM(l=o.CRH())&&(s._allDrawers=l)}},viewQuery:function(n,s){if(1&n&&o.Gf(bk,5),2&n){let a;o.iGM(a=o.CRH())&&(s._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:W2,useExisting:r}])],ngContentSelectors:Nne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,s){1&n&&(o.F$t(One),o.YNc(0,Ine,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Rne,2,0,"mat-drawer-content",1)),2&n&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[ht,bk],styles:[Vq],encapsulation:2,changeDetection:0}),r})(),J2=(()=>{class r extends bk{constructor(n,s,a,l,h){super(n,s,a,l,h)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>jq)),o.Y36(o.SBq),o.Y36(Za),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,s){2&n&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:yk,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),Yq=(()=>{class r extends Hq{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(n){this._fixedInViewport=xe(n)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(n){this._fixedTopGap=qt(n)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(n){this._fixedBottomGap=qt(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,s){2&n&&(o.uIk("align",null),o.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:yk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Nl],encapsulation:2,data:{animation:[Uq.transformDrawer]},changeDetection:0}),r})(),jq=(()=>{class r extends Gq{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,J2,5),o.Suo(a,Yq,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._content=l.first),o.iGM(l=o.CRH())&&(s._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:W2,useExisting:r}]),o.qOj],ngContentSelectors:Bne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(n,s){1&n&&(o.F$t(Lne),o.YNc(0,Pne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Fne,2,0,"mat-sidenav-content",1)),2&n&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[ht,J2,Nl],styles:[Vq],encapsulation:2,changeDetection:0}),r})(),Hne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,Ke,Yf,rr],rr,Ke]}),r})(),qq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke],Ke]}),r})();const Q2=["*"],Zq=ar(os(class{})),$q=new o.OlP("MatNavList");let Wne=(()=>{class r extends Zq{constructor(){super(...arguments),this._stateChanges=new pe.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:$q,useExisting:r}]),o.qOj,o.TTD],ngContentSelectors:Q2,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),tie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Yy,go,Ke,BC,Kt],Yy,Ke,BC,qq]}),r})();const nie=["*",[["mat-toolbar-row"]]],iie=["*","mat-toolbar-row"],rie=qs(class{constructor(r){this._elementRef=r}});let sie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),oie=(()=>{class r extends rie{constructor(n,s,a){super(n),this._platform=s,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(kt),o.Y36(Z))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,sie,5),2&n){let l;o.iGM(l=o.CRH())&&(s._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:iie,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(nie),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),aie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke],Ke]}),r})();function lie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){return o.CHM(n),o.oxw().onMessage()}),o._uU(1,"Envoyer un message."),o.qZA()}}function cie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onListeArticles(l)}),o._uU(1),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(1),o.Oqu(n.nom)}}function uie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onNewCompteDialog()}),o._uU(1," Cr\xe9er mon compte "),o.qZA()}}function die(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onConnectWidthGoogleDialog()}),o._uU(1," Me connecter via mon compte Google "),o.qZA()}}function hie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(n),o.oxw().onConnectDialog()}),o._uU(1," Me connecter "),o.qZA()}}function fie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDisconnectDialog()}),o._uU(1," Me d\xe9connecter "),o.qZA()}}function pie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAdmin()}),o._uU(1," Administration "),o.qZA()}}let Kq=(()=>{class r{constructor(n,s,a,l,h,m,_,D){this.router=n,this.dialog=s,this.breakpointObserver=a,this.globalService=l,this.messagesService=h,this.themesService=m,this.articlesService=_,this.authService=D,this.userMail="Visiteur",this.userPassword="",this.isAdmin=!1,this.isAuth=!1,this.showFiller=!1,this.isHandset$=this.breakpointObserver.observe(fc_Small).pipe((0,b.U)(M=>M.matches)),this.userSubscription=this.authService.authSubject.subscribe(M=>{let A=0;null!=M||null!=M?("Visiteur"!=M.email?(this.userMail=null==M?void 0:M.email,this.isAuth=!0):(this.userMail="Visiteur",this.isAuth=!1),A=M.status):(this.isAuth=!1,this.userMail="D\xe9connect\xe9"),this.isAdmin=(A&Vt.editArticle)===Vt.editArticle}),this.themesService.getThemes()}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}onGoAccueil(){this.router.navigate(["app-acceuil"])}onClickAlbum(n,s){}onOpenPdf(){this.router.navigate(["app-liste-pdf"])}onListeArticles(n){this.themesService.changeCurrentTheme(n),this.articlesService.getArticlesDuTheme(this.themesService.currentTheme),this.router.navigate(["app-liste-articles"])}onEditAlbum(n,s){this.router.navigate(["app-album"],{queryParams:{debut:n,fin:s}})}onEditArticle(n){}onNewCompteDialog(){const n=new ei;n.disableClose=!0,n.autoFocus=!0,n.width="500px";const s=this.dialog.open(Fq);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(a=>{if(void 0!==a){const l=new vu("","",a.nom,a.prenom,a.email,!1,ai.initial);this.authService.createNewUser(l,a.password1)}},a=>{console.log(a)})}onConnectWidthGoogleDialog(){this.authService.connectWidthGoogle()}onConnectDialog(){const n=new ei;n.disableClose=!0,n.autoFocus=!0,n.width="400px",n.data={email:this.userMail,password:this.userPassword};const s=this.dialog.open(Pq,n);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(a=>{let l;void 0!==a&&void 0!==a.email&&void 0!==a.password&&this.authService.SignInUser(a.email,a.password).then(h=>{l=h})},a=>{console.log(a)})}onDisconnectDialog(){this.authService.SignOut(),this.router.navigate(["app-accueil"])}onMessage(){var n;const s=new ei;s.disableClose=!0,s.autoFocus=!0,s.width="450px",s.data={email:null===(n=this.authService.getCurrentUser())||void 0===n?void 0:n.email};const a=this.dialog.open(Lq,s);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=a.afterClosed().subscribe(l=>{if(l&&l.message){const h=new kj(new Date,s.data.email,l.message,!1,"");this.messagesService.addMessage(h)}},l=>{console.log(l)})}onAdmin(){this.router.navigate(["app-home-administration"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(zn),o.Y36(ic),o.Y36(ek),o.Y36(Wo),o.Y36(C2),o.Y36(uk),o.Y36(qu),o.Y36(jr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-frame"]],decls:101,vars:17,consts:[[1,"sidenav-container"],["fixedInViewport","true",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-raised-button","",3,"click"],["aria-hidden","false","aria-label","Accueil"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["href","http://www.ville-moriereslesavignon.fr/","target","_blank"],["href","https://fr.wikipedia.org/wiki/Mori%C3%A8res-l%C3%A8s-Avignon","target","_blank"],["href","https://fr.wikipedia.org/wiki/Jean-Charles_de_Folard","target","_blank"],["href","https://fr.wikipedia.org/wiki/Agricol_Perdiguier","target","_blank"],["href","https://www.petit-patrimoine.com/fiche-petit-patrimoine.php?id_pp=84081_1","target","_blank"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Menu lat\xe9ral"],[1,"titre"],[1,"button-row"],["class","button","mat-raised-button","",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"button"],["mat-raised-button","",1,"button",3,"click"],["mat-raised-button","","color","accent",1,"button",3,"click"],["mat-raised-button","","color","warn",1,"button",3,"click"]],template:function(n,s){if(1&n){const a=o.EpF();o.TgZ(0,"mat-sidenav-container",0),o.TgZ(1,"mat-sidenav",1,2),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o._UZ(6,"br"),o.TgZ(7,"mat-nav-list"),o.TgZ(8,"button",3),o.NdJ("click",function(){return s.onGoAccueil()}),o.TgZ(9,"h4"),o.TgZ(10,"mat-icon",4),o._uU(11,"home"),o.qZA(),o._uU(12," Accueil "),o.qZA(),o._UZ(13,"br"),o.qZA(),o.qZA(),o.TgZ(14,"mat-nav-list"),o.YNc(15,lie,2,0,"button",5),o.qZA(),o.TgZ(16,"h4"),o._uU(17,"Articles :"),o.qZA(),o.TgZ(18,"mat-nav-list"),o.YNc(19,cie,2,1,"button",6),o.qZA(),o.TgZ(20,"h4"),o._uU(21,"Photos de classes :"),o.qZA(),o.TgZ(22,"mat-nav-list"),o.TgZ(23,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1901,1910)}),o._uU(24,"1901-1910"),o.qZA(),o._UZ(25,"br"),o.TgZ(26,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1911,1920)}),o._uU(27,"1911-1920"),o.qZA(),o._UZ(28,"br"),o.TgZ(29,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1921,1930)}),o._uU(30,"1921-1930"),o.qZA(),o._UZ(31,"br"),o.TgZ(32,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1931,1940)}),o._uU(33,"1931-1940"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1941,1950)}),o._uU(36,"1941-1950"),o.qZA(),o._UZ(37,"br"),o.TgZ(38,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1951,1960)}),o._uU(39,"1951-1960"),o.qZA(),o._UZ(40,"br"),o.TgZ(41,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1961,1970)}),o._uU(42,"1961-1970"),o.qZA(),o._UZ(43,"br"),o.TgZ(44,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1971,1980)}),o._uU(45,"1971-1980"),o.qZA(),o._UZ(46,"br"),o.TgZ(47,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1981,1990)}),o._uU(48,"1981-1990"),o.qZA(),o._UZ(49,"br"),o.TgZ(50,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1991,2e3)}),o._uU(51,"1991-2000"),o.qZA(),o.qZA(),o.TgZ(52,"mat-nav-list"),o.TgZ(53,"button",7),o.NdJ("click",function(){return s.onOpenPdf()}),o._uU(54," Autres documents \xe0 voir sur Mori\xe8res. "),o.qZA(),o.qZA(),o.TgZ(55,"mat-nav-list"),o.TgZ(56,"h4"),o._uU(57,"Autres sources d'information"),o.qZA(),o.TgZ(58,"ul"),o.TgZ(59,"li"),o.TgZ(60,"a",8),o._uU(61,"Le site officiel de la ville"),o.qZA(),o.qZA(),o._UZ(62,"br"),o.qZA(),o.TgZ(63,"h4"),o._uU(64,"A voir sur wikipedia"),o.qZA(),o.TgZ(65,"ul"),o.TgZ(66,"li"),o.TgZ(67,"a",9),o._uU(68,"Mori\xe8res les Avignon"),o.qZA(),o.qZA(),o._UZ(69,"br"),o.TgZ(70,"li"),o.TgZ(71,"a",10),o._uU(72,"Le chevalier de Folard"),o.qZA(),o.qZA(),o._UZ(73,"br"),o.TgZ(74,"li"),o.TgZ(75,"a",11),o._uU(76,"Agricol Perdiguier"),o.qZA(),o.qZA(),o._UZ(77,"br"),o.qZA(),o.TgZ(78,"h4"),o._uU(79,"A voir sur Petit patrimoine"),o.qZA(),o.TgZ(80,"ul"),o.TgZ(81,"li"),o.TgZ(82,"a",12),o._uU(83,"L'\xe9glise de Mori\xe8res"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(84,"mat-sidenav-content"),o.TgZ(85,"mat-toolbar",13),o.TgZ(86,"button",14),o.NdJ("click",function(){return o.CHM(a),o.MAs(2).toggle()}),o.TgZ(87,"mat-icon",15),o._uU(88,"menu"),o.qZA(),o.qZA(),o.TgZ(89,"div",16),o.TgZ(90,"span"),o._uU(91,"M\xe9moire Mori\xe9roise"),o.qZA(),o.qZA(),o.TgZ(92,"div",17),o.YNc(93,uie,2,0,"button",18),o.YNc(94,die,2,0,"button",18),o.YNc(95,hie,2,0,"button",19),o.YNc(96,fie,2,0,"button",18),o.YNc(97,pie,2,0,"button",20),o.qZA(),o.TgZ(98,"h4",21),o._uU(99),o.qZA(),o.qZA(),o._UZ(100,"router-outlet"),o.qZA(),o.qZA()}2&n&&(o.xp6(1),o.Q6J("mode",o.lcZ(4,13,s.isHandset$)?"over":"side")("opened",!o.lcZ(5,15,s.isHandset$)),o.uIk("role",o.lcZ(3,11,s.isHandset$)?"dialog":"navigation"),o.xp6(14),o.Q6J("ngIf",s.isAuth),o.xp6(4),o.Q6J("ngForOf",s.themesService.themes),o.xp6(74),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",s.isAuth),o.xp6(1),o.Q6J("ngIf",s.isAdmin),o.xp6(2),o.hij("Bonjour : ",s.userMail,""))},directives:[jq,Yq,Wne,Zr,Qm,ht,bt,J2,oie,Bp],pipes:[ng],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:260px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.titre[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}"]}),r})();function mie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-form-field",4),o.TgZ(1,"ngx-mat-file-input",10),o.NdJ("change",function(a){return o.CHM(n),o.oxw().detectFiles(a)}),o.qZA(),o.TgZ(2,"mat-icon",11),o._uU(3,"folder"),o.qZA(),o.TgZ(4,"mat-error"),o._uU(5),o.qZA(),o.qZA()}if(2&r){const n=o.oxw();o.xp6(1),o.Q6J("accept",".pdf"),o.xp6(4),o.Oqu(n.getErrorMessage("pdf"))}}function gie(r,i){if(1&r&&(o.TgZ(0,"mat-progress-bar",14),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.hij("",n.globalService.bytesTransfered,"%")}}function _ie(r,i){if(1&r&&(o.TgZ(0,"mat-form-field",12),o.YNc(1,gie,2,1,"mat-progress-bar",13),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function yie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function bie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function vie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function wie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function Cie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function Die(r,i){1&r&&(o.TgZ(0,"div",16),o.TgZ(1,"button",17),o._uU(2,"Valider"),o.qZA(),o.qZA())}let Xq=(()=>{class r{constructor(n,s,a,l){var h,m,_;this.formBuilder=n,this.location=s,this.globalService=a,this.pdfService=l,this.errorMessage="",this.maxSize=104857600,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,null==this.pdf&&(this.pdf=new XA),""===(null===(h=this.pdf)||void 0===h?void 0:h.id)?(this.fileUploaded=!1,this.form=this.formBuilder.group({fichier:[void 0],progressbar:["Progression"],titre:["",[_t.required,_t.maxLength(50)]],description:["",[_t.required,_t.minLength(10),_t.maxLength(100)]]})):(this.fileUploaded=!0,this.form=this.formBuilder.group({fichier:[{value:void 0,visible:!1}],titre:[null===(m=this.pdf)||void 0===m?void 0:m.titre,[_t.required,_t.maxLength(50)]],description:[null===(_=this.pdf)||void 0===_?void 0:_.description,[_t.required,_t.minLength(10),_t.maxLength(100)]]}))}ngOnInit(){this.initForm()}initForm(){}detectFiles(n){this.onUploadFile(n.target.files[0])}onUploadFile(n){}getErrorMessage(n){var s,a,l,h,m,_,D,M,A,I,O,B;let $="";switch(n){case"pdf":(null===(s=this.form)||void 0===s?void 0:s.controls.fichier.touched)&&($=this.form.controls.fichier.hasError("maxSize")?"Vous devez s\xe9lectionner un fichier de moins de 16mo":"");break;case"titre":(null===(a=this.form)||void 0===a?void 0:a.controls.titre.touched)&&($=this.form.controls.titre.hasError("required")?"Vous devez saisir un titre":""),(null===(h=null===(l=this.form)||void 0===l?void 0:l.get("titre"))||void 0===h?void 0:h.hasError("maxlength"))&&($+="le titre doit comporter au plus 50 caract\xe8res");break;case"description":(null===(_=null===(m=this.form)||void 0===m?void 0:m.get("description"))||void 0===_?void 0:_.touched)&&((null===(M=null===(D=this.form)||void 0===D?void 0:D.get("description"))||void 0===M?void 0:M.hasError("required"))&&($=this.form.controls.description.hasError("required")?"Vous devez saisir une description du contenu du document":""),(null===(I=null===(A=this.form)||void 0===A?void 0:A.get("description"))||void 0===I?void 0:I.hasError("minlength"))&&($+="la description doit comporter au moins 10 caract\xe8res"),(null===(B=null===(O=this.form)||void 0===O?void 0:O.get("description"))||void 0===B?void 0:B.hasError("maxlength"))&&($+="la description doit comporter au plus 100 caract\xe8res"))}return $}onSubmit(){var n,s,a,l,h;this.pdf.titre=null===(s=null===(n=this.form)||void 0===n?void 0:n.get("titre"))||void 0===s?void 0:s.value,this.pdf.description=null===(l=null===(a=this.form)||void 0===a?void 0:a.get("description"))||void 0===l?void 0:l.value,""===(null===(h=this.pdf)||void 0===h?void 0:h.id)?(this.pdf.fichier=this.fileUrl,this.pdf.status=ai.initial,this.pdfService.addPdf(this.pdf)):this.pdfService.updatePdf(this.pdf),this.location.back()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(Ut),o.Y36(Wo),o.Y36(Xb))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-pdf-form"]],inputs:{pdf:"pdf"},decls:18,vars:9,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],["class","full-width",4,"ngIf"],["class","full-width","appearance","outline","color","secondary",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","description","placeholder","Description",2,"width","1000px"],["class","button-wrapper",4,"ngIf"],["formControlName","fichier","placeholder","Cliquez ici pour s\xe9lectionner un fichier",1,"file-input",3,"accept","change"],["matSuffix",""],["appearance","outline","color","secondary",1,"full-width"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,mie,6,2,"mat-form-field",2),o.YNc(3,_ie,2,1,"mat-form-field",3),o._UZ(4,"br"),o.TgZ(5,"mat-form-field",4),o._UZ(6,"input",5),o.TgZ(7,"div",6),o.YNc(8,yie,2,1,"mat-error",7),o.YNc(9,bie,2,1,"mat-error",7),o.qZA(),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"mat-form-field",4),o._UZ(12,"input",8),o.TgZ(13,"div",6),o.YNc(14,vie,2,1,"mat-error",7),o.YNc(15,wie,2,1,"mat-error",7),o.YNc(16,Cie,2,1,"mat-error",7),o.qZA(),o.qZA(),o.YNc(17,Die,3,0,"div",9),o.qZA(),o.qZA()),2&n&&(o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",!s.fileUploaded),o.xp6(1),o.Q6J("ngIf",s.fileIsUploading),o.xp6(5),o.Q6J("ngIf",s.form.controls.titre.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.form.controls.titre.hasError("maxLength")),o.xp6(5),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.maxlength),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&s.form.valid))},directives:[k_,nl,Oi,ht,Ru,cl,Vo,tl,Da,_i,Qm,Wy,ku,$2,Zr],styles:[""]}),r})();function Mie(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un nouveau document."),o.qZA())}function Tie(r,i){if(1&r&&o._UZ(0,"app-pdf-form",3),2&r){const n=o.oxw();o.Q6J("pdf",n.pdf)}}let Eie=(()=>{class r{constructor(){this.pdf=new XA("","","","",0)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(n,s){1&n&&(o.YNc(0,Mie,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,Tie,1,1,"app-pdf-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.pdf),o.xp6(2),o.Q6J("ngIf",s.pdf))},directives:[ht,Xq],styles:[""]}),r})();function Sie(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition du document : ",n.pdf.titre,"")}}function xie(r,i){if(1&r&&o._UZ(0,"app-pdf-form",3),2&r){const n=o.oxw();o.Q6J("pdf",n.pdf)}}let Aie=(()=>{class r{constructor(n,s){this.route=n,this.pdfService=s,this.pdf=new XA("","","","",0),this.pdfSubscription=this.pdfService.pdfSubject.pipe(Ol(1)).subscribe(a=>{a.length>0&&(this.pdf=this.pdfService.currentPdf)})}ngOnInit(){this.pdfService.GetSinglePdf(this.route.snapshot.params.id)}ngOnDestroy(){this.pdfSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ho),o.Y36(Xb))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(n,s){1&n&&(o.YNc(0,Sie,2,1,"h4",0),o.TgZ(1,"div",1),o.YNc(2,xie,1,1,"app-pdf-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.pdf),o.xp6(2),o.Q6J("ngIf",s.pdf))},directives:[ht,Xq],styles:[""]}),r})(),kie=(()=>{class r{constructor(n){this.sanitizer=n}transform(n,s){switch(s){case"html":return this.sanitizer.bypassSecurityTrustHtml(n);case"style":return this.sanitizer.bypassSecurityTrustStyle(n);case"script":return this.sanitizer.bypassSecurityTrustScript(n);case"url":return this.sanitizer.bypassSecurityTrustUrl(n);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(n);default:throw new Error(`Invalid safe type specified: ${s}`)}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ao,16))},r.\u0275pipe=o.Yjl({name:"safe",type:r,pure:!0}),r})();function Iie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddPdf()}),o._uU(1," Ajouter un document. "),o.qZA()}}function Rie(r,i){if(1&r&&(o._UZ(0,"iframe",9),o.ALo(1,"safe")),2&r){const n=o.oxw(2);o.Q6J("src",o.xi3(1,1,n.url,"resourceUrl"),o.uOi)}}function Oie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onVoirPdf(a)}),o._uU(1,"Fermer le document"),o.qZA()}}function Nie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onVoirPdf(a)}),o._uU(1,"Ouvrir le document"),o.qZA()}}function Pie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onValiderPdf(a)}),o._uU(1,"Valider"),o.qZA()}}function Fie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onEditPdf(a)}),o._uU(1,"Modifier"),o.qZA()}}function Lie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onDeletePdf(a)}),o._uU(1,"Supprimer"),o.qZA()}}function Bie(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"mat-card",3),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-content",4),o.TgZ(5,"div"),o.TgZ(6,"pre"),o._uU(7),o.qZA(),o.qZA(),o.YNc(8,Rie,2,4,"iframe",5),o.TgZ(9,"mat-card-actions"),o.TgZ(10,"div",6),o.YNc(11,Oie,2,0,"button",7),o.YNc(12,Nie,2,0,"button",7),o.YNc(13,Pie,2,0,"button",7),o.YNc(14,Fie,2,0,"button",8),o.YNc(15,Lie,2,0,"button",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=i.$implicit,s=o.oxw();o.xp6(3),o.Oqu(n.titre),o.xp6(4),o.Oqu(n.description),o.xp6(1),o.Q6J("ngIf",n.fichier==s.url),o.xp6(3),o.Q6J("ngIf",n.fichier==s.url),o.xp6(1),o.Q6J("ngIf",n.fichier!=s.url),o.xp6(1),o.Q6J("ngIf",0==n.status&&s.canWrite),o.xp6(1),o.Q6J("ngIf",s.canWrite),o.xp6(1),o.Q6J("ngIf",s.canWrite)}}let Vie=(()=>{class r{constructor(n,s,a,l){this.router=n,this.globalService=s,this.pdfService=a,this.authService=l,this.url="",this.canWrite=!1,this.isConnected=!1,this.listePdf=[],this.canWrite=!1,this.userSubscription=this.authService.authSubject.subscribe(h=>{console.log(h.email),null==h?(console.log(" = null"),this.currentUser=null,this.isConnected=!1):(this.currentUser=l.getCurrentUser(),console.log(this.currentUser),this.isConnected=!0),this.canWrite=!(!this.isConnected||!this.currentUser)&&(this.currentUser.status&Vt.editArticle)===Vt.editArticle}),this.pdfService.getListePdfsValides(),this.pdfsSubscription=this.pdfService.pdfSubject.subscribe(h=>{this.listePdf=h}),this.pdfService.emitPdf(),null!=this.currentUser&&(this.canWrite=(this.currentUser.status&Vt.editArticle)===Vt.editArticle),this.pdfService.getListePdfsValides()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}onAddPdf(){this.router.navigate(["app-add-pdf"])}onEditPdf(n){this.router.navigate(["app-edit-pdf/",n.id])}onValiderPdf(n){this.pdfService.validerPdf(n)}onDeletePdf(n){this.pdfService.supprimerPdf(n)}onVoirPdf(n){this.url=this.url===n.fichier?"":n.fichier}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(zn),o.Y36(Wo),o.Y36(Xb),o.Y36(jr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-pdf"]],decls:2,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],[1,"card-container"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(o.YNc(0,Iie,2,0,"button",0),o.YNc(1,Bie,16,8,"div",1)),2&n&&(o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngForOf",s.listePdf))},directives:[ht,bt,Zr,$m,zm,Qb,zA],pipes:[kie],styles:[".card-item[_ngcontent-%COMP%]{margin-top:15px}"]}),r})();class eZ{constructor(i,n,s,a,l,h,m,_){this.id=i,this.annee=n,this.auteur=s,this.nomAuteur=a,this.listeEleves=l,this.photo=h,this.titre=m,this.status=_}}function Uie(r,i){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," Merci de s\xe9lectionner un fichier. "),o.qZA())}function Hie(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function Gie(r,i){1&r&&o._UZ(0,"mat-progress-bar",13)}function Yie(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"mat-form-field",10),o.TgZ(2,"mat-icon",11),o._uU(3,"folder"),o.qZA(),o.YNc(4,Uie,2,0,"mat-error",1),o.YNc(5,Hie,2,1,"mat-error",1),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,Gie,1,0,"mat-progress-bar",12),o.qZA(),o.qZA()),2&r){const n=o.oxw();o.xp6(4),o.Q6J("ngIf",n.addPhotoForm.controls.photo.hasError("required")),o.xp6(1),o.Q6J("ngIf",n.addPhotoForm.controls.photo.hasError("maxSize")),o.xp6(2),o.Q6J("ngIf",n.fileIsUploading)}}function jie(r,i){if(1&r&&o._UZ(0,"img",15),2&r){const n=o.oxw(2);o.s9C("src",null==n.photo?null:n.photo.photo,o.LSH)}}function qie(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,jie,1,1,"img",14),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",null!=(null==n.photo?null:n.photo.photo))}}function Zie(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("annee"))}}function zie(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function $ie(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("listeEleves"))}}let X2=(()=>{class r{constructor(n,s,a,l){var h;this.formBuilder=n,this.authService=s,this.photosService=a,this.location=l,this.errorMessage="",this.hide=!0,this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(fc_Small).pipe((0,b.U)(m=>m.matches)),null==this.photo&&(this.photo=new eZ("",void 0,null===(h=this.authService.getCurrentUser())||void 0===h?void 0:h.id,"","","")),null==this.photo.photo&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],legende:["",[_t.maxLength(50)]],titre:["",[_t.required,_t.maxLength(50)]],annee:["",[_t.required,_t.min(1900),_t.max(2020)]],listeEleves:["",[_t.required,_t.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(Ol(1)).subscribe(m=>{var _,D;if(this.currentUser=m,null!=m)if(this.isConnected=null!=m&&(null===(_=m.email)||void 0===_?void 0:_.trim())!=(null===(D=s.getVisiteur())||void 0===D?void 0:D.trim()),this.isConnected){const M=m.status;this.canWrite=null!=M&&(M&Vt.editArticle)==Vt.editArticle}else this.canWrite=!1}),s.emitUserChanged()}ngOnInit(){this.initForm()}initForm(){var n,s,a;this.addPhotoForm.controls.titre.setValue(null===(n=this.photo)||void 0===n?void 0:n.titre),this.addPhotoForm.controls.listeEleves.setValue(null===(s=this.photo)||void 0===s?void 0:s.listeEleves),this.addPhotoForm.controls.annee.setValue(null===(a=this.photo)||void 0===a?void 0:a.annee)}onSubmit(){var n,s,a,l,h,m,_,D,M;(null===(n=this.addPhotoForm)||void 0===n?void 0:n.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(a=null===(s=this.addPhotoForm)||void 0===s?void 0:s.get("titre"))||void 0===a?void 0:a.value,this.photo.annee=null===(h=null===(l=this.addPhotoForm)||void 0===l?void 0:l.get("annee"))||void 0===h?void 0:h.value,this.photo.listeEleves=null===(_=null===(m=this.addPhotoForm)||void 0===m?void 0:m.get("listeEleves"))||void 0===_?void 0:_.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(D=this.currentUser)||void 0===D?void 0:D.id,this.photo.nomAuteur=null===(M=this.authService.getCurrentUser())||void 0===M?void 0:M.prenom,console.log(this.currentUser),this.photosService.addPhoto(this.photo)):this.photosService.updatePhoto(this.photo),this.location.back())}getErrorMessage(n){var s,a,l,h;let m="";switch(n){case"titre":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.titre.touched)&&(m=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"annee":(null===(a=this.addPhotoForm)||void 0===a?void 0:a.controls.annee.touched)&&(m=this.addPhotoForm.controls.annee.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(l=this.addPhotoForm)||void 0===l?void 0:l.controls.listeEleves.touched)&&(m=this.addPhotoForm.controls.listeEleves.hasError("required")?"Vous devez saisir une liste des \xe9l\xe8ves":"");break;case"photo":(null===(h=this.addPhotoForm)||void 0===h?void 0:h.controls.photo.touched)&&(m=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo de classes":"")}return m}detectFiles(n){this.onUploadFile(n.target.files[0])}onUploadFile(n){}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(il),o.Y36(jr),o.Y36(nf),o.Y36(Ut))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-photos-de-classe-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","number","placeholder","Ann\xe9e","formControlName","annee"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Liste des \xe9l\xe8ves","formControlName","listeEleves"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["matSuffix",""],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(1,Yie,8,3,"div",1),o.YNc(2,qie,2,1,"div",1),o.TgZ(3,"div"),o.TgZ(4,"mat-form-field",2),o._UZ(5,"input",3),o.TgZ(6,"div",4),o.YNc(7,Zie,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",2),o._UZ(9,"input",6),o.TgZ(10,"div",4),o.YNc(11,zie,2,1,"mat-error",5),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",2),o._UZ(14,"textarea",7),o.TgZ(15,"div",4),o.YNc(16,$ie,2,1,"mat-error",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",8),o.TgZ(18,"button",9),o._uU(19,"Valider"),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.addPhotoForm),o.xp6(1),o.Q6J("ngIf",null!=(null==s.photo?null:s.photo.photo)&&""==(null==s.photo?null:s.photo.photo)),o.xp6(1),o.Q6J("ngIf",""==(null==s.photo?null:s.photo.photo)),o.xp6(5),o.Q6J("ngIf",s.addPhotoForm.controls.annee.hasError("required")),o.xp6(4),o.Q6J("ngIf",s.addPhotoForm.controls.titre.hasError("required")),o.xp6(5),o.Q6J("ngIf",s.addPhotoForm.controls.listeEleves.hasError("required")),o.xp6(2),o.Q6J("disabled",s.addPhotoForm.invalid))},directives:[k_,nl,Oi,ht,Ru,cl,aw,Vo,tl,Da,Zr,Qm,Wy,ku,$2],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:30%;max-height:25%;align-content:left}.button[_ngcontent-%COMP%]{text-align:center}"]}),r})();function Wie(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajouter une photo de classe."),o.qZA())}function Jie(r,i){if(1&r&&o._UZ(0,"app-photos-de-classe-form",3),2&r){const n=o.oxw();o.Q6J("photo",n.photo)}}let Qie=(()=>{class r{constructor(n){var s;this.authService=n,this.isConnected=!1,this.userDroits=0,this.photo=new eZ("",void 0,null===(s=this.authService.getCurrentUser())||void 0===s?void 0:s.id,"","",""),this.userSubscription=this.authService.authSubject.pipe(Ol(1)).subscribe(a=>{this.isConnected=a.status>ai.initial})}ngOnInit(){}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(jr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(n,s){1&n&&(o.YNc(0,Wie,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,Jie,1,1,"app-photos-de-classe-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.photo),o.xp6(2),o.Q6J("ngIf",s.photo))},directives:[ht,X2],styles:[""]}),r})();function Kie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddPhoto()}),o._uU(1," Ajouter une photo de classe..\n"),o.qZA()}}function Xie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onEdit(a)}),o._uU(1,"Modifier la liste des \xe9l\xe8ves"),o.qZA()}}function ere(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card",3),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.TgZ(6,"img",4),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onSurvol(l)}),o.qZA(),o.TgZ(7,"mat-card-content",5),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.YNc(12,Xie,2,0,"button",7),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw();o.xp6(3),o.AsE("",n.titre," par : ",n.nomAuteur," (Cliquez sur la photo pour l'agrandir.)"),o.xp6(2),o.Oqu(n.annee),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.listeEleves),o.xp6(2),o.Q6J("ngIf",s.canWrite)}}let tre=(()=>{class r{constructor(n,s,a,l,h,m,_){let D;this.route=n,this.router=s,this.photosService=a,this.globalService=l,this.usersService=h,this.authService=m,this.matDialog=_,this.zoom=!1,this.isConnected=!1,this.listePhotos=[],this.listeSelectedPhotos=[],this.debut=0,this.fin=0,this.canWrite=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ol(1)).subscribe(M=>{this.isConnected=(M.status&ai.valide)==ai.valide,this.isConnected?(D=M.status,this.canWrite=(D&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse):this.canWrite=!1,this.canWrite=(D&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse}),m.emitUserChanged(),this.queryParamsSuscription=this.route.queryParamMap.subscribe(M=>{M.has("debut")&&M.has("fin")&&(this.debut=M.get("debut"),this.fin=M.get("fin"),this.CherchePhotos())},M=>{console.log("Erreur : "+M.message)}),this.photosSubscription=this.photosService.photoSubject.subscribe(M=>{this.listePhotos=M,this.CherchePhotos()}),this.photosService.emitPhoto()}ngOnInit(){}ngOnDestroy(){null!=this.queryParamsSuscription&&this.queryParamsSuscription.unsubscribe(),null!=this.userSubscription&&this.userSubscription.unsubscribe(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe()}CherchePhotos(){0!=this.debut&&0!=this.fin&&(this.filtrePhotos(),this.addPrenomAuteur())}filtrePhotos(){this.listeSelectedPhotos.splice(0),this.listeSelectedPhotos=this.listePhotos.filter(n=>1==n.status&&n.annee>=this.debut&&n.annee<=this.fin)}addPrenomAuteur(){this.listeSelectedPhotos.forEach(n=>{this.usersService.getUser(n.auteur).subscribe(s=>{const a=s.data();n.nomAuteur=a.prenom})})}onZoomImage(){this.zoom=!0}onDeZoomImage(){this.zoom=!1}onAddPhoto(){this.router.navigate(["app-add-photo-de-classe"])}onEdit(n){this.router.navigate(["app-edit-photo-de-classe",n.id])}onSurvol(n){this.photosService.currentPhoto=n,this.matDialog.open(nre,{height:"100%",width:"55%"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ho),o.Y36(zn),o.Y36(nf),o.Y36(Wo),o.Y36(IA),o.Y36(jr),o.Y36(ic))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-album"]],decls:4,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],["alt","Photo introuvable",1,"img",3,"src","click"],[1,"card-container"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Photos de classes"),o.qZA(),o.YNc(2,Kie,2,0,"button",0),o.YNc(3,ere,13,6,"div",1)),2&n&&(o.xp6(2),o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngForOf",s.listeSelectedPhotos))},directives:[ht,bt,Zr,$m,zm,Kb,Qb],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:10pt;margin-bottom:10pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:10%;max-height:20%;align-content:left}"]}),r})(),nre=(()=>{class r{constructor(n){var s,a,l,h;this.photosService=n,this.image=null===(s=n.currentPhoto)||void 0===s?void 0:s.photo,this.listeEleves=null===(a=n.currentPhoto)||void 0===a?void 0:a.listeEleves,this.titre=null===(l=n.currentPhoto)||void 0===l?void 0:l.titre,this.sousTitre=""+(null===(h=n.currentPhoto)||void 0===h?void 0:h.annee.toString())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(nf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-dialog-maximise-image"]],decls:14,vars:4,consts:[[1,"card"],["mat-card-image","","dialog-img","","alt","Photo de classe",1,"dialog-img",3,"src"],["mat-button-accent","","mat-dialog-close",""]],template:function(n,s){1&n&&(o.TgZ(0,"mat-card",0),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.qZA(),o._UZ(6,"img",1),o.TgZ(7,"mat-card-content"),o.TgZ(8,"pre"),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"mat-card-actions"),o.TgZ(11,"div"),o.TgZ(12,"button",2),o._uU(13,"Fermer"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Oqu(s.titre),o.xp6(2),o.Oqu(s.sousTitre),o.xp6(1),o.s9C("src",s.image,o.LSH),o.xp6(3),o.hij("            ",s.listeEleves,"\n        "))},directives:[$m,g2,zm,Kb,m2,Qb,zA,Zi],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),r})();function ire(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition de la photo de classe de l'ann\xe9e ",n.photo.annee,"")}}function rre(r,i){if(1&r&&o._UZ(0,"app-photos-de-classe-form",2),2&r){const n=o.oxw();o.Q6J("photo",n.photo)}}let sre=(()=>{class r{constructor(n,s){this.route=n,this.photosService=s,this.photosService.getPhoto(this.route.snapshot.params.id).subscribe(l=>{this.photo=l.data(),this.photo.id=l.id},l=>{console.log("Erreur = "+l.message)})}ngOnInit(){}ngOnDestroy(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ho),o.Y36(nf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-photo-de-classe"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(n,s){1&n&&(o.YNc(0,ire,2,1,"h4",0),o.YNc(1,rre,1,1,"app-photos-de-classe-form",1)),2&n&&(o.Q6J("ngIf",s.photo),o.xp6(1),o.Q6J("ngIf",s.photo))},directives:[ht,X2],styles:[""]}),r})(),wo=(()=>{class r{constructor(n){this.authService=n,this.userSubscription=this.authService.authSubject.subscribe(s=>{this.currentUser=s}),this.authService.emitUserChanged()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}canActivate(){return new Promise(n=>{n(!!this.currentUser)})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(jr))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ore=[{path:"app-accueil",component:dK},{path:"app-frame",component:Kq},{path:"app-sign-in",component:Pq},{path:"app-sign-up",component:Fq},{path:"app-user-data",component:_x},{path:"app-unvalidate-user-message",component:(()=>{class r{constructor(n,s){this.router=n,this.authService=s}ngOnInit(){}onDemandeMail(){this.authService.sendMailNewUser(),this.router.navigate(["app-accueil"])}onAnnuler(){this.router.navigate(["app-accueil"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(zn),o.Y36(jr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-unvalidate-user-message"]],decls:8,vars:0,consts:[["mat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Votre adresse mail n'a pas \xe9t\xe9 valid\xe9e."),o.qZA(),o.TgZ(2,"h5"),o._uU(3,"Un mail vous a \xe9t\xe9 envoy\xe9, il est n\xe9cessaire de cliquer sur le lien qui y figure pour finaliser votre inscription. "),o.qZA(),o.TgZ(4,"button",0),o.NdJ("click",function(){return s.onDemandeMail()}),o._uU(5,"Redemander un mail de validation"),o.qZA(),o.TgZ(6,"button",0),o.NdJ("click",function(){return s.onAnnuler()}),o._uU(7,"Annuler"),o.qZA())},directives:[Zr],styles:[""]}),r})()},{path:"app-liste-pdf",component:Vie},{path:"app-edit-pdf/:id",canActivate:[wo],component:Aie},{path:"app-add-pdf",canActivate:[wo],component:Eie},{path:"app-liste-articles",component:dne},{path:"app-edit-article/:id",canActivate:[wo],component:D2},{path:"app-add-article",canActivate:[wo],component:rne},{path:"app-article-form",canActivate:[wo],component:_k},{path:"app-dialog-maximise-article-image",component:Nq},{path:"app-article-form",canActivate:[wo],component:_k},{path:"app-album",component:tre},{path:"app-edit-photo-de-classe/:id",canActivate:[wo],component:sre},{path:"app-add-photo-de-classe",canActivate:[wo],component:Qie},{path:"app-photos-de-classe-form",component:X2},{path:"app-droits",canActivate:[wo],component:KK},{path:"app-droits-form",canActivate:[wo],component:xj},{path:"app-home-administration",canActivate:[wo],component:aX},{path:"app-liste-messages",component:vX},{path:"app-valider-articles",canActivate:[wo],component:Aj},{path:"app-messages",canActivate:[wo],component:Lq},{path:"",redirectTo:"app-accueil",pathMatch:"full"},{path:"**",redirectTo:"app-accueil"}];let are=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Dr.forRoot(ore)],Dr]}),r})(),lre=(()=>{class r{constructor(n,s){this.authService=n,this.themesService=s,this.title="MemoireMorieroise",this.authService.signInVisiteur().then(()=>{})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(jr),o.Y36(uk))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,s){1&n&&o._UZ(0,"app-frame")},directives:[Kq],styles:[""]}),r})();const bre={provide:new o.OlP("mat-autocomplete-scroll-strategy"),deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let Dre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[bre],imports:[[Ca,qy,Ke,Kt],rr,qy,Ke]}),r})(),Ere=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[qc,Ke],Ke]}),r})(),kre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ca,Ke,$a],Ke]}),r})(),Lre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke,go],Ke]}),r})();const uZ=new o.OlP("mat-chips-default-options"),Jre={separatorKeyCodes:[13]};let Qre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[as,{provide:uZ,useValue:Jre}],imports:[[Ke]]}),r})(),vk=(()=>{class r{constructor(){this.changes=new pe.xQ,this.optionalLabel="Optional"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const _se={provide:vk,deps:[[new o.FiY,new o.tp0,vk]],useFactory:function(r){return r||new vk}};let Tse=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[_se,as],imports:[[Ke,Kt,$a,mD,a_,Rq,go],Ke]}),r})(),bD=(()=>{class r{constructor(){this.changes=new pe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const ioe={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let hoe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[bD,ioe],imports:[[Kt,mD,Ca,qc,$a,Ke],rr]}),r})(),yoe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),Ooe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,Ke,yoe,$a]]}),r})();const PZ={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let BZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[PZ],imports:[Ke]}),r})(),Hoe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[PZ],imports:[[Kt,Ke,go,Ca,BZ],rr,Ke,BZ]}),r})();const tae={provide:new o.OlP("mat-select-scroll-strategy"),deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let jZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[tae],imports:[[Kt,Ca,qy,Ke],rr,$C,qy,Ke]}),r})();const uae={provide:new o.OlP("mat-tooltip-scroll-strategy"),deps:[Ri],useFactory:function(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}};let $Z=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[uae],imports:[[qc,Kt,Ca,Ke],Ke,rr]}),r})(),DD=(()=>{class r{constructor(){this.changes=new pe.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,a)=>{if(0==a||0==s)return`0 of ${a}`;const l=n*s;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+s,a):l+s} of ${a}`}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Mae={provide:DD,deps:[[new o.FiY,new o.tp0,DD]],useFactory:function(r){return r||new DD}};let Aae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Mae],imports:[[Kt,mD,jZ,$Z,Ke]]}),r})();function kae(r,i){if(1&r&&(o.O4$(),o._UZ(0,"circle",3)),2&r){const n=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),o.uIk("r",n._getCircleRadius())}}function Iae(r,i){if(1&r&&(o.O4$(),o._UZ(0,"circle",3)),2&r){const n=o.oxw();o.Udp("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),o.uIk("r",n._getCircleRadius())}}const Pae=qs(class{constructor(r){this._elementRef=r}},"primary"),JZ=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Wu extends Pae{constructor(i,n,s,a,l){super(i),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const h=Wu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(s.head)||h.set(s.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===a&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=qt(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=qt(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,qt(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=Pg(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,n=this._diameter,s=Wu._diameters;let a=s.get(i);if(!a||!a.has(n)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),i.appendChild(l),a||(a=new Set,s.set(i,a)),a.add(n)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Wu.\u0275fac=function(i){return new(i||Wu)(o.Y36(o.SBq),o.Y36(kt),o.Y36(Z,8),o.Y36(In,8),o.Y36(JZ))},Wu.\u0275cmp=o.Xpm({type:Wu,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,n){2&i&&(o.uIk("aria-valuemin","determinate"===n.mode?0:null)("aria-valuemax","determinate"===n.mode?100:null)("aria-valuenow","determinate"===n.mode?n.value:null)("mode",n.mode),o.Udp("width",n.diameter,"px")("height",n.diameter,"px"),o.ekj("_mat-animation-noopable",n._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,n){1&i&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,kae,1,9,"circle",1),o.YNc(2,Iae,1,7,"circle",2),o.qZA()),2&i&&(o.Udp("width",n.diameter,"px")("height",n.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===n.mode),o.uIk("viewBox",n._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[Ui,Jn],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Wu._diameters=new WeakMap;let Bae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ke,Kt],Ke]}),r})(),Jae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[go,Ke],Ke]}),r})(),ale=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Kt,Ke],Ke]}),r})(),n4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),wle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[n4,go,Ke,$f],n4,Ke]}),r})(),xle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ca,$a,Kt,mD,Ke],Ke]}),r})(),Ek=(()=>{class r{constructor(){this.changes=new pe.xQ}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Ble={provide:Ek,deps:[[new o.FiY,new o.tp0,Ek]],useFactory:function(r){return r||new Ek}};let Ule=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ble],imports:[[Kt,Ke]]}),r})(),$le=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[JI,Ke],Ke]}),r})();const r4_firebaseConfig={apiKey:"AIzaSyBz9fnOh35_UA9eF6e_liALWX4BSMFv1wM",authDomain:"memoiremorieroise-73e3b.firebaseapp.com",databaseURL:"https://memoiremorieroise-73e3b.firebaseio.com",projectId:"memoiremorieroise-73e3b",storageBucket:"memoiremorieroise-73e3b.appspot.com",messagingSenderId:"201883520409"};let Wle=(()=>{class r{constructor(n){this.angularStorage=n}getImagesCarousel(){return this.angularStorage.ref("Accueil").listAll()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(H2))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Jle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r,bootstrap:[lre]}),r.\u0275inj=o.cJS({providers:[Wo,qu,jr,wo,Wle,C2,Xb,nf,IA],imports:[[mg,are,t3,yQ,qc,iI,a_,nT,JI,LB,Ca,$a,zc,tE,$n.hO.initializeApp(r4_firebaseConfig),U$,ute,Dre,Ere,kre,mD,Lre,VQ,CK,Qre,Tse,hoe,$y,qq,Ooe,AQ,Rq,Qy,tie,Hoe,ON,Aae,jte,Bae,Jae,go,jZ,Hne,ale,wle,xle,Ule,NK,b7,aie,$Z,$le,pte]]}),r})();o.B6R(D2,[ht,_k],[]),(0,o.G48)(),Ac().bootstrapModule(Jle).catch(r=>console.error(r))},4762:(Xe,Te,L)=>{"use strict";L.d(Te,{ZT:()=>q,pi:()=>U,_T:()=>se,gn:()=>de,fM:()=>te,w6:()=>Z,mG:()=>W,Jh:()=>z,XA:()=>H,CR:()=>X,ev:()=>me});var o=function(he,_e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,be){ye.__proto__=be}||function(ye,be){for(var we in be)Object.prototype.hasOwnProperty.call(be,we)&&(ye[we]=be[we])})(he,_e)};function q(he,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function ye(){this.constructor=he}o(he,_e),he.prototype=null===_e?Object.create(_e):(ye.prototype=_e.prototype,new ye)}var U=function(){return(U=Object.assign||function(_e){for(var ye,be=1,we=arguments.length;be<we;be++)for(var re in ye=arguments[be])Object.prototype.hasOwnProperty.call(ye,re)&&(_e[re]=ye[re]);return _e}).apply(this,arguments)};function se(he,_e){var ye={};for(var be in he)Object.prototype.hasOwnProperty.call(he,be)&&_e.indexOf(be)<0&&(ye[be]=he[be]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(be=Object.getOwnPropertySymbols(he);we<be.length;we++)_e.indexOf(be[we])<0&&Object.prototype.propertyIsEnumerable.call(he,be[we])&&(ye[be[we]]=he[be[we]])}return ye}function de(he,_e,ye,be){var Ue,we=arguments.length,re=we<3?_e:null===be?be=Object.getOwnPropertyDescriptor(_e,ye):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(he,_e,ye,be);else for(var at=he.length-1;at>=0;at--)(Ue=he[at])&&(re=(we<3?Ue(re):we>3?Ue(_e,ye,re):Ue(_e,ye))||re);return we>3&&re&&Object.defineProperty(_e,ye,re),re}function te(he,_e){return function(ye,be){_e(ye,be,he)}}function Z(he,_e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,_e)}function W(he,_e,ye,be){return new(ye||(ye=Promise))(function(re,Ue){function at(lt){try{dt(be.next(lt))}catch(yt){Ue(yt)}}function Gt(lt){try{dt(be.throw(lt))}catch(yt){Ue(yt)}}function dt(lt){lt.done?re(lt.value):function(re){return re instanceof ye?re:new ye(function(Ue){Ue(re)})}(lt.value).then(at,Gt)}dt((be=be.apply(he,_e||[])).next())})}function z(he,_e){var be,we,re,Ue,ye={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return Ue={next:at(0),throw:at(1),return:at(2)},"function"==typeof Symbol&&(Ue[Symbol.iterator]=function(){return this}),Ue;function at(dt){return function(lt){return function(dt){if(be)throw new TypeError("Generator is already executing.");for(;ye;)try{if(be=1,we&&(re=2&dt[0]?we.return:dt[0]?we.throw||((re=we.return)&&re.call(we),0):we.next)&&!(re=re.call(we,dt[1])).done)return re;switch(we=0,re&&(dt=[2&dt[0],re.value]),dt[0]){case 0:case 1:re=dt;break;case 4:return ye.label++,{value:dt[1],done:!1};case 5:ye.label++,we=dt[1],dt=[0];continue;case 7:dt=ye.ops.pop(),ye.trys.pop();continue;default:if(!(re=(re=ye.trys).length>0&&re[re.length-1])&&(6===dt[0]||2===dt[0])){ye=0;continue}if(3===dt[0]&&(!re||dt[1]>re[0]&&dt[1]<re[3])){ye.label=dt[1];break}if(6===dt[0]&&ye.label<re[1]){ye.label=re[1],re=dt;break}if(re&&ye.label<re[2]){ye.label=re[2],ye.ops.push(dt);break}re[2]&&ye.ops.pop(),ye.trys.pop();continue}dt=_e.call(he,ye)}catch(lt){dt=[6,lt],we=0}finally{be=re=0}if(5&dt[0])throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}([dt,lt])}}}function H(he){var _e="function"==typeof Symbol&&Symbol.iterator,ye=_e&&he[_e],be=0;if(ye)return ye.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&be>=he.length&&(he=void 0),{value:he&&he[be++],done:!he}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(he,_e){var ye="function"==typeof Symbol&&he[Symbol.iterator];if(!ye)return he;var we,Ue,be=ye.call(he),re=[];try{for(;(void 0===_e||_e-- >0)&&!(we=be.next()).done;)re.push(we.value)}catch(at){Ue={error:at}}finally{try{we&&!we.done&&(ye=be.return)&&ye.call(be)}finally{if(Ue)throw Ue.error}}return re}function me(he,_e,ye){if(ye||2===arguments.length)for(var re,be=0,we=_e.length;be<we;be++)(re||!(be in _e))&&(re||(re=Array.prototype.slice.call(_e,0,be)),re[be]=_e[be]);return he.concat(re||Array.prototype.slice.call(_e))}},8239:(Xe,Te,L)=>{"use strict";function o(U,se,de,te,Z,W,z){try{var V=U[W](z),Q=V.value}catch(H){return void de(H)}V.done?se(Q):Promise.resolve(Q).then(te,Z)}function q(U){return function(){var se=this,de=arguments;return new Promise(function(te,Z){var W=U.apply(se,de);function z(Q){o(W,te,Z,z,V,"next",Q)}function V(Q){o(W,te,Z,z,V,"throw",Q)}z(void 0)})}}L.d(Te,{Z:()=>q})}},Xe=>{Xe(Xe.s=2375)}]);