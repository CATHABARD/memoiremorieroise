(self.webpackChunkmemoire_morieroise=self.webpackChunkmemoire_morieroise||[]).push([[179],{8255:Xe=>{function Te(L){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+L+"'");throw o.code="MODULE_NOT_FOUND",o})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Xe.exports=Te},7716:(Xe,Te,L)=>{"use strict";L.d(Te,{deG:()=>ED,tb:()=>Yh,AFp:()=>_m,ip1:()=>$C,CZH:()=>Hh,hGG:()=>sx,z2F:()=>Oe,sBO:()=>ZR,Sil:()=>jh,_Vd:()=>yu,EJc:()=>FS,SBq:()=>po,qLn:()=>Vd,vpe:()=>Qn,pfw:()=>$O,L6J:()=>cc,gxx:()=>ql,tBr:()=>Za,XFs:()=>lt,OlP:()=>fi,zs3:()=>Vn,IIB:()=>ES,ZZ4:()=>Wp,aQg:()=>Ay,soG:()=>vm,YKP:()=>Ny,v3s:()=>lN,h0i:()=>wu,PXZ:()=>sN,R0b:()=>xs,FiY:()=>pa,Lbi:()=>Gh,g9A:()=>WC,n_E:()=>Nu,Qsj:()=>CE,FYo:()=>Ey,JOm:()=>ba,Tiy:()=>xy,q3G:()=>Si,PiD:()=>Pd,tp0:()=>ma,EAV:()=>XS,Rgc:()=>Sh,dDg:()=>Tm,DyG:()=>Fo,q4F:()=>iC,GfV:()=>ME,s_b:()=>Fy,ifc:()=>Ye,eFA:()=>Ui,G48:()=>WS,Gpc:()=>Q,f3M:()=>l0,X6Q:()=>qh,_c5:()=>ix,VLi:()=>$S,c2e:()=>Vi,zSh:()=>au,wAp:()=>tt,vHH:()=>De,EiD:()=>b0,mCW:()=>oi,qzn:()=>T,JVY:()=>w,pB0:()=>ue,eBb:()=>R,L6k:()=>S,LAX:()=>P,cg1:()=>qw,Tjo:()=>$h,kL8:()=>al,yhl:()=>b,dqk:()=>Cn,sIi:()=>nl,CqO:()=>Ew,QGY:()=>Tw,F4k:()=>sR,RDi:()=>Pv,AaK:()=>W,z3N:()=>ga,qOj:()=>lw,TTD:()=>Xt,_Bn:()=>Dy,xp6:()=>F0,uIk:()=>uw,Tol:()=>Ow,Gre:()=>OT,DjV:()=>NT,ekj:()=>Rw,Suo:()=>Ph,Xpm:()=>tn,lG2:()=>Kt,Yz7:()=>Ot,cJS:()=>Zn,oAB:()=>Se,Yjl:()=>fn,Y36:()=>q_,_UZ:()=>z_,GkF:()=>pT,BQk:()=>$_,ynx:()=>Dw,qZA:()=>ww,TgZ:()=>hh,EpF:()=>Mw,n5z:()=>Xi,Ikx:()=>Yw,SDv:()=>hE,QtT:()=>vy,pQV:()=>qp,LFG:()=>pi,$8M:()=>Ol,NdJ:()=>Rp,CRH:()=>FC,kcU:()=>qv,O4$:()=>wD,oxw:()=>fh,ALo:()=>EC,lcZ:()=>SC,xi3:()=>xC,Hsn:()=>ph,F$t:()=>hu,Q6J:()=>dh,s9C:()=>xw,MGl:()=>mh,VKq:()=>lS,WLB:()=>cS,kEZ:()=>Ir,iGM:()=>PC,MAs:()=>tT,CHM:()=>Oc,uOi:()=>An,LSH:()=>Es,B6R:()=>Xn,kYT:()=>Ze,Udp:()=>ny,WFA:()=>Sw,d8E:()=>jw,YNc:()=>eT,W1O:()=>Pu,_uU:()=>xT,Oqu:()=>AT,hij:()=>_h,AsE:()=>sy,Gf:()=>hS});var o=L(9765),q=L(5319),U=L(7574),se=L(6682),de=L(8819);function te(c){for(let u in c)if(c[u]===te)return u;throw Error("Could not find renamed property on target object.")}function Z(c,u){for(const d in u)u.hasOwnProperty(d)&&!c.hasOwnProperty(d)&&(c[d]=u[d])}function W(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(W).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function z(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const V=te({__forward_ref__:te});function Q(c){return c.__forward_ref__=Q,c.toString=function(){return W(this())},c}function H(c){return X(c)?c():c}function X(c){return"function"==typeof c&&c.hasOwnProperty(V)&&c.__forward_ref__===Q}class De extends Error{constructor(u,d){super(function(c,u){return`${c?`NG0${c}: `:""}${u}`}(u,d)),this.code=u}}function we(c){return"string"==typeof c?c:null==c?"":String(c)}function Ie(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():we(c)}function Ht(c,u){const d=u?` in ${u}`:"";throw new De("201",`No provider for ${Ie(c)} found${d}`)}function _t(c,u,d,f){throw new Error(`ASSERTION ERROR: ${c}`+(null==f?"":` [Expected=> ${d} ${f} ${u} <=Actual]`))}function Ot(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Zn(c){return{providers:c.providers||[],imports:c.imports||[]}}function qi(c){return vs(c,ws)||vs(c,ia)}function vs(c,u){return c.hasOwnProperty(u)?c[u]:null}function Xs(c){return c&&(c.hasOwnProperty(Mr)||c.hasOwnProperty(Ls))?c[Mr]:null}const ws=te({\u0275prov:te}),Mr=te({\u0275inj:te}),ia=te({ngInjectableDef:te}),Ls=te({ngInjectorDef:te});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let hn;function Pi(c){const u=hn;return hn=c,u}function Mt(c,u,d){const f=qi(c);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&lt.Optional?null:void 0!==u?u:void Ht(W(c),"Injector")}function en(c){return{toString:c}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),Ye=(()=>((Ye=Ye||{})[Ye.Emulated=0]="Emulated",Ye[Ye.None=2]="None",Ye[Ye.ShadowDom=3]="ShadowDom",Ye))();const st="undefined"!=typeof globalThis&&globalThis,ra="undefined"!=typeof window&&window,sa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,is="undefined"!=typeof global&&global,Cn=st||is||ra||sa,bn={},Y=[],j=te({\u0275cmp:te}),ne=te({\u0275dir:te}),fe=te({\u0275pipe:te}),oe=te({\u0275mod:te}),Ge=te({\u0275loc:te}),et=te({\u0275fac:te}),Nt=te({__NG_ELEMENT_ID__:te});let Mn=0;function tn(c){return en(()=>{const d={},f={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||Y,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||Ye.Emulated,id:"c",styles:c.styles||Y,_:null,setInput:null,schemas:c.schemas||null,tView:null},p=c.directives,g=c.features,v=c.pipes;return f.id+=Mn++,f.inputs=bt(c.inputs,d),f.outputs=bt(c.outputs),g&&g.forEach(C=>C(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(ce):null,f.pipeDefs=v?()=>("function"==typeof v?v():v).map(J):null,f})}function Xn(c,u,d){const f=c.\u0275cmp;f.directiveDefs=()=>u.map(ce),f.pipeDefs=()=>d.map(J)}function ce(c){return ln(c)||function(c){return c[ne]||null}(c)}function J(c){return function(c){return c[fe]||null}(c)}const ee={};function Se(c){return en(()=>{const u={type:c.type,bootstrap:c.bootstrap||Y,declarations:c.declarations||Y,imports:c.imports||Y,exports:c.exports||Y,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(ee[c.id]=c.type),u})}function Ze(c,u){return en(()=>{const d=Ft(c,!0);d.declarations=u.declarations||Y,d.imports=u.imports||Y,d.exports=u.exports||Y})}function bt(c,u){if(null==c)return bn;const d={};for(const f in c)if(c.hasOwnProperty(f)){let p=c[f],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),d[p]=f,u&&(u[p]=g)}return d}const Kt=tn;function fn(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function ln(c){return c[j]||null}function Ft(c,u){const d=c[oe]||null;if(!d&&!0===u)throw new Error(`Type ${W(c)} does not have '\u0275mod' property.`);return d}function Ao(c){return Array.isArray(c)&&"object"==typeof c[1]}function Ur(c){return Array.isArray(c)&&!0===c[1]}function If(c){return 0!=(8&c.flags)}function ua(c){return 2==(2&c.flags)}function Di(c){return 1==(1&c.flags)}function Ji(c){return null!==c.template}function os(c){return 0!=(512&c[2])}function Fa(c,u){return c.hasOwnProperty(et)?c[et]:null}class Ov{constructor(u,d,f){this.previousValue=u,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Xt(){return Nf}function Nf(c){return c.type.prototype.ngOnChanges&&(c.setInput=Nv),Pf}function Pf(){const c=Sc(this),u=null==c?void 0:c.current;if(u){const d=c.previous;if(d===bn)c.previous=u;else for(let f in u)d[f]=u[f];c.current=null,this.ngOnChanges(u)}}function Nv(c,u,d,f){const p=Sc(c)||function(c,u){return c[Ff]=u}(c,{previous:bn,current:null}),g=p.current||(p.current={}),v=p.previous,C=this.declaredInputs[d],E=v[C];g[C]=new Ov(E&&E.currentValue,u,v===bn),c[f]=u}Xt.ngInherit=!0;const Ff="__ngSimpleChanges__";function Sc(c){return c[Ff]||null}const Tl="http://www.w3.org/2000/svg";let xc;function Pv(c){xc=c}function ld(){return void 0!==xc?xc:"undefined"!=typeof document?document:void 0}function zn(c){return!!c.listen}const da={createRenderer:(c,u)=>ld()};function Gn(c){for(;Array.isArray(c);)c=c[0];return c}function La(c,u){return Gn(u[c])}function Hr(c,u){return Gn(u[c.index])}function kc(c,u){return c.data[u]}function Ba(c,u){return c[u]}function Er(c,u){const d=u[c];return Ao(d)?d:d[0]}function Fv(c){return 4==(4&c[2])}function ud(c){return 128==(128&c[2])}function Ro(c,u){return null==u?null:c[u]}function Ic(c){c[18]=0}function Rc(c,u){c[5]+=u;let d=c,f=c[3];for(;null!==f&&(1===u&&1===d[5]||-1===u&&0===d[5]);)f[5]+=u,d=f,f=f[3]}const wt={lFrame:Gv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vv(){return wt.bindingsEnabled}function ke(){return wt.lFrame.lView}function sn(){return wt.lFrame.tView}function Oc(c){return wt.lFrame.contextLView=c,c[8]}function ti(){let c=Nc();for(;null!==c&&64===c.type;)c=c.parent;return c}function Nc(){return wt.lFrame.currentTNode}function Va(){const c=wt.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}function Cs(c,u){const d=wt.lFrame;d.currentTNode=c,d.isParent=u}function Sl(){return wt.lFrame.isParent}function hd(){wt.lFrame.isParent=!1}function fd(){return wt.isInCheckNoChangesMode}function xl(c){wt.isInCheckNoChangesMode=c}function Qi(){const c=wt.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function cs(){return wt.lFrame.bindingIndex}function Bs(){return wt.lFrame.bindingIndex++}function Vs(c){const u=wt.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,d}function Fg(c){wt.lFrame.inI18n=c}function pd(c,u){const d=wt.lFrame;d.bindingIndex=d.bindingRootIndex=c,Pc(u)}function Pc(c){wt.lFrame.currentDirectiveIndex=c}function qf(c){const u=wt.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function Lg(){return wt.lFrame.currentQueryIndex}function Al(c){wt.lFrame.currentQueryIndex=c}function md(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function Bg(c,u,d){if(d&lt.SkipSelf){let p=u,g=c;for(;!(p=p.parent,null!==p||d&lt.Host||(p=md(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;u=p,c=g}const f=wt.lFrame=Zf();return f.currentTNode=u,f.lView=c,!0}function Oo(c){const u=Zf(),d=c[1];wt.lFrame=u,u.currentTNode=d.firstChild,u.lView=c,u.tView=d,u.contextLView=c,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function Zf(){const c=wt.lFrame,u=null===c?null:c.child;return null===u?Gv(c):u}function Gv(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function Vg(){const c=wt.lFrame;return wt.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Yv=Vg;function Fc(){const c=Vg();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Sr(){return wt.lFrame.selectedIndex}function kl(c){wt.lFrame.selectedIndex=c}function Mi(){const c=wt.lFrame;return kc(c.tView,c.selectedIndex)}function wD(){wt.lFrame.currentNamespace=Tl}function qv(){wt.lFrame.currentNamespace=null}function gd(c,u){for(let d=u.directiveStart,f=u.directiveEnd;d<f;d++){const g=c.data[d].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:k}=g;v&&(c.contentHooks||(c.contentHooks=[])).push(-d,v),C&&((c.contentHooks||(c.contentHooks=[])).push(d,C),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(d,C)),E&&(c.viewHooks||(c.viewHooks=[])).push(-d,E),x&&((c.viewHooks||(c.viewHooks=[])).push(d,x),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(d,x)),null!=k&&(c.destroyHooks||(c.destroyHooks=[])).push(d,k)}}function Il(c,u,d){yd(c,u,3,d)}function _d(c,u,d,f){(3&c[2])===d&&yd(c,u,d,f)}function $f(c,u){let d=c[2];(3&d)===u&&(d&=2047,d+=1,c[2]=d)}function yd(c,u,d,f){const g=null!=f?f:-1,v=u.length-1;let C=0;for(let E=void 0!==f?65535&c[18]:0;E<v;E++)if("number"==typeof u[E+1]){if(C=u[E],null!=f&&C>=f)break}else u[E]<0&&(c[18]+=65536),(C<g||-1==g)&&(Wf(c,d,u,E),c[18]=(4294901760&c[18])+E+2),E++}function Wf(c,u,d,f){const p=d[f]<0,g=d[f+1],C=c[p?-d[f]:d[f]];if(p){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Ha{constructor(u,d,f){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Qf(c,u,d){const f=zn(c);let p=0;for(;p<d.length;){const g=d[p];if("number"==typeof g){if(0!==g)break;p++;const v=d[p++],C=d[p++],E=d[p++];f?c.setAttribute(u,C,E,v):u.setAttributeNS(v,C,E)}else{const v=g,C=d[++p];Gr(v)?f&&c.setProperty(u,v,C):f?c.setAttribute(u,v,C):u.setAttribute(v,C),p++}}return p}function Hg(c){return 3===c||4===c||6===c}function Gr(c){return 64===c.charCodeAt(0)}function bd(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let d=-1;for(let f=0;f<u.length;f++){const p=u[f];"number"==typeof p?d=p:0===d||Ti(c,d,p,null,-1===d||2===d?u[++f]:null)}}return c}function Ti(c,u,d,f,p){let g=0,v=c.length;if(-1===u)v=-1;else for(;g<c.length;){const C=c[g++];if("number"==typeof C){if(C===u){v=-1;break}if(C>u){v=g-1;break}}}for(;g<c.length;){const C=c[g];if("number"==typeof C)break;if(C===d){if(null===f)return void(null!==p&&(c[g+1]=p));if(f===c[g+1])return void(c[g+2]=p)}g++,null!==f&&g++,null!==p&&g++}-1!==v&&(c.splice(v,0,u),g=v+1),c.splice(g++,0,d),null!==f&&c.splice(g++,0,f),null!==p&&c.splice(g++,0,p)}function vd(c){return-1!==c}function Po(c){return 32767&c}function Ga(c,u){let d=function(c){return c>>16}(c),f=u;for(;d>0;)f=f[15],d--;return f}let Gg=!0;function wd(c){const u=Gg;return Gg=c,u}let Jv=0;function fa(c,u){const d=me(c,u);if(-1!==d)return d;const f=u[1];f.firstCreatePass&&(c.injectorIndex=u.length,jg(f.data,c),jg(u,null),jg(f.blueprint,null));const p=At(c,u),g=c.injectorIndex;if(vd(p)){const v=Po(p),C=Ga(p,u),E=C[1].data;for(let x=0;x<8;x++)u[g+x]=C[v+x]|E[v+x]}return u[g+8]=p,g}function jg(c,u){c.push(0,0,0,0,0,0,0,0,u)}function me(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function At(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let d=0,f=null,p=u;for(;null!==p;){const g=p[1],v=g.type;if(f=2===v?g.declTNode:1===v?p[6]:null,null===f)return-1;if(d++,p=p[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Ya(c,u,d){!function(c,u,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Nt)&&(f=d[Nt]),null==f&&(f=d[Nt]=Jv++);const p=255&f;u.data[c+(p>>5)]|=1<<p}(c,u,d)}function qe(c,u,d){if(d&lt.Optional)return c;Ht(u,"NodeInjector")}function qg(c,u,d,f){if(d&lt.Optional&&void 0===f&&(f=null),0==(d&(lt.Self|lt.Host))){const p=c[9],g=Pi(void 0);try{return p?p.get(u,f,d&lt.Optional):Mt(u,f,d&lt.Optional)}finally{Pi(g)}}return qe(f,u,d)}function Bc(c,u,d,f=lt.Default,p){if(null!==c){const g=function(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Nt)?c[Nt]:void 0;return"number"==typeof u?u>=0?255&u:yk:u}(d);if("function"==typeof g){if(!Bg(u,c,f))return f&lt.Host?qe(p,d,f):qg(u,d,f,p);try{const v=g(f);if(null!=v||f&lt.Optional)return v;Ht(d)}finally{Yv()}}else if("number"==typeof g){let v=null,C=me(c,u),E=-1,x=f&lt.Host?u[16][6]:null;for((-1===C||f&lt.SkipSelf)&&(E=-1===C?At(c,u):u[C+8],-1!==E&&Kv(f,!1)?(v=u[1],C=Po(E),u=Ga(E,u)):C=-1);-1!==C;){const k=u[1];if(Kf(g,C,k.data)){const N=Ki(C,u,d,v,f,x);if(N!==Md)return N}E=u[C+8],-1!==E&&Kv(f,u[1].data[C+8]===x)&&Kf(g,C,u)?(v=k,C=Po(E),u=Ga(E,u)):C=-1}}}return qg(u,d,f,p)}const Md={};function yk(){return new xr(ti(),ke())}function Ki(c,u,d,f,p,g){const v=u[1],C=v.data[c+8],k=Td(C,v,d,null==f?ua(C)&&Gg:f!=v&&0!=(3&C.type),p&lt.Host&&g===C);return null!==k?Vc(u,v,k,C):Md}function Td(c,u,d,f,p){const g=c.providerIndexes,v=u.data,C=1048575&g,E=c.directiveStart,k=g>>20,F=p?C+k:c.directiveEnd;for(let G=f?C:C+k;G<F;G++){const K=v[G];if(G<E&&d===K||G>=E&&K.type===d)return G}if(p){const G=v[E];if(G&&Ji(G)&&G.type===d)return E}return null}function Vc(c,u,d,f){let p=c[d];const g=u.data;if(function(c){return c instanceof Ha}(p)){const v=p;v.resolving&&function(c,u){throw new De("200",`Circular dependency in DI detected for ${c}`)}(Ie(g[d]));const C=wd(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Pi(v.injectImpl):null;Bg(c,f,lt.Default);try{p=c[d]=v.factory(void 0,g,c,f),u.firstCreatePass&&d>=f.directiveStart&&function(c,u,d){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:g}=u.type.prototype;if(f){const v=Nf(u);(d.preOrderHooks||(d.preOrderHooks=[])).push(c,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(c,v)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-c,p),g&&((d.preOrderHooks||(d.preOrderHooks=[])).push(c,g),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(c,g))}(d,g[d],u)}finally{null!==E&&Pi(E),wd(C),v.resolving=!1,Yv()}}return p}function Kf(c,u,d){return!!(d[u+(c>>5)]&1<<c)}function Kv(c,u){return!(c&lt.Self||c&lt.Host&&u)}class xr{constructor(u,d){this._tNode=u,this._lView=d}get(u,d){return Bc(this._tNode,this._lView,u,void 0,d)}}function Xi(c){return en(()=>{const u=c.prototype.constructor,d=u[et]||Rl(u),f=Object.prototype;let p=Object.getPrototypeOf(c.prototype).constructor;for(;p&&p!==f;){const g=p[et]||Rl(p);if(g&&g!==d)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function Rl(c){return X(c)?()=>{const u=Rl(H(c));return u&&u()}:Fa(c)}function Ol(c){return function(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const d=c.attrs;if(d){const f=d.length;let p=0;for(;p<f;){const g=d[p];if(Hg(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<f&&"string"==typeof d[p];)p++;else{if(g===u)return d[p+1];p+=2}}}return null}(ti(),c)}const io="__parameters__",ds="__prop__metadata__";function Ds(c){return function(...d){if(c){const f=c(...d);for(const p in f)this[p]=f[p]}}}function ur(c,u,d){return en(()=>{const f=Ds(u);function p(...g){if(this instanceof p)return f.apply(this,g),this;const v=new p(...g);return C.annotation=v,C;function C(E,x,k){const N=E.hasOwnProperty(io)?E[io]:Object.defineProperty(E,io,{value:[]})[io];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=c,p.annotationCls=p,p})}function Zg(c,u,d,f){return en(()=>{const p=Ds(u);function g(...v){if(this instanceof g)return p.apply(this,v),this;const C=new g(...v);return function(x,k){const N=x.constructor,F=N.hasOwnProperty(ds)?N[ds]:Object.defineProperty(N,ds,{value:{}})[ds];F[k]=F.hasOwnProperty(k)&&F[k]||[],F[k].unshift(C),f&&f(x,k,...v)}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=c,g.annotationCls=g,g})}class fi{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Ot({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ED=new fi("AnalyzeForEntryComponents"),Fo=Function;function Us(c,u){void 0===u&&(u=c);for(let d=0;d<c.length;d++){let f=c[d];Array.isArray(f)?(u===c&&(u=c.slice(0,d)),Us(f,u)):u!==c&&u.push(f)}return u}function Hs(c,u){c.forEach(d=>Array.isArray(d)?Hs(d,u):u(d))}function xd(c,u,d){u>=c.length?c.push(d):c.splice(u,0,d)}function Nl(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function ja(c,u){const d=[];for(let f=0;f<c;f++)d.push(u);return d}function Ms(c,u,d){let f=Hc(c,u);return f>=0?c[1|f]=d:(f=~f,function(c,u,d,f){let p=c.length;if(p==u)c.push(d,f);else if(1===p)c.push(f,c[0]),c[0]=d;else{for(p--,c.push(c[p-1],c[p]);p>u;)c[p]=c[p-2],p--;c[u]=d,c[u+1]=f}}(c,f,u,d)),f}function Ad(c,u){const d=Hc(c,u);if(d>=0)return c[1|d]}function Hc(c,u){return function(c,u,d){let f=0,p=c.length>>d;for(;p!==f;){const g=f+(p-f>>1),v=c[g<<d];if(u===v)return g<<d;v>u?p=g:f=g+1}return~(p<<d)}(c,u,1)}const Id={},Rd="__NG_DI_FLAG__",Yc="ngTempTokenPath",e_=/\n/gm,Od="__source",Nd=te({provide:String,useValue:te});let jc;function qa(c){const u=jc;return jc=c,u}function OD(c,u=lt.Default){if(void 0===jc)throw new Error("inject() must be called from an injection context");return null===jc?Mt(c,void 0,u):jc.get(c,u&lt.Optional?null:void 0,u)}function pi(c,u=lt.Default){return(hn||OD)(H(c),u)}const l0=pi;function Pl(c){const u=[];for(let d=0;d<c.length;d++){const f=H(c[d]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let p,g=lt.Default;for(let v=0;v<f.length;v++){const C=f[v],E=n_(C);"number"==typeof E?-1===E?p=C.token:g|=E:p=C}u.push(pi(p,g))}else u.push(pi(f))}return u}function qc(c,u){return c[Rd]=u,c.prototype[Rd]=u,c}function n_(c){return c[Rd]}function c0(c,u,d,f){const p=c[Yc];throw u[Od]&&p.unshift(u[Od]),c.message=function(c,u,d,f=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let p=W(u);if(Array.isArray(u))p=u.map(W).join(" -> ");else if("object"==typeof u){let g=[];for(let v in u)if(u.hasOwnProperty(v)){let C=u[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):W(C)))}p=`{${g.join(", ")}}`}return`${d}${f?"("+f+")":""}[${p}]: ${c.replace(e_,"\n  ")}`}("\n"+c.message,p,d,f),c.ngTokenPath=p,c[Yc]=null,c}const Za=qc(ur("Inject",c=>({token:c})),-1),pa=qc(ur("Optional"),8),Pd=qc(ur("Self"),2),ma=qc(ur("SkipSelf"),4);let rp,$c;function zc(c){var u;return(null===(u=function(){if(void 0===rp&&(rp=null,Cn.trustedTypes))try{rp=Cn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return rp}())||void 0===u?void 0:u.createHTML(c))||c}function Ei(c){var u;return(null===(u=function(){if(void 0===$c&&($c=null,Cn.trustedTypes))try{$c=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return $c}())||void 0===u?void 0:u.createScriptURL(c))||c}class hs{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wc extends hs{getTypeName(){return"HTML"}}class m0 extends hs{getTypeName(){return"Style"}}class g0 extends hs{getTypeName(){return"Script"}}class _0 extends hs{getTypeName(){return"URL"}}class vt extends hs{getTypeName(){return"ResourceURL"}}function ga(c){return c instanceof hs?c.changingThisBreaksApplicationSecurity:c}function T(c,u){const d=b(c);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===u}function b(c){return c instanceof hs&&c.getTypeName()||null}function w(c){return new Wc(c)}function S(c){return new m0(c)}function R(c){return new g0(c)}function P(c){return new _0(c)}function ue(c){return new vt(c)}function Fe(c){const u=new Ct(c);return function(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch(c){return!1}}()?new it(u):u}class it{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const d=(new window.DOMParser).parseFromString(zc(u),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(u):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Ct{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(u){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=zc(u),d;const f=this.inertDocument.createElement("body");return f.innerHTML=zc(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(u){const d=u.attributes;for(let p=d.length-1;0<p;p--){const v=d.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&u.removeAttribute(v)}let f=u.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const vn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oi(c){return(c=String(c)).match(vn)||c.match(_a)?c:"unsafe:"+c}function Be(c){return(c=String(c)).split(",").map(u=>oi(u.trim())).join(", ")}function Ts(c){const u={};for(const d of c.split(","))u[d]=!0;return u}function Fl(...c){const u={};for(const d of c)for(const f in d)d.hasOwnProperty(f)&&(u[f]=!0);return u}const xe=Ts("area,br,col,hr,img,wbr"),jt=Ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),op=Ts("rp,rt"),Bd=Fl(xe,Fl(jt,Ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fl(op,Ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fl(op,jt)),za=Ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),It=Ts("srcset"),y0=Fl(za,It,Ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GD=Ts("script,style,template");class cp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let d=u.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(u){const d=u.nodeName.toLowerCase();if(!Bd.hasOwnProperty(d))return this.sanitizedSomething=!0,!GD.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=u.attributes;for(let p=0;p<f.length;p++){const g=f.item(p),v=g.name,C=v.toLowerCase();if(!y0.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=g.value;za[C]&&(E=oi(E)),It[C]&&(E=Be(E)),this.buf.push(" ",v,'="',up(E),'"')}return this.buf.push(">"),!0}endElement(u){const d=u.nodeName.toLowerCase();Bd.hasOwnProperty(d)&&!xe.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(u){this.buf.push(up(u))}checkClobberedElement(u,d){if(d&&(u.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return d}}const Ak=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bo=/([^\#-~ |!])/g;function up(c){return c.replace(/&/g,"&amp;").replace(Ak,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Bo,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ya;function b0(c,u){let d=null;try{ya=ya||Fe(c);let f=u?String(u):"";d=ya.getInertBodyElement(f);let p=5,g=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=g,g=d.innerHTML,d=ya.getInertBodyElement(f)}while(f!==g);return zc((new cp).sanitizeChildren(Qc(d)||d))}finally{if(d){const f=Qc(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Qc(c){return"content"in c&&function(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function Es(c){const u=Ll();return u?u.sanitize(Si.URL,c)||"":T(c,"URL")?ga(c):oi(we(c))}function An(c){const u=Ll();if(u)return Ei(u.sanitize(Si.RESOURCE_URL,c)||"");if(T(c,"ResourceURL"))return Ei(ga(c));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Ll(){const c=ke();return c&&c[12]}const qD="__ngContext__";function ni(c,u){c[qD]=u}function pp(c){const u=function(c){return c[qD]||null}(c);return u?Array.isArray(u)?u:u.lView:null}function l_(c){return c.ngOriginalError}function Fk(c,...u){c.error(...u)}class Vd{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u),f=this._findContext(u),p=(c=u)&&c.ngErrorLogger||Fk;var c;p(this._console,"ERROR",u),d&&p(this._console,"ORIGINAL ERROR",d),f&&p(this._console,"ERROR CONTEXT",f)}_findContext(u){return u?u.ngDebugContext||this._findContext(l_(u)):null}_findOriginalError(u){let d=u&&l_(u);for(;d&&l_(d);)d=l_(d);return d||null}}const H2=/^>|^->|<!--|-->|--!>|<!-$/g,G2=/(<|>)/;const mp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function Uo(c){return c instanceof Function?c():c}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();let d_;function Ud(c,u){return d_(c,u)}function Hd(c){const u=c[3];return Ur(u)?u[3]:u}function p_(c){return XD(c[13])}function Xc(c){return XD(c[4])}function XD(c){for(;null!==c&&!Ur(c);)c=c[4];return c}function gp(c,u,d,f,p){if(null!=f){let g,v=!1;Ur(f)?g=f:Ao(f)&&(v=!0,f=f[0]);const C=Gn(f);0===c&&null!==d?null==p?rM(u,d,C):Ho(u,d,C,p||null,!0):1===c&&null!==d?Ho(u,d,C,p||null,!0):2===c?lM(u,C,v):3===c&&u.destroyNode(C),null!=g&&function(c,u,d,f,p){const g=d[7];g!==Gn(d)&&gp(u,c,f,g,p);for(let C=10;C<d.length;C++){const E=d[C];pn(E[1],E,c,u,f,g)}}(u,c,g,d,p)}}function k0(c,u){return zn(c)?c.createText(u):c.createTextNode(u)}function Yk(c,u,d){zn(c)?c.setValue(u,d):u.textContent=d}function jk(c,u){return c.createComment(function(c){return c.replace(H2,u=>u.replace(G2,"\u200b$1\u200b"))}(u))}function Bl(c,u,d){return zn(c)?c.createElement(u,d):null===d?c.createElement(u):c.createElementNS(d,u)}function tM(c,u){const d=c[9],f=d.indexOf(u),p=u[3];1024&u[2]&&(u[2]&=-1025,Rc(p,-1)),d.splice(f,1)}function I0(c,u){if(c.length<=10)return;const d=10+u,f=c[d];if(f){const p=f[17];null!==p&&p!==c&&tM(p,f),u>0&&(c[d-1][4]=f[4]);const g=Nl(c,10+u);!function(c,u){pn(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(f[1],f);const v=g[19];null!==v&&v.detachView(g[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function nM(c,u){if(!(256&u[2])){const d=u[11];zn(d)&&d.destroyNode&&pn(c,u,d,3,null,null),function(c){let u=c[13];if(!u)return R0(c[1],c);for(;u;){let d=null;if(Ao(u))d=u[13];else{const f=u[10];f&&(d=f)}if(!d){for(;u&&!u[4]&&u!==c;)Ao(u)&&R0(u[1],u),u=u[3];null===u&&(u=c),Ao(u)&&R0(u[1],u),d=u&&u[4]}u=d}}(u)}}function R0(c,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(c,u){let d;if(null!=c&&null!=(d=c.destroyHooks))for(let f=0;f<d.length;f+=2){const p=u[d[f]];if(!(p instanceof Ha)){const g=d[f+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=p[g[v]],E=g[v+1];try{E.call(C)}finally{}}else try{g.call(p)}finally{}}}}(c,u),function(c,u){const d=c.cleanup,f=u[7];let p=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const v=d[g+1],C="function"==typeof v?v(u):Gn(u[v]),E=f[p=d[g+2]],x=d[g+3];"boolean"==typeof x?C.removeEventListener(d[g],E,x):x>=0?f[p=x]():f[p=-x].unsubscribe(),g+=2}else{const v=f[p=d[g+1]];d[g].call(v)}if(null!==f){for(let g=p+1;g<f.length;g++)f[g]();u[7]=null}}(c,u),1===u[1].type&&zn(u[11])&&u[11].destroy();const d=u[17];if(null!==d&&Ur(u[3])){d!==u[3]&&tM(d,u);const f=u[19];null!==f&&f.detachView(c)}}}function Wk(c,u,d){return m_(c,u.parent,d)}function m_(c,u,d){let f=u;for(;null!==f&&40&f.type;)f=(u=f).parent;if(null===f)return d[0];if(2&f.flags){const p=c.data[f.directiveStart].encapsulation;if(p===Ye.None||p===Ye.Emulated)return null}return Hr(f,d)}function Ho(c,u,d,f,p){zn(c)?c.insertBefore(u,d,f,p):u.insertBefore(d,f,p)}function rM(c,u,d){zn(c)?c.appendChild(u,d):u.appendChild(d)}function sM(c,u,d,f,p){null!==f?Ho(c,u,d,f,p):rM(c,u,d)}function Gd(c,u){return zn(c)?c.parentNode(u):u.parentNode}function _p(c,u,d){return yp(c,u,d)}function oM(c,u,d){return 40&c.type?Hr(c,d):null}let Yd,yp=oM;function aM(c,u){yp=c,Yd=u}function Vl(c,u,d,f){const p=Wk(c,f,u),g=u[11],C=_p(f.parent||u[6],f,u);if(null!=p)if(Array.isArray(d))for(let E=0;E<d.length;E++)sM(g,p,d[E],C,!1);else sM(g,p,d,C,!1);void 0!==Yd&&Yd(g,f,u,d,p)}function zt(c,u){if(null!==u){const d=u.type;if(3&d)return Hr(u,c);if(4&d)return O0(-1,c[u.index]);if(8&d){const f=u.child;if(null!==f)return zt(c,f);{const p=c[u.index];return Ur(p)?O0(-1,p):Gn(p)}}if(32&d)return Ud(u,c)()||Gn(c[u.index]);{const f=bp(c,u);return null!==f?Array.isArray(f)?f[0]:zt(Hd(c[16]),f):zt(c,u.next)}}return null}function bp(c,u){return null!==u?c[16][6].projection[u.projection]:null}function O0(c,u){const d=10+c+1;if(d<u.length){const f=u[d],p=f[1].firstChild;if(null!==p)return zt(f,p)}return u[7]}function lM(c,u,d){const f=Gd(c,u);f&&function(c,u,d,f){zn(c)?c.removeChild(u,d,f):u.removeChild(d)}(c,f,u,d)}function Bn(c,u,d,f,p,g,v){for(;null!=d;){const C=f[d.index],E=d.type;if(v&&0===u&&(C&&ni(Gn(C),f),d.flags|=4),64!=(64&d.flags))if(8&E)Bn(c,u,d.child,f,p,g,!1),gp(u,c,p,C,g);else if(32&E){const x=Ud(d,f);let k;for(;k=x();)gp(u,c,p,k,g);gp(u,c,p,C,g)}else 16&E?cM(c,u,f,d,p,g):gp(u,c,p,C,g);d=v?d.projectionNext:d.next}}function pn(c,u,d,f,p,g){Bn(d,f,c.firstChild,u,p,g,!1)}function cM(c,u,d,f,p,g){const v=d[16],E=v[6].projection[f.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)gp(u,c,p,E[x],g);else Bn(c,u,E,v[3],p,g,!0)}function uM(c,u,d){zn(c)?c.setAttribute(u,"style",d):u.style.cssText=d}function N0(c,u,d){zn(c)?""===d?c.removeAttribute(u,"class"):c.setAttribute(u,"class",d):u.className=d}function dM(c,u,d){let f=c.length;for(;;){const p=c.indexOf(u,d);if(-1===p)return p;if(0===p||c.charCodeAt(p-1)<=32){const g=u.length;if(p+g===f||c.charCodeAt(p+g)<=32)return p}d=p+1}}const hM="ng-template";function fM(c,u,d){let f=0;for(;f<c.length;){let p=c[f++];if(d&&"class"===p){if(p=c[f],-1!==dM(p.toLowerCase(),u,0))return!0}else if(1===p){for(;f<c.length&&"string"==typeof(p=c[f++]);)if(p.toLowerCase()===u)return!0;return!1}}return!1}function pM(c){return 4===c.type&&c.value!==hM}function mn(c,u,d){return u===(4!==c.type||d?c.value:hM)}function $2(c,u,d){let f=4;const p=c.attrs||[],g=function(c){for(let u=0;u<c.length;u++)if(Hg(c[u]))return u;return c.length}(p);let v=!1;for(let C=0;C<u.length;C++){const E=u[C];if("number"!=typeof E){if(!v)if(4&f){if(f=2|1&f,""!==E&&!mn(c,E,d)||""===E&&1===u.length){if(jr(f))return!1;v=!0}}else{const x=8&f?E:u[++C];if(8&f&&null!==c.attrs){if(!fM(c.attrs,x,d)){if(jr(f))return!1;v=!0}continue}const N=Xk(8&f?"class":E,p,pM(c),d);if(-1===N){if(jr(f))return!1;v=!0;continue}if(""!==x){let F;F=N>g?"":p[N+1].toLowerCase();const G=8&f?F:null;if(G&&-1!==dM(G,x,0)||2&f&&x!==F){if(jr(f))return!1;v=!0}}}}else{if(!v&&!jr(f)&&!jr(E))return!1;if(v&&jr(E))continue;v=!1,f=E|1&f}}return jr(f)||v}function jr(c){return 0==(1&c)}function Xk(c,u,d,f){if(null===u)return-1;let p=0;if(f||!d){let g=!1;for(;p<u.length;){const v=u[p];if(v===c)return p;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=u[++p];for(;"string"==typeof C;)C=u[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=g?1:2}return-1}return function(c,u){let d=c.indexOf(4);if(d>-1)for(d++;d<c.length;){const f=c[d];if("number"==typeof f)return-1;if(f===u)return d;d++}return-1}(u,c)}function jd(c,u,d=!1){for(let f=0;f<u.length;f++)if($2(c,u[f],d))return!0;return!1}function wp(c,u){e:for(let d=0;d<u.length;d++){const f=u[d];if(c.length===f.length){for(let p=0;p<c.length;p++)if(c[p]!==f[p])continue e;return!0}}return!1}function tI(c,u){return c?":not("+u.trim()+")":u}function __(c){let u=c[0],d=1,f=2,p="",g=!1;for(;d<c.length;){let v=c[d];if("string"==typeof v)if(2&f){const C=c[++d];p+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&f?p+="."+v:4&f&&(p+=" "+v);else""!==p&&!jr(v)&&(u+=tI(g,p),p=""),f=v,g=g||!jr(f);d++}return""!==p&&(u+=tI(g,p)),u}const Lt={};function F0(c){gM(sn(),ke(),Sr()+c,fd())}function gM(c,u,d,f){if(!f)if(3==(3&u[2])){const g=c.preOrderCheckHooks;null!==g&&Il(u,g,d)}else{const g=c.preOrderHooks;null!==g&&_d(u,g,0,d)}kl(d)}function y_(c,u){return c<<17|u<<2}function va(c){return c>>17&32767}function Hl(c){return 2|c}function Ja(c){return(131068&c)>>2}function pr(c,u){return-131069&c|u<<2}function L0(c){return 1|c}function CM(c,u){const d=c.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const p=d[f],g=d[f+1];if(-1!==g){const v=c.data[g];Al(p),v.contentQueries(2,u[g],g)}}}function zd(c,u,d,f,p,g,v,C,E,x){const k=u.blueprint.slice();return k[0]=p,k[2]=140|f,Ic(k),k[3]=k[15]=c,k[8]=d,k[10]=v||c&&c[10],k[11]=C||c&&c[11],k[12]=E||c&&c[12]||null,k[9]=x||c&&c[9]||null,k[6]=g,k[16]=2==u.type?c[16]:k,k}function iu(c,u,d,f,p){let g=c.data[u];if(null===g)g=S_(c,u,d,f,p),wt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=d,g.value=f,g.attrs=p;const v=Va();g.injectorIndex=null===v?-1:v.injectorIndex}return Cs(g,!0),g}function S_(c,u,d,f,p){const g=Nc(),v=Sl(),E=c.data[u]=function(c,u,d,f,p,g){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,d,u,f,p);return null===c.firstChild&&(c.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function $d(c,u,d,f){if(0===d)return-1;const p=u.length;for(let g=0;g<d;g++)u.push(f),c.blueprint.push(f),c.data.push(null);return p}function Yl(c,u,d){Oo(u);try{const f=c.viewQuery;null!==f&&Q0(1,f,d);const p=c.template;null!==p&&x_(c,u,p,1,d),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&CM(c,u),c.staticViewQueries&&Q0(2,c.viewQuery,d);const g=c.components;null!==g&&function(c,u){for(let d=0;d<u.length;d++)Ka(c,u[d])}(u,g)}catch(f){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),f}finally{u[2]&=-5,Fc()}}function ru(c,u,d,f){const p=u[2];if(256==(256&p))return;Oo(u);const g=fd();try{Ic(u),function(c){wt.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==d&&x_(c,u,d,2,f);const v=3==(3&p);if(!g)if(v){const x=c.preOrderCheckHooks;null!==x&&Il(u,x,null)}else{const x=c.preOrderHooks;null!==x&&_d(u,x,0,null),$f(u,0)}if(function(c){for(let u=p_(c);null!==u;u=Xc(u)){if(!u[2])continue;const d=u[9];for(let f=0;f<d.length;f++){const p=d[f],g=p[3];0==(1024&p[2])&&Rc(g,1),p[2]|=1024}}}(u),function(c){for(let u=p_(c);null!==u;u=Xc(u))for(let d=10;d<u.length;d++){const f=u[d],p=f[1];ud(f)&&ru(p,f,p.template,f[8])}}(u),null!==c.contentQueries&&CM(c,u),!g)if(v){const x=c.contentCheckHooks;null!==x&&Il(u,x)}else{const x=c.contentHooks;null!==x&&_d(u,x,1),$f(u,1)}!function(c,u){const d=c.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const p=d[f];if(p<0)kl(~p);else{const g=p,v=d[++f],C=d[++f];pd(v,g),C(2,u[g])}}}finally{kl(-1)}}(c,u);const C=c.components;null!==C&&function(c,u){for(let d=0;d<u.length;d++)DI(c,u[d])}(u,C);const E=c.viewQuery;if(null!==E&&Q0(2,E,f),!g)if(v){const x=c.viewCheckHooks;null!==x&&Il(u,x)}else{const x=c.viewHooks;null!==x&&_d(u,x,2),$f(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),g||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Rc(u[3],-1))}finally{Fc()}}function pI(c,u,d,f){const p=u[10],g=!fd(),v=Fv(u);try{g&&!v&&p.begin&&p.begin(),v&&Yl(c,u,f),ru(c,u,d,f)}finally{g&&!v&&p.end&&p.end()}}function x_(c,u,d,f,p){const g=Sr(),v=2&f;try{kl(-1),v&&u.length>20&&gM(c,u,20,fd()),d(f,p)}finally{kl(g)}}function A_(c,u,d){if(If(u)){const p=u.directiveEnd;for(let g=u.directiveStart;g<p;g++){const v=c.data[g];v.contentQueries&&v.contentQueries(1,d[g],g)}}}function Dp(c,u,d){!Vv()||(function(c,u,d,f){const p=d.directiveStart,g=d.directiveEnd;c.firstCreatePass||fa(d,u),ni(f,u);const v=d.initialInputs;for(let C=p;C<g;C++){const E=c.data[C],x=Ji(E);x&&aB(u,d,E);const k=Vc(u,c,C,d);ni(k,u),null!==v&&Qa(0,C-p,k,E,0,v),x&&(Er(d.index,u)[8]=k)}}(c,u,d,Hr(d,u)),128==(128&d.flags)&&function(c,u,d){const f=d.directiveStart,p=d.directiveEnd,v=d.index,C=wt.lFrame.currentDirectiveIndex;try{kl(v);for(let E=f;E<p;E++){const x=c.data[E],k=u[E];Pc(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&oo(x,k)}}finally{kl(-1),Pc(C)}}(c,u,d))}function MM(c,u,d=Hr){const f=u.localNames;if(null!==f){let p=u.index+1;for(let g=0;g<f.length;g+=2){const v=f[g+1],C=-1===v?d(u,c):c[v];c[p++]=C}}}function q0(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=Z0(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function Z0(c,u,d,f,p,g,v,C,E,x){const k=20+f,N=k+p,F=function(c,u){const d=[];for(let f=0;f<u;f++)d.push(f<c?null:Lt);return d}(k,N),G="function"==typeof x?x():x;return F[1]={type:c,blueprint:F,template:d,queries:null,viewQuery:C,declTNode:u,data:F.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:G,incompleteFirstPass:!1}}function k_(c,u,d,f){const p=FM(u);null===d?p.push(f):(p.push(d),c.firstCreatePass&&su(c).push(f,p.length-1))}function $0(c,u,d){for(let f in c)if(c.hasOwnProperty(f)){const p=c[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(u,p):d[f]=[u,p]}return d}function so(c,u,d,f,p,g,v,C){const E=Hr(u,d);let k,x=u.inputs;!C&&null!=x&&(k=x[f])?(LM(c,d,k,f,p),ua(u)&&function(c,u){const d=Er(u,c);16&d[2]||(d[2]|=64)}(d,u.index)):3&u.type&&(f=function(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(f),p=null!=v?v(p,u.value||"",f):p,zn(g)?g.setProperty(E,f,p):Gr(f)||(E.setProperty?E.setProperty(f,p):E[f]=p))}function EM(c,u,d,f){let p=!1;if(Vv()){const g=function(c,u,d){const f=c.directiveRegistry;let p=null;if(f)for(let g=0;g<f.length;g++){const v=f[g];jd(d,v.selectors,!1)&&(p||(p=[]),Ya(fa(d,u),c,v.type),Ji(v)?(Jd(c,d),p.unshift(v)):p.push(v))}return p}(c,u,d),v=null===f?null:{"":-1};if(null!==g){p=!0,CI(d,c.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,x=$d(c,u,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];d.mergedAttrs=bd(d.mergedAttrs,N.hostAttrs),I_(c,d,u,x,N),SM(x,N,v),null!==N.contentQueries&&(d.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(d.flags|=128);const F=N.type.prototype;!C&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(d.index),C=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(d.index),E=!0),x++}!function(c,u){const f=u.directiveEnd,p=c.data,g=u.attrs,v=[];let C=null,E=null;for(let x=u.directiveStart;x<f;x++){const k=p[x],N=k.inputs,F=null===g||pM(u)?null:lB(N,g);v.push(F),C=$0(N,x,C),E=$0(k.outputs,x,E)}null!==C&&(C.hasOwnProperty("class")&&(u.flags|=16),C.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=v,u.inputs=C,u.outputs=E}(c,d)}v&&function(c,u,d){if(u){const f=c.localNames=[];for(let p=0;p<u.length;p+=2){const g=d[u[p+1]];if(null==g)throw new De("301",`Export of name '${u[p+1]}' not found!`);f.push(u[p],g)}}}(d,f,v)}return d.mergedAttrs=bd(d.mergedAttrs,d.attrs),p}function vI(c,u,d,f,p,g){const v=g.hostBindings;if(v){let C=c.hostBindingOpCodes;null===C&&(C=c.hostBindingOpCodes=[]);const E=~u.index;(function(c){let u=c.length;for(;u>0;){const d=c[--u];if("number"==typeof d&&d<0)return d}return 0})(C)!=E&&C.push(E),C.push(f,p,v)}}function oo(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function Jd(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function SM(c,u,d){if(d){if(u.exportAs)for(let f=0;f<u.exportAs.length;f++)d[u.exportAs[f]]=c;Ji(u)&&(d[""]=c)}}function CI(c,u,d){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+d,c.providerIndexes=u}function I_(c,u,d,f,p){c.data[f]=p;const g=p.factory||(p.factory=Fa(p.type)),v=new Ha(g,Ji(p),null);c.blueprint[f]=v,d[f]=v,vI(c,u,0,f,$d(c,d,p.hostVars,Lt),p)}function aB(c,u,d){const f=Hr(u,c),p=q0(d),g=c[10],v=Qd(c,zd(c,p,null,d.onPush?64:16,f,u,g,g.createRenderer(f,d),null,null));c[u.index]=v}function xM(c,u,d,f,p,g,v){if(null==g)zn(c)?c.removeAttribute(u,p,d):u.removeAttribute(p);else{const C=null==v?we(g):v(g,f||"",p);zn(c)?c.setAttribute(u,p,C,d):d?u.setAttributeNS(d,p,C):u.setAttribute(p,C)}}function Qa(c,u,d,f,p,g){const v=g[u];if(null!==v){const C=f.setInput;for(let E=0;E<v.length;){const x=v[E++],k=v[E++],N=v[E++];null!==C?f.setInput(d,N,x,k):d[k]=N}}}function lB(c,u){let d=null,f=0;for(;f<u.length;){const p=u[f];if(0!==p)if(5!==p){if("number"==typeof p)break;c.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,c[p],u[f+1])),f+=2}else f+=2;else f+=4}return d}function AM(c,u,d,f){return new Array(c,!0,!1,u,null,0,f,d,null,null)}function DI(c,u){const d=Er(u,c);if(ud(d)){const f=d[1];80&d[2]?ru(f,d,f.template,d[8]):d[5]>0&&RM(d)}}function RM(c){for(let f=p_(c);null!==f;f=Xc(f))for(let p=10;p<f.length;p++){const g=f[p];if(1024&g[2]){const v=g[1];ru(v,g,v.template,g[8])}else g[5]>0&&RM(g)}const d=c[1].components;if(null!==d)for(let f=0;f<d.length;f++){const p=Er(d[f],c);ud(p)&&p[5]>0&&RM(p)}}function Ka(c,u){const d=Er(u,c),f=d[1];(function(c,u){for(let d=u.length;d<c.blueprint.length;d++)u.push(c.blueprint[d])})(f,d),Yl(f,d,d[8])}function Qd(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function jl(c){for(;c;){c[2]|=64;const u=Hd(c);if(os(c)&&!u)return c;c=u}return null}function R_(c,u,d){const f=u[10];f.begin&&f.begin();try{ru(c,u,c.template,d)}catch(p){throw Mp(u,p),p}finally{f.end&&f.end()}}function NM(c){!function(c){for(let u=0;u<c.components.length;u++){const d=c.components[u],f=pp(d),p=f[1];pI(p,f,p.template,d)}}(c[8])}function Q0(c,u,d){Al(0),u(c,d)}const Kd=(()=>Promise.resolve(null))();function FM(c){return c[7]||(c[7]=[])}function su(c){return c.cleanup||(c.cleanup=[])}function ou(c,u,d){return(null===c||Ji(c))&&(d=function(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(d[u.index])),d[11]}function Mp(c,u){const d=c[9],f=d?d.get(Vd,null):null;f&&f.handleError(u)}function LM(c,u,d,f,p){for(let g=0;g<d.length;){const v=d[g++],C=d[g++],E=u[v],x=c.data[v];null!==x.setInput?x.setInput(E,p,f,C):E[C]=p}}function Xa(c,u,d){const f=La(u,c);Yk(c[11],f,d)}function ao(c,u,d){let f=d?c.styles:null,p=d?c.classes:null,g=0;if(null!==u)for(let v=0;v<u.length;v++){const C=u[v];"number"==typeof C?g=C:1==g?p=z(p,C):2==g&&(f=z(f,C+": "+u[++v]+";"))}d?c.styles=f:c.stylesWithoutHost=f,d?c.classes=p:c.classesWithoutHost=p}const ql=new fi("INJECTOR",-1);class ew{get(u,d=Id){if(d===Id){const f=new Error(`NullInjectorError: No provider for ${W(u)}!`);throw f.name="NullInjectorError",f}return d}}const au=new fi("Set Injector scope."),Xd={},uB={};let Tp;function BM(){return void 0===Tp&&(Tp=new ew),Tp}function eh(c,u=null,d=null,f){return new AI(c,d,u||BM(),f)}class AI{constructor(u,d,f,p=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];d&&Hs(d,C=>this.processProvider(C,u,d)),Hs([u],C=>this.processInjectorType(C,[],g)),this.records.set(ql,Zl(void 0,this));const v=this.records.get(au);this.scope=null!=v?v.value:null,this.source=p||("object"==typeof u?null:W(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,d=Id,f=lt.Default){this.assertNotDestroyed();const p=qa(this),g=Pi(void 0);try{if(!(f&lt.SkipSelf)){let C=this.records.get(u);if(void 0===C){const E=("function"==typeof(c=u)||"object"==typeof c&&c instanceof fi)&&qi(u);C=E&&this.injectableDefInScope(E)?Zl(tw(u),Xd):null,this.records.set(u,C)}if(null!=C)return this.hydrate(u,C)}return(f&lt.Self?BM():this.parent).get(u,d=f&lt.Optional&&d===Id?null:d)}catch(v){if("NullInjectorError"===v.name){if((v[Yc]=v[Yc]||[]).unshift(W(u)),p)throw v;return c0(v,u,"R3InjectorError",this.source)}throw v}finally{Pi(g),qa(p)}var c}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((f,p)=>u.push(W(p))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,d,f){if(!(u=H(u)))return!1;let p=Xs(u);const g=null==p&&u.ngModule||void 0,v=void 0===g?u:g,C=-1!==f.indexOf(v);if(void 0!==g&&(p=Xs(g)),null==p)return!1;if(null!=p.imports&&!C){let k;f.push(v);try{Hs(p.imports,N=>{this.processInjectorType(N,d,f)&&(void 0===k&&(k=[]),k.push(N))})}finally{}if(void 0!==k)for(let N=0;N<k.length;N++){const{ngModule:F,providers:G}=k[N];Hs(G,K=>this.processProvider(K,F,G||Y))}}this.injectorDefTypes.add(v);const E=Fa(v)||(()=>new v);this.records.set(v,Zl(E,Xd));const x=p.providers;if(null!=x&&!C){const k=u;Hs(x,N=>this.processProvider(N,k,x))}return void 0!==g&&void 0!==u.providers}processProvider(u,d,f){let p=lu(u=H(u))?u:H(u&&u.provide);const g=N_(c=u)?Zl(void 0,c.useValue):Zl(Ca(c),Xd);var c;if(lu(u)||!0!==u.multi)this.records.get(p);else{let v=this.records.get(p);v||(v=Zl(void 0,Xd,!0),v.factory=()=>Pl(v.multi),this.records.set(p,v)),p=u,v.multi.push(u)}this.records.set(p,g)}hydrate(u,d){return d.value===Xd&&(d.value=uB,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(c=d.value)&&"object"==typeof c&&"function"==typeof c.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var c}injectableDefInScope(u){if(!u.providedIn)return!1;const d=H(u.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function tw(c){const u=qi(c),d=null!==u?u.factory:Fa(c);if(null!==d)return d;if(c instanceof fi)throw new Error(`Token ${W(c)} is missing a \u0275prov definition.`);if(c instanceof Function)return function(c){const u=c.length;if(u>0){const f=ja(u,"?");throw new Error(`Can't resolve all parameters for ${W(c)}: (${f.join(", ")}).`)}const d=function(c){const u=c&&(c[ws]||c[ia]);if(u){const d=function(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),u}return null}(c);return null!==d?()=>d.factory(c):()=>new c}(c);throw new Error("unreachable")}function Ca(c,u,d){let f;if(lu(c)){const p=H(c);return Fa(p)||tw(p)}if(N_(c))f=()=>H(c.useValue);else if(function(c){return!(!c||!c.useFactory)}(c))f=()=>c.useFactory(...Pl(c.deps||[]));else if(function(c){return!(!c||!c.useExisting)}(c))f=()=>pi(H(c.useExisting));else{const p=H(c&&(c.useClass||c.provide));if(!function(c){return!!c.deps}(c))return Fa(p)||tw(p);f=()=>new p(...Pl(c.deps))}return f}function Zl(c,u,d=!1){return{factory:c,value:u,multi:d?[]:void 0}}function N_(c){return null!==c&&"object"==typeof c&&Nd in c}function lu(c){return"function"==typeof c}const II=function(c,u,d){return function(c,u=null,d=null,f){const p=eh(c,u,d,f);return p._resolveInjectorDefTypes(),p}({name:d},u,c,d)};class Vn{static create(u,d){return Array.isArray(u)?II(u,d,""):II(u.providers,u.parent,u.name||"")}}function zM(c,u){gd(pp(c)[1],ti())}function lw(c){let u=function(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),d=!0;const f=[c];for(;u;){let p;if(Ji(c))p=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");p=u.\u0275dir}if(p){if(d){f.push(p);const v=c;v.inputs=zl(c.inputs),v.declaredInputs=zl(c.declaredInputs),v.outputs=zl(c.outputs);const C=p.hostBindings;C&&GI(c,C);const E=p.viewQuery,x=p.contentQueries;if(E&&HI(c,E),x&&DB(c,x),Z(c.inputs,p.inputs),Z(c.declaredInputs,p.declaredInputs),Z(c.outputs,p.outputs),Ji(p)&&p.data.animation){const k=c.data;k.animation=(k.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(c),C===lw&&(d=!1)}}u=Object.getPrototypeOf(u)}!function(c){let u=0,d=null;for(let f=c.length-1;f>=0;f--){const p=c[f];p.hostVars=u+=p.hostVars,p.hostAttrs=bd(p.hostAttrs,d=bd(d,p.hostAttrs))}}(f)}function zl(c){return c===bn?{}:c===Y?[]:c}function HI(c,u){const d=c.viewQuery;c.viewQuery=d?(f,p)=>{u(f,p),d(f,p)}:u}function DB(c,u){const d=c.contentQueries;c.contentQueries=d?(f,p,g)=>{u(f,p,g),d(f,p,g)}:u}function GI(c,u){const d=c.hostBindings;c.hostBindings=d?(f,p)=>{u(f,p),d(f,p)}:u}Vn.THROW_IF_NOT_FOUND=Id,Vn.NULL=new ew,Vn.\u0275prov=Ot({token:Vn,providedIn:"any",factory:()=>pi(ql)}),Vn.__NG_ELEMENT_ID__=-1;let U_=null;function rh(){if(!U_){const c=Cn.Symbol;if(c&&c.iterator)U_=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<u.length;++d){const f=u[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(U_=f)}}}return U_}class lo{constructor(u){this.wrapped=u}static wrap(u){return new lo(u)}static unwrap(u){return lo.isWrapped(u)?u.wrapped:u}static isWrapped(u){return u instanceof lo}}function nl(c){return!!cw(c)&&(Array.isArray(c)||!(c instanceof Map)&&rh()in c)}function cw(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function co(c,u,d){return c[u]=d}function Ar(c,u,d){return!Object.is(c[u],d)&&(c[u]=d,!0)}function $l(c,u,d,f){const p=Ar(c,u,d);return Ar(c,u+1,f)||p}function uw(c,u,d,f){const p=ke();return Ar(p,Bs(),u)&&(sn(),function(c,u,d,f,p,g){const v=Hr(c,u);xM(u[11],v,g,c.value,d,f,p)}(Mi(),p,c,u,d,f)),uw}function oh(c,u,d,f){return Ar(c,Bs(),d)?u+we(d)+f:Lt}function cu(c,u,d,f,p,g,v,C,E,x){const N=function(c,u,d,f,p,g){const v=$l(c,u,d,f);return $l(c,u+2,p,g)||v}(c,cs(),d,p,v,E);return Vs(4),N?u+we(d)+f+we(p)+g+we(v)+C+we(E)+x:Lt}function eT(c,u,d,f,p,g,v,C){const E=ke(),x=sn(),k=c+20,N=x.firstCreatePass?function(c,u,d,f,p,g,v,C,E){const x=u.consts,k=iu(u,c,4,v||null,Ro(x,C));EM(u,d,k,Ro(x,E)),gd(u,k);const N=k.tViews=Z0(2,k,f,p,g,u.directiveRegistry,u.pipeRegistry,null,u.schemas,x);return null!==u.queries&&(u.queries.template(u,k),N.queries=u.queries.embeddedTView(k)),k}(k,x,E,u,d,f,p,g,v):x.data[k];Cs(N,!1);const F=E[11].createComment("");Vl(x,E,F,N),ni(F,E),Qd(E,E[k]=AM(F,E,F,N)),Di(N)&&Dp(x,E,N),null!=v&&MM(E,N,C)}function tT(c){return Ba(wt.lFrame.contextLView,20+c)}function q_(c,u=lt.Default){const d=ke();return null===d?pi(c,u):Bc(ti(),d,H(c),u)}function dh(c,u,d){const f=ke();return Ar(f,Bs(),u)&&so(sn(),Mi(),f,c,u,f[11],d,!1),dh}function du(c,u,d,f,p){const v=p?"class":"style";LM(c,d,u.inputs[v],v,f)}function hh(c,u,d,f){const p=ke(),g=sn(),v=20+c,C=p[11],E=p[v]=Bl(C,u,wt.lFrame.currentNamespace),x=g.firstCreatePass?function(c,u,d,f,p,g,v){const C=u.consts,x=iu(u,c,2,p,Ro(C,g));return EM(u,d,x,Ro(C,v)),null!==x.attrs&&ao(x,x.attrs,!1),null!==x.mergedAttrs&&ao(x,x.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,x),x}(v,g,p,0,u,d,f):g.data[v];Cs(x,!0);const k=x.mergedAttrs;null!==k&&Qf(C,E,k);const N=x.classes;null!==N&&N0(C,E,N);const F=x.styles;null!==F&&uM(C,E,F),64!=(64&x.flags)&&Vl(g,p,E,x),0===wt.lFrame.elementDepthCount&&ni(E,p),wt.lFrame.elementDepthCount++,Di(x)&&(Dp(g,p,x),A_(g,x,p)),null!==f&&MM(p,x)}function ww(){let c=ti();Sl()?hd():(c=c.parent,Cs(c,!1));const u=c;wt.lFrame.elementDepthCount--;const d=sn();d.firstCreatePass&&(gd(d,c),If(c)&&d.queries.elementEnd(c)),null!=u.classesWithoutHost&&function(c){return 0!=(16&c.flags)}(u)&&du(d,u,ke(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(c){return 0!=(32&c.flags)}(u)&&du(d,u,ke(),u.stylesWithoutHost,!1)}function z_(c,u,d,f){hh(c,u,d,f),ww()}function Dw(c,u,d){const f=ke(),p=sn(),g=c+20,v=p.firstCreatePass?function(c,u,d,f,p){const g=u.consts,v=Ro(g,f),C=iu(u,c,8,"ng-container",v);return null!==v&&ao(C,v,!0),EM(u,d,C,Ro(g,p)),null!==u.queries&&u.queries.elementStart(u,C),C}(g,p,f,u,d):p.data[g];Cs(v,!0);const C=f[g]=f[11].createComment("");Vl(p,f,C,v),ni(C,f),Di(v)&&(Dp(p,f,v),A_(p,v,f)),null!=d&&MM(f,v)}function $_(){let c=ti();const u=sn();Sl()?hd():(c=c.parent,Cs(c,!1)),u.firstCreatePass&&(gd(u,c),If(c)&&u.queries.elementEnd(c))}function pT(c,u,d){Dw(c,u,d),$_()}function Mw(){return ke()}function Tw(c){return!!c&&"function"==typeof c.then}function sR(c){return!!c&&"function"==typeof c.subscribe}const Ew=sR;function Rp(c,u,d,f){const p=ke(),g=sn(),v=ti();return W_(g,p,p[11],v,c,u,!!d,f),Rp}function Sw(c,u){const d=ti(),f=ke(),p=sn();return W_(p,f,ou(qf(p.data),d,f),d,c,u,!1),Sw}function W_(c,u,d,f,p,g,v,C){const E=Di(f),k=c.firstCreatePass&&su(c),N=u[8],F=FM(u);let G=!0;if(3&f.type||C){const le=Hr(f,u),Le=C?C(le):le,Ee=F.length,Ke=C?xt=>C(Gn(xt[f.index])):f.index;if(zn(d)){let xt=null;if(!C&&E&&(xt=function(c,u,d,f){const p=c.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const v=p[g];if(v===d&&p[g+1]===f){const C=u[7],E=p[g+2];return C.length>E?C[E]:null}"string"==typeof v&&(g+=2)}return null}(c,u,p,f.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=g,xt.__ngLastListenerFn__=g,G=!1;else{g=gT(f,u,N,g,!1);const on=d.listen(Le,p,g);F.push(g,on),k&&k.push(p,Ke,Ee,Ee+1)}}else g=gT(f,u,N,g,!0),Le.addEventListener(p,g,v),F.push(g),k&&k.push(p,Ke,Ee,v)}else g=gT(f,u,N,g,!1);const K=f.outputs;let ge;if(G&&null!==K&&(ge=K[p])){const le=ge.length;if(le)for(let Le=0;Le<le;Le+=2){const jn=u[ge[Le]][ge[Le+1]].subscribe(g),Co=F.length;F.push(g,jn),k&&k.push(p,f.index,Co,-(Co+1))}}}function Op(c,u,d,f){try{return!1!==d(f)}catch(p){return Mp(c,p),!1}}function gT(c,u,d,f,p){return function g(v){if(v===Function)return f;const C=2&c.flags?Er(c.index,u):u;0==(32&u[2])&&jl(C);let E=Op(u,0,f,v),x=g.__ngNextListenerFn__;for(;x;)E=Op(u,0,x,v)&&E,x=x.__ngNextListenerFn__;return p&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function fh(c=1){return function(c){return(wt.lFrame.contextLView=function(c,u){for(;c>0;)u=u[15],c--;return u}(c,wt.lFrame.contextLView))[8]}(c)}function J_(c,u){let d=null;const f=function(c){const u=c.attrs;if(null!=u){const d=u.indexOf(5);if(0==(1&d))return u[d+1]}return null}(c);for(let p=0;p<u.length;p++){const g=u[p];if("*"!==g){if(null===f?jd(c,g,!0):wp(f,g))return p}else d=p}return d}function hu(c){const u=ke()[16][6];if(!u.projection){const f=u.projection=ja(c?c.length:1,null),p=f.slice();let g=u.child;for(;null!==g;){const v=c?J_(g,c):0;null!==v&&(p[v]?p[v].projectionNext=g:f[v]=g,p[v]=g),g=g.next}}}function ph(c,u=0,d){const f=ke(),p=sn(),g=iu(p,20+c,16,null,d||null);null===g.projection&&(g.projection=u),hd(),64!=(64&g.flags)&&function(c,u,d){cM(u[11],0,u,d,Wk(c,d,u),_p(d.parent||u[6],d,u))}(p,f,g)}function xw(c,u,d){return mh(c,"",u,"",d),xw}function mh(c,u,d,f,p){const g=ke(),v=oh(g,u,d,f);return v!==Lt&&so(sn(),Mi(),g,c,v,g[11],p,!1),mh}function Ys(c,u,d,f,p){const g=c[d+1],v=null===u;let C=f?va(g):Ja(g),E=!1;for(;0!==C&&(!1===E||v);){const k=c[C+1];_T(c[C],u)&&(E=!0,c[C+1]=f?L0(k):Hl(k)),C=f?va(k):Ja(k)}E&&(c[d+1]=f?Hl(g):L0(g))}function _T(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&Hc(c,u)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oR(c){return c.substring(gr.key,gr.keyEnd)}function yT(c,u){const d=gr.textEnd;return d===u?-1:(u=gr.keyEnd=function(c,u,d){for(;u<d&&c.charCodeAt(u)>32;)u++;return u}(c,gr.key=u,d),pu(c,u,d))}function pu(c,u,d){for(;u<d&&c.charCodeAt(u)<=32;)u++;return u}function ny(c,u,d){return Zo(c,u,d,!1),ny}function Rw(c,u){return Zo(c,u,null,!0),Rw}function Ow(c){ho(Ms,uo,c,!0)}function uo(c,u){for(let d=function(c){return function(c){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=c.length}(c),yT(c,pu(c,0,gr.textEnd))}(u);d>=0;d=yT(u,d))Ms(c,oR(u),!0)}function Zo(c,u,d,f){const p=ke(),g=sn(),v=Vs(2);g.firstUpdatePass&&Bi(g,c,v,f),u!==Lt&&Ar(p,v,u)&&ST(g,g.data[Sr()],p,p[11],c,p[v+1]=function(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=W(ga(c)))),c}(u,d),f,v)}function ho(c,u,d,f){const p=sn(),g=Vs(2);p.firstUpdatePass&&Bi(p,null,g,f);const v=ke();if(d!==Lt&&Ar(v,g,d)){const C=p.data[Sr()];if(Fw(C,f)&&!MT(p,g)){let E=f?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(d=z(E,d||"")),du(p,C,v,d,f)}else!function(c,u,d,f,p,g,v,C){p===Lt&&(p=Y);let E=0,x=0,k=0<p.length?p[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const F=E<p.length?p[E+1]:void 0,G=x<g.length?g[x+1]:void 0;let ge,K=null;k===N?(E+=2,x+=2,F!==G&&(K=N,ge=G)):null===N||null!==k&&k<N?(E+=2,K=k):(x+=2,K=N,ge=G),null!==K&&ST(c,u,d,f,K,ge,v,C),k=E<p.length?p[E]:null,N=x<g.length?g[x]:null}}(p,C,v,v[11],v[g+1],v[g+1]=function(c,u,d){if(null==d||""===d)return Y;const f=[],p=ga(d);if(Array.isArray(p))for(let g=0;g<p.length;g++)c(f,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&c(f,g,p[g]);else"string"==typeof p&&u(f,p);return f}(c,u,d),f,g)}}function MT(c,u){return u>=c.expandoStartIndex}function Bi(c,u,d,f){const p=c.data;if(null===p[d+1]){const g=p[Sr()],v=MT(c,d);Fw(g,f)&&null===u&&!v&&(u=!1),u=function(c,u,d,f){const p=qf(c);let g=f?u.residualClasses:u.residualStyles;if(null===p)0===(f?u.classBindings:u.styleBindings)&&(d=Pp(d=iy(null,c,u,d,f),u.attrs,f),g=null);else{const v=u.directiveStylingLast;if(-1===v||c[v]!==p)if(d=iy(p,c,u,d,f),null===g){let E=function(c,u,d){const f=d?u.classBindings:u.styleBindings;if(0!==Ja(f))return c[va(f)]}(c,u,f);void 0!==E&&Array.isArray(E)&&(E=iy(null,c,u,E[1],f),E=Pp(E,u.attrs,f),function(c,u,d,f){c[va(d?u.classBindings:u.styleBindings)]=f}(c,u,f,E))}else g=function(c,u,d){let f;const p=u.directiveEnd;for(let g=1+u.directiveStylingLast;g<p;g++)f=Pp(f,c[g].hostAttrs,d);return Pp(f,u.attrs,d)}(c,u,f)}return void 0!==g&&(f?u.residualClasses=g:u.residualStyles=g),d}(p,g,u,f),function(c,u,d,f,p,g){let v=g?u.classBindings:u.styleBindings,C=va(v),E=Ja(v);c[f]=d;let k,x=!1;if(Array.isArray(d)){const N=d;k=N[1],(null===k||Hc(N,k)>0)&&(x=!0)}else k=d;if(p)if(0!==E){const F=va(c[C+1]);c[f+1]=y_(F,C),0!==F&&(c[F+1]=pr(c[F+1],f)),c[C+1]=function(c,u){return 131071&c|u<<17}(c[C+1],f)}else c[f+1]=y_(C,0),0!==C&&(c[C+1]=pr(c[C+1],f)),C=f;else c[f+1]=y_(E,0),0===C?C=f:c[E+1]=pr(c[E+1],f),E=f;x&&(c[f+1]=Hl(c[f+1])),Ys(c,k,f,!0),Ys(c,k,f,!1),function(c,u,d,f,p){const g=p?c.residualClasses:c.residualStyles;null!=g&&"string"==typeof u&&Hc(g,u)>=0&&(d[f+1]=L0(d[f+1]))}(u,k,c,f,g),v=y_(C,E),g?u.classBindings=v:u.styleBindings=v}(p,g,u,d,v,f)}}function iy(c,u,d,f,p){let g=null;const v=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<v&&(g=u[C],f=Pp(f,g.hostAttrs,p),g!==c);)C++;return null!==c&&(d.directiveStylingLast=C),f}function Pp(c,u,d){const f=d?1:2;let p=-1;if(null!==u)for(let g=0;g<u.length;g++){const v=u[g];"number"==typeof v?p=v:p===f&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Ms(c,v,!!d||u[++g]))}return void 0===c?null:c}function ST(c,u,d,f,p,g,v,C){if(!(3&u.type))return;const E=c.data,x=E[C+1];Fp(function(c){return 1==(1&c)}(x)?ry(E,u,d,p,Ja(x),v):void 0)||(Fp(g)||function(c){return 2==(2&c)}(x)&&(g=ry(E,null,d,p,C,v)),function(c,u,d,f,p){const g=zn(c);if(u)p?g?c.addClass(d,f):d.classList.add(f):g?c.removeClass(d,f):d.classList.remove(f);else{let v=-1===f.indexOf("-")?void 0:ba.DashCase;if(null==p)g?c.removeStyle(d,f,v):d.style.removeProperty(f);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),v|=ba.Important),g?c.setStyle(d,f,p,v):d.style.setProperty(f,p,C?"important":"")}}}(f,v,La(Sr(),d),p,g))}function ry(c,u,d,f,p,g){const v=null===u;let C;for(;p>0;){const E=c[p],x=Array.isArray(E),k=x?E[1]:E,N=null===k;let F=d[p+1];F===Lt&&(F=N?Y:void 0);let G=N?Ad(F,f):k===f?F:void 0;if(x&&!Fp(G)&&(G=Ad(E,f)),Fp(G)&&(C=G,v))return C;const K=c[p+1];p=v?va(K):Ja(K)}if(null!==u){let E=g?u.residualClasses:u.residualStyles;null!=E&&(C=Ad(E,f))}return C}function Fp(c){return void 0!==c}function Fw(c,u){return 0!=(c.flags&(u?16:32))}function xT(c,u=""){const d=ke(),f=sn(),p=c+20,g=f.firstCreatePass?iu(f,p,1,u,null):f.data[p],v=d[p]=k0(d[11],u);Vl(f,d,v,g),Cs(g,!1)}function AT(c){return _h("",c,""),AT}function _h(c,u,d){const f=ke(),p=oh(f,c,u,d);return p!==Lt&&Xa(f,Sr(),p),_h}function sy(c,u,d,f,p){const g=ke(),v=function(c,u,d,f,p,g){const C=$l(c,cs(),d,p);return Vs(2),C?u+we(d)+f+we(p)+g:Lt}(g,c,u,d,f,p);return v!==Lt&&Xa(g,Sr(),v),sy}function OT(c,u,d){ho(Ms,uo,oh(ke(),c,u,d),!0)}function NT(c,u,d,f,p,g,v,C,E){ho(Ms,uo,cu(ke(),c,u,d,f,p,g,v,C,E),!0)}function Yw(c,u,d){const f=ke();return Ar(f,Bs(),u)&&so(sn(),Mi(),f,c,u,f[11],d,!0),Yw}function jw(c,u,d){const f=ke();if(Ar(f,Bs(),u)){const g=sn(),v=Mi();so(g,v,f,c,u,ou(qf(g.data),v,f),d,!0)}return jw}const yh=void 0;var Bp=["en",[["a","p"],["AM","PM"],yh],[["AM","PM"],yh,yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yh,"{1} 'at' {0}",yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(c){const u=Math.floor(Math.abs(c)),d=c.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let bh={};function qw(c){const u=function(c){return c.toLowerCase().replace(/_/g,"-")}(c);let d=YT(u);if(d)return d;const f=u.split("-")[0];if(d=YT(f),d)return d;if("en"===f)return Bp;throw new Error(`Missing locale data for the locale "${c}".`)}function al(c){return qw(c)[tt.PluralCase]}function YT(c){return c in bh||(bh[c]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[c]),bh[c]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const Zw=["zero","one","two","few","many"],hy="en-US",fy={marker:"element"},py={marker:"ICU"};var Ai=(()=>((Ai=Ai||{})[Ai.SHIFT=2]="SHIFT",Ai[Ai.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ai[Ai.COMMENT=2]="COMMENT",Ai))();let qT=hy;function zw(c){(function(c,u){null==c&&_t(u,c,null,"!=")})(c,"Expected localeId to be defined"),"string"==typeof c&&(qT=c.toLowerCase().replace(/_/g,"-"))}function zT(c,u,d){const f=u.insertBeforeIndex,p=Array.isArray(f)?f[0]:f;return null===p?oM(c,0,d):Gn(d[p])}function Xl(c,u,d,f,p){const g=u.insertBeforeIndex;if(Array.isArray(g)){let v=f,C=null;if(3&u.type||(C=v,v=p),null!==v&&0==(2&u.flags))for(let E=1;E<g.length;E++)Ho(c,v,d[g[E]],C,!1)}}function $T(c,u){if(c.push(u),c.length>1)for(let d=c.length-2;d>=0;d--){const f=c[d];my(f)||vR(f,u)&&null===wR(f)&&ll(f,u.index)}}function my(c){return!(64&c.type)}function vR(c,u){return my(u)||c.index>u.index}function wR(c){const u=c.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function ll(c,u){const d=c.insertBeforeIndex;Array.isArray(d)?d[0]=u:(aM(zT,Xl),c.insertBeforeIndex=u)}function mu(c,u){const d=c.data[u];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function CR(c,u,d){const f=S_(c,d,64,null,null);return $T(u,f),f}function gy(c,u){const d=u[c.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function JT(c){return c>>>17}function QT(c){return(131070&c)>>>1}let wh=0,Ch=0;function XT(c,u,d,f){const p=d[11];let v,g=null;for(let C=0;C<u.length;C++){const E=u[C];if("string"==typeof E){const x=u[++C];null===d[x]&&(d[x]=k0(p,E))}else if("number"==typeof E)switch(1&E){case 0:const x=JT(E);let k,N;if(null===g&&(g=x,v=Gd(p,f)),x===g?(k=f,N=v):(k=null,N=Gn(d[x])),null!==N){const ge=QT(E);Ho(p,N,d[ge],k,!1);const Le=mu(c,ge);if(null!==Le&&"object"==typeof Le){const Ee=gy(Le,d);null!==Ee&&XT(c,Le.create[Ee],d,d[Le.anchorIdx])}}break;case 1:const G=u[++C],K=u[++C];xM(p,La(E>>>1,d),null,null,G,K,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${E}"`)}else switch(E){case py:const x=u[++C],k=u[++C];null===d[k]&&ni(d[k]=jk(p,x),d);break;case fy:const N=u[++C],F=u[++C];null===d[F]&&ni(d[F]=Bl(p,N,null),d)}}}function $w(c,u,d,f,p){for(let g=0;g<d.length;g++){const v=d[g],C=d[++g];if(v&p){let E="";for(let x=g+1;x<=g+C;x++){const k=d[x];if("string"==typeof k)E+=k;else if("number"==typeof k)if(k<0)E+=we(u[f-k]);else{const N=k>>>2;switch(3&k){case 1:const F=d[++x],G=d[++x],K=c.data[N];"string"==typeof K?xM(u[11],u[N],null,K,F,E,G):so(c,K,u,F,E,u[11],G,!1);break;case 0:const ge=u[N];null!==ge&&Yk(u[11],ge,E);break;case 2:SR(c,mu(c,N),u,E);break;case 3:rn(c,mu(c,N),f,u)}}}}else{const E=d[g+1];if(E>0&&3==(3&E)){const k=mu(c,E>>>2);u[k.currentCaseLViewIndex]<0&&rn(c,k,f,u)}}g+=C}}function rn(c,u,d,f){let p=f[u.currentCaseLViewIndex];if(null!==p){let g=wh;p<0&&(p=f[u.currentCaseLViewIndex]=~p,g=-1),$w(c,f,u.update[p],d,g)}}function SR(c,u,d,f){const p=function(c,u){let d=c.cases.indexOf(u);if(-1===d)switch(c.type){case 1:{const f=function(c,u){const d=al(u)(parseInt(c,10)),f=Zw[d];return void 0!==f?f:"other"}(u,qT);d=c.cases.indexOf(f),-1===d&&"other"!==f&&(d=c.cases.indexOf("other"));break}case 0:d=c.cases.indexOf("other")}return-1===d?null:d}(u,f);if(gy(u,d)!==p&&(gu(c,u,d),d[u.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=d[u.anchorIdx];v&&XT(c,u.create[p],d,v)}}function gu(c,u,d){let f=gy(u,d);if(null!==f){const p=u.remove[f];for(let g=0;g<p.length;g++){const v=p[g];if(v>0){const C=La(v,d);null!==C&&lM(d[11],C)}else gu(c,mu(c,~v),d)}}}function Ww(){const c=[];let d,f,u=-1;function g(C,E){u=0;const x=gy(C,E);f=null!==x?C.remove[x]:Y}function v(){if(u<f.length){const C=f[u++];return C>0?d[C]:(c.push(u,f),g(d[1].data[~C],d),v())}return 0===c.length?null:(f=c.pop(),u=c.pop(),v())}return function(C,E){for(d=E;c.length;)c.pop();return g(C.value,E),v}}const Up=/\ufffd(\d+):?\d*\ufffd/gi,HB=/\ufffd(\d+)\ufffd/,_r=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,AR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nE=/\uE500/g;function Qw(c,u,d,f,p,g,v){const C=$d(c,f,1,null);let E=C<<Ai.SHIFT,x=Va();u===x&&(x=null),null===x&&(E|=Ai.APPEND_EAGERLY),v&&(E|=Ai.COMMENT,function(c){void 0===d_&&(d_=c())}(Ww)),p.push(E,null===g?"":g);const k=S_(c,C,v?32:1,null===g?"":g,null);$T(d,k);const N=k.index;return Cs(k,!1),null!==x&&u!==x&&function(c,u){let d=c.insertBeforeIndex;null===d?(aM(zT,Xl),d=c.insertBeforeIndex=[null,u]):(function(c,u,d){c!=u&&_t(d,c,u,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(u))}(x,N),k}function IR(c,u,d,f,p,g,v){const C=v.match(Up),E=Qw(c,u,d,g,f,C?null:v,!1);C&&_u(p,v,E.index,null,0,null)}function _u(c,u,d,f,p,g){const v=c.length,C=v+1;c.push(null,null);const E=v+2,x=u.split(Up);let k=0;for(let N=0;N<x.length;N++){const F=x[N];if(1&N){const G=p+parseInt(F,10);c.push(-1-G),k|=ec(G)}else""!==F&&c.push(F)}return c.push(d<<2|(f?1:0)),f&&c.push(f,g),c[v]=k,c[C]=c.length-E,k}function ec(c){return 1<<Math.min(c,31)}function Dh(c){let u,g,d="",f=0,p=!1;for(;null!==(u=xR.exec(c));)p?u[0]===`\ufffd/*${g}\ufffd`&&(f=u.index,p=!1):(d+=c.substring(f,u.index+u[0].length),g=u[1],p=!0);return d+=c.substr(f),d}function tc(c,u,d,f,p,g){let v=0;const C={type:p.type,currentCaseLViewIndex:$d(c,u,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(c,u,d){c.push(ec(u.mainBinding),2,-1-u.mainBinding,d<<2|2)})(d,p,g),function(c,u,d){const f=c.data[u];null===f?c.data[u]=d:f.value=d}(c,g,C);const E=p.values;for(let x=0;x<E.length;x++){const k=E[x],N=[];for(let F=0;F<k.length;F++){const G=k[F];if("string"!=typeof G){const K=N.push(G)-1;k[F]=`\x3c!--\ufffd${K}\ufffd--\x3e`}}v=sE(c,C,u,d,f,p.cases[x],k.join(""),N)|v}v&&function(c,u,d){c.push(u,1,d<<2|3)}(d,v,g)}function OR(c){const u=[],d=[];let f=1,p=0;const g=Hp(c=c.replace(_r,function(v,C,E){return f="select"===E?0:1,p=parseInt(C.substr(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===f&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&u.push(C);const E=Hp(g[v++]);u.length>d.length&&d.push(E)}return{type:f,mainBinding:p,cases:u,values:d}}function Hp(c){if(!c)return[];let u=0;const d=[],f=[],p=/[{}]/g;let g;for(p.lastIndex=0;g=p.exec(c);){const C=g.index;if("}"==g[0]){if(d.pop(),0==d.length){const E=c.substring(u,C);_r.test(E)?f.push(OR(E)):f.push(E),u=C+1}}else{if(0==d.length){const E=c.substring(u,C);f.push(E),u=C+1}d.push("{")}}const v=c.substring(u);return f.push(v),f}function sE(c,u,d,f,p,g,v,C){const E=[],x=[],k=[];u.cases.push(g),u.create.push(E),u.remove.push(x),u.update.push(k);const F=Fe(ld()).getInertBodyElement(v),G=Qc(F)||F;return G?oE(c,u,d,f,E,x,k,G,p,C,0):0}function oE(c,u,d,f,p,g,v,C,E,x,k){let N=0,F=C.firstChild;for(;F;){const G=$d(c,d,1,null);switch(F.nodeType){case Node.ELEMENT_NODE:const K=F,ge=K.tagName.toLowerCase();if(Bd.hasOwnProperty(ge)){Kw(p,fy,ge,E,G),c.data[G]=ge;const Ke=K.attributes;for(let xt=0;xt<Ke.length;xt++){const on=Ke.item(xt),jn=on.name.toLowerCase();on.value.match(Up)?y0.hasOwnProperty(jn)&&_u(v,on.value,G,on.name,0,za[jn]?oi:It[jn]?Be:null):Xw(p,G,on)}N=oE(c,u,d,f,p,g,v,F,G,x,k+1)|N,Gp(g,G,k)}break;case Node.TEXT_NODE:const le=F.textContent||"",Le=le.match(Up);Kw(p,null,Le?"":le,E,G),Gp(g,G,k),Le&&(N=_u(v,le,G,null,0,null)|N);break;case Node.COMMENT_NODE:const Ee=HB.exec(F.textContent||"");if(Ee){const xt=x[parseInt(Ee[1],10)];Kw(p,py,"",E,G),tc(c,d,f,E,xt,G),Yp(g,G,k)}}F=F.nextSibling}return N}function Gp(c,u,d){0===d&&c.push(u)}function Yp(c,u,d){0===d&&(c.push(~u),c.push(u))}function Kw(c,u,d,f,p){null!==u&&c.push(u),c.push(d,p,function(c,u,d){return 0|u<<17|d<<1}(0,f,p))}function Xw(c,u,d){c.push(u<<1|1,d.name,d.value)}function uE(c,u,d=-1){const f=sn(),p=ke(),g=20+c,v=Ro(f.consts,u),C=Va();f.firstCreatePass&&function(c,u,d,f,p,g){const v=Va(),C=[],E=[],x=[[]],k=function(c){return c.replace(nE," ")}(p=function(c,u){if(function(c){return-1===c}(u))return Dh(c);{const d=c.indexOf(`:${u}\ufffd`)+2+u.toString().length,f=c.search(new RegExp(`\ufffd\\/\\*\\d+:${u}\ufffd`));return Dh(c.substring(d,f))}}(p,g)).split(AR);for(let N=0;N<k.length;N++){let F=k[N];if(0==(1&N)){const G=Hp(F);for(let K=0;K<G.length;K++){let ge=G[K];if(0==(1&K)){const le=ge;""!==le&&IR(c,v,x[0],C,E,d,le)}else{const le=ge;if("object"!=typeof le)throw new Error(`Unable to parse ICU expression in "${p}" message.`);tc(c,d,E,u,le,Qw(c,v,x[0],d,C,"",!0).index)}}}else{const G=47===F.charCodeAt(0),ge=(F.charCodeAt(G?1:0),20+Number.parseInt(F.substring(G?2:1)));if(G)x.shift(),Cs(Va(),!1);else{const le=CR(c,x[0],ge);x.unshift([]),Cs(le,!0)}}}c.data[f]={create:C,update:E}}(f,null===C?0:C.index,p,g,v,d);const E=f.data[g],k=m_(f,C===p[6]?null:C,p);(function(c,u,d,f){const p=c[11];for(let g=0;g<u.length;g++){const v=u[g++],C=u[g],E=(v&Ai.COMMENT)===Ai.COMMENT,x=(v&Ai.APPEND_EAGERLY)===Ai.APPEND_EAGERLY,k=v>>>Ai.SHIFT;let N=c[k];null===N&&(N=c[k]=E?p.createComment(C):k0(p,C)),x&&null!==d&&Ho(p,d,N,f,!1)}})(p,E.create,k,C&&8&C.type?p[C.index]:null),Fg(!0)}function hE(c,u,d){uE(c,u,d),Fg(!1)}function qp(c){return function(c){c&&(wh|=1<<Math.min(Ch,31)),Ch++}(Ar(ke(),Bs(),c)),qp}function vy(c){!function(c,u,d){if(Ch>0){const f=c.data[d];$w(c,u,Array.isArray(f)?f:f.update,cs()-Ch-1,wh)}wh=0,Ch=0}(sn(),ke(),c+20)}function wy(c,u,d,f,p){if(c=H(c),Array.isArray(c))for(let g=0;g<c.length;g++)wy(c[g],u,d,f,p);else{const g=sn(),v=ke();let C=lu(c)?c:H(c.provide),E=Ca(c);const x=ti(),k=1048575&x.providerIndexes,N=x.directiveStart,F=x.providerIndexes>>20;if(lu(c)||!c.multi){const G=new Ha(E,p,q_),K=fo(C,u,p?k:k+F,N);-1===K?(Ya(fa(x,v),g,C),Cy(g,c,u.length),u.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),d.push(G),v.push(G)):(d[K]=G,v[K]=G)}else{const G=fo(C,u,k+F,N),K=fo(C,u,k,k+F),ge=G>=0&&d[G],le=K>=0&&d[K];if(p&&!le||!p&&!ge){Ya(fa(x,v),g,C);const Le=function(c,u,d,f,p){const g=new Ha(c,d,q_);return g.multi=[],g.index=u,g.componentProviders=0,pE(g,p,f&&!d),g}(p?VR:mE,d.length,p,f,E);!p&&le&&(d[K].providerFactory=Le),Cy(g,c,u.length,0),u.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),d.push(Le),v.push(Le)}else Cy(g,c,G>-1?G:K,pE(d[p?K:G],E,!p&&f));!p&&f&&le&&d[K].componentProviders++}}}function Cy(c,u,d,f){const p=lu(u);if(p||function(c){return!!c.useClass}(u)){const v=(u.useClass||u).prototype.ngOnDestroy;if(v){const C=c.destroyHooks||(c.destroyHooks=[]);if(!p&&u.multi){const E=C.indexOf(d);-1===E?C.push(d,[f,v]):C[E+1].push(f,v)}else C.push(d,v)}}}function pE(c,u,d){return d&&c.componentProviders++,c.multi.push(u)-1}function fo(c,u,d,f){for(let p=d;p<f;p++)if(u[p]===c)return p;return-1}function mE(c,u,d,f){return Mh(this.multi,[])}function VR(c,u,d,f){const p=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Vc(d,d[1],this.providerFactory.index,f);g=C.slice(0,v),Mh(p,g);for(let E=v;E<C.length;E++)g.push(C[E])}else g=[],Mh(p,g);return g}function Mh(c,u){for(let d=0;d<c.length;d++)u.push((0,c[d])());return u}function Dy(c,u=[]){return d=>{d.providersResolver=(f,p)=>function(c,u,d){const f=sn();if(f.firstCreatePass){const p=Ji(c);wy(d,f.data,f.blueprint,p,!0),wy(u,f.data,f.blueprint,p,!1)}}(f,p?p(c):c,u)}}class My{}const yE="ngComponent";class bE{resolveComponentFactory(u){throw function(c){const u=Error(`No component factory found for ${W(c)}. Did you add it to @NgModule.entryComponents?`);return u[yE]=c,u}(u)}}class yu{}function bu(...c){}function nc(c,u){return new po(Hr(c,u))}yu.NULL=new bE;const HR=function(){return nc(ti(),ke())};let po=(()=>{class c{constructor(d){this.nativeElement=d}}return c.__NG_ELEMENT_ID__=HR,c})();function wE(c){return c instanceof po?c.nativeElement:c}class Ey{}let CE=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>nC(),c})();const nC=function(){const c=ke(),d=Er(ti().index,c);return function(c){return c[11]}(Ao(d)?d:c)};let xy=(()=>{class c{}return c.\u0275prov=Ot({token:c,providedIn:"root",factory:()=>null}),c})();class ME{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const iC=new ME("12.2.5");class rC{constructor(){}supports(u){return nl(u)}create(u){return new ic(u)}}const YR=(c,u)=>u;class ic{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||YR}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,f=this._removalsHead,p=0,g=null;for(;d||f;){const v=!f||d&&d.currentIndex<SE(f,p,g)?d:f,C=SE(v,p,g),E=v.currentIndex;if(v===f)p--,f=f._nextRemoved;else if(d=d._next,null==v.previousIndex)p++;else{g||(g=[]);const x=C-p,k=E-p;if(x!=k){for(let F=0;F<x;F++){const G=F<g.length?g[F]:g[F]=0,K=G+F;k<=K&&K<x&&(g[F]=G+1)}g[v.previousIndex]=k-x}}C!==E&&u(v,C,E)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!nl(u))throw new Error(`Error trying to diff '${W(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let p,g,v,d=this._itHead,f=!1;if(Array.isArray(u)){this.length=u.length;for(let C=0;C<this.length;C++)g=u[C],v=this._trackByFn(C,g),null!==d&&Object.is(d.trackById,v)?(f&&(d=this._verifyReinsertion(d,g,v,C)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,v,C),f=!0),d=d._next}else p=0,function(c,u){if(Array.isArray(c))for(let d=0;d<c.length;d++)u(c[d]);else{const d=c[rh()]();let f;for(;!(f=d.next()).done;)u(f.value)}}(u,C=>{v=this._trackByFn(p,C),null!==d&&Object.is(d.trackById,v)?(f&&(d=this._verifyReinsertion(d,C,v,p)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,v,p),f=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,f,p){let g;return null===u?g=this._itTail:(g=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,g,p)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,g,p)):u=this._addAfter(new jR(d,f),g,p),u}_verifyReinsertion(u,d,f,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==g?u=this._reinsertAfter(g,u._prev,p):u.currentIndex!=p&&(u.currentIndex=p,this._addToMoves(u,p)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const p=u._prevRemoved,g=u._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(u,d,f),this._addToMoves(u,f),u}_moveAfter(u,d,f){return this._unlink(u),this._insertAfter(u,d,f),this._addToMoves(u,f),u}_addAfter(u,d,f){return this._insertAfter(u,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,f){const p=null===d?this._itHead:d._next;return u._next=p,u._prev=d,null===p?this._itTail=u:p._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new EE),this._linkedRecords.put(u),u.currentIndex=f,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,f=u._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class jR{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vu{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,u))return f;return null}remove(u){const d=u._prevDup,f=u._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class EE{constructor(){this.map=new Map}put(u){const d=u.trackById;let f=this.map.get(d);f||(f=new vu,this.map.set(d,f)),f.add(u)}get(u,d){const p=this.map.get(u);return p?p.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(c,u,d){const f=c.previousIndex;if(null===f)return f;let p=0;return d&&f<d.length&&(p=d[f]),f+u+p}class xE{constructor(){}supports(u){return u instanceof Map||cw(u)}create(){return new qR}}class qR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||cw(u)))throw new Error(`Error trying to diff '${W(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(f,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(p,f);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const f=u._prev;return d._next=u,d._prev=f,u._prev=d,f&&(f._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const p=this._records.get(u);this._maybeAddToChanges(p,d);const g=p._prev,v=p._next;return g&&(g._next=v),v&&(v._prev=g),p._next=null,p._prev=null,p}const f=new $p(u);return this._records.set(u,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(f=>d(u[f],f))}}class $p{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Th(){return new Wp([new rC])}let Wp=(()=>{class c{constructor(d){this.factories=d}static create(d,f){if(null!=f){const p=f.factories.slice();d=d.concat(p)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||Th()),deps:[[c,new ma,new pa]]}}find(d){const f=this.factories.find(p=>p.supports(d));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(c){return c.name||typeof c}(d)}'`)}}return c.\u0275prov=Ot({token:c,providedIn:"root",factory:Th}),c})();function kE(){return new Ay([new xE])}let Ay=(()=>{class c{constructor(d){this.factories=d}static create(d,f){if(f){const p=f.factories.slice();d=d.concat(p)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||kE()),deps:[[c,new ma,new pa]]}}find(d){const f=this.factories.find(p=>p.supports(d));if(f)return f;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return c.\u0275prov=Ot({token:c,providedIn:"root",factory:kE}),c})();function Eh(c,u,d,f,p=!1){for(;null!==d;){const g=u[d.index];if(null!==g&&f.push(Gn(g)),Ur(g))for(let C=10;C<g.length;C++){const E=g[C],x=E[1].firstChild;null!==x&&Eh(E[1],E,x,f)}const v=d.type;if(8&v)Eh(c,u,d.child,f);else if(32&v){const C=Ud(d,u);let E;for(;E=C();)f.push(E)}else if(16&v){const C=bp(u,d);if(Array.isArray(C))f.push(...C);else{const E=Hd(u[16]);Eh(E[1],E,C,f,!0)}}d=p?d.projectionNext:d.next}return f}class qr{constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,d=u[1];return Eh(d,u,d.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Ur(u)){const d=u[8],f=d?d.indexOf(this):-1;f>-1&&(I0(u,f),Nl(d,f))}this._attachedToViewContainer=!1}nM(this._lView[1],this._lView)}onDestroy(u){k_(this._lView[1],this._lView,null,u)}markForCheck(){jl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){R_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(c,u,d){xl(!0);try{R_(c,u,d)}finally{xl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,pn(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class IE extends qr{constructor(u){super(u),this._view=u}detectChanges(){NM(this._view)}checkNoChanges(){!function(c){xl(!0);try{NM(c)}finally{xl(!1)}}(this._view)}get context(){return null}}const ky=function(c){return function(c,u,d){if(ua(c)&&!d){const f=Er(c.index,u);return new qr(f,f)}return 47&c.type?new qr(u[16],u):null}(ti(),ke(),16==(16&c))};let ZR=(()=>{class c{}return c.__NG_ELEMENT_ID__=ky,c})();const WR=[new xE],OE=new Wp([new rC]),NE=new Ay(WR),Ry=function(){return Oy(ti(),ke())};let Sh=(()=>{class c{}return c.__NG_ELEMENT_ID__=Ry,c})();const QR=Sh,KR=class extends QR{constructor(u,d,f){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(u){const d=this._declarationTContainer.tViews,f=zd(this._declarationLView,d,u,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(f[19]=g.createEmbeddedView(d)),Yl(d,f,u),new qr(f)}};function Oy(c,u){return 4&c.type?new KR(u,c,nc(c,u)):null}class wu{}class Ny{}const Py=function(){return FE(ti(),ke())};let Fy=(()=>{class c{}return c.__NG_ELEMENT_ID__=Py,c})();const Ly=Fy,PE=class extends Ly{constructor(u,d,f){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=f}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const u=At(this._hostTNode,this._hostLView);if(vd(u)){const d=Ga(u,this._hostLView),f=Po(u);return new xr(d[1].data[f+8],d)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=xh(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,d,f){const p=u.createEmbeddedView(d||{});return this.insert(p,f),p}createComponent(u,d,f,p,g){const v=f||this.parentInjector;if(!g&&null==u.ngModule&&v){const E=v.get(wu,null);E&&(g=E)}const C=u.create(v,p,void 0,g);return this.insert(C.hostView,d),C}insert(u,d){const f=u._lView,p=f[1];if(Ur(f[3])){const k=this.indexOf(u);if(-1!==k)this.detach(k);else{const N=f[3],F=new PE(N,N[6],N[3]);F.detach(F.indexOf(u))}}const g=this._adjustIndex(d),v=this._lContainer;!function(c,u,d,f){const p=10+f,g=d.length;f>0&&(d[p-1][4]=u),f<g-10?(u[4]=d[p],xd(d,10+f,u)):(d.push(u),u[4]=null),u[3]=d;const v=u[17];null!==v&&d!==v&&function(c,u){const d=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===d?c[9]=[u]:d.push(u)}(v,u);const C=u[19];null!==C&&C.insertView(c),u[2]|=128}(p,f,v,g);const C=O0(g,v),E=f[11],x=Gd(E,v[7]);return null!==x&&function(c,u,d,f,p,g){f[0]=p,f[6]=u,pn(c,f,d,1,p,g)}(p,v[6],E,f,x,C),u.attachToViewContainerRef(),xd(oC(v),g,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=xh(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),f=I0(this._lContainer,d);f&&(Nl(oC(this._lContainer),d),nM(f[1],f))}detach(u){const d=this._adjustIndex(u,-1),f=I0(this._lContainer,d);return f&&null!=Nl(oC(this._lContainer),d)?new qr(f):null}_adjustIndex(u,d=0){return null==u?this.length+d:u}};function xh(c){return c[8]}function oC(c){return c[8]||(c[8]=[])}function FE(c,u){let d;const f=u[c.index];if(Ur(f))d=f;else{let p;if(8&c.type)p=Gn(f);else{const g=u[11];p=g.createComment("");const v=Hr(c,u);Ho(g,Gd(g,v),p,function(c,u){return zn(c)?c.nextSibling(u):u.nextSibling}(g,v),!1)}u[c.index]=d=AM(f,u,p,c),Qd(u,d)}return new PE(d,c,u)}const tr={};class vC extends yu{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=ln(u);return new ku(d,this.ngModule)}}function wC(c){const u=[];for(let d in c)c.hasOwnProperty(d)&&u.push({propName:c[d],templateName:d});return u}const IO=new fi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mp});class ku extends My{constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=u.selectors.map(__).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return wC(this.componentDef.inputs)}get outputs(){return wC(this.componentDef.outputs)}create(u,d,f,p){const g=(p=p||this.ngModule)?function(c,u){return{get:(d,f,p)=>{const g=c.get(d,tr,p);return g!==tr||f===tr?g:u.get(d,f,p)}}}(u,p.injector):u,v=g.get(Ey,da),C=g.get(xy,null),E=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=f?function(c,u,d){if(zn(c))return c.selectRootElement(u,d===Ye.ShadowDom);let f="string"==typeof u?c.querySelector(u):u;return f.textContent="",f}(E,f,this.componentDef.encapsulation):Bl(v.createRenderer(null,this.componentDef),x,function(c){const u=c.toLowerCase();return"svg"===u?Tl:"math"===u?"http://www.w3.org/1998/MathML/":null}(x)),N=this.componentDef.onPush?576:528,F=function(c,u){return{components:[],scheduler:c||mp,clean:Kd,playerHandler:u||null,flags:0}}(),G=Z0(0,null,null,1,0,null,null,null,null,null),K=zd(null,G,F,N,null,null,v,E,C,g);let ge,le;Oo(K);try{const Le=function(c,u,d,f,p,g){const v=d[1];d[20]=c;const E=iu(v,20,2,"#host",null),x=E.mergedAttrs=u.hostAttrs;null!==x&&(ao(E,x,!0),null!==c&&(Qf(p,c,x),null!==E.classes&&N0(p,c,E.classes),null!==E.styles&&uM(p,c,E.styles)));const k=f.createRenderer(c,u),N=zd(d,q0(u),null,u.onPush?64:16,d[20],E,f,k,g||null,null);return v.firstCreatePass&&(Ya(fa(E,d),v,u.type),Jd(v,E),CI(E,d.length,1)),Qd(d,N),d[20]=N}(k,this.componentDef,K,v,E);if(k)if(f)Qf(E,k,["ng-version",iC.full]);else{const{attrs:Ee,classes:Ke}=function(c){const u=[],d=[];let f=1,p=2;for(;f<c.length;){let g=c[f];if("string"==typeof g)2===p?""!==g&&u.push(g,c[++f]):8===p&&d.push(g);else{if(!jr(p))break;p=g}f++}return{attrs:u,classes:d}}(this.componentDef.selectors[0]);Ee&&Qf(E,k,Ee),Ke&&Ke.length>0&&N0(E,k,Ke.join(" "))}if(le=kc(G,20),void 0!==d){const Ee=le.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const xt=d[Ke];Ee.push(null!=xt?Array.from(xt):null)}}ge=function(c,u,d,f,p){const g=d[1],v=function(c,u,d){const f=ti();c.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),I_(c,f,u,$d(c,u,1,null),d));const p=Vc(u,c,f.directiveStart,f);ni(p,u);const g=Hr(f,u);return g&&ni(g,u),p}(g,d,u);if(f.components.push(v),c[8]=v,p&&p.forEach(E=>E(v,u)),u.contentQueries){const E=ti();u.contentQueries(1,v,E.directiveStart)}const C=ti();return!g.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(kl(C.index),vI(d[1],C,0,C.directiveStart,C.directiveEnd,u),oo(u,v)),v}(Le,this.componentDef,K,F,[zM]),Yl(G,K,null)}finally{Fc()}return new rS(this.componentType,ge,nc(le,K),K,le)}}class rS extends class{}{constructor(u,d,f,p,g){super(),this.location=f,this._rootLView=p,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new IE(p),this.componentType=u}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const Iu=new Map;class NO extends wu{constructor(u,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vC(this);const f=Ft(u),p=u[Ge]||null;p&&zw(p),this._bootstrapComponents=Uo(f.bootstrap),this._r3Injector=eh(u,d,[{provide:wu,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],W(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,d=Vn.THROW_IF_NOT_FOUND,f=lt.Default){return u===Vn||u===wu||u===ql?this:this._r3Injector.get(u,d,f)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class rm extends Ny{constructor(u){super(),this.moduleType=u,null!==Ft(u)&&function(c){const u=new Set;!function d(f){const p=Ft(f,!0),g=p.id;null!==g&&(function(c,u,d){if(u&&u!==d)throw new Error(`Duplicate module registered for ${c} - ${W(u)} vs ${W(u.name)}`)}(g,Iu.get(g),f),Iu.set(g,f));const v=Uo(p.imports);for(const C of v)u.has(C)||(u.add(C),d(C))}(c)}(u)}create(u){return new NO(this.moduleType,u)}}function lS(c,u,d,f){return $y(ke(),Qi(),c,u,d,f)}function cS(c,u,d,f,p){return Wy(ke(),Qi(),c,u,d,f,p)}function Ir(c,u,d,f,p,g){return function(c,u,d,f,p,g,v,C){const E=u+d;return function(c,u,d,f,p){const g=$l(c,u,d,f);return Ar(c,u+2,p)||g}(c,E,p,g,v)?co(c,E+3,C?f.call(C,p,g,v):f(p,g,v)):oc(c,E+3)}(ke(),Qi(),c,u,d,f,p,g)}function oc(c,u){const d=c[u];return d===Lt?void 0:d}function $y(c,u,d,f,p,g){const v=u+d;return Ar(c,v,p)?co(c,v+1,g?f.call(g,p):f(p)):oc(c,v+1)}function Wy(c,u,d,f,p,g,v){const C=u+d;return $l(c,C,p,g)?co(c,C+2,v?f.call(v,p,g):f(p,g)):oc(c,C+2)}function EC(c,u){const d=sn();let f;const p=c+20;d.firstCreatePass?(f=function(c,u){if(u)for(let d=u.length-1;d>=0;d--){const f=u[d];if(c===f.name)return f}throw new De("302",`The pipe '${c}' could not be found!`)}(u,d.pipeRegistry),d.data[p]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,f.onDestroy)):f=d.data[p];const g=f.factory||(f.factory=Fa(f.type)),v=Pi(q_);try{const C=wd(!1),E=g();return wd(C),function(c,u,d,f){d>=c.data.length&&(c.data[d]=null,c.blueprint[d]=null),u[d]=f}(d,ke(),p,E),E}finally{Pi(v)}}function SC(c,u,d){const f=c+20,p=ke(),g=Ba(p,f);return Ou(p,Ru(p,f)?$y(p,Qi(),u,g.transform,d,g):g.transform(d))}function xC(c,u,d,f){const p=c+20,g=ke(),v=Ba(g,p);return Ou(g,Ru(g,p)?Wy(g,Qi(),u,v.transform,d,f,v):v.transform(d,f))}function Ru(c,u){return c[1].data[u].pure}function Ou(c,u){return lo.isWrapped(u)&&(u=lo.unwrap(u),c[cs()]=Lt),u}function nr(c){return u=>{setTimeout(c,void 0,u)}}const Qn=class extends o.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,f){var p,g,v;let C=u,E=d||(()=>null),x=f;if(u&&"object"==typeof u){const N=u;C=null===(p=N.next)||void 0===p?void 0:p.bind(N),E=null===(g=N.error)||void 0===g?void 0:g.bind(N),x=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(E=nr(E),C&&(C=nr(C)),x&&(x=nr(x)));const k=super.subscribe({next:C,error:E,complete:x});return u instanceof q.w&&u.add(k),k}};function Ky(){return this._results[rh()]()}class Nu{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=rh(),f=Nu.prototype;f[d]||(f[d]=Ky)}get changes(){return this._changes||(this._changes=new Qn)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const f=this;f.dirty=!1;const p=Us(u);(this._changesDetected=!function(c,u,d){if(c.length!==u.length)return!1;for(let f=0;f<c.length;f++){let p=c[f],g=u[f];if(d&&(p=d(p),g=d(g)),g!==p)return!1}return!0}(f._results,p,d))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class IC{constructor(u){this.queryList=u,this.matches=null}clone(){return new IC(this.queryList)}setDirty(){this.queryList.setDirty()}}class RC{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const f=null!==u.contentQueries?u.contentQueries[0]:d.length,p=[];for(let g=0;g<f;g++){const v=d.getByIndex(g);p.push(this.queries[v.indexInDeclarationView].clone())}return new RC(p)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==pS(u,d).matches&&this.queries[d].setDirty()}}class Xy{constructor(u,d,f=null){this.predicate=u,this.flags=d,this.read=f}}class am{constructor(u=[]){this.queries=u}elementStart(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let f=0;f<this.length;f++){const p=null!==d?d.length:0,g=this.getByIndex(f).embeddedTView(u,p);g&&(g.indexInDeclarationView=f,null!==d?d.push(g):d=[g])}return null!==d?new am(d):null}template(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class OC{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new OC(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=u.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const g=f[p];this.matchTNodeWithReadOption(u,d,NC(d,g)),this.matchTNodeWithReadOption(u,d,Td(d,u,g,!1,!1))}else f===Sh?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,Td(d,u,f,!1,!1))}matchTNodeWithReadOption(u,d,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===po||p===Fy||p===Sh&&4&d.type)this.addMatch(d.index,-2);else{const g=Td(d,u,p,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,f)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function NC(c,u){const d=c.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===u)return d[f+1];return null}function YO(c,u,d,f){return-1===d?function(c,u){return 11&c.type?nc(c,u):4&c.type?Oy(c,u):null}(u,c):-2===d?function(c,u,d){return d===po?nc(u,c):d===Sh?Oy(u,c):d===Fy?FE(u,c):void 0}(c,u,f):Vc(c,c[1],d,u)}function tb(c,u,d,f){const p=u[19].queries[f];if(null===p.matches){const g=c.data,v=d.matches,C=[];for(let E=0;E<v.length;E+=2){const x=v[E];C.push(x<0?null:YO(u,g[x],v[E+1],d.metadata.read))}p.matches=C}return p.matches}function lm(c,u,d,f){const p=c.queries.getByIndex(d),g=p.matches;if(null!==g){const v=tb(c,u,p,d);for(let C=0;C<g.length;C+=2){const E=g[C];if(E>0)f.push(v[C/2]);else{const x=g[C+1],k=u[-E];for(let N=10;N<k.length;N++){const F=k[N];F[17]===F[3]&&lm(F[1],F,x,f)}if(null!==k[9]){const N=k[9];for(let F=0;F<N.length;F++){const G=N[F];lm(G[1],G,x,f)}}}}}return f}function PC(c){const u=ke(),d=sn(),f=Lg();Al(f+1);const p=pS(d,f);if(c.dirty&&Fv(u)===(2==(2&p.metadata.flags))){if(null===p.matches)c.reset([]);else{const g=p.crossesNgTemplate?lm(d,u,f,[]):tb(d,u,p,f);c.reset(g,wE),c.notifyOnChanges()}return!0}return!1}function hS(c,u,d){const f=sn();f.firstCreatePass&&(cm(f,new Xy(c,u,d),-1),2==(2&u)&&(f.staticViewQueries=!0)),LC(f,ke(),u)}function Ph(c,u,d,f){const p=sn();if(p.firstCreatePass){const g=ti();cm(p,new Xy(u,d,f),g.index),function(c,u){const d=c.contentQueries||(c.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(c.queries.length-1,u)}(p,c),2==(2&d)&&(p.staticContentQueries=!0)}LC(p,ke(),d)}function FC(){return c=ke(),u=Lg(),c[19].queries[u].queryList;var c,u}function LC(c,u,d){const f=new Nu(4==(4&d));k_(c,u,f,f.destroy),null===u[19]&&(u[19]=new RC),u[19].queries.push(new IC(f))}function cm(c,u,d){null===c.queries&&(c.queries=new am),c.queries.track(new OC(u,d))}function pS(c,u){return c.queries.getByIndex(u)}function Pu(c,u){return Oy(c,u)}const ES=Zg("Input",c=>({bindingPropertyName:c})),$O=Zg("HostBinding",c=>({hostPropertyName:c})),cc=Zg("HostListener",(c,u)=>({eventName:c,args:u})),$C=new fi("Application Initializer");let Hh=(()=>{class c{constructor(d){this.appInits=d,this.resolve=bu,this.reject=bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Tw(g))d.push(g);else if(Ew(g)){const v=new Promise((C,E)=>{g.subscribe({complete:C,error:E})});d.push(v)}}Promise.all(d).then(()=>{f()}).catch(p=>{this.reject(p)}),0===d.length&&f(),this.initialized=!0}}return c.\u0275fac=function(d){return new(d||c)(pi($C,8))},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();const _m=new fi("AppId"),ub={provide:_m,useFactory:function(){return`${bm()}${bm()}${bm()}`},deps:[]};function bm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WC=new fi("Platform Initializer"),Gh=new fi("Platform ID"),Yh=new fi("appBootstrapListener");let Vi=(()=>{class c{log(d){console.log(d)}warn(d){console.warn(d)}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();const vm=new fi("LocaleId"),FS=new fi("DefaultCurrencyCode");class db{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}const hb=function(c){return new rm(c)},tN=hb,VS=function(c){return Promise.resolve(hb(c))},Cm=function(c){const u=hb(c),f=Uo(Ft(c).declarations).reduce((p,g)=>{const v=ln(g);return v&&p.push(new ku(v)),p},[]);return new db(u,f)},HS=Cm,nN=function(c){return Promise.resolve(Cm(c))};let jh=(()=>{class c{constructor(){this.compileModuleSync=tN,this.compileModuleAsync=VS,this.compileModuleAndAllComponentsSync=HS,this.compileModuleAndAllComponentsAsync=nN}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();const jS=(()=>Promise.resolve(0))();function Mm(c){"undefined"==typeof Zone?jS.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class xs{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qn(!1),this.onMicrotaskEmpty=new Qn(!1),this.onStable=new Qn(!1),this.onError=new Qn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&d,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let c=Cn.requestAnimationFrame,u=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&u){const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(c){const u=()=>{!function(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(Cn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,gb(c),c.isCheckStableRunning=!0,mb(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),gb(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,p,g,v,C)=>{try{return KC(c),d.invokeTask(p,g,v,C)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||c.shouldCoalesceRunChangeDetection)&&u(),XC(c)}},onInvoke:(d,f,p,g,v,C,E)=>{try{return KC(c),d.invoke(p,g,v,C,E)}finally{c.shouldCoalesceRunChangeDetection&&u(),XC(c)}},onHasTask:(d,f,p,g)=>{d.hasTask(p,g),f===p&&("microTask"==g.change?(c._hasPendingMicrotasks=g.microTask,gb(c),mb(c)):"macroTask"==g.change&&(c.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,f,p,g)=>(d.handleError(p,g),c.runOutsideAngular(()=>c.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,d,f){return this._inner.run(u,d,f)}runTask(u,d,f,p){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+p,u,pb,bu,bu);try{return g.runTask(v,d,f)}finally{g.cancelTask(v)}}runGuarded(u,d,f){return this._inner.runGuarded(u,d,f)}runOutsideAngular(u){return this._outer.run(u)}}const pb={};function mb(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function gb(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function KC(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function XC(c){c._nesting--,mb(c)}class ZS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qn,this.onMicrotaskEmpty=new Qn,this.onStable=new Qn,this.onError=new Qn}run(u,d,f){return u.apply(d,f)}runGuarded(u,d,f){return u.apply(d,f)}runOutsideAngular(u){return u()}runTask(u,d,f,p){return u.apply(d,f)}}let Tm=(()=>{class c{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xs.assertNotInAngularZone(),Mm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mm(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,p){let g=-1;f&&f>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:p})}whenStable(d,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,p){return[]}}return c.\u0275fac=function(d){return new(d||c)(pi(xs))},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})(),As=(()=>{class c{constructor(){this._applications=new Map,dc.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return dc.findTestabilityInTree(this,d,f)}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();class zS{addToWindow(u){}findTestabilityInTree(u,d,f){return null}}function $S(c){dc=c}let dc=new zS,e1=!0,t1=!1;function qh(){return t1=!0,e1}function WS(){if(t1)throw new Error("Cannot enable prod mode after platform setup.");e1=!1}let bo;const _b=new fi("AllowMultipleToken");class sN{constructor(u,d){this.name=u,this.token=d}}function Ui(c,u,d=[]){const f=`Platform: ${u}`,p=new fi(f);return(g=[])=>{let v=dt();if(!v||v.injector.get(_b,!1))if(c)c(d.concat(g).concat({provide:p,useValue:!0}));else{const C=d.concat(g).concat({provide:p,useValue:!0},{provide:au,useValue:"platform"});!function(c){if(bo&&!bo.destroyed&&!bo.injector.get(_b,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bo=c.get(St);const u=c.get(WC,null);u&&u.forEach(d=>d())}(Vn.create({providers:C,name:f}))}return function(c){const u=dt();if(!u)throw new Error("No platform exists!");if(!u.injector.get(c,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(p)}}function dt(){return bo&&!bo.destroyed?bo:null}let St=(()=>{class c{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const C=function(c,u){let d;return d="noop"===c?new ZS:("zone.js"===c?void 0:c)||new xs({enableLongStackTrace:qh(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),E=[{provide:xs,useValue:C}];return C.run(()=>{const x=Vn.create({providers:E,parent:this.injector,name:d.moduleType.name}),k=d.create(x),N=k.injector.get(Vd,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const F=C.onError.subscribe({next:G=>{N.handleError(G)}});k.onDestroy(()=>{ir(this._modules,k),F.unsubscribe()})}),function(c,u,d){try{const f=d();return Tw(f)?f.catch(p=>{throw u.runOutsideAngular(()=>c.handleError(p)),p}):f}catch(f){throw u.runOutsideAngular(()=>c.handleError(f)),f}}(N,C,()=>{const F=k.injector.get(Hh);return F.runInitializers(),F.donePromise.then(()=>(zw(k.injector.get(vm,hy)||hy),this._moduleDoBootstrap(k),k))})})}bootstrapModule(d,f=[]){const p=ve({},f);return function(c,u,d){const f=new rm(d);return Promise.resolve(f)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(d){const f=d.injector.get(Oe);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${W(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(d){return new(d||c)(pi(Vn))},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();function ve(c,u){return Array.isArray(u)?u.reduce(ve,c):Object.assign(Object.assign({},c),u)}let Oe=(()=>{class c{constructor(d,f,p,g,v){this._zone=d,this._injector=f,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),E=new U.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{xs.assertNotInAngularZone(),Mm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{xs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),N.unsubscribe()}});this.isStable=(0,se.T)(C,E.pipe((0,de.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof My?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const g=function(c){return c.isBoundToModule}(p)?void 0:this._injector.get(wu),C=p.create(Vn.NULL,[],f||p.selector,g),E=C.location.nativeElement,x=C.injector.get(Tm,null),k=x&&C.injector.get(As);return x&&k&&k.registerApplication(E,x),C.onDestroy(()=>{this.detachView(C.hostView),ir(this.components,C),k&&k.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;ir(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Yh,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(d){return new(d||c)(pi(xs),pi(Vn),pi(Vd),pi(yu),pi(Hh))},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();function ir(c,u){const d=c.indexOf(u);d>-1&&c.splice(d,1)}class lN{}class un{}const Zh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let XS=(()=>{class c{constructor(d,f){this._compiler=d,this._config=f||Zh}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[f,p]=d.split("#");return void 0===p&&(p="default"),L(8255)(f).then(g=>g[p]).then(g=>hr(g,f,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(d){let[f,p]=d.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),L(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(v=>v[p+g]).then(v=>hr(v,f,p))}}return c.\u0275fac=function(d){return new(d||c)(pi(jh),pi(un,8))},c.\u0275prov=Ot({token:c,factory:c.\u0275fac}),c})();function hr(c,u,d){if(!c)throw new Error(`Cannot find '${d}' in '${u}'`);return c}const $h=function(c){return null},ix=Ui(null,"core",[{provide:Gh,useValue:"unknown"},{provide:St,deps:[Vn]},{provide:As,deps:[]},{provide:Vi,deps:[]}]),ui=[{provide:Oe,useClass:Oe,deps:[xs,Vn,Vd,yu,Hh]},{provide:IO,deps:[xs],useFactory:function(c){let u=[];return c.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(d){u.push(d)}}},{provide:Hh,useClass:Hh,deps:[[new pa,$C]]},{provide:jh,useClass:jh,deps:[]},ub,{provide:Wp,useFactory:function(){return OE},deps:[]},{provide:Ay,useFactory:function(){return NE},deps:[]},{provide:vm,useFactory:function(c){return zw(c=c||"undefined"!=typeof $localize&&$localize.locale||hy),c},deps:[[new Za(vm),new pa,new ma]]},{provide:FS,useValue:"USD"}];let sx=(()=>{class c{constructor(d){}}return c.\u0275fac=function(d){return new(d||c)(pi(Oe))},c.\u0275mod=Se({type:c}),c.\u0275inj=Zn({providers:ui}),c})()},8939:(Xe,Te,L)=>{"use strict";L.d(Te,{hO:()=>X,xv:()=>z,Dh:()=>W,GT:()=>te,on:()=>V,pX:()=>de});var o=L(7716),q=L(7841),U=L(9126);Xe=L.hmd(Xe);const se=["ngOnDestroy"],de=(ie,De,pe,Ne={})=>new Proxy(ie,{get:(we,Ie)=>pe.runOutsideAngular(()=>{var rt;if(ie[Ie])return(null===(rt=null==Ne?void 0:Ne.spy)||void 0===rt?void 0:rt.get)&&Ne.spy.get(Ie,ie[Ie]),ie[Ie];if(se.indexOf(Ie)>-1)return()=>{};const pt=De.toPromise().then(Ut=>{const Ht=Ut&&Ut[Ie];return"function"==typeof Ht?Ht.bind(Ut):Ht&&Ht.then?Ht.then(qt=>pe.run(()=>qt)):pe.run(()=>Ht)});return new Proxy(()=>{},{get:(Ut,Ht)=>pt[Ht],apply:(Ut,Ht,qt)=>pt.then(Ae=>{var Et;const he=Ae&&Ae(...qt);return(null===(Et=null==Ne?void 0:Ne.spy)||void 0===Et?void 0:Et.apply)&&Ne.spy.apply(Ie,qt,he),he})})})}),te=(ie,De)=>{De.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Ne=>{Object.defineProperty(ie.prototype,Ne,Object.getOwnPropertyDescriptor(pe.prototype||pe,Ne))})})};class Z{constructor(De){return De}}const W=new o.OlP("angularfire2.app.options"),z=new o.OlP("angularfire2.app.name");function V(ie,De,pe){const we="object"==typeof pe&&pe||{};we.name=we.name||"string"==typeof pe&&pe||"[DEFAULT]";const rt=q.Z.apps.filter(pt=>pt&&pt.name===we.name)[0]||De.runOutsideAngular(()=>q.Z.initializeApp(ie,we));try{JSON.stringify(ie)!==JSON.stringify(rt.options)&&Q("error",`${rt.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(pt){}return new Z(rt)}const Q=(ie,...De)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ie](...De)},H={provide:Z,useFactory:V,deps:[W,o.R0b,[new o.FiY,z]]};let X=(()=>{class ie{constructor(pe){q.Z.registerVersion("angularfire",U.q4.full,"core"),q.Z.registerVersion("angularfire",U.q4.full,"app-compat"),q.Z.registerVersion("angular",o.q4F.full,pe.toString())}static initializeApp(pe,Ne){return{ngModule:ie,providers:[{provide:W,useValue:pe},{provide:z,useValue:Ne}]}}}return ie.\u0275fac=function(pe){return new(pe||ie)(o.LFG(o.Lbi))},ie.\u0275mod=o.oAB({type:ie}),ie.\u0275inj=o.cJS({providers:[H]}),ie})()},9126:(Xe,Te,L)=>{"use strict";L.d(Te,{q4:()=>V,iC:()=>he,fc:()=>Ae,HU:()=>pt,cc:()=>X});var o=L(7716);(0,L(5452).registerVersion)("firebase","9.0.2","app");var de=L(7771),te=L(3637),Z=L(8307),W=L(9746),z=L(9673);Xe=L.hmd(Xe);const V=new o.GfV("7.0.4"),Q=!!Xe.hot,H=(Ce,...re)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ce](...re)};function X(Ce,re,Ue,ot,Gt){const[,ht,at]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===Ce)||[];if(ht)return function(Ce,re){try{return Ce.toString()===re.toString()}catch(Ue){return Ce===re}}(Gt,at)||(H("error",`${re} was already initialized on the ${Ue} Firebase App with different settings.${Q?" You may need to reload as Firebase is not HMR aware.":""}`),H("warn",{is:Gt,was:at})),ht;{const _t=ot();return globalThis.\u0275AngularfireInstanceCache.push([Ce,_t,Gt]),_t}}function we(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ie{constructor(re,Ue=de.N){this.zone=re,this.delegate=Ue}now(){return this.delegate.now()}schedule(re,Ue,ot){const Gt=this.zone;return this.delegate.schedule(function(at){Gt.runGuarded(()=>{re.apply(this,[at])})},Ue,ot)}}class rt{constructor(re){this.zone=re,this.task=null}call(re,Ue){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)),Ue.pipe((0,Z.b)({next:ot,complete:ot,error:ot})).subscribe(re).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pt=(()=>{class Ce{constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Ue.run(()=>new Ie(Zone.current,te.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ce.\u0275fac=function(Ue){return new(Ue||Ce)(o.LFG(o.R0b))},Ce.\u0275prov=o.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Ut(){const Ce=globalThis.\u0275AngularFireScheduler;if(!Ce)throw new Error("AngularFireModule has not been provided");return Ce}function Ae(Ce){return Ce.pipe((0,W.QV)(Ut().outsideAngular))}function he(Ce){return Ut(),function(Ce){return function(Ue){return(Ue=Ue.lift(new rt(Ce.ngZone))).pipe((0,z.R)(Ce.outsideAngular),(0,W.QV)(Ce.insideAngular))}}(Ut())(Ce)}},4486:(Xe,Te,L)=>{"use strict";L.d(Te,{Z:()=>pe});var o=L(4685),q=L(6034),U=L(5452),se=L(300);class de{constructor(we,Ie){this._delegate=we,this.firebase=Ie,(0,U._addComponent)(we,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(we,Ie=U._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(we);return!pt.isInitialized()&&"EXPLICIT"===(null===(rt=pt.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Ie})}_removeServiceInstance(we,Ie=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ie)}_addComponent(we){(0,U._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,U._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function z(){const Ne=function(Ne){const we={},Ie={__esModule:!0,initializeApp:function(Et,he={}){const _e=U.initializeApp(Et,he);if((0,o.r3)(we,_e.name))return we[_e.name];const ye=new Ne(_e,Ie);return we[_e.name]=ye,ye},app:pt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(Et){const he=Et.name,_e=he.replace("-compat","");if(U._registerComponent(Et)&&"PUBLIC"===Et.type){const ye=(be=pt())=>{if("function"!=typeof be[_e])throw Z.create("invalid-app-argument",{appName:he});return be[_e]()};void 0!==Et.serviceProps&&(0,o.ZB)(ye,Et.serviceProps),Ie[_e]=ye,Ne.prototype[_e]=function(...be){return this._getService.bind(this,he).apply(this,Et.multipleInstances?be:[])}}return"PUBLIC"===Et.type?Ie[_e]:null},removeApp:function(Et){delete we[Et]},useAsService:function(Et,he){return"serverAuth"===he?null:he},modularAPIs:U}};function pt(Et){if(!(0,o.r3)(we,Et=Et||U._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:Et});return we[Et]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function(){return Object.keys(we).map(Et=>we[Et])}}),pt.App=Ne,Ie}(de);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(Ie){(0,o.ZB)(Ne,Ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ne}(),Q=new se.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=V;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const pe=De},5452:(Xe,Te,L)=>{"use strict";L.r(Te),L.d(Te,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>qn,_addOrOverwriteComponent:()=>Fs,_apps:()=>at,_clearComponents:()=>Zn,_components:()=>_t,_getProvider:()=>Ot,_registerComponent:()=>Vr,_removeServiceInstance:()=>Fn,deleteApp:()=>ia,getApp:()=>ws,getApps:()=>Mr,initializeApp:()=>Xs,onLog:()=>hn,registerVersion:()=>lt,setLogLevel:()=>ns});var o=L(8239),q=L(6034),U=L(300),se=L(4685);class de{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(en=>{if(function(Mt){const mt=Mt.getComponent();return"VERSION"===(null==mt?void 0:mt.type)}(en)){const Qt=en.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(en=>en).join(" ")}}const Z="@firebase/app",z=new U.Yd("@firebase/app"),Gt="[DEFAULT]",ht={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,_t=new Map;function qn(Mt,mt){try{Mt.container.addComponent(mt)}catch(en){z.debug(`Component ${mt.name} failed to register with FirebaseApp ${Mt.name}`,en)}}function Fs(Mt,mt){Mt.container.addOrOverwriteComponent(mt)}function Vr(Mt){const mt=Mt.name;if(_t.has(mt))return z.debug(`There were multiple attempts to register component ${mt}.`),!1;_t.set(mt,Mt);for(const en of at.values())qn(en,Mt);return!0}function Ot(Mt,mt){return Mt.container.getProvider(mt)}function Fn(Mt,mt,en=Gt){Ot(Mt,mt).clearInstance(en)}function Zn(){_t.clear()}const vs=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Dr{constructor(mt,en,Qt){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},en),this._name=en.name,this._automaticDataCollectionEnabled=en.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}const So="9.0.0";function Xs(Mt,mt={}){"object"!=typeof mt&&(mt={name:mt});const en=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},mt),Qt=en.name;if("string"!=typeof Qt||!Qt)throw vs.create("bad-app-name",{appName:String(Qt)});const Zi=at.get(Qt);if(Zi){if((0,se.vZ)(Mt,Zi.options)&&(0,se.vZ)(en,Zi.config))return Zi;throw vs.create("duplicate-app",{appName:Qt})}const yn=new q.H0(Qt);for(const st of _t.values())yn.addComponent(st);const Ye=new Dr(Mt,en,yn);return at.set(Qt,Ye),Ye}function ws(Mt=Gt){const mt=at.get(Mt);if(!mt)throw vs.create("no-app",{appName:Mt});return mt}function Mr(){return Array.from(at.values())}function ia(Mt){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,o.Z)(function*(Mt){const mt=Mt.name;at.has(mt)&&(at.delete(mt),yield Promise.all(Mt.container.getProviders().map(en=>en.delete())),Mt.isDeleted=!0)})).apply(this,arguments)}function lt(Mt,mt,en){var Qt;let Zi=null!==(Qt=ht[Mt])&&void 0!==Qt?Qt:Mt;en&&(Zi+=`-${en}`);const yn=Zi.match(/\s|\//),Ye=mt.match(/\s|\//);if(yn||Ye){const st=[`Unable to register library "${Zi}" with version "${mt}":`];return yn&&st.push(`library name "${Zi}" contains illegal characters (whitespace or "/")`),yn&&Ye&&st.push("and"),Ye&&st.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void z.warn(st.join(" "))}Vr(new q.wA(`${Zi}-version`,()=>({library:Zi,version:mt}),"VERSION"))}function hn(Mt,mt){if(null!==Mt&&"function"!=typeof Mt)throw vs.create("invalid-log-argument");(0,U.Am)(Mt,mt)}function ns(Mt){(0,U.Ub)(Mt)}Vr(new q.wA("platform-logger",mt=>new de(mt),"PRIVATE")),lt(Z,"0.7.0",undefined),lt("fire-js","")},5893:(Xe,Te,L)=>{"use strict";L.d(Te,{$:()=>Lv,A:()=>Q,E:()=>$i,G:()=>Tt,I:()=>no,K:()=>tn,L:()=>Of,M:()=>Ig,N:()=>Rg,P:()=>er,Q:()=>Fa,R:()=>ED,T:()=>ad,V:()=>Nv,W:()=>yD,X:()=>La,Y:()=>cd,Z:()=>Ba,_:()=>dd,a:()=>Wv,a0:()=>Bv,a1:()=>Vv,a2:()=>El,a3:()=>sn,a4:()=>ti,a5:()=>Va,a6:()=>Cs,a7:()=>hd,a8:()=>bD,a9:()=>Qi,aA:()=>a0,aB:()=>kD,aC:()=>xn,aG:()=>Gr,aJ:()=>Xt,aa:()=>Uv,ab:()=>Vs,ae:()=>Hv,af:()=>qf,ag:()=>Lg,aj:()=>Pv,ak:()=>jv,am:()=>gd,an:()=>ha,ao:()=>ri,ap:()=>he,aq:()=>On,ar:()=>Kt,as:()=>rt,at:()=>s_,au:()=>qc,av:()=>pt,aw:()=>Ae,ax:()=>ye,ay:()=>Xn,az:()=>pi,b:()=>$v,c:()=>ja,d:()=>Dk,e:()=>AD,f:()=>kd,g:()=>Yc,h:()=>Tk,i:()=>Ki,j:()=>RD,k:()=>Yn,l:()=>wk,m:()=>hs,o:()=>W,r:()=>SD,s:()=>vk,u:()=>Ed,z:()=>ie});var o=L(8239),q=L(4685),U=L(5452),se=L(4762),de=L(300),te=L(6034);const W={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ie=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new de.Yd("@firebase/auth");function Ie(T,...b){we.logLevel<=de.in.ERROR&&we.error(`Auth (${U.SDK_VERSION}): ${T}`,...b)}function rt(T,...b){throw qt(T,...b)}function pt(T,...b){return qt(T,...b)}function Ut(T,b,w){const S=Object.assign(Object.assign({},De()),{[b]:w});return new q.LL("auth","Firebase",S).create(b,{appName:T.name})}function Ht(T,b,w){if(!(b instanceof w))throw w.name!==b.constructor.name&&rt(T,"argument-error"),Ut(T,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qt(T,...b){if("string"!=typeof T){const w=b[0],S=[...b.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(w,...S)}return pe.create(T,...b)}function Ae(T,b,...w){if(!T)throw qt(b,...w)}function Et(T){const b="INTERNAL ASSERTION FAILED: "+T;throw Ie(b),new Error(b)}function he(T,b){T||Et(b)}const _e=new Map;function ye(T){he(T instanceof Function,"Expected a class definition");let b=_e.get(T);return b?(he(b instanceof T,"Instance stored in cache mismatched with class"),b):(b=new T,_e.set(T,b),b)}function re(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Ue(){return"http:"===ot()||"https:"===ot()}function ot(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class at{constructor(b,w){this.shortDelay=b,this.longDelay=w,he(w>b,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _t(T,b){he(T.emulator,"Emulator should always be set here");const{url:w}=T.emulator;return b?`${w}${b.startsWith("/")?b.slice(1):b}`:w}class qn{static initialize(b,w,S){this.fetchImpl=b,w&&(this.headersImpl=w),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vr=new at(3e4,6e4);function Ot(T,b){return T.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:T.tenantId}):b}function Fn(T,b,w,S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,o.Z)(function*(T,b,w,S,R={}){return qi(T,R,()=>{let P={},ue={};S&&("GET"===b?ue=S:P={body:JSON.stringify(S)});const Fe=(0,q.xO)(Object.assign({key:T.config.apiKey},ue)).slice(1),it=new(qn.headers());return it.set("Content-Type","application/json"),it.set("X-Client-Version",T._getSdkClientVersion()),T.languageCode&&it.set("X-Firebase-Locale",T.languageCode),qn.fetch()(Xs(T,T.config.apiHost,w,Fe),Object.assign({method:b,headers:it,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function qi(T,b,w){return vs.apply(this,arguments)}function vs(){return(vs=(0,o.Z)(function*(T,b,w){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},Fs),b);try{const R=new ws(T),P=yield Promise.race([w(),R.promise]);R.clearNetworkTimeout();const ue=yield P.json();if("needConfirmation"in ue)throw Mr(T,"account-exists-with-different-credential",ue);if(P.ok&&!("errorMessage"in ue))return ue;{const Fe=P.ok?ue.errorMessage:ue.error.message,[it,Ct]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw Mr(T,"credential-already-in-use",ue);if("EMAIL_EXISTS"===it)throw Mr(T,"email-already-in-use",ue);const nn=S[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw Ut(T,nn,Ct);rt(T,nn)}}catch(R){if(R instanceof q.ZR)throw R;rt(T,"network-request-failed")}})).apply(this,arguments)}function Dr(T,b,w,S){return So.apply(this,arguments)}function So(){return(So=(0,o.Z)(function*(T,b,w,S,R={}){const P=yield Fn(T,b,w,S,R);return"mfaPendingCredential"in P&&rt(T,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Xs(T,b,w,S){const R=`${b}${w}?${S}`;return T.config.emulator?_t(T.config,R):`${T.config.apiScheme}://${R}`}class ws{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((w,S)=>{this.timer=setTimeout(()=>S(pt(this.auth,"timeout")),Vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(T,b,w){const S={appName:T.name};w.email&&(S.email=w.email),w.phoneNumber&&(S.phoneNumber=w.phoneNumber);const R=pt(T,b,S);return R.customData._tokenResponse=w,R}function Ls(){return(Ls=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function lt(T,b){return hn.apply(this,arguments)}function hn(){return(hn=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ns(T,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Mt(T){if(T)try{const b=new Date(Number(T));if(!isNaN(b.getTime()))return b.toUTCString()}catch(b){}}function Qt(){return(Qt=(0,o.Z)(function*(T,b=!1){const w=(0,q.m9)(T),S=yield w.getIdToken(b),R=yn(S);Ae(R&&R.exp&&R.auth_time&&R.iat,w.auth,"internal-error");const P="object"==typeof R.firebase?R.firebase:void 0,ue=null==P?void 0:P.sign_in_provider;return{claims:R,token:S,authTime:Mt(Zi(R.auth_time)),issuedAtTime:Mt(Zi(R.iat)),expirationTime:Mt(Zi(R.exp)),signInProvider:ue||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Zi(T){return 1e3*Number(T)}function yn(T){const[b,w,S]=T.split(".");if(void 0===b||void 0===w||void 0===S)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,q.tV)(w);return R?JSON.parse(R):(Ie("Failed to decode base64 JWT payload"),null)}catch(R){return Ie("Caught error parsing JWT payload as JSON",R),null}}function st(T,b){return ra.apply(this,arguments)}function ra(){return(ra=(0,o.Z)(function*(T,b,w=!1){if(w)return b;try{return yield b}catch(S){throw S instanceof q.ZR&&sa(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}function sa({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class is{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var w;if(b){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const R=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(b=!1){var w=this;if(!this.isRunning)return;const S=this.getInterval(b);this.timerId=setTimeout((0,o.Z)(function*(){yield w.iteration()}),S)}iteration(){var b=this;return(0,o.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&b.schedule(!0))}b.schedule()})()}}class Cn{constructor(b,w){this.createdAt=b,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mt(this.lastLoginAt),this.creationTime=Mt(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(T){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(T){var b;const w=T.auth,S=yield T.getIdToken(),R=yield st(T,ns(w,{idToken:S}));Ae(null==R?void 0:R.users.length,w,"internal-error");const P=R.users[0];T._notifyReloadListener(P);const ue=(null===(b=P.providerUserInfo)||void 0===b?void 0:b.length)?ne(P.providerUserInfo):[],Fe=j(T.providerData,ue),nn=!!T.isAnonymous&&!(T.email&&P.passwordHash||(null==Fe?void 0:Fe.length)),vn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Fe,metadata:new Cn(P.createdAt,P.lastLoginAt),isAnonymous:nn};Object.assign(T,vn)})).apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(T){const b=(0,q.m9)(T);yield Dn(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function j(T,b){return[...T.filter(S=>!b.some(R=>R.providerId===S.providerId)),...b]}function ne(T){return T.map(b=>{var{providerId:w}=b,S=(0,se._T)(b,["providerId"]);return{providerId:w,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function oe(){return(oe=(0,o.Z)(function*(T,b){const w=yield qi(T,{},()=>{const S=(0,q.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:R,apiKey:P}=T.config,ue=Xs(T,R,"/v1/token",`key=${P}`);return qn.fetch()(ue,{method:"POST",headers:{"X-Client-Version":T._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){Ae(b.idToken,"internal-error"),Ae(void 0!==b.idToken,"internal-error"),Ae(void 0!==b.refreshToken,"internal-error");const w="expiresIn"in b&&void 0!==b.expiresIn?Number(b.expiresIn):function(T){const b=yn(T);return Ae(b,"internal-error"),Ae(void 0!==b.exp,"internal-error"),Ae(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,w)}getToken(b,w=!1){var S=this;return(0,o.Z)(function*(){return Ae(!S.accessToken||S.refreshToken,b,"user-token-expired"),w||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(b,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,w){var S=this;return(0,o.Z)(function*(){const{accessToken:R,refreshToken:P,expiresIn:ue}=yield function(T,b){return oe.apply(this,arguments)}(b,w);S.updateTokensAndExpiration(R,P,Number(ue))})()}updateTokensAndExpiration(b,w,S){this.refreshToken=w||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(b,w){const{refreshToken:S,accessToken:R,expirationTime:P}=w,ue=new Ge;return S&&(Ae("string"==typeof S,"internal-error",{appName:b}),ue.refreshToken=S),R&&(Ae("string"==typeof R,"internal-error",{appName:b}),ue.accessToken=R),P&&(Ae("number"==typeof P,"internal-error",{appName:b}),ue.expirationTime=P),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return Et("not implemented")}}function et(T,b){Ae("string"==typeof T||void 0===T,"internal-error",{appName:b})}class Nt{constructor(b){var{uid:w,auth:S,stsTokenManager:R}=b,P=(0,se._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new is(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=S,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new Cn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(b){var w=this;return(0,o.Z)(function*(){const S=yield st(w,w.stsTokenManager.getToken(w.auth,b));return Ae(S,w.auth,"internal-error"),w.accessToken!==S&&(w.accessToken=S,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),S})()}getIdTokenResult(b){return function(T){return Qt.apply(this,arguments)}(this,b)}reload(){return function(T){return Y.apply(this,arguments)}(this)}_assign(b){this!==b&&(Ae(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(w=>Object.assign({},w)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Nt(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,w=!1){var S=this;return(0,o.Z)(function*(){let R=!1;b.idToken&&b.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(b),R=!0),w&&(yield Dn(S)),yield S.auth._persistUserIfCurrent(S),R&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var b=this;return(0,o.Z)(function*(){const w=yield b.getIdToken();return yield st(b,function(T,b){return Ls.apply(this,arguments)}(b.auth,{idToken:w})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,w){var S,R,P,ue,Fe,it,Ct,nn;const vn=null!==(S=w.displayName)&&void 0!==S?S:void 0,Lo=null!==(R=w.email)&&void 0!==R?R:void 0,_a=null!==(P=w.phoneNumber)&&void 0!==P?P:void 0,oi=null!==(ue=w.photoURL)&&void 0!==ue?ue:void 0,Be=null!==(Fe=w.tenantId)&&void 0!==Fe?Fe:void 0,Ts=null!==(it=w._redirectEventId)&&void 0!==it?it:void 0,Fl=null!==(Ct=w.createdAt)&&void 0!==Ct?Ct:void 0,xe=null!==(nn=w.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:jt,emailVerified:op,isAnonymous:Jc,providerData:mi,stsTokenManager:ai}=w;Ae(jt&&ai,b,"internal-error");const Bd=Ge.fromJSON(this.name,ai);Ae("string"==typeof jt,b,"internal-error"),et(vn,b.name),et(Lo,b.name),Ae("boolean"==typeof op,b,"internal-error"),Ae("boolean"==typeof Jc,b,"internal-error"),et(_a,b.name),et(oi,b.name),et(Be,b.name),et(Ts,b.name),et(Fl,b.name),et(xe,b.name);const za=new Nt({uid:jt,auth:b,email:Lo,emailVerified:op,displayName:vn,isAnonymous:Jc,photoURL:oi,phoneNumber:_a,tenantId:Be,stsTokenManager:Bd,createdAt:Fl,lastLoginAt:xe});return mi&&Array.isArray(mi)&&(za.providerData=mi.map(It=>Object.assign({},It))),Ts&&(za._redirectEventId=Ts),za}static _fromIdTokenResponse(b,w,S=!1){return(0,o.Z)(function*(){const R=new Ge;R.updateFromServerResponse(w);const P=new Nt({uid:w.localId,auth:b,stsTokenManager:R,isAnonymous:S});return yield Dn(P),P})()}}const tn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(w,S){var R=this;return(0,o.Z)(function*(){R.storage[w]=S})()}_get(w){var S=this;return(0,o.Z)(function*(){const R=S.storage[w];return void 0===R?null:R})()}_remove(w){var S=this;return(0,o.Z)(function*(){delete S.storage[w]})()}_addListener(w,S){}_removeListener(w,S){}}return T.type="NONE",T})();function Xn(T,b,w){return`firebase:${T}:${b}:${w}`}class ce{constructor(b,w,S){this.persistence=b,this.auth=w,this.userKey=S;const{config:R,name:P}=this.auth;this.fullUserKey=Xn(this.userKey,R.apiKey,P),this.fullPersistenceKey=Xn("persistence",R.apiKey,P),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,o.Z)(function*(){const w=yield b.persistence._get(b.fullUserKey);return w?Nt._fromJSON(b.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var w=this;return(0,o.Z)(function*(){if(w.persistence===b)return;const S=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=b,S?w.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,w,S="authUser"){return(0,o.Z)(function*(){if(!w.length)return new ce(ye(tn),b,S);const R=(yield Promise.all(w.map(function(){var Ct=(0,o.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let P=R[0]||ye(tn);const ue=Xn(S,b.config.apiKey,b.name);let Fe=null;for(const Ct of w)try{const nn=yield Ct._get(ue);if(nn){const vn=Nt._fromJSON(b,nn);Ct!==P&&(Fe=vn),P=Ct;break}}catch(nn){}const it=R.filter(Ct=>Ct._shouldAllowMigration);return P._shouldAllowMigration&&it.length?(P=it[0],Fe&&(yield P._set(ue,Fe.toJSON())),yield Promise.all(w.map(function(){var Ct=(0,o.Z)(function*(nn){if(nn!==P)try{yield nn._remove(ue)}catch(vn){}});return function(nn){return Ct.apply(this,arguments)}}())),new ce(P,b,S)):new ce(P,b,S)})()}}function J(T){const b=T.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(bt(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(ee(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(fn(b))return"Blackberry";if(ln(b))return"Webos";if(Se(b))return"Safari";if((b.includes("chrome/")||Ze(b))&&!b.includes("edge/"))return"Chrome";if(Kt(b))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function ee(T=(0,q.z$)()){return/firefox\//i.test(T)}function Se(T=(0,q.z$)()){const b=T.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Ze(T=(0,q.z$)()){return/crios\//i.test(T)}function bt(T=(0,q.z$)()){return/iemobile/i.test(T)}function Kt(T=(0,q.z$)()){return/android/i.test(T)}function fn(T=(0,q.z$)()){return/blackberry/i.test(T)}function ln(T=(0,q.z$)()){return/webos/i.test(T)}function On(T=(0,q.z$)()){return/iphone|ipad|ipod/i.test(T)}function ri(T=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function zi(T=(0,q.z$)()){return On(T)||Kt(T)||ln(T)||fn(T)||/windows phone/i.test(T)||bt(T)}function Zt(T,b=[]){let w;switch(T){case"Browser":w=J((0,q.z$)());break;case"Worker":w=`${J((0,q.z$)())}-${T}`;break;default:w=T}const S=b.length?b.join(","):"FirebaseCore-web";return`${w}/JsCore/${U.SDK_VERSION}/${S}`}class Ln{constructor(b,w){this.app=b,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aa(this),this.idTokenSubscription=new aa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(b,w){var S=this;return w&&(this._popupRedirectResolver=ye(w)),this._initializationPromise=this.queue((0,o.Z)(function*(){var R;S._deleted||(S.persistenceManager=yield ce.create(S,b),!S._deleted&&((null===(R=S._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(w),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,o.Z)(function*(){if(b._deleted)return;const w=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||w){if(b.currentUser&&w&&b.currentUser.uid===w.uid)return b._currentUser._assign(w),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(w)}})()}initializeCurrentUser(b){var w=this;return(0,o.Z)(function*(){var S;let R=yield w.assertedPersistence.getCurrentUser();if(b&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const P=null===(S=w.redirectUser)||void 0===S?void 0:S._redirectEventId,ue=null==R?void 0:R._redirectEventId,Fe=yield w.tryRedirectSignIn(b);(!P||P===ue)&&(null==Fe?void 0:Fe.user)&&(R=Fe.user)}return R?R._redirectEventId?(Ae(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===R._redirectEventId?w.directlySetCurrentUser(R):w.reloadAndSetCurrentUserOrClear(R)):w.reloadAndSetCurrentUserOrClear(R):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(b){var w=this;return(0,o.Z)(function*(){let S=null;try{S=yield w._popupRedirectResolver._completeRedirectFn(w,b,!0)}catch(R){yield w._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(b){var w=this;return(0,o.Z)(function*(){try{yield Dn(b)}catch(S){if("auth/network-request-failed"!==S.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var b=this;return(0,o.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var w=this;return(0,o.Z)(function*(){const S=b?(0,q.m9)(b):null;return S&&Ae(S.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(S&&S._clone(w))})()}_updateCurrentUser(b){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return b&&Ae(w.tenantId===b.tenantId,w,"tenant-id-mismatch"),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(b),w.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,o.Z)(function*(){return(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null)})()}setPersistence(b){var w=this;return this.queue((0,o.Z)(function*(){yield w.assertedPersistence.setPersistence(ye(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new q.LL("auth","Firebase",b())}onAuthStateChanged(b,w,S){return this.registerStateListener(this.authStateSubscription,b,w,S)}onIdTokenChanged(b,w,S){return this.registerStateListener(this.idTokenSubscription,b,w,S)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,w){var S=this;return(0,o.Z)(function*(){const R=yield S.getOrInitRedirectPersistenceManager(w);return null===b?R.removeCurrentUser():R.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var w=this;return(0,o.Z)(function*(){if(!w.redirectPersistenceManager){const S=b&&ye(b)||w._popupRedirectResolver;Ae(S,w,"argument-error"),w.redirectPersistenceManager=yield ce.create(w,[ye(S._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(b){var w=this;return(0,o.Z)(function*(){var S,R;return w._isInitialized&&(yield w.queue((0,o.Z)(function*(){}))),(null===(S=w._currentUser)||void 0===S?void 0:S._redirectEventId)===b?w._currentUser:(null===(R=w.redirectUser)||void 0===R?void 0:R._redirectEventId)===b?w.redirectUser:null})()}_persistUserIfCurrent(b){var w=this;return(0,o.Z)(function*(){if(b===w.currentUser)return w.queue((0,o.Z)(function*(){return w.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(w=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,w,S,R){if(this._deleted)return()=>{};const P="function"==typeof w?w:w.next.bind(w),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(ue,this,"internal-error"),ue.then(()=>P(this.currentUser)),"function"==typeof w?b.addObserver(w,S,R):b.addObserver(w)}directlySetCurrentUser(b){var w=this;return(0,o.Z)(function*(){w.currentUser&&w.currentUser!==b&&(w._currentUser._stopProactiveRefresh(),b&&w.isProactiveRefreshEnabled&&b._startProactiveRefresh()),w.currentUser=b,b?yield w.assertedPersistence.setCurrentUser(b):yield w.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=Zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function xn(T){return(0,q.m9)(T)}class aa{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,q.ne)(w=>this.observer=w)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $i(T,b,w){const S=xn(T);Ae(S._canInitEmulator,S,"emulator-config-failed"),Ae(/^https?:\/\//.test(b),S,"invalid-emulator-scheme");const R=!!(null==w?void 0:w.disableWarnings),P=to(b),{host:ue,port:Fe}=function(T){const b=to(T),w=/(\/\/)?([^?#/]+)/.exec(T.substr(b.length));if(!w)return{host:"",port:null};const S=w[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(S);if(R){const P=R[1];return{host:P,port:vl(S.substr(P.length+1))}}{const[P,ue]=S.split(":");return{host:P,port:vl(ue)}}}(b);S.config.emulator={url:`${P}//${ue}${null===Fe?"":`:${Fe}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ue,port:Fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(T){function b(){const w=document.createElement("p"),S=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!T&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}(R)}function to(T){const b=T.indexOf(":");return b<0?"":T.substr(0,b+1)}function vl(T){if(!T)return null;const b=Number(T);return isNaN(b)?null:b}class Tt{constructor(b,w){this.providerId=b,this.signInMethod=w}toJSON(){return Et("not implemented")}_getIdTokenResponse(b){return Et("not implemented")}_linkToIdToken(b,w){return Et("not implemented")}_getReauthenticationResolver(b){return Et("not implemented")}}function la(T,b){return xo.apply(this,arguments)}function xo(){return(xo=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:resetPassword",Ot(T,b))})).apply(this,arguments)}function rd(T,b){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Tr(T,b){return rs.apply(this,arguments)}function rs(){return(rs=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:update",Ot(T,b))})).apply(this,arguments)}function ss(){return(ss=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithPassword",Ot(T,b))})).apply(this,arguments)}function yt(T,b){return sd.apply(this,arguments)}function sd(){return(sd=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:sendOobCode",Ot(T,b))})).apply(this,arguments)}function Iv(T,b){return ft.apply(this,arguments)}function ft(){return(ft=(0,o.Z)(function*(T,b){return yt(T,b)})).apply(this,arguments)}function kf(T,b){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(T,b){return yt(T,b)})).apply(this,arguments)}function Dl(T,b){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,o.Z)(function*(T,b){return yt(T,b)})).apply(this,arguments)}function ei(T,b){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(T,b){return yt(T,b)})).apply(this,arguments)}function Ur(){return(Ur=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithEmailLink",Ot(T,b))})).apply(this,arguments)}function ua(){return(ua=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithEmailLink",Ot(T,b))})).apply(this,arguments)}class Di extends Tt{constructor(b,w,S,R=null){super("password",S),this._email=b,this._password=w,this._tenantId=R}static _fromEmailAndPassword(b,w){return new Di(b,w,"password")}static _fromEmailAndCode(b,w,S=null){return new Di(b,w,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const w="string"==typeof b?JSON.parse(b):b;if((null==w?void 0:w.email)&&(null==w?void 0:w.password)){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(b){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return function(T,b){return ss.apply(this,arguments)}(b,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(T,b){return Ur.apply(this,arguments)}(b,{email:w._email,oobCode:w._password});default:rt(b,"internal-error")}})()}_linkToIdToken(b,w){var S=this;return(0,o.Z)(function*(){switch(S.signInMethod){case"password":return rd(b,{idToken:w,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(T,b){return ua.apply(this,arguments)}(b,{idToken:w,email:S._email,oobCode:S._password});default:rt(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Ji(T,b){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithIdp",Ot(T,b))})).apply(this,arguments)}class no extends Tt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const w=new no(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(w.idToken=b.idToken),b.accessToken&&(w.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(w.nonce=b.nonce),b.pendingToken&&(w.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(w.accessToken=b.oauthToken,w.secret=b.oauthTokenSecret):rt("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const w="string"==typeof b?JSON.parse(b):b,{providerId:S,signInMethod:R}=w,P=(0,se._T)(w,["providerId","signInMethod"]);if(!S||!R)return null;const ue=new no(S,R);return Object.assign(ue,P),ue}_getIdTokenResponse(b){return Ji(b,this.buildRequest())}_linkToIdToken(b,w){const S=this.buildRequest();return S.idToken=w,Ji(b,S)}_getReauthenticationResolver(b){const w=this.buildRequest();return w.autoCreate=!1,Ji(b,w)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),b.postBody=(0,q.xO)(w)}return b}}function Rv(T,b){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:sendVerificationCode",Ot(T,b))})).apply(this,arguments)}function xg(){return(xg=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithPhoneNumber",Ot(T,b))})).apply(this,arguments)}function Ag(){return(Ag=(0,o.Z)(function*(T,b){const w=yield Dr(T,"POST","/v1/accounts:signInWithPhoneNumber",Ot(T,b));if(w.temporaryProof)throw Mr(T,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const pD={USER_NOT_FOUND:"user-not-found"};function kg(){return(kg=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithPhoneNumber",Ot(T,Object.assign(Object.assign({},b),{operation:"REAUTH"})),pD)})).apply(this,arguments)}class Ml extends Tt{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,w){return new Ml({verificationId:b,verificationCode:w})}static _fromTokenResponse(b,w){return new Ml({phoneNumber:b,temporaryProof:w})}_getIdTokenResponse(b){return function(T,b){return xg.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,w){return function(T,b){return Ag.apply(this,arguments)}(b,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function(T,b){return kg.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:w,verificationId:S,verificationCode:R}=this.params;return b&&w?{temporaryProof:b,phoneNumber:w}:{sessionInfo:S,code:R}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:w,verificationCode:S,phoneNumber:R,temporaryProof:P}=b;return S||w||R||P?new Ml({verificationId:w,verificationCode:S,phoneNumber:R,temporaryProof:P}):null}}class od{constructor(b){var w,S,R,P,ue,Fe;const it=(0,q.zd)((0,q.pd)(b)),Ct=null!==(w=it.apiKey)&&void 0!==w?w:null,nn=null!==(S=it.oobCode)&&void 0!==S?S:null,vn=function(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=it.mode)&&void 0!==R?R:null);Ae(Ct&&nn&&vn,"argument-error"),this.apiKey=Ct,this.operation=vn,this.code=nn,this.continueUrl=null!==(P=it.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ue=it.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Fe=it.tenantId)&&void 0!==Fe?Fe:null}static parseLink(b){const w=function(T){const b=(0,q.zd)((0,q.pd)(T)).link,w=b?(0,q.zd)((0,q.pd)(b)).deep_link_id:null,S=(0,q.zd)((0,q.pd)(T)).deep_link_id;return(S?(0,q.zd)((0,q.pd)(S)).link:null)||S||w||b||T}(b);try{return new od(w)}catch(S){return null}}}let Of=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(w,S){return Di._fromEmailAndPassword(w,S)}static credentialWithLink(w,S){const R=od.parseLink(S);return Ae(R,"argument-error"),Di._fromEmailAndCode(w,R.code,R.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class ko{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Io extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class ad extends Io{static credentialFromJSON(b){const w="string"==typeof b?JSON.parse(b):b;return Ae("providerId"in w&&"signInMethod"in w,"argument-error"),no._fromParams(w)}credential(b){return this._credential(b)}_credential(b){return Ae(b.idToken||b.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return ad.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return ad.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:w,oauthAccessToken:S,oauthTokenSecret:R,pendingToken:P,nonce:ue,providerId:Fe}=b;if(!S&&!R&&!w&&!P||!Fe)return null;try{return new ad(Fe)._credential({idToken:w,accessToken:S,rawNonce:ue,pendingToken:P})}catch(it){return null}}}let Ig=(()=>{class T extends Io{constructor(){super("facebook.com")}static credential(w){return no._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return T.credential(w.oauthAccessToken)}catch(S){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Rg=(()=>{class T extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(w,S){return no._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:S})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:S,oauthAccessToken:R}=w;if(!S&&!R)return null;try{return T.credential(S,R)}catch(P){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Fa=(()=>{class T extends Io{constructor(){super("github.com")}static credential(w){return no._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return T.credential(w.oauthAccessToken)}catch(S){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Xt extends Tt{constructor(b,w){super(b,b),this.pendingToken=w}_getIdTokenResponse(b){return Ji(b,this.buildRequest())}_linkToIdToken(b,w){const S=this.buildRequest();return S.idToken=w,Ji(b,S)}_getReauthenticationResolver(b){const w=this.buildRequest();return w.autoCreate=!1,Ji(b,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const w="string"==typeof b?JSON.parse(b):b,{providerId:S,signInMethod:R,pendingToken:P}=w;return S&&R&&P&&S===R?new Xt(S,P):null}static _create(b,w){return new Xt(b,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Nv=(()=>{class T extends Io{constructor(){super("twitter.com")}static credential(w,S){return no._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:S})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:S,oauthTokenSecret:R}=w;if(!S||!R)return null;try{return T.credential(S,R)}catch(P){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ff(T,b){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signUp",Ot(T,b))})).apply(this,arguments)}class as{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,w,S,R=!1){return(0,o.Z)(function*(){const P=yield Nt._fromIdTokenResponse(b,S,R),ue=Lf(S);return new as({user:P,providerId:ue,_tokenResponse:S,operationType:w})})()}static _forOperation(b,w,S){return(0,o.Z)(function*(){yield b._updateTokensIfNecessary(S,!0);const R=Lf(S);return new as({user:b,providerId:R,_tokenResponse:S,operationType:w})})()}}function Lf(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function yD(T){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.Z)(function*(T){var b;const w=xn(T);if(yield w._initializationPromise,null===(b=w.currentUser)||void 0===b?void 0:b.isAnonymous)return new as({user:w.currentUser,providerId:null,operationType:"signIn"});const S=yield Ff(w,{returnSecureToken:!0}),R=yield as._fromIdTokenResponse(w,"signIn",S,!0);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}class Tl extends q.ZR{constructor(b,w,S,R){var P;super(w.code,w.message),this.operationType=S,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,Tl.prototype),this.appName=b.name,this.code=w.code,this.tenantId=null!==(P=b.tenantId)&&void 0!==P?P:void 0,this.serverResponse=w.customData.serverResponse}static _fromErrorAndOperation(b,w,S,R){return new Tl(b,w,S,R)}}function Bf(T,b,w,S){return("reauthenticate"===b?w._getReauthenticationResolver(T):w._getIdTokenResponse(T)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Tl._fromErrorAndOperation(T,P,b,S):P})}function xc(T){return new Set(T.map(({providerId:b})=>b).filter(b=>!!b))}function Pv(T,b){return ld.apply(this,arguments)}function ld(){return(ld=(0,o.Z)(function*(T,b){const w=(0,q.m9)(T);yield Ac(!0,w,b);const{providerUserInfo:S}=yield lt(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[b]}),R=xc(S||[]);return w.providerData=w.providerData.filter(P=>R.has(P.providerId)),R.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function Vf(T,b){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.Z)(function*(T,b,w=!1){const S=yield st(T,b._linkToIdToken(T.auth,yield T.getIdToken()),w);return as._forOperation(T,"link",S)})).apply(this,arguments)}function Ac(T,b,w){return da.apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(T,b,w){yield Dn(b);const R=!1===T?"provider-already-linked":"no-such-provider";Ae(xc(b.providerData).has(w)===T,b.auth,R)})).apply(this,arguments)}function Og(T,b){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.Z)(function*(T,b,w=!1){const{auth:S}=T,R="reauthenticate";try{const P=yield st(T,Bf(S,R,b,T),w);Ae(P.idToken,S,"internal-error");const ue=yn(P.idToken);Ae(ue,S,"internal-error");const{sub:Fe}=ue;return Ae(T.uid===Fe,S,"user-mismatch"),as._forOperation(T,R,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&rt(S,"user-mismatch"),P}})).apply(this,arguments)}function Ng(T,b){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,o.Z)(function*(T,b,w=!1){const S="signIn",R=yield Bf(T,S,b),P=yield as._fromIdTokenResponse(T,S,R);return w||(yield T._updateCurrentUser(P.user)),P})).apply(this,arguments)}function La(T,b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,o.Z)(function*(T,b){return Ng(xn(T),b)})).apply(this,arguments)}function cd(T,b){return kc.apply(this,arguments)}function kc(){return(kc=(0,o.Z)(function*(T,b){const w=(0,q.m9)(T);return yield Ac(!1,w,b.providerId),Vf(w,b)})).apply(this,arguments)}function Ba(T,b){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.Z)(function*(T,b){return Og((0,q.m9)(T),b)})).apply(this,arguments)}function Fv(T,b){return ud.apply(this,arguments)}function ud(){return(ud=(0,o.Z)(function*(T,b){return Dr(T,"POST","/v1/accounts:signInWithCustomToken",Ot(T,b))})).apply(this,arguments)}function dd(T,b){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,o.Z)(function*(T,b){const w=xn(T),S=yield Fv(w,{token:b,returnSecureToken:!0}),R=yield as._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ic{constructor(b,w){this.factorId=b,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(b,w){return"phoneInfo"in w?Rc._fromServerResponse(b,w):rt(b,"internal-error")}}class Rc extends Ic{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,w){return new Rc(w)}}function wt(T,b,w){var S;Ae((null===(S=w.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),Ae(void 0===w.dynamicLinkDomain||w.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),b.continueUrl=w.url,b.dynamicLinkDomain=w.dynamicLinkDomain,b.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(Ae(w.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),b.iosBundleId=w.iOS.bundleId),w.android&&(Ae(w.android.packageName.length>0,T,"missing-android-pkg-name"),b.androidInstallApp=w.android.installApp,b.androidMinimumVersionCode=w.android.minimumVersion,b.androidPackageName=w.android.packageName)}function Lv(T,b,w){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T),R={requestType:"PASSWORD_RESET",email:b};w&&wt(S,R,w),yield kf(S,R)})).apply(this,arguments)}function Bv(T,b,w){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,o.Z)(function*(T,b,w){yield la((0,q.m9)(T),{oobCode:b,newPassword:w})})).apply(this,arguments)}function Vv(T,b){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,o.Z)(function*(T,b){yield Tr((0,q.m9)(T),{oobCode:b})})).apply(this,arguments)}function El(T,b){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.Z)(function*(T,b){const w=(0,q.m9)(T),S=yield la(w,{oobCode:b}),R=S.requestType;switch(Ae(R,w,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(S.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(S.mfaInfo,w,"internal-error");default:Ae(S.email,w,"internal-error")}let P=null;return S.mfaInfo&&(P=Ic._fromServerResponse(xn(w),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:P},operation:R}})).apply(this,arguments)}function sn(T,b){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,o.Z)(function*(T,b){const{data:w}=yield El((0,q.m9)(T),b);return w.email})).apply(this,arguments)}function ti(T,b,w){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,o.Z)(function*(T,b,w){const S=xn(T),R=yield Ff(S,{returnSecureToken:!0,email:b,password:w}),P=yield as._fromIdTokenResponse(S,"signIn",R);return yield S._updateCurrentUser(P.user),P})).apply(this,arguments)}function Va(T,b,w){return La((0,q.m9)(T),Of.credential(b,w))}function Cs(T,b,w){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T),R={requestType:"EMAIL_SIGNIN",email:b};Ae(w.handleCodeInApp,S,"argument-error"),w&&wt(S,R,w),yield Dl(S,R)})).apply(this,arguments)}function hd(T,b){const w=od.parseLink(b);return"EMAIL_SIGNIN"===(null==w?void 0:w.operation)}function bD(T,b,w){return jf.apply(this,arguments)}function jf(){return(jf=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T),R=Of.credentialWithLink(b,w||re());return Ae(R._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),La(S,R)})).apply(this,arguments)}function fd(T,b){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:createAuthUri",Ot(T,b))})).apply(this,arguments)}function Qi(T,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,o.Z)(function*(T,b){const S={identifier:b,continueUri:Ue()?re():"http://localhost"},{signinMethods:R}=yield fd((0,q.m9)(T),S);return R||[]})).apply(this,arguments)}function Uv(T,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,o.Z)(function*(T,b){const w=(0,q.m9)(T),R={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};b&&wt(w.auth,R,b);const{email:P}=yield Iv(w.auth,R);P!==T.email&&(yield T.reload())})).apply(this,arguments)}function Vs(T,b,w){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:b};w&&wt(S.auth,P,w);const{email:ue}=yield ei(S.auth,P);ue!==T.email&&(yield T.reload())})).apply(this,arguments)}function Fg(T,b){return pd.apply(this,arguments)}function pd(){return(pd=(0,o.Z)(function*(T,b){return Fn(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Hv(T,b){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,o.Z)(function*(T,{displayName:b,photoURL:w}){if(void 0===b&&void 0===w)return;const S=(0,q.m9)(T),P={idToken:yield S.getIdToken(),displayName:b,photoUrl:w,returnSecureToken:!0},ue=yield st(S,Fg(S.auth,P));S.displayName=ue.displayName||null,S.photoURL=ue.photoUrl||null;const Fe=S.providerData.find(({providerId:it})=>"password"===it);Fe&&(Fe.displayName=S.displayName,Fe.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ue)})).apply(this,arguments)}function qf(T,b){return Al((0,q.m9)(T),b,null)}function Lg(T,b){return Al((0,q.m9)(T),null,b)}function Al(T,b,w){return md.apply(this,arguments)}function md(){return(md=(0,o.Z)(function*(T,b,w){const{auth:S}=T,P={idToken:yield T.getIdToken(),returnSecureToken:!0};b&&(P.email=b),w&&(P.password=w);const ue=yield st(T,rd(S,P));yield T._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class Oo{constructor(b,w,S={}){this.isNewUser=b,this.providerId=w,this.profile=S}}class Zf extends Oo{constructor(b,w,S,R){super(b,w,S),this.username=R}}class Gv extends Oo{constructor(b,w){super(b,"facebook.com",w)}}class Vg extends Zf{constructor(b,w){super(b,"github.com",w,"string"==typeof(null==w?void 0:w.login)?null==w?void 0:w.login:null)}}class Yv extends Oo{constructor(b,w){super(b,"google.com",w)}}class Fc extends Zf{constructor(b,w,S){super(b,"twitter.com",w,S)}}function jv(T){const{user:b,_tokenResponse:w}=T;return b.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function(T){var b,w;if(!T)return null;const{providerId:S}=T,R=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},P=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&(null==T?void 0:T.idToken)){const ue=null===(w=null===(b=yn(T.idToken))||void 0===b?void 0:b.firebase)||void 0===w?void 0:w.sign_in_provider;if(ue)return new Oo(P,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!S)return null;switch(S){case"facebook.com":return new Gv(P,R);case"github.com":return new Vg(P,R);case"google.com":return new Yv(P,R);case"twitter.com":return new Fc(P,R,T.screenName||null);case"custom":case"anonymous":return new Oo(P,null);default:return new Oo(P,S,R)}}(w)}class Ua{constructor(b,w){this.type=b,this.credential=w}static _fromIdtoken(b){return new Ua("enroll",b)}static _fromMfaPendingCredential(b){return new Ua("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var w,S;if(null==b?void 0:b.multiFactorSession){if(null===(w=b.multiFactorSession)||void 0===w?void 0:w.pendingCredential)return Ua._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null===(S=b.multiFactorSession)||void 0===S?void 0:S.idToken)return Ua._fromIdtoken(b.multiFactorSession.idToken)}return null}}class No{constructor(b,w,S){this.session=b,this.hints=w,this.signInResolver=S}static _fromError(b,w){const S=xn(b),R=(w.serverResponse.mfaInfo||[]).map(ue=>Ic._fromServerResponse(S,ue));Ae(w.serverResponse.mfaPendingCredential,S,"internal-error");const P=Ua._fromMfaPendingCredential(w.serverResponse.mfaPendingCredential);return new No(P,R,function(){var ue=(0,o.Z)(function*(Fe){const it=yield Fe._process(S,P);delete w.serverResponse.mfaInfo,delete w.serverResponse.mfaPendingCredential;const Ct=Object.assign(Object.assign({},w.serverResponse),{idToken:it.idToken,refreshToken:it.refreshToken});switch(w.operationType){case"signIn":const nn=yield as._fromIdTokenResponse(S,w.operationType,Ct);return yield S._updateCurrentUser(nn.user),nn;case"reauthenticate":return Ae(w.user,S,"internal-error"),as._forOperation(w.user,w.operationType,Ct);default:rt(S,"internal-error")}});return function(Fe){return ue.apply(this,arguments)}}())}resolveSignIn(b){var w=this;return(0,o.Z)(function*(){return w.signInResolver(b)})()}}function gd(T,b){var w;const S=(0,q.m9)(T),R=b;return Ae(b.operationType,S,"argument-error"),Ae(null===(w=R.serverResponse)||void 0===w?void 0:w.mfaPendingCredential,S,"argument-error"),No._fromError(S,R)}function Il(T,b){return Fn(T,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:T.tenantId},b))}class yd{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(S=>Ic._fromServerResponse(b.auth,S)))})}static _fromUser(b){return new yd(b)}getSession(){var b=this;return(0,o.Z)(function*(){return Ua._fromIdtoken(yield b.user.getIdToken())})()}enroll(b,w){var S=this;return(0,o.Z)(function*(){const R=b,P=yield S.getSession(),ue=yield st(S.user,R._process(S.user.auth,P,w));return yield S.user._updateTokensIfNecessary(ue),S.user.reload()})()}unenroll(b){var w=this;return(0,o.Z)(function*(){const S="string"==typeof b?b:b.uid,R=yield w.user.getIdToken(),P=yield st(w.user,function(T,b){return Fn(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:T.tenantId},b))}(w.user.auth,{idToken:R,mfaEnrollmentId:S}));w.enrolledFactors=w.enrolledFactors.filter(({uid:ue})=>ue!==S),yield w.user._updateTokensIfNecessary(P);try{yield w.user.reload()}catch(ue){if("auth/user-token-expired"!==ue.code)throw ue}})()}}const Wf=new WeakMap;function ha(T){const b=(0,q.m9)(T);return Wf.has(b)||Wf.set(b,yd._fromUser(b)),Wf.get(b)}const Ha="__sak";class Zv{constructor(b,w){this.storage=b,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(b){return Promise.resolve(!1)}}_set(b,w){return this.storage.setItem(b,JSON.stringify(w)),Promise.resolve()}_get(b){const w=this.storage.getItem(b);return Promise.resolve(w?JSON.parse(w):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}}const $v=(()=>{class T extends Zv{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const T=(0,q.z$)();return Se(T)||On(T)}()&&function(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(w){for(const S of Object.keys(this.listeners)){const R=this.storage.getItem(S),P=this.localCache[S];R!==P&&w(S,P,R)}}onStorageEvent(w,S=!1){if(!w.key)return void this.forAllChangedKeys((Fe,it,Ct)=>{this.notifyListeners(Fe,Ct)});const R=w.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(R);if(w.newValue!==Fe)null!==w.newValue?this.storage.setItem(R,w.newValue):this.storage.removeItem(R);else if(this.localCache[R]===w.newValue&&!S)return}const P=()=>{const Fe=this.storage.getItem(R);!S&&this.localCache[R]===Fe||this.notifyListeners(R,Fe)},ue=this.storage.getItem(R);(0,q.w1)()&&10===document.documentMode&&ue!==w.newValue&&w.newValue!==w.oldValue?setTimeout(P,10):P()}notifyListeners(w,S){this.localCache[w]=S;const R=this.listeners[w];if(R)for(const P of Array.from(R))P(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,S,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:S,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(S)}_removeListener(w,S){this.listeners[w]&&(this.listeners[w].delete(S),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,S){var R=()=>super._set,P=this;return(0,o.Z)(function*(){yield R().call(P,w,S),P.localCache[w]=JSON.stringify(S)})()}_get(w){var S=()=>super._get,R=this;return(0,o.Z)(function*(){const P=yield S().call(R,w);return R.localCache[w]=JSON.stringify(P),P})()}_remove(w){var S=()=>super._remove,R=this;return(0,o.Z)(function*(){yield S().call(R,w),delete R.localCache[w]})()}}return T.type="LOCAL",T})(),Wv=(()=>{class T extends Zv{constructor(){super(window.sessionStorage,"SESSION")}_addListener(w,S){}_removeListener(w,S){}}return T.type="SESSION",T})();let Hg=(()=>{class T{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const S=this.receivers.find(P=>P.isListeningto(w));if(S)return S;const R=new T(w);return this.receivers.push(R),R}isListeningto(w){return this.eventTarget===w}handleEvent(w){var S=this;return(0,o.Z)(function*(){const R=w,{eventId:P,eventType:ue,data:Fe}=R.data,it=S.handlersMap[ue];if(!(null==it?void 0:it.size))return;R.ports[0].postMessage({status:"ack",eventId:P,eventType:ue});const Ct=Array.from(it).map(function(){var vn=(0,o.Z)(function*(Lo){return Lo(R.origin,Fe)});return function(Lo){return vn.apply(this,arguments)}}()),nn=yield function(T){return Promise.all(T.map(function(){var b=(0,o.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(S){return{fulfilled:!1,reason:S}}});return function(w){return b.apply(this,arguments)}}()))}(Ct);R.ports[0].postMessage({status:"done",eventId:P,eventType:ue,response:nn})})()}_subscribe(w,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(S)}_unsubscribe(w,S){this.handlersMap[w]&&S&&this.handlersMap[w].delete(S),(!S||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Gr(T="",b=10){let w="";for(let S=0;S<b;S++)w+=Math.floor(10*Math.random());return T+w}class bd{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,w,S=50){var R=this;return(0,o.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ue,Fe;return new Promise((it,Ct)=>{const nn=Gr("",20);P.port1.start();const vn=setTimeout(()=>{Ct(new Error("unsupported_event"))},S);Fe={messageChannel:P,onMessage(Lo){const _a=Lo;if(_a.data.eventId===nn)switch(_a.data.status){case"ack":clearTimeout(vn),ue=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),it(_a.data.response);break;default:clearTimeout(vn),clearTimeout(ue),Ct(new Error("invalid_response"))}}},R.handlers.add(Fe),P.port1.addEventListener("message",Fe.onMessage),R.target.postMessage({eventType:b,eventId:nn,data:w},[P.port2])}).finally(()=>{Fe&&R.removeMessageHandler(Fe)})})()}}function Ti(){return window}function Po(){return void 0!==Ti().WorkerGlobalScope&&"function"==typeof Ti().importScripts}function Ga(){return(Ga=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const DD="firebaseLocalStorageDb",Cd="firebaseLocalStorage",Jv="fbase_key";class Dd{constructor(b){this.request=b}toPromise(){return new Promise((b,w)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function fa(T,b){return T.transaction([Cd],b?"readwrite":"readonly").objectStore(Cd)}function me(){const T=indexedDB.open(DD,1);return new Promise((b,w)=>{T.addEventListener("error",()=>{w(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(Cd,{keyPath:Jv})}catch(R){w(R)}}),T.addEventListener("success",(0,o.Z)(function*(){const S=T.result;S.objectStoreNames.contains(Cd)?b(S):(S.close(),yield function(){const T=indexedDB.deleteDatabase(DD);return new Dd(T).toPromise()}(),b(yield me()))}))})}function At(T,b,w){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,o.Z)(function*(T,b,w){const S=fa(T,!0).put({[Jv]:b,value:w});return new Dd(S).toPromise()})).apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(T,b){const w=fa(T,!1).get(b),S=yield new Dd(w).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function qg(T,b){const w=fa(T,!0).delete(b);return new Dd(w).toPromise()}const Ki=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,o.Z)(function*(){return w.db||(w.db=yield me()),w.db})()}_withRetries(w){var S=this;return(0,o.Z)(function*(){let R=0;for(;;)try{const P=yield S._openDb();return yield w(P)}catch(P){if(R++>3)throw P;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,o.Z)(function*(){return Po()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,o.Z)(function*(){w.receiver=Hg._getInstance(Po()?self:null),w.receiver._subscribe("keyChanged",function(){var S=(0,o.Z)(function*(R,P){return{keyProcessed:(yield w._poll()).includes(P.key)}});return function(R,P){return S.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var S=(0,o.Z)(function*(R,P){return["keyChanged"]});return function(R,P){return S.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,o.Z)(function*(){var S,R;if(w.activeServiceWorker=yield function(){return Ga.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new bd(w.activeServiceWorker);const P=yield w.sender._send("ping",{},800);!P||(null===(S=P[0])||void 0===S?void 0:S.fulfilled)&&(null===(R=P[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var S=this;return(0,o.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:w},S.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const w=yield me();return yield At(w,Ha,"1"),yield qg(w,Ha),!0}catch(w){}return!1})()}_withPendingWrite(w){var S=this;return(0,o.Z)(function*(){S.pendingWrites++;try{yield w()}finally{S.pendingWrites--}})()}_set(w,S){var R=this;return(0,o.Z)(function*(){return R._withPendingWrite((0,o.Z)(function*(){return yield R._withRetries(P=>At(P,w,S)),R.localCache[w]=S,R.notifyServiceWorker(w)}))})()}_get(w){var S=this;return(0,o.Z)(function*(){const R=yield S._withRetries(P=>function(T,b){return qe.apply(this,arguments)}(P,w));return S.localCache[w]=R,R})()}_remove(w){var S=this;return(0,o.Z)(function*(){return S._withPendingWrite((0,o.Z)(function*(){return yield S._withRetries(R=>qg(R,w)),delete S.localCache[w],S.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,o.Z)(function*(){const S=yield w._withRetries(ue=>{const Fe=fa(ue,!1).getAll();return new Dd(Fe).toPromise()});if(!S)return[];if(0!==w.pendingWrites)return[];const R=[],P=new Set;for(const{fbase_key:ue,value:Fe}of S)P.add(ue),JSON.stringify(w.localCache[ue])!==JSON.stringify(Fe)&&(w.notifyListeners(ue,Fe),R.push(ue));for(const ue of Object.keys(w.localCache))w.localCache[ue]&&!P.has(ue)&&(w.notifyListeners(ue,null),R.push(ue));return R})()}notifyListeners(w,S){this.localCache[w]=S;const R=this.listeners[w];if(R)for(const P of Array.from(R))P(S)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(S)}_removeListener(w,S){this.listeners[w]&&(this.listeners[w].delete(S),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function Td(T,b){return Fn(T,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:T.tenantId},b))}function Kf(){return(Kf=(0,o.Z)(function*(T){return(yield Fn(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xr(T){return new Promise((b,w)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=b,S.onerror=R=>{const P=pt("internal-error");P.customData=R,w(P)},S.type="text/javascript",S.charset="UTF-8",function(){var T,b;return null!==(b=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==b?b:document}().appendChild(S)})}function Xi(T){return`__${T}${Math.floor(1e6*Math.random())}`}const us=1e12;class io{constructor(b){this.auth=b,this.counter=us,this._widgets=new Map}render(b,w){const S=this.counter;return this._widgets.set(S,new ds(b,this.auth.name,w||{})),this.counter++,S}reset(b){var w;const S=b||us;null===(w=this._widgets.get(S))||void 0===w||w.delete(),this._widgets.delete(S)}getResponse(b){var w;return(null===(w=this._widgets.get(b||us))||void 0===w?void 0:w.getResponse())||""}execute(b){var w=this;return(0,o.Z)(function*(){var S;return null===(S=w._widgets.get(b||us))||void 0===S||S.execute(),""})()}}class ds{constructor(b,w,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof b?document.getElementById(b):b;Ae(R,"argument-error",{appName:w}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(T){const b=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)b.push(w.charAt(Math.floor(Math.random()*w.length)));return b.join("")}();const{callback:b,"expired-callback":w}=this.params;if(b)try{b(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=Xi("rcb"),ur=new at(3e4,6e4);class bk{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ti().grecaptcha}load(b,w=""){return Ae((T=w).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T),b,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(Ti().grecaptcha):new Promise((S,R)=>{const P=Ti().setTimeout(()=>{R(pt(b,"network-request-failed"))},ur.get());Ti()[Ds]=()=>{Ti().clearTimeout(P),delete Ti()[Ds];const Fe=Ti().grecaptcha;if(!Fe)return void R(pt(b,"internal-error"));const it=Fe.render;Fe.render=(Ct,nn)=>{const vn=it(Ct,nn);return this.counter++,vn},this.hostLanguage=w,S(Fe)},xr(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Ds,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(P),R(pt(b,"internal-error"))})});var T}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){return!!Ti().grecaptcha&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class TD{load(b){return(0,o.Z)(function*(){return new io(b)})()}clearedOneInstance(){}}const zg="recaptcha",fi={theme:"light",type:"image"};class ED{constructor(b,w=Object.assign({},fi),S){this.parameters=w,this.type=zg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(S),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof b?document.getElementById(b):b;Ae(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new TD:new bk,this.validateStartingState()}verify(){var b=this;return(0,o.Z)(function*(){b.assertNotDestroyed();const w=yield b.render(),S=b.getAssertedRecaptcha();return S.getResponse(w)||new Promise(P=>{const ue=Fe=>{!Fe||(b.tokenChangeListeners.delete(ue),P(Fe))};b.tokenChangeListeners.add(ue),b.isInvisible&&S.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return w=>{if(this.tokenChangeListeners.forEach(S=>S(w)),"function"==typeof b)b(w);else if("string"==typeof b){const S=Ti()[b];"function"==typeof S&&S(w)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,o.Z)(function*(){if(yield b.init(),!b.widgetId){let w=b.container;if(!b.isInvisible){const S=document.createElement("div");w.appendChild(S),w=S}b.widgetId=b.getAssertedRecaptcha().render(w,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,o.Z)(function*(){Ae(Ue()&&!Po(),b.auth,"internal-error"),yield function(){let T=null;return new Promise(b=>{"complete"!==document.readyState?(T=()=>b(),window.addEventListener("load",T)):b()}).catch(b=>{throw T&&window.removeEventListener("load",T),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const w=yield function(T){return Kf.apply(this,arguments)}(b.auth);Ae(w,b.auth,"internal-error"),b.parameters.sitekey=w})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class e0{constructor(b,w){this.verificationId=b,this.onConfirmation=w}confirm(b){const w=Ml._fromVerification(this.verificationId,b);return this.onConfirmation(w)}}function vk(T,b,w){return t0.apply(this,arguments)}function t0(){return(t0=(0,o.Z)(function*(T,b,w){const S=xn(T),R=yield $g(S,b,(0,q.m9)(w));return new e0(R,P=>La(S,P))})).apply(this,arguments)}function wk(T,b,w){return n0.apply(this,arguments)}function n0(){return(n0=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T);yield Ac(!1,S,"phone");const R=yield $g(S.auth,b,(0,q.m9)(w));return new e0(R,P=>cd(S,P))})).apply(this,arguments)}function SD(T,b,w){return r0.apply(this,arguments)}function r0(){return(r0=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T),R=yield $g(S.auth,b,(0,q.m9)(w));return new e0(R,P=>Ba(S,P))})).apply(this,arguments)}function $g(T,b,w){return s0.apply(this,arguments)}function s0(){return(s0=(0,o.Z)(function*(T,b,w){var S;const R=yield w.verify();try{let P;if(Ae("string"==typeof R,T,"argument-error"),Ae(w.type===zg,T,"argument-error"),P="string"==typeof b?{phoneNumber:b}:b,"session"in P){const ue=P.session;if("phoneNumber"in P)return Ae("enroll"===ue.type,T,"internal-error"),(yield Il(T,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ae("signin"===ue.type,T,"internal-error");const Fe=(null===(S=P.multiFactorHint)||void 0===S?void 0:S.uid)||P.multiFactorUid;return Ae(Fe,T,"missing-multi-factor-info"),(yield Td(T,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield Rv(T,{phoneNumber:P.phoneNumber,recaptchaToken:R});return ue}}finally{w._reset()}})).apply(this,arguments)}function Ed(T,b){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,o.Z)(function*(T,b){yield Vf((0,q.m9)(T),b)})).apply(this,arguments)}let er=(()=>{class T{constructor(w){this.providerId=T.PROVIDER_ID,this.auth=xn(w)}verifyPhoneNumber(w,S){return $g(this.auth,w,(0,q.m9)(S))}static credential(w,S){return Ml._fromVerification(w,S)}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:S,temporaryProof:R}=w;return S&&R?Ml._fromTokenResponse(S,R):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Fo(T,b){return b?ye(b):(Ae(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Uc extends Tt{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Ji(b,this._buildIdpRequest())}_linkToIdToken(b,w){return Ji(b,this._buildIdpRequest(w))}_getReauthenticationResolver(b){return Ji(b,this._buildIdpRequest())}_buildIdpRequest(b){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(w.idToken=b),w}}function Ck(T){return Ng(T.auth,new Uc(T),T.bypassAuthState)}function xD(T){const{auth:b,user:w}=T;return Ae(w,b,"internal-error"),Og(w,new Uc(T),T.bypassAuthState)}function Us(T){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,o.Z)(function*(T){const{auth:b,user:w}=T;return Ae(w,b,"internal-error"),Vf(w,new Uc(T),T.bypassAuthState)})).apply(this,arguments)}class xd{constructor(b,w,S,R,P=!1){this.auth=b,this.resolver=S,this.user=R,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var b=this;return new Promise(function(){var w=(0,o.Z)(function*(S,R){b.pendingPromise={resolve:S,reject:R};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(P){b.reject(P)}});return function(S,R){return w.apply(this,arguments)}}())}onAuthEvent(b){var w=this;return(0,o.Z)(function*(){const{urlResponse:S,sessionId:R,postBody:P,tenantId:ue,error:Fe,type:it}=b;if(Fe)return void w.reject(Fe);const Ct={auth:w.auth,requestUri:S,sessionId:R,tenantId:ue||void 0,postBody:P||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(it)(Ct))}catch(nn){w.reject(nn)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Ck;case"linkViaPopup":case"linkViaRedirect":return Us;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:rt(this.auth,"internal-error")}}resolve(b){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nl=new at(2e3,1e4);function ja(T,b,w){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,o.Z)(function*(T,b,w){const S=xn(T);Ht(T,b,ko);const R=Fo(S,w);return new ep(S,"signInViaPopup",b,R).executeNotNull()})).apply(this,arguments)}function AD(T,b,w){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T);Ht(S.auth,b,ko);const R=Fo(S.auth,w);return new ep(S.auth,"reauthViaPopup",b,R,S).executeNotNull()})).apply(this,arguments)}function Dk(T,b,w){return o0.apply(this,arguments)}function o0(){return(o0=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T);Ht(S.auth,b,ko);const R=Fo(S.auth,w);return new ep(S.auth,"linkViaPopup",b,R,S).executeNotNull()})).apply(this,arguments)}let ep=(()=>{class T extends xd{constructor(w,S,R,P,ue){super(w,S,P,ue),this.provider=R,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var w=this;return(0,o.Z)(function*(){const S=yield w.execute();return Ae(S,w.auth,"internal-error"),S})()}onExecution(){var w=this;return(0,o.Z)(function*(){he(1===w.filter.length,"Popup operations only handle one event");const S=Gr();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],S),w.authWindow.associatedEvent=S,w.resolver._originValidation(w.auth).catch(R=>{w.reject(R)}),w.resolver._isIframeWebStorageSupported(w.auth,R=>{R||w.reject(pt(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const w=()=>{var S,R;this.pollId=(null===(R=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(pt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,Nl.get())};w()}}return T.currentPopupAction=null,T})();const Ad=new Map;class Hc extends xd{constructor(b,w,S=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,S),this.eventId=null}execute(){var b=()=>super.execute,w=this;return(0,o.Z)(function*(){let S=Ad.get(w.auth._key());if(!S){try{const P=(yield function(T,b){return tp.apply(this,arguments)}(w.resolver,w.auth))?yield b().call(w):null;S=()=>Promise.resolve(P)}catch(R){S=()=>Promise.reject(R)}Ad.set(w.auth._key(),S)}return S()})()}onAuthEvent(b){var w=()=>super.onAuthEvent,S=this;return(0,o.Z)(function*(){if("signInViaRedirect"===b.type)return w().call(S,b);if("unknown"!==b.type){if(b.eventId){const R=yield S.auth._redirectUserForId(b.eventId);if(R)return S.user=R,w().call(S,b);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function tp(){return(tp=(0,o.Z)(function*(T,b){const w=Kg(b),S="true"===(yield np(T)._get(w));return yield np(T)._remove(w),S})).apply(this,arguments)}function Jg(T,b){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,o.Z)(function*(T,b){return np(T)._set(Kg(b),"true")})).apply(this,arguments)}function kD(){Ad.clear()}function np(T){return ye(T._redirectPersistence)}function Kg(T){return Xn("pendingRedirect",T.config.apiKey,T.name)}function kd(T,b,w){return function(T,b,w){return Gc.apply(this,arguments)}(T,b,w)}function Gc(){return(Gc=(0,o.Z)(function*(T,b,w){const S=xn(T);Ht(T,b,ko);const R=Fo(S,w);return yield Jg(R,S),R._openRedirect(S,b,"signInViaRedirect")})).apply(this,arguments)}function Tk(T,b,w){return function(T,b,w){return Rd.apply(this,arguments)}(T,b,w)}function Rd(){return(Rd=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T);Ht(S.auth,b,ko);const R=Fo(S.auth,w);yield Jg(R,S.auth);const P=yield jc(S);return R._openRedirect(S.auth,b,"reauthViaRedirect",P)})).apply(this,arguments)}function Yc(T,b,w){return function(T,b,w){return e_.apply(this,arguments)}(T,b,w)}function e_(){return(e_=(0,o.Z)(function*(T,b,w){const S=(0,q.m9)(T);Ht(S.auth,b,ko);const R=Fo(S.auth,w);yield Ac(!1,S,b.providerId),yield Jg(R,S.auth);const P=yield jc(S);return R._openRedirect(S.auth,b,"linkViaRedirect",P)})).apply(this,arguments)}function RD(T,b){return Od.apply(this,arguments)}function Od(){return(Od=(0,o.Z)(function*(T,b){return yield xn(T)._initializationPromise,a0(T,b,!1)})).apply(this,arguments)}function a0(T,b){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,o.Z)(function*(T,b,w=!1){const S=xn(T),R=Fo(S,b),ue=yield new Hc(S,R,w).execute();return ue&&!w&&(delete ue.user._redirectEventId,yield S._persistUserIfCurrent(ue.user),yield S._setRedirectUser(null,b)),ue})).apply(this,arguments)}function jc(T){return qa.apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(T){const b=Gr(`${T.uid}:::`);return T._redirectEventId=b,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),b})).apply(this,arguments)}class pi{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let w=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(b,S)&&(w=!0,this.sendToConsumer(b,S),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l0(T);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=b,w=!0)),w}sendToConsumer(b,w){var S;if(b.error&&!l0(b)){const R=(null===(S=b.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";w.onError(pt(this.auth,R))}else w.onAuthEvent(b)}isEventForConsumer(b,w){const S=null===w.eventId||!!b.eventId&&b.eventId===w.eventId;return w.filter.includes(b.type)&&S}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(b))}saveEventToCache(b){this.cachedEventUids.add(t_(b)),this.lastProcessedEventTime=Date.now()}}function t_(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(b=>b).join("-")}function l0({type:T,error:b}){return"unknown"===T&&"auth/no-auth-event"===(null==b?void 0:b.code)}function qc(T){return n_.apply(this,arguments)}function n_(){return(n_=(0,o.Z)(function*(T,b={}){return Fn(T,"GET","/v1/projects",b)})).apply(this,arguments)}const c0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u0=/^https?/;function Za(){return(Za=(0,o.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:b}=yield qc(T);for(const w of b)try{if(pa(w))return}catch(S){}rt(T,"unauthorized-domain")})).apply(this,arguments)}function pa(T){const b=re(),{protocol:w,hostname:S}=new URL(b);if(T.startsWith("chrome-extension://")){const ue=new URL(T);return""===ue.hostname&&""===S?"chrome-extension:"===w&&T.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===w&&ue.hostname===S}if(!u0.test(w))return!1;if(c0.test(T))return S===T;const R=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(S)}const Pd=new at(3e4,6e4);function ma(){const T=Ti().___jsl;if(null==T?void 0:T.H)for(const b of Object.keys(T.H))if(T.H[b].r=T.H[b].r||[],T.H[b].L=T.H[b].L||[],T.H[b].r=[...T.H[b].L],T.CP)for(let w=0;w<T.CP.length;w++)T.CP[w]=null}let Fd=null;function i_(T){return Fd=Fd||function(T){return new Promise((b,w)=>{var S,R,P;function ue(){ma(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{ma(),w(pt(T,"network-request-failed"))},timeout:Pd.get()})}if(null===(R=null===(S=Ti().gapi)||void 0===S?void 0:S.iframes)||void 0===R?void 0:R.Iframe)b(gapi.iframes.getContext());else{if(!(null===(P=Ti().gapi)||void 0===P?void 0:P.load)){const Fe=Xi("iframefcb");return Ti()[Fe]=()=>{gapi.load?ue():w(pt(T,"network-request-failed"))},xr(`https://apis.google.com/js/api.js?onload=${Fe}`)}ue()}}).catch(b=>{throw Fd=null,b})}(T),Fd}const ip=new at(5e3,15e3),FD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Zc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ld(T){const b=T.config;Ae(b.authDomain,T,"auth-domain-config-required");const w=b.emulator?_t(b,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,S={apiKey:b.apiKey,appName:T.name,v:U.SDK_VERSION},R=Zc.get(T.config.apiHost);R&&(S.eid=R);const P=T._getFrameworks();return P.length&&(S.fw=P.join(",")),`${w}?${(0,q.xO)(S).slice(1)}`}function h0(){return(h0=(0,o.Z)(function*(T){const b=yield i_(T),w=Ti().gapi;return Ae(w,T,"internal-error"),b.open({where:document.body,url:Ld(T),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FD,dontclear:!0},S=>new Promise(function(){var R=(0,o.Z)(function*(P,ue){yield S.restyle({setHideOnLeave:!1});const Fe=pt(T,"network-request-failed"),it=Ti().setTimeout(()=>{ue(Fe)},ip.get());function Ct(){Ti().clearTimeout(it),P(S)}S.ping(Ct).then(Ct,()=>{ue(Fe)})});return function(P,ue){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const f0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class p0{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(b){}}}function s_(T,b,w,S,R,P){Ae(T.config.authDomain,T,"auth-domain-config-required"),Ae(T.config.apiKey,T,"invalid-api-key");const ue={apiKey:T.config.apiKey,appName:T.name,authType:w,redirectUrl:S,v:U.SDK_VERSION,eventId:R};if(b instanceof ko){b.setDefaultLanguage(T.languageCode),ue.providerId=b.providerId||"",(0,q.xb)(b.getCustomParameters())||(ue.customParameters=JSON.stringify(b.getCustomParameters()));for(const[it,Ct]of Object.entries(P||{}))ue[it]=Ct}if(b instanceof Io){const it=b.getScopes().filter(Ct=>""!==Ct);it.length>0&&(ue.scopes=it.join(","))}T.tenantId&&(ue.tid=T.tenantId);const Fe=ue;for(const it of Object.keys(Fe))void 0===Fe[it]&&delete Fe[it];return`${function({config:T}){return T.emulator?_t(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,q.xO)(Fe).slice(1)}`}const $c="webStorageSupport",Yn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wv,this._completeRedirectFn=a0}_openPopup(b,w,S,R){var P=this;return(0,o.Z)(function*(){var ue;he(null===(ue=P.eventManagers[b._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Fe=s_(b,w,S,re(),R);return function(T,b,w,S=500,R=600){const P=Math.max((window.screen.availHeight-R)/2,0).toString(),ue=Math.max((window.screen.availWidth-S)/2,0).toString();let Fe="";const it=Object.assign(Object.assign({},f0),{width:S.toString(),height:R.toString(),top:P,left:ue}),Ct=(0,q.z$)().toLowerCase();w&&(Fe=Ze(Ct)?"_blank":w),ee(Ct)&&(b=b||"http://localhost",it.scrollbars="yes");const nn=Object.entries(it).reduce((Lo,[_a,oi])=>`${Lo}${_a}=${oi},`,"");if(function(T=(0,q.z$)()){var b;return On(T)&&!!(null===(b=window.navigator)||void 0===b?void 0:b.standalone)}(Ct)&&"_self"!==Fe)return function(T,b){const w=document.createElement("a");w.href=T,w.target=b;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(S)}(b||"",Fe),new p0(null);const vn=window.open(b||"",Fe,nn);Ae(vn,T,"popup-blocked");try{vn.focus()}catch(Lo){}return new p0(vn)}(b,Fe,Gr())})()}_openRedirect(b,w,S,R){var P=this;return(0,o.Z)(function*(){return yield P._originValidation(b),T=s_(b,w,S,re(),R),Ti().location.href=T,new Promise(()=>{});var T})()}_initialize(b){const w=b._key();if(this.eventManagers[w]){const{manager:R,promise:P}=this.eventManagers[w];return R?Promise.resolve(R):(he(P,"If manager is not set, promise should be"),P)}const S=this.initAndGetManager(b);return this.eventManagers[w]={promise:S},S}initAndGetManager(b){var w=this;return(0,o.Z)(function*(){const S=yield function(T){return h0.apply(this,arguments)}(b),R=new pi(b);return S.register("authEvent",P=>(Ae(null==P?void 0:P.authEvent,b,"invalid-auth-event"),{status:R.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[b._key()]={manager:R},w.iframes[b._key()]=S,R})()}_isIframeWebStorageSupported(b,w){this.iframes[b._key()].send($c,{type:$c},R=>{var P;const ue=null===(P=null==R?void 0:R[0])||void 0===P?void 0:P[$c];void 0!==ue&&w(!!ue),rt(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const w=b._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function(T){return Za.apply(this,arguments)}(b)),this.originValidationPromises[w]}get _shouldInitProactively(){return zi()||Se()||On()}};class Ei extends class{constructor(b){this.factorId=b}_process(b,w,S){switch(w.type){case"enroll":return this._finalizeEnroll(b,w.credential,S);case"signin":return this._finalizeSignIn(b,w.credential);default:return Et("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Ei(b)}_finalizeEnroll(b,w,S){return function(T,b){return Fn(T,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:T.tenantId},b))}(b,{idToken:w,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,w){return function(T,b){return Fn(T,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:T.tenantId},b))}(b,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class hs{constructor(){}static assertion(b){return Ei._fromCredential(b)}}var T;class g0{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var w=this;return(0,o.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const w=this.auth.onIdTokenChanged(S=>{var R;b((null===(R=S)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,w),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const w=this.internalListeners.get(b);!w||(this.internalListeners.delete(b),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}T="Browser",(0,U._registerComponent)(new te.wA("auth",(b,{options:w})=>{const S=b.getProvider("app").getImmediate(),{apiKey:R,authDomain:P}=S.options;return(ue=>{Ae(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),Ae(!(null==P?void 0:P.includes(":")),"argument-error",{appName:ue.name});const Fe={apiKey:R,authDomain:P,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zt(T)},it=new Ln(ue,Fe);return function(T,b){const w=(null==b?void 0:b.persistence)||[],S=(Array.isArray(w)?w:[w]).map(ye);(null==b?void 0:b.errorMap)&&T._updateErrorMap(b.errorMap),T._initializeWithPersistence(S,null==b?void 0:b.popupRedirectResolver)}(it,w),it})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,w,S)=>{b.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new te.wA("auth-internal",b=>{const w=xn(b.getProvider("auth").getImmediate());return new g0(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)("@firebase/auth","0.17.2",void 0)},6034:(Xe,Te,L)=>{"use strict";L.d(Te,{wA:()=>U,H0:()=>W});var o=L(4762),q=L(4685),U=function(){function z(V,Q,H){this.name=V,this.instanceFactory=Q,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},z.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},z.prototype.setServiceProps=function(V){return this.serviceProps=V,this},z.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},z}(),se="[DEFAULT]",de=function(){function z(V,Q){this.name=V,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(V){var Q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Q)){var H=new q.BH;if(this.instancesDeferred.set(Q,H),this.isInitialized(Q)||this.shouldAutoInitialize())try{var X=this.getOrInitializeService({instanceIdentifier:Q});X&&H.resolve(X)}catch(ie){}}return this.instancesDeferred.get(Q).promise},z.prototype.getImmediate=function(V){var Q,H=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),X=null!==(Q=null==V?void 0:V.optional)&&void 0!==Q&&Q;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(X)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(ie){if(X)return null;throw ie}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(V){var Q,H;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:se})}catch(rt){}try{for(var X=(0,o.XA)(this.instancesDeferred.entries()),ie=X.next();!ie.done;ie=X.next()){var De=(0,o.CR)(ie.value,2),Ne=De[1],we=this.normalizeInstanceIdentifier(De[0]);try{var Ie=this.getOrInitializeService({instanceIdentifier:we});Ne.resolve(Ie)}catch(rt){}}}catch(rt){Q={error:rt}}finally{try{ie&&!ie.done&&(H=X.return)&&H.call(X)}finally{if(Q)throw Q.error}}}},z.prototype.clearInstance=function(V){void 0===V&&(V=se),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},z.prototype.delete=function(){return(0,o.mG)(this,void 0,void 0,function(){var V;return(0,o.Jh)(this,function(Q){switch(Q.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,o.ev)((0,o.ev)([],(0,o.CR)(V.filter(function(H){return"INTERNAL"in H}).map(function(H){return H.INTERNAL.delete()}))),(0,o.CR)(V.filter(function(H){return"_delete"in H}).map(function(H){return H._delete()}))))];case 1:return Q.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(V){return void 0===V&&(V=se),this.instances.has(V)},z.prototype.getOptions=function(V){return void 0===V&&(V=se),this.instancesOptions.get(V)||{}},z.prototype.initialize=function(V){var Q,H;void 0===V&&(V={});var X=V.options,ie=void 0===X?{}:X,De=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(De))throw Error(this.name+"("+De+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var pe=this.getOrInitializeService({instanceIdentifier:De,options:ie});try{for(var Ne=(0,o.XA)(this.instancesDeferred.entries()),we=Ne.next();!we.done;we=Ne.next()){var Ie=(0,o.CR)(we.value,2),pt=Ie[1];De===this.normalizeInstanceIdentifier(Ie[0])&&pt.resolve(pe)}}catch(Ht){Q={error:Ht}}finally{try{we&&!we.done&&(H=Ne.return)&&H.call(Ne)}finally{if(Q)throw Q.error}}return pe},z.prototype.onInit=function(V,Q){var H,X=this.normalizeInstanceIdentifier(Q),ie=null!==(H=this.onInitCallbacks.get(X))&&void 0!==H?H:new Set;ie.add(V),this.onInitCallbacks.set(X,ie);var De=this.instances.get(X);return De&&V(De,X),function(){ie.delete(V)}},z.prototype.invokeOnInitCallbacks=function(V,Q){var H,X,ie=this.onInitCallbacks.get(Q);if(ie)try{for(var De=(0,o.XA)(ie),pe=De.next();!pe.done;pe=De.next()){var Ne=pe.value;try{Ne(V,Q)}catch(we){}}}catch(we){H={error:we}}finally{try{pe&&!pe.done&&(X=De.return)&&X.call(De)}finally{if(H)throw H.error}}},z.prototype.getOrInitializeService=function(V){var Q=V.instanceIdentifier,H=V.options,X=void 0===H?{}:H,ie=this.instances.get(Q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:te(Q),options:X}),this.instances.set(Q,ie),this.instancesOptions.set(Q,X),this.invokeOnInitCallbacks(ie,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ie)}catch(De){}return ie||null},z.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=se),this.component?this.component.multipleInstances?V:se:V},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function te(z){return z===se?void 0:z}var W=function(){function z(V){this.name=V,this.providers=new Map}return z.prototype.addComponent=function(V){var Q=this.getProvider(V.name);if(Q.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);Q.setComponent(V)},z.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},z.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var Q=new de(V,this);return this.providers.set(V,Q),Q},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(Xe,Te,L)=>{"use strict";function o(){for(var H=0,X=0,ie=arguments.length;X<ie;X++)H+=arguments[X].length;var De=Array(H),pe=0;for(X=0;X<ie;X++)for(var Ne=arguments[X],we=0,Ie=Ne.length;we<Ie;we++,pe++)De[pe]=Ne[we];return De}L.d(Te,{in:()=>se,Yd:()=>z,Ub:()=>V,Am:()=>Q});var q,U=[],se=(()=>{return(H=se||(se={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",se;var H})(),de={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},te=se.INFO,Z=((q={})[se.DEBUG]="log",q[se.VERBOSE]="log",q[se.INFO]="info",q[se.WARN]="warn",q[se.ERROR]="error",q),W=function(H,X){for(var ie=[],De=2;De<arguments.length;De++)ie[De-2]=arguments[De];if(!(X<H.logLevel)){var pe=(new Date).toISOString(),Ne=Z[X];if(!Ne)throw new Error("Attempted to log a message with an invalid logType (value: "+X+")");console[Ne].apply(console,o(["["+pe+"]  "+H.name+":"],ie))}},z=function(){function H(X){this.name=X,this._logLevel=te,this._logHandler=W,this._userLogHandler=null,U.push(this)}return Object.defineProperty(H.prototype,"logLevel",{get:function(){return this._logLevel},set:function(X){if(!(X in se))throw new TypeError('Invalid value "'+X+'" assigned to `logLevel`');this._logLevel=X},enumerable:!1,configurable:!0}),H.prototype.setLogLevel=function(X){this._logLevel="string"==typeof X?de[X]:X},Object.defineProperty(H.prototype,"logHandler",{get:function(){return this._logHandler},set:function(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(X){this._userLogHandler=X},enumerable:!1,configurable:!0}),H.prototype.debug=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.DEBUG],X)),this._logHandler.apply(this,o([this,se.DEBUG],X))},H.prototype.log=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.VERBOSE],X)),this._logHandler.apply(this,o([this,se.VERBOSE],X))},H.prototype.info=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.INFO],X)),this._logHandler.apply(this,o([this,se.INFO],X))},H.prototype.warn=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.WARN],X)),this._logHandler.apply(this,o([this,se.WARN],X))},H.prototype.error=function(){for(var X=[],ie=0;ie<arguments.length;ie++)X[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,o([this,se.ERROR],X)),this._logHandler.apply(this,o([this,se.ERROR],X))},H}();function V(H){U.forEach(function(X){X.setLogLevel(H)})}function Q(H,X){for(var ie=function(we){var Ie=null;X&&X.level&&(Ie=de[X.level]),we.userLogHandler=null===H?null:function(rt,pt){for(var Ut=[],Ht=2;Ht<arguments.length;Ht++)Ut[Ht-2]=arguments[Ht];var qt=Ut.map(function(Ae){if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch(Et){return null}}).filter(function(Ae){return Ae}).join(" ");pt>=(null!=Ie?Ie:rt.logLevel)&&H({level:se[pt].toLowerCase(),message:qt,args:Ut,type:rt.name})}},De=0,pe=U;De<pe.length;De++)ie(pe[De])}},4685:(Xe,Te,L)=>{"use strict";L.d(Te,{BH:()=>ie,LL:()=>Ue,ZR:()=>re,tV:()=>V,r3:()=>Fn,Sg:()=>De,ne:()=>Ls,vZ:()=>Dr,ZB:()=>H,pd:()=>Mr,m9:()=>bn,z$:()=>pe,jU:()=>Ie,ru:()=>rt,d:()=>Ut,xb:()=>qi,w1:()=>Ht,hl:()=>he,uI:()=>Ne,UG:()=>we,b$:()=>pt,G6:()=>Et,Mn:()=>qt,xO:()=>Xs,zd:()=>ws});var o=L(4762),de=function(Y){for(var j=[],ne=0,fe=0;fe<Y.length;fe++){var oe=Y.charCodeAt(fe);oe<128?j[ne++]=oe:oe<2048?(j[ne++]=oe>>6|192,j[ne++]=63&oe|128):55296==(64512&oe)&&fe+1<Y.length&&56320==(64512&Y.charCodeAt(fe+1))?(oe=65536+((1023&oe)<<10)+(1023&Y.charCodeAt(++fe)),j[ne++]=oe>>18|240,j[ne++]=oe>>12&63|128,j[ne++]=oe>>6&63|128,j[ne++]=63&oe|128):(j[ne++]=oe>>12|224,j[ne++]=oe>>6&63|128,j[ne++]=63&oe|128)}return j},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Y,j){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[],oe=0;oe<Y.length;oe+=3){var Ge=Y[oe],et=oe+1<Y.length,Nt=et?Y[oe+1]:0,Mn=oe+2<Y.length,tn=Mn?Y[oe+2]:0,J=(15&Nt)<<2|tn>>6,ee=63&tn;Mn||(ee=64,et||(J=64)),fe.push(ne[Ge>>2],ne[(3&Ge)<<4|Nt>>4],ne[J],ne[ee])}return fe.join("")},encodeString:function(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Y):this.encodeByteArray(de(Y),j)},decodeString:function(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Y):function(Y){for(var j=[],ne=0,fe=0;ne<Y.length;){var oe=Y[ne++];if(oe<128)j[fe++]=String.fromCharCode(oe);else if(oe>191&&oe<224){var Ge=Y[ne++];j[fe++]=String.fromCharCode((31&oe)<<6|63&Ge)}else if(oe>239&&oe<365){var Mn=((7&oe)<<18|(63&(Ge=Y[ne++]))<<12|(63&(et=Y[ne++]))<<6|63&Y[ne++])-65536;j[fe++]=String.fromCharCode(55296+(Mn>>10)),j[fe++]=String.fromCharCode(56320+(1023&Mn))}else{Ge=Y[ne++];var et=Y[ne++];j[fe++]=String.fromCharCode((15&oe)<<12|(63&Ge)<<6|63&et)}}return j.join("")}(this.decodeStringToByteArray(Y,j))},decodeStringToByteArray:function(Y,j){this.init_();for(var ne=j?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[],oe=0;oe<Y.length;){var Ge=ne[Y.charAt(oe++)],Nt=oe<Y.length?ne[Y.charAt(oe)]:0,tn=++oe<Y.length?ne[Y.charAt(oe)]:64,ce=++oe<Y.length?ne[Y.charAt(oe)]:64;if(++oe,null==Ge||null==Nt||null==tn||null==ce)throw Error();fe.push(Ge<<2|Nt>>4),64!==tn&&(fe.push(Nt<<4&240|tn>>2),64!==ce&&fe.push(tn<<6&192|ce))}return fe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},z=function(Y){return function(Y){var j=de(Y);return Z.encodeByteArray(j,!0)}(Y).replace(/\./g,"")},V=function(Y){try{return Z.decodeString(Y,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(Y,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return j}for(var fe in j)!j.hasOwnProperty(fe)||!X(fe)||(Y[fe]=H(Y[fe],j[fe]));return Y}function X(Y){return"__proto__"!==Y}var ie=function(){function Y(){var j=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,fe){j.resolve=ne,j.reject=fe})}return Y.prototype.wrapCallback=function(j){var ne=this;return function(fe,oe){fe?ne.reject(fe):ne.resolve(oe),"function"==typeof j&&(ne.promise.catch(function(){}),1===j.length?j(fe):j(fe,oe))}},Y}();function De(Y,j){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var fe=j||"demo-project",oe=Y.iat||0,Ge=Y.sub||Y.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var et=(0,o.pi)({iss:"https://securetoken.google.com/"+fe,aud:fe,iat:oe,exp:oe+3600,auth_time:oe,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(et)),""].join(".")}function pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function rt(){var Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ut(){return pe().indexOf("Electron/")>=0}function Ht(){var Y=pe();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function qt(){return pe().indexOf("MSAppHost/")>=0}function Et(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"indexedDB"in self&&null!=indexedDB}var re=function(Y){function j(ne,fe,oe){var Ge=Y.call(this,fe)||this;return Ge.code=ne,Ge.customData=oe,Ge.name="FirebaseError",Object.setPrototypeOf(Ge,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ge,Ue.prototype.create),Ge}return(0,o.ZT)(j,Y),j}(Error),Ue=function(){function Y(j,ne,fe){this.service=j,this.serviceName=ne,this.errors=fe}return Y.prototype.create=function(j){for(var ne=[],fe=1;fe<arguments.length;fe++)ne[fe-1]=arguments[fe];var oe=ne[0]||{},Ge=this.service+"/"+j,et=this.errors[j],Nt=et?ot(et,oe):"Error",Mn=this.serviceName+": "+Nt+" ("+Ge+").",tn=new re(Ge,Mn,oe);return tn},Y}();function ot(Y,j){return Y.replace(Gt,function(ne,fe){var oe=j[fe];return null!=oe?String(oe):"<"+fe+"?>"})}var Gt=/\{\$([^}]+)}/g;function Fn(Y,j){return Object.prototype.hasOwnProperty.call(Y,j)}function qi(Y){for(var j in Y)if(Object.prototype.hasOwnProperty.call(Y,j))return!1;return!0}function Dr(Y,j){if(Y===j)return!0;for(var ne=Object.keys(Y),fe=Object.keys(j),oe=0,Ge=ne;oe<Ge.length;oe++){if(!fe.includes(et=Ge[oe]))return!1;var Nt=Y[et],Mn=j[et];if(So(Nt)&&So(Mn)){if(!Dr(Nt,Mn))return!1}else if(Nt!==Mn)return!1}for(var tn=0,Xn=fe;tn<Xn.length;tn++){var et;if(!ne.includes(et=Xn[tn]))return!1}return!0}function So(Y){return null!==Y&&"object"==typeof Y}function Xs(Y){for(var j=[],ne=function(Mn,tn){Array.isArray(tn)?tn.forEach(function(Xn){j.push(encodeURIComponent(Mn)+"="+encodeURIComponent(Xn))}):j.push(encodeURIComponent(Mn)+"="+encodeURIComponent(tn))},fe=0,oe=Object.entries(Y);fe<oe.length;fe++){var Ge=oe[fe];ne(Ge[0],Ge[1])}return j.length?"&"+j.join("&"):""}function ws(Y){var j={};return Y.replace(/^\?/,"").split("&").forEach(function(fe){if(fe){var oe=fe.split("="),et=oe[1];j[decodeURIComponent(oe[0])]=decodeURIComponent(et)}}),j}function Mr(Y){var j=Y.indexOf("?");if(!j)return"";var ne=Y.indexOf("#",j);return Y.substring(j,ne>0?ne:void 0)}function Ls(Y,j){var ne=new lt(Y,j);return ne.subscribe.bind(ne)}!function(){function Y(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}Y.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Y.prototype.compress_=function(j,ne){ne||(ne=0);var fe=this.W_;if("string"==typeof j)for(var oe=0;oe<16;oe++)fe[oe]=j.charCodeAt(ne)<<24|j.charCodeAt(ne+1)<<16|j.charCodeAt(ne+2)<<8|j.charCodeAt(ne+3),ne+=4;else for(oe=0;oe<16;oe++)fe[oe]=j[ne]<<24|j[ne+1]<<16|j[ne+2]<<8|j[ne+3],ne+=4;for(oe=16;oe<80;oe++)fe[oe]=4294967295&((Ge=fe[oe-3]^fe[oe-8]^fe[oe-14]^fe[oe-16])<<1|Ge>>>31);var ce,J,et=this.chain_[0],Nt=this.chain_[1],Mn=this.chain_[2],tn=this.chain_[3],Xn=this.chain_[4];for(oe=0;oe<80;oe++){oe<40?oe<20?(ce=tn^Nt&(Mn^tn),J=1518500249):(ce=Nt^Mn^tn,J=1859775393):oe<60?(ce=Nt&Mn|tn&(Nt|Mn),J=2400959708):(ce=Nt^Mn^tn,J=3395469782);var Ge=(et<<5|et>>>27)+ce+Xn+J+fe[oe]&4294967295;Xn=tn,tn=Mn,Mn=4294967295&(Nt<<30|Nt>>>2),Nt=et,et=Ge}this.chain_[0]=this.chain_[0]+et&4294967295,this.chain_[1]=this.chain_[1]+Nt&4294967295,this.chain_[2]=this.chain_[2]+Mn&4294967295,this.chain_[3]=this.chain_[3]+tn&4294967295,this.chain_[4]=this.chain_[4]+Xn&4294967295},Y.prototype.update=function(j,ne){if(null!=j){void 0===ne&&(ne=j.length);for(var fe=ne-this.blockSize,oe=0,Ge=this.buf_,et=this.inbuf_;oe<ne;){if(0===et)for(;oe<=fe;)this.compress_(j,oe),oe+=this.blockSize;if("string"==typeof j){for(;oe<ne;)if(Ge[et]=j.charCodeAt(oe),++oe,++et===this.blockSize){this.compress_(Ge),et=0;break}}else for(;oe<ne;)if(Ge[et]=j[oe],++oe,++et===this.blockSize){this.compress_(Ge),et=0;break}}this.inbuf_=et,this.total_+=ne}},Y.prototype.digest=function(){var j=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&ne,ne/=256;this.compress_(this.buf_);var oe=0;for(fe=0;fe<5;fe++)for(var Ge=24;Ge>=0;Ge-=8)j[oe]=this.chain_[fe]>>Ge&255,++oe;return j}}();var lt=function(){function Y(j,ne){var fe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){j(fe)}).catch(function(oe){fe.error(oe)})}return Y.prototype.next=function(j){this.forEachObserver(function(ne){ne.next(j)})},Y.prototype.error=function(j){this.forEachObserver(function(ne){ne.error(j)}),this.close(j)},Y.prototype.complete=function(){this.forEachObserver(function(j){j.complete()}),this.close()},Y.prototype.subscribe=function(j,ne,fe){var Ge,oe=this;if(void 0===j&&void 0===ne&&void 0===fe)throw new Error("Missing Observer.");void 0===(Ge=function(Y,j){if("object"!=typeof Y||null===Y)return!1;for(var ne=0,fe=["next","error","complete"];ne<fe.length;ne++){var oe=fe[ne];if(oe in Y&&"function"==typeof Y[oe])return!0}return!1}(j)?j:{next:j,error:ne,complete:fe}).next&&(Ge.next=Pi),void 0===Ge.error&&(Ge.error=Pi),void 0===Ge.complete&&(Ge.complete=Pi);var et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{oe.finalError?Ge.error(oe.finalError):Ge.complete()}catch(Nt){}}),this.observers.push(Ge),et},Y.prototype.unsubscribeOne=function(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Y.prototype.forEachObserver=function(j){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,j)},Y.prototype.sendOne=function(j,ne){var fe=this;this.task.then(function(){if(void 0!==fe.observers&&void 0!==fe.observers[j])try{ne(fe.observers[j])}catch(oe){"undefined"!=typeof console&&console.error&&console.error(oe)}})},Y.prototype.close=function(j){var ne=this;this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},Y}();function Pi(){}function bn(Y){return Y&&Y._delegate?Y._delegate:Y}},7841:(Xe,Te,L)=>{"use strict";L.d(Te,{Z:()=>o.Z});var o=L(4486);o.Z.registerVersion("firebase","9.0.2","app-compat")},4828:(Xe,Te,L)=>{"use strict";L.r(Te);var o=L(8239),q=L(4486),U=L(5893),se=L(4685),Z=(L(5452),L(300),L(6034));function W(){return window}function Q(){return(Q=(0,o.Z)(function*(ce,J,ee){var Se;const{BuildInfo:Ze}=W();(0,U.ap)(J.sessionId,"AuthEvent did not contain a session ID");const bt=yield we(J.sessionId),Kt={};return(0,U.aq)()?Kt.ibi=Ze.packageName:(0,U.ar)()?Kt.apn=Ze.packageName:(0,U.as)(ce,"operation-not-supported-in-this-environment"),Ze.displayName&&(Kt.appDisplayName=Ze.displayName),Kt.sessionId=bt,(0,U.at)(ce,ee,J.type,void 0,null!==(Se=J.eventId)&&void 0!==Se?Se:void 0,Kt)})).apply(this,arguments)}function X(){return(X=(0,o.Z)(function*(ce){const{BuildInfo:J}=W(),ee={};(0,U.aq)()?ee.iosBundleId=J.packageName:(0,U.ar)()?ee.androidPackageName=J.packageName:(0,U.as)(ce,"operation-not-supported-in-this-environment"),yield(0,U.au)(ce,ee)})).apply(this,arguments)}function pe(){return(pe=(0,o.Z)(function*(ce,J,ee){const{cordova:Se}=W();let Ze=()=>{};try{yield new Promise((bt,Kt)=>{let fn=null;function ln(){var Ft;bt();const eo=null===(Ft=Se.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof eo&&eo(),"function"==typeof(null==ee?void 0:ee.close)&&ee.close()}function On(){fn||(fn=window.setTimeout(()=>{Kt((0,U.av)(ce,"redirect-cancelled-by-user"))},2e3))}function ri(){"visible"===(null==document?void 0:document.visibilityState)&&On()}J.addPassiveListener(ln),document.addEventListener("resume",On,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",ri,!1),Ze=()=>{J.removePassiveListener(ln),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",ri,!1),fn&&window.clearTimeout(fn)}})}finally{Ze()}})).apply(this,arguments)}function we(ce){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,o.Z)(function*(ce){const J=rt(ce),ee=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(ee)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rt(ce){if((0,U.ap)(/[0-9a-zA-Z]+/.test(ce),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ce);const J=new ArrayBuffer(ce.length),ee=new Uint8Array(J);for(let Se=0;Se<ce.length;Se++)ee[Se]=ce.charCodeAt(Se);return ee}class Ut extends U.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(J)),super.onEvent(J)}initialized(){var J=this;return(0,o.Z)(function*(){yield J.initPromise})()}}function Ae(ce){return Et.apply(this,arguments)}function Et(){return(Et=(0,o.Z)(function*(ce){const J=yield ye()._get(be(ce));return J&&(yield ye()._remove(be(ce))),J})).apply(this,arguments)}function _e(){const ce=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<20;ee++){const Se=Math.floor(Math.random()*J.length);ce.push(J.charAt(Se))}return ce.join("")}function ye(){return(0,U.ax)(U.b)}function be(ce){return(0,U.ay)("authEvent",ce.config.apiKey,ce.name)}function Ue(ce){if(!(null==ce?void 0:ce.includes("?")))return{};const[J,...ee]=ce.split("?");return(0,se.zd)(ee.join("?"))}function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.av)("no-auth-event")}}function Ot(){var ce;return(null===(ce=null==self?void 0:self.location)||void 0===ce?void 0:ce.protocol)||null}function Zn(ce=(0,se.z$)()){return!("file:"!==Ot()&&"ionic:"!==Ot()||!ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xs(){try{const ce=self.localStorage,J=U.aG();if(ce)return ce.setItem(J,"1"),ce.removeItem(J),!function(ce=(0,se.z$)()){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)||function(ce=(0,se.z$)()){return/Edge\/\d+/.test(ce)}(ce)}()||(0,se.hl)()}catch(ce){return ws()&&(0,se.hl)()}return!1}function ws(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mr(){return("http:"===Ot()||"https:"===Ot()||(0,se.ru)()||Zn())&&!((0,se.b$)()||(0,se.UG)())&&Xs()&&!ws()}function ia(){return Zn()&&"undefined"!=typeof document}function lt(){return(lt=(0,o.Z)(function*(){return!!ia()&&new Promise(ce=>{const J=setTimeout(()=>{ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),ce(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},ns=U.aw,Pi="persistence";function mt(ce){return en.apply(this,arguments)}function en(){return(en=(0,o.Z)(function*(ce){yield ce._initializationPromise;const J=Zi(),ee=U.ay(Pi,ce.config.apiKey,ce.name);(null==J?void 0:J.sessionStorage)&&J.sessionStorage.setItem(ee,ce._getPersistence())})).apply(this,arguments)}function Zi(){return"undefined"!=typeof window?window:null}const yn=U.aw;class Ye{constructor(){this.browserResolver=U.ax(U.k),this.cordovaResolver=U.ax(class{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aA}_initialize(J){var ee=this;return(0,o.Z)(function*(){const Se=J._key();let Ze=ee.eventManagers.get(Se);return Ze||(Ze=new Ut(J),ee.eventManagers.set(Se,Ze),ee.attachCallbackListeners(J,Ze)),Ze})()}_openPopup(J){(0,U.as)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,ee,Se,Ze){var bt=this;return(0,o.Z)(function*(){!function(ce){var J,ee,Se,Ze,bt,Kt,fn,ln,On,ri;const Ft=W();(0,U.aw)("function"==typeof(null===(J=null==Ft?void 0:Ft.universalLinks)||void 0===J?void 0:J.subscribe),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aw)(void 0!==(null===(ee=null==Ft?void 0:Ft.BuildInfo)||void 0===ee?void 0:ee.packageName),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aw)("function"==typeof(null===(bt=null===(Ze=null===(Se=null==Ft?void 0:Ft.cordova)||void 0===Se?void 0:Se.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===bt?void 0:bt.openUrl),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(ln=null===(fn=null===(Kt=null==Ft?void 0:Ft.cordova)||void 0===Kt?void 0:Kt.plugins)||void 0===fn?void 0:fn.browsertab)||void 0===ln?void 0:ln.isAvailable),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(ri=null===(On=null==Ft?void 0:Ft.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===ri?void 0:ri.open),ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Kt=yield bt._initialize(J);yield Kt.initialized(),Kt.resetRedirect(),(0,U.aB)(),yield bt._originValidation(J);const fn=function(ce,J,ee=null){return{type:J,eventId:ee,urlResponse:null,sessionId:_e(),postBody:null,tenantId:ce.tenantId,error:(0,U.av)(ce,"no-auth-event")}}(J,Se,Ze);yield function(ce,J){return ye()._set(be(ce),J)}(J,fn);const ln=yield function(ce,J,ee){return Q.apply(this,arguments)}(J,fn,ee),On=yield function(ce){const{cordova:J}=W();return new Promise(ee=>{J.plugins.browsertab.isAvailable(Se=>{let Ze=null;Se?J.plugins.browsertab.openUrl(ce):Ze=J.InAppBrowser.open(ce,(0,U.ao)()?"_blank":"_system","location=yes"),ee(Ze)})})}(ln);return function(ce,J,ee){return pe.apply(this,arguments)}(J,Kt,On)})()}_isIframeWebStorageSupported(J,ee){throw new Error("Method not implemented.")}_originValidation(J){const ee=J._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function(ce){return X.apply(this,arguments)}(J)),this.originValidationPromises[ee]}attachCallbackListeners(J,ee){const{universalLinks:Se,handleOpenURL:Ze,BuildInfo:bt}=W(),Kt=setTimeout((0,o.Z)(function*(){yield Ae(J),ee.onEvent(at())}),500),fn=function(){var ri=(0,o.Z)(function*(Ft){clearTimeout(Kt);const eo=yield Ae(J);let zi=null;eo&&(null==Ft?void 0:Ft.url)&&(zi=function(ce,J){var ee,Se;const Ze=function(ce){const J=Ue(ce),ee=J.link?decodeURIComponent(J.link):void 0,Se=Ue(ee).link,Ze=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Ue(Ze).link||Ze||Se||ee||ce}(J);if(Ze.includes("/__/auth/callback")){const bt=Ue(Ze),Kt=bt.firebaseError?function(ce){try{return JSON.parse(ce)}catch(J){return null}}(decodeURIComponent(bt.firebaseError)):null,fn=null===(Se=null===(ee=null==Kt?void 0:Kt.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Se?void 0:Se[1],ln=fn?(0,U.av)(fn):null;return ln?{type:ce.type,eventId:ce.eventId,tenantId:ce.tenantId,error:ln,urlResponse:null,sessionId:null,postBody:null}:{type:ce.type,eventId:ce.eventId,tenantId:ce.tenantId,sessionId:ce.sessionId,urlResponse:Ze,postBody:null}}return null}(eo,Ft.url)),ee.onEvent(zi||at())});return function(eo){return ri.apply(this,arguments)}}();void 0!==Se&&"function"==typeof Se.subscribe&&Se.subscribe(null,fn);const ln=Ze,On=`${bt.packageName.toLowerCase()}://`;W().handleOpenURL=function(){var ri=(0,o.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(On)&&fn({url:Ft}),"function"==typeof ln)try{ln(Ft)}catch(eo){console.error(eo)}});return function(Ft){return ri.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aA}_initialize(J){var ee=this;return(0,o.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,ee,Se,Ze){var bt=this;return(0,o.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(J,ee,Se,Ze)})()}_openRedirect(J,ee,Se,Ze){var bt=this;return(0,o.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(J,ee,Se,Ze)})()}_isIframeWebStorageSupported(J,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,ee)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return ia()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,o.Z)(function*(){if(J.underlyingResolver)return;const ee=yield function(){return lt.apply(this,arguments)}();J.underlyingResolver=ee?J.cordovaResolver:J.browserResolver})()}}function st(ce){return ce.unwrap()}function sa(ce){return Cn(ce)}function is(ce,J){var ee;const Se=null===(ee=J.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===J.code)J.resolver=new j(ce,U.am(ce,J));else if(Se){const Ze=Cn(J),bt=J;Ze&&(bt.credential=Ze,bt.tenantId=Se.tenantId||void 0,bt.email=Se.email||void 0,bt.phoneNumber=Se.phoneNumber||void 0)}}function Cn(ce){const{_tokenResponse:J}=ce instanceof se.ZR?ce.customData:ce;if(!J)return null;if(!(ce instanceof se.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return U.P.credentialFromResult(ce);const ee=J.providerId;if(!ee||ee===U.o.PASSWORD)return null;let Se;switch(ee){case U.o.GOOGLE:Se=U.N;break;case U.o.FACEBOOK:Se=U.M;break;case U.o.GITHUB:Se=U.Q;break;case U.o.TWITTER:Se=U.V;break;default:const{oauthIdToken:Ze,oauthAccessToken:bt,oauthTokenSecret:Kt,pendingToken:fn,nonce:ln}=J;return bt||Kt||Ze||fn?fn?ee.startsWith("saml.")?U.aJ._create(ee,fn):U.I._fromParams({providerId:ee,signInMethod:ee,pendingToken:fn,idToken:Ze,accessToken:bt}):new U.T(ee).credential({idToken:Ze,accessToken:bt,rawNonce:ln}):null}return ce instanceof se.ZR?Se.credentialFromError(ce):Se.credentialFromResult(ce)}function Dn(ce,J){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(ce,J){let ee;try{ee=yield J}catch(bt){throw bt instanceof se.ZR&&is(ce,bt),bt}const{operationType:Se,user:Ze}=ee;return{operationType:Se,credential:sa(ee),additionalUserInfo:U.ak(ee),user:ne.getOrCreate(Ze)}})).apply(this,arguments)}function bn(ce,J){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(ce,J){const ee=yield J;return{verificationId:ee.verificationId,confirm:Se=>Dn(ce,ee.confirm(Se))}})).apply(this,arguments)}class j{constructor(J,ee){this.resolver=ee,this.auth=J.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Dn(st(this.auth),this.resolver.resolveSignIn(J))}}class ne{constructor(J){this._delegate=J,this.multiFactor=U.an(J)}static getOrCreate(J){return ne.USER_MAP.has(J)||ne.USER_MAP.set(J,new ne(J)),ne.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var ee=this;return(0,o.Z)(function*(){return Dn(ee.auth,U.Y(ee._delegate,J))})()}linkWithPhoneNumber(J,ee){var Se=this;return(0,o.Z)(function*(){return bn(Se.auth,U.l(Se._delegate,J,ee))})()}linkWithPopup(J){var ee=this;return(0,o.Z)(function*(){return Dn(ee.auth,U.d(ee._delegate,J,Ye))})()}linkWithRedirect(J){var ee=this;return(0,o.Z)(function*(){return yield mt(U.aC(ee.auth)),U.g(ee._delegate,J,Ye)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var ee=this;return(0,o.Z)(function*(){return Dn(ee.auth,U.Z(ee._delegate,J))})()}reauthenticateWithPhoneNumber(J,ee){return bn(this.auth,U.r(this._delegate,J,ee))}reauthenticateWithPopup(J){return Dn(this.auth,U.e(this._delegate,J,Ye))}reauthenticateWithRedirect(J){var ee=this;return(0,o.Z)(function*(){return yield mt(U.aC(ee.auth)),U.h(ee._delegate,J,Ye)})()}sendEmailVerification(J){return U.aa(this._delegate,J)}unlink(J){var ee=this;return(0,o.Z)(function*(){return yield U.aj(ee._delegate,J),ee})()}updateEmail(J){return U.af(this._delegate,J)}updatePassword(J){return U.ag(this._delegate,J)}updatePhoneNumber(J){return U.u(this._delegate,J)}updateProfile(J){return U.ae(this._delegate,J)}verifyBeforeUpdateEmail(J,ee){return U.ab(this._delegate,J,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ne.USER_MAP=new WeakMap;const fe=U.aw;let oe=(()=>{class ce{constructor(ee,Se){if(this.app=ee,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ze}=ee.options;fe(Ze,"invalid-api-key",{appName:ee.name});let bt=[U.K];if("undefined"!=typeof window){bt=function(ce,J){const ee=Zi();if(!(null==ee?void 0:ee.sessionStorage))return[];const Se=U.ay(Pi,ce,J);switch(ee.sessionStorage.getItem(Se)){case hn.NONE:return[U.K];case hn.LOCAL:return[U.i,U.a];case hn.SESSION:return[U.a];default:return[]}}(Ze,ee.name);for(const fn of[U.i,U.b,U.a])bt.includes(fn)||bt.push(fn)}fe(Ze,"invalid-api-key",{appName:ee.name});const Kt="undefined"!=typeof window?Ye:void 0;this._delegate=Se.initialize({options:{persistence:bt,popupRedirectResolver:Kt}}),this._delegate._updateErrorMap(U.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Se){U.E(this._delegate,ee,Se)}applyActionCode(ee){return U.a1(this._delegate,ee)}checkActionCode(ee){return U.a2(this._delegate,ee)}confirmPasswordReset(ee,Se){return U.a0(this._delegate,ee,Se)}createUserWithEmailAndPassword(ee,Se){var Ze=this;return(0,o.Z)(function*(){return Dn(Ze._delegate,U.a4(Ze._delegate,ee,Se))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return U.a9(this._delegate,ee)}isSignInWithEmailLink(ee){return U.a7(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,o.Z)(function*(){fe(Mr(),ee._delegate,"operation-not-supported-in-this-environment");const Se=yield U.j(ee._delegate,Ye);return Se?Dn(ee._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function(ce,J){(0,U.aC)(ce)._logFramework(J)}(this._delegate,ee)}onAuthStateChanged(ee,Se,Ze){const{next:bt,error:Kt,complete:fn}=Ge(ee,Se,Ze);return this._delegate.onAuthStateChanged(bt,Kt,fn)}onIdTokenChanged(ee,Se,Ze){const{next:bt,error:Kt,complete:fn}=Ge(ee,Se,Ze);return this._delegate.onIdTokenChanged(bt,Kt,fn)}sendSignInLinkToEmail(ee,Se){return U.a6(this._delegate,ee,Se)}sendPasswordResetEmail(ee,Se){return U.$(this._delegate,ee,Se||void 0)}setPersistence(ee){var Se=this;return(0,o.Z)(function*(){let Ze;switch(function(ce,J){ns(Object.values(hn).includes(J),ce,"invalid-persistence-type"),(0,se.b$)()?ns(J!==hn.SESSION,ce,"unsupported-persistence-type"):(0,se.UG)()?ns(J===hn.NONE,ce,"unsupported-persistence-type"):ws()?ns(J===hn.NONE||J===hn.LOCAL&&(0,se.hl)(),ce,"unsupported-persistence-type"):ns(J===hn.NONE||Xs(),ce,"unsupported-persistence-type")}(Se._delegate,ee),ee){case hn.SESSION:Ze=U.a;break;case hn.LOCAL:Ze=(yield U.ax(U.i)._isAvailable())?U.i:U.b;break;case hn.NONE:Ze=U.K;break;default:return U.as("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(Ze)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Dn(this._delegate,U.W(this._delegate))}signInWithCredential(ee){return Dn(this._delegate,U.X(this._delegate,ee))}signInWithCustomToken(ee){return Dn(this._delegate,U._(this._delegate,ee))}signInWithEmailAndPassword(ee,Se){return Dn(this._delegate,U.a5(this._delegate,ee,Se))}signInWithEmailLink(ee,Se){return Dn(this._delegate,U.a8(this._delegate,ee,Se))}signInWithPhoneNumber(ee,Se){return bn(this._delegate,U.s(this._delegate,ee,Se))}signInWithPopup(ee){var Se=this;return(0,o.Z)(function*(){return fe(Mr(),Se._delegate,"operation-not-supported-in-this-environment"),Dn(Se._delegate,U.c(Se._delegate,ee,Ye))})()}signInWithRedirect(ee){var Se=this;return(0,o.Z)(function*(){return fe(Mr(),Se._delegate,"operation-not-supported-in-this-environment"),yield mt(Se._delegate),U.f(Se._delegate,ee,Ye)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return U.a3(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ce.Persistence=hn,ce})();function Ge(ce,J,ee){let Se=ce;"function"!=typeof ce&&({next:Se,error:J,complete:ee}=ce);const Ze=Se;return{next:Kt=>Ze(Kt&&ne.getOrCreate(Kt)),error:J,complete:ee}}class et{constructor(){this.providerId="phone",this._delegate=new U.P(st(q.Z.auth()))}static credential(J,ee){return U.P.credential(J,ee)}verifyPhoneNumber(J,ee){return this._delegate.verifyPhoneNumber(J,ee)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=U.P.PROVIDER_ID;const Nt=U.aw;var ce;(ce=q.Z).INTERNAL.registerComponent(new Z.wA("auth-compat",J=>{const ee=J.getProvider("app-compat").getImmediate(),Se=J.getProvider("auth");return new oe(ee,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.L,FacebookAuthProvider:U.M,GithubAuthProvider:U.Q,GoogleAuthProvider:U.N,OAuthProvider:U.T,PhoneAuthProvider:et,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:class{constructor(J,ee,Se=q.Z.app()){var Ze;Nt(null===(Ze=Se.options)||void 0===Ze?void 0:Ze.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new U.R(J,ee,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:U.V,Auth:oe,AuthCredential:U.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ce.registerVersion("@firebase/auth-compat","0.1.2")},3098:(Xe,Te,L)=>{"use strict";L.d(Te,{P:()=>de});var o=L(9193),q=L(5917),U=L(205);class de{constructor(Z,W,z){this.kind=Z,this.value=W,this.error=z,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,W,z){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return W&&W(this.error);case"C":return z&&z()}}accept(Z,W,z){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,W,z)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return(0,U._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new de("N",Z):de.undefinedValueNotification}static createError(Z){return new de("E",void 0,Z)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(Xe,Te,L)=>{"use strict";L.d(Te,{y:()=>Q});var o=L(7393),U=L(9181),se=L(6490),te=L(6554),Z=L(4487);var V=L(2494);let Q=(()=>{class X{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const pe=new X;return pe.source=this,pe.operator=De,pe}subscribe(De,pe,Ne){const{operator:we}=this,Ie=function(X,ie,De){if(X){if(X instanceof o.L)return X;if(X[U.b])return X[U.b]()}return X||ie||De?new o.L(X,ie,De):new o.L(se.c)}(De,pe,Ne);if(Ie.add(we?we.call(Ie,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),V.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(De){try{return this._subscribe(De)}catch(pe){V.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=pe),function(X){for(;X;){const{closed:ie,destination:De,isStopped:pe}=X;if(ie||pe)return!1;X=De&&De instanceof o.L?De:null}return!0}(De)?De.error(pe):console.warn(pe)}}forEach(De,pe){return new(pe=H(pe))((Ne,we)=>{let Ie;Ie=this.subscribe(rt=>{try{De(rt)}catch(pt){we(pt),Ie&&Ie.unsubscribe()}},we,Ne)})}_subscribe(De){const{source:pe}=this;return pe&&pe.subscribe(De)}[te.L](){return this}pipe(...De){return 0===De.length?this:function(X){return 0===X.length?Z.y:1===X.length?X[0]:function(De){return X.reduce((pe,Ne)=>Ne(pe),De)}}(De)(this)}toPromise(De){return new(De=H(De))((pe,Ne)=>{let we;this.subscribe(Ie=>we=Ie,Ie=>Ne(Ie),()=>pe(we))})}}return X.create=ie=>new X(ie),X})();function H(X){if(X||(X=V.v.Promise||Promise),!X)throw new Error("no Promise impl found");return X}},6490:(Xe,Te,L)=>{"use strict";L.d(Te,{c:()=>U});var o=L(2494),q=L(4449);const U={closed:!0,next(se){},error(se){if(o.v.useDeprecatedSynchronousErrorHandling)throw se;(0,q.z)(se)},complete(){}}},9765:(Xe,Te,L)=>{"use strict";L.d(Te,{Yc:()=>Z,xQ:()=>W});var o=L(7574),q=L(7393),U=L(5319),se=L(7971),de=L(8858),te=L(9181);class Z extends q.L{constructor(Q){super(Q),this.destination=Q}}let W=(()=>{class V extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new Z(this)}lift(H){const X=new z(this,this);return X.operator=H,X}next(H){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:X}=this,ie=X.length,De=X.slice();for(let pe=0;pe<ie;pe++)De[pe].next(H)}}error(H){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:X}=this,ie=X.length,De=X.slice();for(let pe=0;pe<ie;pe++)De[pe].error(H);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:H}=this,X=H.length,ie=H.slice();for(let De=0;De<X;De++)ie[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new se.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new se.N;return this.hasError?(H.error(this.thrownError),U.w.EMPTY):this.isStopped?(H.complete(),U.w.EMPTY):(this.observers.push(H),new de.W(this,H))}asObservable(){const H=new o.y;return H.source=this,H}}return V.create=(Q,H)=>new z(Q,H),V})();class z extends W{constructor(Q,H){super(),this.destination=Q,this.source=H}next(Q){const{destination:H}=this;H&&H.next&&H.next(Q)}error(Q){const{destination:H}=this;H&&H.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:H}=this;return H?this.source.subscribe(Q):U.w.EMPTY}}},8858:(Xe,Te,L)=>{"use strict";L.d(Te,{W:()=>q});var o=L(5319);class q extends o.w{constructor(se,de){super(),this.subject=se,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,de=se.observers;if(this.subject=null,!de||0===de.length||se.isStopped||se.closed)return;const te=de.indexOf(this.subscriber);-1!==te&&de.splice(te,1)}}},7393:(Xe,Te,L)=>{"use strict";L.d(Te,{L:()=>Z});var o=L(9105),q=L(6490),U=L(5319),se=L(9181),de=L(2494),te=L(4449);class Z extends U.w{constructor(V,Q,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=q.c;break;case 1:if(!V){this.destination=q.c;break}if("object"==typeof V){V instanceof Z?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,V,Q,H)}}[se.b](){return this}static create(V,Q,H){const X=new Z(V,Q,H);return X.syncErrorThrowable=!1,X}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class W extends Z{constructor(V,Q,H,X){super(),this._parentSubscriber=V;let ie,De=this;(0,o.m)(Q)?ie=Q:Q&&(ie=Q.next,H=Q.error,X=Q.complete,Q!==q.c&&(De=Object.create(Q),(0,o.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ie,this._error=H,this._complete=X}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;de.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:H}=de.v;if(this._error)H&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(Q.syncErrorThrowable)H?(Q.syncErrorValue=V,Q.syncErrorThrown=!0):(0,te.z)(V),this.unsubscribe();else{if(this.unsubscribe(),H)throw V;(0,te.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const Q=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,Q){try{V.call(this._context,Q)}catch(H){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw H;(0,te.z)(H)}}__tryOrSetError(V,Q,H){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,H)}catch(X){return de.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=X,V.syncErrorThrown=!0,!0):((0,te.z)(X),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Xe,Te,L)=>{"use strict";L.d(Te,{w:()=>te});var o=L(9796),q=L(1555),U=L(9105);const de=(()=>{function W(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((V,Q)=>`${Q+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return W.prototype=Object.create(Error.prototype),W})();class te{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:Q,_unsubscribe:H,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof te)V.remove(this);else if(null!==V)for(let ie=0;ie<V.length;++ie)V[ie].remove(this);if((0,U.m)(H)){Q&&(this._unsubscribe=void 0);try{H.call(this)}catch(ie){z=ie instanceof de?Z(ie.errors):[ie]}}if((0,o.k)(X)){let ie=-1,De=X.length;for(;++ie<De;){const pe=X[ie];if((0,q.K)(pe))try{pe.unsubscribe()}catch(Ne){z=z||[],Ne instanceof de?z=z.concat(Z(Ne.errors)):z.push(Ne)}}}if(z)throw new de(z)}add(z){let V=z;if(!z)return te.EMPTY;switch(typeof z){case"function":V=new te(z);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof te)){const X=V;V=new te,V._subscriptions=[X]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:Q}=V;if(null===Q)V._parentOrParents=this;else if(Q instanceof te){if(Q===this)return V;V._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return V;Q.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[V]:H.push(V),V}remove(z){const V=this._subscriptions;if(V){const Q=V.indexOf(z);-1!==Q&&V.splice(Q,1)}}}var W;function Z(W){return W.reduce((z,V)=>z.concat(V instanceof de?V.errors:V),[])}te.EMPTY=((W=new te).closed=!0,W)},2494:(Xe,Te,L)=>{"use strict";L.d(Te,{v:()=>q});let o=!1;const q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=U},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Xe,Te,L)=>{"use strict";L.d(Te,{IY:()=>se,Ds:()=>te,ft:()=>W});var o=L(7393),q=L(7574),U=L(7444);class se extends o.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class te extends o.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function W(z,V){if(V.closed)return;if(z instanceof q.y)return z.subscribe(V);let Q;try{Q=(0,U.s)(z)(V)}catch(H){V.error(H)}return Q}},2441:(Xe,Te,L)=>{"use strict";L.d(Te,{c:()=>de,N:()=>te});var o=L(9765),q=L(7574),U=L(5319),se=L(1307);class de extends q.y{constructor(Q,H){super(),this.source=Q,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new U.w,Q.add(this.source.subscribe(new Z(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=U.w.EMPTY)),Q}refCount(){return(0,se.x)()(this)}}const te=(()=>{const V=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class Z extends o.Yc{constructor(Q,H){super(Q),this.connectable=H}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const H=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,H&&H.unsubscribe()}}}},9193:(Xe,Te,L)=>{"use strict";L.d(Te,{E:()=>q,c:()=>U});var o=L(7574);const q=new o.y(de=>de.complete());function U(de){return de?function(de){return new o.y(te=>de.schedule(()=>te.complete()))}(de):q}},4402:(Xe,Te,L)=>{"use strict";L.d(Te,{D:()=>De});var o=L(7574),q=L(7444),U=L(5319),se=L(6554),Z=L(4087),W=L(377),Q=L(4072),H=L(9489);function De(pe,Ne){return Ne?function(pe,Ne){if(null!=pe){if(function(pe){return pe&&"function"==typeof pe[se.L]}(pe))return function(pe,Ne){return new o.y(we=>{const Ie=new U.w;return Ie.add(Ne.schedule(()=>{const rt=pe[se.L]();Ie.add(rt.subscribe({next(pt){Ie.add(Ne.schedule(()=>we.next(pt)))},error(pt){Ie.add(Ne.schedule(()=>we.error(pt)))},complete(){Ie.add(Ne.schedule(()=>we.complete()))}}))})),Ie})}(pe,Ne);if((0,Q.t)(pe))return function(pe,Ne){return new o.y(we=>{const Ie=new U.w;return Ie.add(Ne.schedule(()=>pe.then(rt=>{Ie.add(Ne.schedule(()=>{we.next(rt),Ie.add(Ne.schedule(()=>we.complete()))}))},rt=>{Ie.add(Ne.schedule(()=>we.error(rt)))}))),Ie})}(pe,Ne);if((0,H.z)(pe))return(0,Z.r)(pe,Ne);if(function(pe){return pe&&"function"==typeof pe[W.hZ]}(pe)||"string"==typeof pe)return function(pe,Ne){if(!pe)throw new Error("Iterable cannot be null");return new o.y(we=>{const Ie=new U.w;let rt;return Ie.add(()=>{rt&&"function"==typeof rt.return&&rt.return()}),Ie.add(Ne.schedule(()=>{rt=pe[W.hZ](),Ie.add(Ne.schedule(function(){if(we.closed)return;let pt,Ut;try{const Ht=rt.next();pt=Ht.value,Ut=Ht.done}catch(Ht){return void we.error(Ht)}Ut?we.complete():(we.next(pt),this.schedule())}))})),Ie})}(pe,Ne)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,Ne):pe instanceof o.y?pe:new o.y((0,q.s)(pe))}},6693:(Xe,Te,L)=>{"use strict";L.d(Te,{n:()=>se});var o=L(7574),q=L(5015),U=L(4087);function se(de,te){return te?(0,U.r)(de,te):new o.y((0,q.V)(de))}},6682:(Xe,Te,L)=>{"use strict";L.d(Te,{T:()=>de});var o=L(7574),q=L(4869),U=L(3282),se=L(6693);function de(...te){let Z=Number.POSITIVE_INFINITY,W=null,z=te[te.length-1];return(0,q.K)(z)?(W=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(Z=te.pop())):"number"==typeof z&&(Z=te.pop()),null===W&&1===te.length&&te[0]instanceof o.y?te[0]:(0,U.J)(Z)((0,se.n)(te,W))}},5917:(Xe,Te,L)=>{"use strict";L.d(Te,{of:()=>se});var o=L(4869),q=L(6693),U=L(4087);function se(...de){let te=de[de.length-1];return(0,o.K)(te)?(de.pop(),(0,U.r)(de,te)):(0,q.n)(de)}},205:(Xe,Te,L)=>{"use strict";L.d(Te,{_:()=>q});var o=L(7574);function q(se,de){return new o.y(de?te=>de.schedule(U,0,{error:se,subscriber:te}):te=>te.error(se))}function U({error:se,subscriber:de}){de.error(se)}},8002:(Xe,Te,L)=>{"use strict";L.d(Te,{U:()=>q});var o=L(7393);function q(de,te){return function(W){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new U(de,te))}}class U{constructor(te,Z){this.project=te,this.thisArg=Z}call(te,Z){return Z.subscribe(new se(te,this.project,this.thisArg))}}class se extends o.L{constructor(te,Z,W){super(te),this.project=Z,this.count=0,this.thisArg=W||this}_next(te){let Z;try{Z=this.project.call(this.thisArg,te,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(Z)}}},3282:(Xe,Te,L)=>{"use strict";L.d(Te,{J:()=>U});var o=L(9773),q=L(4487);function U(se=Number.POSITIVE_INFINITY){return(0,o.zg)(q.y,se)}},9773:(Xe,Te,L)=>{"use strict";L.d(Te,{zg:()=>se});var o=L(8002),q=L(4402),U=L(5345);function se(W,z,V=Number.POSITIVE_INFINITY){return"function"==typeof z?Q=>Q.pipe(se((H,X)=>(0,q.D)(W(H,X)).pipe((0,o.U)((ie,De)=>z(H,ie,X,De))),V)):("number"==typeof z&&(V=z),Q=>Q.lift(new de(W,V)))}class de{constructor(z,V=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=V}call(z,V){return V.subscribe(new te(z,this.project,this.concurrent))}}class te extends U.Ds{constructor(z,V,Q=Number.POSITIVE_INFINITY){super(z),this.project=V,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let V;const Q=this.index++;try{V=this.project(z,Q)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(V)}_innerSub(z){const V=new U.IY(this),Q=this.destination;Q.add(V);const H=(0,U.ft)(z,V);H!==V&&Q.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Xe,Te,L)=>{"use strict";L.d(Te,{QV:()=>U,ht:()=>de});var o=L(7393),q=L(3098);function U(Z,W=0){return function(V){return V.lift(new se(Z,W))}}class se{constructor(W,z=0){this.scheduler=W,this.delay=z}call(W,z){return z.subscribe(new de(W,this.scheduler,this.delay))}}class de extends o.L{constructor(W,z,V=0){super(W),this.scheduler=z,this.delay=V}static dispatch(W){const{notification:z,destination:V}=W;z.observe(V),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new te(W,this.destination)))}_next(W){this.scheduleMessage(q.P.createNext(W))}_error(W){this.scheduleMessage(q.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(q.P.createComplete()),this.unsubscribe()}}class te{constructor(W,z){this.notification=W,this.destination=z}}},1307:(Xe,Te,L)=>{"use strict";L.d(Te,{x:()=>q});var o=L(7393);function q(){return function(te){return te.lift(new U(te))}}class U{constructor(te){this.connectable=te}call(te,Z){const{connectable:W}=this;W._refCount++;const z=new se(te,W),V=Z.subscribe(z);return z.closed||(z.connection=W.connect()),V}}class se extends o.L{constructor(te,Z){super(te),this.connectable=Z}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const Z=te._refCount;if(Z<=0)return void(this.connection=null);if(te._refCount=Z-1,Z>1)return void(this.connection=null);const{connection:W}=this,z=te._connection;this.connection=null,z&&(!W||z===W)&&z.unsubscribe()}}},8819:(Xe,Te,L)=>{"use strict";L.d(Te,{B:()=>Z});var o=L(2441);var se=L(1307),de=L(9765);function te(){return new de.xQ}function Z(){return W=>(0,se.x)()(function(W,z){return function(Q){let H;H="function"==typeof W?W:function(){return W};const X=Object.create(Q,o.N);return X.source=Q,X.subjectFactory=H,X}}(te)(W))}},9673:(Xe,Te,L)=>{"use strict";L.d(Te,{R:()=>de});var o=L(7574),q=L(4581),U=L(6561);class se extends o.y{constructor(W,z=0,V=q.e){super(),this.source=W,this.delayTime=z,this.scheduler=V,(!(0,U.k)(z)||z<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=q.e)}static create(W,z=0,V=q.e){return new se(W,z,V)}static dispatch(W){const{source:z,subscriber:V}=W;return this.add(z.subscribe(V))}_subscribe(W){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function de(Z,W=0){return function(V){return V.lift(new te(Z,W))}}class te{constructor(W,z){this.scheduler=W,this.delay=z}call(W,z){return new se(z,this.delay,this.scheduler).subscribe(W)}}},8307:(Xe,Te,L)=>{"use strict";L.d(Te,{b:()=>se});var o=L(7393),q=L(8640),U=L(9105);function se(Z,W,z){return function(Q){return Q.lift(new de(Z,W,z))}}class de{constructor(W,z,V){this.nextOrObserver=W,this.error=z,this.complete=V}call(W,z){return z.subscribe(new te(W,this.nextOrObserver,this.error,this.complete))}}class te extends o.L{constructor(W,z,V,Q){super(W),this._tapNext=q.Z,this._tapError=q.Z,this._tapComplete=q.Z,this._tapError=V||q.Z,this._tapComplete=Q||q.Z,(0,U.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||q.Z,this._tapError=z.error||q.Z,this._tapComplete=z.complete||q.Z)}_next(W){try{this._tapNext.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Xe,Te,L)=>{"use strict";L.d(Te,{r:()=>U});var o=L(7574),q=L(5319);function U(se,de){return new o.y(te=>{const Z=new q.w;let W=0;return Z.add(de.schedule(function(){W!==se.length?(te.next(se[W++]),te.closed||Z.add(this.schedule())):te.complete()})),Z})}},6465:(Xe,Te,L)=>{"use strict";L.d(Te,{o:()=>U});var o=L(5319);class q extends o.w{constructor(de,te){super()}schedule(de,te=0){return this}}class U extends q{constructor(de,te){super(de,te),this.scheduler=de,this.work=te,this.pending=!1}schedule(de,te=0){if(this.closed)return this;this.state=de;const Z=this.id,W=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(W,Z,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(W,this.id,te),this}requestAsyncId(de,te,Z=0){return setInterval(de.flush.bind(de,this),Z)}recycleAsyncId(de,te,Z=0){if(null!==Z&&this.delay===Z&&!1===this.pending)return te;clearInterval(te)}execute(de,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(de,te);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,te){let W,Z=!1;try{this.work(de)}catch(z){Z=!0,W=!!z&&z||new Error(z)}if(Z)return this.unsubscribe(),W}_unsubscribe(){const de=this.id,te=this.scheduler,Z=te.actions,W=Z.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&Z.splice(W,1),null!=de&&(this.id=this.recycleAsyncId(te,de,null)),this.delay=null}}},6102:(Xe,Te,L)=>{"use strict";L.d(Te,{v:()=>q});let o=(()=>{class U{constructor(de,te=U.now){this.SchedulerAction=de,this.now=te}schedule(de,te=0,Z){return new this.SchedulerAction(this,de).schedule(Z,te)}}return U.now=()=>Date.now(),U})();class q extends o{constructor(se,de=o.now){super(se,()=>q.delegate&&q.delegate!==this?q.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,de=0,te){return q.delegate&&q.delegate!==this?q.delegate.schedule(se,de,te):super.schedule(se,de,te)}flush(se){const{actions:de}=this;if(this.active)return void de.push(se);let te;this.active=!0;do{if(te=se.execute(se.state,se.delay))break}while(se=de.shift());if(this.active=!1,te){for(;se=de.shift();)se.unsubscribe();throw te}}}},4581:(Xe,Te,L)=>{"use strict";L.d(Te,{e:()=>H,E:()=>Q});let o=1;const q=Promise.resolve(),U={};function se(X){return X in U&&(delete U[X],!0)}const de={setImmediate(X){const ie=o++;return U[ie]=!0,q.then(()=>se(ie)&&X()),ie},clearImmediate(X){se(X)}};var Z=L(6465),z=L(6102);const Q=new class extends z.v{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let pe,Ne=-1,we=De.length;ie=ie||De.shift();do{if(pe=ie.execute(ie.state,ie.delay))break}while(++Ne<we&&(ie=De.shift()));if(this.active=!1,pe){for(;++Ne<we&&(ie=De.shift());)ie.unsubscribe();throw pe}}}(class extends Z.o{constructor(ie,De){super(ie,De),this.scheduler=ie,this.work=De}requestAsyncId(ie,De,pe=0){return null!==pe&&pe>0?super.requestAsyncId(ie,De,pe):(ie.actions.push(this),ie.scheduled||(ie.scheduled=de.setImmediate(ie.flush.bind(ie,null))))}recycleAsyncId(ie,De,pe=0){if(null!==pe&&pe>0||null===pe&&this.delay>0)return super.recycleAsyncId(ie,De,pe);0===ie.actions.length&&(de.clearImmediate(De),ie.scheduled=void 0)}}),H=Q},3637:(Xe,Te,L)=>{"use strict";L.d(Te,{z:()=>U,P:()=>se});var o=L(6465);const U=new(L(6102).v)(o.o),se=U},7771:(Xe,Te,L)=>{"use strict";L.d(Te,{c:()=>te,N:()=>de});var o=L(6465),U=L(6102);const de=new class extends U.v{}(class extends o.o{constructor(W,z){super(W,z),this.scheduler=W,this.work=z}schedule(W,z=0){return z>0?super.schedule(W,z):(this.delay=z,this.state=W,this.scheduler.flush(this),this)}execute(W,z){return z>0||this.closed?super.execute(W,z):this._execute(W,z)}requestAsyncId(W,z,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(W,z,V):W.flush(this)}}),te=de},377:(Xe,Te,L)=>{"use strict";L.d(Te,{hZ:()=>q});const q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Te,L)=>{"use strict";L.d(Te,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Te,L)=>{"use strict";L.d(Te,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Te,L)=>{"use strict";L.d(Te,{N:()=>q});const q=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Xe,Te,L)=>{"use strict";function o(q){setTimeout(()=>{throw q},0)}L.d(Te,{z:()=>o})},4487:(Xe,Te,L)=>{"use strict";function o(q){return q}L.d(Te,{y:()=>o})},9796:(Xe,Te,L)=>{"use strict";L.d(Te,{k:()=>o});const o=Array.isArray||(q=>q&&"number"==typeof q.length)},9489:(Xe,Te,L)=>{"use strict";L.d(Te,{z:()=>o});const o=q=>q&&"number"==typeof q.length&&"function"!=typeof q},9105:(Xe,Te,L)=>{"use strict";function o(q){return"function"==typeof q}L.d(Te,{m:()=>o})},6561:(Xe,Te,L)=>{"use strict";L.d(Te,{k:()=>q});var o=L(9796);function q(U){return!(0,o.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Xe,Te,L)=>{"use strict";function o(q){return null!==q&&"object"==typeof q}L.d(Te,{K:()=>o})},4072:(Xe,Te,L)=>{"use strict";function o(q){return!!q&&"function"!=typeof q.subscribe&&"function"==typeof q.then}L.d(Te,{t:()=>o})},4869:(Xe,Te,L)=>{"use strict";function o(q){return q&&"function"==typeof q.schedule}L.d(Te,{K:()=>o})},8640:(Xe,Te,L)=>{"use strict";function o(){}L.d(Te,{Z:()=>o})},7444:(Xe,Te,L)=>{"use strict";L.d(Te,{s:()=>Q});var o=L(5015),q=L(4449),se=L(377),te=L(6554),W=L(9489),z=L(4072),V=L(1555);const Q=H=>{if(H&&"function"==typeof H[te.L])return(H=>X=>{const ie=H[te.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(X)})(H);if((0,W.z)(H))return(0,o.V)(H);if((0,z.t)(H))return(H=>X=>(H.then(ie=>{X.closed||(X.next(ie),X.complete())},ie=>X.error(ie)).then(null,q.z),X))(H);if(H&&"function"==typeof H[se.hZ])return(H=>X=>{const ie=H[se.hZ]();for(;;){let De;try{De=ie.next()}catch(pe){return X.error(pe),X}if(De.done){X.complete();break}if(X.next(De.value),X.closed)break}return"function"==typeof ie.return&&X.add(()=>{ie.return&&ie.return()}),X})(H);{const ie=`You provided ${(0,V.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Xe,Te,L)=>{"use strict";L.d(Te,{V:()=>o});const o=q=>U=>{for(let se=0,de=q.length;se<de&&!U.closed;se++)U.next(q[se]);U.complete()}},2375:(Xe,Te,L)=>{"use strict";var o=L(7716);let q=null;function U(){return q}const Z=new o.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:z,token:r,providedIn:"platform"}),r})();function z(){return(0,o.LFG)(Q)}const V=new o.OlP("Location Initialized");let Q=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,a){H()?this._history.pushState(n,s,a):this.location.hash=a}replaceState(n,s,a){H()?this._history.replaceState(n,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=(0,o.Yz7)({factory:X,token:r,providedIn:"platform"}),r})();function H(){return!!window.history.pushState}function X(){return new Q((0,o.LFG)(Z))}function ie(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function De(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function pe(r){return r&&"?"!==r[0]?"?"+r:r}let Ne=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:we,token:r,providedIn:"root"}),r})();function we(r){const i=(0,o.LFG)(Z).location;return new rt((0,o.LFG)(W),i&&i.origin||"")}const Ie=new o.OlP("appBaseHref");let rt=(()=>{class r extends Ne{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ie(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+pe(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${s}${a}`:s}pushState(n,s,a,l){const h=this.prepareExternalUrl(a+pe(l));this._platformLocation.pushState(n,s,h)}replaceState(n,s,a,l){const h=this.prepareExternalUrl(a+pe(l));this._platformLocation.replaceState(n,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(W),o.LFG(Ie,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),pt=(()=>{class r extends Ne{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=ie(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,a,l){let h=this.prepareExternalUrl(a+pe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,s,h)}replaceState(n,s,a,l){let h=this.prepareExternalUrl(a+pe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(W),o.LFG(Ie,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Ut=(()=>{class r{constructor(n,s){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=De(Ae(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+pe(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,Ae(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",a=null){this._platformStrategy.pushState(a,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pe(s)),a)}replaceState(n,s="",a=null){this._platformStrategy.replaceState(a,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pe(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(a=>a(n,s))}subscribe(n,s,a){return this._subject.subscribe({next:n,error:s,complete:a})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ne),o.LFG(W))},r.normalizeQueryParams=pe,r.joinWithSlash=ie,r.stripTrailingSlash=De,r.\u0275prov=(0,o.Yz7)({factory:Ht,token:r,providedIn:"root"}),r})();function Ht(){return new Ut((0,o.LFG)(Ne),(0,o.LFG)(W))}function Ae(r){return r.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const ws=o.kL8;class la{}let rd=(()=>{class r extends la{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(ws(s||this.locale)(n)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.soG))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class ss{constructor(i,n,s,a){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yt=(()=>{class r{constructor(n,s,a){this._viewContainer=n,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new ss(null,this._ngForOf,-1,-1),null===h?void 0:h),_=new sd(a,m);s.push(_)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const _=new sd(a,m);s.push(_)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class sd{constructor(i,n){this.record=i,this.view=n}}let ft=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new kf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ca("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ca("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class kf{constructor(){this.$implicit=null,this.ngIf=null}}function ca(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,o.AaK)(i)}'.`)}class Dl{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Wi=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),ei=(()=>{class r{constructor(n,s,a){this.ngSwitch=a,a._addCase(),this._view=new Dl(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Wi,9))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),ua=(()=>{class r{constructor(n,s,a){this._ngEl=n,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[a,l]=n.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})(),Di=(()=>{class r{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(n){if(n.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b))},r.\u0275dir=o.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),r})();class hD{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class no{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const Rv=new no,Sg=new hD;let Rf=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,o.QGY)(n))return Rv;if((0,o.F4k)(n))return Sg;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,o.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO,16))},r.\u0275pipe=o.Yjl({name:"async",type:r,pure:!1}),r})(),Xt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:la,useClass:rd}]}),r})();function Sc(r){return"browser"===r}function as(r){return"server"===r}let Tl=(()=>{class r{}return r.\u0275prov=(0,o.Yz7)({token:r,providedIn:"root",factory:()=>new Bf((0,o.LFG)(Z),window)}),r})();class Bf{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=xc(this.window.history)||xc(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function xc(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Ac extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new Ac,q||(q=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(da=da||document.querySelector("base"),da?da.getAttribute("href"):null);return null==n?null:function(r){Gn=Gn||document.createElement("a"),Gn.setAttribute("href",r);const i=Gn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[a,l]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}(document.cookie,i)}}let Gn,da=null;const Uf=new o.OlP("TRANSITION_ID"),Hr=[{provide:o.ip1,useFactory:function(r,i,n){return()=>{n.get(o.CZH).donePromise.then(()=>{const s=U(),a=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Uf,Z,o.zs3],multi:!0}];class cd{static init(){(0,o.VLi)(new cd)}addToWindow(i){o.dqk.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const m=function(_){h=h||_,l--,0==l&&s(h)};a.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const a=i.getTestability(n);return null!=a?a:s?U().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let kc=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const El=new o.OlP("EventManagerPlugins");let ke=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(a=>a.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,a){return this._findPluginFor(s).addEventListener(n,s,a)}addGlobalEventListener(n,s,a){return this._findPluginFor(s).addGlobalEventListener(n,s,a)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(n))return this._eventNameToPlugin.set(n,h),h}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(El),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class sn{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const a=U().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${n}`);return this.addEventListener(a,n,s)}}let Oc=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),ti=(()=>{class r extends Oc{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,a){n.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(s.appendChild(h))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(Nc),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(n,a,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Nc))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function Nc(r){U().remove(r)}const Va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cs=/%COMP%/g;function Qi(r,i,n){for(let s=0;s<i.length;s++){let a=i[s];Array.isArray(a)?Qi(r,a,n):(a=a.replace(Cs,r),n.push(a))}return n}function cs(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Bs=(()=>{class r{constructor(n,s,a){this.eventManager=n,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Vs(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Hv(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(n),a}case 1:case o.ifc.ShadowDom:return new Pc(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const a=Qi(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(ke),o.LFG(ti),o.LFG(o.AFp))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Vs{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(Va[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,a){if(a){n=a+":"+n;const l=Va[a];l?i.setAttributeNS(l,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const a=Va[s];a?i.removeAttributeNS(a,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,a){a&(o.JOm.DashCase|o.JOm.Important)?i.style.setProperty(n,s,a&o.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&o.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,cs(s)):this.eventManager.addEventListener(i,n,cs(s))}}class Hv extends Vs{constructor(i,n,s,a){super(i),this.component=s;const l=Qi(a+"-"+s.id,s.styles,[]);n.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Cs,a+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(Cs,r)}(a+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class Pc extends Vs{constructor(i,n,s,a){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Qi(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let qf=(()=>{class r extends sn{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,a){return n.addEventListener(s,a,!1),()=>this.removeEventListener(n,s,a)}removeEventListener(n,s,a){return n.removeEventListener(s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Fc=["alt","control","meta","shift"],vD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qv={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let zf=(()=>{class r extends sn{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,a){const l=r.parseEventName(s),h=r.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,l.domEventName,h))}static parseEventName(n){const s=n.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=r._normalizeKey(s.pop());let h="";if(Fc.forEach(_=>{const D=s.indexOf(_);D>-1&&(s.splice(D,1),h+=_+".")}),h+=l,0!=s.length||0===l.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(n){let s="",a=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&Sr.hasOwnProperty(i)&&(i=Sr[i]))}return vD[i]||i}(n);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Fc.forEach(l=>{l!=a&&qv[l](n)&&(s+=l+".")}),s+=a,s}static eventCallback(n,s,a){return l=>{r.getEventFullKey(l)===n&&a.runGuarded(()=>s(l))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),No=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(Il)},token:r,providedIn:"root"}),r})(),Il=(()=>{class r extends No{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case o.q3G.NONE:return s;case o.q3G.HTML:return(0,o.qzn)(s,"HTML")?(0,o.z3N)(s):(0,o.EiD)(this._doc,String(s)).toString();case o.q3G.STYLE:return(0,o.qzn)(s,"Style")?(0,o.z3N)(s):s;case o.q3G.SCRIPT:if((0,o.qzn)(s,"Script"))return(0,o.z3N)(s);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(s),(0,o.qzn)(s,"URL")?(0,o.z3N)(s):(0,o.mCW)(String(s));case o.q3G.RESOURCE_URL:if((0,o.qzn)(s,"ResourceURL"))return(0,o.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,o.JVY)(n)}bypassSecurityTrustStyle(n){return(0,o.L6k)(n)}bypassSecurityTrustScript(n){return(0,o.eBb)(n)}bypassSecurityTrustUrl(n){return(0,o.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,o.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=(0,o.Yz7)({factory:function(){return function(r){return new Il(r.get(Z))}((0,o.LFG)(o.gxx))},token:r,providedIn:"root"}),r})();const Lc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Ac.makeCurrent(),cd.init()},multi:!0},{provide:Z,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),Jf=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:El,useClass:qf,multi:!0,deps:[Z,o.R0b,o.Lbi]},{provide:El,useClass:zf,multi:!0,deps:[Z]},[],{provide:Bs,useClass:Bs,deps:[ke,ti,o.AFp]},{provide:o.FYo,useExisting:Bs},{provide:Oc,useExisting:ti},{provide:ti,useClass:ti,deps:[Z]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:ke,useClass:ke,deps:[El,o.R0b]},{provide:class{},useClass:kc,deps:[]},[]];let Ug=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:o.AFp,useValue:n.appId},{provide:Uf,useExisting:o.AFp},Hr]}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(r,12))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:Jf,imports:[Xt,o.hGG]}),r})();"undefined"!=typeof window&&window;var me=L(9765),At=L(5319),Ya=L(7971);class si extends me.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ya.N;return this._value}next(i){super.next(this._value=i)}}var qe=L(5917);function Yn(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var $n=L(8307),Ei=L(7393),hs=L(3637);function Wc(r,i=hs.P){return n=>n.lift(new m0(r,i))}class m0{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new g0(i,this.dueTime,this.scheduler))}}class g0 extends Ei.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_0,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function _0(r){r.debouncedNext()}function vt(r,i){return function(s){return s.lift(new ga(r,i))}}class ga{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new T(i,this.predicate,this.thisArg))}}class T extends Ei.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}var b=L(8002);const S=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();var R=L(9193);function P(r){return i=>0===r?(0,R.c)():i.lift(new ue(r))}class ue{constructor(i){if(this.total=i,this.total<0)throw new S}call(i,n){return n.subscribe(new Fe(i,this.total))}}class Fe extends Ei.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function it(r){return i=>i.lift(new Ct(r))}class Ct{constructor(i){this.total=i}call(i,n){return n.subscribe(new nn(i,this.total))}}class nn extends Ei.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}function vn(r,i){return n=>n.lift(new Lo(r,i))}class Lo{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new _a(i,this.compare,this.keySelector))}}class _a extends Ei.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:a}=this;n=a?a(i):i}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}var oi=L(5345);function Be(r){return i=>i.lift(new Ts(r))}class Ts{constructor(i){this.notifier=i}call(i,n){const s=new Fl(i),a=(0,oi.ft)(this.notifier,new oi.IY(s));return a&&!s.seenValue?(s.add(a),n.subscribe(s)):s}}class Fl extends oi.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function xe(r){return null!=r&&"false"!=`${r}`}function jt(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function Jc(r){return Array.isArray(r)?r:[r]}function mi(r){return null==r?"":"string"==typeof r?r:`${r}px`}function ai(r){return r instanceof o.SBq?r.nativeElement:r}let za;try{za="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){za=!1}let lp,It=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Sc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!za)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.Lbi))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.Lbi))},token:r,providedIn:"root"}),r})(),ap=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const y0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function GD(){if(lp)return lp;if("object"!=typeof document||!document)return lp=new Set(y0),lp;let r=document.createElement("input");return lp=new Set(y0.filter(i=>(r.setAttribute("type",i),r.type===i))),lp}let cp,up,ya,v0;function Bo(r){return function(){if(null==cp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cp=!0}))}finally{cp=cp||!1}return cp}()?r:!!r.capture}function b0(){if(null==ya){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ya=!1,ya;if("scrollBehavior"in document.documentElement.style)ya=!0;else{const r=Element.prototype.scrollTo;ya=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ya}function Qc(){if("object"!=typeof document||!document)return 0;if(null==up){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),up=0,0===r.scrollLeft&&(r.scrollLeft=1,up=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return up}function o_(r){if(function(){if(null==v0){const r="undefined"!=typeof document?document.head:null;v0=!(!r||!r.createShadowRoot&&!r.attachShadow)}return v0}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function $a(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function Es(r){return r.composedPath?r.composedPath()[0]:r.target}var An=L(7574);let w0=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),YD=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=ai(n);return new An.y(a=>{const h=this._observeElement(s).subscribe(a);return()=>{h.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new me.xQ,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:a,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:a}=this._observedElements.get(n);s&&s.disconnect(),a.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(w0))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(w0))},token:r,providedIn:"root"}),r})(),dp=(()=>{class r{constructor(n,s,a){this._contentObserver=n,this._elementRef=s,this._ngZone=a,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=xe(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=jt(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(Wc(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(YD),o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),hp=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[w0]}),r})();class Kc extends class{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new me.xQ,this._typeaheadSubscription=At.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new me.xQ,this.change=new me.xQ,i instanceof o.n_E&&i.changes.subscribe(n=>{if(this._activeItem){const a=n.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$n.b)(n=>this._pressedLetters.push(n)),Wc(i),vt(()=>this._pressedLetters.length>0),(0,b.U)(()=>this._pressedLetters.join(""))).subscribe(n=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,h=s[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const n=this._activeItem;this.updateActiveItem(i),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(i){const n=i.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!i[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||Yn(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const n=this._getItemsArray(),s="number"==typeof i?i:n.indexOf(i),a=n[s];this._activeItem=null==a?null:a,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const n=this._getItemsArray();for(let s=1;s<=n.length;s++){const a=(this._activeItemIndex+i*s+n.length)%n.length;if(!this._skipPredicateFn(n[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,n){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=n])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let M0=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===E0(s)||!this.isVisible(s)))return!1;let a=n.nodeName.toLowerCase(),l=E0(n);return n.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===a?!!n.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||Nk(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(It))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(It))},token:r,providedIn:"root"}),r})();function Nk(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function E0(r){if(!Nk(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class Vd{constructor(i,n,s,a,l=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let a=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let a=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(P(1)).subscribe(i)}}let c_=(()=>{class r{constructor(n,s,a){this._checker=n,this._ngZone=s,this._document=a}create(n,s=!1){return new Vd(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(M0),o.LFG(o.R0b),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(M0),o.LFG(o.R0b),o.LFG(Z))},token:r,providedIn:"root"}),r})();function S0(r){return 0===r.offsetX&&0===r.offsetY}function mp(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const QD=new o.OlP("cdk-input-modality-detector-options"),Uk={ignoreKeys:[18,17,224,91,16]},Vo=Bo({passive:!0,capture:!0});let Uo=(()=>{class r{constructor(n,s,a,l){this._platform=n,this._mostRecentTarget=null,this._modality=new si(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,_;(null===(_=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===_?void 0:_.some(D=>D===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Es(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(S0(h)?"keyboard":"mouse"),this._mostRecentTarget=Es(h))},this._onTouchstart=h=>{mp(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Es(h))},this._options=Object.assign(Object.assign({},Uk),l),this.modalityDetected=this._modality.pipe(it(1)),this.modalityChanged=this.modalityDetected.pipe(vn()),n.isBrowser&&s.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Vo),a.addEventListener("mousedown",this._onMousedown,Vo),a.addEventListener("touchstart",this._onTouchstart,Vo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,Vo),document.removeEventListener("mousedown",this._onMousedown,Vo),document.removeEventListener("touchstart",this._onTouchstart,Vo))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(It),o.LFG(o.R0b),o.LFG(Z),o.LFG(QD,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(It),o.LFG(o.R0b),o.LFG(Z),o.LFG(QD,8))},token:r,providedIn:"root"}),r})();const d_=new o.OlP("cdk-focus-monitor-default-options"),Ud=Bo({passive:!0,capture:!0});let ii=(()=>{class r{constructor(n,s,a,l,h){this._ngZone=n,this._platform=s,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new me.xQ,this._rootNodeFocusAndBlurListener=m=>{const _=Es(m),D="focus"===m.type?this._onFocus:this._onBlur;for(let M=_;M;M=M.parentElement)D.call(this,m,M)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(n,s=!1){const a=ai(n);if(!this._platform.isBrowser||1!==a.nodeType)return(0,qe.of)(null);const l=o_(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return s&&(h.checkChildren=!0),h.subject;const m={checkChildren:s,subject:new me.xQ,rootNode:l};return this._elementInfo.set(a,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(n){const s=ai(n),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(n,s,a){const l=ai(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,_])=>this._originChanged(m,s,_)):(this._setOrigin(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,a){a?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const a=this._elementInfo.get(s),l=Es(n);!a||!a.checkChildren&&s!==l||this._originChanged(s,this._getFocusOrigin(l),a)}_onBlur(n,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(a.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ud),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ud)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Be(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ud),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ud),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,a){this._setClasses(n,s),this._emitOrigin(a.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((a,l)=>{(l===n||a.checkChildren&&l.contains(n))&&s.push([l,a])}),s}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(It),o.LFG(Uo),o.LFG(Z,8),o.LFG(d_,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(It),o.LFG(Uo),o.LFG(Z,8),o.LFG(d_,8))},token:r,providedIn:"root"}),r})(),h_=(()=>{class r{constructor(n,s){this._elementRef=n,this._focusMonitor=s,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,1===n.nodeType&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(ii))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const Hd="cdk-high-contrast-black-on-white",A0="cdk-high-contrast-white-on-black",f_="cdk-high-contrast-active";let p_=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(n):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(f_),n.remove(Hd),n.remove(A0),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(f_),n.add(Hd)):2===s&&(n.add(f_),n.add(A0))}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(It),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(It),o.LFG(Z))},token:r,providedIn:"root"}),r})(),Xc=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(p_))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[ap,hp]]}),r})(),jk=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();var Bl=L(9796),qk=L(9105);function Nn(r,i,n,s){return(0,qk.m)(n)&&(s=n,n=void 0),s?Nn(r,i,n).pipe((0,b.U)(a=>(0,Bl.k)(a)?s(...a):s(a))):new An.y(a=>{eM(r,i,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,n)})}function eM(r,i,n,s,a){let l;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const h=r;r.addEventListener(i,n,a),l=()=>h.removeEventListener(i,n,a)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const h=r;r.on(i,n),l=()=>h.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const h=r;r.addListener(i,n),l=()=>h.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let h=0,m=r.length;h<m;h++)eM(r[h],i,n,s,a)}s.add(l)}var I0=L(6465),R0=L(6102);const iM=new class extends R0.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,a=-1,l=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++a<l&&(i=n.shift()));if(this.active=!1,s){for(;++a<l&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends I0.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});L(4581);class sM{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new Jk(i,this.durationSelector))}}class Jk extends oi.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:a}=this;n=a(i)}catch(a){return this.destination.error(a)}const s=(0,oi.ft)(n,new oi.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Gd=L(6561),g_=L(4869);function _p(r=0,i,n){let s=-1;return(0,Gd.k)(i)?s=Number(i)<1?1:Number(i):(0,g_.K)(i)&&(n=i),(0,g_.K)(n)||(n=hs.P),new An.y(a=>{const l=(0,Gd.k)(r)?r:+r-n.now();return n.schedule(oM,l,{index:0,period:s,subscriber:a})})}function oM(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function yp(r,i=hs.P){return function(r){return function(n){return n.lift(new sM(r))}}(()=>_p(r,i))}var Yd=L(3282);function Vl(...r){return(0,Yd.J)(1)((0,qe.of)(...r))}function zt(...r){const i=r[r.length-1];return(0,g_.K)(i)?(r.pop(),n=>Vl(r,n,i)):n=>Vl(r,n)}function bp(){return r=>r.lift(new O0)}class O0{call(i,n){return n.subscribe(new lM(i))}}class lM extends Ei.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}var Bn=L(4402);function pn(r,i){return"function"==typeof i?n=>n.pipe(pn((s,a)=>(0,Bn.D)(r(s,a)).pipe((0,b.U)((l,h)=>i(s,l,a,h))))):n=>n.lift(new Qk(r))}class Qk{constructor(i){this.project=i}call(i,n){return n.subscribe(new cM(i,this.project))}}class cM extends oi.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(a){return void this.destination.error(a)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new oi.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,oi.ft)(i,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var Kk=L(7771),vp=L(9746),uM=L(8858);class N0 extends me.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new dM(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let h;if(this.closed)throw new Ya.N;if(this.isStopped||this.hasError?h=At.w.EMPTY:(this.observers.push(i),h=new uM.W(this,i)),a&&i.add(i=new vp.ht(i,a)),n)for(let m=0;m<l&&!i.closed;m++)i.next(s[m]);else for(let m=0;m<l&&!i.closed;m++)i.next(s[m].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),h}_getNow(){return(this.scheduler||Kk.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(i-a[h].time<s);)h++;return l>n&&(h=Math.max(h,l-n)),h>0&&a.splice(0,h),a}}class dM{constructor(i,n){this.time=i,this.value=n}}function Ul(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},a=>a.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let a,h,l=0,m=!1,_=!1;return function(M){let A;l++,!a||m?(m=!1,a=new N0(r,i,s),A=a.subscribe(this),h=M.subscribe({next(I){a.next(I)},error(I){m=!0,a.error(I)},complete(){_=!0,h=void 0,a.complete()}}),_&&(h=void 0)):A=a.subscribe(this),this.add(()=>{l--,A.unsubscribe(),A=void 0,h&&!_&&n&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}const fM=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(Z)}});let mn=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new o.vpe,n){const a=n.documentElement?n.documentElement.dir:null,l=(n.body?n.body.dir:null)||a;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(fM,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(fM,8))},token:r,providedIn:"root"}),r})(),jr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();function jd(r){return r&&"function"==typeof r.connect}class mM{applyChanges(i,n,s,a,l){i.forEachOperation((h,m,_)=>{let D,M;if(null==h.previousIndex){const A=s(h,m,_);D=n.createEmbeddedView(A.templateRef,A.context,A.index),M=1}else null==_?(n.remove(m),M=3):(D=n.get(m),n.move(D,_),M=2);l&&l({context:null==D?void 0:D.context,operation:M,record:h})})}detach(){}}const eu=new o.OlP("_ViewRepeater");let Wa=(()=>{class r{constructor(n,s,a){this._ngZone=n,this._platform=s,this._scrolled=new me.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new An.y(s=>{this._globalSubscription||this._addGlobalListener();const a=n>0?this._scrolled.pipe(yp(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,qe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const a=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(vt(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,n)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let a=ai(s),l=n.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Nn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(It),o.LFG(Z,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(It),o.LFG(Z,8))},token:r,providedIn:"root"}),r})(),Hl=(()=>{class r{constructor(n,s,a,l){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new me.xQ,this._elementScrolled=new An.y(h=>this.ngZone.runOutsideAngular(()=>Nn(this.elementRef.nativeElement,"scroll").pipe(Be(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),a&&0!=Qc()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==Qc()?n.left=n.right:1==Qc()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;b0()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==n)return l.scrollTop;if("bottom"==n)return l.scrollHeight-l.clientHeight-l.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==n?n=h?a:s:"end"==n&&(n=h?s:a),h&&2==Qc()?n==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:h&&1==Qc()?n==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:n==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(Wa),o.Y36(o.R0b),o.Y36(mn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),pr=(()=>{class r{constructor(n,s,a){this._platform=n,this._change=new me.xQ,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+a,right:n.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),a=n.documentElement,l=a.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||n.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(yp(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(It),o.LFG(o.R0b),o.LFG(Z,8))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(It),o.LFG(o.R0b),o.LFG(Z,8))},token:r,providedIn:"root"}),r})(),mr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),tu=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[jr,ap,mr],jr,mr]}),r})();function V0(r){const{subscriber:i,counter:n,period:s}=r;i.next(n),this.schedule({subscriber:i,counter:n+1,period:s},s)}var kn=L(6682);function U0(r,i,n){for(let s in i)if(i.hasOwnProperty(s)){const a=i[s];a?r.setProperty(s,a,(null==n?void 0:n.has(s))?"important":""):r.removeProperty(s)}return r}function nu(r,i){const n=i?"":"none";U0(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function iI(r,i,n){U0(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},n)}function v_(r,i){return i&&"none"!=i?r+" "+i:r}function rI(r){const i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i}function w_(r,i){return r.getPropertyValue(i).split(",").map(s=>s.trim())}function H0(r){const i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}function Cp(r,i,n){const{top:s,bottom:a,left:l,right:h}=r;return n>=s&&n<=a&&i>=l&&i<=h}function C_(r,i,n){r.top+=i,r.bottom=r.top+r.height,r.left+=n,r.right=r.left+r.width}function sI(r,i,n,s){const{top:a,right:l,bottom:h,left:m,width:_,height:D}=r,M=_*i,A=D*i;return s>a-A&&s<h+A&&n>m-M&&n<l+M}class oI{constructor(i,n){this._document=i,this._viewportRuler=n,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),i.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:H0(n)})})}handleScroll(i){const n=Es(i),s=this.positions.get(n);if(!s)return null;const a=n===this._document?n.documentElement:n,l=s.scrollPosition;let h,m;if(n===this._document){const M=this._viewportRuler.getViewportScrollPosition();h=M.top,m=M.left}else h=n.scrollTop,m=n.scrollLeft;const _=l.top-h,D=l.left-m;return this.positions.forEach((M,A)=>{M.clientRect&&n!==A&&a.contains(A)&&C_(M.clientRect,_,D)}),l.top=h,l.left=m,{top:_,left:D}}}function aI(r){const i=r.cloneNode(!0),n=i.querySelectorAll("[id]"),s=r.nodeName.toLowerCase();i.removeAttribute("id");for(let a=0;a<n.length;a++)n[a].removeAttribute("id");return"canvas"===s?uI(r,i):("input"===s||"select"===s||"textarea"===s)&&cI(r,i),lI("canvas",r,i,uI),lI("input, textarea, select",r,i,cI),i}function lI(r,i,n,s){const a=i.querySelectorAll(r);if(a.length){const l=n.querySelectorAll(r);for(let h=0;h<a.length;h++)s(a[h],l[h])}}let J2=0;function cI(r,i){"file"!==i.type&&(i.value=r.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${J2++}`)}function uI(r,i){const n=i.getContext("2d");if(n)try{n.drawImage(r,0,0)}catch(s){}}const dI=Bo({passive:!0}),hI=Bo({passive:!1}),wa=new Set(["position"]);class G0{constructor(i,n,s,a,l,h){this._config=n,this._document=s,this._ngZone=a,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new me.xQ,this._pointerMoveSubscription=At.w.EMPTY,this._pointerUpSubscription=At.w.EMPTY,this._scrollSubscription=At.w.EMPTY,this._resizeSubscription=At.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new me.xQ,this.started=new me.xQ,this.released=new me.xQ,this.ended=new me.xQ,this.entered=new me.xQ,this.exited=new me.xQ,this.dropped=new me.xQ,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const _=this._handles.find(D=>{const M=Es(m);return!!M&&(M===D||D.contains(M))});_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const _=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const O=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),B=this._dropContainer;if(!O)return void this._endDragSequence(m);(!B||!B.isDragging()&&!B.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),m.preventDefault();const D=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(D),this._dropContainer)this._updateActiveDropContainer(D,_);else{const M=this._activeTransform;M.x=D.x-this._pickupPositionOnPage.x+this._passiveTransform.x,M.y=D.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(M.x,M.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${M.x} ${M.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:D,event:m,distance:this._getDragDistance(D),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this.withRootElement(i).withParent(n.parentDragRef||null),this._parentPositions=new oI(s,l),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const n=xe(i);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(s=>nu(s,n)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(s=>ai(s)),this._handles.forEach(s=>nu(s,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&n.add(s)}),this._disabledHandles=n,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const n=ai(i);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,hI),n.addEventListener("touchstart",this._pointerDown,dI)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?ai(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&qd(this._rootElement),qd(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),nu(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),nu(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&qd(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&qd(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Zd(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const s=this._rootElement,a=s.parentNode,l=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();a.insertBefore(h,s),this._initialTransform=s.style.transform||"",this._preview=this._createPreviewElement(),iI(s,!1,wa),this._document.body.appendChild(a.replaceChild(l,s)),this._getPreviewInsertionPoint(a,m).appendChild(this._preview),this.started.next({source:this}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,n){this._parentDragRef&&n.stopPropagation();const s=this.isDragging(),a=Zd(n),l=!a&&0!==n.button,h=this._rootElement,m=Es(n),_=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),D=a?mp(n):S0(n);if(m&&m.draggable&&"mousedown"===n.type&&n.preventDefault(),s||l||_||D)return;this._handles.length&&(this._rootElementTapHighlight=h.style.webkitTapHighlightColor||"",h.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(I=>this._updateOnScroll(I)),this._boundaryElement&&(this._boundaryRect=H0(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,n);const A=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:A.x,y:A.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(i){iI(this._rootElement,!0,wa),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,s=n.getItemIndex(this),a=this._getPointerPositionOnPage(i),l=this._getDragDistance(a),h=n._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:l,dropPoint:a}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:a}),n.drop(this,s,this._initialIndex,this._initialContainer,h,l,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:n},{x:s,y:a}){let l=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,i,n,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,a),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,n=this.previewClass,s=i?i.template:null;let a;if(s&&i){const l=i.matchSize?this._rootElement.getBoundingClientRect():null,h=i.viewContainer.createEmbeddedView(s,i.context);h.detectChanges(),a=M_(h,this._document),this._previewRef=h,i.matchSize?vM(a,l):a.style.transform=D_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const l=this._rootElement;a=aI(l),vM(a,l.getBoundingClientRect()),this._initialTransform&&(a.style.transform=this._initialTransform)}return U0(a.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},wa),nu(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(l=>a.classList.add(l)):a.classList.add(n)),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const n=function(r){const i=getComputedStyle(r),n=w_(i,"transition-property"),s=n.find(m=>"transform"===m||"all"===m);if(!s)return 0;const a=n.indexOf(s),l=w_(i,"transition-duration"),h=w_(i,"transition-delay");return rI(l[a])+rI(h[a])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{const a=h=>{(!h||Es(h)===this._preview&&"transform"===h.propertyName)&&(this._preview.removeEventListener("transitionend",a),s(),clearTimeout(l))},l=setTimeout(a,1.5*n);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,n=i?i.template:null;let s;return n?(this._placeholderRef=i.viewContainer.createEmbeddedView(n,i.context),this._placeholderRef.detectChanges(),s=M_(this._placeholderRef,this._document)):s=aI(this._rootElement),s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(i,n){const s=this._rootElement.getBoundingClientRect(),a=i===this._rootElement?null:i,l=a?a.getBoundingClientRect():s,h=Zd(n)?n.targetTouches[0]:n,m=this._getViewportScrollPosition();return{x:l.left-s.left+(h.pageX-l.left-m.left),y:l.top-s.top+(h.pageY-l.top-m.top)}}_getPointerPositionOnPage(i){const n=this._getViewportScrollPosition(),s=Zd(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,a=s.pageX-n.left,l=s.pageY-n.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const m=this._ownerSVGElement.createSVGPoint();return m.x=a,m.y=l,m.matrixTransform(h.inverse())}}return{x:a,y:l}}_getConstrainedPointerPosition(i){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:s,y:a}=this.constrainPosition?this.constrainPosition(i,this):i;if("x"===this.lockAxis||"x"===n?a=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===n)&&(s=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:h}=this._pickupPositionInElement,m=this._boundaryRect,_=this._previewRect,D=m.top+h,M=m.bottom-(_.height-h);s=Y0(s,m.left+l,m.right-(_.width-l)),a=Y0(a,D,M)}return{x:s,y:a}}_updatePointerDirectionDelta(i){const{x:n,y:s}=i,a=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(n-l.x),m=Math.abs(s-l.y);return h>this._config.pointerDirectionChangeThreshold&&(a.x=n>l.x?1:-1,l.x=n),m>this._config.pointerDirectionChangeThreshold&&(a.y=s>l.y?1:-1,l.y=s),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,nu(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,hI),i.removeEventListener("touchstart",this._pointerDown,dI)}_applyRootElementTransform(i,n){const s=D_(i,n);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=v_(s,this._initialTransform)}_applyPreviewTransform(i,n){var s;const a=(null===(s=this._previewTemplate)||void 0===s?void 0:s.template)?void 0:this._initialTransform,l=D_(i,n);this._preview.style.transform=v_(l,a)}_getDragDistance(i){const n=this._pickupPositionOnPage;return n?{x:i.x-n.x,y:i.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:n}=this._passiveTransform;if(0===i&&0===n||this.isDragging()||!this._boundaryElement)return;const s=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===a.width&&0===a.height)return;const l=s.left-a.left,h=a.right-s.right,m=s.top-a.top,_=a.bottom-s.bottom;s.width>a.width?(l>0&&(i+=l),h>0&&(i-=h)):i=0,s.height>a.height?(m>0&&(n+=m),_>0&&(n-=_)):n=0,(i!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:i})}_getDragStartDelay(i){const n=this.dragStartDelay;return"number"==typeof n?n:Zd(i)?n.touch:n?n.mouse:0}_updateOnScroll(i){const n=this._parentPositions.handleScroll(i);if(n){const s=Es(i);this._boundaryRect&&(s===this._document||s!==this._boundaryElement&&s.contains(this._boundaryElement))&&C_(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const i=this._parentPositions.positions.get(this._document);return i?i.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=o_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,n){const s=this._previewContainer||"global";if("parent"===s)return i;if("global"===s){const a=this._document;return n||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return ai(s)}}function D_(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`}function Y0(r,i,n){return Math.max(i,Math.min(n,r))}function qd(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Zd(r){return"t"===r.type[0]}function M_(r,i){const n=r.rootNodes;if(1===n.length&&n[0].nodeType===i.ELEMENT_NODE)return n[0];const s=i.createElement("div");return n.forEach(a=>s.appendChild(a)),s}function vM(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=D_(i.left,i.top)}function T_(r,i){return Math.max(0,Math.min(i,r))}class CM{constructor(i,n,s,a,l){this._dragDropRegistry=n,this._ngZone=a,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new me.xQ,this.entered=new me.xQ,this.exited=new me.xQ,this.dropped=new me.xQ,this.sorted=new me.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=At.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new me.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(r=0,i=hs.P){return(!(0,Gd.k)(r)||r<0)&&(r=0),(!i||"function"!=typeof i.schedule)&&(i=hs.P),new An.y(n=>(n.add(i.schedule(V0,r,{subscriber:n,counter:0,period:r})),n))}(0,iM).pipe(Be(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?DM(h,-m):2===this._verticalScrollDirection&&DM(h,m),1===this._horizontalScrollDirection?zd(h,-m):2===this._horizontalScrollDirection&&zd(h,m)})},this.element=ai(i),this._document=s,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new oI(s,l)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,n,s,a){let l;this._draggingStarted(),null==a?(l=this.sortingDisabled?this._draggables.indexOf(i):-1,-1===l&&(l=this._getItemIndexFromPointerPosition(i,n,s))):l=a;const h=this._activeDraggables,m=h.indexOf(i),_=i.getPlaceholderElement();let D=h[l];if(D===i&&(D=h[l+1]),m>-1&&h.splice(m,1),D&&!this._dragDropRegistry.isDragging(D)){const M=D.getRootElement();M.parentElement.insertBefore(_,M),h.splice(l,0,i)}else if(this._shouldEnterAsFirstChild(n,s)){const M=h[0].getRootElement();M.parentNode.insertBefore(_,M),h.unshift(i)}else ai(this.element).appendChild(_),h.push(i);_.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,n,s,a,l,h,m){this._reset(),this.dropped.next({item:i,currentIndex:n,previousIndex:s,container:this,previousContainer:a,isPointerOverContainer:l,distance:h,dropPoint:m})}withItems(i){const n=this._draggables;return this._draggables=i,i.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(n.filter(a=>a.isDragging()).every(a=>-1===i.indexOf(a))?this._reset():this._cacheItems()),this}withDirection(i){return this._direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._orientation=i,this}withScrollableParents(i){const n=ai(this.element);return this._scrollableElements=-1===i.indexOf(n)?[n,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?j0("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,s=>s.drag===i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,n,s,a){if(this.sortingDisabled||!this._clientRect||!sI(this._clientRect,.05,n,s))return;const l=this._itemPositions,h=this._getItemIndexFromPointerPosition(i,n,s,a);if(-1===h&&l.length>0)return;const m="horizontal"===this._orientation,_=j0(l,ae=>ae.drag===i),D=l[h],A=D.clientRect,I=_>h?1:-1,O=this._getItemOffsetPx(l[_].clientRect,A,I),B=this._getSiblingOffsetPx(_,l,I),$=l.slice();(function(r,i,n){const s=T_(i,r.length-1),a=T_(n,r.length-1);if(s===a)return;const l=r[s],h=a<s?-1:1;for(let m=s;m!==a;m+=h)r[m]=r[m+h];r[a]=l})(l,_,h),this.sorted.next({previousIndex:_,currentIndex:h,container:this,item:i}),l.forEach((ae,Re)=>{if($[Re]===ae)return;const Ve=ae.drag===i,He=Ve?O:B,We=Ve?i.getPlaceholderElement():ae.drag.getRootElement();ae.offset+=He,m?(We.style.transform=v_(`translate3d(${Math.round(ae.offset)}px, 0, 0)`,ae.initialTransform),C_(ae.clientRect,0,He)):(We.style.transform=v_(`translate3d(0, ${Math.round(ae.offset)}px, 0)`,ae.initialTransform),C_(ae.clientRect,He,0))}),this._previousSwap.overlaps=Cp(A,n,s),this._previousSwap.drag=D.drag,this._previousSwap.delta=m?a.x:a.y}_startScrollingIfNecessary(i,n){if(this.autoScrollDisabled)return;let s,a=0,l=0;if(this._parentPositions.positions.forEach((h,m)=>{m===this._document||!h.clientRect||s||sI(h.clientRect,.05,i,n)&&([a,l]=function(r,i,n,s){const a=iu(i,s),l=S_(i,n);let h=0,m=0;if(a){const _=r.scrollTop;1===a?_>0&&(h=1):r.scrollHeight-_>r.clientHeight&&(h=2)}if(l){const _=r.scrollLeft;1===l?_>0&&(m=1):r.scrollWidth-_>r.clientWidth&&(m=2)}return[h,m]}(m,h.clientRect,i,n),(a||l)&&(s=m))}),!a&&!l){const{width:h,height:m}=this._viewportRuler.getViewportSize(),_={width:h,height:m,top:0,right:h,bottom:m,left:0};a=iu(_,n),l=S_(_,i),s=window}s&&(a!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=l,this._scrollNode=s,(a||l)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=ai(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=ai(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_cacheItemPositions(){const i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(n=>{const s=n.getVisibleElement();return{drag:n,offset:0,initialTransform:s.style.transform||"",clientRect:H0(s)}}).sort((n,s)=>i?n.clientRect.left-s.clientRect.left:n.clientRect.top-s.clientRect.top)}_reset(){this._isDragging=!1;const i=ai(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(n=>{var s;const a=n.getRootElement();if(a){const l=null===(s=this._itemPositions.find(h=>h.drag===n))||void 0===s?void 0:s.initialTransform;a.style.transform=l||""}}),this._siblings.forEach(n=>n._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(i,n,s){const a="horizontal"===this._orientation,l=n[i].clientRect,h=n[i+-1*s];let m=l[a?"width":"height"]*s;if(h){const _=a?"left":"top",D=a?"right":"bottom";-1===s?m-=h.clientRect[_]-l[D]:m+=l[_]-h.clientRect[D]}return m}_getItemOffsetPx(i,n,s){const a="horizontal"===this._orientation;let l=a?n.left-i.left:n.top-i.top;return-1===s&&(l+=a?n.width-i.width:n.height-i.height),l}_shouldEnterAsFirstChild(i,n){if(!this._activeDraggables.length)return!1;const s=this._itemPositions,a="horizontal"===this._orientation;if(s[0].drag!==this._activeDraggables[0]){const h=s[s.length-1].clientRect;return a?i>=h.right:n>=h.bottom}{const h=s[0].clientRect;return a?i<=h.left:n<=h.top}}_getItemIndexFromPointerPosition(i,n,s,a){const l="horizontal"===this._orientation,h=j0(this._itemPositions,({drag:m,clientRect:_},D,M)=>{if(m===i)return M.length<2;if(a){const A=l?a.x:a.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&A===this._previousSwap.delta)return!1}return l?n>=Math.floor(_.left)&&n<Math.floor(_.right):s>=Math.floor(_.top)&&s<Math.floor(_.bottom)});return-1!==h&&this.sortPredicate(h,i,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(i,n){return null!=this._clientRect&&Cp(this._clientRect,i,n)}_getSiblingContainerFromPosition(i,n,s){return this._siblings.find(a=>a._canReceive(i,n,s))}_canReceive(i,n,s){if(!this._clientRect||!Cp(this._clientRect,n,s)||!this.enterPredicate(i,this))return!1;const a=this._getShadowRoot().elementFromPoint(n,s);if(!a)return!1;const l=ai(this.element);return a===l||l.contains(a)}_startReceiving(i,n){const s=this._activeSiblings;!s.has(i)&&n.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(s.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(i);n&&(this._itemPositions.forEach(({clientRect:s})=>{C_(s,n.top,n.left)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=o_(ai(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._activeDraggables.filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,i))}}function j0(r,i){for(let n=0;n<r.length;n++)if(i(r[n],n,r))return n;return-1}function DM(r,i){r===window?r.scrollBy(0,i):r.scrollTop+=i}function zd(r,i){r===window?r.scrollBy(i,0):r.scrollLeft+=i}function iu(r,i){const{top:n,bottom:s,height:a}=r,l=.05*a;return i>=n-l&&i<=n+l?1:i>=s-l&&i<=s+l?2:0}function S_(r,i){const{left:n,right:s,width:a}=r,l=.05*a;return i>=n-l&&i<=n+l?1:i>=s-l&&i<=s+l?2:0}const Yl=Bo({passive:!1,capture:!0});let ru=(()=>{class r{constructor(n,s){this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new me.xQ,this.pointerUp=new me.xQ,this.scroll=new me.xQ,this._preventDefaultWhileDragging=a=>{this._activeDragInstances.length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=s}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Yl)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Yl)}startDragging(n,s){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._activeDragInstances.push(n),1===this._activeDragInstances.length)){const a=s.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Yl}),a||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:Yl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(n){const s=this._activeDragInstances.indexOf(n);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){const s=[this.scroll];return n&&n!==this._document&&s.push(new An.y(a=>this._ngZone.runOutsideAngular(()=>{const h=m=>{this._activeDragInstances.length&&a.next(m)};return n.addEventListener("scroll",h,!0),()=>{n.removeEventListener("scroll",h,!0)}}))),(0,kn.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,s)=>{this._document.removeEventListener(s,n.handler,n.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.R0b),o.LFG(Z))},token:r,providedIn:"root"}),r})();const pI={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let x_=(()=>{class r{constructor(n,s,a,l){this._document=n,this._ngZone=s,this._viewportRuler=a,this._dragDropRegistry=l}createDrag(n,s=pI){return new G0(n,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new CM(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(o.R0b),o.LFG(pr),o.LFG(ru))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z),o.LFG(o.R0b),o.LFG(pr),o.LFG(ru))},token:r,providedIn:"root"}),r})(),iB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[x_],imports:[mr]}),r})();class W0{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Wd extends W0{constructor(i,n,s,a){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=a}}class oo extends W0{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class wI extends W0{constructor(i){super(),this.element=i instanceof o.SBq?i.nativeElement:i}}class Jd{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Wd?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof oo?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof wI?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class SM extends Jd{constructor(i,n,s,a,l){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=h=>{const m=h.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=l}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=n.indexOf(s);-1!==a&&n.remove(a)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let li=(()=>{class r extends Jd{constructor(n,s,a){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=a}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,l=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),h=s.createComponent(l,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=n,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Z))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),r})(),Qa=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),R_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[jr]]}),r})();const NM=[[["caption"]],[["colgroup"],["col"]]],TI=["caption","colgroup, col"];function PM(r){return class extends r{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const n=this._sticky;this._sticky=xe(i),this._hasStickyChanged=n!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const Kd=new o.OlP("CDK_TABLE");let su=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),ou=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),Mp=(()=>{class r{constructor(n){this.template=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class LM{}const Xa=PM(LM);let ao=(()=>{class r extends Xa{constructor(n){super(),this._table=n,this._stickyEnd=!1}get name(){return this._name}set name(n){this._setNameInput(n)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){const s=this._stickyEnd;this._stickyEnd=xe(n),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Kd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,su,5),o.Suo(a,ou,5),o.Suo(a,Mp,5)),2&n){let l;o.iGM(l=o.CRH())&&(s.cell=l.first),o.iGM(l=o.CRH())&&(s.headerCell=l.first),o.iGM(l=o.CRH())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),o.qOj]}),r})();class K0{constructor(i,n){const s=n.nativeElement.classList;for(const a of i._columnCssClassName)s.add(a)}}let X0=(()=>{class r extends K0{constructor(n,s){super(n,s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ao),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),r})(),ql=(()=>{class r extends K0{constructor(n,s){var a;if(super(n,s),1===(null===(a=n._table)||void 0===a?void 0:a._elementRef.nativeElement.nodeType)){const l=n._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ao),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),r})();class ew{constructor(){this.tasks=[],this.endTasks=[]}}const au=new o.OlP("_COALESCED_STYLE_SCHEDULER");let Xd=(()=>{class r{constructor(n){this._ngZone=n,this._currentSchedule=null,this._destroyed=new me.xQ}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ew,this._getScheduleObservable().pipe(Be(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const n=this._currentSchedule;this._currentSchedule=new ew;for(const s of n.tasks)s();for(const s of n.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Bn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(P(1))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Tp=(()=>{class r{constructor(n,s){this.template=n,this._differs=s}ngOnChanges(n){if(!this._columnsDiffer){const s=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof eh?n.headerCell.template:this instanceof Ep?n.footerCell.template:n.cell.template}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},r.\u0275dir=o.lG2({type:r,features:[o.TTD]}),r})();class BM extends Tp{}const xI=PM(BM);let eh=(()=>{class r extends xI{constructor(n,s,a){super(n,s),this._table=a}ngOnChanges(n){super.ngOnChanges(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Kd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),r})();class AI extends Tp{}const tw=PM(AI);let Ep=(()=>{class r extends tw{constructor(n,s,a){super(n,s),this._table=a}ngOnChanges(n){super.ngOnChanges(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Kd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),r})(),O_=(()=>{class r extends Tp{constructor(n,s,a){super(n,s),this._table=a}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Kd,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),r})(),Ca=(()=>{class r{constructor(n){this._viewContainer=n,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r.mostRecentCellOutlet=null,r})(),Zl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Ca],encapsulation:2}),r})(),nw=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Ca],encapsulation:2}),r})(),P_=(()=>{class r{constructor(n){this.templateRef=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const lu=["top","bottom","left","right"];class kI{constructor(i,n,s,a,l=!0,h=!0,m){this._isNativeHtmlTable=i,this._stickCellCss=n,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=m,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(i,n){const s=[];for(const a of i)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const a of s)this._removeStickyStyle(a,n)})}updateStickyColumns(i,n,s,a=!0){if(!i.length||!this._isBrowser||!n.some(I=>I)&&!s.some(I=>I))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=i[0],h=l.children.length,m=this._getCellWidths(l,a),_=this._getStickyStartColumnPositions(m,n),D=this._getStickyEndColumnPositions(m,s),M=n.lastIndexOf(!0),A=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const I="rtl"===this.direction,O=I?"right":"left",B=I?"left":"right";for(const $ of i)for(let ae=0;ae<h;ae++){const Re=$.children[ae];n[ae]&&this._addStickyStyle(Re,O,_[ae],ae===M),s[ae]&&this._addStickyStyle(Re,B,D[ae],ae===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:m.slice(0,M+1).map(($,ae)=>n[ae]?$:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:m.slice(A).map(($,ae)=>s[ae+A]?$:null).reverse()}))})}stickRows(i,n,s){if(!this._isBrowser)return;const a="bottom"===s?i.slice().reverse():i,l="bottom"===s?n.slice().reverse():n,h=[],m=[],_=[];for(let M=0,A=0;M<a.length;M++){if(!l[M])continue;h[M]=A;const I=a[M];_[M]=this._isNativeHtmlTable?Array.from(I.children):[I];const O=I.getBoundingClientRect().height;A+=O,m[M]=O}const D=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var M,A;for(let I=0;I<a.length;I++){if(!l[I])continue;const O=h[I],B=I===D;for(const $ of _[I])this._addStickyStyle($,s,O,B)}"top"===s?null===(M=this._positionListener)||void 0===M||M.stickyHeaderRowsUpdated({sizes:m,offsets:h,elements:_}):null===(A=this._positionListener)||void 0===A||A.stickyFooterRowsUpdated({sizes:m,offsets:h,elements:_})})}updateStickyFooterContainer(i,n){if(!this._isNativeHtmlTable)return;const s=i.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{n.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(i,n){for(const a of n)i.style[a]="",i.classList.remove(this._borderCellCss[a]);lu.some(a=>-1===n.indexOf(a)&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,n,s,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[n]),i.style[n]=`${s}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const n={top:100,bottom:10,left:1,right:1};let s=0;for(const a of lu)i.style[a]&&(s+=n[a]);return s?`${s}`:""}_getCellWidths(i,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=i.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(i,n){const s=[];let a=0;for(let l=0;l<i.length;l++)n[l]&&(s[l]=a,a+=i[l]);return s}_getStickyEndColumnPositions(i,n){const s=[];let a=0;for(let l=i.length;l>0;l--)n[l]&&(s[l]=a,a+=i[l]);return s}}const UM=new o.OlP("CDK_SPL");let th=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),nh=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),iw=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),F_=(()=>{class r{constructor(n,s){this.viewContainer=n,this.elementRef=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),Sp=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I){this._differs=n,this._changeDetectorRef=s,this._elementRef=a,this._dir=h,this._platform=_,this._viewRepeater=D,this._coalescedStyleScheduler=M,this._viewportRuler=A,this._stickyPositioningListener=I,this._onDestroy=new me.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new si({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=m,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=xe(n),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=xe(n),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((n,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe(Be(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),jd(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const n=this._dataDiffer.diff(this._renderRows);if(!n)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,s,(a,l,h)=>this._getEmbeddedViewArgs(a.item,h),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){const n=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=n.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const n=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=n.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const n=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let m=0;m<s.length;m++)this._renderRows[m].rowDef===l&&h.push(s[m]);this._addStickyColumnStyles(h,l)}),a.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const n=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const h=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let m=0;m<h.length;m++){let _=h[m];const D=this._cachedRenderRowsMap.get(_.data);D.has(_.rowDef)?D.get(_.rowDef).push(_):D.set(_.rowDef,[_]),n.push(_)}}return n}_getRenderRowsForData(n,s,a){return this._getRowDefs(n,s).map(h=>{const m=a&&a.has(h)?a.get(h):[];if(m.length){const _=m.shift();return _.dataIndex=s,_}return{data:n,rowDef:h,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),xp(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=xp(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=xp(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=xp(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const n=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=n[0]}_renderUpdatedColumns(){const n=(h,m)=>h||!!m.getColumnsDiff(),s=this._rowDefs.reduce(n,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(n,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(n,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(n){this._data=[],jd(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;jd(this.dataSource)?n=this.dataSource.connect(this):function(r){return!!r&&(r instanceof An.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=(0,qe.of)(this.dataSource)),this._renderChangeSubscription=n.pipe(Be(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,s)=>this._renderRow(this._headerRowOutlet,n,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,s)=>this._renderRow(this._footerRowOutlet,n,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,s){const a=Array.from(s.columns||[]).map(m=>this._columnDefsByName.get(m)),l=a.map(m=>m.sticky),h=a.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(n,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){const s=[];for(let a=0;a<n.viewContainer.length;a++){const l=n.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(n,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,n));else{let l=this._rowDefs.find(h=>h.when&&h.when(s,n))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(n,s){return{templateRef:n.rowDef.template,context:{$implicit:n.data},index:s}}_renderRow(n,s,a,l={}){const h=n.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),h}_renderCellTemplateForItem(n,s){for(let a of this._getCellTemplates(n))Ca.mostRecentCellOutlet&&Ca.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const n=this._rowOutlet.viewContainer;for(let s=0,a=n.length;s<a;s++){const h=n.get(s).context;h.count=a,h.first=0===s,h.last=s===a-1,h.even=s%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[s].dataIndex,h.renderIndex=s):h.index=this._renderRows[s].dataIndex}}_getCellTemplates(n){return n&&n.columns?Array.from(n.columns,s=>{const a=this._columnDefsByName.get(s);return n.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const n=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const h of a.outlets)l.appendChild(h.elementRef.nativeElement);n.appendChild(l)}this._elementRef.nativeElement.appendChild(n)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const n=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new kI(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,qe.of)()).pipe(Be(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const n=this._customNoDataRow||this._noDataRow;if(n){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;s?a.createEmbeddedView(n.templateRef):a.clear(),this._isShowingNoDataRow=s}}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(mn,8),o.Y36(Z),o.Y36(It),o.Y36(eu),o.Y36(au),o.Y36(pr),o.Y36(UM,12))},r.\u0275cmp=o.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,P_,5),o.Suo(a,ao,5),o.Suo(a,O_,5),o.Suo(a,eh,5),o.Suo(a,Ep,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._noDataRow=l.first),o.iGM(l=o.CRH())&&(s._contentColumnDefs=l),o.iGM(l=o.CRH())&&(s._contentRowDefs=l),o.iGM(l=o.CRH())&&(s._contentHeaderRowDefs=l),o.iGM(l=o.CRH())&&(s._contentFooterRowDefs=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(th,7),o.Gf(nh,7),o.Gf(iw,7),o.Gf(F_,7)),2&n){let a;o.iGM(a=o.CRH())&&(s._rowOutlet=a.first),o.iGM(a=o.CRH())&&(s._headerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._footerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:Kd,useExisting:r},{provide:eu,useClass:mM},{provide:au,useClass:Xd},{provide:UM,useValue:null}])],ngContentSelectors:TI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,s){1&n&&(o.F$t(NM),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[nh,th,F_,iw],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),r})();function xp(r,i){return r.concat(Array.from(i))}let HM=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[tu]]}),r})(),LI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const BI=b0();class qM{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=mi(-this._previousScrollPosition.left),i.style.top=mi(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,a=this._document.body.style,l=s.scrollBehavior||"",h=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),BI&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BI&&(s.scrollBehavior=l,a.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class ZM{constructor(i,n,s,a){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class zM{enable(){}disable(){}attach(){}}function $M(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function aw(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class lw{constructor(i,n,s,a){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();$M(n,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UI=(()=>{class r{constructor(n,s,a,l){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new zM,this.close=h=>new ZM(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new qM(this._viewportRuler,this._document),this.reposition=h=>new lw(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Wa),o.LFG(pr),o.LFG(o.R0b),o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Wa),o.LFG(pr),o.LFG(o.R0b),o.LFG(Z))},token:r,providedIn:"root"}),r})();class zl{constructor(i){if(this.scrollStrategy=new zM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class HI{constructor(i,n,s,a,l){this.offsetX=s,this.offsetY=a,this.panelClass=l,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class GI{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let WM=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z))},token:r,providedIn:"root"}),r})(),U_=(()=>{class r extends WM{constructor(n){super(n),this._keydownListener=s=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){a[l]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z))},token:r,providedIn:"root"}),r})(),rh=(()=>{class r extends WM{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=a=>{const l=Es(a),h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const _=h[m];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(l))break;_._outsidePointerEvents.next(a)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(It))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z),o.LFG(It))},token:r,providedIn:"root"}),r})();const tl="undefined"!=typeof window?window:{},lo=void 0!==tl.__karma__&&!!tl.__karma__||void 0!==tl.jasmine&&!!tl.jasmine||void 0!==tl.jest&&!!tl.jest||void 0!==tl.Mocha&&!!tl.Mocha;let nl=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||lo){const a=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l])}const s=this._document.createElement("div");s.classList.add(n),lo?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(It))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z),o.LFG(It))},token:r,providedIn:"root"}),r})();class YI{constructor(i,n,s,a,l,h,m,_,D){this._portalOutlet=i,this._host=n,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=h,this._document=m,this._location=_,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new me.xQ,this._attachments=new me.xQ,this._detachments=new me.xQ,this._locationChanges=At.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new me.xQ,this._outsidePointerEvents=new me.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(P(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=mi(this._config.width),i.height=mi(this._config.height),i.minWidth=mi(this._config.minWidth),i.minHeight=mi(this._config.minHeight),i.maxWidth=mi(this._config.maxWidth),i.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const a=i.classList;Jc(n).forEach(l=>{l&&(s?a.add(l):a.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Be((0,kn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const JM="cdk-overlay-connected-position-bounding-box",cw=/([A-Za-z%]+)$/;class co{constructor(i,n,s,a,l){this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new me.xQ,this._resizeSubscription=At.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(JM),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,a=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(i,h),_=this._getOverlayPoint(m,n,h),D=this._getOverlayFit(_,n,s,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(D,_,s)?a.push({position:h,origin:m,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<D.visibleArea)&&(l={overlayFit:D,overlayPoint:_,originPoint:m,position:h,overlayRect:n})}if(a.length){let h=null,m=-1;for(const _ of a){const D=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);D>m&&(m=D,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,a;if("center"==n.originX)s=i.left+i.width/2;else{const l=this._isRtl()?i.right:i.left,h=this._isRtl()?i.left:i.right;s="start"==n.originX?l:h}return a="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:a}}_getOverlayPoint(i,n,s){let a,l;return a="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,l="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+a,y:i.y+l}}_getOverlayFit(i,n,s,a){const l=$l(n);let{x:h,y:m}=i,_=this._getOffset(a,"x"),D=this._getOffset(a,"y");_&&(h+=_),D&&(m+=D);let I=0-m,O=m+l.height-s.height,B=this._subtractOverflows(l.width,0-h,h+l.width-s.width),$=this._subtractOverflows(l.height,I,O),ae=B*$;return{visibleArea:ae,isCompletelyWithinViewport:l.width*l.height===ae,fitsInViewportVertically:$===l.height,fitsInViewportHorizontally:B==l.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const a=s.bottom-n.y,l=s.right-n.x,h=Ar(this._overlayRef.getConfig().minHeight),m=Ar(this._overlayRef.getConfig().minWidth),D=i.fitsInViewportHorizontally||null!=m&&m<=l;return(i.fitsInViewportVertically||null!=h&&h<=a)&&D}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=$l(n),l=this._viewportRect,h=Math.max(i.x+a.width-l.width,0),m=Math.max(i.y+a.height-l.height,0),_=Math.max(l.top-s.top-i.y,0),D=Math.max(l.left-s.left-i.x,0);let M=0,A=0;return M=a.width<=l.width?D||-h:i.x<this._viewportMargin?l.left-s.left-i.x:0,A=a.height<=l.height?_||-m:i.y<this._viewportMargin?l.top-s.top-i.y:0,this._previousPushAmount={x:M,y:A},{x:i.x+M,y:i.y+A}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new GI(i,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let l=0;l<n.length;l++)n[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,a=this._isRtl();let l,h,m,M,A,I;if("top"===n.overlayY)h=i.y,l=s.height-h+this._viewportMargin;else if("bottom"===n.overlayY)m=s.height-i.y+2*this._viewportMargin,l=s.height-m+this._viewportMargin;else{const O=Math.min(s.bottom-i.y+s.top,i.y),B=this._lastBoundingBoxSize.height;l=2*O,h=i.y-O,l>B&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.y-B/2)}if("end"===n.overlayX&&!a||"start"===n.overlayX&&a)I=s.width-i.x+this._viewportMargin,M=i.x-this._viewportMargin;else if("start"===n.overlayX&&!a||"end"===n.overlayX&&a)A=i.x,M=s.right-i.x;else{const O=Math.min(s.right-i.x+s.left,i.x),B=this._lastBoundingBoxSize.width;M=2*O,A=i.x-O,M>B&&!this._isInitialRender&&!this._growAfterOpen&&(A=i.x-B/2)}return{top:h,left:A,bottom:m,right:I,width:M,height:l}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;a.height=mi(s.height),a.top=mi(s.top),a.bottom=mi(s.bottom),a.width=mi(s.width),a.left=mi(s.left),a.right=mi(s.right),a.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",a.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=mi(l)),h&&(a.maxWidth=mi(h))}this._lastBoundingBoxSize=s,Yo(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Yo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(a){const M=this._viewportRuler.getViewportScrollPosition();Yo(s,this._getExactOverlayY(n,i,M)),Yo(s,this._getExactOverlayX(n,i,M))}else s.position="static";let m="",_=this._getOffset(n,"x"),D=this._getOffset(n,"y");_&&(m+=`translateX(${_}px) `),D&&(m+=`translateY(${D}px)`),s.transform=m.trim(),h.maxHeight&&(a?s.maxHeight=mi(h.maxHeight):l&&(s.maxHeight="")),h.maxWidth&&(a?s.maxWidth=mi(h.maxWidth):l&&(s.maxWidth="")),Yo(this._pane.style,s)}_getExactOverlayY(i,n,s){let a={top:"",bottom:""},l=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=mi(l.y),a}_getExactOverlayX(i,n,s){let h,a={left:"",right:""},l=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),h=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===h?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=mi(l.x),a}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aw(i,s),isOriginOutsideView:$M(i,s),isOverlayClipped:aw(n,s),isOverlayOutsideView:$M(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,a)=>s-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Jc(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof o.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function Yo(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function Ar(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(cw);return n&&"px"!==n?null:parseFloat(i)}return r||null}function $l(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class H_{constructor(i,n,s,a,l,h,m){this._preferredPositions=[],this._positionStrategy=new co(s,a,l,h,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,a){const l=new HI(i,n,s,a);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const Gs="cdk-global-overlay-wrapper";class uw{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(Gs),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:h,maxHeight:m}=s,_=!("100%"!==a&&"100vw"!==a||h&&"100%"!==h&&"100vw"!==h),D=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);i.position=this._cssPosition,i.marginLeft=_?"0":this._leftOffset,i.marginTop=D?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,_?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(Gs),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let sh=(()=>{class r{constructor(n,s,a,l){this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new uw}connectedTo(n,s,a){return new H_(s,a,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new co(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(pr),o.LFG(Z),o.LFG(It),o.LFG(nl))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(pr),o.LFG(Z),o.LFG(It),o.LFG(nl))},token:r,providedIn:"root"}),r})(),oh=0,Li=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=m,this._ngZone=_,this._document=D,this._directionality=M,this._location=A,this._outsideClickDispatcher=I}create(n){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),h=new zl(n);return h.direction=h.direction||this._directionality.value,new YI(l,s,a,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+oh++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new SM(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(UI),o.LFG(nl),o.LFG(o._Vd),o.LFG(sh),o.LFG(U_),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Z),o.LFG(mn),o.LFG(Ut),o.LFG(rh))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const uh={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let Ta=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Li,uh],imports:[[jr,Qa,tu],tu]}),r})();var QM=L(1555);function dw(...r){if(1===r.length){const i=r[0];if((0,Bl.k)(i))return kp(i,null);if((0,QM.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return kp(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return kp(r=1===r.length&&(0,Bl.k)(r[0])?r[0]:r,null).pipe((0,b.U)(n=>i(...n)))}return kp(r,null)}function kp(r,i){return new An.y(n=>{const s=r.length;if(0===s)return void n.complete();const a=new Array(s);let l=0,h=0;for(let m=0;m<s;m++){const _=(0,Bn.D)(r[m]);let D=!1;n.add(_.subscribe({next:M=>{D||(D=!0,h++),a[m]=M},error:M=>n.error(M),complete:()=>{l++,(l===s||!D)&&(h===s&&n.next(i?i.reduce((M,A,I)=>(M[A]=a[I],M),{}):a),n.complete())}}))}})}let hw=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Qsj),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r}),r})(),Wl=(()=>{class r extends hw{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,features:[o.qOj]}),r})();const Un=new o.OlP("NgValueAccessor"),eT={provide:Un,useExisting:(0,o.Gpc)(()=>jo),multi:!0},tT=new o.OlP("CompositionEventMode");let jo=(()=>{class r extends hw{constructor(n,s,a){super(n,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(tT,8))},r.\u0275dir=o.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&o.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[o._Bn([eT]),o.qOj]}),r})();function Jl(r){return null==r||0===r.length}function ZI(r){return null!=r&&"number"==typeof r.length}const xi=new o.OlP("NgValidators"),il=new o.OlP("NgAsyncValidators"),zI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(i){return function(r){return i=>{if(Jl(i.value)||Jl(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<r?{min:{min:r,actual:i.value}}:null}}(i)}static max(i){return function(r){return i=>{if(Jl(i.value)||Jl(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>r?{max:{max:r,actual:i.value}}:null}}(i)}static required(i){return function(r){return Jl(r.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(r){return!0===r.value?null:{required:!0}}(i)}static email(i){return function(r){return Jl(r.value)||zI.test(r.value)?null:{email:!0}}(i)}static minLength(i){return function(r){return i=>Jl(i.value)||!ZI(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(r){return i=>ZI(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(r){if(!r)return Ql;let i,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),i=new RegExp(n)):(n=r.toString(),i=r),s=>{if(Jl(s.value))return null;const a=s.value;return i.test(a)?null:{pattern:{requiredPattern:n,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return XI(i)}static composeAsync(i){return eR(i)}}function Ql(r){return null}function KI(r){return null!=r}function sT(r){const i=(0,o.QGY)(r)?(0,Bn.D)(r):r;return(0,o.CqO)(i),i}function oT(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function G_(r,i){return i.map(n=>n(r))}function aT(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function XI(r){if(!r)return null;const i=r.filter(KI);return 0==i.length?null:function(n){return oT(G_(n,i))}}function lT(r){return null!=r?XI(aT(r)):null}function eR(r){if(!r)return null;const i=r.filter(KI);return 0==i.length?null:function(n){return dw(G_(n,i).map(sT)).pipe((0,b.U)(oT))}}function mw(r){return null!=r?eR(aT(r)):null}function gw(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function tR(r){return r._rawValidators}function cT(r){return r._rawAsyncValidators}function Kl(r){return r?Array.isArray(r)?r:[r]:[]}function Y_(r,i){return Array.isArray(r)?r.includes(i):r===i}function _w(r,i){const n=Kl(i);return Kl(r).forEach(a=>{Y_(n,a)||n.push(a)}),n}function uT(r,i){return Kl(i).filter(n=>!Y_(r,n))}let yw=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=lT(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=mw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r}),r})(),dr=(()=>{class r extends yw{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,features:[o.qOj]}),r})();class fs extends yw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bw{constructor(i){this._cd=i}is(i){var n,s,a;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[i])}}let rl=(()=>{class r extends bw{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(fs,2))},r.\u0275dir=o.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[o.qOj]}),r})(),sl=(()=>{class r extends bw{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(dr,10))},r.\u0275dir=o.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[o.qOj]}),r})();function du(r,i){z_(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&$_(r,i)})}(r,i),function(r,i){const n=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&$_(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function Z_(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),Cw(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function hh(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function z_(r,i){const n=tR(r);null!==i.validator?r.setValidators(gw(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=cT(r);null!==i.asyncValidator?r.setAsyncValidators(gw(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const a=()=>r.updateValueAndValidity();hh(i._rawValidators,a),hh(i._rawAsyncValidators,a)}function Cw(r,i){let n=!1;if(null!==r){if(null!==i.validator){const a=tR(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.validator);l.length!==a.length&&(n=!0,r.setValidators(l))}}if(null!==i.asyncValidator){const a=cT(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.asyncValidator);l.length!==a.length&&(n=!0,r.setAsyncValidators(l))}}}const s=()=>{};return hh(i._rawValidators,s),hh(i._rawAsyncValidators,s),n}function $_(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Mw(r,i){z_(r,i)}function mT(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function Op(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const fh="VALID",J_="INVALID",hu="PENDING",ph="DISABLED";function mh(r){return(K_(r)?r.validators:r)||null}function Aw(r){return Array.isArray(r)?lT(r):r||null}function Q_(r,i){return(K_(i)?i.asyncValidators:r)||null}function kw(r){return Array.isArray(r)?mw(r):r||null}function K_(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class X_{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=Aw(this._rawValidators),this._composedAsyncValidatorFn=kw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===fh}get invalid(){return this.status===J_}get pending(){return this.status==hu}get disabled(){return this.status===ph}get enabled(){return this.status!==ph}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Aw(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=kw(i)}addValidators(i){this.setValidators(_w(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(_w(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(uT(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(uT(i,this._rawAsyncValidators))}hasValidator(i){return Y_(this._rawValidators,i)}hasAsyncValidator(i){return Y_(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=hu,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=ph,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=fh,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fh||this.status===hu)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ph:fh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=hu,this._hasOwnPendingAsyncValidator=!0;const n=sT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(a=>{s=s instanceof gh?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof ey&&s.at(a)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?ph:this.errors?J_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hu)?hu:this._anyControlsHaveStatus(J_)?J_:fh}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){K_(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fu extends X_{constructor(i=null,n,s){super(mh(n),Q_(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Op(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Op(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class gh extends X_{constructor(i,n,s){super(mh(n),Q_(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof fu?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((a,l)=>{s=n(s,a,l)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class ey extends X_{constructor(i,n,s){super(mh(n),Q_(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof fu?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const AB={provide:dr,useExisting:(0,o.Gpc)(()=>Ys)},Np=(()=>Promise.resolve(null))();let Ys=(()=>{class r extends dr{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new gh({},lT(n),mw(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Np.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),du(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Np.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),Op(this._directives,n)})}addFormGroup(n){Np.then(()=>{const s=this._findContainer(n.path),a=new gh({});Mw(a,n),s.registerControl(n.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Np.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){Np.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,mT(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(xi,10),o.Y36(il,10))},r.\u0275dir=o.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([AB]),o.qOj]}),r})(),ty=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const CT={provide:Un,useExisting:(0,o.Gpc)(()=>Iw),multi:!0};let Iw=(()=>{class r extends Wl{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=s=>{n(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,s){1&n&&o.NdJ("input",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},features:[o._Bn([CT]),o.qOj]}),r})(),ny=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const uo=new o.OlP("NgModelWithFormControlWarning"),MT={provide:dr,useExisting:(0,o.Gpc)(()=>Bi)};let Bi=(()=>{class r extends dr{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return du(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){Z_(n.control||null,n,!1),Op(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,mT(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,a=this.form.get(n.path);s!==a&&(Z_(s||null,n),a instanceof fu&&(du(a,n),n.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);Mw(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return Cw(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z_(this.form,this),this._oldForm&&Cw(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(xi,10),o.Y36(il,10))},r.\u0275dir=o.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([MT]),o.qOj,o.TTD]}),r})();const Pp={provide:fs,useExisting:(0,o.Gpc)(()=>Ea)};let Ea=(()=>{class r extends fs{constructor(n,s,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(r,i){if(!i)return null;let n,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===jo?n=l:function(r){return Object.getPrototypeOf(r.constructor)===Wl}(l)?s=l:a=l}),a||s||n||null}(0,l)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(r,i){return[...i.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(dr,13),o.Y36(xi,10),o.Y36(il,10),o.Y36(Un,10),o.Y36(uo,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([Pp]),o.qOj,o.TTD]}),r._ngModelWarningSentOnce=!1,r})(),VT=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[ny]]}),r})(),mR=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[VT]}),r})(),UT=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:uo,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[VT]}),r})(),ol=(()=>{class r{group(n,s=null){const a=this._reduceControls(n);let m,l=null,h=null;return null!=s&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(s)?(l=null!=s.validators?s.validators:null,h=null!=s.asyncValidators?s.asyncValidators:null,m=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,h=null!=s.asyncValidator?s.asyncValidator:null)),new gh(a,{asyncValidators:h,updateOn:m,validators:l})}control(n,s,a){return new fu(n,s,a)}array(n,s,a){const l=n.map(h=>this._createControl(h));return new ey(l,s,a)}_reduceControls(n){const s={};return Object.keys(n).forEach(a=>{s[a]=this._createControl(n[a])}),s}_createControl(n){return n instanceof fu||n instanceof gh||n instanceof ey?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,o.Yz7)({factory:function(){return new r},token:r,providedIn:UT}),r})();class ay extends Ei.L{notifyNext(i,n,s,a,l){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class HT extends Ei.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var GT=L(7444);function ly(r,i,n,s,a=new HT(r,n,s)){if(!a.closed)return i instanceof An.y?i.subscribe(a):(0,GT.s)(i)(a)}var cy=L(6693);const Gw={};function Lp(...r){let i,n;return(0,g_.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Bl.k)(r[0])&&(r=r[0]),(0,cy.n)(r,n).lift(new Yw(i))}class Yw{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new jw(i,this.resultSelector))}}class jw extends ay{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(Gw),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(ly(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const a=this.values,h=this.toRespond?a[s]===Gw?--this.toRespond:this.toRespond:0;a[s]=n,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const uy=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();function Bp(r){return new An.y(i=>{let n;try{n=r()}catch(a){return void i.error(a)}return(n?(0,Bn.D)(n):(0,R.c)()).subscribe(i)})}var bh=L(2441);function dy(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(a){return a.lift(new qw(r,i,n))}}class qw{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new FB(i,this.accumulator,this.seed,this.hasSeed))}}class FB extends Ei.L{constructor(i,n,s,a){super(i),this.accumulator=n,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function al(r){return function(n){const s=new YT(r),a=n.lift(s);return s.caught=a}}class YT{constructor(i){this.selector=i}call(i,n){return n.subscribe(new LB(i,this.selector,this.caught))}}class LB extends oi.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new oi.IY(this);this.add(s);const a=(0,oi.ft)(n,s);a!==s&&this.add(a)}}}var tt=L(9773);function vh(r,i){return(0,tt.zg)(r,i,1)}function Zw(r){return function(n){return 0===r?(0,R.c)():n.lift(new yR(r))}}class yR{constructor(i){if(this.total=i,this.total<0)throw new S}call(i,n){return n.subscribe(new hy(i,this.total))}}class hy extends Ei.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,a=this.count++;n.length<s?n.push(i):n[a%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const h=n++%s;i.next(a[h])}}i.complete()}}function jT(r=Ai){return i=>i.lift(new fy(r))}class fy{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new py(i,this.errorFactory))}}class py extends Ei.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function Ai(){return new uy}function bR(r=null){return i=>i.lift(new qT(r))}class qT{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new zw(i,this.defaultValue))}}class zw extends Ei.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ZT=L(4487);function Xl(r,i){const n=arguments.length>=2;return s=>s.pipe(r?vt((a,l)=>r(a,l,s)):ZT.y,P(1),n?bR(i):jT(()=>new uy))}var $T=L(1307);function my(r){return i=>i.lift(new vR(r))}class vR{constructor(i){this.callback=i}call(i,n){return n.subscribe(new wR(i,this.callback))}}class wR extends Ei.L{constructor(i,n){super(i),this.add(new At.w(n))}}class ll{constructor(i,n){this.id=i,this.url=n}}class mu extends ll{constructor(i,n,s="imperative",a=null){super(i,n),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vp extends ll{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class WT extends ll{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class CR extends ll{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gy extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JT extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QT extends ll{constructor(i,n,s,a,l){super(i,n),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KT extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DR extends ll{constructor(i,n,s,a){super(i,n),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wh{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ch{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MR{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TR{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ER{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XT{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $w{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class SR{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function gu(r){return new SR(r)}const eE="ngNavigationCancelingError";function Ww(r){const i=Error("NavigationCancelingError: "+r);return i[eE]=!0,i}function VB(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const a={};for(let l=0;l<s.length;l++){const h=s[l],m=r[l];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:r.slice(0,s.length),posParams:a}}function cl(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let a;for(let l=0;l<n.length;l++)if(a=n[l],!Jw(r[a],i[a]))return!1;return!0}function Jw(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((a,l)=>s[l]===a)}return r===i}function Up(r){return Array.prototype.concat.apply([],r)}function tE(r){return r.length>0?r[r.length-1]:null}function _r(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function Ss(r){return(0,o.CqO)(r)?r:(0,o.QGY)(r)?(0,Bn.D)(Promise.resolve(r)):(0,qe.of)(r)}const AR={exact:function Qw(r,i,n){if(!tc(r.segments,i.segments)||!_y(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!Qw(r.children[s],i.children[s],n))return!1;return!0},subset:rE},nE={exact:function(r,i){return cl(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>Jw(r[n],i[n]))},ignored:()=>!0};function iE(r,i,n){return AR[n.paths](r.root,i.root,n.matrixParams)&&nE[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function rE(r,i,n){return _u(r,i,i.segments,n)}function _u(r,i,n,s){if(r.segments.length>n.length){const a=r.segments.slice(0,n.length);return!(!tc(a,n)||i.hasChildren()||!_y(a,n,s))}if(r.segments.length===n.length){if(!tc(r.segments,n)||!_y(r.segments,n,s))return!1;for(const a in i.children)if(!r.children[a]||!rE(r.children[a],i.children[a],s))return!1;return!0}{const a=n.slice(0,r.segments.length),l=n.slice(r.segments.length);return!!(tc(r.segments,a)&&_y(r.segments,a,s)&&r.children[rn])&&_u(r.children[rn],i,l,s)}}function _y(r,i,n){return i.every((s,a)=>nE[n](r[a].parameters,s.parameters))}class ec{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return oE.serialize(this)}}class cn{constructor(i,n){this.segments=i,this.children=n,this.parent=null,_r(n,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gp(this)}}class Dh{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return cE(this)}}function tc(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class Hp{}class sE{parse(i){const n=new hE(i);return new ec(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){var r;return`${`/${Yp(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(a=>`${yy(n)}=${yy(a)}`).join("&"):`${yy(n)}=${yy(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${r=i.fragment,encodeURI(r)}`:""}`}}const oE=new sE;function Gp(r){return r.segments.map(i=>cE(i)).join("/")}function Yp(r,i){if(!r.hasChildren())return Gp(r);if(i){const n=r.children[rn]?Yp(r.children[rn],!1):"",s=[];return _r(r.children,(a,l)=>{l!==rn&&s.push(`${l}:${Yp(a,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return _r(r.children,(s,a)=>{a===rn&&(n=n.concat(i(s,a)))}),_r(r.children,(s,a)=>{a!==rn&&(n=n.concat(i(s,a)))}),n}(r,(s,a)=>a===rn?[Yp(r.children[rn],!1)]:[`${a}:${Yp(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[rn]?`${Gp(r)}/${n[0]}`:`${Gp(r)}/(${n.join("//")})`}}function aE(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yy(r){return aE(r).replace(/%3B/gi,";")}function Xw(r){return aE(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jp(r){return decodeURIComponent(r)}function lE(r){return jp(r.replace(/\+/g,"%20"))}function cE(r){return`${Xw(r.path)}${function(r){return Object.keys(r).map(i=>`;${Xw(i)}=${Xw(r[i])}`).join("")}(r.parameters)}`}const FR=/^[^\/()?;=#]+/;function by(r){const i=r.match(FR);return i?i[0]:""}const LR=/^[^=?&#]+/,uE=/^[^?&#]+/;class hE{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[rn]=new cn(i,n)),s}parseSegment(){const i=by(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Dh(jp(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=by(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const a=by(this.remaining);a&&(s=a,this.capture(s))}i[jp(n)]=jp(s)}parseQueryParam(i){const n=function(r){const i=r.match(LR);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const h=function(r){const i=r.match(uE);return i?i[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=lE(n),l=lE(s);if(i.hasOwnProperty(a)){let h=i[a];Array.isArray(h)||(h=[h],i[a]=h),h.push(l)}else i[a]=l}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=by(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=rn);const h=this.parseChildren();n[l]=1===Object.keys(h).length?h[rn]:new cn([],h),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class fE{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=qp(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=qp(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=vy(i,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return vy(i,this._root).map(n=>n.value)}}function qp(r,i){if(r===i.value)return i;for(const n of i.children){const s=qp(r,n);if(s)return s}return null}function vy(r,i){if(r===i.value)return[i];for(const n of i.children){const s=vy(r,n);if(s.length)return s.unshift(i),s}return[]}class ul{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zp(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class wy extends fE{constructor(i,n){super(i),this.snapshot=n,Dy(this,i)}toString(){return this.snapshot.toString()}}function Cy(r,i){const n=function(r,i){const h=new Mh([],{},{},"",{},rn,i,null,r.root,-1,{});return new gE("",new ul(h,[]))}(r,i),s=new si([new Dh("",{})]),a=new si({}),l=new si({}),h=new si({}),m=new si(""),_=new fo(s,a,h,m,l,rn,i,n.root);return _.snapshot=n.root,new wy(new ul(_,[]),n)}class fo{constructor(i,n,s,a,l,h,m,_){this.url=i,this.params=n,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,b.U)(i=>gu(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,b.U)(i=>gu(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mE(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const a=n[s],l=n[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class Mh{constructor(i,n,s,a,l,h,m,_,D,M,A){this.url=i,this.params=n,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=M,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gE extends fE{constructor(i,n){super(n),this.url=i,Dy(this,n)}toString(){return _E(this._root)}}function Dy(r,i){i.value._routerState=r,i.children.forEach(n=>Dy(r,n))}function _E(r){const i=r.children.length>0?` { ${r.children.map(_E).join(", ")} } `:"";return`${r.value}${i}`}function My(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,cl(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),cl(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!cl(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),cl(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function Ty(r,i){return cl(r.params,i.params)&&function(r,i){return tc(r,i)&&r.every((n,s)=>cl(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||Ty(r.parent,i.parent))}function eC(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const a=function(r,i,n){return i.children.map(s=>{for(const a of n.children)if(r.shouldReuseRoute(s.value,a.value.snapshot))return eC(r,s,a);return eC(r,s)})}(r,i,n);return new ul(s,a)}{if(r.shouldAttach(i.value)){const l=r.retrieve(i.value);if(null!==l){const h=l.route;return bE(i,h),h}}const s=function(r){return new fo(new si(r.url),new si(r.params),new si(r.queryParams),new si(r.fragment),new si(r.data),r.outlet,r.component,r)}(i.value),a=i.children.map(l=>eC(r,l));return new ul(s,a)}}function bE(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)bE(r.children[n],i.children[n])}function bu(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function zp(r){return"object"==typeof r&&null!=r&&r.outlets}function nc(r,i,n,s,a){let l={};return s&&_r(s,(h,m)=>{l[m]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),new ec(n.root===r?i:vE(n.root,r,i),l,a)}function vE(r,i,n){const s={};return _r(r.children,(a,l)=>{s[l]=a===i?n:vE(a,i,n)}),new cn(r.segments,s)}class UR{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&bu(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(zp);if(a&&a!==tE(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class po{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function CE(r,i,n){if(r||(r=new cn([],{})),0===r.segments.length&&r.hasChildren())return Sy(r,i,n);const s=function(r,i,n){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<r.segments.length;){if(s>=n.length)return l;const h=r.segments[a],m=n[s];if(zp(m))break;const _=`${m}`,D=s<n.length-1?n[s+1]:null;if(a>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!xy(_,D,h))return l;s+=2}else{if(!xy(_,{},h))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(r,i,n),a=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const l=new cn(r.segments.slice(0,s.pathIndex),{});return l.children[rn]=new cn(r.segments.slice(s.pathIndex),r.children),Sy(l,0,a)}return s.match&&0===a.length?new cn(r.segments,{}):s.match&&!r.hasChildren()?nC(r,i,n):s.match?Sy(r,0,a):nC(r,i,n)}function Sy(r,i,n){if(0===n.length)return new cn(r.segments,{});{const s=function(r){return zp(r[0])?r[0].outlets:{[rn]:r}}(n),a={};return _r(s,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=CE(r.children[h],i,l))}),_r(r.children,(l,h)=>{void 0===s[h]&&(a[h]=l)}),new cn(r.segments,a)}}function nC(r,i,n){const s=r.segments.slice(0,i);let a=0;for(;a<n.length;){const l=n[a];if(zp(l)){const _=GR(l.outlets);return new cn(s,_)}if(0===a&&bu(n[0])){s.push(new Dh(r.segments[i].path,DE(n[0]))),a++;continue}const h=zp(l)?l.outlets[rn]:`${l}`,m=a<n.length-1?n[a+1]:null;h&&m&&bu(m)?(s.push(new Dh(h,DE(m))),a+=2):(s.push(new Dh(h,{})),a++)}return new cn(s,{})}function GR(r){const i={};return _r(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=nC(new cn([],{}),0,n))}),i}function DE(r){const i={};return _r(r,(n,s)=>i[s]=`${n}`),i}function xy(r,i,n){return r==n.path&&cl(i,n.parameters)}class iC{constructor(i,n,s,a){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=a}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),My(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const a=Zp(n);i.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],s),delete a[h]}),_r(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,n,s){const a=i.value,l=n?n.value:null;if(a===l)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(i,n,h.children)}else this.deactivateChildRoutes(i,n,s);else l&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),a=s&&i.value.component?s.children:n,l=Zp(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const a=Zp(n);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new XT(l.value.snapshot))}),i.children.length&&this.forwardEvent(new TR(i.value.snapshot))}activateRoutes(i,n,s){const a=i.value,l=n?n.value:null;if(My(a),a===l)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,n,h.children)}else this.activateChildRoutes(i,n,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),rC(m.route)}else{const m=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(a.snapshot),_=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=_,h.outlet&&h.outlet.activateWith(a,_),this.activateChildRoutes(i,null,h.children)}}else this.activateChildRoutes(i,null,s)}}function rC(r){My(r.value),r.children.forEach(rC)}class TE{constructor(i,n){this.routes=i,this.module=n}}function ic(r){return"function"==typeof r}function vu(r){return r instanceof ec}const $p=Symbol("INITIAL_VALUE");function Th(){return pn(r=>Lp(r.map(i=>i.pipe(P(1),zt($p)))).pipe(dy((i,n)=>{let s=!1;return n.reduce((a,l,h)=>a!==$p?a:(l===$p&&(s=!0),s||!1!==l&&h!==n.length-1&&!vu(l)?a:l),i)},$p),vt(i=>i!==$p),(0,b.U)(i=>vu(i)?i:!0===i),P(1)))}let Wp=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&o._UZ(0,"router-outlet")},directives:function(){return[nm]},encapsulation:2}),r})();function AE(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];kE(s,Ay(i,s))}}function kE(r,i){r.children&&AE(r.children,i)}function Ay(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function Eh(r){const i=r.children&&r.children.map(Eh),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==rn&&(n.component=Wp),n}function qr(r){return r.outlet||rn}function IE(r,i){const n=r.filter(s=>qr(s)===i);return n.push(...r.filter(s=>qr(s)!==i)),n}const RE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sC(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},RE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(i.matcher||VB)(n,r,i);if(!l)return Object.assign({},RE);const h={};_r(l.posParams,(_,D)=>{h[D]=_.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function ky(r,i,n,s,a="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>Iy(r,i,s)&&qr(s)!==rn)}(r,n,s)){const h=new cn(i,function(r,i,n,s){const a={};a[rn]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const l of n)if(""===l.path&&qr(l)!==rn){const h=new cn([],{});h._sourceSegment=r,h._segmentIndexShift=i.length,a[qr(l)]=h}return a}(r,i,s,new cn(n,r.children)));return h._sourceSegment=r,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>Iy(r,i,s))}(r,n,s)){const h=new cn(r.segments,function(r,i,n,s,a,l){const h={};for(const m of s)if(Iy(r,n,m)&&!a[qr(m)]){const _=new cn([],{});_._sourceSegment=r,_._segmentIndexShift="legacy"===l?r.segments.length:i.length,h[qr(m)]=_}return Object.assign(Object.assign({},a),h)}(r,i,n,s,r.children,a));return h._sourceSegment=r,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:n}}const l=new cn(r.segments,r.children);return l._sourceSegment=r,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:n}}function Iy(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function OE(r,i,n,s){return!!(qr(r)===s||s!==rn&&Iy(i,n,r))&&("**"===r.path||sC(i,r,n).matched)}function NE(r,i,n){return 0===i.length&&!r.children[n]}class Jp{constructor(i){this.segmentGroup=i||null}}class JR{constructor(i){this.urlTree=i}}function Ry(r){return new An.y(i=>i.error(new Jp(r)))}function Sh(r){return new An.y(i=>i.error(new JR(r)))}function QR(r){return new An.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class Oy{constructor(i,n,s,a,l){this.configLoader=n,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(o.h0i)}apply(){const i=ky(this.urlTree.root,[],[],this.config).segmentGroup,n=new cn(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,rn).pipe((0,b.U)(l=>this.createUrlTree(Ny(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(al(l=>{if(l instanceof JR)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Jp?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,rn).pipe((0,b.U)(a=>this.createUrlTree(Ny(a),i.queryParams,i.fragment))).pipe(al(a=>{throw a instanceof Jp?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const a=i.segments.length>0?new cn([],{[rn]:i}):i;return new ec(a,n,s)}expandSegmentGroup(i,n,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,b.U)(l=>new cn([],l))):this.expandSegment(i,s,n,s.segments,a,!0)}expandChildren(i,n,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Bn.D)(a).pipe(vh(l=>{const h=s.children[l],m=IE(n,l);return this.expandSegmentGroup(i,m,h,l).pipe((0,b.U)(_=>({segment:_,outlet:l})))}),dy((l,h)=>(l[h.outlet]=h.segment,l),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?vt((a,l)=>r(a,l,s)):ZT.y,Zw(1),n?bR(i):jT(()=>new uy))}())}expandSegment(i,n,s,a,l,h){return(0,Bn.D)(s).pipe(vh(m=>this.expandSegmentAgainstRoute(i,n,s,m,a,l,h).pipe(al(D=>{if(D instanceof Jp)return(0,qe.of)(null);throw D}))),Xl(m=>!!m),al((m,_)=>{if(m instanceof uy||"EmptyError"===m.name){if(NE(n,a,l))return(0,qe.of)(new cn([],{}));throw new Jp(n)}throw m}))}expandSegmentAgainstRoute(i,n,s,a,l,h,m){return OE(a,n,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,n,a,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h):Ry(n):Ry(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Sh(l):this.lineralizeSegments(s,l).pipe((0,tt.zg)(h=>{const m=new cn(h,{});return this.expandSegment(i,m,n,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,a,l,h){const{matched:m,consumedSegments:_,lastChild:D,positionalParamSegments:M}=sC(n,a,l);if(!m)return Ry(n);const A=this.applyRedirectCommands(_,a.redirectTo,M);return a.redirectTo.startsWith("/")?Sh(A):this.lineralizeSegments(a,A).pipe((0,tt.zg)(I=>this.expandSegment(i,n,s,I.concat(l.slice(D)),h,!1)))}matchSegmentAgainstRoute(i,n,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,b.U)(I=>(s._loadedConfig=I,new cn(a,{})))):(0,qe.of)(new cn(a,{}));const{matched:h,consumedSegments:m,lastChild:_}=sC(n,s,a);if(!h)return Ry(n);const D=a.slice(_);return this.getChildConfig(i,s,a).pipe((0,tt.zg)(A=>{const I=A.module,O=A.routes,{segmentGroup:B,slicedSegments:$}=ky(n,m,D,O),ae=new cn(B.segments,B.children);if(0===$.length&&ae.hasChildren())return this.expandChildren(I,O,ae).pipe((0,b.U)(We=>new cn(m,We)));if(0===O.length&&0===$.length)return(0,qe.of)(new cn(m,{}));const Re=qr(s)===l;return this.expandSegment(I,ae,O,$,Re?rn:l,!0).pipe((0,b.U)(He=>new cn(m.concat(He.segments),He.children)))}))}getChildConfig(i,n,s){return n.children?(0,qe.of)(new TE(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,qe.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,tt.zg)(a=>{return a?this.configLoader.load(i.injector,n).pipe((0,b.U)(l=>(n._loadedConfig=l,l))):(r=n,new An.y(i=>i.error(Ww(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,qe.of)(new TE([],i))}runCanLoadGuards(i,n,s){const a=n.canLoad;if(!a||0===a.length)return(0,qe.of)(!0);const l=a.map(h=>{const m=i.get(h);let _;if((r=m)&&ic(r.canLoad))_=m.canLoad(n,s);else{if(!ic(m))throw new Error("Invalid CanLoad guard");_=m(n,s)}var r;return Ss(_)});return(0,qe.of)(l).pipe(Th(),(0,$n.b)(h=>{if(!vu(h))return;const m=Ww(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,b.U)(h=>!0===h))}lineralizeSegments(i,n){let s=[],a=n.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,qe.of)(s);if(a.numberOfChildren>1||!a.children[rn])return QR(i.redirectTo);a=a.children[rn]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,a){const l=this.createSegmentGroup(i,n.root,s,a);return new ec(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return _r(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);s[l]=n[m]}else s[l]=a}),s}createSegmentGroup(i,n,s,a){const l=this.createSegments(i,n.segments,s,a);let h={};return _r(n.children,(m,_)=>{h[_]=this.createSegmentGroup(i,m,s,a)}),new cn(l,h)}createSegments(i,n,s,a){return n.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,n,s){const a=s[n.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return a}findOrReturn(i,n){let s=0;for(const a of n){if(a.path===i.path)return n.splice(s),a;s++}return i}}function Ny(r){const i={};for(const s of Object.keys(r.children)){const l=Ny(r.children[s]);(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function(r){if(1===r.numberOfChildren&&r.children[rn]){const i=r.children[rn];return new cn(r.segments.concat(i.segments),i.children)}return r}(new cn(r.segments,i))}class tO{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Py{constructor(i,n){this.component=i,this.route=n}}function Fy(r,i,n){const s=r._root;return xh(s,i?i._root:null,n,[s.value])}function Ly(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function xh(r,i,n,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Zp(i);return r.children.forEach(h=>{(function(r,i,n,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=r.value,h=i?i.value:null,m=n?n.getContext(r.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const _=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!tc(r.url,i.url);case"pathParamsOrQueryParamsChange":return!tc(r.url,i.url)||!cl(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ty(r,i)||!cl(r.queryParams,i.queryParams);case"paramsChange":default:return!Ty(r,i)}}(h,l,l.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new tO(s)):(l.data=h.data,l._resolvedData=h._resolvedData),xh(r,i,l.component?m?m.children:null:n,s,a),_&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Py(m.outlet.component,h))}else h&&Ah(i,m,a),a.canActivateChecks.push(new tO(s)),xh(r,null,l.component?m?m.children:null:n,s,a)})(h,l[h.value.outlet],n,s.concat([h.value]),a),delete l[h.value.outlet]}),_r(l,(h,m)=>Ah(h,n.getContext(m),a)),a}function Ah(r,i,n){const s=Zp(r),a=r.value;_r(s,(l,h)=>{Ah(l,a.component?i?i.children.getContext(h):null:i,n)}),n.canDeactivateChecks.push(new Py(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class Qp{}function Tn(r){return new An.y(i=>i.error(r))}class kh{constructor(i,n,s,a,l,h){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const i=ky(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,rn);if(null===n)return null;const s=new Mh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ul(s,n),l=new gE(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const n=i.value,s=mE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const l of Object.keys(n.children)){const h=n.children[l],m=IE(i,l),_=this.processSegmentGroup(m,h,l);if(null===_)return null;s.push(..._)}const a=js(s);return a.sort((i,n)=>i.value.outlet===rn?-1:n.value.outlet===rn?1:i.value.outlet.localeCompare(n.value.outlet)),a}processSegment(i,n,s,a){for(const l of i){const h=this.processSegmentAgainstRoute(l,n,s,a);if(null!==h)return h}return NE(n,s,a)?[]:null}processSegmentAgainstRoute(i,n,s,a){if(i.redirectTo||!OE(i,n,s,a))return null;let l,h=[],m=[];if("**"===i.path){const O=s.length>0?tE(s).parameters:{};l=new Mh(s,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aC(i),qr(i),i.component,i,sc(n),oO(n)+s.length,lC(i))}else{const O=sC(n,i,s);if(!O.matched)return null;h=O.consumedSegments,m=s.slice(O.lastChild),l=new Mh(h,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aC(i),qr(i),i.component,i,sc(n),oO(n)+h.length,lC(i))}const _=(r=i).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:M}=ky(n,h,m,_.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);var r;if(0===M.length&&D.hasChildren()){const O=this.processChildren(_,D);return null===O?null:[new ul(l,O)]}if(0===_.length&&0===M.length)return[new ul(l,[])];const A=qr(i)===a,I=this.processSegment(_,D,M,A?rn:a);return null===I?null:[new ul(l,I)]}}function Bt(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function js(r){const i=[],n=new Set;for(const s of r){if(!Bt(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),n.add(a)):i.push(s)}for(const s of n){const a=js(s.children);i.push(new ul(s.value,a))}return i.filter(s=>!n.has(s))}function sc(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function oO(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function aC(r){return r.data||{}}function lC(r){return r.resolve||{}}function qs(r){return pn(i=>{const n=r(i);return n?(0,Bn.D)(n).pipe((0,b.U)(()=>i)):(0,qe.of)(i)})}class HE extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const Xp=new o.OlP("ROUTES");class Cu{constructor(i,n,s,a){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=a}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const a=this.loadModuleFactory(n.loadChildren).pipe((0,b.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);const h=l.create(i);return new TE(Up(h.injector.get(Xp,void 0,o.XFs.Self|o.XFs.Optional)).map(Eh),h)}),al(l=>{throw n._loader$=void 0,l}));return n._loader$=new bh.c(a,()=>new me.xQ).pipe((0,$T.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Bn.D)(this.loader.load(i)):Ss(i()).pipe((0,tt.zg)(n=>n instanceof o.YKP?(0,qe.of)(n):(0,Bn.D)(this.compiler.compileModuleAsync(n))))}}class em{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ih,this.attachRef=null}}class Ih{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new em,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class uO{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function GE(r){throw r}function cC(r,i,n){return i.parse("/")}function Rh(r,i){return(0,qe.of)(null)}const uC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class r{constructor(n,s,a,l,h,m,_,D){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new me.xQ,this.errorHandler=GE,this.malformedUriErrorHandler=cC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rh,afterPreactivation:Rh},this.urlHandlingStrategy=new uO,this.routeReuseStrategy=new HE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const I=h.get(o.R0b);this.isNgZoneEnabled=I instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new ec(new cn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cu(m,_,O=>this.triggerEvent(new wh(O)),O=>this.triggerEvent(new Ch(O))),this.routerState=Cy(this.currentUrlTree,this.rootComponentType),this.transitions=new si({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(vt(a=>0!==a.id),(0,b.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),pn(a=>{let l=!1,h=!1;return(0,qe.of)(a).pipe((0,$n.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pn(m=>{const _=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),D=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(Mu(m.source)&&(this.browserUrlTree=m.rawUrl),D)return(0,qe.of)(m).pipe(pn(M=>{const A=this.transitions.getValue();return s.next(new mu(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),A!==this.transitions.getValue()?R.E:Promise.resolve(M)}),function(r,i,n,s){return pn(a=>function(r,i,n,s,a){return new Oy(r,i,n,s,a).apply()}(r,i,n,a.extractedUrl,s).pipe((0,b.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$n.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(r,i,n,s,a){return(0,tt.zg)(l=>function(r,i,n,s,a="emptyOnly",l="legacy"){try{const h=new kh(r,i,n,s,a,l).recognize();return null===h?Tn(new Qp):(0,qe.of)(h)}catch(h){return Tn(h)}}(r,i,l.urlAfterRedirects,n(l.urlAfterRedirects),s,a).pipe((0,b.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$n.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const A=new gy(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);s.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:O,restoredState:B,extras:$}=m,ae=new mu(A,this.serializeUrl(I),O,B);s.next(ae);const Re=Cy(I,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},m),{targetSnapshot:Re,urlAfterRedirects:I,extras:Object.assign(Object.assign({},$),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),R.E}),qs(m=>{const{targetSnapshot:_,id:D,extractedUrl:M,rawUrl:A,extras:{skipLocationChange:I,replaceUrl:O}}=m;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:M,rawUrlTree:A,skipLocationChange:!!I,replaceUrl:!!O})}),(0,$n.b)(m=>{const _=new JT(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),(0,b.U)(m=>Object.assign(Object.assign({},m),{guards:Fy(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(r,i){return(0,tt.zg)(n=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=n;return 0===h.length&&0===l.length?(0,qe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,Bn.D)(r).pipe((0,tt.zg)(a=>function(r,i,n,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qe.of)(!0);const h=l.map(m=>{const _=Ly(m,i,a);let D;if(function(r){return r&&ic(r.canDeactivate)}(_))D=Ss(_.canDeactivate(r,i,n,s));else{if(!ic(_))throw new Error("Invalid CanDeactivate guard");D=Ss(_(r,i,n,s))}return D.pipe(Xl())});return(0,qe.of)(h).pipe(Th())}(a.component,a.route,n,i,s)),Xl(a=>!0!==a,!0))}(h,s,a,r).pipe((0,tt.zg)(m=>m&&function(r){return"boolean"==typeof r}(m)?function(r,i,n,s){return(0,Bn.D)(i).pipe(vh(a=>Vl(function(r,i){return null!==r&&i&&i(new MR(r)),(0,qe.of)(!0)}(a.route.parent,s),function(r,i){return null!==r&&i&&i(new ER(r)),(0,qe.of)(!0)}(a.route,s),function(r,i,n){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(h=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(h)).filter(h=>null!==h).map(h=>Bp(()=>{const m=h.guards.map(_=>{const D=Ly(_,h.node,n);let M;if(function(r){return r&&ic(r.canActivateChild)}(D))M=Ss(D.canActivateChild(s,r));else{if(!ic(D))throw new Error("Invalid CanActivateChild guard");M=Ss(D(s,r))}return M.pipe(Xl())});return(0,qe.of)(m).pipe(Th())}));return(0,qe.of)(l).pipe(Th())}(r,a.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,qe.of)(!0);const a=s.map(l=>Bp(()=>{const h=Ly(l,i,n);let m;if(function(r){return r&&ic(r.canActivate)}(h))m=Ss(h.canActivate(i,r));else{if(!ic(h))throw new Error("Invalid CanActivate guard");m=Ss(h(i,r))}return m.pipe(Xl())}));return(0,qe.of)(a).pipe(Th())}(r,a.route,n))),Xl(a=>!0!==a,!0))}(s,l,r,i):(0,qe.of)(m)),(0,b.U)(m=>Object.assign(Object.assign({},n),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,$n.b)(m=>{if(vu(m.guardsResult)){const D=Ww(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const _=new QT(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),vt(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),qs(m=>{if(m.guards.canActivateChecks.length)return(0,qe.of)(m).pipe((0,$n.b)(_=>{const D=new KT(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),pn(_=>{let D=!1;return(0,qe.of)(_).pipe(function(r,i){return(0,tt.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=n;if(!a.length)return(0,qe.of)(n);let l=0;return(0,Bn.D)(a).pipe(vh(h=>function(r,i,n,s){return function(r,i,n,s){const a=Object.keys(r);if(0===a.length)return(0,qe.of)({});const l={};return(0,Bn.D)(a).pipe((0,tt.zg)(h=>function(r,i,n,s){const a=Ly(r,i,s);return Ss(a.resolve?a.resolve(i,n):a(i,n))}(r[h],i,n,s).pipe((0,$n.b)(m=>{l[h]=m}))),Zw(1),(0,tt.zg)(()=>Object.keys(l).length===a.length?(0,qe.of)(l):R.E))}(r._resolve,r,i,s).pipe((0,b.U)(l=>(r._resolvedData=l,r.data=Object.assign(Object.assign({},r.data),mE(r,n).resolve),null)))}(h.route,s,r,i)),(0,$n.b)(()=>l++),Zw(1),(0,tt.zg)(h=>l===a.length?(0,qe.of)(n):R.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$n.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,$n.b)(_=>{const D=new DR(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),qs(m=>{const{targetSnapshot:_,id:D,extractedUrl:M,rawUrl:A,extras:{skipLocationChange:I,replaceUrl:O}}=m;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:M,rawUrlTree:A,skipLocationChange:!!I,replaceUrl:!!O})}),(0,b.U)(m=>{const _=function(r,i,n){const s=eC(r,i._root,n?n._root:void 0);return new wy(s,i)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:_})}),(0,$n.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((r,i,n)=>(0,b.U)(s=>(new iC(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,$n.b)({next(){l=!0},complete(){l=!0}}),my(()=>{if(!l&&!h){const m=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,m)):this.cancelNavigationTransition(a,m)}this.currentNavigation=null}),al(m=>{if(h=!0,function(r){return r&&r[eE]}(m)){const _=vu(m.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const D=new WT(a.id,this.serializeUrl(a.extractedUrl),m.message);s.next(D),_?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mu(a.source)};this.scheduleNavigation(M,"imperative",null,A,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new CR(a.id,this.serializeUrl(a.extractedUrl),m);s.next(_);try{a.resolve(this.errorHandler(m))}catch(D){a.reject(D)}}return R.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=s,m={replaceUrl:!0};if(l){const _=Object.assign({},l);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(m.state=_)}this.scheduleNavigation(h,a,l,m)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const a=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!a||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){AE(n),this.config=n.map(Eh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:_}=s,D=a||this.routerState.root,M=_?this.currentUrlTree.fragment:h;let A=null;switch(m){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function(r,i,n,s,a){if(0===n.length)return nc(i.root,i.root,i,s,a);const l=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new UR(!0,0,r);let i=0,n=!1;const s=r.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return _r(l.outlets,(_,D)=>{m[D]="string"==typeof _?_.split("/"):_}),[...a,{outlets:m}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?n=!0:".."===m?i++:""!=m&&a.push(m))}),a):[...a,l]},[]);return new UR(n,i,s)}(n);if(l.toRoot())return nc(i.root,new cn([],{}),i,s,a);const h=function(r,i,n){if(r.isAbsolute)return new po(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const l=n.snapshot._urlSegment;return new po(l,l===i.root,0)}const s=bu(r.commands[0])?0:1;return function(r,i,n){let s=r,a=i,l=n;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new po(s,!1,a-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(l,i,r),m=h.processChildren?Sy(h.segmentGroup,h.index,l.commands):CE(h.segmentGroup,h.index,l.commands);return nc(h.segmentGroup,m,i,s,a)}(D,this.currentUrlTree,n,A,null!=M?M:null)}navigateByUrl(n,s={skipLocationChange:!1}){const a=vu(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return s}isActive(n,s){let a;if(a=!0===s?Object.assign({},uC):!1===s?Object.assign({},YE):s,vu(n))return iE(this.currentUrlTree,n,a);const l=this.parseUrl(n);return iE(this.currentUrlTree,l,a)}removeEmptyProps(n){return Object.keys(n).reduce((s,a)=>{const l=n[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Vp(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,a,l,h){var m,_;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),M=Mu(s)&&D&&!Mu(D.source),O=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===n.toString();if(M&&O)return Promise.resolve(!0);let B,$,ae;h?(B=h.resolve,$=h.reject,ae=h.promise):ae=new Promise((He,We)=>{B=He,$=We});const Re=++this.navigationId;let Ve;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Ve=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Ve=0,this.setTransition({id:Re,targetPageId:Ve,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:B,reject:$,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(He=>Promise.reject(He))}setBrowserUrl(n,s){const a=this.urlSerializer.serialize(n),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(n,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const a=new WT(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(a),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.DyG),o.LFG(Hp),o.LFG(Ih),o.LFG(Ut),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function Mu(r){return"imperative"!==r}let tm=(()=>{class r{constructor(n,s,a){this.router=n,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new me.xQ,this.subscription=n.events.subscribe(l=>{l instanceof Vp&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,s,a,l,h){if(0!==n||s||a||l||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const m={skipLocationChange:Tu(this.skipLocationChange),replaceUrl:Tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tu(this.preserveFragment)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wn),o.Y36(fo),o.Y36(Ne))},r.\u0275dir=o.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,s){1&n&&o.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&(o.Ikx("href",s.href,o.LSH),o.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),r})();function Tu(r){return""===r||!!r}let nm=(()=>{class r{constructor(n,s,a,l,h){this.parentContexts=n,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||rn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const h=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,_=new dC(n,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ih),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},r.\u0275dir=o.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class dC{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===fo?this.route:i===Ih?this.childContexts:this.parent.get(i,n)}}class fO{}class Rt{preload(i,n){return(0,qe.of)(null)}}let pO=(()=>{class r{constructor(n,s,a,l,h){this.router=n,this.injector=l,this.preloadingStrategy=h,this.loader=new Cu(s,a,D=>n.triggerEvent(new wh(D)),D=>n.triggerEvent(new Ch(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(vt(n=>n instanceof Vp),vh(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(o.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(n,l)):l.children&&a.push(this.processRoutes(n,l.children));return(0,Bn.D)(a).pipe((0,Yd.J)(),(0,b.U)(l=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,qe.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,tt.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Wn),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(fO))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),Eu=(()=>{class r{constructor(n,s,a={}){this.router=n,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof mu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Vp&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof $w&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new $w(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Wn),o.LFG(Tl),o.LFG(void 0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Su=new o.OlP("ROUTER_CONFIGURATION"),jE=new o.OlP("ROUTER_FORROOT_GUARD"),QB=[Ut,{provide:Hp,useClass:sE},{provide:Wn,useFactory:function(r,i,n,s,a,l,h,m={},_,D){const M=new Wn(null,r,i,n,s,a,l,Up(h));return _&&(M.urlHandlingStrategy=_),D&&(M.routeReuseStrategy=D),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(m,M),m.enableTracing&&M.events.subscribe(A=>{var I,O;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(O=console.groupEnd)||void 0===O||O.call(console)}),M},deps:[Hp,Ih,Ut,o.zs3,o.v3s,o.Sil,Xp,Su,[class{},new o.FiY],[class{},new o.FiY]]},Ih,{provide:fo,useFactory:function(r){return r.routerState.root},deps:[Wn]},{provide:o.v3s,useClass:o.EAV},pO,Rt,class{preload(i,n){return n().pipe(al(()=>(0,qe.of)(null)))}},{provide:Su,useValue:{enableTracing:!1}}];function mO(){return new o.PXZ("Router",Wn)}let kr=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[QB,qE(n),{provide:jE,useFactory:hC,deps:[[Wn,new o.FiY,new o.tp0]]},{provide:Su,useValue:s||{}},{provide:Ne,useFactory:_O,deps:[W,[new o.tBr(Ie),new o.FiY],Su]},{provide:Eu,useFactory:gO,deps:[Wn,Tl,Su]},{provide:fO,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Rt},{provide:o.PXZ,multi:!0,useFactory:mO},[fC,{provide:o.ip1,multi:!0,useFactory:wO,deps:[fC]},{provide:ZE,useFactory:pC,deps:[fC]},{provide:o.tb,multi:!0,useExisting:ZE}]]}}static forChild(n){return{ngModule:r,providers:[qE(n)]}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(jE,8),o.LFG(Wn,8))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();function gO(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new Eu(r,i,n)}function _O(r,i,n={}){return n.useHash?new pt(r,i):new rt(r,i)}function hC(r){return"guarded"}function qE(r){return[{provide:o.deG,multi:!0,useValue:r},{provide:Xp,multi:!0,useValue:r}]}let fC=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new me.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(m=>s=m),l=this.injector.get(Wn),h=this.injector.get(Su);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(n){const s=this.injector.get(Su),a=this.injector.get(pO),l=this.injector.get(Eu),h=this.injector.get(Wn),m=this.injector.get(o.z2F);n===m.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.zs3))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();function wO(r){return r.appInitializer.bind(r)}function pC(r){return r.bootstrapListener.bind(r)}const ZE=new o.OlP("Router Initializer");var Jn=L(9126),go=L(8939),zE=(L(4828),L(4486)),Me=L(8239),Oh=L(5452),Gy=L(6034),xu=L(300),$t=L(4685),Au=function(r,i){return(Au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])})(r,i)};function $E(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var Je,WE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},JE=JE||{},Pt=WE||self;function Yy(){}function mC(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function im(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var gC="closure_uid_"+(1e9*Math.random()>>>0),QE=0;function EO(r,i,n){return r.call.apply(r.bind,arguments)}function SO(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(i,a)}}return function(){return r.apply(i,arguments)}}function Zr(r,i,n){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EO:SO).apply(null,arguments)}function _C(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function zr(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,a,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return i.prototype[a].apply(s,h)}}function Sa(){this.s=this.s,this.o=this.o}var AO={};Sa.prototype.s=!1,Sa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,gC)&&r[gC]||(r[gC]=++QE)}(this);delete AO[r]}},Sa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var KE=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},XE=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,a="string"==typeof r?r.split(""):r,l=0;l<s;l++)l in a&&i.call(n,a[l],l,r)};function eS(r){return Array.prototype.concat.apply([],arguments)}function jy(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function Nh(r){return/^[\s\xa0]*$/.test(r)}var $r,tS=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function tr(r,i){return-1!=r.indexOf(i)}function yr(r,i){return r<i?-1:r>i?1:0}e:{var _o=Pt.navigator;if(_o){var qy=_o.userAgent;if(qy){$r=qy;break e}}$r=""}function yC(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function bC(r){var i={};for(var n in r)i[n]=r[n];return i}var vC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wC(r,i){for(var n,s,a=1;a<arguments.length;a++){for(n in s=arguments[a])r[n]=s[n];for(var l=0;l<vC.length;l++)n=vC[l],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function CC(r){return CC[" "](r),r}CC[" "]=Yy;var DC,r,RO=tr($r,"Opera"),ku=tr($r,"Trident")||tr($r,"MSIE"),nS=tr($r,"Edge"),iS=nS||ku,rS=tr($r,"Gecko")&&!(tr($r.toLowerCase(),"webkit")&&!tr($r,"Edge"))&&!(tr($r,"Trident")||tr($r,"MSIE"))&&!tr($r,"Edge"),OO=tr($r.toLowerCase(),"webkit")&&!tr($r,"Edge");function Iu(){var r=Pt.document;return r?r.documentMode:void 0}e:{var Zy="",MC=(r=$r,rS?/rv:([^\);]+)(\)|;)/.exec(r):nS?/Edge\/([\d\.]+)/.exec(r):ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):OO?/WebKit\/(\S+)/.exec(r):RO?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(MC&&(Zy=MC?MC[1]:""),ku){var sS=Iu();if(null!=sS&&sS>parseFloat(Zy)){DC=String(sS);break e}}DC=Zy}var oS={};function NO(){return i=oS,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=tS(String(DC)).split("."),n=tS("9").split("."),s=Math.max(i.length,n.length),a=0;0==r&&a<s;a++){var l=i[a]||"",h=n[a]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;r=yr(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||yr(0==l[2].length,0==h[2].length)||yr(l[2],h[2]),l=l[3],h=h[3]}while(0==r)}return 0<=r}();var i}var lS=Pt.document&&ku&&(Iu()||parseInt(DC,10))||void 0,cS=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Pt.addEventListener("test",Yy,i),Pt.removeEventListener("test",Yy,i)}catch(n){}return r}();function Ir(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function sm(r,i){if(Ir.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(rS){e:{try{CC(i.nodeName);var a=!0;break e}catch(l){}a=!1}a||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:PO[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&sm.Z.h.call(this)}}Ir.prototype.h=function(){this.defaultPrevented=!0},zr(sm,Ir);var PO={2:"touch",3:"pen",4:"mouse"};sm.prototype.h=function(){sm.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var om="closure_listenable_"+(1e6*Math.random()|0),FO=0;function LO(r,i,n,s,a){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=a,this.key=++FO,this.ca=this.fa=!1}function zy(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function oc(r){this.src=r,this.g={},this.h=0}function $y(r,i){var n=i.type;if(n in r.g){var l,s=r.g[n],a=KE(s,i);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(zy(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function Wy(r,i,n,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.ca&&l.listener==i&&l.capture==!!n&&l.ia==s)return a}return-1}oc.prototype.add=function(r,i,n,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var h=Wy(r,i,s,a);return-1<h?(i=r[h],n||(i.fa=!1)):((i=new LO(i,this.src,l,!!s,a)).fa=n,r.push(i)),i};var Jy="closure_lm_"+(1e6*Math.random()|0),Qy={};function TC(r,i,n,s,a){if(s&&s.once)return SC(r,i,n,s,a);if(Array.isArray(i)){for(var l=0;l<i.length;l++)TC(r,i[l],n,s,a);return null}return n=kC(n),r&&r[om]?r.N(i,n,im(s)?!!s.capture:!!s,a):EC(r,i,n,!1,s,a)}function EC(r,i,n,s,a,l){if(!i)throw Error("Invalid event type");var h=im(a)?!!a.capture:!!a,m=Ru(r);if(m||(r[Jy]=m=new oc(r)),(n=m.add(i,n,s,h,l)).proxy)return n;if(s=function(){var i=VO;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)cS||(a=h),void 0===a&&(a=!1),r.addEventListener(i.toString(),s,a);else if(r.attachEvent)r.attachEvent(uS(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function SC(r,i,n,s,a){if(Array.isArray(i)){for(var l=0;l<i.length;l++)SC(r,i[l],n,s,a);return null}return n=kC(n),r&&r[om]?r.O(i,n,im(s)?!!s.capture:!!s,a):EC(r,i,n,!0,s,a)}function xC(r,i,n,s,a){if(Array.isArray(i))for(var l=0;l<i.length;l++)xC(r,i[l],n,s,a);else s=im(s)?!!s.capture:!!s,n=kC(n),r&&r[om]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=Wy(l=r.g[i],n,s,a))&&(zy(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete r.g[i],r.h--))):r&&(r=Ru(r))&&(i=r.g[i.toString()],r=-1,i&&(r=Wy(i,n,s,a)),(n=-1<r?i[r]:null)&&AC(n))}function AC(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[om])$y(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(uS(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=Ru(i))?($y(n,r),0==n.h&&(n.src=null,i[Jy]=null)):zy(r)}}}function uS(r){return r in Qy?Qy[r]:Qy[r]="on"+r}function VO(r,i){if(r.ca)r=!0;else{i=new sm(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&AC(r),r=n.call(s,i)}return r}function Ru(r){return(r=r[Jy])instanceof oc?r:null}var Ou="__closure_events_fn_"+(1e9*Math.random()>>>0);function kC(r){return"function"==typeof r?r:(r[Ou]||(r[Ou]=function(i){return r.handleEvent(i)}),r[Ou])}function nr(){Sa.call(this),this.i=new oc(this),this.P=this,this.I=null}function Qn(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Ir(i,r);else if(i instanceof Ir)i.target=i.target||r;else{var a=i;wC(i=new Ir(s,r),a)}if(a=!0,n)for(var l=n.length-1;0<=l;l--){var h=i.g=n[l];a=Ky(h,s,!0,i)&&a}if(a=Ky(h=i.g=r,s,!0,i)&&a,a=Ky(h,s,!1,i)&&a,n)for(l=0;l<n.length;l++)a=Ky(h=i.g=n[l],s,!1,i)&&a}function Ky(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,l=0;l<i.length;++l){var h=i[l];if(h&&!h.ca&&h.capture==n){var m=h.listener,_=h.ia||h.src;h.fa&&$y(r.i,h),a=!1!==m.call(_,s)&&a}}return a&&!s.defaultPrevented}zr(nr,Sa),nr.prototype[om]=!0,nr.prototype.removeEventListener=function(r,i,n,s){xC(this,r,i,n,s)},nr.prototype.M=function(){if(nr.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)zy(n[s]);delete r.g[i],r.h--}}this.I=null},nr.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},nr.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var Nu=Pt.JSON.stringify;function UO(){var r=dS,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var am,HO=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=GO.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),GO=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new IC},function(r){return r.reset()}),IC=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function RC(r){Pt.setTimeout(function(){throw r},0)}function Xy(r,i){am||function(){var r=Pt.Promise.resolve(void 0);am=function(){r.then(YO)}}(),NC||(am(),NC=!0),dS.add(r,i)}var NC=!1,dS=new HO;function YO(){for(var r;r=UO();){try{r.h.call(r.g)}catch(n){RC(n)}var i=GO;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}NC=!1}function eb(r,i){nr.call(this),this.h=r||1,this.g=i||Pt,this.j=Zr(this.kb,this),this.l=Date.now()}function tb(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function lm(r,i,n){if("function"==typeof r)n&&(r=Zr(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Zr(r.handleEvent,r)}return 2147483647<Number(i)?-1:Pt.setTimeout(r,i||0)}function PC(r){r.g=lm(function(){r.g=null,r.i&&(r.i=!1,PC(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}zr(eb,nr),(Je=eb.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(tb(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){eb.Z.M.call(this),tb(this),delete this.g};var hS=function(r){function i(n,s){var a=r.call(this)||this;return a.m=n,a.j=s,a.h=null,a.i=!1,a.g=null,a}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}Au(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:PC(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(Sa);function Ph(r){Sa.call(this),this.h=r,this.g={}}zr(Ph,Sa);var FC=[];function fS(r,i,n,s){Array.isArray(n)||(n&&(FC[0]=n.toString()),n=FC);for(var a=0;a<n.length;a++){var l=TC(i,n[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function LC(r){yC(r.g,function(i,n){this.g.hasOwnProperty(n)&&AC(i)},r),r.g={}}function cm(){this.g=!0}function Pu(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return Nu(n)}catch(m){return i}}(r,n)+(s?" "+s:"")})}Ph.prototype.M=function(){Ph.Z.M.call(this),LC(this)},Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cm.prototype.Aa=function(){this.g=!1},cm.prototype.info=function(){};var yo={},mS=null;function nb(){return mS=mS||new nr}function qO(r){Ir.call(this,yo.Ma,r)}function dl(r){var i=nb();Qn(i,new qO(i,r))}function gS(r,i){Ir.call(this,yo.STAT_EVENT,r),this.stat=i}function Rr(r){var i=nb();Qn(i,new gS(i,r))}function _S(r,i){Ir.call(this,yo.Na,r),this.size=i}function Fh(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){r()},i)}yo.Ma="serverreachability",zr(qO,Ir),yo.STAT_EVENT="statevent",zr(gS,Ir),yo.Na="timingevent",zr(_S,Ir);var ib={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function um(){}function VC(){}um.prototype.h=null;var rb,ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dm(){Ir.call(this,"d")}function bS(){Ir.call(this,"c")}function sb(){}function Lh(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new Ph(this),this.P=vS,this.W=new eb(r=iS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hm}function hm(){this.i=null,this.g="",this.h=!1}zr(dm,Ir),zr(bS,Ir),zr(sb,um),sb.prototype.g=function(){return new XMLHttpRequest},sb.prototype.i=function(){return{}},rb=new sb;var vS=45e3,UC={},Bh={};function fm(r,i,n){r.K=1,r.v=zC(hl(i)),r.s=n,r.U=!0,wS(r,null)}function wS(r,i){r.F=Date.now(),Vh(r),r.A=hl(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),AS(n.h,"t",s),r.C=0,n=r.l.H,r.h=new hm,r.g=XC(r.l,n?i:null,!r.s),0<r.O&&(r.L=new hS(Zr(r.Ia,r,r.g),r.O)),fS(r.V,r.g,"readystatechange",r.gb),i=r.H?bC(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),dl(1),function(r,i,n,s,a,l){r.info(function(){if(r.g)if(l)for(var h="",m=l.split("&"),_=0;_<m.length;_++){var D=m[_].split("=");if(1<D.length){var M=D[0];D=D[1];var A=M.split("_");h=2<=A.length&&"type"==A[1]?h+(M+"=")+D+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+i+"\n"+n+"\n"+h})}(r.j,r.u,r.A,r.m,r.X,r.s)}function CS(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function HC(r,i,n){for(var a,s=!0;!r.I&&r.C<n.length;){if((a=DS(r,n))==Bh){4==i&&(r.o=4,Rr(14),s=!1),Pu(r.j,r.m,null,"[Incomplete Response]");break}if(a==UC){r.o=4,Rr(15),Pu(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Pu(r.j,r.m,a,null),GC(r,a)}CS(r)&&a!=Bh&&a!=UC&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,Rr(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),QC(i),i.L=!0,Rr(11))):(Pu(r.j,r.m,n,"[Invalid Chunked Response]"),Fu(r),Uh(r))}function DS(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?Bh:(n=Number(i.substring(n,s)),isNaN(n)?UC:(s+=1)+n>i.length?Bh:(i=i.substr(s,n),r.C=s+n,i))}function Vh(r){r.Y=Date.now()+r.P,MS(r,r.P)}function MS(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Fh(Zr(r.eb,r),i)}function pm(r){r.B&&(Pt.clearTimeout(r.B),r.B=null)}function Uh(r){0==r.l.G||r.I||mb(r.l,r)}function Fu(r){pm(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,tb(r.W),LC(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function GC(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||RS(n.i,r)))if(n.I=r.N,!r.J&&RS(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(ae){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(n.u)n.ta=a[1],0<n.ta-n.U&&37500>a[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fh(Zr(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;pb(n),Cm(n)}Mm(n),Rr(18)}if(1>=JO(n.i)&&n.ka){try{n.ka()}catch(ae){}n.ka=void 0}}else Vu(n,11)}else if((r.J||n.g==r)&&pb(n),!Nh(i))for(a=n.Ca.g.parse(i),i=0;i<a.length;i++){var l=a[i];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];var h=l[3];null!=h&&(n.ma=h,n.h.info("VER="+n.ma));var m=l[4];null!=m&&(n.za=m,n.h.info("SVER="+n.za));var _=l[5];null!=_&&"number"==typeof _&&0<_&&(n.K=s=1.5*_,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var D=r.g;if(D){var M=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var A=s.i;!A.g&&(tr(M,"spdy")||tr(M,"quic")||tr(M,"h2"))&&(A.j=A.l,A.g=new Set,A.h&&(OS(A,A.h),A.h=null))}if(s.D){var I=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(s.sa=I,_i(s.F,s.D,I))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var O=r;if((s=n).oa=KC(s,s.H?s.la:null,s.W),O.J){QO(s.i,O);var B=O,$=s.K;$&&B.setTimeout($),B.B&&(pm(B),Vh(B)),s.g=O}else jS(s);0<n.l.length&&JC(n)}else"stop"!=l[0]&&"close"!=l[0]||Vu(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Vu(n,7):US(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}dl(4)}catch(ae){}}function YC(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(mC(r)||"string"==typeof r)XE(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(mC(r)||"string"==typeof r){n=[];for(var s=r.length,a=0;a<s;a++)n.push(a)}else for(a in n=[],s=0,r)n[s++]=a;a=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(mC(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var l=0;l<a;l++)i.call(void 0,s[l],n&&n[l],r)}}function Lu(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Lu)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function ob(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];lc(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var a={};for(n=i=0;i<r.g.length;)lc(a,s=r.g[i])||(r.g[n++]=s,a[s]=1),i++;r.g.length=n}}function lc(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(Je=Lh.prototype).setTimeout=function(r){this.P=r},Je.gb=function(r){r=r.target;var i=this.L;i&&3==uc(r)?i.l():this.Ia(r)},Je.Ia=function(r){try{if(r==this.g)e:{var i=uc(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||iS||this.g&&(this.h.h||this.g.ga()||hb(this.g)))){this.I||4!=i||7==n||dl(8==n||0>=s?3:2),pm(this);var a=this.g.ba();this.N=a;t:if(CS(this)){var l=hb(this.g);r="";var h=l.length,m=4==uc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fu(this),Uh(this);var _="";break t}this.h.i=new Pt.TextDecoder}for(n=0;n<h;n++)this.h.h=!0,r+=this.h.i.decode(l[n],{stream:m&&n==h-1});l.splice(0,h),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==a,function(r,i,n,s,a,l,h){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+i+"\n"+n+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nh(D)){var A=D;break t}}A=null}if(!(a=A)){this.i=!1,this.o=3,Rr(12),Fu(this),Uh(this);break e}Pu(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GC(this,a)}this.U?(HC(this,i,_),iS&&this.i&&3==i&&(fS(this.V,this.W,"tick",this.fb),this.W.start())):(Pu(this.j,this.m,_,null),GC(this,_)),4==i&&Fu(this),this.i&&!this.I&&(4==i?mb(this.l,this):(this.i=!1,Vh(this)))}else 400==a&&0<_.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),Fu(this),Uh(this)}}}catch(I){}},Je.fb=function(){if(this.g){var r=uc(this.g),i=this.g.ga();this.C<i.length&&(pm(this),HC(this,r,i),this.i&&4!=r&&Vh(this))}},Je.cancel=function(){this.I=!0,Fu(this)},Je.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(dl(3),Rr(17)),Fu(this),this.o=2,Uh(this)):MS(this,this.Y-r)},(Je=Lu.prototype).R=function(){ob(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},Je.T=function(){return ob(this),this.g.concat()},Je.get=function(r,i){return lc(this.h,r)?this.h[r]:i},Je.set=function(r,i){lc(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},Je.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var a=n[s],l=this.get(a);r.call(i,l,a,this)}};var jC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bu(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Bu){this.g=void 0!==i?i:r.g,mm(this,r.j),this.s=r.s,qC(this,r.i),ZC(this,r.m),this.l=r.l,i=r.h;var n=new cb;n.i=i.i,i.g&&(n.g=new Lu(i.g),n.h=i.h),zO(this,n),this.o=r.o}else r&&(n=String(r).match(jC))?(this.g=!!i,mm(this,n[1]||"",!0),this.s=ab(n[2]||""),qC(this,n[3]||"",!0),ZC(this,n[4]),this.l=ab(n[5]||"",!0),zO(this,n[6]||"",!0),this.o=ab(n[7]||"")):(this.g=!!i,this.h=new cb(null,this.g))}function hl(r){return new Bu(r)}function mm(r,i,n){r.j=n?ab(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function qC(r,i,n){r.i=n?ab(i,!0):i}function ZC(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function zO(r,i,n){i instanceof cb?(r.h=i,function(r,i){i&&!r.j&&(cc(r),r.i=null,r.g.forEach(function(n,s){var a=s.toLowerCase();s!=a&&(SS(this,s),AS(this,a,n))},r)),r.j=i}(r.h,r.g)):(n||(i=lb(i,rV)),r.h=new cb(i,r.g))}function _i(r,i,n){r.h.set(i,n)}function zC(r){return _i(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ab(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function lb(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,tV),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function tV(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Bu.prototype.toString=function(){var r=[],i=this.j;i&&r.push(lb(i,ES,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(lb(i,ES,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(lb(n,"/"==n.charAt(0)?iV:nV,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",lb(n,$O)),r.join("")};var ES=/[#\/\?@]/g,nV=/[#\?:]/g,iV=/[#\?]/g,rV=/[#\?@]/g,$O=/#/g;function cb(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function cc(r){r.g||(r.g=new Lu,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),a=null;if(0<=s){var l=r[n].substring(0,s);a=r[n].substring(s+1)}else l=r[n];i(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function SS(r,i){cc(r),i=gm(r,i),lc(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,lc((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&ob(r)))}function xS(r,i){return cc(r),i=gm(r,i),lc(r.g.h,i)}function AS(r,i,n){SS(r,i),0<n.length&&(r.i=null,r.g.set(gm(r,i),jy(n)),r.h+=n.length)}function gm(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(Je=cb.prototype).add=function(r,i){cc(this),this.i=null,r=gm(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},Je.forEach=function(r,i){cc(this),this.g.forEach(function(n,s){XE(n,function(a){r.call(i,a,s,this)},this)},this)},Je.T=function(){cc(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var a=r[s],l=0;l<a.length;l++)n.push(i[s]);return n},Je.R=function(r){cc(this);var i=[];if("string"==typeof r)xS(this,r)&&(i=eS(i,this.g.get(gm(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=eS(i,r[n])}return i},Je.set=function(r,i){return cc(this),this.i=null,xS(this,r=gm(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},Je.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var h=a;""!==s[l]&&(h+="="+encodeURIComponent(String(s[l]))),r.push(h)}}return this.i=r.join("&")};var oV=function(i,n){this.h=i,this.g=n};function kS(r){this.l=r||WO,r=Pt.PerformanceNavigationTiming?0<(r=Pt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WO=10;function IS(r){return!!r.h||!!r.g&&r.g.size>=r.j}function JO(r){return r.h?1:r.g?r.g.size:0}function RS(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function OS(r,i){r.g?r.g.add(i):r.h=i}function QO(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function NS(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var a=$E(r.g.values()),l=a.next();!l.done;l=a.next())s=s.concat(l.value.D)}catch(m){i={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}return jy(r.i)}function PS(){}function KO(){this.g=new PS}function $C(r,i,n){var s=n||"";try{YC(r,function(a,l){var h=a;im(a)&&(h=Nu(a)),i.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw i.push(s+"type="+encodeURIComponent("_badmap")),a}}function _m(r,i,n,s,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(s)}catch(l){}}function ym(r){this.l=r.$b||null,this.j=r.ib||!1}function ub(r,i){nr.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=bm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kS.prototype.cancel=function(){var r,i;if(this.i=NS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=$E(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},PS.prototype.stringify=function(r){return Pt.JSON.stringify(r,void 0)},PS.prototype.parse=function(r){return Pt.JSON.parse(r,void 0)},zr(ym,um),ym.prototype.g=function(){return new ub(this.l,this.j)},ym.prototype.i=function(r){return function(){return r}}({}),zr(ub,nr);var bm=0;function WC(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Gh(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Yh(r)}function Yh(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Je=ub.prototype).open=function(r,i){if(this.readyState!=bm)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,Yh(this)},Je.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||Pt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gh(this)),this.readyState=bm},Je.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Yh(this)),this.g&&(this.readyState=3,Yh(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WC(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?Gh(this):Yh(this),3==this.readyState&&WC(this)}},Je.Ua=function(r){this.g&&(this.response=this.responseText=r,Gh(this))},Je.Ta=function(r){this.g&&(this.response=r,Gh(this))},Je.ha=function(){this.g&&Gh(this)},Je.setRequestHeader=function(r,i){this.v.append(r,i)},Je.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(ub.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var aV=Pt.JSON.parse;function Vi(r){nr.call(this),this.headers=new Lu,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vm,this.K=this.L=!1}zr(Vi,nr);var vm="",FS=/^https?$/i,lV=["POST","PUT"];function uV(r){return"content-type"==r.toLowerCase()}function LS(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,XO(r),db(r)}function XO(r){r.D||(r.D=!0,Qn(r,"complete"),Qn(r,"error"))}function wm(r){if(r.h&&void 0!==JE&&(!r.C[1]||4!=uc(r)||2!=r.ba()))if(r.v&&4==uc(r))lm(r.Fa,0,r);else if(Qn(r,"readystatechange"),4==uc(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var a;if(a=0===i){var l=String(r.H).match(jC)[1]||null;if(!l&&Pt.self&&Pt.self.location){var h=Pt.self.location.protocol;l=h.substr(0,h.length-1)}a=!FS.test(l?l.toLowerCase():"")}s=a}if(s)Qn(r,"complete"),Qn(r,"success");else{r.m=6;try{var m=2<uc(r)?r.g.statusText:""}catch(_){m=""}r.j=m+" ["+r.ba()+"]",XO(r)}}finally{db(r)}}}function db(r,i){if(r.g){eN(r);var n=r.g,s=r.C[0]?Yy:null;r.g=null,r.C=null,i||Qn(r,"ready");try{n.onreadystatechange=s}catch(a){}}}function eN(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Pt.clearTimeout(r.A),r.A=null)}function uc(r){return r.g?r.g.readyState:0}function hb(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case vm:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function BS(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return yC(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):_i(r,i,n))}function fb(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function VS(r){this.za=0,this.l=[],this.h=new cm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fb("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fb("baseRetryDelayMs",5e3,r),this.$a=fb("retryDelaySeedMs",1e4,r),this.Ya=fb("forwardChannelMaxRetries",2,r),this.ra=fb("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new kS(r&&r.concurrentRequestLimit),this.Ca=new KO,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function US(r){if(HS(r),3==r.G){var i=r.V++,n=hl(r.F);_i(n,"SID",r.J),_i(n,"RID",i),_i(n,"TYPE","terminate"),Dm(r,n),(i=new Lh(r,r.h,i,void 0)).K=2,i.v=zC(hl(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(i.v.toString(),"")),!n&&Pt.Image&&((new Image).src=i.v,n=!0),n||(i.g=XC(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Vh(i)}gb(r)}function Cm(r){r.g&&(QC(r),r.g.cancel(),r.g=null)}function HS(r){Cm(r),r.u&&(Pt.clearTimeout(r.u),r.u=null),pb(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Pt.clearTimeout(r.m),r.m=null)}function GS(r,i){r.l.push(new oV(r.Za++,i)),3==r.G&&JC(r)}function JC(r){IS(r.i)||r.m||(r.m=!0,Xy(r.Ha,r),r.C=0)}function jh(r,i){var n;n=i?i.m:r.V++;var s=hl(r.F);_i(s,"SID",r.J),_i(s,"RID",n),_i(s,"AID",r.U),Dm(r,s),r.o&&r.s&&BS(s,r.o,r.s),n=new Lh(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=YS(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),OS(r.i,n),fm(n,s,i)}function Dm(r,i){r.j&&YC({},function(n,s){_i(i,s,n)})}function YS(r,i,n){n=Math.min(r.l.length,n);var s=r.j?Zr(r.j.Oa,r.j,r):null;e:for(var a=r.l,l=-1;;){var h=["count="+n];-1==l?0<n?h.push("ofs="+(l=a[0].h)):l=0:h.push("ofs="+l);for(var m=!0,_=0;_<n;_++){var D=a[_].h,M=a[_].g;if(0>(D-=l))l=Math.max(0,a[_].h-100),m=!1;else try{$C(M,h,"req"+D+"_")}catch(A){s&&s(M)}}if(m){s=h.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function jS(r){r.g||r.u||(r.Y=1,Xy(r.Ga,r),r.A=0)}function Mm(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Fh(Zr(r.Ga,r),qS(r,r.A)),r.A++,0))}function QC(r){null!=r.B&&(Pt.clearTimeout(r.B),r.B=null)}function xs(r){r.g=new Lh(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=hl(r.oa);_i(i,"RID","rpc"),_i(i,"SID",r.J),_i(i,"CI",r.N?"0":"1"),_i(i,"AID",r.U),Dm(r,i),_i(i,"TYPE","xmlhttp"),r.o&&r.s&&BS(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=zC(hl(i)),n.s=null,n.U=!0,wS(n,r)}function pb(r){null!=r.v&&(Pt.clearTimeout(r.v),r.v=null)}function mb(r,i){var n=null;if(r.g==i){pb(r),QC(r),r.g=null;var s=2}else{if(!RS(r.i,i))return;n=i.D,QO(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var a=r.C;Qn(s=nb(),new _S(s,n,i,a)),JC(r)}else jS(r);else if(3==(a=i.o)||0==a&&0<r.I||!(1==s&&function(r,i){return!(JO(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Fh(Zr(r.Ha,r,i),qS(r,r.C)),r.C++,0)))}(r,i)||2==s&&Mm(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),a){case 1:Vu(r,5);break;case 4:Vu(r,10);break;case 3:Vu(r,6);break;default:Vu(r,2)}}function qS(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function Vu(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=Zr(r.jb,r);n||(n=new Bu("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||mm(n,"https"),zC(n)),function(r,i){var n=new cm;if(Pt.Image){var s=new Image;s.onload=_C(_m,n,s,"TestLoadImage: loaded",!0,i),s.onerror=_C(_m,n,s,"TestLoadImage: error",!1,i),s.onabort=_C(_m,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=_C(_m,n,s,"TestLoadImage: timeout",!1,i),Pt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else Rr(2);r.G=0,r.j&&r.j.va(i),gb(r),HS(r)}function gb(r){r.G=0,r.I=-1,r.j&&((0!=NS(r.i).length||0!=r.l.length)&&(r.i.i.length=0,jy(r.l),r.l.length=0),r.j.ua())}function KC(r,i,n){var s=function(r){return r instanceof Bu?hl(r):new Bu(r,void 0)}(n);if(""!=s.i)i&&qC(s,i+"."+s.i),ZC(s,s.m);else{var a=Pt.location;s=function(r,i,n,s){var a=new Bu(null,void 0);return r&&mm(a,r),i&&qC(a,i),n&&ZC(a,n),s&&(a.l=s),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,n)}return r.aa&&yC(r.aa,function(l,h){_i(s,h,l)}),n=r.sa,(i=r.D)&&n&&_i(s,i,n),_i(s,"VER",r.ma),Dm(r,s),s}function XC(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Vi(n&&r.Ba&&!r.qa?new ym({ib:!0}):r.qa)).L=r.H,i}function ZS(){}function Tm(){if(ku&&!(10<=Number(lS)))throw Error("Environmental error: no available transport.")}function As(r,i){nr.call(this),this.g=new VS(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!Nh(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Nh(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new dc(this)}function zS(r){dm.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function $S(){bS.call(this),this.status=1}function dc(r){this.g=r}(Je=Vi.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rb.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:rb),this.g.onreadystatechange=Zr(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(l){return void LS(this,l)}r=n||"";var a=new Lu(this.headers);s&&YC(s,function(l,h){a.set(h,l)}),s=function(r){e:{for(var i=uV,n=r.length,s="string"==typeof r?r.split(""):r,a=0;a<n;a++)if(a in s&&i.call(void 0,s[a],a,r)){i=a;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(a.T()),n=Pt.FormData&&r instanceof Pt.FormData,!(0<=KE(lV,i))||s||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eN(this),0<this.B&&((this.K=function(r){return ku&&NO()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.pa,this)):this.A=lm(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){LS(this,l)}},Je.pa=function(){void 0!==JE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},Je.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Qn(this,"complete"),Qn(this,"abort"),db(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),db(this,!0)),Vi.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?wm(this):this.cb())},Je.cb=function(){wm(this)},Je.ba=function(){try{return 2<uc(this)?this.g.status:-1}catch(r){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},Je.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),aV(i)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=VS.prototype).ma=8,Je.G=1,Je.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},Je.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new Lh(this,this.h,r,void 0),n=this.s;if(this.P&&(n?wC(n=bC(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,a=0;a<this.l.length;a++){var l=this.l[a];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(s+=l)){s=a;break e}if(4096===s||a===this.l.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=YS(this,i,s),_i(a=hl(this.F),"RID",r),_i(a,"CVER",22),this.D&&_i(a,"X-HTTP-Session-Id",this.D),Dm(this,a),this.o&&n&&BS(a,this.o,n),OS(this.i,i),this.Ra&&_i(a,"TYPE","init"),this.ja?(_i(a,"$req",s),_i(a,"SID","null"),i.$=!0,fm(i,a,null)):fm(i,a,s),this.G=2}}else 3==this.G&&(r?jh(this,r):0==this.l.length||IS(this.i)||jh(this))},Je.Ga=function(){if(this.u=null,xs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Fh(Zr(this.bb,this),r)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rr(10),Cm(this),xs(this))},Je.ab=function(){null!=this.v&&(this.v=null,Cm(this),Mm(this),Rr(19))},Je.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Rr(2)):(this.h.info("Failed to ping google.com"),Rr(1))},(Je=ZS.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},Tm.prototype.g=function(r,i){return new As(r,i)},zr(As,nr),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Xy(Zr(r.hb,r,i))),Rr(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=KC(r,null,r.W),JC(r)},As.prototype.close=function(){US(this.g)},As.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,GS(this.g,i)}else this.v?((i={}).__data__=Nu(r),GS(this.g,i)):GS(this.g,r)},As.prototype.M=function(){this.g.j=null,delete this.j,US(this.g),delete this.g,As.Z.M.call(this)},zr(zS,dm),zr($S,bS),zr(dc,ZS),dc.prototype.xa=function(){Qn(this.g,"a")},dc.prototype.wa=function(r){Qn(this.g,new zS(r))},dc.prototype.va=function(r){Qn(this.g,new $S(r))},dc.prototype.ua=function(){Qn(this.g,"b")},Tm.prototype.createWebChannel=Tm.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,ib.NO_ERROR=0,ib.TIMEOUT=8,ib.HTTP_ERROR=6,yS.COMPLETE="complete",VC.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",nr.prototype.listen=nr.prototype.N,Vi.prototype.listenOnce=Vi.prototype.O,Vi.prototype.getLastError=Vi.prototype.La,Vi.prototype.getLastErrorCode=Vi.prototype.Da,Vi.prototype.getStatus=Vi.prototype.ba,Vi.prototype.getResponseJson=Vi.prototype.Qa,Vi.prototype.getResponseText=Vi.prototype.ga,Vi.prototype.send=Vi.prototype.ea;var qh=ib,WS=yS,bo=yo,n1_PROXY=10,n1_NOPROXY=11,iN=ym,Em=VC,rN=Vi;class Or{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Sm="9.0.2";const hc=new xu.Yd("@firebase/firestore");function _b(){return hc.logLevel}function je(r,...i){if(hc.logLevel<=xu.in.DEBUG){const n=i.map(JS);hc.debug(`Firestore (${Sm}): ${r}`,...n)}}function Ui(r,...i){if(hc.logLevel<=xu.in.ERROR){const n=i.map(JS);hc.error(`Firestore (${Sm}): ${r}`,...n)}}function xm(r,...i){if(hc.logLevel<=xu.in.WARN){const n=i.map(JS);hc.warn(`Firestore (${Sm}): ${r}`,...n)}}function JS(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function dt(r="Unexpected state"){const i=`FIRESTORE (${Sm}) INTERNAL ASSERTION FAILED: `+r;throw Ui(i),new Error(i)}function St(r,i){r||dt()}function ze(r,i){return r}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class r1{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class aN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class lN{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fV{constructor(i){this.t=i,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let a=this.i;const l=D=>this.i!==a?(a=this.i,n(D)):Promise.resolve();let h=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ir,i.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const D=h;i.enqueueRetryable((0,Me.Z)(function*(){yield D.promise,yield l(s.currentUser)}))},_=D=>{je("FirebaseCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(je("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ir)}},0),m()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(je("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St("string"==typeof s.accessToken),new r1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return St(null===i||"string"==typeof i),new Or(i)}}class pV{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=Or.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class mV{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new pV(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ks{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function QS(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}ks.T=-1;class KS{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const a=QS(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=i.charAt(a[l]%i.length))}return s}}function un(r,i){return r<i?-1:r>i?1:0}function Zh(r,i,n){return r.length===i.length&&r.every((s,a)=>n(s,i[a]))}function XS(r){return r+"\0"}class hr{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return hr.fromMillis(Date.now())}static fromDate(i){return hr.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new hr(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?un(this.nanoseconds,i.nanoseconds):un(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Wt(i)}static min(){return new Wt(new hr(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cN(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function Uu(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function yb(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class ki{constructor(i,n,s){void 0===n?n=0:n>i.length&&dt(),void 0===s?s=i.length-n:s>i.length-n&&dt(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===ki.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof ki?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let a=0;a<s;a++){const l=i.get(a),h=n.get(a);if(l<h)return-1;if(l>h)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class In extends ki{construct(i,n,s){return new In(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new In(n)}static emptyPath(){return new In([])}}const ex=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends ki{construct(i,n,s){return new br(i,n,s)}static isValidIdentifier(i){return ex.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(i){const n=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Oe(ve.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<i.length;){const m=i[a];if("\\"===m){if(a+1===i.length)throw new Oe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const _=i[a+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=_,a+=2}else"`"===m?(h=!h,a++):"."!==m||h?(s+=m,a++):(l(),a++)}if(l(),h)throw new Oe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new br(n)}static emptyPath(){return new br([])}}class zh{constructor(i){this.fields=i,i.sort(br.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return Zh(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class vr{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new vr(n)}static fromUint8Array(i){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(i);return new vr(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return un(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(r){if(St(!!r),"string"==typeof r){let i=0;const n=uN.exec(r);if(St(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),i=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:Kn(r.seconds),nanos:Kn(r.nanos)}}function Kn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Hu(r){return"string"==typeof r?vr.fromBase64String(r):vr.fromUint8Array(r)}function Am(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vb(r){const i=r.mapValue.fields.__previous_value__;return Am(i)?vb(i):i}function km(r){const i=fl(r.mapValue.fields.__local_write_time__.timestampValue);return new hr(i.seconds,i.nanos)}function xa(r){return null==r}function wb(r){return 0===r&&1/r==-1/0}function Cb(r){return"number"==typeof r&&Number.isInteger(r)&&!wb(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class ct{constructor(i){this.path=i}static fromPath(i){return new ct(In.fromString(i))}static fromName(i){return new ct(In.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===In.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return In.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new ct(new In(i.slice()))}}function ci(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Am(r)?4:10:dt()}function pl(r,i){const n=ci(r);if(n!==ci(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return km(r).isEqual(km(i));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=fl(s.timestampValue),h=fl(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return a=i,Hu(r.bytesValue).isEqual(Hu(a.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,a){return Kn(s.geoPointValue.latitude)===Kn(a.geoPointValue.latitude)&&Kn(s.geoPointValue.longitude)===Kn(a.geoPointValue.longitude)}(r,i);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Kn(s.integerValue)===Kn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Kn(s.doubleValue),h=Kn(a.doubleValue);return l===h?wb(l)===wb(h):isNaN(l)&&isNaN(h)}return!1}(r,i);case 9:return Zh(r.arrayValue.values||[],i.arrayValue.values||[],pl);case 10:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(cN(l)!==cN(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!pl(l[m],h[m])))return!1;return!0}(r,i);default:return dt()}var a}function Im(r,i){return void 0!==(r.values||[]).find(n=>pl(n,i))}function $h(r,i){const n=ci(r),s=ci(i);if(n!==s)return un(n,s);switch(n){case 0:return 0;case 1:return un(r.booleanValue,i.booleanValue);case 2:return function(a,l){const h=Kn(a.integerValue||a.doubleValue),m=Kn(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(r,i);case 3:return dN(r.timestampValue,i.timestampValue);case 4:return dN(km(r),km(i));case 5:return un(r.stringValue,i.stringValue);case 6:return function(a,l){const h=Hu(a),m=Hu(l);return h.compareTo(m)}(r.bytesValue,i.bytesValue);case 7:return function(a,l){const h=a.split("/"),m=l.split("/");for(let _=0;_<h.length&&_<m.length;_++){const D=un(h[_],m[_]);if(0!==D)return D}return un(h.length,m.length)}(r.referenceValue,i.referenceValue);case 8:return function(a,l){const h=un(Kn(a.latitude),Kn(l.latitude));return 0!==h?h:un(Kn(a.longitude),Kn(l.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(a,l){const h=a.values||[],m=l.values||[];for(let _=0;_<h.length&&_<m.length;++_){const D=$h(h[_],m[_]);if(D)return D}return un(h.length,m.length)}(r.arrayValue,i.arrayValue);case 10:return function(a,l){const h=a.fields||{},m=Object.keys(h),_=l.fields||{},D=Object.keys(_);m.sort(),D.sort();for(let M=0;M<m.length&&M<D.length;++M){const A=un(m[M],D[M]);if(0!==A)return A;const I=$h(h[m[M]],_[D[M]]);if(0!==I)return I}return un(m.length,D.length)}(r.mapValue,i.mapValue);default:throw dt()}}function dN(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return un(r,i);const n=fl(r),s=fl(i),a=un(n.seconds,s.seconds);return 0!==a?a:un(n.nanos,s.nanos)}function Wh(r){return s1(r)}function s1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=fl(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Hu(r.bytesValue).toBase64():"referenceValue"in r?ct.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const h of s.values||[])l?l=!1:a+=",",a+=s1(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${s1(s.fields[m])}`;return l+"}"}(r.mapValue):dt();var i}function o1(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function tx(r){return!!r&&"integerValue"in r}function nx(r){return!!r&&"arrayValue"in r}function ix(r){return!!r&&"nullValue"in r}function rx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Db(r){return!!r&&"mapValue"in r}function Rm(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return Uu(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=Rm(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=Rm(r.arrayValue.values[n]);return i}return Object.assign({},r)}class Wr{constructor(i){this.value=i}static empty(){return new Wr({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!Db(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=Rm(n)}setAll(i){let n=br.emptyPath(),s={},a=[];i.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=Rm(h):a.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(i){const n=this.field(i.popLast());Db(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return pl(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let a=n.mapValue.fields[i.get(s)];Db(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(i,n,s){Uu(n,(a,l)=>i[a]=l);for(const a of s)delete i[a]}clone(){return new Wr(Rm(this.value))}}function hN(r){const i=[];return Uu(r.fields,(n,s)=>{const a=new br([n]);if(Db(s)){const l=hN(s.mapValue).fields;if(0===l.length)i.push(a);else for(const h of l)i.push(a.child(h))}else i.push(a)}),new zh(i)}class ui{constructor(i,n,s,a,l){this.key=i,this.documentType=n,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(i){return new ui(i,0,Wt.min(),Wr.empty(),0)}static newFoundDocument(i,n,s){return new ui(i,1,n,s,0)}static newNoDocument(i,n){return new ui(i,2,n,Wr.empty(),0)}static newUnknownDocument(i,n){return new ui(i,3,n,Wr.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof ui&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new ui(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fN{constructor(i,n=null,s=[],a=[],l=null,h=null,m=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.A=null}}function sx(r,i=null,n=[],s=[],a=null,l=null,h=null){return new fN(r,i,n,s,a,l,h)}function Mb(r){const i=ze(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+Wh(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),xa(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=Sb(i.startAt)),i.endAt&&(n+="|ub:",n+=Sb(i.endAt)),i.A=n}return i.A}function Tb(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!ax(r.orderBy[a],i.orderBy[a]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((n=r.filters[a]).op!==(s=i.filters[a]).op||!n.field.isEqual(s.field)||!pl(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!lx(r.startAt,i.startAt)&&lx(r.endAt,i.endAt)}function Eb(r){return ct.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ms extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new mN(i,n,s):"array-contains"===n?new _N(i,s):"in"===n?new yN(i,s):"not-in"===n?new _V(i,s):"array-contains-any"===n?new bN(i,s):new ms(i,n,s)}static R(i,n,s){return"in"===n?new zo(i,s):new gN(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P($h(n,this.value)):null!==n&&ci(this.value)===ci(n)&&this.P($h(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return dt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mN extends ms{constructor(i,n,s){super(i,n,s),this.key=ct.fromName(s.referenceValue)}matches(i){const n=ct.comparator(i.key,this.key);return this.P(n)}}class zo extends ms{constructor(i,n){super(i,"in",n),this.keys=ox(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class gN extends ms{constructor(i,n){super(i,"not-in",n),this.keys=ox(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function ox(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>ct.fromName(s.referenceValue))}class _N extends ms{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return nx(n)&&Im(n.arrayValue,this.value)}}class yN extends ms{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&Im(this.value.arrayValue,n)}}class _V extends ms{constructor(i,n){super(i,"not-in",n)}matches(i){if(Im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!Im(this.value.arrayValue,n)}}class bN extends ms{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!nx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Im(this.value.arrayValue,s))}}class Om{constructor(i,n){this.position=i,this.before=n}}function Sb(r){return`${r.before?"b":"a"}:${r.position.map(i=>Wh(i)).join(",")}`}class Aa{constructor(i,n="asc"){this.field=i,this.dir=n}}function ax(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function vN(r,i,n){let s=0;for(let a=0;a<r.position.length;a++){const l=i[a],h=r.position[a];if(s=l.field.isKeyField()?ct.comparator(ct.fromName(h.referenceValue),n.key):$h(h,n.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function lx(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pl(r.position[n],i.position[n]))return!1;return!0}class fc{constructor(i,n=null,s=[],a=[],l=null,h="F",m=null,_=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=_,this.V=null,this.S=null}}function wN(r,i,n,s,a,l,h,m){return new fc(r,i,n,s,a,l,h,m)}function Nm(r){return new fc(r)}function Jh(r){return!xa(r.limit)&&"F"===r.limitType}function xb(r){return!xa(r.limit)&&"L"===r.limitType}function a1(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function l1(r){for(const i of r.filters)if(i.v())return i.field;return null}function cx(r){return null!==r.collectionGroup}function Qh(r){const i=ze(r);if(null===i.V){i.V=[];const n=l1(i),s=a1(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new Aa(n)),i.V.push(new Aa(br.keyField(),"asc"));else{let a=!1;for(const l of i.explicitOrderBy)i.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new Aa(br.keyField(),l))}}}return i.V}function vo(r){const i=ze(r);if(!i.S)if("F"===i.limitType)i.S=sx(i.path,i.collectionGroup,Qh(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const l of Qh(i))n.push(new Aa(l.field,"desc"===l.dir?"asc":"desc"));const s=i.endAt?new Om(i.endAt.position,!i.endAt.before):null,a=i.startAt?new Om(i.startAt.position,!i.startAt.before):null;i.S=sx(i.path,i.collectionGroup,n,i.filters,i.limit,s,a)}return i.S}function ux(r,i,n){return new fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function gs(r,i){return Tb(vo(r),vo(i))&&r.limitType===i.limitType}function CN(r){return`${Mb(vo(r))}|lt:${r.limitType}`}function Ab(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${Wh(s.value)}`;var s}).join(", ")}]`),xa(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+Sb(r.startAt)),r.endAt&&(i+=", endAt: "+Sb(r.endAt)),`Target(${i})`}(vo(r))}; limitType=${r.limitType})`}function Pm(r,i){return i.isFoundDocument()&&function(n,s){const a=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ct.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,i)&&function(n,s){for(const a of n.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,i)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!vN(n.startAt,Qh(n),s)||n.endAt&&vN(n.endAt,Qh(n),s)));var n,s}function c1(r){return(i,n)=>{let s=!1;for(const a of Qh(r)){const l=dx(a,i,n);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function dx(r,i,n){const s=r.field.isKeyField()?ct.comparator(i.key,n.key):function(a,l,h){const m=l.data.field(a),_=h.data.field(a);return null!==m&&null!==_?$h(m,_):dt()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt()}}function u1(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wb(i)?"-0":i}}function kb(r){return{integerValue:""+r}}function Ib(r,i){return Cb(i)?kb(i):u1(r,i)}class Kh{constructor(){this._=void 0}}function Rb(r,i,n){return r instanceof Gu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,i):r instanceof Yu?hx(r,i):r instanceof pc?fx(r,i):function(s,a){const l=d1(s,a),h=px(l)+px(s.C);return tx(l)&&tx(s.C)?kb(h):u1(s.N,h)}(r,i)}function Ob(r,i,n){return r instanceof Yu?hx(r,i):r instanceof pc?fx(r,i):n}function d1(r,i){return r instanceof Xh?tx(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class Gu extends Kh{}class Yu extends Kh{constructor(i){super(),this.elements=i}}function hx(r,i){const n=Nb(i);for(const s of r.elements)n.some(a=>pl(a,s))||n.push(s);return{arrayValue:{values:n}}}class pc extends Kh{constructor(i){super(),this.elements=i}}function fx(r,i){let n=Nb(i);for(const s of r.elements)n=n.filter(a=>!pl(a,s));return{arrayValue:{values:n}}}class Xh extends Kh{constructor(i,n){super(),this.N=i,this.C=n}}function px(r){return Kn(r.integerValue||r.doubleValue)}function Nb(r){return nx(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Fm{constructor(i,n){this.field=i,this.transform=n}}class Lm{constructor(i,n){this.version=i,this.transformResults=n}}class yi{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new yi}static exists(i){return new yi(void 0,i)}static updateTime(i){return new yi(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Bm(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class ju{}function h1(r,i,n){r instanceof Vm?function(s,a,l){const h=s.value.clone(),m=_x(s.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,i,n):r instanceof mc?function(s,a,l){if(!Bm(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=_x(s.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(f1(s)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function Pb(r,i,n){var a;r instanceof Vm?function(s,a,l){if(!Bm(s.precondition,a))return;const h=s.value.clone(),m=yx(s.fieldTransforms,l,a);h.setAll(m),a.convertToFoundDocument(gx(a),h).setHasLocalMutations()}(r,i,n):r instanceof mc?function(s,a,l){if(!Bm(s.precondition,a))return;const h=yx(s.fieldTransforms,l,a),m=a.data;m.setAll(f1(s)),m.setAll(h),a.convertToFoundDocument(gx(a),m).setHasLocalMutations()}(r,i,n):Bm(r.precondition,a=i)&&a.convertToNoDocument(Wt.min())}function Fb(r,i){let n=null;for(const s of r.fieldTransforms){const a=i.data.field(s.field),l=d1(s.transform,a||null);null!=l&&(null==n&&(n=Wr.empty()),n.set(s.field,l))}return n||null}function mx(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&Zh(n,s,(a,l)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof Yu&&s instanceof Yu||n instanceof pc&&s instanceof pc?Zh(n.elements,s.elements,pl):n instanceof Xh&&s instanceof Xh?pl(n.C,s.C):n instanceof Gu&&s instanceof Gu);var n,s}(a,l))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function gx(r){return r.isFoundDocument()?r.version:Wt.min()}class Vm extends ju{constructor(i,n,s,a=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}}class mc extends ju{constructor(i,n,s,a,l=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function f1(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function _x(r,i,n){const s=new Map;St(r.length===n.length);for(let a=0;a<n.length;a++){const l=r[a],h=l.transform,m=i.data.field(l.field);s.set(l.field,Ob(h,m,n[a]))}return s}function yx(r,i,n){const s=new Map;for(const a of r){const l=a.transform,h=n.data.field(a.field);s.set(a.field,Rb(l,h,i))}return s}class Um extends ju{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class ka extends ju{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Hm{constructor(i){this.count=i}}var Ii,gn;function bx(r){switch(r){case ve.OK:return dt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return dt()}}function vx(r){if(void 0===r)return Ui("GRPC error has no .code"),ve.UNKNOWN;switch(r){case Ii.OK:return ve.OK;case Ii.CANCELLED:return ve.CANCELLED;case Ii.UNKNOWN:return ve.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return ve.INTERNAL;case Ii.UNAVAILABLE:return ve.UNAVAILABLE;case Ii.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Ii.NOT_FOUND:return ve.NOT_FOUND;case Ii.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Ii.ABORTED:return ve.ABORTED;case Ii.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Ii.DATA_LOSS:return ve.DATA_LOSS;default:return dt()}}(gn=Ii||(Ii={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Hi{constructor(i,n){this.comparator=i,this.root=n||wr.EMPTY}insert(i,n){return new Hi(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(i){return new Hi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,wr.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(i,s.key);if(0===a)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Lb(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Lb(this.root,i,this.comparator,!1)}getReverseIterator(){return new Lb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Lb(this.root,i,this.comparator,!0)}}class Lb{constructor(i,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!i.isEmpty();)if(l=n?s(i.key,n):1,a&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class wr{constructor(i,n,s,a,l){this.key=i,this.value=n,this.color=null!=s?s:wr.RED,this.left=null!=a?a:wr.EMPTY,this.right=null!=l?l:wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,a,l){return new wr(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let a=this;const l=s(i,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(i,n,s),null):0===l?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(i,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,a=this;if(n(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(i,a.key)){if(a.right.isEmpty())return wr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const i=this.left.check();if(i!==this.right.check())throw dt();return i+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1,wr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(r,i,n,s,a){return this}insert(r,i,n){return new wr(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(i){this.comparator=i,this.data=new Hi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,i[1])>=0)return;n(a.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new wx(this.data.getIterator())}getIteratorFrom(i){return new wx(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof bi)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new bi(this.comparator);return n.data=i,n}}class wx{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const DN=new Hi(ct.comparator);function wo(){return DN}const ml=new Hi(ct.comparator);function qu(){return ml}const ef=new Hi(ct.comparator);function Gm(){return ef}const tf=new bi(ct.comparator);function Pn(...r){let i=tf;for(const n of r)i=i.add(n);return i}const MN=new bi(un);function Bb(){return MN}class nf{constructor(i,n,s,a,l){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,rf.createSynthesizedTargetChangeForCurrentChange(i,n)),new nf(Wt.min(),s,Bb(),wo(),Pn())}}class rf{constructor(i,n,s,a,l){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(i,n){return new rf(vr.EMPTY_BYTE_STRING,n,Pn(),Pn(),Pn())}}class Ym{constructor(i,n,s,a){this.k=i,this.removedTargetIds=n,this.key=s,this.$=a}}class p1{constructor(i,n){this.targetId=i,this.O=n}}class Vb{constructor(i,n,s=vr.EMPTY_BYTE_STRING,a=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Cx{constructor(){this.F=0,this.M=gc(),this.L=vr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=Pn(),n=Pn(),s=Pn();return this.M.forEach((a,l)=>{switch(l){case 0:i=i.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:dt()}}),new rf(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=gc()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class TN{constructor(i){this.tt=i,this.et=new Map,this.nt=wo(),this.st=m1(),this.it=new bi(un)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:dt()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,a)=>{this.ht(a)&&n(a)})}ft(i){const n=i.targetId,s=i.O.count,a=this.dt(n);if(a){const l=a.target;if(Eb(l))if(0===s){const h=new ct(l.path);this.at(n,h,ui.newNoDocument(h,Wt.min()))}else St(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((l,h)=>{const m=this.dt(h);if(m){if(l.current&&Eb(m.target)){const _=new ct(m.target.path);null!==this.nt.get(_)||this.gt(h,_)||this.at(h,_,ui.newNoDocument(_,i))}l.K&&(n.set(h,l.W()),l.G())}});let s=Pn();this.st.forEach((l,h)=>{let m=!0;h.forEachWhile(_=>{const D=this.dt(_);return!D||2===D.purpose||(m=!1,!1)}),m&&(s=s.add(l))});const a=new nf(i,n,this.it,this.nt,s);return this.nt=wo(),this.st=m1(),this.it=new bi(un),a}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const a=this.ut(i);this.gt(i,n)?a.H(n,1):a.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new Cx,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new bi(un),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||je("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new Cx),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function m1(){return new Hi(ct.comparator)}function gc(){return new Hi(ct.comparator)}const g1={asc:"ASCENDING",desc:"DESCENDING"},EN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class SN{constructor(i,n){this.databaseId=i,this.D=n}}function Ub(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function xN(r,i){return r.D?i.toBase64():i.toUint8Array()}function yV(r,i){return Ub(r,i.toTimestamp())}function Nr(r){return St(!!r),Wt.fromTimestamp(function(i){const n=fl(i);return new hr(n.seconds,n.nanos)}(r))}function _1(r,i){return(n=r,new In(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function Dx(r){const i=In.fromString(r);return St(Ee(i)),i}function Hb(r,i){return _1(r.databaseId,i.path)}function gl(r,i){const n=Dx(i);if(n.get(1)!==r.databaseId.projectId)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(kN(n))}function Mx(r,i){return _1(r.databaseId,i)}function AN(r){const i=Dx(r);return 4===i.length?In.emptyPath():kN(i)}function jm(r){return new In(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kN(r){return St(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function IN(r,i,n){return{name:Hb(r,i),fields:n.value.mapValue.fields}}function RN(r,i,n){const s=gl(r,i.name),a=Nr(i.updateTime),l=new Wr({mapValue:{fields:i.fields}}),h=ui.newFoundDocument(s,a,l);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function u(r,i){let n;if(i instanceof Vm)n={update:IN(r,i.key,i.value)};else if(i instanceof Um)n={delete:Hb(r,i.key)};else if(i instanceof mc)n={update:IN(r,i.key,i.data),updateMask:Le(i.fieldMask)};else{if(!(i instanceof ka))return dt();n={verify:Hb(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(a,l){const h=l.transform;if(h instanceof Gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xh)return{fieldPath:l.field.canonicalString(),increment:h.C};throw dt()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:yV(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:dt()),n;var a}function d(r,i){const n=i.currentDocument?void 0!==(a=i.currentDocument).updateTime?yi.updateTime(Nr(a.updateTime)):void 0!==a.exists?yi.exists(a.exists):yi.none():yi.none(),s=i.updateTransforms?i.updateTransforms.map(a=>function(l,h){let m=null;"setToServerValue"in h?(St("REQUEST_TIME"===h.setToServerValue),m=new Gu):"appendMissingElements"in h?m=new Yu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new pc(h.removeAllFromArray.values||[]):"increment"in h?m=new Xh(l,h.increment):dt();const _=br.fromServerFormat(h.fieldPath);return new Fm(_,m)}(r,a)):[];var a;if(i.update){const a=gl(r,i.update.name),l=new Wr({mapValue:{fields:i.update.fields}});if(i.updateMask){const h=new zh((i.updateMask.fieldPaths||[]).map(D=>br.fromServerFormat(D)));return new mc(a,l,h,n,s)}return new Vm(a,l,n,s)}if(i.delete){const a=gl(r,i.delete);return new Um(a,n)}if(i.verify){const a=gl(r,i.verify);return new ka(a,n)}return dt()}function p(r,i){return{documents:[Mx(r,i.path)]}}function g(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=Mx(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=Mx(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(m){if(0===m.length)return;const _=m.map(D=>function(M){if("=="===M.op){if(rx(M.value))return{unaryFilter:{field:G(M.field),op:"IS_NAN"}};if(ix(M.value))return{unaryFilter:{field:G(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(rx(M.value))return{unaryFilter:{field:G(M.field),op:"IS_NOT_NAN"}};if(ix(M.value))return{unaryFilter:{field:G(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:G(M.field),op:F(M.op),value:M.value}}}(D));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(i.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(0!==m.length)return m.map(_=>{return{field:G((D=_).field),direction:N(D.dir)};var D})}(i.orderBy);l&&(n.structuredQuery.orderBy=l);const h=(_=i.limit,r.D||xa(_)?_:{value:_});var _;return null!==h&&(n.structuredQuery.limit=h),i.startAt&&(n.structuredQuery.startAt=x(i.startAt)),i.endAt&&(n.structuredQuery.endAt=x(i.endAt)),n}function v(r){let i=AN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){St(1===s);const M=n.from[0];M.allDescendants?a=M.collectionId:i=i.child(M.collectionId)}let l=[];n.where&&(l=E(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(M=>{return new Aa(K((A=M).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let m=null;n.limit&&(m=function(M){let A;return A="object"==typeof M?M.value:M,xa(A)?null:A}(n.limit));let _=null;n.startAt&&(_=k(n.startAt));let D=null;return n.endAt&&(D=k(n.endAt)),wN(i,a,h,l,m,"F",_,D)}function E(r){return r?void 0!==r.unaryFilter?[le(r)]:void 0!==r.fieldFilter?[ge(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>E(i)).reduce((i,n)=>i.concat(n)):dt():[]}function x(r){return{before:r.before,values:r.position}}function k(r){return new Om(r.values||[],!!r.before)}function N(r){return g1[r]}function F(r){return EN[r]}function G(r){return{fieldPath:r.canonicalString()}}function K(r){return br.fromServerFormat(r.fieldPath)}function ge(r){return ms.create(K(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return dt()}}(r.fieldFilter.op),r.fieldFilter.value)}function le(r){switch(r.unaryFilter.op){case"IS_NAN":const i=K(r.unaryFilter.field);return ms.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=K(r.unaryFilter.field);return ms.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=K(r.unaryFilter.field);return ms.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=K(r.unaryFilter.field);return ms.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return dt()}}function Le(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function Ee(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Ke(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=on(i)),i=xt(r.get(n),i);return on(i)}function xt(r,i){let n=i;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function on(r){return r+"\x01\x01"}function jn(r){const i=r.length;if(St(i>=2),2===i)return St("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),In.emptyPath();const n=i-2,s=[];let a="";for(let l=0;l<i;){const h=r.indexOf("\x01",l);switch((h<0||h>n)&&dt(),r.charAt(h+1)){case"\x01":const m=r.substring(l,h);let _;0===a.length?_=m:(a+=m,_=a,a=""),s.push(_);break;case"\x10":a+=r.substring(l,h),a+="\0";break;case"\x11":a+=r.substring(l,h+1);break;default:dt()}l=h+2}return new In(s)}class Co{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class Pr{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}Pr.store="owner",Pr.key="owner";class Zs{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Zs.store="mutationQueues",Zs.keyPath="userId";class Rn{constructor(i,n,s,a,l){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}Rn.store="mutations",Rn.keyPath="batchId",Rn.userMutationsIndex="userMutationsIndex",Rn.userMutationsKeyPath=["userId","batchId"];class Gi{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,Ke(n)]}static key(i,n,s){return[i,Ke(n),s]}}Gi.store="documentMutations",Gi.PLACEHOLDER=new Gi;class y1{constructor(i,n){this.path=i,this.readTime=n}}class b1{constructor(i,n){this.path=i,this.version=n}}class di{constructor(i,n,s,a,l,h){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}di.store="remoteDocuments",di.readTimeIndex="readTimeIndex",di.readTimeIndexPath="readTime",di.collectionReadTimeIndex="collectionReadTimeIndex",di.collectionReadTimeIndexPath=["parentPath","readTime"];class Do{constructor(i){this.byteSize=i}}Do.store="remoteDocumentGlobal",Do.key="remoteDocumentGlobalKey";class Jr{constructor(i,n,s,a,l,h,m){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Jr.store="targets",Jr.keyPath="targetId",Jr.queryTargetsIndexName="queryTargetsIndex",Jr.queryTargetsKeyPath=["canonicalId","targetId"];class ys{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}ys.store="targetDocuments",ys.keyPath=["targetId","path"],ys.documentTargetsIndex="documentTargetsIndex",ys.documentTargetsKeyPath=["path","targetId"];class $o{constructor(i,n,s,a){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}$o.key="targetGlobalKey",$o.store="targetGlobal";class qm{constructor(i,n){this.collectionId=i,this.parent=n}}qm.store="collectionParents",qm.keyPath=["collectionId","parent"];class Zu{constructor(i,n,s,a){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=a}}Zu.store="clientMetadata",Zu.keyPath="clientId";class Gb{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}Gb.store="bundles",Gb.keyPath="bundleId";class Yb{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}Yb.store="namedQueries",Yb.keyPath="name";const Rq=[Zs.store,Rn.store,Gi.store,di.store,Jr.store,Pr.store,$o.store,ys.store,Zu.store,Do.store,qm.store,Gb.store,Yb.store],vV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Pe{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Pe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(i,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Pe.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Pe.reject(n)}static resolve(i){return new Pe((n,s)=>{n(i)})}static reject(i){return new Pe((n,s)=>{s(i)})}static waitFor(i){return new Pe((n,s)=>{let a=0,l=0,h=!1;i.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&n()},_=>s(_))}),h=!0,l===a&&n()})}static or(i){let n=Pe.resolve(!1);for(const s of i)n=n.next(a=>a?Pe.resolve(a):s());return n}static forEach(i,n){const s=[];return i.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}}class Tx{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new ir,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new v1(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const a=ON(s.target.error);this.Tt.reject(new v1(i,a))}}static open(i,n,s,a){try{return new Tx(n,i.transaction(a,s))}catch(l){throw new v1(n,l)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(je("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new Nq(n)}}class _l{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===_l.Rt((0,$t.z$)())&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return je("SimpleDb","Removing database:",i),zm(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(_l.Pt())return!0;const i=(0,$t.z$)(),n=_l.Rt(i),s=0<n&&n<10,a=_l.vt(i),l=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||l)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,Me.Z)(function*(){return n.db||(je("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,a)=>{const l=indexedDB.open(n.name,n.version);l.onsuccess=h=>{s(h.target.result)},l.onblocked=()=>{a(new v1(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;a("VersionError"===m.name?new Oe(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Oe(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new v1(i,m))},l.onupgradeneeded=h=>{je("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',h.oldVersion),n.At.Ct(h.target.result,l.transaction,h.oldVersion,n.version).next(()=>{je("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,a){var l=this;return(0,Me.Z)(function*(){const h="readonly"===n;let m=0;for(;;){++m;try{l.db=yield l.Dt(i);const _=Tx.open(l.db,i,h?"readonly":"readwrite",s),D=a(_).catch(M=>(_.abort(M),Pe.reject(M))).toPromise();return D.catch(()=>{}),yield _.It,D}catch(_){const D="FirebaseError"!==_.name&&m<3;if(je("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),l.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Oq{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return zm(this.kt.delete())}}class v1 extends Oe{constructor(i,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Zm(r){return"IndexedDbTransactionError"===r.name}class Nq{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(je("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),zm(s)}add(i){return je("SimpleDb","ADD",this.store.name,i,i),zm(this.store.add(i))}get(i){return zm(this.store.get(i)).next(n=>(void 0===n&&(n=null),je("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return je("SimpleDb","DELETE",this.store.name,i),zm(this.store.delete(i))}count(){return je("SimpleDb","COUNT",this.store.name),zm(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),a=[];return this.Bt(s,(l,h)=>{a.push(h)}).next(()=>a)}Ut(i,n){je("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,h,m)=>m.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const a=this.cursor(s);return this.Bt(a,n)}jt(i){const n=this.cursor({});return new Pe((s,a)=>{n.onerror=l=>{const h=ON(l.target.error);a(h)},n.onsuccess=l=>{const h=l.target.result;h?i(h.primaryKey,h.value).next(m=>{m?h.continue():s()}):s()}})}Bt(i,n){const s=[];return new Pe((a,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{const m=h.target.result;if(!m)return void a();const _=new Oq(m),D=n(m.primaryKey,m.value,_);if(D instanceof Pe){const M=D.catch(A=>(_.done(),Pe.reject(A)));s.push(M)}_.isDone?a():null===_.Ft?m.continue():m.continue(_.Ft)}}).next(()=>Pe.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function zm(r){return new Pe((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const a=ON(s.target.error);n(a)}})}let CV=!1;function ON(r){const i=_l.Rt((0,$t.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CV||(CV=!0,setTimeout(()=>{throw s},0)),s}}return r}class DV extends wV{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function Mo(r,i){const n=ze(r);return _l.St(n.Qt,i)}class NN{constructor(i,n,s,a){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(i.key)&&h1(l,i,s[a])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&Pb(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&Pb(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Wt.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),Pn())}isEqual(i){return this.batchId===i.batchId&&Zh(this.mutations,i.mutations,(n,s)=>mx(n,s))&&Zh(this.baseMutations,i.baseMutations,(n,s)=>mx(n,s))}}class PN{constructor(i,n,s,a){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(i,n,s){St(i.mutations.length===s.length);let a=Gm();const l=i.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new PN(i,n,s,a)}}class sf{constructor(i,n,s,a,l=Wt.min(),h=Wt.min(),m=vr.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(i){return new sf(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new sf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new sf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class MV{constructor(i){this.Wt=i}}function FN(r,i){if(i.document)return RN(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=ct.fromSegments(i.noDocument.path),s=qb(i.noDocument.readTime),a=ui.newNoDocument(n,s);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){const n=ct.fromSegments(i.unknownDocument.path),s=qb(i.unknownDocument.version);return ui.newUnknownDocument(n,s)}return dt()}function TV(r,i,n){const s=LN(n),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){const l={name:Hb(m=r.Wt,(_=i).key),fields:_.data.value.mapValue.fields,updateTime:Ub(m,_.version.toTimestamp())};return new di(null,null,l,i.hasCommittedMutations,s,a)}var m,_;if(i.isNoDocument()){const l=i.key.path.toArray(),h=jb(i.version),m=i.hasCommittedMutations;return new di(null,new y1(l,h),null,m,s,a)}if(i.isUnknownDocument()){const l=i.key.path.toArray(),h=jb(i.version);return new di(new b1(l,h),null,null,!0,s,a)}return dt()}function LN(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function EV(r){const i=new hr(r[0],r[1]);return Wt.fromTimestamp(i)}function jb(r){const i=r.toTimestamp();return new Co(i.seconds,i.nanoseconds)}function qb(r){const i=new hr(r.seconds,r.nanoseconds);return Wt.fromTimestamp(i)}function Zb(r,i){const n=(i.baseMutations||[]).map(l=>d(r.Wt,l));for(let l=0;l<i.mutations.length-1;++l){const h=i.mutations[l];l+1<i.mutations.length&&void 0!==i.mutations[l+1].transform&&(h.updateTransforms=i.mutations[l+1].transform.fieldTransforms,i.mutations.splice(l+1,1),++l)}const s=i.mutations.map(l=>d(r.Wt,l)),a=hr.fromMillis(i.localWriteTimeMs);return new NN(i.batchId,a,n,s)}function w1(r){const i=qb(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?qb(r.lastLimboFreeSnapshotVersion):Wt.min();let s;var a;return void 0!==r.query.documents?(St(1===(a=r.query).documents.length),s=vo(Nm(AN(a.documents[0])))):s=vo(v(r.query)),new sf(s,r.targetId,0,r.lastListenSequenceNumber,i,n,vr.fromBase64String(r.resumeToken))}function SV(r,i){const n=jb(i.snapshotVersion),s=jb(i.lastLimboFreeSnapshotVersion);let a;a=Eb(i.target)?p(r.Wt,i.target):g(r.Wt,i.target);const l=i.resumeToken.toBase64();return new Jr(i.targetId,Mb(i.target),n,l,i.sequenceNumber,s,a)}function BN(r){const i=v({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ux(i,i.limit,"L"):i}class Pq{getBundleMetadata(i,n){return xV(i).get(n).next(s=>{if(s)return{id:(a=s).bundleId,createTime:qb(a.createTime),version:a.version};var a})}saveBundleMetadata(i,n){return xV(i).put({bundleId:(s=n).id,createTime:jb(Nr(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return AV(i).get(n).next(s=>{if(s)return{name:(a=s).name,query:BN(a.bundledQuery),readTime:qb(a.readTime)};var a})}saveNamedQuery(i,n){return AV(i).put({name:(s=n).name,readTime:jb(Nr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function xV(r){return Mo(r,Gb.store)}function AV(r){return Mo(r,Yb.store)}class Fq{constructor(){this.Gt=new VN}addToCollectionParentIndex(i,n){return this.Gt.add(n),Pe.resolve()}getCollectionParents(i,n){return Pe.resolve(this.Gt.getEntries(n))}}class VN{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),a=this.index[n]||new bi(In.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(i){const n=i.lastSegment(),s=i.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(i){return(this.index[i]||new bi(In.comparator)).toArray()}}class Lq{constructor(){this.zt=new VN}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),a=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const l={collectionId:s,parent:Ke(a)};return kV(i).put(l)}return Pe.resolve()}getCollectionParents(i,n){const s=[],a=IDBKeyRange.bound([n,""],[XS(n),""],!1,!0);return kV(i).Lt(a).next(l=>{for(const h of l){if(h.collectionId!==n)break;s.push(jn(h.parent))}return s})}}function kV(r){return Mo(r,qm.store)}const IV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class To{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new To(i,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function RV(r,i,n){const s=r.store(Rn.store),a=r.store(Gi.store),l=[],h=IDBKeyRange.only(n.batchId);let m=0;const _=s.Kt({range:h},(M,A,I)=>(m++,I.delete()));l.push(_.next(()=>{St(1===m)}));const D=[];for(const M of n.mutations){const A=Gi.key(i,M.key.path,n.batchId);l.push(a.delete(A)),D.push(M.key)}return Pe.waitFor(l).next(()=>D)}function Ex(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw dt();i=r.noDocument}return JSON.stringify(i).length}To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(41943040,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);class UN{constructor(i,n,s,a){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(i,n,s,a){St(""!==i.uid);const l=i.isAuthenticated()?i.uid:"";return new UN(l,n,s,a)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return af(i).Kt({index:Rn.userMutationsIndex,range:s},(a,l,h)=>{n=!1,h.done()}).next(()=>n)}addMutationBatch(i,n,s,a){const l=zb(i),h=af(i);return h.add({}).next(m=>{St("number"==typeof m);const _=new NN(m,n,s,a),D=function(I,O,B){const $=B.baseMutations.map(Re=>u(I.Wt,Re)),ae=B.mutations.map(Re=>u(I.Wt,Re));return new Rn(O,B.batchId,B.localWriteTime.toMillis(),$,ae)}(this.N,this.userId,_),M=[];let A=new bi((I,O)=>un(I.canonicalString(),O.canonicalString()));for(const I of a){const O=Gi.key(this.userId,I.key.path,m);A=A.add(I.key.path.popLast()),M.push(h.put(D)),M.push(l.put(O,Gi.PLACEHOLDER))}return A.forEach(I=>{M.push(this.Ht.addToCollectionParentIndex(i,I))}),i.addOnCommittedListener(()=>{this.Jt[m]=_.keys()}),Pe.waitFor(M).next(()=>_)})}lookupMutationBatch(i,n){return af(i).get(n).next(s=>s?(St(s.userId===this.userId),Zb(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Pe.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const a=s.keys();return this.Jt[n]=a,a}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return af(i).Kt({index:Rn.userMutationsIndex,range:a},(h,m,_)=>{m.userId===this.userId&&(St(m.batchId>=s),l=Zb(this.N,m)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return af(i).Kt({index:Rn.userMutationsIndex,range:n,reverse:!0},(a,l,h)=>{s=l.batchId,h.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return af(i).Lt(Rn.userMutationsIndex,n).next(s=>s.map(a=>Zb(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=Gi.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(s),l=[];return zb(i).Kt({range:a},(h,m,_)=>{const[D,M,A]=h,I=jn(M);if(D===this.userId&&n.path.isEqual(I))return af(i).get(A).next(O=>{if(!O)throw dt();St(O.userId===this.userId),l.push(Zb(this.N,O))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new bi(un);const a=[];return n.forEach(l=>{const h=Gi.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),_=zb(i).Kt({range:m},(D,M,A)=>{const[I,O,B]=D,$=jn(O);I===this.userId&&l.path.isEqual($)?s=s.add(B):A.done()});a.push(_)}),Pe.waitFor(a).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,a=s.length+1,l=Gi.prefixForPath(this.userId,s),h=IDBKeyRange.lowerBound(l);let m=new bi(un);return zb(i).Kt({range:h},(_,D,M)=>{const[A,I,O]=_,B=jn(I);A===this.userId&&s.isPrefixOf(B)?B.length===a&&(m=m.add(O)):M.done()}).next(()=>this.Zt(i,m))}Zt(i,n){const s=[],a=[];return n.forEach(l=>{a.push(af(i).get(l).next(h=>{if(null===h)throw dt();St(h.userId===this.userId),s.push(Zb(this.N,h))}))}),Pe.waitFor(a).next(()=>s)}removeMutationBatch(i,n){return RV(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Pe.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(i,a))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Pe.resolve();const s=IDBKeyRange.lowerBound(Gi.prefixForUser(this.userId)),a=[];return zb(i).Kt({range:s},(l,h,m)=>{if(l[0]===this.userId){const _=jn(l[1]);a.push(_)}else m.done()}).next(()=>{St(0===a.length)})})}containsKey(i,n){return OV(i,this.userId,n)}ee(i){return NV(i).get(this.userId).next(n=>n||new Zs(this.userId,-1,""))}}function OV(r,i,n){const s=Gi.prefixForPath(i,n.path),a=s[1],l=IDBKeyRange.lowerBound(s);let h=!1;return zb(r).Kt({range:l,qt:!0},(m,_,D)=>{const[M,A,I]=m;M===i&&A===a&&(h=!0),D.done()}).next(()=>h)}function af(r){return Mo(r,Rn.store)}function zb(r){return Mo(r,Gi.store)}function NV(r){return Mo(r,Zs.store)}class $m{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new $m(0)}static ie(){return new $m(-1)}}class Bq{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new $m(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>Wt.fromTimestamp(new hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(a=>(a.highestListenSequenceNumber=n,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.oe(i,a)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>$b(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(St(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let a=0;const l=[];return $b(i).Kt((h,m)=>{const _=w1(m);_.sequenceNumber<=n&&null===s.get(_.targetId)&&(a++,l.push(this.removeTargetData(i,_)))}).next(()=>Pe.waitFor(l)).next(()=>a)}forEachTarget(i,n){return $b(i).Kt((s,a)=>{const l=w1(a);n(l)})}re(i){return PV(i).get($o.key).next(n=>(St(null!==n),n))}oe(i,n){return PV(i).put($o.key,n)}ae(i,n){return $b(i).put(SV(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=Mb(n),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return $b(i).Kt({range:a,index:Jr.queryTargetsIndexName},(h,m,_)=>{const D=w1(m);Tb(n,D.target)&&(l=D,_.done())}).next(()=>l)}addMatchingKeys(i,n,s){const a=[],l=lf(i);return n.forEach(h=>{const m=Ke(h.path);a.push(l.put(new ys(s,m))),a.push(this.referenceDelegate.addReference(i,s,h))}),Pe.waitFor(a)}removeMatchingKeys(i,n,s){const a=lf(i);return Pe.forEach(n,l=>{const h=Ke(l.path);return Pe.waitFor([a.delete([s,h]),this.referenceDelegate.removeReference(i,s,l)])})}removeMatchingKeysForTargetId(i,n){const s=lf(i),a=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),a=lf(i);let l=Pn();return a.Kt({range:s,qt:!0},(h,m,_)=>{const D=jn(h[1]),M=new ct(D);l=l.add(M)}).next(()=>l)}containsKey(i,n){const s=Ke(n.path),a=IDBKeyRange.bound([s],[XS(s)],!1,!0);let l=0;return lf(i).Kt({index:ys.documentTargetsIndex,qt:!0,range:a},([h,m],_,D)=>{0!==h&&(l++,D.done())}).next(()=>l>0)}Et(i,n){return $b(i).get(n).next(s=>s?w1(s):null)}}function $b(r){return Mo(r,Jr.store)}function PV(r){return Mo(r,$o.store)}function lf(r){return Mo(r,ys.store)}function Wm(r){return HN.apply(this,arguments)}function HN(){return(HN=(0,Me.Z)(function*(r){if(r.code!==ve.FAILED_PRECONDITION||r.message!==vV)throw r;je("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function FV([r,i],[n,s]){const a=un(r,n);return 0===a?un(i,s):a}class Vq{constructor(i){this.ue=i,this.buffer=new bi(FV),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();FV(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Uq{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Me.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(a){Zm(a)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Wm(a)}yield n._e(i)}))}}class Hq{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Pe.resolve(ks.T);const s=new Vq(n);return this.me.forEachTarget(i,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(i,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(IV)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IV):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,a,l,h,m,_,D;const M=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,h=Date.now(),this.nthSequenceNumber(i,a))).next(A=>(s=A,m=Date.now(),this.removeTargets(i,s,n))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(i,s))).next(A=>(D=Date.now(),_b()<=xu.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${a} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(_-m)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-M}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:A})))}}class Gq{constructor(i,n){this.db=i,this.garbageCollector=new Hq(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(a=>s+a))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,a)=>n(a))}addReference(i,n,s){return Sx(i,s)}removeReference(i,n,s){return Sx(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return Sx(i,n)}Ie(i,n){return function(s,a){let l=!1;return NV(s).jt(h=>OV(s,h,a).next(m=>(m&&(l=!0),Pe.resolve(!m)))).next(()=>l)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Te(i,(h,m)=>{if(m<=n){const _=this.Ie(i,h).next(D=>{if(!D)return l++,s.getEntry(i,h).next(()=>(s.removeEntry(h),lf(i).delete([0,Ke(h.path)])))});a.push(_)}}).next(()=>Pe.waitFor(a)).next(()=>s.apply(i)).next(()=>l)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return Sx(i,n)}Te(i,n){const s=lf(i);let a,l=ks.T;return s.Kt({index:ys.documentTargetsIndex},([h,m],{path:_,sequenceNumber:D})=>{0===h?(l!==ks.T&&n(new ct(jn(a)),l),l=D,a=_):l=ks.T}).next(()=>{l!==ks.T&&n(new ct(jn(a)),l)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Sx(r,i){return lf(r).put((s=r.currentSequenceNumber,new ys(0,Ke(i.path),s)));var s}class Wb{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,i))return l}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],i))return void(a[l]=[i,n]);a.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],i))return 1===s.length?delete this.inner[n]:s.splice(a,1),!0;return!1}forEach(i){Uu(this.inner,(n,s)=>{for(const[a,l]of s)i(a,l)})}isEmpty(){return yb(this.inner)}}class LV{constructor(){this.changes=new Wb(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:Wt.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:ui.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Pe.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class Yq{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return cf(i).put(xx(n),s)}removeEntry(i,n){const s=cf(i),a=xx(n);return s.delete(a)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return cf(i).get(xx(n)).next(s=>this.Re(n,s))}be(i,n){return cf(i).get(xx(n)).next(s=>({document:this.Re(n,s),size:Ex(s)}))}getEntries(i,n){let s=wo();return this.Pe(i,n,(a,l)=>{const h=this.Re(a,l);s=s.insert(a,h)}).next(()=>s)}ve(i,n){let s=wo(),a=new Hi(ct.comparator);return this.Pe(i,n,(l,h)=>{const m=this.Re(l,h);s=s.insert(l,m),a=a.insert(l,Ex(h))}).next(()=>({documents:s,Ve:a}))}Pe(i,n,s){if(n.isEmpty())return Pe.resolve();const a=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),l=n.getIterator();let h=l.getNext();return cf(i).Kt({range:a},(m,_,D)=>{const M=ct.fromSegments(m);for(;h&&ct.comparator(h,M)<0;)s(h,null),h=l.getNext();h&&h.isEqual(M)&&(s(h,_),h=l.hasNext()?l.getNext():null),h?D.Mt(h.path.toArray()):D.done()}).next(()=>{for(;h;)s(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(i,n,s){let a=wo();const l=n.path.length+1,h={};if(s.isEqual(Wt.min())){const m=n.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=n.path.toArray(),_=LN(s);h.range=IDBKeyRange.lowerBound([m,_],!0),h.index=di.collectionReadTimeIndex}return cf(i).Kt(h,(m,_,D)=>{if(m.length!==l)return;const M=FN(this.N,_);n.path.isPrefixOf(M.key.path)?Pm(n,M)&&(a=a.insert(M.key,M)):D.done()}).next(()=>a)}newChangeBuffer(i){return new jq(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return BV(i).get(Do.key).next(n=>(St(!!n),n))}Ae(i,n){return BV(i).put(Do.key,n)}Re(i,n){if(n){const s=FN(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Wt.min()))return s}return ui.newInvalidDocument(i)}}class jq extends LV{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new Wb(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(i){const n=[];let s=0,a=new bi((l,h)=>un(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.De.get(l);if(h.document.isValidDocument()){const _=TV(this.Se.N,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=Ex(_)-m,n.push(this.Se.addEntry(i,l,_))}else if(s-=m,this.trackRemovals){const _=TV(this.Se.N,ui.newNoDocument(l,Wt.min()),this.getReadTime(l));n.push(this.Se.addEntry(i,l,_))}else n.push(this.Se.removeEntry(i,l))}),a.forEach(l=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,l))}),n.push(this.Se.updateMetadata(i,s)),Pe.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:a})=>(a.forEach((l,h)=>{this.De.set(l,h)}),s))}}function BV(r){return Mo(r,Do.store)}function cf(r){return Mo(r,di.store)}function xx(r){return r.path.toArray()}class qq{constructor(i){this.N=i}Ct(i,n,s,a){St(s<a&&s>=0&&a<=11);const l=new Tx("createOrUpgrade",n);var m;s<1&&a>=1&&(i.createObjectStore(Pr.store),(m=i).createObjectStore(Zs.store,{keyPath:Zs.keyPath}),m.createObjectStore(Rn.store,{keyPath:Rn.keyPath,autoIncrement:!0}).createIndex(Rn.userMutationsIndex,Rn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Gi.store),VV(i),function(m){m.createObjectStore(di.store)}(i));let h=Pe.resolve();return s<3&&a>=3&&(0!==s&&(function(m){m.deleteObjectStore(ys.store),m.deleteObjectStore(Jr.store),m.deleteObjectStore($o.store)}(i),VV(i)),h=h.next(()=>function(m){const _=m.store($o.store),D=new $o(0,0,Wt.min().toTimestamp(),0);return _.put($o.key,D)}(l))),s<4&&a>=4&&(0!==s&&(h=h.next(()=>function(m,_){return _.store(Rn.store).Lt().next(D=>{m.deleteObjectStore(Rn.store),m.createObjectStore(Rn.store,{keyPath:Rn.keyPath,autoIncrement:!0}).createIndex(Rn.userMutationsIndex,Rn.userMutationsKeyPath,{unique:!0});const M=_.store(Rn.store),A=D.map(I=>M.put(I));return Pe.waitFor(A)})}(i,l))),h=h.next(()=>{!function(m){m.createObjectStore(Zu.store,{keyPath:Zu.keyPath})}(i)})),s<5&&a>=5&&(h=h.next(()=>this.Ce(l))),s<6&&a>=6&&(h=h.next(()=>(function(m){m.createObjectStore(Do.store)}(i),this.Ne(l)))),s<7&&a>=7&&(h=h.next(()=>this.xe(l))),s<8&&a>=8&&(h=h.next(()=>this.ke(i,l))),s<9&&a>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(i),function(m){const _=m.objectStore(di.store);_.createIndex(di.readTimeIndex,di.readTimeIndexPath,{unique:!1}),_.createIndex(di.collectionReadTimeIndex,di.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&a>=10&&(h=h.next(()=>this.$e(l))),s<11&&a>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Gb.store,{keyPath:Gb.keyPath})})(i),function(m){m.createObjectStore(Yb.store,{keyPath:Yb.keyPath})}(i)})),h}Ne(i){let n=0;return i.store(di.store).Kt((s,a)=>{n+=Ex(a)}).next(()=>{const s=new Do(n);return i.store(Do.store).put(Do.key,s)})}Ce(i){const n=i.store(Zs.store),s=i.store(Rn.store);return n.Lt().next(a=>Pe.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(Rn.userMutationsIndex,h).next(m=>Pe.forEach(m,_=>{St(_.userId===l.userId);const D=Zb(this.N,_);return RV(i,l.userId,D).next(()=>{})}))}))}xe(i){const n=i.store(ys.store),s=i.store(di.store);return i.store($o.store).get($o.key).next(a=>{const l=[];return s.Kt((h,m)=>{const _=new In(h),D=[0,Ke(_)];l.push(n.get(D).next(M=>M?Pe.resolve():n.put(new ys(0,Ke(_),a.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(l))})}ke(i,n){i.createObjectStore(qm.store,{keyPath:qm.keyPath});const s=n.store(qm.store),a=new VN,l=h=>{if(a.add(h)){const m=h.lastSegment(),_=h.popLast();return s.put({collectionId:m,parent:Ke(_)})}};return n.store(di.store).Kt({qt:!0},(h,m)=>{const _=new In(h);return l(_.popLast())}).next(()=>n.store(Gi.store).Kt({qt:!0},([h,m,_],D)=>{const M=jn(m);return l(M.popLast())}))}$e(i){const n=i.store(Jr.store);return n.Kt((s,a)=>{const l=w1(a),h=SV(this.N,l);return n.put(h)})}}function VV(r){r.createObjectStore(ys.store,{keyPath:ys.keyPath}).createIndex(ys.documentTargetsIndex,ys.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.queryTargetsIndexName,Jr.queryTargetsKeyPath,{unique:!0}),r.createObjectStore($o.store)}const GN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class YN{constructor(i,n,s,a,l,h,m,_,D,M){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=l,this.window=h,this.document=m,this.Fe=D,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=A=>Promise.resolve(),!YN.bt())throw new Oe(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gq(this,a),this.We=n+"main",this.N=new MV(_),this.Ge=new _l(this.We,11,new qq(this.N)),this.ze=new Bq(this.referenceDelegate,this.N),this.Ht=new Lq,this.He=new Yq(this.N,this.Ht),this.Je=new Pq,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&Ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ve.FAILED_PRECONDITION,GN);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new ks(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,Me.Z)(function*(a){if(n.started)return i(a)});return function(a){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,Me.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,Me.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Ax(i).put(new Zu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(Zm(i))return je("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return C1(i).get(Pr.key).next(n=>Pe.resolve(this.cn(n)))}un(i){return Ax(i).delete(this.clientId)}hn(){var i=this;return(0,Me.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Mo(s,Zu.store);return a.Lt().next(l=>{const h=i.fn(l,18e5),m=l.filter(_=>-1===h.indexOf(_));return Pe.forEach(m,_=>a.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Pe.resolve(!0):C1(i).get(Pr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Oe(ve.FAILED_PRECONDITION,GN);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ax(i).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&m)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&je("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,Me.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[Pr.store,Zu.store],n=>{const s=new DV(n,ks.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>Ax(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return UN.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let l;return je("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",Rq,h=>(l=new DV(h,this.Le?this.Le.next():ks.T),"readwrite-primary"===n?this.sn(l).next(m=>!!m||this.rn(l)).next(m=>{if(!m)throw Ui(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(ve.FAILED_PRECONDITION,vV);return s(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>s(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(i){return C1(i).get(Pr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Oe(ve.FAILED_PRECONDITION,GN)})}an(i){const n=new Pr(this.clientId,this.allowTabSynchronization,Date.now());return C1(i).put(Pr.key,n)}static bt(){return _l.bt()}on(i){const n=C1(i);return n.get(Pr.key).next(s=>this.cn(s)?(je("IndexedDbPersistence","Releasing primary lease."),n.delete(Pr.key)):Pe.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(Ui(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,$t.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return je("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ui("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){Ui("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function C1(r){return Mo(r,Pr.store)}function Ax(r){return Mo(r,Zu.store)}function jN(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class Zq{constructor(i,n){this.progress=i,this.Tn=n}}class UV{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(i,n){i.forEach((s,a)=>{for(const l of n)l.applyToLocalView(a)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return ct.isDocumentKey((a=n).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(i,n.path):cx(n)?this.Sn(i,n,s):this.Dn(i,n,s);var a}Vn(i,n){return this.An(i,new ct(n)).next(s=>{let a=qu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(i,n,s){const a=n.collectionGroup;let l=qu();return this.Ht.getCollectionParents(i,a).next(h=>Pe.forEach(h,m=>{const _=(D=n,M=m.child(a),new fc(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,M;return this.Dn(i,_,s).next(D=>{D.forEach((M,A)=>{l=l.insert(M,A)})})}).next(()=>l))}Dn(i,n,s){let a,l;return this.He.getDocumentsMatchingQuery(i,n,s).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(h=>(l=h,this.Cn(i,l,a).next(m=>{a=m;for(const _ of l)for(const D of _.mutations){const M=D.key;let A=a.get(M);null==A&&(A=ui.newInvalidDocument(M),a=a.insert(M,A)),Pb(D,A,_.localWriteTime),A.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((h,m)=>{Pm(n,m)||(a=a.remove(h))}),a))}Cn(i,n,s){let a=Pn();for(const h of n)for(const m of h.mutations)m instanceof mc&&null===s.get(m.key)&&(a=a.add(m.key));let l=s;return this.He.getEntries(i,a).next(h=>(h.forEach((m,_)=>{_.isFoundDocument()&&(l=l.insert(m,_))}),l))}}class qN{constructor(i,n,s,a){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=a}static kn(i,n){let s=Pn(),a=Pn();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new qN(i,n.fromCache,s,a)}}class HV{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,a){return 0===(l=n).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(Wt.min())?this.Fn(i,n):this.On.Pn(i,a).next(l=>{const h=this.Mn(n,l);return(Jh(n)||xb(n))&&this.Ln(n.limitType,h,a,s)?this.Fn(i,n):(_b()<=xu.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ab(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(m=>(h.forEach(_=>{m=m.insert(_.key,_)}),m)))});var l}Mn(i,n){let s=new bi(c1(i));return n.forEach((a,l)=>{Pm(i,l)&&(s=s.add(l))}),s}Ln(i,n,s,a){if(s.size!==n.size)return!0;const l="F"===i?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(i,n){return _b()<=xu.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Ab(n)),this.On.getDocumentsMatchingQuery(i,n,Wt.min())}}class zq{constructor(i,n,s,a){this.persistence=i,this.Bn=n,this.N=a,this.Un=new Hi(un),this.qn=new Wb(l=>Mb(l),Tb),this.Kn=Wt.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new UV(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function GV(r,i,n,s){return new zq(r,i,n,s)}function YV(r,i){return ZN.apply(this,arguments)}function ZN(){return(ZN=(0,Me.Z)(function*(r,i){const n=ze(r);let s=n.In,a=n.Qn;const l=yield n.persistence.runTransaction("Handle user change","readonly",h=>{let m;return n.In.getAllMutationBatches(h).next(_=>(m=_,s=n.persistence.getMutationQueue(i),a=new UV(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(h))).next(_=>{const D=[],M=[];let A=Pn();for(const I of m){D.push(I.batchId);for(const O of I.mutations)A=A.add(O.key)}for(const I of _){M.push(I.batchId);for(const O of I.mutations)A=A.add(O.key)}return a.Pn(h,A).next(I=>({Wn:I,removedBatchIds:D,addedBatchIds:M}))})});return n.In=s,n.Qn=a,n.Bn.$n(n.Qn),l})).apply(this,arguments)}function $q(r,i){const n=ze(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=i.batch.keys(),l=n.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,_,D){const M=_.batch,A=M.keys();let I=Pe.resolve();return A.forEach(O=>{I=I.next(()=>D.getEntry(m,O)).next(B=>{const $=_.docVersions.get(O);St(null!==$),B.version.compareTo($)<0&&(M.applyToRemoteDocument(B,_),B.isValidDocument()&&D.addEntry(B,_.commitVersion))})}),I.next(()=>h.In.removeMutationBatch(m,M))}(n,s,i,l).next(()=>l.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,a))})}function jV(r){const i=ze(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function Wq(r,i){const n=ze(r),s=i.snapshotVersion;let a=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=n.jn.newChangeBuffer({trackRemovals:!0});a=n.Un;const m=[];i.targetChanges.forEach((D,M)=>{const A=a.get(M);if(!A)return;m.push(n.ze.removeMatchingKeys(l,D.removedDocuments,M).next(()=>n.ze.addMatchingKeys(l,D.addedDocuments,M)));const I=D.resumeToken;if(I.approximateByteSize()>0){const O=A.withResumeToken(I,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(M,O),B=A,ae=D,St(($=O).resumeToken.approximateByteSize()>0),(0===B.resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&m.push(n.ze.updateTargetData(l,O))}var B,$,ae});let _=wo();if(i.documentUpdates.forEach((D,M)=>{i.resolvedLimboDocuments.has(D)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,D))}),m.push(qV(l,h,i.documentUpdates,s,void 0).next(D=>{_=D})),!s.isEqual(Wt.min())){const D=n.ze.getLastRemoteSnapshotVersion(l).next(M=>n.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(D)}return Pe.waitFor(m).next(()=>h.apply(l)).next(()=>n.Qn.vn(l,_)).next(()=>_)}).then(l=>(n.Un=a,l))}function qV(r,i,n,s,a){let l=Pn();return n.forEach(h=>l=l.add(h)),i.getEntries(r,l).next(h=>{let m=wo();return n.forEach((_,D)=>{const M=h.get(_),A=(null==a?void 0:a.get(_))||s;D.isNoDocument()&&D.version.isEqual(Wt.min())?(i.removeEntry(_,A),m=m.insert(_,D)):!M.isValidDocument()||D.version.compareTo(M.version)>0||0===D.version.compareTo(M.version)&&M.hasPendingWrites?(i.addEntry(D,A),m=m.insert(_,D)):je("LocalStore","Ignoring outdated watch update for ",_,". Current version:",M.version," Watch version:",D.version)}),m})}function Jq(r,i){const n=ze(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function Jb(r,i){const n=ze(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ze.getTargetData(s,i).next(l=>l?(a=l,Pe.resolve(a)):n.ze.allocateTargetId(s).next(h=>(a=new sf(i,h,0,s.currentSequenceNumber),n.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Qb(r,i,n){return zN.apply(this,arguments)}function zN(){return(zN=(0,Me.Z)(function*(r,i,n){const s=ze(r),a=s.Un.get(i),l=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Zm(h))throw h;je("LocalStore",`Failed to update sequence numbers for target ${i}: ${h}`)}s.Un=s.Un.remove(i),s.qn.delete(a.target)})).apply(this,arguments)}function kx(r,i,n){const s=ze(r);let a=Wt.min(),l=Pn();return s.persistence.runTransaction("Execute query","readonly",h=>function(m,_,D){const M=ze(m),A=M.qn.get(D);return void 0!==A?Pe.resolve(M.Un.get(A)):M.ze.getTargetData(_,D)}(s,h,vo(i)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(h,m.targetId).next(_=>{l=_})}).next(()=>s.Bn.getDocumentsMatchingQuery(h,i,n?a:Wt.min(),n?l:Pn())).next(m=>({documents:m,Gn:l})))}function ZV(r,i){const n=ze(r),s=ze(n.ze),a=n.Un.get(i);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",l=>s.Et(l,i).next(h=>h?h.target:null))}function zV(r){const i=ze(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,a,l){const h=ze(s);let m=wo(),_=LN(l);const D=cf(a),M=IDBKeyRange.lowerBound(_,!0);return D.Kt({index:di.readTimeIndex,range:M},(A,I)=>{const O=FN(h.N,I);m=m.insert(O.key,O),_=I.readTime}).next(()=>({Tn:m,readTime:EV(_)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function $N(){return($N=(0,Me.Z)(function*(r){const i=ze(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const a=cf(s);let l=Wt.min();return a.Kt({index:di.readTimeIndex,reverse:!0},(h,m,_)=>{m.readTime&&(l=EV(m.readTime)),_.done()}).next(()=>l)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function WN(){return(WN=(0,Me.Z)(function*(r,i,n,s){const a=ze(r);let l=Pn(),h=wo(),m=Gm();for(const M of n){const A=i.zn(M.metadata.name);M.document&&(l=l.add(A)),h=h.insert(A,i.Hn(M)),m=m.insert(A,i.Jn(M.metadata.readTime))}const _=a.jn.newChangeBuffer({trackRemovals:!0}),D=yield Jb(a,(M=s,vo(Nm(In.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>qV(M,_,h,Wt.min(),m).next(A=>(_.apply(M),A)).next(A=>a.ze.removeMatchingKeysForTargetId(M,D.targetId).next(()=>a.ze.addMatchingKeys(M,l,D.targetId)).next(()=>a.Qn.vn(M,A)).next(()=>A)))})).apply(this,arguments)}function Xq(r,i){return JN.apply(this,arguments)}function JN(){return(JN=(0,Me.Z)(function*(r,i,n=Pn()){const s=yield Jb(r,vo(BN(i.bundledQuery))),a=ze(r);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=Nr(i.readTime);if(s.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(l,i);const m=s.withResumeToken(vr.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(m.targetId,m),a.ze.updateTargetData(l,m).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,n,s.targetId)).next(()=>a.Je.saveNamedQuery(l,i))})})).apply(this,arguments)}class eZ{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Pe.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:Nr(s.createTime)}),Pe.resolve()}getNamedQuery(i,n){return Pe.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:BN(s.bundledQuery),readTime:Nr(s.readTime)}),Pe.resolve();var s}}class QN{constructor(){this.Zn=new bi(Qr.ts),this.es=new bi(Qr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new Qr(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new Qr(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new ct(new In([])),s=new Qr(n,i),a=new Qr(n,i+1),l=[];return this.es.forEachInRange([s,a],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new ct(new In([])),s=new Qr(n,i),a=new Qr(n,i+1);let l=Pn();return this.es.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(i){const n=new Qr(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class Qr{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return ct.comparator(i.key,n.key)||un(i.ls,n.ls)}static ns(i,n){return un(i.ls,n.ls)||ct.comparator(i.key,n.key)}}class tZ{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new bi(Qr.ts)}checkEmpty(i){return Pe.resolve(0===this.In.length)}addMutationBatch(i,n,s,a){const l=this.fs;this.fs++;const h=new NN(l,n,s,a);this.In.push(h);for(const m of a)this.ds=this.ds.add(new Qr(m.key,l)),this.Ht.addToCollectionParentIndex(i,m.key.path.popLast());return Pe.resolve(h)}lookupMutationBatch(i,n){return Pe.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const a=this._s(n+1),l=a<0?0:a;return Pe.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Pe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new Qr(n,0),a=new Qr(n,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],h=>{const m=this.ws(h.ls);l.push(m)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new bi(un);return n.forEach(a=>{const l=new Qr(a,0),h=new Qr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],m=>{s=s.add(m.ls)})}),Pe.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,a=s.length+1;let l=s;ct.isDocumentKey(l)||(l=l.child(""));const h=new Qr(new ct(l),0);let m=new bi(un);return this.ds.forEachWhile(_=>{const D=_.key.path;return!!s.isPrefixOf(D)&&(D.length===a&&(m=m.add(_.ls)),!0)},h),Pe.resolve(this.gs(m))}gs(i){const n=[];return i.forEach(s=>{const a=this.ws(s);null!==a&&n.push(a)}),n}removeMutationBatch(i,n){St(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Pe.forEach(n.mutations,a=>{const l=new Qr(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(i,a.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new Qr(n,0),a=this.ds.firstAfterOrEqual(s);return Pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(i){return Pe.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class nZ{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Hi(ct.comparator),this.size=0}addEntry(i,n,s){const a=n.key,l=this.docs.get(a),h=l?l.size:0,m=this.ps(n);return this.docs=this.docs.insert(a,{document:n.clone(),size:m,readTime:s}),this.size+=m-h,this.Ht.addToCollectionParentIndex(i,a.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Pe.resolve(s?s.document.clone():ui.newInvalidDocument(n))}getEntries(i,n){let s=wo();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():ui.newInvalidDocument(a))}),Pe.resolve(s)}getDocumentsMatchingQuery(i,n,s){let a=wo();const l=new ct(n.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:_,readTime:D}}=h.getNext();if(!n.path.isPrefixOf(m.path))break;D.compareTo(s)<=0||Pm(n,_)&&(a=a.insert(_.key,_.clone()))}return Pe.resolve(a)}Es(i,n){return Pe.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new iZ(this)}getSize(i){return Pe.resolve(this.size)}}class iZ extends LV{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?n.push(this.Se.addEntry(i,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Pe.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class rZ{constructor(i){this.persistence=i,this.Ts=new Wb(n=>Mb(n),Tb),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Is=0,this.As=new QN,this.targetCount=0,this.Rs=$m.se()}forEachTarget(i,n){return this.Ts.forEach((s,a)=>n(a)),Pe.resolve()}getLastRemoteSnapshotVersion(i){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Pe.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Pe.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new $m(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Pe.resolve()}updateTargetData(i,n){return this.ae(n),Pe.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(i,n,s){let a=0;const l=[];return this.Ts.forEach((h,m)=>{m.sequenceNumber<=n&&null===s.get(m.targetId)&&(this.Ts.delete(h),l.push(this.removeMatchingKeysForTargetId(i,m.targetId)),a++)}),Pe.waitFor(l).next(()=>a)}getTargetCount(i){return Pe.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Pe.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Pe.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(h=>{l.push(a.markPotentiallyOrphaned(i,h))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Pe.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Pe.resolve(s)}containsKey(i,n){return Pe.resolve(this.As.containsKey(n))}}class sZ{constructor(i,n){this.bs={},this.Le=new ks(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new rZ(this),this.Ht=new Fq,this.He=new nZ(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new MV(n),this.Je=new eZ(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new tZ(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){je("MemoryPersistence","Starting transaction:",i);const a=new oZ(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(i,n){return Pe.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class oZ extends wV{constructor(i){super(),this.currentSequenceNumber=i}}class KN{constructor(i){this.persistence=i,this.Ds=new QN,this.Cs=null}static Ns(i){return new KN(i)}get xs(){if(this.Cs)return this.Cs;throw dt()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Pe.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Pe.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Pe.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,s=>{const a=ct.fromPath(s);return this.ks(i,a).next(l=>{l||n.removeEntry(a)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Pe.or([()=>Pe.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function $V(r,i){return`firestore_clients_${r}_${i}`}function WV(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function XN(r,i){return`firestore_targets_${r}_${i}`}class Ix{constructor(i,n,s,a){this.user=i,this.batchId=n,this.state=s,this.error=a}static $s(i,n,s){const a=JSON.parse(s);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Oe(a.error.code,a.error.message))),h?new Ix(i,n,a.state,l):(Ui("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class D1{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Oe(s.error.code,s.error.message))),l?new D1(i,s.state,a):(Ui("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Rx{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Bb();for(let h=0;a&&h<s.activeTargetIds.length;++h)a=Cb(s.activeTargetIds[h]),l=l.add(s.activeTargetIds[h]);return a?new Rx(i,l):(Ui("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class eP{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new eP(n.clientId,n.onlineState):(Ui("SharedClientState",`Failed to parse online state: ${i}`),null)}}class tP{constructor(){this.activeTargetIds=Bb()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class nP{constructor(i,n,s,a,l){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Hi(un),this.started=!1,this.Ks=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=$V(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new tP),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,Me.Z)(function*(){const n=yield i.syncEngine.pn();for(const a of n){if(a===i.Ls)continue;const l=i.getItem($V(i.persistenceKey,a));if(l){const h=Rx.$s(a,l);h&&(i.qs=i.qs.insert(h.clientId,h))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const a=i.Xs(s);a&&i.Zs(a)}for(const a of i.Ks)i.Us(a);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(XN(this.persistenceKey,i));if(s){const a=D1.$s(i,s);a&&(n=a.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(XN(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(a=>{this.ni(a)}),this.currentUser=i,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return je("SharedClientState","READ",i,n),n}setItem(i,n){je("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){je("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(je("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Me.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const a=n.ai(s.key);return n.ci(a,null)}{const a=n.ui(s.key,s.newValue);if(a)return n.ci(a.clientId,a)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const a=n.hi(s.key,s.newValue);if(a)return n.li(a)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const a=n.fi(s.key,s.newValue);if(a)return n.di(a)}}else if(s.key===n.Hs){if(null!==s.newValue){const a=n.Xs(s.newValue);if(a)return n.Zs(a)}}else if(s.key===n.Qs){const a=function(l){let h=ks.T;if(null!=l)try{const m=JSON.parse(l);St("number"==typeof m),h=m}catch(m){Ui("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(s.newValue);a!==ks.T&&n.sequenceNumberHandler(a)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const a=new Ix(this.currentUser,i,n,s),l=WV(this.persistenceKey,this.currentUser,i);this.setItem(l,a.Os())}ni(i){const n=WV(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const a=XN(this.persistenceKey,i),l=new D1(i,n,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return Rx.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),a=Number(s[1]);return Ix.$s(new Or(void 0!==s[2]?s[2]:null),a,n)}fi(i,n){const s=this.zs.exec(i),a=Number(s[1]);return D1.$s(a,n)}Xs(i){return eP.$s(i)}li(i){var n=this;return(0,Me.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);je("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),a=this.ti(this.qs),l=this.ti(s),h=[],m=[];return l.forEach(_=>{a.has(_)||h.push(_)}),a.forEach(_=>{l.has(_)||m.push(_)}),this.syncEngine.gi(h,m).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=Bb();return i.forEach((s,a)=>{n=n.unionWith(a.activeTargetIds)}),n}}class JV{constructor(){this.yi=new tP,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new tP,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class aZ{Ei(i){}shutdown(){}}class QV{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cZ{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class uZ extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,a){const l=this.Bi(i,n);je("RestConnection","Sending: ",l,s);const h={};return this.Ui(h,a),this.qi(i,l,h,s).then(m=>(je("RestConnection","Received: ",m),m),m=>{throw xm("RestConnection",`${i} failed with error: `,m,"url: ",l,"request:",s),m})}Ki(i,n,s,a){return this.Li(i,n,s,a)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+Sm,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${lZ[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,a){return new Promise((l,h)=>{const m=new rN;m.listenOnce(WS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case qh.NO_ERROR:const D=m.getResponseJson();je("Connection","XHR received:",JSON.stringify(D)),l(D);break;case qh.TIMEOUT:je("Connection",'RPC "'+i+'" timed out'),h(new Oe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const M=m.getStatus();if(je("Connection",'RPC "'+i+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const A=m.getResponseJson().error;if(A&&A.status&&A.message){const I=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(B)>=0?B:ve.UNKNOWN}(A.status);h(new Oe(I,A.message))}else h(new Oe(ve.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Oe(ve.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{je("Connection",'RPC "'+i+'" completed.')}});const _=JSON.stringify(a);m.send(n,"POST",_,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],a=new Tm,l=nb(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new iN({})),this.Ui(h.initMessageHeaders,n),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=s.join("");je("Connection","Creating WebChannel: "+m,h);const _=a.createWebChannel(m,h);let D=!1,M=!1;const A=new cZ({vi:O=>{M?je("Connection","Not sending because WebChannel is closed:",O):(D||(je("Connection","Opening WebChannel transport."),_.open(),D=!0),je("Connection","WebChannel sending:",O),_.send(O))},Vi:()=>_.close()}),I=(O,B,$)=>{O.listen(B,ae=>{try{$(ae)}catch(Re){setTimeout(()=>{throw Re},0)}})};return I(_,Em.EventType.OPEN,()=>{M||je("Connection","WebChannel transport opened.")}),I(_,Em.EventType.CLOSE,()=>{M||(M=!0,je("Connection","WebChannel transport closed"),A.$i())}),I(_,Em.EventType.ERROR,O=>{M||(M=!0,xm("Connection","WebChannel transport errored:",O),A.$i(new Oe(ve.UNAVAILABLE,"The operation could not be completed")))}),I(_,Em.EventType.MESSAGE,O=>{var B;if(!M){const $=O.data[0];St(!!$);const ae=$,Re=ae.error||(null===(B=ae[0])||void 0===B?void 0:B.error);if(Re){je("Connection","WebChannel received error:",Re);const Ve=Re.status;let He=function(wn){const Ci=Ii[wn];if(void 0!==Ci)return vx(Ci)}(Ve),We=Re.message;void 0===He&&(He=ve.INTERNAL,We="Unknown error status: "+Ve+" with message "+Re.message),M=!0,A.$i(new Oe(He,We)),_.close()}else je("Connection","WebChannel received:",$),A.Oi($)}}),I(l,bo.STAT_EVENT,O=>{O.stat===n1_PROXY?je("Connection","Detected buffering proxy"):O.stat===n1_NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.ki()},0),A}}function KV(){return"undefined"!=typeof window?window:null}function Ox(){return"undefined"!=typeof document?document:null}function M1(r){return new SN(r,!0)}class iP{constructor(i,n,s=1e3,a=1.5,l=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,n-s);a>0&&je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class XV{constructor(i,n,s,a,l,h){this.Oe=i,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=h,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new iP(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,Me.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,Me.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,Me.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===ve.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const a=new Oe(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,Me.Z)(function*(){i.state=0,i.start()}))}pr(i){return je("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dZ extends XV{constructor(i,n,s,a,l){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,l),this.N=a}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(_=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),a=i.targetChange.targetIds||[],l=function(_,D){return _.D?(St(void 0===D||"string"==typeof D),vr.fromBase64String(D||"")):(St(void 0===D||D instanceof Uint8Array),vr.fromUint8Array(D||new Uint8Array))}(r,i.targetChange.resumeToken),h=i.targetChange.cause,m=h&&function(_){const D=void 0===_.code?ve.UNKNOWN:vx(_.code);return new Oe(D,_.message||"")}(h);n=new Vb(s,a,l,m||null)}else if("documentChange"in i){const s=i.documentChange,a=gl(r,s.document.name),l=Nr(s.document.updateTime),h=new Wr({mapValue:{fields:s.document.fields}}),m=ui.newFoundDocument(a,l,h);n=new Ym(s.targetIds||[],s.removedTargetIds||[],m.key,m)}else if("documentDelete"in i){const s=i.documentDelete,a=gl(r,s.document),l=s.readTime?Nr(s.readTime):Wt.min(),h=ui.newNoDocument(a,l);n=new Ym([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in i){const s=i.documentRemove,a=gl(r,s.document);n=new Ym([],s.removedTargetIds||[],a,null)}else{if(!("filter"in i))return dt();{const s=i.filter,l=new Hm(s.count||0);n=new p1(s.targetId,l)}}var _;return n}(this.N,i),s=function(a){if(!("targetChange"in a))return Wt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Wt.min():l.readTime?Nr(l.readTime):Wt.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=jm(this.N),n.addTarget=function(a,l){let h;const m=l.target;return h=Eb(m)?{documents:p(a,m)}:{query:g(a,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=xN(a,l.resumeToken):l.snapshotVersion.compareTo(Wt.min())>0&&(h.readTime=Ub(a,l.snapshotVersion.toTimestamp())),h}(this.N,i);const s=function(r,i){const n=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=jm(this.N),n.removeTarget=i,this.wr(n)}}class hZ extends XV{constructor(i,n,s,a,l){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(St(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(St(void 0!==i),r.map(n=>function(s,a){let l=Nr(s.updateTime?s.updateTime:a);return l.isEqual(Wt.min())&&(l=Nr(a)),new Lm(l,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=Nr(i.commitTime);return this.listener.vr(s,n)}return St(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=jm(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>u(this.N,s))};this.wr(n)}}class fZ extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(i,n,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ve.UNKNOWN,a.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(i,n,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ve.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class pZ{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Ui(n),this.$r=!1):je("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class mZ{constructor(i,n,s,a,l){var h=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ei(m=>{s.enqueueAndForget((0,Me.Z)(function*(){var _;uf(h)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Me.Z)(function*(D){const M=ze(D);M.Kr.add(4),yield Kb(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield T1(M)}),function(D){return _.apply(this,arguments)})(h))}))}),this.Wr=new pZ(s,a)}}function T1(r){return rP.apply(this,arguments)}function rP(){return(rP=(0,Me.Z)(function*(r){if(uf(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function Kb(r){return sP.apply(this,arguments)}function sP(){return(sP=(0,Me.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function Nx(r,i){const n=ze(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),lP(n)?aP(n):ev(n).cr()&&oP(n,i))}function E1(r,i){const n=ze(r),s=ev(n);n.qr.delete(i),s.cr()&&e3(n,i),0===n.qr.size&&(s.cr()?s.lr():uf(n)&&n.Wr.set("Unknown"))}function oP(r,i){r.Gr.Y(i.targetId),ev(r).Ir(i)}function e3(r,i){r.Gr.Y(i),ev(r).Ar(i)}function aP(r){r.Gr=new TN({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),ev(r).start(),r.Wr.Or()}function lP(r){return uf(r)&&!ev(r).ar()&&r.qr.size>0}function uf(r){return 0===ze(r).Kr.size}function t3(r){r.Gr=void 0}function gZ(r){return cP.apply(this,arguments)}function cP(){return(cP=(0,Me.Z)(function*(r){r.qr.forEach((i,n)=>{oP(r,i)})})).apply(this,arguments)}function _Z(r,i){return uP.apply(this,arguments)}function uP(){return(uP=(0,Me.Z)(function*(r,i){t3(r),lP(r)?(r.Wr.Lr(i),aP(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function yZ(r,i,n){return dP.apply(this,arguments)}function dP(){return(dP=(0,Me.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof Vb&&2===i.state&&i.cause)try{yield(s=(0,Me.Z)(function*(a,l){const h=l.cause;for(const m of l.targetIds)a.qr.has(m)&&(yield a.remoteSyncer.rejectListen(m,h),a.qr.delete(m),a.Gr.removeTarget(m))}),function(a,l){return s.apply(this,arguments)})(r,i)}catch(s){je("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield Px(r,s)}else if(i instanceof Ym?r.Gr.rt(i):i instanceof p1?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(Wt.min()))try{const s=yield jV(r.localStore);n.compareTo(s)>=0&&(yield function(a,l){const h=a.Gr._t(l);return h.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const D=a.qr.get(_);D&&a.qr.set(_,D.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const _=a.qr.get(m);if(!_)return;a.qr.set(m,_.withResumeToken(vr.EMPTY_BYTE_STRING,_.snapshotVersion)),e3(a,m);const D=new sf(_.target,m,1,_.sequenceNumber);oP(a,D)}),a.remoteSyncer.applyRemoteEvent(h)}(r,n))}catch(s){je("RemoteStore","Failed to raise snapshot:",s),yield Px(r,s)}var s})).apply(this,arguments)}function Px(r,i,n){return hP.apply(this,arguments)}function hP(){return(hP=(0,Me.Z)(function*(r,i,n){if(!Zm(i))throw i;r.Kr.add(1),yield Kb(r),r.Wr.set("Offline"),n||(n=()=>jV(r.localStore)),r.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield T1(r)}))})).apply(this,arguments)}function n3(r,i){return i().catch(n=>Px(r,n,i))}function Xb(r){return fP.apply(this,arguments)}function fP(){return(fP=(0,Me.Z)(function*(r){const i=ze(r),n=df(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;bZ(i);)try{const a=yield Jq(i.localStore,s);if(null===a){0===i.Ur.length&&n.lr();break}s=a.batchId,vZ(i,a)}catch(a){yield Px(i,a)}r3(i)&&s3(i)})).apply(this,arguments)}function bZ(r){return uf(r)&&r.Ur.length<10}function vZ(r,i){r.Ur.push(i);const n=df(r);n.cr()&&n.br&&n.Pr(i.mutations)}function r3(r){return uf(r)&&!df(r).ar()&&r.Ur.length>0}function s3(r){df(r).start()}function wZ(r){return pP.apply(this,arguments)}function pP(){return(pP=(0,Me.Z)(function*(r){df(r).Sr()})).apply(this,arguments)}function CZ(r){return mP.apply(this,arguments)}function mP(){return(mP=(0,Me.Z)(function*(r){const i=df(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function DZ(r,i,n){return gP.apply(this,arguments)}function gP(){return(gP=(0,Me.Z)(function*(r,i,n){const s=r.Ur.shift(),a=PN.from(s,i,n);yield n3(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Xb(r)})).apply(this,arguments)}function MZ(r,i){return _P.apply(this,arguments)}function _P(){return(_P=(0,Me.Z)(function*(r,i){var n;i&&df(r).br&&(yield(n=(0,Me.Z)(function*(s,a){if(bx(l=a.code)&&l!==ve.ABORTED){const h=s.Ur.shift();df(s).hr(),yield n3(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Xb(s)}var l}),function(s,a){return n.apply(this,arguments)})(r,i)),r3(r)&&s3(r)})).apply(this,arguments)}function yP(r,i){return bP.apply(this,arguments)}function bP(){return(bP=(0,Me.Z)(function*(r,i){const n=ze(r);i?(n.Kr.delete(2),yield T1(n)):i||(n.Kr.add(2),yield Kb(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function ev(r){return r.zr||(r.zr=function(i,n,s){const a=ze(i);return a.Cr(),new dZ(n,a.nr,a.credentials,a.N,s)}(r.datastore,r.asyncQueue,{Si:gZ.bind(null,r),Ci:_Z.bind(null,r),Tr:yZ.bind(null,r)}),r.jr.push(function(){var i=(0,Me.Z)(function*(n){n?(r.zr.hr(),lP(r)?aP(r):r.Wr.set("Unknown")):(yield r.zr.stop(),t3(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function df(r){return r.Hr||(r.Hr=function(i,n,s){const a=ze(i);return a.Cr(),new hZ(n,a.nr,a.credentials,a.N,s)}(r.datastore,r.asyncQueue,{Si:wZ.bind(null,r),Ci:MZ.bind(null,r),Vr:CZ.bind(null,r),vr:DZ.bind(null,r)}),r.jr.push(function(){var i=(0,Me.Z)(function*(n){n?(r.Hr.hr(),yield Xb(r)):(yield r.Hr.stop(),r.Ur.length>0&&(je("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class vP{constructor(i,n,s,a,l){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(i,n,s,a,l){const h=Date.now()+s,m=new vP(i,n,h,a,l);return m.start(s),m}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ve.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(r,i){if(Ui("AsyncQueue",`${i}: ${r}`),Zm(r))return new Oe(ve.UNAVAILABLE,`${i}: ${r}`);throw r}class nv{constructor(i){this.comparator=i?(n,s)=>i(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=qu(),this.sortedSet=new Hi(this.comparator)}static emptySet(i){return new nv(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof nv)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new nv;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class o3{constructor(){this.Jr=new Hi(ct.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):dt():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class iv{constructor(i,n,s,a,l,h,m,_){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=_}static fromInitialDocuments(i,n,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new iv(i,n,nv.emptySet(n),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&gs(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class TZ{constructor(){this.Xr=void 0,this.listeners=[]}}class EZ{constructor(){this.queries=new Wb(i=>CN(i),gs),this.onlineState="Unknown",this.Zr=new Set}}function wP(r,i){return CP.apply(this,arguments)}function CP(){return(CP=(0,Me.Z)(function*(r,i){const n=ze(r),s=i.query;let a=!1,l=n.queries.get(s);if(l||(a=!0,l=new TZ),a)try{l.Xr=yield n.onListen(s)}catch(h){const m=tv(h,`Initialization of query '${Ab(i.query)}' failed`);return void i.onError(m)}n.queries.set(s,l),l.listeners.push(i),i.eo(n.onlineState),l.Xr&&i.no(l.Xr)&&TP(n)})).apply(this,arguments)}function DP(r,i){return MP.apply(this,arguments)}function MP(){return(MP=(0,Me.Z)(function*(r,i){const n=ze(r),s=i.query;let a=!1;const l=n.queries.get(s);if(l){const h=l.listeners.indexOf(i);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function SZ(r,i){const n=ze(r);let s=!1;for(const a of i){const h=n.queries.get(a.query);if(h){for(const m of h.listeners)m.no(a)&&(s=!0);h.Xr=a}}s&&TP(n)}function xZ(r,i,n){const s=ze(r),a=s.queries.get(i);if(a)for(const l of a.listeners)l.onError(n);s.queries.delete(i)}function TP(r){r.Zr.forEach(i=>{i.next()})}class EP{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const a of i.docChanges)3!==a.type&&s.push(a);i=new iv(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=iv.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class AZ{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class a3{constructor(i){this.N=i}zn(i){return gl(this.N,i)}Hn(i){return i.metadata.exists?RN(this.N,i.document,!1):ui.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return Nr(i)}}class kZ{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=l3(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new a3(this.N);for(const a of i)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const h of a.metadata.queries){const m=(n.get(h)||Pn()).add(l);n.set(h,m)}}return n}complete(){var i=this;return(0,Me.Z)(function*(){const n=yield function(r,i,n,s){return WN.apply(this,arguments)}(i.localStore,new a3(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const a of i.queries)yield Xq(i.localStore,a,s.get(a.name));return i.progress.taskState="Success",new Zq(Object.assign({},i.progress),n)})()}}function l3(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class c3{constructor(i){this.key=i}}class u3{constructor(i){this.key=i}}class d3{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=Pn(),this.mutatedKeys=Pn(),this.po=c1(i),this.Eo=new nv(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new o3,a=n?n.Eo:this.Eo;let l=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const _=Jh(this.query)&&a.size===this.query.limit?a.last():null,D=xb(this.query)&&a.size===this.query.limit?a.first():null;if(i.inorderTraversal((M,A)=>{const I=a.get(M),O=Pm(this.query,A)?A:null,B=!!I&&this.mutatedKeys.has(I.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ae=!1;I&&O?I.data.isEqual(O.data)?B!==$&&(s.track({type:3,doc:O}),ae=!0):this.Ro(I,O)||(s.track({type:2,doc:O}),ae=!0,(_&&this.po(O,_)>0||D&&this.po(O,D)<0)&&(m=!0)):!I&&O?(s.track({type:0,doc:O}),ae=!0):I&&!O&&(s.track({type:1,doc:I}),ae=!0,(_||D)&&(m=!0)),ae&&(O?(h=h.add(O),l=$?l.add(M):l.delete(M)):(h=h.delete(M),l=l.delete(M)))}),Jh(this.query)||xb(this.query))for(;h.size>this.query.limit;){const M=Jh(this.query)?h.last():h.first();h=h.delete(M.key),l=l.delete(M.key),s.track({type:1,doc:M})}return{Eo:h,Ao:s,Ln:m,mutatedKeys:l}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const a=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const l=i.Ao.Yr();l.sort((D,M)=>function(A,I){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return O(A)-O(I)}(D.type,M.type)||this.po(D.doc,M.doc)),this.bo(s);const h=n?this.Po():[],m=0===this.yo.size&&this.current?1:0,_=m!==this.mo;return this.mo=m,0!==l.length||_?{snapshot:new iv(this.query,i.Eo,a,l,i.mutatedKeys,0===m,_,!1),vo:h}:{vo:h}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new o3,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=Pn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new u3(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new c3(s))}),n}So(i){this._o=i.Gn,this.yo=Pn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return iv.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class IZ{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class RZ{constructor(i){this.key=i,this.Co=!1}}class OZ{constructor(i,n,s,a,l,h){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.No={},this.xo=new Wb(m=>CN(m),gs),this.ko=new Map,this.$o=new Set,this.Oo=new Hi(ct.comparator),this.Fo=new Map,this.Mo=new QN,this.Lo={},this.Bo=new Map,this.Uo=$m.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function NZ(r,i){return SP.apply(this,arguments)}function SP(){return(SP=(0,Me.Z)(function*(r,i){const n=JP(r);let s,a;const l=n.xo.get(i);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const h=yield Jb(n.localStore,vo(i)),m=n.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield xP(n,i,s,"current"===m),n.isPrimaryClient&&Nx(n.remoteStore,h)}return a})).apply(this,arguments)}function xP(r,i,n,s){return AP.apply(this,arguments)}function AP(){return(AP=(0,Me.Z)(function*(r,i,n,s){r.Ko=(M,A,I)=>{return(O=(0,Me.Z)(function*(B,$,ae,Re){let Ve=$.view.Io(ae);Ve.Ln&&(Ve=yield kx(B.localStore,$.query,!1).then(({documents:wn})=>$.view.Io(wn,Ve)));const He=Re&&Re.targetChanges.get($.targetId),We=$.view.applyChanges(Ve,B.isPrimaryClient,He);return VP(B,$.targetId,We.vo),We.snapshot}),function(B,$,ae,Re){return O.apply(this,arguments)})(r,M,A,I);var O};const a=yield kx(r.localStore,i,!0),l=new d3(i,a.Gn),h=l.Io(a.documents),m=rf.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),_=l.applyChanges(h,r.isPrimaryClient,m);VP(r,n,_.vo);const D=new IZ(i,n,l);return r.xo.set(i,D),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),_.snapshot})).apply(this,arguments)}function PZ(r,i){return kP.apply(this,arguments)}function kP(){return(kP=(0,Me.Z)(function*(r,i){const n=ze(r),s=n.xo.get(i),a=n.ko.get(s.targetId);if(a.length>1)return n.ko.set(s.targetId,a.filter(l=>!gs(l,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Qb(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),E1(n.remoteStore,s.targetId),rv(n,s.targetId)}).catch(Wm))):(rv(n,s.targetId),yield Qb(n.localStore,s.targetId,!0))})).apply(this,arguments)}function IP(){return(IP=(0,Me.Z)(function*(r,i,n){const s=QP(r);try{const a=yield function(l,h){const m=ze(l),_=hr.now(),D=h.reduce((A,I)=>A.add(I.key),Pn());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>m.Qn.Pn(A,D).next(I=>{M=I;const O=[];for(const B of h){const $=Fb(B,M.get(B.key));null!=$&&O.push(new mc(B.key,$,hN($.value.mapValue),yi.exists(!0)))}return m.In.addMutationBatch(A,_,O,h)})).then(A=>(A.applyToLocalDocumentSet(M),{batchId:A.batchId,changes:M}))}(s.localStore,i);s.sharedClientState.addPendingMutation(a.batchId),function(l,h,m){let _=l.Lo[l.currentUser.toKey()];_||(_=new Hi(un)),_=_.insert(h,m),l.Lo[l.currentUser.toKey()]=_}(s,a.batchId,n),yield zu(s,a.changes),yield Xb(s.remoteStore)}catch(a){const l=tv(a,"Failed to persist write");n.reject(l)}})).apply(this,arguments)}function h3(r,i){return RP.apply(this,arguments)}function RP(){return(RP=(0,Me.Z)(function*(r,i){const n=ze(r);try{const s=yield Wq(n.localStore,i);i.targetChanges.forEach((a,l)=>{const h=n.Fo.get(l);h&&(St(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Co=!0:a.modifiedDocuments.size>0?St(h.Co):a.removedDocuments.size>0&&(St(h.Co),h.Co=!1))}),yield zu(n,s,i)}catch(s){yield Wm(s)}})).apply(this,arguments)}function f3(r,i,n){const s=ze(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const a=[];s.xo.forEach((l,h)=>{const m=h.view.eo(i);m.snapshot&&a.push(m.snapshot)}),function(l,h){const m=ze(l);m.onlineState=h;let _=!1;m.queries.forEach((D,M)=>{for(const A of M.listeners)A.eo(h)&&(_=!0)}),_&&TP(m)}(s.eventManager,i),a.length&&s.No.Tr(a),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function LZ(r,i,n){return OP.apply(this,arguments)}function OP(){return(OP=(0,Me.Z)(function*(r,i,n){const s=ze(r);s.sharedClientState.updateQueryState(i,"rejected",n);const a=s.Fo.get(i),l=a&&a.key;if(l){let h=new Hi(ct.comparator);h=h.insert(l,ui.newNoDocument(l,Wt.min()));const m=Pn().add(l),_=new nf(Wt.min(),new Map,new bi(un),h,m);yield h3(s,_),s.Oo=s.Oo.remove(l),s.Fo.delete(i),UP(s)}else yield Qb(s.localStore,i,!1).then(()=>rv(s,i,n)).catch(Wm)})).apply(this,arguments)}function BZ(r,i){return NP.apply(this,arguments)}function NP(){return(NP=(0,Me.Z)(function*(r,i){const n=ze(r),s=i.batch.batchId;try{const a=yield $q(n.localStore,i);BP(n,s,null),LP(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield zu(n,a)}catch(a){yield Wm(a)}})).apply(this,arguments)}function VZ(r,i,n){return PP.apply(this,arguments)}function PP(){return(PP=(0,Me.Z)(function*(r,i,n){const s=ze(r);try{const a=yield function(l,h){const m=ze(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return m.In.lookupMutationBatch(_,h).next(M=>(St(null!==M),D=M.keys(),m.In.removeMutationBatch(_,M))).next(()=>m.In.performConsistencyCheck(_)).next(()=>m.Qn.Pn(_,D))})}(s.localStore,i);BP(s,i,n),LP(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield zu(s,a)}catch(a){yield Wm(a)}})).apply(this,arguments)}function FP(){return(FP=(0,Me.Z)(function*(r,i){const n=ze(r);uf(n.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const h=ze(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===s)return void i.resolve();const a=n.Bo.get(s)||[];a.push(i),n.Bo.set(s,a)}catch(s){const a=tv(s,"Initialization of waitForPendingWrites() operation failed");i.reject(a)}})).apply(this,arguments)}function LP(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function BP(r,i,n){const s=ze(r);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(i);l&&(n?l.reject(n):l.resolve(),a=a.remove(i)),s.Lo[s.currentUser.toKey()]=a}}function rv(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||p3(r,s)})}function p3(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(E1(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),UP(r))}function VP(r,i,n){for(const s of n)s instanceof c3?(r.Mo.addReference(s.key,i),HZ(r,s)):s instanceof u3?(je("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||p3(r,s.key)):dt()}function HZ(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(je("SyncEngine","New document in limbo: "+n),r.$o.add(s),UP(r))}function UP(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new ct(In.fromString(i)),s=r.Uo.next();r.Fo.set(s,new RZ(n)),r.Oo=r.Oo.insert(n,s),Nx(r.remoteStore,new sf(vo(Nm(n.path)),s,2,ks.T))}}function zu(r,i,n){return HP.apply(this,arguments)}function HP(){return(HP=(0,Me.Z)(function*(r,i,n){const s=ze(r),a=[],l=[],h=[];var m;s.xo.isEmpty()||(s.xo.forEach((m,_)=>{h.push(s.Ko(_,i,n).then(D=>{if(D){s.isPrimaryClient&&s.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),a.push(D);const M=qN.kn(_.targetId,D);l.push(M)}}))}),yield Promise.all(h),s.No.Tr(a),yield(m=(0,Me.Z)(function*(_,D){const M=ze(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Pe.forEach(D,I=>Pe.forEach(I.Nn,O=>M.persistence.referenceDelegate.addReference(A,I.targetId,O)).next(()=>Pe.forEach(I.xn,O=>M.persistence.referenceDelegate.removeReference(A,I.targetId,O)))))}catch(A){if(!Zm(A))throw A;je("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const I=A.targetId;if(!A.fromCache){const O=M.Un.get(I),$=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);M.Un=M.Un.insert(I,$)}}}),function(_,D){return m.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function GZ(r,i){return GP.apply(this,arguments)}function GP(){return(GP=(0,Me.Z)(function*(r,i){const n=ze(r);if(!n.currentUser.isEqual(i)){je("SyncEngine","User change. New user:",i.toKey());const s=yield YV(n.localStore,i);n.currentUser=i,(a=n).Bo.forEach(h=>{h.forEach(m=>{m.reject(new Oe(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield zu(n,s.Wn)}var a})).apply(this,arguments)}function YZ(r,i){const n=ze(r),s=n.Fo.get(i);if(s&&s.Co)return Pn().add(s.key);{let a=Pn();const l=n.ko.get(i);if(!l)return a;for(const h of l){const m=n.xo.get(h);a=a.unionWith(m.view.To)}return a}}function jZ(r,i){return YP.apply(this,arguments)}function YP(){return(YP=(0,Me.Z)(function*(r,i){const n=ze(r),s=yield kx(n.localStore,i.query,!0),a=i.view.So(s);return n.isPrimaryClient&&VP(n,i.targetId,a.vo),a})).apply(this,arguments)}function qZ(r){return jP.apply(this,arguments)}function jP(){return(jP=(0,Me.Z)(function*(r){const i=ze(r);return zV(i.localStore).then(n=>zu(i,n))})).apply(this,arguments)}function ZZ(r,i,n,s){return qP.apply(this,arguments)}function qP(){return(qP=(0,Me.Z)(function*(r,i,n,s){const a=ze(r),l=yield function(h,m){const _=ze(h),D=ze(_.In);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>D.Xt(M,m).next(A=>A?_.Qn.Pn(M,A):Pe.resolve(null)))}(a.localStore,i);var m;null!==l?("pending"===n?yield Xb(a.remoteStore):"acknowledged"===n||"rejected"===n?(BP(a,i,s||null),LP(a,i),m=i,ze(ze(a.localStore).In).te(m)):dt(),yield zu(a,l)):je("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function ZP(){return(ZP=(0,Me.Z)(function*(r,i){const n=ze(r);if(JP(n),QP(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),a=yield m3(n,s.toArray());n.qo=!0,yield yP(n.remoteStore,!0);for(const l of a)Nx(n.remoteStore,l)}else if(!1===i&&!1!==n.qo){const s=[];let a=Promise.resolve();n.ko.forEach((l,h)=>{n.sharedClientState.isLocalQueryTarget(h)?s.push(h):a=a.then(()=>(rv(n,h),Qb(n.localStore,h,!0))),E1(n.remoteStore,h)}),yield a,yield m3(n,s),function(l){const h=ze(l);h.Fo.forEach((m,_)=>{E1(h.remoteStore,_)}),h.Mo.us(),h.Fo=new Map,h.Oo=new Hi(ct.comparator)}(n),n.qo=!1,yield yP(n.remoteStore,!1)}})).apply(this,arguments)}function m3(r,i,n){return zP.apply(this,arguments)}function zP(){return(zP=(0,Me.Z)(function*(r,i,n){const s=ze(r),a=[],l=[];for(const h of i){let m;const _=s.ko.get(h);if(_&&0!==_.length){m=yield Jb(s.localStore,vo(_[0]));for(const D of _){const M=s.xo.get(D),A=yield jZ(s,M);A.snapshot&&l.push(A.snapshot)}}else{const D=yield ZV(s.localStore,h);m=yield Jb(s.localStore,D),yield xP(s,g3(D),h,!1)}a.push(m)}return s.No.Tr(l),a})).apply(this,arguments)}function g3(r){return wN(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function $Z(r){const i=ze(r);return ze(ze(i.localStore).persistence).pn()}function WZ(r,i,n,s){return $P.apply(this,arguments)}function $P(){return($P=(0,Me.Z)(function*(r,i,n,s){const a=ze(r);if(a.qo)je("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(i))switch(n){case"current":case"not-current":{const l=yield zV(a.localStore),h=nf.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield zu(a,l,h);break}case"rejected":yield Qb(a.localStore,i,!0),rv(a,i,s);break;default:dt()}})).apply(this,arguments)}function JZ(r,i,n){return WP.apply(this,arguments)}function WP(){return(WP=(0,Me.Z)(function*(r,i,n){const s=JP(r);if(s.qo){for(const a of i){if(s.ko.has(a)){je("SyncEngine","Adding an already active target "+a);continue}const l=yield ZV(s.localStore,a),h=yield Jb(s.localStore,l);yield xP(s,g3(l),h.targetId,!1),Nx(s.remoteStore,h)}for(const a of n)s.ko.has(a)&&(yield Qb(s.localStore,a,!1).then(()=>{E1(s.remoteStore,a),rv(s,a)}).catch(Wm))}})).apply(this,arguments)}function JP(r){const i=ze(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=h3.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=YZ.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=LZ.bind(null,i),i.No.Tr=SZ.bind(null,i.eventManager),i.No.jo=xZ.bind(null,i.eventManager),i}function QP(r){const i=ze(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=BZ.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=VZ.bind(null,i),i}class _3{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,Me.Z)(function*(){n.N=M1(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return GV(this.persistence,new HV,i.initialUser,this.N)}Go(i){return new sZ(KN.Ns,this.N)}Wo(i){return new JV}terminate(){var i=this;return(0,Me.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class y3 extends _3{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,Me.Z)(function*(){yield n().call(s,i),yield function(r){return $N.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield QP(s.Jo.syncEngine),yield Xb(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return GV(this.persistence,new HV,i.initialUser,this.N)}zo(i){return new Uq(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=jN(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?To.withCacheSize(this.cacheSizeBytes):To.DEFAULT;return new YN(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,KV(),Ox(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new JV}}class KZ extends y3{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,Me.Z)(function*(){yield n().call(s,i);const a=s.Jo.syncEngine;s.sharedClientState instanceof nP&&(s.sharedClientState.syncEngine={_i:ZZ.bind(null,a),mi:WZ.bind(null,a),gi:JZ.bind(null,a),pn:$Z.bind(null,a),wi:qZ.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,Me.Z)(function*(h){yield function(r,i){return ZP.apply(this,arguments)}(s.Jo.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):h||s.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Wo(i){const n=KV();if(!nP.bt(n))throw new Oe(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=jN(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new nP(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class KP{initialize(i,n){var s=this;return(0,Me.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>f3(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=GZ.bind(null,s.syncEngine),yield yP(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new EZ}createDatastore(i){const n=M1(i.databaseInfo.databaseId),s=new uZ(i.databaseInfo);return new fZ(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,a=i.asyncQueue,l=m=>f3(this.syncEngine,m,0),h=QV.bt()?new QV:new aZ,new mZ(n,s,a,l,h);var n,s,a,l,h}createSyncEngine(i,n){return function(s,a,l,h,m,_,D){const M=new OZ(s,a,l,h,m,_);return D&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,Me.Z)(function*(n){const s=ze(n);je("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Kb(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function b3(r,i=10240){let n=0;return{read:()=>(0,Me.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fx{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class XZ{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new ir,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,Me.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,Me.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,Me.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),a=Number(s);isNaN(a)&&i.sa(`length string (${s}) is not valid number`);const l=yield i.ia(a);return new AZ(JSON.parse(l),n.length+a)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,Me.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,Me.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,Me.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class e4{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,Me.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Oe(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Me.Z)(function*(l,h){const m=ze(l),_=jm(m.N)+"/documents",D={documents:h.map(O=>Hb(m.N,O))},M=yield m.Ki("BatchGetDocuments",_,D),A=new Map;M.forEach(O=>{const B=function(r,i){return"found"in i?function(n,s){St(!!s.found);const a=gl(n,s.found.name),l=Nr(s.found.updateTime),h=new Wr({mapValue:{fields:s.found.fields}});return ui.newFoundDocument(a,l,h)}(r,i):"missing"in i?function(n,s){St(!!s.missing),St(!!s.readTime);const a=gl(n,s.missing),l=Nr(s.readTime);return ui.newNoDocument(a,l)}(r,i):dt()}(m.N,O);A.set(B.key.toString(),B)});const I=[];return h.forEach(O=>{const B=A.get(O.toString());St(!!B),I.push(B)}),I}),function(l,h){return a.apply(this,arguments)})(n.datastore,i);var a;return s.forEach(a=>n.recordVersion(a)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new Um(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,Me.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,a)=>{const l=ct.fromPath(a);i.mutations.push(new ka(l,i.precondition(l)))}),yield(s=(0,Me.Z)(function*(a,l){const h=ze(a),m=jm(h.N)+"/documents",_={writes:l.map(D=>u(h.N,D))};yield h.Li("Commit",m,_)}),function(a,l){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw dt();n=Wt.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Oe(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?yi.updateTime(n):yi.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(Wt.min()))throw new Oe(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yi.updateTime(n)}return yi.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class t4{constructor(i,n,s,a){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new iP(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,Me.Z)(function*(){const n=new e4(i.datastore),s=i.ua(n);s&&s.then(a=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(a)}).catch(l=>{i.ha(l)}))}).catch(a=>{i.ha(a)})}))}ua(i){try{const n=this.updateFunction(i);return!xa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!bx(n)}return!1}}class n4{constructor(i,n,s){var a=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=KS.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var l=(0,Me.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,Me.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const a=tv(s,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}function v3(r,i){return XP.apply(this,arguments)}function XP(){return(XP=(0,Me.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var a=(0,Me.Z)(function*(l){s.isEqual(l)||(yield YV(i.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function w3(r,i){return eF.apply(this,arguments)}function eF(){return(eF=(0,Me.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield tF(r);je("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(a=>{return(l=(0,Me.Z)(function*(h,m){const _=ze(h);_.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const D=uf(_);_.Kr.add(3),yield Kb(_),D&&_.Wr.set("Unknown"),yield _.remoteSyncer.handleCredentialChange(m),_.Kr.delete(3),yield T1(_)}),function(h,m){return l.apply(this,arguments)})(i.remoteStore,a);var l}),r.onlineComponents=i})).apply(this,arguments)}function tF(r){return nF.apply(this,arguments)}function nF(){return(nF=(0,Me.Z)(function*(r){return r.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield v3(r,new _3)),r.offlineComponents})).apply(this,arguments)}function Lx(r){return iF.apply(this,arguments)}function iF(){return(iF=(0,Me.Z)(function*(r){return r.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield w3(r,new KP)),r.onlineComponents})).apply(this,arguments)}function C3(r){return tF(r).then(i=>i.persistence)}function rF(r){return tF(r).then(i=>i.localStore)}function D3(r){return Lx(r).then(i=>i.remoteStore)}function sF(r){return Lx(r).then(i=>i.syncEngine)}function sv(r){return oF.apply(this,arguments)}function oF(){return(oF=(0,Me.Z)(function*(r){const i=yield Lx(r),n=i.eventManager;return n.onListen=NZ.bind(null,i.syncEngine),n.onUnlisten=PZ.bind(null,i.syncEngine),n})).apply(this,arguments)}function M3(r,i,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(a,l,h,m,_){const D=new Fx({next:A=>{l.enqueueAndForget(()=>DP(a,M));const I=A.docs.has(h);!I&&A.fromCache?_.reject(new Oe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&m&&"server"===m.source?_.reject(new Oe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),M=new EP(Nm(h.path),D,{includeMetadataChanges:!0,uo:!0});return wP(a,M)}(yield sv(r),r.asyncQueue,i,n,s)})),s.promise}function T3(r,i,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(a,l,h,m,_){const D=new Fx({next:A=>{l.enqueueAndForget(()=>DP(a,M)),A.fromCache&&"server"===m.source?_.reject(new Oe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),M=new EP(h,D,{includeMetadataChanges:!0,uo:!0});return wP(a,M)}(yield sv(r),r.asyncQueue,i,n,s)})),s.promise}class d4{constructor(i,n,s,a,l,h,m,_){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class ov{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof ov&&i.projectId===this.projectId&&i.database===this.database}}const E3=new Map;function aF(r,i,n){if(!n)throw new Oe(ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function S3(r,i,n,s){if(!0===i&&!0===s)throw new Oe(ve.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x3(r){if(!ct.isDocumentKey(r))throw new Oe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function A3(r){if(ct.isDocumentKey(r))throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bx(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":dt()}function En(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Oe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bx(r);throw new Oe(ve.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function k3(r,i){if(i<=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class I3{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Oe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Oe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,S3("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class S1{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I3({}),this._settingsFrozen=!1,i instanceof ov?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Oe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ov(s.options.projectId)}(i))}get app(){if(!this._app)throw new Oe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I3(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new aN;switch(n.type){case"gapi":const s=n.client;return St(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new mV(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Oe(ve.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=E3.get(i);n&&(je("ComponentProvider","Removing Datastore"),E3.delete(i),n.terminate())}(this),Promise.resolve()}}class vi{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new vi(this.firestore,i,this._key)}}class Is{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Is(this.firestore,i,this._query)}}class _c extends Is{constructor(i,n,s){super(i,n,Nm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new vi(this.firestore,null,new ct(i))}withConverter(i){return new _c(this.firestore,i,this._path)}}function R3(r,i,...n){if(r=(0,$t.m9)(r),aF("collection","path",i),r instanceof S1){const s=In.fromString(i,...n);return A3(s),new _c(r,null,s)}{if(!(r instanceof vi||r instanceof _c))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(In.fromString(i,...n));return A3(s),new _c(r.firestore,null,s)}}function Vx(r,i,...n){if(r=(0,$t.m9)(r),1===arguments.length&&(i=KS.I()),aF("doc","path",i),r instanceof S1){const s=In.fromString(i,...n);return x3(s),new vi(r,null,new ct(s))}{if(!(r instanceof vi||r instanceof _c))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(In.fromString(i,...n));return x3(s),new vi(r.firestore,r instanceof _c?r.converter:null,new ct(s))}}function O3(r,i){return r=(0,$t.m9)(r),i=(0,$t.m9)(i),(r instanceof vi||r instanceof _c)&&(i instanceof vi||i instanceof _c)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function N3(r,i){return r=(0,$t.m9)(r),i=(0,$t.m9)(i),r instanceof Is&&i instanceof Is&&r.firestore===i.firestore&&gs(r._query,i._query)&&r.converter===i.converter}class p4{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new iP(this,"async_queue_retry"),this.Ea=()=>{const n=Ox();n&&je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=Ox();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=Ox();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new ir;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,Me.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!Zm(n))throw n;je("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const a=vP.createAndSchedule(this,i,n,s,l=>this.Ra(l));return this._a.push(a),a}Ta(){this.ma&&dt()}verifyOperationInProgress(){}ba(){var i=this;return(0,Me.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function lF(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class m4{constructor(){this._progressObserver={},this._taskCompletionResolver=new ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class rr extends S1{constructor(i,n){super(i,n),this.type="firestore",this._queue=new p4,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||P3(this),this._firestoreClient.terminate()}}function Fr(r){return r._firestoreClient||P3(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function P3(r){var i;const n=r._freezeSettings(),s=(l=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new d4(r._databaseId,l,r._persistenceKey,(m=n).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;r._firestoreClient=new n4(r._credentials,r._queue,s)}function F3(r,i,n){const s=new ir;return r.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield v3(r,n),yield w3(r,i),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===ve.FAILED_PRECONDITION||l.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function L3(r){if(r._initialized||r._terminated)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Oe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class yc{constructor(i){this._byteString=i}static fromBase64String(i){try{return new yc(vr.fromBase64String(i))}catch(n){throw new Oe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new yc(vr.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Jm{constructor(i){this._methodName=i}}class Ux{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Oe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Oe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return un(this._lat,i._lat)||un(this._long,i._long)}}const T4=/^__.*__$/;class E4{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new mc(i,this.data,this.fieldMask,n,this.fieldTransforms):new Vm(i,this.data,n,this.fieldTransforms)}}class B3{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new mc(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function V3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Hx{constructor(i,n,s,a,l,h){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new Hx(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),a=this.Ca({path:s,xa:!1});return a.ka(i),a}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return Yx(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(V3(this.Da)&&T4.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class S4{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||M1(i)}Ba(i,n,s,a=!1){return new Hx({Da:i,methodName:n,La:s,path:br.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Qm(r){const i=r._freezeSettings(),n=M1(r._databaseId);return new S4(r._databaseId,!!i.ignoreUndefinedProperties,n)}function Gx(r,i,n,s,a,l={}){const h=r.Ba(l.merge||l.mergeFields?2:0,i,n,a);hF("Data must be an object, but it was:",h,s);const m=G3(s,h);let _,D;if(l.merge)_=new zh(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const M=[];for(const A of l.mergeFields){const I=fF(i,A,n);if(!h.contains(I))throw new Oe(ve.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);j3(M,I)||M.push(I)}_=new zh(M),D=h.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=h.fieldTransforms;return new E4(new Wr(m),_,D)}class x1 extends Jm{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof x1}}function U3(r,i,n){return new Hx({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class cF extends Jm{_toFieldTransform(i){return new Fm(i.path,new Gu)}isEqual(i){return i instanceof cF}}class x4 extends Jm{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=U3(this,i,!0),s=this.Ua.map(l=>Km(l,n)),a=new Yu(s);return new Fm(i.path,a)}isEqual(i){return this===i}}class A4 extends Jm{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=U3(this,i,!0),s=this.Ua.map(l=>Km(l,n)),a=new pc(s);return new Fm(i.path,a)}isEqual(i){return this===i}}class k4 extends Jm{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new Xh(i.N,Ib(i.N,this.qa));return new Fm(i.path,n)}isEqual(i){return this===i}}function uF(r,i,n,s){const a=r.Ba(1,i,n);hF("Data must be an object, but it was:",a,s);const l=[],h=Wr.empty();Uu(s,(_,D)=>{const M=pF(i,_,n);D=(0,$t.m9)(D);const A=a.$a(M);if(D instanceof x1)l.push(M);else{const I=Km(D,A);null!=I&&(l.push(M),h.set(M,I))}});const m=new zh(l);return new B3(h,m,a.fieldTransforms)}function dF(r,i,n,s,a,l){const h=r.Ba(1,i,n),m=[fF(i,s,n)],_=[a];if(l.length%2!=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)m.push(fF(i,l[I])),_.push(l[I+1]);const D=[],M=Wr.empty();for(let I=m.length-1;I>=0;--I)if(!j3(D,m[I])){const O=m[I];let B=_[I];B=(0,$t.m9)(B);const $=h.$a(O);if(B instanceof x1)D.push(O);else{const ae=Km(B,$);null!=ae&&(D.push(O),M.set(O,ae))}}const A=new zh(D);return new B3(M,A,h.fieldTransforms)}function H3(r,i,n,s=!1){return Km(n,r.Ba(s?4:3,i))}function Km(r,i){if(Y3(r=(0,$t.m9)(r)))return hF("Unsupported field value:",i,r),G3(r,i);if(r instanceof Jm)return function(n,s){if(!V3(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const h of n){let m=Km(h,s.Oa(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(r,i)}return function(n,s){if(null===(n=(0,$t.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Ib(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const a=hr.fromDate(n);return{timestampValue:Ub(s.N,a)}}if(n instanceof hr){const a=new hr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ub(s.N,a)}}if(n instanceof Ux)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yc)return{bytesValue:xN(s.N,n._byteString)};if(n instanceof vi){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_1(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${Bx(n)}`)}(r,i)}function G3(r,i){const n={};return yb(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Uu(r,(s,a)=>{const l=Km(a,i.Na(s));null!=l&&(n[s]=l)}),{mapValue:{fields:n}}}function Y3(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof hr||r instanceof Ux||r instanceof yc||r instanceof vi||r instanceof Jm)}function hF(r,i,n){if(!Y3(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Bx(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function fF(r,i,n){if((i=(0,$t.m9)(i))instanceof $u)return i._internalPath;if("string"==typeof i)return pF(r,i);throw Yx("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const I4=new RegExp("[~\\*/\\[\\]]");function pF(r,i,n){if(i.search(I4)>=0)throw Yx(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $u(...i.split("."))._internalPath}catch(s){throw Yx(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yx(r,i,n,s,a){const l=s&&!s.isEmpty(),h=void 0!==a;let m=`Function ${i}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(l||h)&&(_+=" (found",l&&(_+=` in field ${s}`),h&&(_+=` in document ${a}`),_+=")"),new Oe(ve.INVALID_ARGUMENT,m+r+_)}function j3(r,i){return r.some(n=>n.isEqual(i))}class A1{constructor(i,n,s,a,l){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new R4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(jx("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class R4 extends A1{data(){return super.data()}}function jx(r,i){return"string"==typeof i?pF(r,i):i instanceof $u?i._internalPath:i._delegate._internalPath}class Xm{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Wu extends A1{constructor(i,n,s,a,l,h){super(i,n,s,a,h),this._firestore=i,this._firestoreImpl=i,this.metadata=l}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new k1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(jx("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class k1 extends Wu{data(i={}){return super.data(i)}}class hf{constructor(i,n,s,a){this._firestore=i,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xm(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new k1(this._firestore,this._userDataWriter,s.key,s,new Xm(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new k1(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Xm(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const m=new k1(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Xm(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,D=-1;return 0!==h.type&&(_=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),D=l.indexOf(h.doc.key)),{type:O4(h.type),doc:m,oldIndex:_,newIndex:D}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function q3(r,i){return r instanceof Wu&&i instanceof Wu?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof hf&&i instanceof hf&&r._firestore===i._firestore&&N3(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function Z3(r){if(xb(r)&&0===r.explicitOrderBy.length)throw new Oe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I1{}function ff(r,...i){for(const n of i)r=n._apply(r);return r}class N4 extends I1{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=Qm(i.firestore),s=function(a,l,h,m,_,D,M){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){K3(M,D);const O=[];for(const B of M)O.push(Q3(m,a,B));A={arrayValue:{values:O}}}else A=Q3(m,a,M)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||K3(M,D),A=H3(h,"where",M,"in"===D||"not-in"===D);const I=ms.create(_,D,A);return function(O,B){if(B.v()){const ae=l1(O);if(null!==ae&&!ae.isEqual(B.field))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ae.toString()}' and '${B.field.toString()}'`);const Re=a1(O);null!==Re&&X3(0,B.field,Re)}const $=function(ae,Re){for(const Ve of ae.filters)if(Re.indexOf(Ve.op)>=0)return Ve.op;return null}(O,function(ae){switch(ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==$)throw new Oe(ve.INVALID_ARGUMENT,$===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${$.toString()}' filters.`)}(a,I),I}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Is(i.firestore,i.converter,function(a,l){const h=a.filters.concat([l]);return new fc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(i._query,s))}}class F4 extends I1{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,a,l){if(null!==s.startAt)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Aa(a,l);return function(m,_){if(null===a1(m)){const D=l1(m);null!==D&&X3(0,D,_.field)}}(s,h),h}(i._query,this.Ka,this.Wa);return new Is(i.firestore,i.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new fc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class z3 extends I1{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Is(i.firestore,i.converter,ux(i._query,this.Ga,this.za))}}class $3 extends I1{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=J3(i,this.type,this.Ha,this.Ja);return new Is(i.firestore,i.converter,(a=n,new fc((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class W3 extends I1{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=J3(i,this.type,this.Ha,this.Ja);return new Is(i.firestore,i.converter,(a=n,new fc((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function J3(r,i,n,s){if(n[0]=(0,$t.m9)(n[0]),n[0]instanceof A1)return function(a,l,h,m,_){if(!m)throw new Oe(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const M of Qh(a))if(M.field.isKeyField())D.push(o1(l,m.key));else{const A=m.data.field(M.field);if(Am(A))throw new Oe(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const I=M.field.canonicalString();throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}D.push(A)}return new Om(D,_)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const a=Qm(r.firestore);return function(l,h,m,_,D,M){const A=l.explicitOrderBy;if(D.length>A.length)throw new Oe(ve.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let O=0;O<D.length;O++){const B=D[O];if(A[O].field.isKeyField()){if("string"!=typeof B)throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof B}`);if(!cx(l)&&-1!==B.indexOf("/"))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${_}() must be a plain document ID, but '${B}' contains a slash.`);const $=l.path.child(In.fromString(B));if(!ct.isDocumentKey($))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${_}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const ae=new ct($);I.push(o1(h,ae))}else{const $=H3(m,_,B);I.push($)}}return new Om(I,M)}(r._query,r.firestore._databaseId,a,i,n,s)}}function Q3(r,i,n){if("string"==typeof(n=(0,$t.m9)(n))){if(""===n)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(i)&&-1!==n.indexOf("/"))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(In.fromString(n));if(!ct.isDocumentKey(s))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return o1(r,new ct(s))}if(n instanceof vi)return o1(r,n._key);throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bx(n)}.`)}function K3(r,i){if(!Array.isArray(r)||0===r.length)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function X3(r,i,n){if(!n.isEqual(i))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class mF{convertValue(i,n="none"){switch(ci(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Kn(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(Hu(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw dt()}}convertObject(i,n){const s={};return Uu(i.fields,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertGeoPoint(i){return new Ux(Kn(i.latitude),Kn(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=vb(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(km(i));default:return null}}convertTimestamp(i){const n=fl(i);return new hr(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=In.fromString(i);St(Ee(s));const a=new ov(s.get(1),s.get(3)),l=new ct(s.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function qx(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class j4 extends mF{constructor(i){super(),this.firestore=i}convertBytes(i){return new yc(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new vi(this.firestore,null,n)}}class e6{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qm(i)}set(i,n,s){this._verifyNotCommitted();const a=pf(i,this._firestore),l=qx(a.converter,n,s),h=Gx(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,yi.none())),this}update(i,n,s,...a){this._verifyNotCommitted();const l=pf(i,this._firestore);let h;return h="string"==typeof(n=(0,$t.m9)(n))||n instanceof $u?dF(this._dataReader,"WriteBatch.update",l._key,n,s,a):uF(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(h.toMutation(l._key,yi.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=pf(i,this._firestore);return this._mutations=this._mutations.concat(new Um(n._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pf(r,i){if((r=(0,$t.m9)(r)).firestore!==i)throw new Oe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class eg extends mF{constructor(i){super(),this.firestore=i}convertBytes(i){return new yc(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new vi(this.firestore,null,n)}}function t6(r,i,n){r=En(r,vi);const s=En(r.firestore,rr),a=qx(r.converter,i,n);return av(s,[Gx(Qm(s),"setDoc",r._key,a,null!==r.converter,n).toMutation(r._key,yi.none())])}function n6(r,i,n,...s){r=En(r,vi);const a=En(r.firestore,rr),l=Qm(a);let h;return h="string"==typeof(i=(0,$t.m9)(i))||i instanceof $u?dF(l,"updateDoc",r._key,i,n,s):uF(l,"updateDoc",r._key,i),av(a,[h.toMutation(r._key,yi.exists(!0))])}function i6(r,...i){var n,s,a;r=(0,$t.m9)(r);let l={includeMetadataChanges:!1},h=0;"object"!=typeof i[h]||lF(i[h])||(l=i[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(lF(i[h])){const A=i[h];i[h]=null===(n=A.next)||void 0===n?void 0:n.bind(A),i[h+1]=null===(s=A.error)||void 0===s?void 0:s.bind(A),i[h+2]=null===(a=A.complete)||void 0===a?void 0:a.bind(A)}let _,D,M;if(r instanceof vi)D=En(r.firestore,rr),M=Nm(r._key.path),_={next:A=>{i[h]&&i[h](gF(D,r,A))},error:i[h+1],complete:i[h+2]};else{const A=En(r,Is);D=En(A.firestore,rr),M=A._query;const I=new eg(D);_={next:O=>{i[h]&&i[h](new hf(D,I,A,O))},error:i[h+1],complete:i[h+2]},Z3(r._query)}return function(A,I,O,B){const $=new Fx(B),ae=new EP(I,$,O);return A.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return wP(yield sv(A),ae)})),()=>{$.Xo(),A.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return DP(yield sv(A),ae)}))}}(Fr(D),M,m,_)}function av(r,i){return function(n,s){const a=new ir;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,i,n){return IP.apply(this,arguments)}(yield sF(n),s,a)})),a.promise}(Fr(r),i)}function gF(r,i,n){const s=n.docs.get(i._key),a=new eg(r);return new Wu(r,a,i._key,s,new Xm(n.hasPendingWrites,n.fromCache),i.converter)}class e5 extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Qm(i)}get(i){const n=pf(i,this._firestore),s=new j4(this._firestore);return this._transaction.lookup([n._key]).then(a=>{if(!a||1!==a.length)return dt();const l=a[0];if(l.isFoundDocument())return new A1(this._firestore,s,l.key,l,n.converter);if(l.isNoDocument())return new A1(this._firestore,s,n._key,null,n.converter);throw dt()})}set(i,n,s){const a=pf(i,this._firestore),l=qx(a.converter,n,s),h=Gx(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,h),this}update(i,n,s,...a){const l=pf(i,this._firestore);let h;return h="string"==typeof(n=(0,$t.m9)(n))||n instanceof $u?dF(this._dataReader,"Transaction.update",l._key,n,s,a):uF(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,h),this}delete(i){const n=pf(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=pf(i,this._firestore),s=new eg(this._firestore);return super.get(i).then(a=>new Wu(this._firestore,s,n._key,a._document,new Xm(!1,!1),n.converter))}}function _F(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function r6(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function s6(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){Sm=r})(Oh.SDK_VERSION),(0,Oh._registerComponent)(new Gy.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new rr(n,new fV(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,Oh.registerVersion)("@firebase/firestore","3.0.2",void 0);class R1{constructor(i){this._delegate=i}static fromBase64String(i){return s6(),new R1(yc.fromBase64String(i))}static fromUint8Array(i){return r6(),new R1(yc.fromUint8Array(i))}toBase64(){return s6(),this._delegate.toBase64()}toUint8Array(){return r6(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yF(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class d5{enableIndexedDbPersistence(i,n){return function(r,i){L3(r=En(r,rr));const n=Fr(r),s=r._freezeSettings(),a=new KP;return F3(n,a,new y3(a,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){L3(r=En(r,rr));const i=Fr(r),n=r._freezeSettings(),s=new KP;return F3(i,s,new KZ(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Oe(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new ir;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(n=(0,Me.Z)(function*(s){if(!_l.bt())return Promise.resolve();const a=s+"main";yield _l.delete(a)}),function(s){return n.apply(this,arguments)})(jN(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class o6{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof ov||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&xm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var a;const l=(r=En(r,S1))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==i&&xm("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},l),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let h,m;if("string"==typeof s.mockUserToken)h=s.mockUserToken,m=Or.MOCK_USER;else{h=(0,$t.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new Oe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Or(_)}r._credentials=new lN(new r1(h,m))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,Me.Z)(function*(){const i=yield C3(r),n=yield D3(r);return i.setNetworkEnabled(!0),function(s){const a=ze(s);return a.Kr.delete(0),T1(a)}(n)}))}(Fr(r=En(r,rr)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,Me.Z)(function*(){const i=yield C3(r),n=yield D3(r);return i.setNetworkEnabled(!1),(s=(0,Me.Z)(function*(a){const l=ze(a);l.Kr.add(0),yield Kb(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(n);var s}))}(Fr(r=En(r,rr)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,S3("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new ir;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,i){return FP.apply(this,arguments)}(yield sF(i),n)})),n.promise}(Fr(r=En(r,rr)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new Fx(i);return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return s=yield sv(r),a=n,ze(s).Zr.add(a),void a.next();var s,a})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return s=yield sv(r),a=n,void ze(s).Zr.delete(a);var s,a}))}}(Fr(r=En(r,rr)),lF(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new lv(this,R3(this._delegate,i))}catch(n){throw zs(n,"collection()","Firestore.collection()")}}doc(i){try{return new Ia(this,Vx(this._delegate,i))}catch(n){throw zs(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new $s(this,function(r,i){if(r=En(r,S1),aF("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Is(r,null,(n=i,new fc(In.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw zs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new ir;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const s=yield(a=r,Lx(a).then(l=>l.datastore));var a;new t4(r.asyncQueue,s,i,n).run()})),n.promise}(Fr(r),n=>i(new e5(r,n)))}(this._delegate,n=>i(new a6(this,n)))}batch(){return Fr(this._delegate),new l6(new e6(this._delegate,i=>av(this._delegate,i)))}loadBundle(i){return function(r,i){const n=Fr(r=En(r,rr)),s=new m4;return function(r,i,n,s){const a=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,D){if(_ instanceof Uint8Array)return b3(_,D);if(_ instanceof ArrayBuffer)return b3(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new XZ(_,h);var _}(n,M1(i));r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function(r,i,n){const s=ze(r);var a;(a=(0,Me.Z)(function*(l,h,m){try{const _=yield h.getMetadata();if(yield function(I,O){const B=ze(I),$=Nr(O.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",ae=>B.Je.getBundleMetadata(ae,O.id)).then(ae=>!!ae&&ae.createTime.compareTo($)>=0)}(l.localStore,_))return yield h.close(),void m._completeWith((I=_,{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}));m._updateProgress(l3(_));const D=new kZ(_,l.localStore,h.N);let M=yield h.Qo();for(;M;){const I=yield D.fo(M);I&&m._updateProgress(I),M=yield h.Qo()}const A=yield D.complete();yield zu(l,A.Tn,void 0),yield function(I,O){const B=ze(I);return B.persistence.runTransaction("Save bundle","readwrite",$=>B.Je.saveBundleMetadata($,O))}(l.localStore,_),m._completeWith(A.progress)}catch(_){xm("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_)}var I}),function(l,h,m){return a.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield sF(r),a,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,Me.Z)(function*(){return function(n,s){const a=ze(n);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield rF(r),i)}))}(Fr(r=En(r,rr)),i).then(n=>n?new Is(r,null,n.query):null)}(this._delegate,i).then(n=>n?new $s(this,n):null)}}class Zx extends mF{constructor(i){super(),this.firestore=i}convertBytes(i){return new R1(new yc(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return Ia.forKey(n,this.firestore,null)}}class a6{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new Zx(i)}get(i){const n=ng(i);return this._delegate.get(n).then(s=>new O1(this._firestore,new Wu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const a=ng(i);return s?(_F("Transaction.set",s),this._delegate.set(a,n,s)):this._delegate.set(a,n),this}update(i,n,s,...a){const l=ng(i);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,s,...a),this}delete(i){const n=ng(i);return this._delegate.delete(n),this}}class l6{constructor(i){this._delegate=i}set(i,n,s){const a=ng(i);return s?(_F("WriteBatch.set",s),this._delegate.set(a,n,s)):this._delegate.set(a,n),this}update(i,n,s,...a){const l=ng(i);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,s,...a),this}delete(i){const n=ng(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class tg{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new k1(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new N1(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=tg.INSTANCES;let a=s.get(i);a||(a=new WeakMap,s.set(i,a));let l=a.get(n);return l||(l=new tg(i,new Zx(i),n),a.set(n,l)),l}}tg.INSTANCES=new WeakMap;class Ia{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Zx(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new Ia(n,new vi(n._delegate,s,new ct(i)))}static forKey(i,n,s){return new Ia(n,new vi(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new lv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new lv(this.firestore,R3(this._delegate,i))}catch(n){throw zs(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,$t.m9)(i))instanceof vi&&O3(this._delegate,i)}set(i,n){n=_F("DocumentReference.set",n);try{return n?t6(this._delegate,i,n):t6(this._delegate,i)}catch(s){throw zs(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?n6(this._delegate,i):n6(this._delegate,i,n,...s)}catch(a){throw zs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return av(En(r.firestore,rr),[new Um(r._key,yi.none())])}(this._delegate)}onSnapshot(...i){const n=c6(i),s=u6(i,a=>new O1(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return i6(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=En(r,vi);const i=En(r.firestore,rr),n=Fr(i),s=new eg(i);return function(r,i){const n=new ir;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(s=(0,Me.Z)(function*(a,l,h){try{const m=yield function(_,D){const M=ze(_);return M.persistence.runTransaction("read document","readonly",A=>M.Qn.An(A,D))}(a,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Oe(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=tv(m,`Failed to get document '${l} from cache`);h.reject(_)}}),function(a,l,h){return s.apply(this,arguments)})(yield rF(r),i,n);var s})),n.promise}(n,r._key).then(a=>new Wu(i,s,r._key,a,new Xm(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=En(r,vi);const i=En(r.firestore,rr);return M3(Fr(i),r._key,{source:"server"}).then(n=>gF(i,r,n))}(this._delegate):function(r){r=En(r,vi);const i=En(r.firestore,rr);return M3(Fr(i),r._key).then(n=>gF(i,r,n))}(this._delegate),n.then(s=>new O1(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new Ia(this.firestore,this._delegate.withConverter(i?tg.getInstance(this.firestore,i):null))}}function zs(r,i,n){return r.message=r.message.replace(i,n),r}function c6(r){for(const i of r)if("object"==typeof i&&!yF(i))return i;return{}}function u6(r,i){var n,s;let a;return a=yF(r[0])?r[0]:yF(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:l=>{a.next&&a.next(i(l))},error:null===(n=a.error)||void 0===n?void 0:n.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class O1{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return q3(this._delegate,i._delegate)}}class N1 extends O1{data(i){const n=this._delegate.data(i);return function(r,i){r||dt()}(void 0!==n),n}}class $s{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Zx(i)}where(i,n,s){try{return new $s(this.firestore,ff(this._delegate,function(r,i,n){const s=i,a=jx("where",r);return new N4(a,s,n)}(i,n,s)))}catch(a){throw zs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new $s(this.firestore,ff(this._delegate,function(r,i="asc"){const n=i,s=jx("orderBy",r);return new F4(s,n)}(i,n)))}catch(s){throw zs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new $s(this.firestore,ff(this._delegate,function(r){return k3("limit",r),new z3("limit",r,"F")}(i)))}catch(n){throw zs(n,"limit()","Query.limit()")}}limitToLast(i){try{return new $s(this.firestore,ff(this._delegate,function(r){return k3("limitToLast",r),new z3("limitToLast",r,"L")}(i)))}catch(n){throw zs(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new $s(this.firestore,ff(this._delegate,function(...r){return new $3("startAt",r,!0)}(...i)))}catch(n){throw zs(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new $s(this.firestore,ff(this._delegate,function(...r){return new $3("startAfter",r,!1)}(...i)))}catch(n){throw zs(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new $s(this.firestore,ff(this._delegate,function(...r){return new W3("endBefore",r,!0)}(...i)))}catch(n){throw zs(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new $s(this.firestore,ff(this._delegate,function(...r){return new W3("endAt",r,!1)}(...i)))}catch(n){throw zs(n,"endAt()","Query.endAt()")}}isEqual(i){return N3(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=En(r,Is);const i=En(r.firestore,rr),n=Fr(i),s=new eg(i);return function(r,i){const n=new ir;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(s=(0,Me.Z)(function*(a,l,h){try{const m=yield kx(a,l,!0),_=new d3(l,m.Gn),D=_.Io(m.documents),M=_.applyChanges(D,!1);h.resolve(M.snapshot)}catch(m){const _=tv(m,`Failed to execute query '${l} against cache`);h.reject(_)}}),function(a,l,h){return s.apply(this,arguments)})(yield rF(r),i,n);var s})),n.promise}(n,r._query).then(a=>new hf(i,s,r,a))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=En(r,Is);const i=En(r.firestore,rr),n=Fr(i),s=new eg(i);return T3(n,r._query,{source:"server"}).then(a=>new hf(i,s,r,a))}(this._delegate):function(r){r=En(r,Is);const i=En(r.firestore,rr),n=Fr(i),s=new eg(i);return Z3(r._query),T3(n,r._query).then(a=>new hf(i,s,r,a))}(this._delegate),n.then(s=>new bF(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=c6(i),s=u6(i,a=>new bF(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return i6(this._delegate,n,s)}withConverter(i){return new $s(this.firestore,this._delegate.withConverter(i?tg.getInstance(this.firestore,i):null))}}class f5{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new N1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bF{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new N1(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new f5(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new N1(this._firestore,s))})}isEqual(i){return q3(this._delegate,i._delegate)}}class lv extends $s{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new Ia(this.firestore,i):null}doc(i){try{return new Ia(this.firestore,void 0===i?Vx(this._delegate):Vx(this._delegate,i))}catch(n){throw zs(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=En(r.firestore,rr),s=Vx(r),a=qx(r.converter,i);return av(n,[Gx(Qm(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,yi.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new Ia(this.firestore,n))}isEqual(i){return O3(this._delegate,i._delegate)}withConverter(i){return new lv(this.firestore,this._delegate.withConverter(i?tg.getInstance(this.firestore,i):null))}}function ng(r){return En(r,vi)}class vF{constructor(...i){this._delegate=new $u(...i)}static documentId(){return new vF(br.keyField().canonicalString())}isEqual(i){return(i=(0,$t.m9)(i))instanceof $u&&this._delegate._internalPath.isEqual(i._internalPath)}}class ig{constructor(i){this._delegate=i}static serverTimestamp(){const i=new cF("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new ig(i)}static delete(){const i=new x1("deleteField");return i._methodName="FieldValue.delete",new ig(i)}static arrayUnion(...i){const n=function(...r){return new x4("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new ig(n)}static arrayRemove(...i){const n=function(...r){return new A4("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new ig(n)}static increment(i){const n=function(r){return new k4("increment",r)}(i);return n._methodName="FieldValue.increment",new ig(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const p5={Firestore:o6,GeoPoint:Ux,Timestamp:hr,Blob:R1,Transaction:a6,WriteBatch:l6,DocumentReference:Ia,DocumentSnapshot:O1,Query:$s,QueryDocumentSnapshot:N1,QuerySnapshot:bF,CollectionReference:lv,FieldPath:vF,FieldValue:ig,setLogLevel:function(r){!function(r){hc.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function d6(r,i){return i?pn(()=>r,i):pn(()=>r)}!function(r){(function(r,i){r.INTERNAL.registerComponent(new Gy.wA("firestore-compat",n=>((i,n)=>new o6(i,n,new d5))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},p5)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(zE.Z);var wF=L(9673),h6=L(7841);const f6=new o.OlP("angularfire2.auth.use-emulator"),p6=new o.OlP("angularfire2.auth.settings"),m6=new o.OlP("angularfire2.auth.tenant-id"),g6=new o.OlP("angularfire2.auth.langugage-code"),_6=new o.OlP("angularfire2.auth.use-device-language"),y6=new o.OlP("angularfire.auth.persistence"),b6=(r,i,n,s,a,l,h,m)=>(0,Jn.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const _=i.runOutsideAngular(()=>r.auth());if(n&&_.useEmulator(...n),s&&(_.tenantId=s),_.languageCode=a,l&&_.useDeviceLanguage(),h)for(const[D,M]of Object.entries(h))_.settings[D]=M;return m&&_.setPersistence(m),_},[n,s,a,l,h,m]);let CF=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I){const O=new me.xQ,B=(0,qe.of)(void 0).pipe((0,vp.QV)(h.outsideAngular),pn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4828)))),(0,b.U)(()=>(0,go.on)(n,l,s)),(0,b.U)($=>b6($,l,m,D,M,A,_,I)),Ul({bufferSize:1,refCount:!1}));if(as(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{B.pipe(Xl()).subscribe();const ae=B.pipe(pn(He=>He.getRedirectResult().then(We=>We,()=>null)),Jn.iC,Ul({bufferSize:1,refCount:!1})),Re=B.pipe(pn(He=>new An.y(We=>({unsubscribe:l.runOutsideAngular(()=>He.onAuthStateChanged(wn=>We.next(wn),wn=>We.error(wn),()=>We.complete()))})))),Ve=B.pipe(pn(He=>new An.y(We=>({unsubscribe:l.runOutsideAngular(()=>He.onIdTokenChanged(wn=>We.next(wn),wn=>We.error(wn),()=>We.complete()))}))));this.authState=ae.pipe(d6(Re),(0,wF.R)(h.outsideAngular),(0,vp.QV)(h.insideAngular)),this.user=ae.pipe(d6(Ve),(0,wF.R)(h.outsideAngular),(0,vp.QV)(h.insideAngular)),this.idToken=this.user.pipe(pn(He=>He?(0,Bn.D)(He.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(pn(He=>He?(0,Bn.D)(He.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,kn.T)(ae,O,this.authState.pipe(vt(He=>!He))).pipe((0,b.U)(He=>(null==He?void 0:He.user)?He:null),(0,wF.R)(h.outsideAngular),(0,vp.QV)(h.insideAngular))}return(0,go.pX)(this,B,l,{spy:{apply:($,ae,Re)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&Re.then(Ve=>O.next(Ve))}}})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(go.Dh),o.LFG(go.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jn.HU),o.LFG(f6,8),o.LFG(p6,8),o.LFG(m6,8),o.LFG(g6,8),o.LFG(_6,8),o.LFG(y6,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function v6(r,i){return function(r,i=hs.z){return new An.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function DF(r,i){return v6(r,i).pipe((0,b.U)(n=>({payload:n,type:"query"})))}function zx(r,i){return DF(r,i).pipe(zt(void 0),bp(),(0,b.U)(([n,s])=>{const a=s.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,m)=>{const _=a.find(M=>M.doc.ref.isEqual(h.ref)),D=null==n?void 0:n.payload.docs.find(M=>M.ref.isEqual(h.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(h.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function w6(r,i,n){return zx(r,n).pipe(dy((s,a)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return MF(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return MF(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return MF(r,i.oldIndex,1)}return r}(r,s))}),r}(s,a.map(l=>l.payload),i),[]),vn(),(0,b.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function MF(r,i,n,...s){const a=r.slice();return a.splice(i,n,...s),a}function C6(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class D6{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=zx(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,b.U)(s=>s.filter(a=>i.indexOf(a.type)>-1)))),n.pipe(zt(void 0),bp(),vt(([s,a])=>a.length>0||!s),(0,b.U)(([s,a])=>a),Jn.iC)}auditTrail(i){return this.stateChanges(i).pipe(dy((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=C6(i);return w6(this.query,n,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return DF(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),Jn.iC)}get(i){return(0,Bn.D)(this.query.get(i)).pipe(Jn.iC)}add(i){return this.ref.add(i)}doc(i){return new M6(this.ref.doc(i),this.afs)}}class M6{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:a,query:l}=S6(s,n);return new D6(a,l,this.afs)}snapshotChanges(){return function(r,i){return v6(r,i).pipe(zt(void 0),bp(),(0,b.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,b.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Bn.D)(this.ref.get(i)).pipe(Jn.iC)}}class C5{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?zx(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),vt(n=>n.length>0),Jn.iC):zx(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(i){return this.stateChanges(i).pipe(dy((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=C6(i);return w6(this.query,n,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return DF(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(s=>s.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),Jn.iC)}get(i){return(0,Bn.D)(this.query.get(i)).pipe(Jn.iC)}}const T6=new o.OlP("angularfire2.enableFirestorePersistence"),E6=new o.OlP("angularfire2.firestore.persistenceSettings"),D5=new o.OlP("angularfire2.firestore.settings"),M5=new o.OlP("angularfire2.firestore.use-emulator");function S6(r,i=(n=>n)){return{query:i(r),ref:r}}let Ju=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M,A,I,O,B,$,ae,Re){this.schedulers=_;const Ve=(0,go.on)(n,m,s),He=M;A&&b6(Ve,m,I,B,$,ae,O,Re),[this.firestore,this.persistenceEnabled$]=(0,Jn.cc)(`${Ve.name}.firestore`,"AngularFirestore",Ve.name,()=>{const We=m.runOutsideAngular(()=>Ve.firestore());if(l&&We.settings(l),He&&We.useEmulator(...He),a&&!as(h)){const wn=()=>{try{return(0,Bn.D)(We.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Ci){return"undefined"!=typeof console&&console.warn(Ci),(0,qe.of)(!1)}};return[We,m.runOutsideAngular(wn)]}return[We,(0,qe.of)(!1)]},[l,He,a])}collection(n,s){let a;a="string"==typeof n?this.firestore.collection(n):n;const{ref:l,query:h}=S6(a,s),m=this.schedulers.ngZone.run(()=>l);return new D6(m,h,this)}collectionGroup(n,s){const a=s||(h=>h),l=this.firestore.collectionGroup(n);return new C5(a(l),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const a=this.schedulers.ngZone.run(()=>s);return new M6(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(go.Dh),o.LFG(go.xv,8),o.LFG(T6,8),o.LFG(D5,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jn.HU),o.LFG(E6,8),o.LFG(M5,8),o.LFG(CF,8),o.LFG(f6,8),o.LFG(p6,8),o.LFG(m6,8),o.LFG(g6,8),o.LFG(_6,8),o.LFG(y6,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),T5=(()=>{class r{constructor(){h6.Z.registerVersion("angularfire",Jn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:T6,useValue:!0},{provide:E6,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ju]}),r})(),mf=(()=>{class r{constructor(n){this.angularFirestore=n,this.listePhotos=[],this.photoSubject=new me.xQ}emitPhoto(){this.photoSubject.next(this.listePhotos)}addPhoto(n){this.angularFirestore.collection("Photos").add({annee:n.annee,auteur:n.auteur,listeEleves:n.listeEleves,photo:n.photo,titre:n.titre,status:Ri.initial})}getPhotos(){return this.angularFirestore.collection("Photos").get().subscribe(n=>{this.listePhotos=n.docs.map(s=>s.data()),this.listePhotos.length>0&&(this.currentPhoto=this.listePhotos[0]),this.emitPhoto()})}getPhotosCarousel(){return this.angularFirestore.collection("Carousel").get()}getPhoto(n){return this.angularFirestore.collection("Photos").doc(n).get()}getPhotosByPeriode(n,s){return this.angularFirestore.collection("Photos").get()}updatePhoto(n){console.log(n),this.angularFirestore.collection("Photos").doc(n.id).update({auteur:n.auteur,titre:n.titre,annee:n.annee,listeEleves:n.listeEleves,photo:n.photo,status:n.status})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),cv=(()=>{class r{constructor(n){this.angularFirestore=n,this.articlesAValider=[]}addArticle(n){return this.angularFirestore.collection("Articles").add({auteur:n.auteur,titre:n.titre,texte:n.texte,date:n.date,idTheme:n.idTheme.trim(),photo:n.photo,legende:n.legende,status:Ri.initial})}getArticles(){return this.angularFirestore.collection("Articles").get()}getArticle(n){return this.angularFirestore.collection("Articles").doc(n).get()}getArticlesDuTheme(n){return this.angularFirestore.collection("Articles",s=>s.where("idTheme","==",n)).get()}getArticlesAValider(){var n=this;return(0,Me.Z)(function*(){n.angularFirestore.collection("Articles",s=>s.where("status",">",0)).get().subscribe(s=>{n.articlesAValider=s.docs})})()}valideArticle(n){return this.angularFirestore.collection("Articles").doc(n.id).update({status:Ri.valide})}rejeteArticle(n){return this.angularFirestore.collection("Articles").doc(n.id).update({status:Ri.rejete})}ChangeCurrentArticle(n){this.currentArticle=n}AddArticleToTheme(n,s){return s.articles.push(n),this.addArticle(n)}updateArticle(n){return void 0===n.photo?this.angularFirestore.collection("Articles").doc(n.id).update({titre:n.titre,texte:n.texte,legende:n.legende,date:n.date,idTheme:n.idTheme.trim(),status:n.status}):this.angularFirestore.collection("Articles").doc(n.id).update({titre:n.titre,texte:n.texte,legende:n.legende,date:n.date,idTheme:n.idTheme.trim(),status:n.status,photo:n.photo})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),P1=(()=>{class r{constructor(n){this.angulatFirestore=n}getUsers(){return this.angulatFirestore.collection("Users").get()}getUser(n){return this.angulatFirestore.collection("Users").doc(n).get()}getUserByUid(n){return this.angulatFirestore.collection("Users",s=>s.where("uid","==",n)).get()}addUser(n){return this.angulatFirestore.collection("Users").add({nom:n.nom,prenom:n.prenom,email:n.email,emailVerified:n.emailVerified,uid:n.uid,status:n.status})}changeDroitsUser(n,s){this.angulatFirestore.collection("Users").doc(n).update({status:s})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$x=(()=>{class r{constructor(n){this.angularFirestore=n,this.listeThemes=[]}getThemes(){return this.angularFirestore.collection("Themes").get()}getTheme(n){return this.angularFirestore.collection("Themes").doc(n).get()}addTheme(n){return this.angularFirestore.collection("Themes").add({nom:n.nom,status:n.status})}changeCurrentTheme(n){this.currentTheme=n}VideListeThemes(){this.listeThemes.splice(0),this.currentTheme=void 0}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class F1{constructor(i,n,s,a,l,h,m){this.id=i,this.uid=n,this.nom=s,this.prenom=a,this.email=l,this.emailVerified=h,this.status=m}}const x6=new o.GfV("12.2.5");class A6{}const Qu="*";function Yi(r,i){return{type:7,name:r,definitions:i,options:{}}}function _n(r,i=null){return{type:4,styles:i,timings:r}}function k6(r,i=null){return{type:2,steps:r,options:i}}function Qe(r){return{type:6,styles:r,offset:null}}function Jt(r,i,n){return{type:0,name:r,styles:i,options:n}}function dn(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function O6(r){Promise.resolve(null).then(r)}class uv{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){O6(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class N6{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,a=0;const l=this.players.length;0==l?O6(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++n==l&&this._onFinish()}),h.onDestroy(()=>{++s==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(a)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function P6(){return"undefined"!=typeof window&&void 0!==window.document}function EF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gf(r){switch(r.length){case 0:return new uv;case 1:return r[0];default:return new N6(r)}}function F6(r,i,n,s,a={},l={}){const h=[],m=[];let _=-1,D=null;if(s.forEach(M=>{const A=M.offset,I=A==_,O=I&&D||{};Object.keys(M).forEach(B=>{let $=B,ae=M[B];if("offset"!==B)switch($=i.normalizePropertyName($,h),ae){case"!":ae=a[B];break;case Qu:ae=l[B];break;default:ae=i.normalizeStyleValue(B,$,ae,h)}O[$]=ae}),I||m.push(O),D=O,_=A}),h.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${h.join(M)}`)}return m}function SF(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&xF(n,"start",r)));break;case"done":r.onDone(()=>s(n&&xF(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&xF(n,"destroy",r)))}}function xF(r,i,n){const s=n.totalTime,l=AF(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),h=r._data;return null!=h&&(l._data=h),l}function AF(r,i,n,s,a="",l=0,h){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:a,totalTime:l,disabled:!!h}}function Wo(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function L6(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let kF=(r,i)=>!1,IF=(r,i)=>!1,B6=(r,i,n)=>[];const V6=EF();(V6||"undefined"!=typeof Element)&&(kF=P6()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),IF=(()=>{if(V6||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):IF}})(),B6=(r,i,n)=>{let s=[];if(n){const a=r.querySelectorAll(i);for(let l=0;l<a.length;l++)s.push(a[l])}else{const a=r.querySelector(i);a&&s.push(a)}return s});let sg=null,U6=!1;function RF(r){sg||(sg=("undefined"!=typeof document?document.body:null)||{},U6=!!sg.style&&"WebkitAppearance"in sg.style);let i=!0;return sg.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in sg.style,!i&&U6&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in sg.style)),i}const OF=IF,NF=kF,PF=B6;function H6(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let G6=(()=>{class r{validateStyleProperty(n){return RF(n)}matchesElement(n,s){return OF(n,s)}containsElement(n,s){return NF(n,s)}query(n,s,a){return PF(n,s,a)}computeStyle(n,s,a){return a||""}animate(n,s,a,l,h,m=[],_){return new uv(a,l)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Wx{}Wx.NOOP=new G6;const FF="ng-enter",Jx="ng-leave",Qx="ng-trigger",Kx=".ng-trigger",j6="ng-animating",LF=".ng-animating";function og(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:BF(parseFloat(i[1]),i[2])}function BF(r,i){switch(i){case"s":return 1e3*r;default:return r}}function Xx(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let a,l=0,h="";if("string"==typeof r){const m=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};a=BF(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(l=BF(parseFloat(_),m[4]));const D=m[5];D&&(h=D)}else a=r;if(!n){let m=!1,_=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&i.splice(_,0,`The provided timing value "${r}" is invalid.`)}return{duration:a,delay:l,easing:h}}(r,i,n)}function dv(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function _f(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else dv(r,n);return n}function Z6(r,i,n){return n?i+":"+n+";":""}function z6(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=Z6(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=Z6(0,N5(n),r.style[n]));r.setAttribute("style",i)}function bc(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const a=UF(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[a]),r.style[a]=i[s]}),EF()&&z6(r))}function ag(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=UF(n);r.style[s]=""}),EF()&&z6(r))}function L1(r){return Array.isArray(r)?1==r.length?r[0]:k6(r):r}const VF=new RegExp("{{\\s*(.+?)\\s*}}","g");function $6(r){let i=[];if("string"==typeof r){let n;for(;n=VF.exec(r);)i.push(n[1]);VF.lastIndex=0}return i}function eA(r,i,n){const s=r.toString(),a=s.replace(VF,(l,h)=>{let m=i[h];return i.hasOwnProperty(h)||(n.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return a==s?r:a}function tA(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const O5=/-+([a-z0-9])/g;function UF(r){return r.replace(O5,(...i)=>i[1].toUpperCase())}function N5(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function W6(r,i){return 0===r||0===i}function J6(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let l=i[0],h=[];if(s.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=n[m]}),h.length)for(var a=1;a<i.length;a++){let m=i[a];h.forEach(function(_){m[_]=HF(r,_)})}}return i}function Jo(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function HF(r,i){return window.getComputedStyle(r)[i]}function P5(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const _=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof _)return void i.push(_);r=_}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const a=s[1],l=s[2],h=s[3];i.push(Q6(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&i.push(Q6(h,a))}(s,n,i)):n.push(r),n}const iA=new Set(["true","1"]),rA=new Set(["false","0"]);function Q6(r,i){const n=iA.has(r)||rA.has(r),s=iA.has(i)||rA.has(i);return(a,l)=>{let h="*"==r||r==a,m="*"==i||i==l;return!h&&n&&"boolean"==typeof a&&(h=a?iA.has(r):rA.has(r)),!m&&s&&"boolean"==typeof l&&(m=l?iA.has(i):rA.has(i)),h&&m}}const B5=new RegExp("s*:selfs*,?","g");function GF(r,i,n){return new V5(r).build(i,n)}class V5{constructor(i){this._driver=i}build(i,n){const s=new G5(n);return this._resetContextStyleTimingState(s),Jo(this,L1(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,a=n.depCount=0;const l=[],h=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(m=>{if(this._resetContextStyleTimingState(n),0==m.type){const _=m,D=_.name;D.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,l.push(this.visitState(_,n))}),_.name=D}else if(1==m.type){const _=this.visitTransition(m,n);s+=_.queryCount,a+=_.depCount,h.push(_)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:h,queryCount:s,depCount:a,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),a=i.options&&i.options.params||null;if(s.containsDynamicStyles){const l=new Set,h=a||{};if(s.styles.forEach(m=>{if(sA(m)){const _=m;Object.keys(_).forEach(D=>{$6(_[D]).forEach(M=>{h.hasOwnProperty(M)||l.add(M)})})}}),l.size){const m=tA(l.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:i.name,style:s,options:a?{params:a}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=Jo(this,L1(i.animation),n);return{type:1,matchers:P5(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:lg(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>Jo(this,s,n)),options:lg(i.options)}}visitGroup(i,n){const s=n.currentTime;let a=0;const l=i.steps.map(h=>{n.currentTime=s;const m=Jo(this,h,n);return a=Math.max(a,n.currentTime),m});return n.currentTime=a,{type:3,steps:l,options:lg(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return YF(Xx(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=YF(0,0,"");return l.dynamic=!0,l.strValue=s,l}return n=n||Xx(s,i),YF(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let a,l=i.styles?i.styles:Qe({});if(5==l.type)a=this.visitKeyframes(l,n);else{let h=i.styles,m=!1;if(!h){m=!0;const D={};s.easing&&(D.easing=s.easing),h=Qe(D)}n.currentTime+=s.duration+s.delay;const _=this.visitStyle(h,n);_.isEmptyStep=m,a=_}return n.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(h=>{"string"==typeof h?h==Qu?s.push(h):n.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(i.styles);let a=!1,l=null;return s.forEach(h=>{if(sA(h)){const m=h,_=m.easing;if(_&&(l=_,delete m.easing),!a)for(let D in m)if(m[D].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let a=n.currentTime,l=n.currentTime;s&&l>0&&(l-=s.duration+s.delay),i.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void n.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const _=n.collectedStyles[n.currentQuerySelector],D=_[m];let M=!0;D&&(l!=a&&l>=D.startTime&&a<=D.endTime&&(n.errors.push(`The CSS property "${m}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),M=!1),l=D.startTime),M&&(_[m]={startTime:l,endTime:a}),n.options&&function(r,i,n){const s=i.params||{},a=$6(r);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||n.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let l=0;const h=[];let m=!1,_=!1,D=0;const M=i.steps.map(Re=>{const Ve=this._makeStyleAst(Re,n);let He=null!=Ve.offset?Ve.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(sA(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(sA(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(Ve.styles),We=0;return null!=He&&(l++,We=Ve.offset=He),_=_||We<0||We>1,m=m||We<D,D=We,h.push(We),Ve});_&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&n.errors.push("Please ensure that all keyframe offsets are in order");const A=i.steps.length;let I=0;l>0&&l<A?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(I=1/(A-1));const O=A-1,B=n.currentTime,$=n.currentAnimateTimings,ae=$.duration;return M.forEach((Re,Ve)=>{const He=I>0?Ve==O?1:I*Ve:h[Ve],We=He*ae;n.currentTime=B+$.delay+We,$.duration=We,this._validateStyleAst(Re,n),Re.offset=He,s.styles.push(Re)}),s}visitReference(i,n){return{type:8,animation:Jo(this,L1(i.animation),n),options:lg(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:lg(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:lg(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,a=i.options||{};n.queryCount++,n.currentQuery=i;const[l,h]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(B5,"")),[r=r.replace(/@\*/g,Kx).replace(/@\w+/g,n=>Kx+"-"+n.substr(1)).replace(/:animating/g,LF),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+l:l,Wo(n.collectedStyles,n.currentQuerySelector,{});const m=Jo(this,L1(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:m,originalSelector:i.selector,options:lg(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:Xx(i.timings,n.errors,!0);return{type:12,animation:Jo(this,L1(i.animation),n),timings:s,options:null}}}class G5{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sA(r){return!Array.isArray(r)&&"object"==typeof r}function lg(r){return r?(r=dv(r)).params&&(r.params=function(r){return r?dv(r):null}(r.params)):r={},r}function YF(r,i,n){return{duration:r,delay:i,easing:n}}function jF(r,i,n,s,a,l,h=null,m=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:m}}class oA{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const z5=new RegExp(":enter","g"),W5=new RegExp(":leave","g");function qF(r,i,n,s,a,l={},h={},m,_,D=[]){return(new J5).buildKeyframes(r,i,n,s,a,l,h,m,_,D)}class J5{buildKeyframes(i,n,s,a,l,h,m,_,D,M=[]){D=D||new oA;const A=new ZF(i,n,D,a,l,M,[]);A.options=_,A.currentTimeline.setStyles([h],null,A.errors,_),Jo(this,s,A);const I=A.timelines.filter(O=>O.containsAnimation());if(I.length&&Object.keys(m).length){const O=I[I.length-1];O.allowOnlyTimelineStyles()||O.setStyles([m],null,A.errors,_)}return I.length?I.map(O=>O.buildKeyframes()):[jF(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const a=n.createSubContext(i.options),l=n.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);l!=h&&n.transformIntoNewTimeline(h)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let l=n.currentTimeline.currentTime;const h=null!=s.duration?og(s.duration):null,m=null!=s.delay?og(s.delay):null;return 0!==h&&i.forEach(_=>{const D=n.appendInstructionToTimeline(_,h,m);l=Math.max(l,D.duration+D.delay)}),l}visitReference(i,n){n.updateOptions(i.options,!0),Jo(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let a=n;const l=i.options;if(l&&(l.params||l.delay)&&(a=n.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=aA);const h=og(l.delay);a.delayNextStep(h)}i.steps.length&&(i.steps.forEach(h=>Jo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let a=n.currentTimeline.currentTime;const l=i.options&&i.options.delay?og(i.options.delay):0;i.steps.forEach(h=>{const m=n.createSubContext(i.options);l&&m.delayNextStep(l),Jo(this,h,m),a=Math.max(a,m.currentTimeline.currentTime),s.push(m.currentTimeline)}),s.forEach(h=>n.currentTimeline.mergeTimelineCollectedStyles(h)),n.transformIntoNewTimeline(a),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return Xx(n.params?eA(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),a=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,n):(n.incrementTime(s.duration),this.visitStyle(l,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,a=n.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(l):s.setStyles(i.styles,l,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,a=n.currentTimeline.duration,l=s.duration,m=n.createSubContext().currentTimeline;m.easing=s.easing,i.styles.forEach(_=>{m.forwardTime((_.offset||0)*l),m.setStyles(_.styles,_.easing,n.errors,n.options),m.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(m),n.transformIntoNewTimeline(a+l),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,a=i.options||{},l=a.delay?og(a.delay):0;l&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=aA);let h=s;const m=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=m.length;let _=null;m.forEach((D,M)=>{n.currentQueryIndex=M;const A=n.createSubContext(i.options,D);l&&A.delayNextStep(l),D===n.element&&(_=A.currentTimeline),Jo(this,i.animation,A),A.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,A.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(h),_&&(n.currentTimeline.mergeTimelineCollectedStyles(_),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,a=n.currentTimeline,l=i.timings,h=Math.abs(l.duration),m=h*(n.currentQueryTotal-1);let _=h*n.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=m-_;break;case"full":_=s.currentStaggerTime}const M=n.currentTimeline;_&&M.delayNextStep(_);const A=M.currentTime;Jo(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=a.currentTime-A+(a.startTime-s.currentTimeline.startTime)}}const aA={};class ZF{constructor(i,n,s,a,l,h,m,_){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new lA(this._driver,n,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let a=this.options;null!=s.duration&&(a.duration=og(s.duration)),null!=s.delay&&(a.delay=og(s.delay));const l=s.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!n||!h.hasOwnProperty(m))&&(h[m]=eA(l[m],h,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(a=>{s[a]=n[a]})}}return i}createSubContext(i=null,n,s){const a=n||this.element,l=new ZF(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=aA,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const a={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},l=new Q5(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,a,l,h){let m=[];if(a&&m.push(this.element),i.length>0){i=(i=i.replace(z5,"."+this._enterClassName)).replace(W5,"."+this._leaveClassName);let D=this._driver.query(this.element,i,1!=s);0!==s&&(D=s<0?D.slice(D.length+s,D.length):D.slice(0,s)),m.push(...D)}return!l&&0==m.length&&h.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),m}}class lA{constructor(i,n,s,a){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new lA(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Qu,this._currentKeyframe[n]=Qu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,a){n&&(this._previousKeyframe.easing=n);const l=a&&a.params||{},h=function(r,i){const n={};let s;return r.forEach(a=>{"*"===a?(s=s||Object.keys(i),s.forEach(l=>{n[l]=Qu})):_f(a,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const _=eA(h[m],l,s);this._pendingStyles[m]=_,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Qu),this._updateStyle(m,_)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],a=i._styleSummary[n];(!s||a.time>s.time)&&this._updateStyle(n,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,_)=>{const D=_f(m,!0);Object.keys(D).forEach(M=>{const A=D[M];"!"==A?i.add(M):A==Qu&&n.add(M)}),s||(D.offset=_/this.duration),a.push(D)});const l=i.size?tA(i.values()):[],h=n.size?tA(n.values()):[];if(s){const m=a[0],_=dv(m);m.offset=0,_.offset=1,a=[m,_]}return jF(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class Q5 extends lA{constructor(i,n,s,a,l,h,m=!1){super(i,n,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){const l=[],h=s+n,m=n/h,_=_f(i[0],!1);_.offset=0,l.push(_);const D=_f(i[0],!1);D.offset=eU(m),l.push(D);const M=i.length-1;for(let A=1;A<=M;A++){let I=_f(i[A],!1);I.offset=eU((n+I.offset*s)/h),l.push(I)}s=h,n=0,a="",i=l}return jF(this.element,i,this.preStyleProps,this.postStyleProps,s,n,a,!0)}}function eU(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class zF{}class X5 extends zF{normalizePropertyName(i,n){return UF(i)}normalizeStyleValue(i,n,s,a){let l="";const h=s.toString().trim();if(ez[n]&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const m=s.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(`Please provide a CSS unit value for ${i}:${s}`)}return h+l}}const ez=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tU(r,i,n,s,a,l,h,m,_,D,M,A,I){return{type:0,element:r,triggerName:i,isRemovalTransition:a,fromState:n,fromStyles:l,toState:s,toStyles:h,timelines:m,queriedElements:_,preStyleProps:D,postStyleProps:M,totalTime:A,errors:I}}const $F={};class nU{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,a){return function(r,i,n,s,a){return r.some(l=>l(i,n,s,a))}(this.ast.matchers,i,n,s,a)}buildStyles(i,n,s){const a=this._stateStyles["*"],l=this._stateStyles[i],h=a?a.buildStyles(n,s):{};return l?l.buildStyles(n,s):h}build(i,n,s,a,l,h,m,_,D,M){const A=[],I=this.ast.options&&this.ast.options.params||$F,B=this.buildStyles(s,m&&m.params||$F,A),$=_&&_.params||$F,ae=this.buildStyles(a,$,A),Re=new Set,Ve=new Map,He=new Map,We="void"===a,wn={params:Object.assign(Object.assign({},I),$)},Ci=M?[]:qF(i,n,this.ast.animation,l,h,B,ae,wn,D,A);let lr=0;if(Ci.forEach(ta=>{lr=Math.max(ta.duration+ta.delay,lr)}),A.length)return tU(n,this._triggerName,s,a,We,B,ae,[],[],Ve,He,lr,A);Ci.forEach(ta=>{const id=ta.element,wq=Wo(Ve,id,{});ta.preStyleProps.forEach(Tg=>wq[Tg]=!0);const uD=Wo(He,id,{});ta.postStyleProps.forEach(Tg=>uD[Tg]=!0),id!==n&&Re.add(id)});const Ni=tA(Re.values());return tU(n,this._triggerName,s,a,We,B,ae,Ci,Ni,Ve,He,lr)}}class iz{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},a=dv(this.defaultParams);return Object.keys(i).forEach(l=>{const h=i[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let _=h[m];_.length>1&&(_=eA(_,a,n));const D=this.normalizer.normalizePropertyName(m,n);_=this.normalizer.normalizeStyleValue(m,D,_,n),s[D]=_})}}),s}}class sz{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(a=>{this.states[a.name]=new iz(a.style,a.options&&a.options.params||{},s)}),iU(this.states,"true","1"),iU(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new nU(i,a,this.states))}),this.fallbackTransition=function(r,i,n){return new nU(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,a){return this.transitionFactories.find(h=>h.match(i,n,s,a))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function iU(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const az=new oA;class lz{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],a=GF(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=a}_buildPlayer(i,n,s){const a=i.element,l=F6(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const a=[],l=this._animations[i];let h;const m=new Map;if(l?(h=qF(this._driver,n,l,FF,Jx,{},{},s,az,a),h.forEach(M=>{const A=Wo(m,M.element,{});M.postStyleProps.forEach(I=>A[I]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);m.forEach((M,A)=>{Object.keys(M).forEach(I=>{M[I]=this._driver.computeStyle(A,I,Qu)})});const D=gf(h.map(M=>{const A=m.get(M.element);return this._buildPlayer(M,{},A)}));return this._playersById[i]=D,D.onDestroy(()=>this.destroy(i)),this.players.push(D),D}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,a){const l=AF(n,"","","");return SF(this._getPlayer(i),s,l,a),()=>{}}command(i,n,s,a){if("register"==s)return void this.register(i,a[0]);if("create"==s)return void this.create(i,n,a[0]||{});const l=this._getPlayer(i);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const rU="ng-animate-queued",sU="ng-animate-disabled",oU=".ng-animate-disabled",hz=[],aU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ra="__ng_removed";class WF{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const l=dv(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(a=>{null==s[a]&&(s[a]=n[a])})}}}const B1="void",JF=new WF(B1);class pz{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Oa(n,this._hostClassName)}listen(i,n,s,a){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const l=Wo(this._elementListeners,i,[]),h={name:n,phase:s,callback:a};l.push(h);const m=Wo(this._engine.statesByElement,i,{});return m.hasOwnProperty(n)||(Oa(i,Qx),Oa(i,Qx+"-"+n),m[n]=JF),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(h);_>=0&&l.splice(_,1),this._triggers[n]||delete m[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,a=!0){const l=this._getTrigger(n),h=new QF(this.id,n,i);let m=this._engine.statesByElement.get(i);m||(Oa(i,Qx),Oa(i,Qx+"-"+n),this._engine.statesByElement.set(i,m={}));let _=m[n];const D=new WF(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),m[n]=D,_||(_=JF),D.value!==B1&&_.value===D.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let a=0;a<n.length;a++){const l=n[a];if(!i.hasOwnProperty(l)||r[l]!==i[l])return!1}return!0}(_.params,D.params)){const $=[],ae=l.matchStyles(_.value,_.params,$),Re=l.matchStyles(D.value,D.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{ag(i,ae),bc(i,Re)})}return}const I=Wo(this._engine.playersByElement,i,[]);I.forEach($=>{$.namespaceId==this.id&&$.triggerName==n&&$.queued&&$.destroy()});let O=l.matchTransition(_.value,D.value,i,D.params),B=!1;if(!O){if(!a)return;O=l.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:O,fromState:_,toState:D,player:h,isFallbackTransition:B}),B||(Oa(i,rU),h.onStart(()=>{hv(i,rU)})),h.onDone(()=>{let $=this.players.indexOf(h);$>=0&&this.players.splice($,1);const ae=this._engine.playersByElement.get(i);if(ae){let Re=ae.indexOf(h);Re>=0&&ae.splice(Re,1)}}),this.players.push(h),I.push(h),h}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,Kx,!0);s.forEach(a=>{if(a[Ra])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,n,s,a){const l=this._engine.statesByElement.get(i);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const _=this.trigger(i,m,B1,a);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&gf(h).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const a=new Set;n.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const _=this._triggers[h].fallbackTransition,D=s[h]||JF,M=new WF(B1),A=new QF(this.id,h,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:h,transition:_,fromState:D,toState:M,player:A,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let h=i;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)s.markElementAsRemoved(this.id,i,!1,n);else{const l=i[Ra];(!l||l===aU)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Oa(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==s.triggerName){const _=AF(l,s.triggerName,s.fromState.value,s.toState.value);_._data=i,SF(s.player,m.phase,_,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(s)}),this._queue=[],n.sort((s,a)=>{const l=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class mz{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new pz(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let l=s;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,n)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let a=this._namespaceLookup[i];a&&a.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const a=Object.keys(s);for(let l=0;l<a.length;l++){const h=s[a[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&n.add(m)}}}return n}trigger(i,n,s,a){if(cA(n)){const l=this._fetchNamespace(i);if(l)return l.trigger(n,s,a),!0}return!1}insertNode(i,n,s,a){if(!cA(n))return;const l=n[Ra];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(n);h>=0&&this.collectedLeaveElements.splice(h,1)}if(i){const h=this._fetchNamespace(i);h&&h.insertNode(n,s)}a&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Oa(i,sU)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),hv(i,sU))}removeNode(i,n,s,a){if(cA(n)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(n,a):this.markElementAsRemoved(i,n,!1,a),s){const h=this.namespacesByHostElement.get(n);h&&h.id!==i&&h.removeNode(n,a)}}else this._onRemovalComplete(n,a)}markElementAsRemoved(i,n,s,a){this.collectedLeaveElements.push(n),n[Ra]={namespaceId:i,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,a,l){return cA(n)?this._fetchNamespace(i).listen(n,s,a,l):()=>{}}_buildInstruction(i,n,s,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,a,i.fromState.options,i.toState.options,n,l)}destroyInnerAnimations(i){let n=this.driver.query(i,Kx,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,LF,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return gf(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Ra];if(n&&n.setForRemoval){if(i[Ra]=aU,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,oU)&&this.markElementAsDisabled(i,!1),this.driver.query(i,oU,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Oa(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?gf(n).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new oA,a=[],l=new Map,h=[],m=new Map,_=new Map,D=new Map,M=new Set;this.disabledNodes.forEach(ut=>{M.add(ut);const Dt=this.driver.query(ut,".ng-animate-queued",!0);for(let Yt=0;Yt<Dt.length;Yt++)M.add(Dt[Yt])});const A=this.bodyNode,I=Array.from(this.statesByElement.keys()),O=uU(I,this.collectedEnterElements),B=new Map;let $=0;O.forEach((ut,Dt)=>{const Yt=FF+$++;B.set(Dt,Yt),ut.forEach(Sn=>Oa(Sn,Yt))});const ae=[],Re=new Set,Ve=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Dt=this.collectedLeaveElements[ut],Yt=Dt[Ra];Yt&&Yt.setForRemoval&&(ae.push(Dt),Re.add(Dt),Yt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(Sn=>Re.add(Sn)):Ve.add(Dt))}const He=new Map,We=uU(I,Array.from(Re));We.forEach((ut,Dt)=>{const Yt=Jx+$++;He.set(Dt,Yt),ut.forEach(Sn=>Oa(Sn,Yt))}),i.push(()=>{O.forEach((ut,Dt)=>{const Yt=B.get(Dt);ut.forEach(Sn=>hv(Sn,Yt))}),We.forEach((ut,Dt)=>{const Yt=He.get(Dt);ut.forEach(Sn=>hv(Sn,Yt))}),ae.forEach(ut=>{this.processLeaveNode(ut)})});const wn=[],Ci=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(n).forEach(Yt=>{const Sn=Yt.player,ts=Yt.element;if(wn.push(Sn),this.collectedEnterElements.length){const Tc=ts[Ra];if(Tc&&Tc.setForMove)return void Sn.destroy()}const Mc=!A||!this.driver.containsElement(A,ts),na=He.get(ts),Af=B.get(ts),cr=this._buildInstruction(Yt,s,Af,na,Mc);if(cr.errors&&cr.errors.length)Ci.push(cr);else{if(Mc)return Sn.onStart(()=>ag(ts,cr.fromStyles)),Sn.onDestroy(()=>bc(ts,cr.toStyles)),void a.push(Sn);if(Yt.isFallbackTransition)return Sn.onStart(()=>ag(ts,cr.fromStyles)),Sn.onDestroy(()=>bc(ts,cr.toStyles)),void a.push(Sn);cr.timelines.forEach(Tc=>Tc.stretchStartingKeyframe=!0),s.append(ts,cr.timelines),h.push({instruction:cr,player:Sn,element:ts}),cr.queriedElements.forEach(Tc=>Wo(m,Tc,[]).push(Sn)),cr.preStyleProps.forEach((Tc,dD)=>{const pk=Object.keys(Tc);if(pk.length){let Eg=_.get(dD);Eg||_.set(dD,Eg=new Set),pk.forEach(L2=>Eg.add(L2))}}),cr.postStyleProps.forEach((Tc,dD)=>{const pk=Object.keys(Tc);let Eg=D.get(dD);Eg||D.set(dD,Eg=new Set),pk.forEach(L2=>Eg.add(L2))})}});if(Ci.length){const ut=[];Ci.forEach(Dt=>{ut.push(`@${Dt.triggerName} has failed due to:\n`),Dt.errors.forEach(Yt=>ut.push(`- ${Yt}\n`))}),wn.forEach(Dt=>Dt.destroy()),this.reportError(ut)}const lr=new Map,Ni=new Map;h.forEach(ut=>{const Dt=ut.element;s.has(Dt)&&(Ni.set(Dt,Dt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,lr))}),a.forEach(ut=>{const Dt=ut.element;this._getPreviousPlayers(Dt,!1,ut.namespaceId,ut.triggerName,null).forEach(Sn=>{Wo(lr,Dt,[]).push(Sn),Sn.destroy()})});const ta=ae.filter(ut=>hU(ut,_,D)),id=new Map;cU(id,this.driver,Ve,D,Qu).forEach(ut=>{hU(ut,_,D)&&ta.push(ut)});const uD=new Map;O.forEach((ut,Dt)=>{cU(uD,this.driver,new Set(ut),_,"!")}),ta.forEach(ut=>{const Dt=id.get(ut),Yt=uD.get(ut);id.set(ut,Object.assign(Object.assign({},Dt),Yt))});const Tg=[],Cq=[],Dq={};h.forEach(ut=>{const{element:Dt,player:Yt,instruction:Sn}=ut;if(s.has(Dt)){if(M.has(Dt))return Yt.onDestroy(()=>bc(Dt,Sn.toStyles)),Yt.disabled=!0,Yt.overrideTotalTime(Sn.totalTime),void a.push(Yt);let ts=Dq;if(Ni.size>1){let na=Dt;const Af=[];for(;na=na.parentNode;){const cr=Ni.get(na);if(cr){ts=cr;break}Af.push(na)}Af.forEach(cr=>Ni.set(cr,ts))}const Mc=this._buildAnimation(Yt.namespaceId,Sn,lr,l,uD,id);if(Yt.setRealPlayer(Mc),ts===Dq)Tg.push(Yt);else{const na=this.playersByElement.get(ts);na&&na.length&&(Yt.parentPlayer=gf(na)),a.push(Yt)}}else ag(Dt,Sn.fromStyles),Yt.onDestroy(()=>bc(Dt,Sn.toStyles)),Cq.push(Yt),M.has(Dt)&&a.push(Yt)}),Cq.forEach(ut=>{const Dt=l.get(ut.element);if(Dt&&Dt.length){const Yt=gf(Dt);ut.setRealPlayer(Yt)}}),a.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<ae.length;ut++){const Dt=ae[ut],Yt=Dt[Ra];if(hv(Dt,Jx),Yt&&Yt.hasAnimation)continue;let Sn=[];if(m.size){let Mc=m.get(Dt);Mc&&Mc.length&&Sn.push(...Mc);let na=this.driver.query(Dt,LF,!0);for(let Af=0;Af<na.length;Af++){let cr=m.get(na[Af]);cr&&cr.length&&Sn.push(...cr)}}const ts=Sn.filter(Mc=>!Mc.destroyed);ts.length?bz(this,Dt,ts):this.processLeaveNode(Dt)}return ae.length=0,Tg.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Dt=this.players.indexOf(ut);this.players.splice(Dt,1)}),ut.play()}),Tg}elementContainsData(i,n){let s=!1;const a=n[Ra];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,a,l){let h=[];if(n){const m=this.playersByQueriedElement.get(i);m&&(h=m)}else{const m=this.playersByElement.get(i);if(m){const _=!l||l==B1;m.forEach(D=>{D.queued||!_&&D.triggerName!=a||h.push(D)})}}return(s||a)&&(h=h.filter(m=>!(s&&s!=m.namespaceId||a&&a!=m.triggerName))),h}_beforeAnimationBuild(i,n,s){const l=n.element,h=n.isRemovalTransition?void 0:i,m=n.isRemovalTransition?void 0:n.triggerName;for(const _ of n.timelines){const D=_.element,M=D!==l,A=Wo(s,D,[]);this._getPreviousPlayers(D,M,h,m,n.toState).forEach(O=>{const B=O.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),O.destroy(),A.push(O)})}ag(l,n.fromStyles)}_buildAnimation(i,n,s,a,l,h){const m=n.triggerName,_=n.element,D=[],M=new Set,A=new Set,I=n.timelines.map(B=>{const $=B.element;M.add($);const ae=$[Ra];if(ae&&ae.removedBeforeQueried)return new uv(B.duration,B.delay);const Re=$!==_,Ve=function(r){const i=[];return dU(r,i),i}((s.get($)||hz).map(lr=>lr.getRealPlayer())).filter(lr=>!!lr.element&&lr.element===$),He=l.get($),We=h.get($),wn=F6(0,this._normalizer,0,B.keyframes,He,We),Ci=this._buildPlayer(B,wn,Ve);if(B.subTimeline&&a&&A.add($),Re){const lr=new QF(i,m,$);lr.setRealPlayer(Ci),D.push(lr)}return Ci});D.forEach(B=>{Wo(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const a=s.indexOf(n);s.splice(a,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const a=s.indexOf(n);s.splice(a,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,B.element,B))}),M.forEach(B=>Oa(B,j6));const O=gf(I);return O.onDestroy(()=>{M.forEach(B=>hv(B,j6)),bc(_,n.toStyles)}),A.forEach(B=>{Wo(a,B,[]).push(O)}),O}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new uv(i.duration,i.delay)}}class QF{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new uv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>SF(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){Wo(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function cA(r){return r&&1===r.nodeType}function lU(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function cU(r,i,n,s,a){const l=[];n.forEach(_=>l.push(lU(_)));const h=[];s.forEach((_,D)=>{const M={};_.forEach(A=>{const I=M[A]=i.computeStyle(D,A,a);(!I||0==I.length)&&(D[Ra]=fz,h.push(D))}),r.set(D,M)});let m=0;return n.forEach(_=>lU(_,l[m++])),h}function uU(r,i){const n=new Map;if(r.forEach(m=>n.set(m,[])),0==i.length)return n;const a=new Set(i),l=new Map;function h(m){if(!m)return 1;let _=l.get(m);if(_)return _;const D=m.parentNode;return _=n.has(D)?D:a.has(D)?1:h(D),l.set(m,_),_}return i.forEach(m=>{const _=h(m);1!==_&&n.get(_).push(m)}),n}const uA="$$classes";function Oa(r,i){if(r.classList)r.classList.add(i);else{let n=r[uA];n||(n=r[uA]={}),n[i]=!0}}function hv(r,i){if(r.classList)r.classList.remove(i);else{let n=r[uA];n&&delete n[i]}}function bz(r,i,n){gf(n).onDone(()=>r.processLeaveNode(i))}function dU(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof N6?dU(s.players,i):i.push(s)}}function hU(r,i,n){const s=n.get(r);if(!s)return!1;let a=i.get(r);return a?s.forEach(l=>a.add(l)):i.set(r,s),n.delete(r),!0}class dA{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new mz(i,n,s),this._timelineEngine=new lz(i,n,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,n,s,a,l){const h=i+"-"+a;let m=this._triggerCache[h];if(!m){const _=[],D=GF(this._driver,l,_);if(_.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);m=function(r,i,n){return new sz(r,i,n)}(a,D,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(n,a,m)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,a){this._transitionEngine.insertNode(i,n,s,a)}onRemove(i,n,s,a){this._transitionEngine.removeNode(i,n,a||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,a){if("@"==s.charAt(0)){const[l,h]=L6(s);this._timelineEngine.command(l,n,h,a)}else this._transitionEngine.trigger(i,n,s,a)}listen(i,n,s,a,l){if("@"==s.charAt(0)){const[h,m]=L6(s);return this._timelineEngine.listen(h,n,m,l)}return this._transitionEngine.listen(i,n,s,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fU(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=KF(i[0]),i.length>1&&(s=KF(i[i.length-1]))):i&&(n=KF(i)),n||s?new fv(r,n,s):null}class fv{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let a=fv.initialStylesByElement.get(i);a||fv.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&bc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bc(this._element,this._initialStyles),this._endStyles&&(bc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(fv.initialStylesByElement.delete(this._element),this._startStyles&&(ag(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ag(this._element,this._endStyles),this._endStyles=null),bc(this._element,this._initialStyles),this._state=3)}}function KF(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const a=n[s];Cz(a)&&(i=i||{},i[a]=r[a])}return i}function Cz(r){return"display"===r||"position"===r}fv.initialStylesByElement=new WeakMap;const pU="animation",mU="animationend";class Tz{constructor(i,n,s,a,l,h,m){this._element=i,this._name=n,this._duration=s,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(r,i){const n=eL(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),hA(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),yU(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){gU(this._element,this._name,"paused")}resume(){gU(this._element,this._name,"running")}setPosition(i){const n=_U(this._element,this._name);this._position=i*this._duration,hA(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),yU(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=eL(r,"").split(","),a=XF(s,i);a>=0&&(s.splice(a,1),hA(r,"",s.join(",")))}(this._element,this._name))}}function gU(r,i,n){hA(r,"PlayState",n,_U(r,i))}function _U(r,i){const n=eL(r,"");return n.indexOf(",")>0?XF(n.split(","),i):XF([n],i)}function XF(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function yU(r,i,n){n?r.removeEventListener(mU,i):r.addEventListener(mU,i)}function hA(r,i,n,s){const a=pU+i;if(null!=s){const l=r.style[a];if(l.length){const h=l.split(",");h[s]=n,n=h.join(",")}}r.style[a]=n}function eL(r,i){return r.style[pU+i]||""}class bU{constructor(i,n,s,a,l,h,m,_){this.element=i,this.keyframes=n,this.animationName=s,this._duration=a,this._delay=l,this._finalStyles=m,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Tz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:HF(this.element,s))})}this.currentSnapshot=i}}class Iz extends uv{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=H6(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class wU{constructor(){this._count=0}validateStyleProperty(i){return RF(i)}matchesElement(i,n){return OF(i,n)}containsElement(i,n){return NF(i,n)}query(i,n,s){return PF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(m=>H6(m));let a=`@keyframes ${n} {\n`,l="";s.forEach(m=>{l=" ";const _=parseFloat(m.offset);a+=`${l}${100*_}% {\n`,l+=" ",Object.keys(m).forEach(D=>{const M=m[D];switch(D){case"offset":return;case"easing":return void(M&&(a+=`${l}animation-timing-function: ${M};\n`));default:return void(a+=`${l}${D}: ${M};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(i,n,s,a,l,h=[],m){const _=h.filter(ae=>ae instanceof bU),D={};W6(s,a)&&_.forEach(ae=>{let Re=ae.currentSnapshot;Object.keys(Re).forEach(Ve=>D[Ve]=Re[Ve])});const M=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(i[a]=s[a])})}),i}(n=J6(i,n,D));if(0==s)return new Iz(i,M);const A="gen_css_kf_"+this._count++,I=this.buildKeyframeElement(i,A,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(I);const B=fU(i,n),$=new bU(i,n,A,s,a,l,M,B);return $.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(I)),$}}class DU{constructor(i,n,s,a){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:HF(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Fz{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(MU().toString()),this._cssKeyframesDriver=new wU}validateStyleProperty(i){return RF(i)}matchesElement(i,n){return OF(i,n)}containsElement(i,n){return NF(i,n)}query(i,n,s){return PF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,a,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,a,l,h);const M={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(M.easing=l);const A={},I=h.filter(B=>B instanceof DU);W6(s,a)&&I.forEach(B=>{let $=B.currentSnapshot;Object.keys($).forEach(ae=>A[ae]=$[ae])});const O=fU(i,n=J6(i,n=n.map(B=>_f(B,!1)),A));return new DU(i,n,M,O)}}function MU(){return P6()&&Element.prototype.animate||{}}let Bz=(()=>{class r extends A6{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(n)?k6(n):n;return TU(this._renderer,null,s,"register",[a]),new Vz(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.FYo),o.LFG(Z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class Vz extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new Uz(this._id,i,n||{},this._renderer)}}class Uz{constructor(i,n,s,a){this.id=i,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return TU(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function TU(r,i,n,s,a){return r.setProperty(i,`@@${n}:${s}`,a)}const EU="@.disabled";let Hz=(()=>{class r{constructor(n,s,a){this.delegate=n,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(n,s){const l=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let M=this._rendererCache.get(l);return M||(M=new SU("",l,this.engine),this._rendererCache.set(l,M)),M}const h=s.id,m=s.id+"-"+this._currentId;this._currentId++,this.engine.register(m,n);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(h,m,n,M.name,M)};return s.data.animation.forEach(_),new Gz(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,a){n>=0&&n<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.FYo),o.LFG(dA),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class SU{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>n.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,a=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,a)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,a){this.delegate.setAttribute(i,n,s,a)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,a){this.delegate.setStyle(i,n,s,a)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==EU?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class Gz extends SU{constructor(i,n,s,a){super(n,s,a),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==EU?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const a=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let l=n.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,s,m)})}return this.delegate.listen(i,n,s)}}let qz=(()=>{class r extends dA{constructor(n,s,a){super(n.body,s,a)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z),o.LFG(Wx),o.LFG(zF))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Hn=new o.OlP("AnimationModuleType"),xU=[{provide:A6,useClass:Bz},{provide:zF,useFactory:function(){return new X5}},{provide:dA,useClass:qz},{provide:o.FYo,useFactory:function(r,i,n){return new Hz(r,i,n)},deps:[Bs,dA,o.R0b]}],AU=[{provide:Wx,useFactory:function(){return"function"==typeof MU()?new Fz:new wU}},{provide:Hn,useValue:"BrowserAnimations"},...xU],kU=[{provide:Wx,useClass:G6},{provide:Hn,useValue:"NoopAnimations"},...xU];let Wz=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?kU:AU}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:AU,imports:[Ug]}),r})();const IU=new o.GfV("12.2.5"),n8=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let nt=(()=>{class r{constructor(n,s,a){this._hasDoneGlobalChecks=!1,this._document=a,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,o.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&IU.full!==x6.full&&console.warn("The Angular Material version ("+IU.full+") does not match the Angular CDK version ("+x6.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(p_),o.LFG(n8,8),o.LFG(Z))},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[jr],jr]}),r})();function Rs(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=xe(i)}}}function Qo(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Ws(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=xe(i)}}}function Ku(r,i=0){return class extends r{constructor(...n){super(...n),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?jt(n):this.defaultTabIndex}}}function V1(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new me.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==i&&(this.errorState=l,this.stateChanges.next())}}}const i8=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,o.f3M)(o.soG)}});class sr{constructor(){this._localeChanges=new me.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return null==i||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,n){return this.getYear(i)-this.getYear(n)||this.getMonth(i)-this.getMonth(n)||this.getDate(i)-this.getDate(n)}sameDate(i,n){if(i&&n){let s=this.isValid(i),a=this.isValid(n);return s&&a?!this.compareDate(i,n):s==a}return i==n}clampDate(i,n,s){return n&&this.compareDate(i,n)<0?n:s&&this.compareDate(i,s)>0?s:i}}const vc=new o.OlP("mat-date-formats");let cg;try{cg="undefined"!=typeof Intl}catch(r){cg=!1}const s8={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},o8=pA(31,r=>String(r+1)),a8={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},l8=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function pA(r,i){const n=Array(r);for(let s=0;s<r;s++)n[s]=i(s);return n}let c8=(()=>{class r extends sr{constructor(n,s){super(),this.useUtcForDisplay=!0,super.setLocale(n),this.useUtcForDisplay=!s.TRIDENT,this._clampDate=s.TRIDENT||s.EDGE}getYear(n){return n.getFullYear()}getMonth(n){return n.getMonth()}getDate(n){return n.getDate()}getDayOfWeek(n){return n.getDay()}getMonthNames(n){if(cg){const s=new Intl.DateTimeFormat(this.locale,{month:n,timeZone:"utc"});return pA(12,a=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,a,1))))}return s8[n]}getDateNames(){if(cg){const n=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return pA(31,s=>this._stripDirectionalityCharacters(this._format(n,new Date(2017,0,s+1))))}return o8}getDayOfWeekNames(n){if(cg){const s=new Intl.DateTimeFormat(this.locale,{weekday:n,timeZone:"utc"});return pA(7,a=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,0,a+1))))}return a8[n]}getYearName(n){if(cg){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(s,n))}return String(this.getYear(n))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(n){return this.getDate(this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+1,0))}clone(n){return new Date(n.getTime())}createDate(n,s,a){let l=this._createDateWithOverflow(n,s,a);return l.getMonth(),l}today(){return new Date}parse(n){return"number"==typeof n?new Date(n):n?new Date(Date.parse(n)):null}format(n,s){if(!this.isValid(n))throw Error("NativeDateAdapter: Cannot format invalid date.");if(cg){this._clampDate&&(n.getFullYear()<1||n.getFullYear()>9999)&&(n=this.clone(n)).setFullYear(Math.max(1,Math.min(9999,n.getFullYear()))),s=Object.assign(Object.assign({},s),{timeZone:"utc"});const a=new Intl.DateTimeFormat(this.locale,s);return this._stripDirectionalityCharacters(this._format(a,n))}return this._stripDirectionalityCharacters(n.toDateString())}addCalendarYears(n,s){return this.addCalendarMonths(n,12*s)}addCalendarMonths(n,s){let a=this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+s,this.getDate(n));return this.getMonth(a)!=((this.getMonth(n)+s)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a}addCalendarDays(n,s){return this._createDateWithOverflow(this.getYear(n),this.getMonth(n),this.getDate(n)+s)}toIso8601(n){return[n.getUTCFullYear(),this._2digit(n.getUTCMonth()+1),this._2digit(n.getUTCDate())].join("-")}deserialize(n){if("string"==typeof n){if(!n)return null;if(l8.test(n)){let s=new Date(n);if(this.isValid(s))return s}}return super.deserialize(n)}isDateInstance(n){return n instanceof Date}isValid(n){return!isNaN(n.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(n,s,a){const l=new Date;return l.setFullYear(n,s,a),l.setHours(0,0,0,0),l}_2digit(n){return("00"+n).slice(-2)}_stripDirectionalityCharacters(n){return n.replace(/[\u200e\u200f]/g,"")}_format(n,s){const a=new Date;return a.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),a.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),n.format(a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(i8,8),o.LFG(It))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),d8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:sr,useClass:c8}],imports:[[ap]]}),r})();const h8={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let f8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[{provide:vc,useValue:h8}],imports:[[d8]]}),r})(),Js=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),mA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt],nt]}),r})();class p8{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const OU={enterDuration:225,exitDuration:150},sL=Bo({passive:!0}),NU=["mousedown","touchstart"],PU=["mouseup","mouseleave","touchend","touchcancel"];class oL{constructor(i,n,s,a){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=ai(s))}fadeInRipple(i,n,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},OU),s.animation);s.centered&&(i=a.left+a.width/2,n=a.top+a.height/2);const h=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),a=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+a*a)}(i,n,a),m=i-a.left,_=n-a.top,D=l.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=m-h+"px",M.style.top=_-h+"px",M.style.height=2*h+"px",M.style.width=2*h+"px",null!=s.color&&(M.style.backgroundColor=s.color),M.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(M),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const A=new p8(this,M,s);return A.state=0,this._activeRipples.add(A),s.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const I=A===this._mostRecentTransientRipple;A.state=1,!s.persistent&&(!I||!this._isPointerDown)&&A.fadeOut()},D),A}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,a=Object.assign(Object.assign({},OU),i.config.animation);s.style.transitionDuration=`${a.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=ai(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(NU))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PU),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=S0(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!mp(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,sL)})})}_removeTriggerEvents(){this._triggerElement&&(NU.forEach(i=>{this._triggerElement.removeEventListener(i,this,sL)}),this._pointerUpEventsRegistered&&PU.forEach(i=>{this._triggerElement.removeEventListener(i,this,sL)}))}}const gA=new o.OlP("mat-ripple-global-options");let Os=(()=>{class r{constructor(n,s,a,l,h){this._elementRef=n,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new oL(this,s,n,a)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,a){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(It),o.Y36(gA,8),o.Y36(Hn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),yl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt,ap],nt]}),r})(),aL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt]]}),r})(),bA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[yl,Xt,nt,aL]]}),r})();function C8(r,i){}class yf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const D8={dialogContainer:Yi("dialogContainer",[Jt("void, exit",Qe({opacity:0,transform:"scale(0.7)"})),Jt("enter",Qe({transform:"none"})),dn("* => enter",_n("150ms cubic-bezier(0, 0, 0.2, 1)",Qe({transform:"none",opacity:1}))),dn("* => void, * => exit",_n("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Qe({opacity:0})))])};let M8=(()=>{class r extends Jd{constructor(n,s,a,l,h,m){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=a,this._config=h,this._focusMonitor=m,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(_)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=$a(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=$a())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=$a();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(c_),o.Y36(o.sBO),o.Y36(Z,8),o.Y36(yf),o.Y36(ii))},r.\u0275dir=o.lG2({type:r,viewQuery:function(n,s){if(1&n&&o.Gf(li,7),2&n){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},features:[o.qOj]}),r})(),T8=(()=>{class r extends M8{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&o.WFA("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&n&&(o.Ikx("id",s._id),o.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),o.d8E("@dialogContainer",s._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&o.YNc(0,C8,0,0,"ng-template",0)},directives:[li],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[D8.dialogContainer]}}),r})(),E8=0;class bf{constructor(i,n,s="mat-dialog-"+E8++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new me.xQ,this._afterClosed=new me.xQ,this._beforeClosed=new me.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(vt(a=>"opened"===a.state),P(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(vt(a=>"closed"===a.state),P(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(vt(a=>27===a.keyCode&&!this.disableClose&&!Yn(a))).subscribe(a=>{a.preventDefault(),uL(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():uL(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(vt(n=>"closing"===n.state),P(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function uL(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const H1=new o.OlP("MatDialogData"),S8=new o.OlP("mat-dialog-default-options"),UU=new o.OlP("mat-dialog-scroll-strategy"),A8={provide:UU,deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.block()}};let k8=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M){this._overlay=n,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=_,this._dialogContainerType=D,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new me.xQ,this._afterOpenedAtThisLevel=new me.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Bp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zt(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new yf)).id&&this.getDialogById(s.id);const a=this._createOverlay(s),l=this._attachDialogContainer(a,s),h=this._attachDialogContent(n,l,a,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new zl({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:yf,useValue:s}]}),h=new Wd(this._dialogContainerType,s.viewContainerRef,l,s.componentFactoryResolver);return n.attach(h).instance}_attachDialogContent(n,s,a,l){const h=new this._dialogRefConstructor(a,s,l.id);if(n instanceof o.Rgc)s.attachTemplatePortal(new oo(n,null,{$implicit:l.data,dialogRef:h}));else{const m=this._createInjector(l,h,s),_=s.attachComponentPortal(new Wd(n,l.viewContainerRef,m));h.componentInstance=_.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(n,s,a){const l=n&&n.viewContainerRef&&n.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!l||!l.get(mn,null,o.XFs.Optional))&&h.push({provide:mn,useValue:{value:n.direction,change:(0,qe.of)()}}),o.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let a=s.length-1;a>-1;a--){let l=s[a];l!==n&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Li),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(nl),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},r.\u0275dir=o.lG2({type:r}),r})(),vf=(()=>{class r extends k8{constructor(n,s,a,l,h,m,_){super(n,s,l,m,_,h,bf,T8,H1)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Li),o.LFG(o.zs3),o.LFG(Ut,8),o.LFG(S8,8),o.LFG(UU),o.LFG(r,12),o.LFG(nl))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),R8=0,dL=(()=>{class r{constructor(n,s,a){this.dialogRef=n,this._elementRef=s,this._dialog=a,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=GU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(n){const s=n._matDialogClose||n._matDialogCloseResult;s&&(this.dialogResult=s.currentValue)}_onButtonClick(n){uL(this.dialogRef,0===n.screenX&&0===n.screenY?"keyboard":"mouse",this.dialogResult)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(bf,8),o.Y36(o.SBq),o.Y36(vf))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,s){1&n&&o.NdJ("click",function(l){return s._onButtonClick(l)}),2&n&&o.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),r})(),HU=(()=>{class r{constructor(n,s,a){this._dialogRef=n,this._elementRef=s,this._dialog=a,this.id="mat-dialog-title-"+R8++}ngOnInit(){this._dialogRef||(this._dialogRef=GU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const n=this._dialogRef._containerInstance;n&&!n._ariaLabelledBy&&(n._ariaLabelledBy=this.id)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(bf,8),o.Y36(o.SBq),o.Y36(vf))},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(n,s){2&n&&o.Ikx("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),r})(),G1=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),r})(),Y1=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),r})();function GU(r,i){let n=r.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?i.find(s=>s.id===n.id):null}let O8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[vf,A8],imports:[[Ta,Qa,nt],nt]}),r})();const N8=["underline"],P8=["connectionContainer"],F8=["inputContainer"],L8=["label"];function B8(r,i){1&r&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function V8(r,i){1&r&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function U8(r,i){if(1&r&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&r){const n=o.oxw(2);o.xp6(3),o.Oqu(n._control.placeholder)}}function H8(r,i){1&r&&o.Hsn(0,3,["*ngSwitchCase","true"])}function G8(r,i){1&r&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function Y8(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(n),o.oxw().updateOutlineGap()}),o.YNc(2,U8,4,1,"ng-container",12),o.YNc(3,H8,1,0,"ng-content",12),o.YNc(4,G8,2,0,"span",22),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),o.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),o.uIk("for",n._control.id)("aria-owns",n._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function j8(r,i){1&r&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function q8(r,i){if(1&r&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function Z8(r,i){if(1&r&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&r){const n=o.oxw();o.Q6J("@transitionMessages",n._subscriptAnimationState)}}function z8(r,i){if(1&r&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.Q6J("id",n._hintLabelId),o.xp6(1),o.Oqu(n.hintLabel)}}function $8(r,i){if(1&r&&(o.TgZ(0,"div",28),o.YNc(1,z8,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&r){const n=o.oxw();o.Q6J("@transitionMessages",n._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",n.hintLabel)}}const W8=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],J8=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Q8=0;const YU=new o.OlP("MatError");let ug=(()=>{class r{constructor(n,s){this.id="mat-error-"+Q8++,n||s.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(n){return new(n||r)(o.$8M("aria-live"),o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(n,s){2&n&&o.uIk("id",s.id)},inputs:{id:"id"},features:[o._Bn([{provide:YU,useExisting:r}])]}),r})();const K8={transitionMessages:Yi("transitionMessages",[Jt("enter",Qe({opacity:1,transform:"translateY(0%)"})),dn("void => enter",[Qe({opacity:0,transform:"translateY(-5px)"}),_n("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r}),r})();const jU=new o.OlP("MatHint");let hL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-label"]]}),r})(),e$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const qU=new o.OlP("MatPrefix"),ZU=new o.OlP("MatSuffix");let j1=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:ZU,useExisting:r}])]}),r})(),zU=0;const n$=Qo(class{constructor(r){this._elementRef=r}},"primary"),i$=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),pv=new o.OlP("MatFormField");let wf=(()=>{class r extends n${constructor(n,s,a,l,h,m,_,D){super(n),this._changeDetectorRef=s,this._dir=l,this._defaults=h,this._platform=m,this._ngZone=_,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new me.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+zU++,this._labelId="mat-form-field-label-"+zU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==D,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=xe(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe(zt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Be(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Be(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,kn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(zt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(zt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Be(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Nn(this._label.nativeElement,"transitionend").pipe(P(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,a=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),a&&n.push(a.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),m=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=l.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(_),M=n.children,A=this._getStartEnd(M[0].getBoundingClientRect());let I=0;for(let O=0;O<M.length;O++)I+=M[O].offsetWidth;s=Math.abs(A-D)-5,a=I>0?.75*I+10:0}for(let _=0;_<h.length;_++)h[_].style.width=`${s}px`;for(let _=0;_<m.length;_++)m[_].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(mn,8),o.Y36(i$,8),o.Y36(It),o.Y36(o.R0b),o.Y36(Hn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,dg,5),o.Suo(a,dg,7),o.Suo(a,hL,5),o.Suo(a,hL,7),o.Suo(a,e$,5),o.Suo(a,YU,5),o.Suo(a,jU,5),o.Suo(a,qU,5),o.Suo(a,ZU,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._controlNonStatic=l.first),o.iGM(l=o.CRH())&&(s._controlStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(s._placeholderChild=l.first),o.iGM(l=o.CRH())&&(s._errorChildren=l),o.iGM(l=o.CRH())&&(s._hintChildren=l),o.iGM(l=o.CRH())&&(s._prefixChildren=l),o.iGM(l=o.CRH())&&(s._suffixChildren=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(N8,5),o.Gf(P8,7),o.Gf(F8,5),o.Gf(L8,5)),2&n){let a;o.iGM(a=o.CRH())&&(s.underlineRef=a.first),o.iGM(a=o.CRH())&&(s._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(s._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(s._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&o.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:pv,useExisting:r}]),o.qOj],ngContentSelectors:J8,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(o.F$t(W8),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(l){return s._control.onContainerClick&&s._control.onContainerClick(l)}),o.YNc(3,B8,9,0,"ng-container",3),o.YNc(4,V8,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,Y8,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,j8,2,0,"div",9),o.qZA(),o.YNc(11,q8,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,Z8,2,1,"div",12),o.YNc(14,$8,5,2,"div",13),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Q6J("ngIf","outline"==s.appearance),o.xp6(1),o.Q6J("ngIf",s._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",s._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",s._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=s.appearance),o.xp6(1),o.Q6J("ngSwitch",s._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[ft,Wi,ei,dp],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[K8.transitionMessages]},changeDetection:0}),r})(),fL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,nt,hp],nt]}),r})();const WU=Bo({passive:!0});let JU=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return R.E;const s=ai(n),a=this._monitoredElements.get(s);if(a)return a.subject;const l=new me.xQ,h="cdk-text-field-autofilled",m=_=>{"cdk-text-field-autofill-start"!==_.animationName||s.classList.contains(h)?"cdk-text-field-autofill-end"===_.animationName&&s.classList.contains(h)&&(s.classList.remove(h),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(s.classList.add(h),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",m,WU),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:l,unlisten:()=>{s.removeEventListener("animationstart",m,WU)}}),l}stopMonitoring(n){const s=ai(n),a=this._monitoredElements.get(s);a&&(a.unlisten(),a.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(It),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(It),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})(),QU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[ap]]}),r})();const KU=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),s$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let o$=0;const a$=V1(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let hg=(()=>{class r extends a${constructor(n,s,a,l,h,m,_,D,M,A){super(m,l,h,a),this._elementRef=n,this._platform=s,this._autofillMonitor=D,this._formField=A,this._uid="mat-input-"+o$++,this.focused=!1,this.stateChanges=new me.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>GD().has(B));const I=this._elementRef.nativeElement,O=I.nodeName.toLowerCase();this._inputValueAccessor=_||I,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&M.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",B=>{const $=B.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=xe(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=xe(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&GD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=xe(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const a=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(a!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=a,a?l.setAttribute("placeholder",a):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){s$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(It),o.Y36(fs,10),o.Y36(Ys,8),o.Y36(Bi,8),o.Y36(Js),o.Y36(KU,10),o.Y36(JU),o.Y36(o.R0b),o.Y36(pv,8))},r.\u0275dir=o.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&o.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(o.Ikx("disabled",s.disabled)("required",s.required),o.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),o.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[o._Bn([{provide:dg,useExisting:r}]),o.qOj,o.TTD]}),r})(),l$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Js],imports:[[QU,fL,nt],QU,fL]}),r})();function c$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function u$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function d$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function h$(r,i){if(1&r&&(o.TgZ(0,"mat-error",9),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}let XU=(()=>{class r{constructor(n,s,a,l){this.formBuilder=n,this.authService=s,this.dialogRef=a,this.data=l,this.userDatasForm=this.formBuilder.group({nom:["",[gt.required,gt.minLength(5),gt.maxLength(25)]],prenom:["",[gt.required,gt.minLength(3),gt.maxLength(25)]],email:[{value:this.authService.getCurrentUser().email,disabled:!0}]}),this.errorMessage="",this.description=""}ngOnInit(){this.initForm()}initForm(){}close(){this.dialogRef.close()}save(){this.dialogRef.close(this.userDatasForm.value)}getErrorMessage(n){let s="";switch(n){case"nom":this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("required")&&(s="Vous devez saisir votre nom"),(this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("minlength")||this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("maxlength"))&&(s="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("required")&&(s="Vous devez saisir votre pr\xe9nom"),(this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("minlength")||this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("maxlength"))&&(s="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("required")&&(s="Vous devez saisir une adresse email"),this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("email")&&(s="L'adresse saisie n'est pas valide.");break;case"password1":this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(Kr),o.Y36(bf),o.Y36(H1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-user-datas"]],decls:21,vars:5,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2),o.TgZ(3,"div",3),o.YNc(4,c$,2,1,"mat-error",4),o.YNc(5,u$,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"mat-form-field",1),o._UZ(8,"input",5),o.TgZ(9,"div",3),o.YNc(10,d$,2,1,"mat-error",4),o.YNc(11,h$,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",1),o._UZ(14,"input",6),o.qZA(),o._UZ(15,"br"),o.qZA(),o.TgZ(16,"mat-dialog-actions"),o.TgZ(17,"button",7),o.NdJ("click",function(){return s.save()}),o._uU(18,"Ok"),o.qZA(),o.TgZ(19,"button",8),o.NdJ("click",function(){return s.close()}),o._uU(20,"Annuler"),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.userDatasForm),o.xp6(4),o.Q6J("ngIf",(s.userDatasForm.controls.nom.hasError("minlength")||s.userDatasForm.controls.nom.hasError("maxlength"))&&!s.userDatasForm.controls.nom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.userDatasForm.controls.nom.hasError("required")),o.xp6(5),o.Q6J("ngIf",(s.userDatasForm.controls.prenom.hasError("minlength")||s.userDatasForm.controls.prenom.hasError("maxlength"))&&!s.userDatasForm.controls.prenom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.userDatasForm.controls.prenom.hasError("required")))},directives:[G1,sl,Bi,wf,hg,jo,rl,Ea,ft,Y1,ug],styles:[""]}),r})();var f$=L(5893);let Kr=(()=>{class r{constructor(n,s,a,l,h,m){this.dialog=n,this.router=s,this.ngZone=a,this.usersService=l,this.angularFirestore=h,this.angularFireAuth=m,this.visiteur={email:"memoiremorieroise@gmail.com",password:"MyPepita51"},this.userId="",this.authSubject=new me.xQ,this.status=0,this.angularFireAuth.onAuthStateChanged(_=>{null==_?this.signInVisiteur().then(D=>{this.emitUserChanged()}):_.email==this.visiteur.email?(this.currentUser=new F1("",_.uid,"Visiteur","Visiteur","Visiteur",!0,Ri.initial),this.emitUserChanged()):l.getUserByUid(_.uid).subscribe(M=>{M&&M.docs.length>0?(this.currentUser=new F1(M.docs[0].id,_.uid,M.docs[0].data().nom,M.docs[0].data().prenom,M.docs[0].data().email,M.docs[0].data().emailVerified,M.docs[0].data().status),this.emitUserChanged()):this.emitUserChanged()},M=>{console.log(M.message)})})}emitUserChanged(){this.authSubject.next(this.currentUser)}getVisiteur(){return this.visiteur.email}getCurrentUser(){return this.currentUser}getStatus(){return this.status}signInVisiteur(){return this.SignInUser(this.visiteur.email,this.visiteur.password)}createNewUser(n,s){return new Promise((a,l)=>{this.angularFireAuth.createUserWithEmailAndPassword(n.email.trim(),s.trim()).then(h=>{h.user.updateProfile({displayName:n.nom+"/"+n.prenom}),n.uid=h.user.uid,h.user.sendEmailVerification().then(()=>{alert("Un email vous a \xe9t\xe9 envoy\xe9, merci de cliquer sur le lien qu'il contien afin de valider v\xf4tre inscription.")}).catch(m=>{console.log(m),l(m)}),this.angularFireAuth.signInWithEmailAndPassword(this.visiteur.email,this.visiteur.password).then(m=>{}),this.router.navigate(["app-accueil"]),a(!0)})})}updateCurrentUser(n){}SignInUser(n,s){return this.angularFireAuth.signInWithEmailAndPassword(n,s).then(a=>{a.user.emailVerified?this.emitUserChanged():this.router.navigate(["app-unvalidate-user-message"])}).catch(a=>{console.log(a.message),alert("Erreur de connexion, mail ou mot de passe incorrect ?")})}SignOut(){this.currentUser=void 0,this.angularFireAuth.signOut().then(()=>{}).catch(n=>{console.log(n)}).finally(()=>{this.signInVisiteur().then(()=>{this.emitUserChanged()})})}sendMailNewUser(){this.angularFireAuth.currentUser.then(n=>{null==n||n.sendEmailVerification()})}getCurrentAuthUser(){return this.angularFireAuth.currentUser}ForgotPassword(n){return this.angularFireAuth.sendPasswordResetEmail(n).then(()=>{alert("Un email de r\xe9initialisation du mot de passe vous a \xe9t\xe9 envoy\xe9, v\xe9rifiez votre bo\xeete de r\xe9ception.")}).catch(s=>{alert("Erreur de connexion, avez-vous bien saisi l'adresse ?."),console.log(s)})}connectWidthGoogle(){const n=new f$.N;let s=[];return this.angularFireAuth.signInWithPopup(n).then(a=>{var l,h,m,_,D,M;null==this.currentUser&&(this.currentUser=new F1),(null===(l=a.user)||void 0===l?void 0:l.emailVerified)?(this.currentUser.email=null===(h=a.user.email)||void 0===h?void 0:h.toString(),this.currentUser.emailVerified=!0,this.currentUser.uid=a.user.uid,this.currentUser.nom=null===(m=a.user.displayName)||void 0===m?void 0:m.substring(0,null===(_=a.user.displayName)||void 0===_?void 0:_.indexOf("/")),this.currentUser.prenom=null===(D=a.user.displayName)||void 0===D?void 0:D.substring((null===(M=a.user.displayName)||void 0===M?void 0:M.indexOf("/"))+1),this.currentUser.status=Vt.visiteur,this.getUserFromDB(a.user).subscribe(A=>{var I;if(s=A.docs.map(O=>{O.data().id=O.id}),0===s.length){const O=new yf;O.disableClose=!0,O.autoFocus=!0,O.width="500px",O.data={email:null===(I=this.currentUser)||void 0===I?void 0:I.email},this.dialog.open(XU,O).afterClosed().subscribe($=>{this.currentUser.nom=$.nom,this.currentUser.prenom=$.prenom,this.usersService.addUser(this.currentUser)})}})):this.router.navigate(["app-unvalidate-user-message"])},a=>{console.log(a),alert("Erreur de connexion, adresse mail ou mot de passe incorrect ?")})}getUserFromDB(n){return this.angularFirestore.collection("Users/",s=>s.where("uid","==",n.uid)).get()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(vf),o.LFG(Wn),o.LFG(o.R0b),o.LFG(P1),o.LFG(Ju),o.LFG(CF))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ko=(()=>{class r{constructor(n,s,a,l,h,m){this.photosService=n,this.articlesService=s,this.usersService=a,this.themesService=l,this.authService=h,this.angularFirestore=m,this.allArticles=[],this.ArticlesAValider=[],this.photos=[],this.photosAValider=[],this.listeMessagesNonLus=[],this.listeMessagesLus=[],this.bytesTransfered=0,this.dataSubject=new me.xQ,this.userSubscription=this.authService.authSubject.subscribe(_=>{null!=_.status&&_.status>=Ri.initial&&this.initData().then(()=>{this.emitDataChange()})})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}emitDataChange(){this.dataSubject.next()}initData(){return new Promise((n,s)=>{this.themesService.getThemes().subscribe(a=>{this.themesService.listeThemes=a.docs.map(l=>{const h=l.data();return h.id=l.id,h}),this.themesService.listeThemes&&(this.themesService.currentTheme=this.themesService.listeThemes[0],this.themesService.listeThemes.forEach(l=>{this.articlesService.getArticlesDuTheme(l.id).subscribe(h=>{var m;l.articles=h.docs.map(_=>{const D=_.data();return D.id=_.id,D}),null===(m=l.articles)||void 0===m||m.forEach(_=>{_.auteur&&_.auteur.length>0&&this.usersService.getUserByUid(_.auteur).subscribe(D=>{D.docs.filter(M=>{_.nomAuteur=M.data().prenom})},D=>{console.log("Erreur du chargement de l'auteur.\n"+D.message),s(D)})})},h=>{console.log("Erreur du chargement des articles du th\xe8me :\n"+h.massage),s(h.message)})})),n(this.themesService.listeThemes)},a=>{console.log("Erreur dans le chergement des th\xe8mes.\n"+a.message),s(a)}),this.photosService.getPhotos(),this.articlesService.getArticles().subscribe(a=>{this.allArticles=a.docs.map(l=>{const h=l.data();return h.id=l.id,h}),this.allArticles&&this.allArticles.forEach(l=>{l.auteur&&l.auteur.length>0&&this.usersService.getUserByUid(l.auteur).subscribe(h=>{h.docs.filter(m=>{l.nomAuteur=m.data().prenom})},h=>{console.log("Erreur dans le chargement des auteurs.\n"+h.message),s(h)})})})})}uploadFile(n){}getPhotosByPeriode(n,s){return this.angularFirestore.collection("Photos").get()}getPhotosDeClasseFromStorage(){return this.angularFirestore.collection("Classes").get()}GetSinglePhotoFromDB(n){return this.angularFirestore.collection("Photos").doc(n).get()}getPhotosAValider(){this.angularFirestore.collection("Photos",n=>n.where("status","==",0)).get().subscribe(n=>{this.photosAValider=n.docs})}validerPhoto(n){return this.angularFirestore.collection("Photos").doc(n.id).update({status:Ri.valide})}rejeterPhoto(n){return this.angularFirestore.collection("Photos").doc(n.id).update({status:Ri.rejete})}getMessagesNonLus(){this.angularFirestore.collection("Message",n=>n.where("lu","==",!1)).get().subscribe(n=>{this.listeMessagesNonLus=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})})}addMessage(n){this.angularFirestore.collection("Message").add({date:n.date.toJSON(),email:n.email,texte:n.texte,lu:n.lu}).catch(s=>{console.log("Erreur "+s)})}SoldeMessage(n){this.angularFirestore.collection("Message").doc(n.id).update({lu:!0})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(mf),o.LFG(cv),o.LFG(P1),o.LFG($x),o.LFG(Kr),o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Vt=(()=>(function(r){r[r.visiteur=1]="visiteur",r[r.moderateur=2]="moderateur",r[r.editArticle=4]="editArticle",r[r.editPhotosDeClasse=8]="editPhotosDeClasse",r[r.administrateur=255]="administrateur"}(Vt||(Vt={})),Vt))(),Ri=(()=>(function(r){r[r.initial=0]="initial",r[r.valide=1]="valide",r[r.rejete=256]="rejete",r[r.supprime=4096]="supprime",r[r.visiteur=65536]="visiteur"}(Ri||(Ri={})),Ri))();function p$(r,i){1&r&&o.Hsn(0)}const pL=["*"];function m$(r,i){}const g$=function(r){return{animationDuration:r}},_$=function(r,i){return{value:r,params:i}},y$=["tabBodyWrapper"],b$=["tabHeader"];function v$(r,i){}function w$(r,i){if(1&r&&o.YNc(0,v$,0,0,"ng-template",9),2&r){const n=o.oxw().$implicit;o.Q6J("cdkPortalOutlet",n.templateLabel)}}function C$(r,i){if(1&r&&o._uU(0),2&r){const n=o.oxw().$implicit;o.Oqu(n.textLabel)}}function D$(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const a=o.CHM(n),l=a.$implicit,h=a.index,m=o.oxw(),_=o.MAs(1);return m._handleClick(l,_,h)})("cdkFocusChange",function(a){const h=o.CHM(n).index;return o.oxw()._tabFocusChanged(a,h)}),o.TgZ(1,"div",7),o.YNc(2,w$,1,1,"ng-template",8),o.YNc(3,C$,1,1,"ng-template",8),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=i.index,a=o.oxw();o.ekj("mat-tab-label-active",a.selectedIndex==s),o.Q6J("id",a._getTabLabelId(s))("disabled",n.disabled)("matRippleDisabled",n.disabled||a.disableRipple),o.uIk("tabIndex",a._getTabIndex(n,s))("aria-posinset",s+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(s))("aria-selected",a.selectedIndex==s)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),o.xp6(2),o.Q6J("ngIf",n.templateLabel),o.xp6(1),o.Q6J("ngIf",!n.templateLabel)}}function M$(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-tab-body",10),o.NdJ("_onCentered",function(){return o.CHM(n),o.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(a){return o.CHM(n),o.oxw()._setTabBodyWrapperHeight(a)}),o.qZA()}if(2&r){const n=i.$implicit,s=i.index,a=o.oxw();o.ekj("mat-tab-body-active",a.selectedIndex===s),o.Q6J("id",a._getTabContentId(s))("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",a.animationDuration),o.uIk("tabindex",null!=a.contentTabIndex&&a.selectedIndex===s?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(s))}}const eH=["tabListContainer"],tH=["tabList"],nH=["nextPaginator"],iH=["previousPaginator"],E$=new o.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return i=>({left:i?(i.offsetLeft||0)+"px":"0",width:i?(i.offsetWidth||0)+"px":"0"})}});let vA=(()=>{class r{constructor(n,s,a,l){this._elementRef=n,this._ngZone=s,this._inkBarPositioner=a,this._animationMode=l}alignToElement(n){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(n))}):this._setStyles(n)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(n){const s=this._inkBarPositioner(n),a=this._elementRef.nativeElement;a.style.left=s.left,a.style.width=s.width}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(E$),o.Y36(Hn,8))},r.\u0275dir=o.lG2({type:r,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)}}),r})();const rH=new o.OlP("MatTabContent"),sH=new o.OlP("MatTabLabel"),x$=Rs(class{}),oH=new o.OlP("MAT_TAB_GROUP");let aH=(()=>{class r extends x${constructor(n,s){super(),this._viewContainerRef=n,this._closestTabGroup=s,this.textLabel="",this._contentPortal=null,this._stateChanges=new me.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new oo(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&(this._templateLabel=n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.s_b),o.Y36(oH,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,sH,5),o.Suo(a,rH,7,o.Rgc)),2&n){let l;o.iGM(l=o.CRH())&&(s.templateLabel=l.first),o.iGM(l=o.CRH())&&(s._explicitContent=l.first)}},viewQuery:function(n,s){if(1&n&&o.Gf(o.Rgc,7),2&n){let a;o.iGM(a=o.CRH())&&(s._implicitContent=a.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.qOj,o.TTD],ngContentSelectors:pL,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.YNc(0,p$,1,0,"ng-template"))},encapsulation:2}),r})();const A$={translateTab:Yi("translateTab",[Jt("center, void, left-origin-center, right-origin-center",Qe({transform:"none"})),Jt("left",Qe({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Jt("right",Qe({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),dn("* => left, * => right, left => center, right => center",_n("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),dn("void => left-origin-center",[Qe({transform:"translate3d(-100%, 0, 0)"}),_n("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),dn("void => right-origin-center",[Qe({transform:"translate3d(100%, 0, 0)"}),_n("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let k$=(()=>{class r extends li{constructor(n,s,a,l){super(n,s,l),this._host=a,this._centeringSub=At.w.EMPTY,this._leavingSub=At.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(zt(this._host._isCenterPosition(this._host._position))).subscribe(n=>{n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36((0,o.Gpc)(()=>lH)),o.Y36(Z))},r.\u0275dir=o.lG2({type:r,selectors:[["","matTabBodyHost",""]],features:[o.qOj]}),r})(),I$=(()=>{class r{constructor(n,s,a){this._elementRef=n,this._dir=s,this._dirChangeSubscription=At.w.EMPTY,this._translateTabComplete=new me.xQ,this._onCentering=new o.vpe,this._beforeCentering=new o.vpe,this._afterLeavingCenter=new o.vpe,this._onCentered=new o.vpe(!0),this.animationDuration="500ms",s&&(this._dirChangeSubscription=s.change.subscribe(l=>{this._computePositionAnimationState(l),a.markForCheck()})),this._translateTabComplete.pipe(vn((l,h)=>l.fromState===h.fromState&&l.toState===h.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(n){this._positionIndex=n,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){const s=this._isCenterPosition(n.toState);this._beforeCentering.emit(s),s&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(n){return"center"==n||"left-origin-center"==n||"right-origin-center"==n}_computePositionAnimationState(n=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==n?"left":"right":this._positionIndex>0?"ltr"==n?"right":"left":"center"}_computePositionFromOrigin(n){const s=this._getLayoutDirection();return"ltr"==s&&n<=0||"rtl"==s&&n>0?"left-origin-center":"right-origin-center"}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mn,8),o.Y36(o.sBO))},r.\u0275dir=o.lG2({type:r,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),r})(),lH=(()=>{class r extends I${constructor(n,s,a){super(n,s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mn,8),o.Y36(o.sBO))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-body"]],viewQuery:function(n,s){if(1&n&&o.Gf(li,5),2&n){let a;o.iGM(a=o.CRH())&&(s._portalHost=a.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(n,s){1&n&&(o.TgZ(0,"div",0,1),o.NdJ("@translateTab.start",function(l){return s._onTranslateTabStarted(l)})("@translateTab.done",function(l){return s._translateTabComplete.next(l)}),o.YNc(2,m$,0,0,"ng-template",2),o.qZA()),2&n&&o.Q6J("@translateTab",o.WLB(3,_$,s._position,o.VKq(1,g$,s.animationDuration)))},directives:[k$],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[A$.translateTab]}}),r})();const cH=new o.OlP("MAT_TABS_CONFIG");let R$=0;class O${}const N$=Qo(Ws(class{constructor(r){this._elementRef=r}}),"primary");let P$=(()=>{class r extends N${constructor(n,s,a,l){var h;super(n),this._changeDetectorRef=s,this._animationMode=l,this._tabs=new o.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=At.w.EMPTY,this._tabLabelSubscription=At.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.vpe,this.focusChange=new o.vpe,this.animationDone=new o.vpe,this.selectedTabChange=new o.vpe(!0),this._groupId=R$++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,this.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,this.contentTabIndex=null!==(h=null==a?void 0:a.contentTabIndex)&&void 0!==h?h:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(n){this._dynamicHeight=xe(n)}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=jt(n,null)}get animationDuration(){return this._animationDuration}set animationDuration(n){this._animationDuration=/^\d+$/.test(n)?n+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=jt(n,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){const s=this._elementRef.nativeElement;s.classList.remove(`mat-background-${this.backgroundColor}`),n&&s.classList.add(`mat-background-${n}`),this._backgroundColor=n}ngAfterContentChecked(){const n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){const s=null==this._selectedIndex;if(!s){this.selectedTabChange.emit(this._createChangeEvent(n));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,l)=>a.isActive=l===n),s||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((s,a)=>{s.position=a-n,null!=this._selectedIndex&&0==s.position&&!s.origin&&(s.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const s=this._tabs.toArray();for(let a=0;a<s.length;a++)if(s[a].isActive){this._indexToSelect=this._selectedIndex=a;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(zt(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(s=>s._closestTabGroup===this||!s._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(n){const s=this._tabHeader;s&&(s.focusIndex=n)}_focusChanged(n){this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){const s=new O$;return s.index=n,this._tabs&&this._tabs.length&&(s.tab=this._tabs.toArray()[n]),s}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,kn.T)(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const s=this._tabBodyWrapper.nativeElement;s.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(s.style.height=n+"px")}_removeTabBodyWrapperHeight(){const n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,s,a){n.disabled||(this.selectedIndex=s.focusIndex=a)}_getTabIndex(n,s){return n.disabled?null:this.selectedIndex===s?0:-1}_tabFocusChanged(n,s){n&&"mouse"!==n&&"touch"!==n&&(this._tabHeader.focusIndex=s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(cH,8),o.Y36(Hn,8))},r.\u0275dir=o.lG2({type:r,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.qOj]}),r})(),F$=(()=>{class r extends P${constructor(n,s,a,l){super(n,s,a,l)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(cH,8),o.Y36(Hn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-group"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,aH,5),2&n){let l;o.iGM(l=o.CRH())&&(s._allTabs=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(y$,5),o.Gf(b$,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._tabBodyWrapper=a.first),o.iGM(a=o.CRH())&&(s._tabHeader=a.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-tab-group-dynamic-height",s.dynamicHeight)("mat-tab-group-inverted-header","below"===s.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o._Bn([{provide:oH,useExisting:r}]),o.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-tab-header",0,1),o.NdJ("indexFocused",function(l){return s._focusChanged(l)})("selectFocusedIndex",function(l){return s.selectedIndex=l}),o.YNc(2,D$,4,14,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.YNc(5,M$,1,9,"mat-tab-body",5),o.qZA()),2&n&&(o.Q6J("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination),o.xp6(2),o.Q6J("ngForOf",s._tabs),o.xp6(1),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),o.xp6(2),o.Q6J("ngForOf",s._tabs))},directives:function(){return[H$,yt,uH,Os,h_,ft,li,lH]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),r})();const L$=Rs(class{});let uH=(()=>{class r extends L${constructor(n){super(),this.elementRef=n}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq))},r.\u0275dir=o.lG2({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,s){2&n&&(o.uIk("aria-disabled",!!s.disabled),o.ekj("mat-tab-disabled",s.disabled))},inputs:{disabled:"disabled"},features:[o.qOj]}),r})();const dH=Bo({passive:!0});let fH=(()=>{class r{constructor(n,s,a,l,h,m,_){this._elementRef=n,this._changeDetectorRef=s,this._viewportRuler=a,this._dir=l,this._ngZone=h,this._platform=m,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new me.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new me.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.vpe,this.indexFocused=new o.vpe,h.runOutsideAngular(()=>{Nn(n.nativeElement,"mouseleave").pipe(Be(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){n=jt(n),this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}ngAfterViewInit(){Nn(this._previousPaginator.nativeElement,"touchstart",dH).pipe(Be(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Nn(this._nextPaginator.nativeElement,"touchstart",dH).pipe(Be(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const n=this._dir?this._dir.change:(0,qe.of)("ltr"),s=this._viewportRuler.change(150),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Kc(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(a):a(),(0,kn.T)(n,s,this._items.changes).pipe(Be(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(a)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Be(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Yn(n))switch(n.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n));break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){const n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){if(!this._items)return!0;const s=this._items?this._items.toArray()[n]:null;return!!s&&!s.disabled}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();const s=this._tabListContainer.nativeElement;s.scrollLeft="ltr"==this._getLayoutDirection()?0:s.scrollWidth-s.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const n=this.scrollDistance,s="ltr"===this._getLayoutDirection()?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(s)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){return this._scrollTo(this._scrollDistance+("before"==n?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;const s=this._items?this._items.toArray()[n]:null;if(!s)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:h}=s.elementRef.nativeElement;let m,_;"ltr"==this._getLayoutDirection()?(m=l,_=m+h):(_=this._tabList.nativeElement.offsetWidth-l,m=_-h);const D=this.scrollDistance,M=this.scrollDistance+a;m<D?this.scrollDistance-=D-m+60:_>M&&(this.scrollDistance+=_-M+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const n=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;n||(this.scrollDistance=0),n!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=n}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,s=n?n.elementRef.nativeElement:null;s?this._inkBar.alignToElement(s):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,s){s&&null!=s.button&&0!==s.button||(this._stopInterval(),_p(650,100).pipe(Be((0,kn.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:l}=this._scrollHeader(n);(0===l||l>=a)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const s=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(s,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:s,distance:this._scrollDistance}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(pr),o.Y36(mn,8),o.Y36(o.R0b),o.Y36(It),o.Y36(Hn,8))},r.\u0275dir=o.lG2({type:r,inputs:{disablePagination:"disablePagination"}}),r})(),U$=(()=>{class r extends fH{constructor(n,s,a,l,h,m,_){super(n,s,a,l,h,m,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=xe(n)}_itemSelected(n){n.preventDefault()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(pr),o.Y36(mn,8),o.Y36(o.R0b),o.Y36(It),o.Y36(Hn,8))},r.\u0275dir=o.lG2({type:r,inputs:{disableRipple:"disableRipple"},features:[o.qOj]}),r})(),H$=(()=>{class r extends U${constructor(n,s,a,l,h,m,_){super(n,s,a,l,h,m,_)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(pr),o.Y36(mn,8),o.Y36(o.R0b),o.Y36(It),o.Y36(Hn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-tab-header"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,uH,4),2&n){let l;o.iGM(l=o.CRH())&&(s._items=l)}},viewQuery:function(n,s){if(1&n&&(o.Gf(vA,7),o.Gf(eH,7),o.Gf(tH,7),o.Gf(nH,5),o.Gf(iH,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._inkBar=a.first),o.iGM(a=o.CRH())&&(s._tabListContainer=a.first),o.iGM(a=o.CRH())&&(s._tabList=a.first),o.iGM(a=o.CRH())&&(s._nextPaginator=a.first),o.iGM(a=o.CRH())&&(s._previousPaginator=a.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-tab-header-rtl","rtl"==s._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.qOj],ngContentSelectors:pL,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return s._handlePaginatorClick("before")})("mousedown",function(l){return s._handlePaginatorPress("before",l)})("touchend",function(){return s._stopInterval()}),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.NdJ("keydown",function(l){return s._handleKeydown(l)}),o.TgZ(5,"div",5,6),o.NdJ("cdkObserveContent",function(){return s._onContentChanges()}),o.TgZ(7,"div",7),o.Hsn(8),o.qZA(),o._UZ(9,"mat-ink-bar"),o.qZA(),o.qZA(),o.TgZ(10,"div",8,9),o.NdJ("mousedown",function(l){return s._handlePaginatorPress("after",l)})("click",function(){return s._handlePaginatorClick("after")})("touchend",function(){return s._stopInterval()}),o._UZ(12,"div",2),o.qZA()),2&n&&(o.ekj("mat-tab-header-pagination-disabled",s._disableScrollBefore),o.Q6J("matRippleDisabled",s._disableScrollBefore||s.disableRipple),o.xp6(5),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),o.xp6(5),o.ekj("mat-tab-header-pagination-disabled",s._disableScrollAfter),o.Q6J("matRippleDisabled",s._disableScrollAfter||s.disableRipple))},directives:[Os,dp,vA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),r})(),Z$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,nt,Qa,yl,hp,Xc],nt]}),r})();class z${call(i,n){return n.subscribe(new $$(i))}}class $$ extends ay{constructor(i){super(i),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(i){this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{for(let s=0;s<n&&!this.hasFirst;s++){const l=ly(this,i[s],void 0,s);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(i,n,s){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==s){let l=this.subscriptions[a];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(n)}}var W$=L(8640);const gH=new An.y(W$.Z);var wA=L(377);function CA(...r){const i=r[r.length-1];return"function"==typeof i&&r.pop(),(0,cy.n)(r,void 0).lift(new J$(i))}class J${constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new Q$(i,this.resultSelector))}}class Q$ extends Ei.L{constructor(i,n,s=Object.create(null)){super(i),this.resultSelector=n,this.iterators=[],this.active=0,this.resultSelector="function"==typeof n?n:void 0}_next(i){const n=this.iterators;(0,Bl.k)(i)?n.push(new X$(i)):n.push("function"==typeof i[wA.hZ]?new K$(i[wA.hZ]()):new e7(this.destination,this,i))}_complete(){const i=this.iterators,n=i.length;if(this.unsubscribe(),0!==n){this.active=n;for(let s=0;s<n;s++){let a=i[s];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const i=this.iterators,n=i.length,s=this.destination;for(let h=0;h<n;h++){let m=i[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let a=!1;const l=[];for(let h=0;h<n;h++){let m=i[h],_=m.next();if(m.hasCompleted()&&(a=!0),_.done)return void s.complete();l.push(_.value)}this.resultSelector?this._tryresultSelector(l):s.next(l),a&&s.complete()}_tryresultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}class K${constructor(i){this.iterator=i,this.nextResult=i.next()}hasValue(){return!0}next(){const i=this.nextResult;return this.nextResult=this.iterator.next(),i}hasCompleted(){const i=this.nextResult;return Boolean(i&&i.done)}}class X${constructor(i){this.array=i,this.index=0,this.length=0,this.length=i.length}[wA.hZ](){return this}next(i){const n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class e7 extends oi.Ds{constructor(i,n,s){super(i),this.parent=n,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[wA.hZ](){return this}next(){const i=this.buffer;return 0===i.length&&this.isComplete?{value:null,done:!0}:{value:i.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(i){this.buffer.push(i),this.parent.checkIterators()}subscribe(){return(0,oi.ft)(this.observable,new oi.IY(this))}}function mL(...r){return i=>{let n;return"function"==typeof r[r.length-1]&&(n=r.pop()),i.lift(new n7(r,n))}}class n7{constructor(i,n){this.observables=i,this.project=n}call(i,n){return n.subscribe(new i7(i,this.observables,this.project))}}class i7 extends ay{constructor(i,n,s){super(i),this.observables=n,this.project=s,this.toRespond=[];const a=n.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(ly(this,n[l],void 0,l))}notifyNext(i,n,s){this.values[s]=n;const a=this.toRespond;if(a.length>0){const l=a.indexOf(s);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const n=[i,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(i){let n;try{n=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}L(3098);var yH=L(8819);const mv=["*"];function m7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"li",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit,h=o.oxw();return h.focus(),h.select(l.id,h.NgbSlideEventSource.INDICATOR)}),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw();o.ekj("active",n.id===s.activeId),o.uIk("aria-labelledby","slide-"+n.id)("aria-controls","slide-"+n.id)("aria-selected",n.id===s.activeId)}}function g7(r,i){}function _7(r,i){if(1&r&&(o.TgZ(0,"div",7),o.TgZ(1,"span",8),o.SDv(2,9),o.qZA(),o.YNc(3,g7,0,0,"ng-template",10),o.qZA()),2&r){const n=i.$implicit,s=i.index,a=i.count;o.Q6J("id","slide-"+n.id),o.xp6(2),o.pQV(s+1)(a),o.QtT(2),o.xp6(1),o.Q6J("ngTemplateOutlet",n.tplRef)}}function y7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"a",11),o.NdJ("click",function(){return o.CHM(n),o.oxw().arrowLeft()}),o._UZ(1,"span",12),o.TgZ(2,"span",8),o.SDv(3,13),o.qZA(),o.qZA()}}function b7(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"a",14),o.NdJ("click",function(){return o.CHM(n),o.oxw().arrowRight()}),o._UZ(1,"span",15),o.TgZ(2,"span",8),o.SDv(3,16),o.qZA(),o.qZA()}}const $7=["dialog"];function Cf(r){return null!=r}function _v(r){return(r||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(r){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(r))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const wH={animation:!0,transitionTimerDelayMs:5};let Xr=(()=>{class r{constructor(){this.animation=wH.animation}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const oJ=()=>{},{transitionTimerDelayMs:aJ}=wH,z1=new Map,Lr=(r,i,n,s)=>{let a=s.context||{};const l=z1.get(i);if(l)switch(s.runningTransition){case"continue":return R.E;case"stop":r.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),z1.delete(i)}const h=n(i,s.animation,a)||oJ;if(!s.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>h()),(0,qe.of)(void 0).pipe(function(r){return i=>new An.y(n=>i.subscribe(h=>r.run(()=>n.next(h)),h=>r.run(()=>n.error(h)),()=>r.run(()=>n.complete())))}(r));const m=new me.xQ,_=new me.xQ,D=m.pipe(function(...r){return i=>Vl(i,(0,qe.of)(...r))}(!0));z1.set(i,{transition$:m,complete:()=>{_.next(),_.complete()},context:a});const M=function(r){const{transitionDelay:i,transitionDuration:n}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(n))}(i);return r.runOutsideAngular(()=>{const A=Nn(i,"transitionend").pipe(Be(D),vt(({target:O})=>O===i));(function(...r){if(1===r.length){if(!(0,Bl.k)(r[0]))return r[0];r=r[0]}return(0,cy.n)(r,void 0).lift(new z$)})(_p(M+aJ).pipe(Be(D)),A,_).pipe(Be(D)).subscribe(()=>{z1.delete(i),r.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let EH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),SH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),AH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),gJ=(()=>{class r{constructor(n){this._ngbConfig=n,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Xr))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Xr))},token:r,providedIn:"root"}),r})();var Df=(()=>(function(r){r.LEFT="left",r.RIGHT="right"}(Df||(Df={})),Df))();const kH=({classList:r})=>r.contains("carousel-item-left")||r.contains("carousel-item-right"),$1=r=>{r.remove("carousel-item-left"),r.remove("carousel-item-right")},TA=r=>{$1(r),r.remove("carousel-item-prev"),r.remove("carousel-item-next")},_J=(r,i,{direction:n})=>{const{classList:s}=r;return i?(kH(r)?$1(s):(s.add("carousel-item-"+(n===Df.LEFT?"next":"prev")),_v(r),s.add("carousel-item-"+n)),()=>{TA(s),s.add("active")}):($1(s),TA(s),void s.add("active"))},yJ=(r,i,{direction:n})=>{const{classList:s}=r;return i?(kH(r)?$1(s):s.add("carousel-item-"+n),()=>{TA(s),s.remove("active")}):($1(s),TA(s),void s.remove("active"))};let bJ=0,CL=(()=>{class r{constructor(n){this.tplRef=n,this.id="ngb-slide-"+bJ++,this.slid=new o.vpe}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.Rgc))},r.\u0275dir=o.lG2({type:r,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),r})(),IH=(()=>{class r{constructor(n,s,a,l,h){this._platformId=s,this._ngZone=a,this._cd=l,this._container=h,this.NgbSlideEventSource=fg,this._destroy$=new me.xQ,this._interval$=new si(0),this._mouseHover$=new si(!1),this._focused$=new si(!1),this._pauseOnHover$=new si(!1),this._pauseOnFocus$=new si(!1),this._pause$=new si(!1),this._wrap$=new si(!1),this.slide=new o.vpe,this.slid=new o.vpe,this._transitionIds=null,this.animation=n.animation,this.interval=n.interval,this.wrap=n.wrap,this.keyboard=n.keyboard,this.pauseOnHover=n.pauseOnHover,this.pauseOnFocus=n.pauseOnFocus,this.showNavigationArrows=n.showNavigationArrows,this.showNavigationIndicators=n.showNavigationIndicators}set interval(n){this._interval$.next(n)}get interval(){return this._interval$.value}set wrap(n){this._wrap$.next(n)}get wrap(){return this._wrap$.value}set pauseOnHover(n){this._pauseOnHover$.next(n)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(n){this._pauseOnFocus$.next(n)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(n){this._mouseHover$.next(n)}get mouseHover(){return this._mouseHover$.value}set focused(n){this._focused$.next(n)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(fg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(fg.ARROW_RIGHT)}ngAfterContentInit(){Sc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const n=Lp([this.slide.pipe((0,b.U)(s=>s.current),zt(this.activeId)),this._wrap$,this.slides.changes.pipe(zt(null))]).pipe((0,b.U)(([s,a])=>{const l=this.slides.toArray(),h=this._getSlideIdxById(s);return a?l.length>1:h<l.length-1}),vn());Lp([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,n]).pipe((0,b.U)(([s,a,l,h,m,_,D])=>s||a&&l||h&&m||!D?0:_),vn(),pn(s=>s>0?_p(s,s):gH),Be(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(fg.TIMER)))}),this.slides.changes.pipe(Be(this._destroy$)).subscribe(()=>{var n;null===(n=this._transitionIds)||void 0===n||n.forEach(s=>(r=>{var i;null===(i=z1.get(r))||void 0===i||i.complete()})(this._getSlideElement(s))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(P(1)).subscribe(()=>{for(const{id:s}of this.slides){const a=this._getSlideElement(s);s===this.activeId?a.classList.add("active"):a.classList.remove("active")}})})}ngAfterContentChecked(){let n=this._getSlideById(this.activeId);this.activeId=n?n.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const n=this._getSlideElement(this.activeId);n&&n.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(n,s){this._cycleToSelected(n,this._getSlideEventDirection(this.activeId,n),s)}prev(n){this._cycleToSelected(this._getPrevSlide(this.activeId),Df.RIGHT,n)}next(n){this._cycleToSelected(this._getNextSlide(this.activeId),Df.LEFT,n)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(n,s,a){const l=this._transitionIds;if(l&&(l[0]!==n||l[1]!==this.activeId))return;let h=this._getSlideById(n);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,n],this.slide.emit({prev:this.activeId,current:h.id,direction:s,paused:this._pause$.value,source:a});const m={animation:this.animation,runningTransition:"stop",context:{direction:s}},_=[],D=this._getSlideById(this.activeId);if(D){const O=Lr(this._ngZone,this._getSlideElement(D.id),yJ,m);O.subscribe(()=>{D.slid.emit({isShown:!1,direction:s,source:a})}),_.push(O)}const M=this.activeId;this.activeId=h.id;const A=this._getSlideById(this.activeId),I=Lr(this._ngZone,this._getSlideElement(h.id),_J,m);I.subscribe(()=>{null==A||A.slid.emit({isShown:!0,direction:s,source:a})}),_.push(I),CA(..._).pipe(P(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:M,current:h.id,direction:s,paused:this._pause$.value,source:a})})}this._cd.markForCheck()}_getSlideEventDirection(n,s){return this._getSlideIdxById(n)>this._getSlideIdxById(s)?Df.RIGHT:Df.LEFT}_getSlideById(n){return this.slides.find(s=>s.id===n)||null}_getSlideIdxById(n){const s=this._getSlideById(n);return null!=s?this.slides.toArray().indexOf(s):-1}_getNextSlide(n){const s=this.slides.toArray(),a=this._getSlideIdxById(n);return a===s.length-1?this.wrap?s[0].id:s[s.length-1].id:s[a+1].id}_getPrevSlide(n){const s=this.slides.toArray(),a=this._getSlideIdxById(n);return 0===a?this.wrap?s[s.length-1].id:s[0].id:s[a-1].id}_getSlideElement(n){return this._container.nativeElement.querySelector(`#slide-${n}`)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(gJ),o.Y36(o.Lbi),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.SBq))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-carousel"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,CL,4),2&n){let l;o.iGM(l=o.CRH())&&(s.slides=l)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(n,s){1&n&&o.NdJ("keydown.arrowLeft",function(){return s.keyboard&&s.arrowLeft()})("keydown.arrowRight",function(){return s.keyboard&&s.arrowRight()})("mouseenter",function(){return s.mouseHover=!0})("mouseleave",function(){return s.mouseHover=!1})("focusin",function(){return s.focused=!0})("focusout",function(){return s.focused=!1}),2&n&&(o.uIk("aria-activedescendant","slide-"+s.activeId),o.Udp("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,n,s;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-numbera65b1b49aa7dd8c4f3004da6a8c2241814dae621783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,n=$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,s=$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],n,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],s]},template:function(n,s){1&n&&(o.TgZ(0,"ol",0),o.YNc(1,m7,1,5,"li",1),o.qZA(),o.TgZ(2,"div",2),o.YNc(3,_7,4,4,"div",3),o.qZA(),o.YNc(4,y7,4,0,"a",4),o.YNc(5,b7,4,0,"a",5)),2&n&&(o.ekj("sr-only",!s.showNavigationIndicators),o.xp6(1),o.Q6J("ngForOf",s.slides),o.xp6(2),o.Q6J("ngForOf",s.slides),o.xp6(1),o.Q6J("ngIf",s.showNavigationArrows),o.xp6(1),o.Q6J("ngIf",s.showNavigationArrows))},directives:[yt,ft,Di],encapsulation:2,changeDetection:0}),r})();var fg=(()=>(function(r){r.TIMER="timer",r.ARROW_LEFT="arrowLeft",r.ARROW_RIGHT="arrowRight",r.INDICATOR="indicator"}(fg||(fg={})),fg))();let RH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),OH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();var an=(()=>(function(r){r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown"}(an||(an={})),an))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const BH=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function VH(r){const i=Array.from(r.querySelectorAll(BH)).filter(n=>-1!==n.tabIndex);return[i[0],i[i.length-1]]}new class{getAllStyles(i){return window.getComputedStyle(i)}getStyle(i,n){return this.getAllStyles(i)[n]}isStaticPositioned(i){return"static"===(this.getStyle(i,"position")||"static")}offsetParent(i){let n=i.offsetParent||document.documentElement;for(;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement}position(i,n=!0){let s,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))s=i.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const l=this.offsetParent(i);s=this.offset(i,!1),l!==document.documentElement&&(a=this.offset(l,!1)),a.top+=l.clientTop,a.left+=l.clientLeft}return s.top-=a.top,s.bottom-=a.top,s.left-=a.left,s.right-=a.left,n&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(i,n=!0){const s=i.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:s.height||i.offsetHeight,width:s.width||i.offsetWidth,top:s.top+a_top,bottom:s.bottom+a_top,left:s.left+a_left,right:s.right+a_left};return n&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(i,n,s,a){const[l="top",h="center"]=s.split("-"),m=a?this.offset(i,!1):this.position(i,!1),_=this.getAllStyles(n),D=parseFloat(_.marginTop),M=parseFloat(_.marginBottom),A=parseFloat(_.marginLeft),I=parseFloat(_.marginRight);let O=0,B=0;switch(l){case"top":O=m.top-(n.offsetHeight+D+M);break;case"bottom":O=m.top+m.height;break;case"left":B=m.left-(n.offsetWidth+A+I);break;case"right":B=m.left+m.width}switch(h){case"top":O=m.top;break;case"bottom":O=m.top+m.height-n.offsetHeight;break;case"left":B=m.left;break;case"right":B=m.left+m.width-n.offsetWidth;break;case"center":"top"===l||"bottom"===l?B=m.left+m.width/2-n.offsetWidth/2:O=m.top+m.height/2-n.offsetHeight/2}n.style.transform=`translate(${Math.round(B)}px, ${Math.round(O)}px)`;const $=n.getBoundingClientRect(),ae=document.documentElement,Re=window.innerHeight||ae.clientHeight,Ve=window.innerWidth||ae.clientWidth;return $.left>=0&&$.top>=0&&$.right<=Ve&&$.bottom<=Re}},new Date(1882,10,12),new Date(2174,10,25);let WH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,mR]]}),r})(),XH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),eG=(()=>{class r{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Xr))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Xr))},token:r,providedIn:"root"}),r})();class _g{constructor(i,n,s){this.nodes=i,this.viewRef=n,this.componentRef=s}}const i9=()=>{};let tG=(()=>{class r{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):i9}_adjustBody(n){const s=this._document.body,a=s.style.paddingRight,l=parseFloat(window.getComputedStyle(s)["padding-right"]);return s.style["padding-right"]=`${l+n}px`,()=>s.style["padding-right"]=a}_isPresent(n){const s=this._document.body.getBoundingClientRect();return window.innerWidth-(s.left+s.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const s=this._document.body;s.appendChild(n);const a=n.getBoundingClientRect().width-n.clientWidth;return s.removeChild(n),a}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Z))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(Z))},token:r,providedIn:"root"}),r})(),r9=(()=>{class r{constructor(n,s){this._el=n,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe(P(1)).subscribe(()=>{Lr(this._zone,this._el.nativeElement,(n,s)=>{s&&_v(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(n,s){2&n&&(o.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),o.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,s){},encapsulation:2}),r})();class nG{close(i){}dismiss(i){}}class s9{constructor(i,n,s,a){this._windowCmptRef=i,this._contentRef=n,this._backdropCmptRef=s,this._beforeDismiss=a,this._closed=new me.xQ,this._dismissed=new me.xQ,this._hidden=new me.xQ,i.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Be(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Be(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();n&&n.then?n.then(s=>{!1!==s&&this._dismiss(i)},()=>{}):!1!==n&&this._dismiss(i)}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,qe.of)(void 0);i.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),CA(i,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var X1=(()=>(function(r){r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC"}(X1||(X1={})),X1))();let o9=(()=>{class r{constructor(n,s,a){this._document=n,this._elRef=s,this._zone=a,this._closed$=new me.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new me.xQ,this.hidden=new me.xQ}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,s={animation:this.animation,runningTransition:"stop"},h=CA(Lr(this._zone,n,()=>n.classList.remove("show"),s),Lr(this._zone,this._dialogEl.nativeElement,()=>{},s));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const n={animation:this.animation,runningTransition:"continue"};CA(Lr(this._zone,this._elRef.nativeElement,(l,h)=>{h&&_v(l),l.classList.add("show")},n),Lr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Nn(n,"keydown").pipe(Be(this._closed$),vt(a=>a.which===an.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(X1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;Nn(this._dialogEl.nativeElement,"mousedown").pipe(Be(this._closed$),(0,$n.b)(()=>s=!1),pn(()=>Nn(n,"mouseup").pipe(Be(this._closed$),P(1))),vt(({target:a})=>n===a)).subscribe(()=>{s=!0}),Nn(n,"click").pipe(Be(this._closed$)).subscribe(({target:a})=>{n===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(X1.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const s=n.querySelector("[ngbAutofocus]"),a=VH(n)[0];(s||a||n).focus()}}_restoreFocus(){const n=this._document.body,s=this._elWithFocus;let a;a=s&&s.focus&&n.contains(s)?s:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Z),o.Y36(o.SBq),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,s){if(1&n&&o.Gf($7,7),2&n){let a;o.iGM(a=o.CRH())&&(s._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,s){2&n&&(o.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),o.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),o.ekj("fade",s.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:mv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&n&&o.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),r})(),iG=(()=>{class r{constructor(n,s,a,l,h,m){this._applicationRef=n,this._injector=s,this._document=a,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new me.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((r,i,n,s=!1)=>{r.runOutsideAngular(()=>{const a=Nn(i,"focusin").pipe(Be(n),(0,b.U)(l=>l.target));Nn(i,"keydown").pipe(Be(n),vt(l=>l.which===an.Tab),mL(a)).subscribe(([l,h])=>{const[m,_]=VH(i);(h===m||h===i)&&l.shiftKey&&(_.focus(),l.preventDefault()),h===_&&!l.shiftKey&&(m.focus(),l.preventDefault())}),s&&Nn(i,"click").pipe(Be(n),mL(a),(0,b.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}open(n,s,a,l){const h=l.container instanceof HTMLElement?l.container:Cf(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),_=this._scrollBar.compensate(),D=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const M=new nG,A=this._getContentRef(n,l.injector||s,a,M,l);let I=!1!==l.backdrop?this._attachBackdrop(n,h):void 0,O=this._attachWindowComponent(n,h,A),B=new s9(O,A,I,l.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(O),B.result.then(_,_),B.result.then(D,D),M.close=$=>{B.close($)},M.dismiss=$=>{B.dismiss($)},this._applyWindowOptions(O.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,l),I.changeDetectorRef.detectChanges()),O.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(s=>s.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,s){let l=n.resolveComponentFactory(r9).create(this._injector);return this._applicationRef.attachView(l.hostView),s.appendChild(l.location.nativeElement),l}_attachWindowComponent(n,s,a){let h=n.resolveComponentFactory(o9).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),s.appendChild(h.location.nativeElement),h}_applyWindowOptions(n,s){this._windowAttributes.forEach(a=>{Cf(s[a])&&(n[a]=s[a])})}_applyBackdropOptions(n,s){this._backdropAttributes.forEach(a=>{Cf(s[a])&&(n[a]=s[a])})}_getContentRef(n,s,a,l,h){return a?a instanceof o.Rgc?this._createFromTemplateRef(a,l):function(r){return"string"==typeof r}(a)?this._createFromString(a):this._createFromComponent(n,s,a,l,h):new _g([])}_createFromTemplateRef(n,s){const l=n.createEmbeddedView({$implicit:s,close(h){s.close(h)},dismiss(h){s.dismiss(h)}});return this._applicationRef.attachView(l),new _g([l.rootNodes],l)}_createFromString(n){const s=this._document.createTextNode(`${n}`);return new _g([[s]])}_createFromComponent(n,s,a,l,h){const m=n.resolveComponentFactory(a),_=o.zs3.create({providers:[{provide:nG,useValue:l}],parent:s}),D=m.create(_),M=D.location.nativeElement;return h.scrollable&&M.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new _g([[M]],D.hostView,D)}_setAriaHidden(n){const s=n.parentElement;s&&n!==this._document.body&&(Array.from(s.children).forEach(a=>{a!==n&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const s=()=>{const a=this._modalRefs.indexOf(n);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(s,s)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const s=this._windowCmpts.indexOf(n);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(Z),o.LFG(tG),o.LFG(o.FYo),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o.z2F),o.LFG(o.gxx),o.LFG(Z),o.LFG(tG),o.LFG(o.FYo),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})(),a9=(()=>{class r{constructor(n,s,a,l){this._moduleCFR=n,this._injector=s,this._modalStack=a,this._config=l}open(n,s={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._moduleCFR,this._injector,n,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(iG),o.LFG(eG))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(o._Vd),o.LFG(o.gxx),o.LFG(iG),o.LFG(eG))},token:r,providedIn:"root"}),r})(),rG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[a9]}),r})(),lG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),gG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),bG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),vG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),wG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),TG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),EG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})(),SG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();new o.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let kG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt]]}),r})();const j9=[EH,SH,AH,RH,OH,WH,XH,rG,lG,gG,bG,vG,wG,TG,EG,SG,kG];let q9=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[j9,EH,SH,AH,RH,OH,WH,XH,rG,lG,gG,bG,vG,wG,TG,EG,SG,kG]}),r})();const IG=["*"],RG=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class $9{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(s=>this._trackTile(s))}_trackTile(i){const n=this._findMatchingGap(i.colspan);return this._markTilePosition(n,i),this.columnIndex=n+i.colspan,new W9(this.rowIndex,n)}_findMatchingGap(i){let n=-1,s=-1;do{this.columnIndex+i>this.tracker.length?(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)):(n=this.tracker.indexOf(0,this.columnIndex),-1!=n?(s=this._findGapEndIndex(n),this.columnIndex=n+1):(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)))}while(s-n<i||0==s);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let n=i+1;n<this.tracker.length;n++)if(0!=this.tracker[n])return n;return this.tracker.length}_markTilePosition(i,n){for(let s=0;s<n.colspan;s++)this.tracker[i+s]=n.rowspan}}class W9{constructor(i,n){this.row=i,this.col=n}}const OG=new o.OlP("MAT_GRID_LIST");let NG=(()=>{class r{constructor(n,s){this._element=n,this._gridList=s,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(n){this._rowspan=Math.round(jt(n))}get colspan(){return this._colspan}set colspan(n){this._colspan=Math.round(jt(n))}_setStyle(n,s){this._element.nativeElement.style[n]=s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(OG,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(n,s){2&n&&o.uIk("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:IG,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[RG],encapsulation:2,changeDetection:0}),r})();const J9=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class NL{constructor(){this._rows=0,this._rowspan=0}init(i,n,s,a){this._gutterSize=PG(i),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=s,this._direction=a}getBaseTileSize(i,n){return`(${i}% - (${this._gutterSize} * ${n}))`}getTilePosition(i,n){return 0===n?"0":yg(`(${i} + ${this._gutterSize}) * ${n}`)}getTileSize(i,n){return`(${i} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(i,n,s){let a=100/this._cols,l=(this._cols-1)/this._cols;this.setColStyles(i,s,a,l),this.setRowStyles(i,n,a,l)}setColStyles(i,n,s,a){let l=this.getBaseTileSize(s,a);i._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(l,n)),i._setStyle("width",yg(this.getTileSize(l,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}}class Q9 extends NL{constructor(i){super(),this.fixedRowHeight=i}init(i,n,s,a){super.init(i,n,s,a),this.fixedRowHeight=PG(this.fixedRowHeight),J9.test(this.fixedRowHeight)}setRowStyles(i,n){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),i._setStyle("height",yg(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",yg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}class K9 extends NL{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,n,s,a){this.baseTileHeight=this.getBaseTileSize(s/this.rowHeightRatio,a),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),i._setStyle("paddingTop",yg(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",yg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(i){const n=i.split(":");this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}}class X9 extends NL{setRowStyles(i,n){let l=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);i._setStyle("top",this.getTilePosition(l,n)),i._setStyle("height",yg(this.getTileSize(l,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}function yg(r){return`calc(${r})`}function PG(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let tQ=(()=>{class r{constructor(n,s){this._element=n,this._dir=s,this._gutter="1px"}get cols(){return this._cols}set cols(n){this._cols=Math.max(1,Math.round(jt(n)))}get gutterSize(){return this._gutter}set gutterSize(n){this._gutter=`${null==n?"":n}`}get rowHeight(){return this._rowHeight}set rowHeight(n){const s=`${null==n?"":n}`;s!==this._rowHeight&&(this._rowHeight=s,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(n){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===n?new X9:n&&n.indexOf(":")>-1?new K9(n):new Q9(n)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new $9);const n=this._tileCoordinator,s=this._tiles.filter(l=>!l._gridList||l._gridList===this),a=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,s),this._tileStyler.init(this.gutterSize,n,this.cols,a),s.forEach((l,h)=>{const m=n.positions[h];this._tileStyler.setStyle(l,m.row,m.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(n){n&&(this._element.nativeElement.style[n[0]]=n[1])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(mn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-grid-list"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,NG,5),2&n){let l;o.iGM(l=o.CRH())&&(s._tiles=l)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(n,s){2&n&&o.uIk("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:OG,useExisting:r}])],ngContentSelectors:IG,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[RG],encapsulation:2,changeDetection:0}),r})(),nQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[mA,nt],mA,nt]}),r})();const FG=["mat-button",""],LG=["*"],rQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sQ=Qo(Rs(Ws(class{constructor(r){this._elementRef=r}})));let es=(()=>{class r extends sQ{constructor(n,s,a){super(n),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of rQ)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(ii),o.Y36(Hn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&o.Gf(Os,5),2&n){let a;o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(o.uIk("disabled",s.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:FG,ngContentSelectors:LG,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&n&&(o.xp6(2),o.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),o.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Os],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),eD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[yl,nt],nt]}),r})();const oQ=["*",[["mat-card-footer"]]],aQ=["*","mat-card-footer"],lQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],cQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let wv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),bg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),Cv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),PA=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),PL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),r})(),hQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),r})(),vg=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Hn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:aQ,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(oQ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),FL=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:cQ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(n,s){1&n&&(o.F$t(lQ),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),r})(),fQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt],nt]}),r})();const pQ=["ngcarousel"];function mQ(r,i){if(1&r&&(o.TgZ(0,"div",14),o._UZ(1,"img",15),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(1),o.s9C("src",n.path,o.LSH)}}function gQ(r,i){1&r&&o.YNc(0,mQ,2,1,"ng-template",13)}function _Q(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementePhoto()}),o._uU(1,"<<"),o.qZA()}}function yQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function bQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementePhoto()}),o._uU(1,">>"),o.qZA()}}function vQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}function wQ(r,i){if(1&r&&(o.TgZ(0,"pre"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2).$implicit;o.xp6(1),o.hij("                  ",n.listeEleves.substring(0,300)," ...\n                ")}}function CQ(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-header"),o._UZ(3,"div",19),o.TgZ(4,"mat-card-title"),o._uU(5),o.qZA(),o.TgZ(6,"mat-card-subtitle"),o._uU(7),o.qZA(),o.qZA(),o._UZ(8,"img",20),o.TgZ(9,"mat-card-content"),o.YNc(10,wQ,2,1,"pre",18),o.TgZ(11,"p"),o._uU(12,"Photo \xe0 voir dans la rubrique Photos de classes"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(5),o.Oqu(n.annee),o.xp6(2),o.Oqu(n.titre),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(2),o.Q6J("ngIf",n.listeEleves)}}function DQ(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,CQ,13,4,"mat-grid-tile",18),o.qZA()),2&r){const n=i.index,s=o.oxw();o.xp6(1),o.Q6J("ngIf",n>=s.photoCourante&&n<s.photoCourante+s.pasPhotos)}}function MQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementePhoto()}),o._uU(1,"<<"),o.qZA()}}function TQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function EQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementePhoto()}),o._uU(1,">>"),o.qZA()}}function SQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}function xQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementeArticle()}),o._uU(1,"<<"),o.qZA()}}function AQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function kQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementeArticle()}),o._uU(1,">>"),o.qZA()}}function IQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}function RQ(r,i){if(1&r&&(o.TgZ(0,"pre"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2).$implicit;o.xp6(1),o.hij("                ",n.texte.substring(0,300)," ...\n              ")}}function OQ(r,i){if(1&r&&(o.TgZ(0,"mat-grid-tile"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-header"),o._UZ(3,"div",19),o.TgZ(4,"mat-card-title"),o._uU(5),o.qZA(),o.TgZ(6,"mat-card-subtitle"),o._uU(7),o.qZA(),o.qZA(),o._UZ(8,"img",21),o.TgZ(9,"mat-card-content"),o.YNc(10,RQ,2,1,"pre",18),o.TgZ(11,"p"),o._uU(12,"Article \xe0 lire dans les rubriques Articles"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(5),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(2),o.Q6J("ngIf",n.texte)}}function NQ(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,OQ,13,4,"mat-grid-tile",18),o.qZA()),2&r){const n=i.index,s=o.oxw();o.xp6(1),o.Q6J("ngIf",n>=s.articleCourant&&n<=s.articleCourant+s.pasArticles)}}function PQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDecrementeArticle()}),o._uU(1,"<<"),o.qZA()}}function FQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,"<<"),o.qZA())}function LQ(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().onIncrementeArticle()}),o._uU(1,">>"),o.qZA()}}function BQ(r,i){1&r&&(o.TgZ(0,"button",17),o._uU(1,">>"),o.qZA())}let VQ=(()=>{class r{constructor(n,s,a){this.globalService=n,this.photosService=s,this.authService=a,this.articles=[],this.photos=[],this.articleCourant=0,this.photoCourante=0,this.listePhotosCarousel=[],this.pasPhotos=4,this.pasArticles=4,this.pageCourantePhoto=1,this.pageCouranteArticle=1,this.nbPagesPhotos=0,this.nbPagesArticles=0}ngOnInit(){this.photosSubscription=this.photosService.photoSubject.subscribe(n=>{this.photos=n,this.nbPagesPhotos=Math.round(n.length/this.pasPhotos),this.photosService.getPhotosCarousel().subscribe(s=>{this.listePhotosCarousel=s.docs.map(a=>a.data())})}),this.dataSubscription=this.globalService.dataSubject.subscribe(n=>{n&&(this.nbPagesArticles=Math.round(this.globalService.allArticles.length/this.pasArticles))}),this.photosService.emitPhoto(),this.globalService.emitDataChange()}ngOnDestroy(){null!=this.photosSubscription&&this.photosSubscription.unsubscribe(),null!=this.dataSubscription&&this.dataSubscription.unsubscribe()}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.round(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onIncrementePhoto(){this.photoCourante+=this.pasArticles,this.pageCourantePhoto=Math.round(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onDecrementeArticle(){this.articleCourant-=this.pasArticles,this.pageCouranteArticle=Math.round(this.articleCourant/this.pasArticles)+1}onIncrementeArticle(){this.articleCourant+=this.pasArticles,this.pageCouranteArticle=Math.round(this.articleCourant/this.pasArticles)+1}prevSlide(){this.ngCarousel.prev()}nextSlide(){this.ngCarousel.next()}stopSlider(){this.ngCarousel.pause()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko),o.Y36(mf),o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-accueil"]],viewQuery:function(n,s){if(1&n&&o.Gf(pQ,7),2&n){let a;o.iGM(a=o.CRH())&&(s.ngCarousel=a.first)}},decls:46,vars:39,consts:[["label","Accueil"],[3,"cellSpacing","cellPadding"],[1,"texte-entete",3,"width"],["src","../../assets/images/blason/Blason_ville_fr_Mori\xe8res-l\xe8s-Avignon_(Vaucluse).svg.png","alt","","height","250",2,"align-items","center"],[3,"width"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard","pauseOnHover","wrap","activeId"],["ngCarousel",""],[4,"ngFor","ngForOf"],["label","Photos de classes"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],["label","Articles sur Mori\xe8res"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","",2,"width","600px",3,"src"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-avatar","",1,"header-image"],["mat-card-image","","alt","Photo de classe",3,"src"],["mat-card-image","","alt","Photo",3,"src"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-tab-group"),o.TgZ(1,"mat-tab",0),o.TgZ(2,"table",1),o.TgZ(3,"tr"),o.TgZ(4,"td",2),o._UZ(5,"img",3),o.TgZ(6,"h4"),o._uU(7,"Nomine ne moreris"),o.qZA(),o.qZA(),o.TgZ(8,"td",2),o._uU(9," M\xe9moire mori\xe9roise "),o._UZ(10,"br"),o._uU(11," Association r\xe9gie par la loi de 1901 "),o._UZ(12,"br"),o._uU(13," 1375 route de Gadagne "),o._UZ(14,"br"),o._uU(15," 84310 Mori\xe8res les Avignon "),o.qZA(),o.TgZ(16,"td",4),o.TgZ(17,"ngb-carousel",5,6),o.YNc(19,gQ,1,0,void 0,7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"mat-tab",8),o.YNc(21,_Q,2,0,"button",9),o.YNc(22,yQ,2,0,"button",10),o._uU(23),o.YNc(24,bQ,2,0,"button",9),o.YNc(25,vQ,2,0,"button",10),o.TgZ(26,"mat-grid-list",11),o.YNc(27,DQ,2,1,"div",7),o.qZA(),o.YNc(28,MQ,2,0,"button",9),o.YNc(29,TQ,2,0,"button",10),o._uU(30),o.YNc(31,EQ,2,0,"button",9),o.YNc(32,SQ,2,0,"button",10),o.qZA(),o.TgZ(33,"mat-tab",12),o.YNc(34,xQ,2,0,"button",9),o.YNc(35,AQ,2,0,"button",10),o._uU(36),o.YNc(37,kQ,2,0,"button",9),o.YNc(38,IQ,2,0,"button",10),o.TgZ(39,"mat-grid-list",11),o.YNc(40,NQ,2,1,"div",7),o.qZA(),o.YNc(41,PQ,2,0,"button",9),o.YNc(42,FQ,2,0,"button",10),o._uU(43),o.YNc(44,LQ,2,0,"button",9),o.YNc(45,BQ,2,0,"button",10),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("cellSpacing",0)("cellPadding",30),o.xp6(2),o.Q6J("width",300),o.xp6(4),o.Q6J("width",300),o.xp6(8),o.Q6J("width",700),o.xp6(1),o.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!0)("interval",3e3)("keyboard",!1)("pauseOnHover",!1)("wrap",!0)("activeId","1"),o.xp6(2),o.Q6J("ngForOf",s.listePhotosCarousel),o.xp6(2),o.Q6J("ngIf",s.pageCourantePhoto>1),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<=1),o.xp6(1),o.AsE(" Page ",s.pageCourantePhoto," sur ",s.nbPagesPhotos," "),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<s.nbPagesPhotos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>=s.nbPagesPhotos),o.xp6(2),o.Q6J("ngForOf",s.photos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>1),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<=1),o.xp6(1),o.AsE(" Page ",s.pageCourantePhoto," sur ",s.nbPagesPhotos," "),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto<s.nbPagesPhotos),o.xp6(1),o.Q6J("ngIf",s.pageCourantePhoto>=s.nbPagesPhotos),o.xp6(2),o.Q6J("ngIf",s.pageCouranteArticle>1),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<=1),o.xp6(1),o.AsE(" Page ",s.pageCouranteArticle," sur ",s.nbPagesArticles," "),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<s.nbPagesArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>=s.nbPagesArticles),o.xp6(2),o.Q6J("ngForOf",s.globalService.allArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>1),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<=1),o.xp6(1),o.AsE(" Page ",s.pageCouranteArticle," sur ",s.nbPagesArticles," "),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle<s.nbPagesArticles),o.xp6(1),o.Q6J("ngIf",s.pageCouranteArticle>=s.nbPagesArticles))},directives:[F$,aH,IH,yt,ft,tQ,CL,es,NG,vg,FL,hQ,bg,Cv,PL,wv],styles:[".card[_ngcontent-%COMP%]{vertical-align:0px;margin-top:10pt;margin-bottom:10pt}mat-card[_ngcontent-%COMP%]{overflow:hidden;vertical-align:top;color:#fff;margin-left:5px;margin-top:5px;max-width:100%}.img[_ngcontent-%COMP%]{margin:5px}.header-image[_ngcontent-%COMP%]{background-size:cover}mat-grid-tile[_ngcontent-%COMP%]{vertical-align:0px;align-content:center}.mat-form-field[_ngcontent-%COMP%]{margin-right:12px}button[_ngcontent-%COMP%]{background-color:#282832;font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:150px}"]}),r})();const UQ=["input"],HQ=function(r){return{enterDuration:r}},GQ=["*"],YQ=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:VG});function VG(){return{color:"accent",clickAction:"check-indeterminate"}}let jQ=0;const UG=VG(),qQ={provide:Un,useExisting:(0,o.Gpc)(()=>HG),multi:!0};class ZQ{}const zQ=Ku(Qo(Ws(Rs(class{constructor(r){this._elementRef=r}}))));let HG=(()=>{class r extends zQ{constructor(n,s,a,l,h,m,_){super(n),this._changeDetectorRef=s,this._focusMonitor=a,this._ngZone=l,this._animationMode=m,this._options=_,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++jQ,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||UG,this.color=this.defaultColor=this._options.color||UG.color,this.tabIndex=parseInt(h)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(n){this._required=xe(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){const s=xe(n);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){const s=n!=this._indeterminate;this._indeterminate=xe(n),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(n){let s=this._currentCheckState,a=this._elementRef.nativeElement;if(s!==n&&(this._currentAnimationClass.length>0&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);const l=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(l)},1e3)})}}_emitChangeEvent(){const n=new ZQ;n.source=this,n.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(n),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(n){var s;const a=null===(s=this._options)||void 0===s?void 0:s.clickAction;n.stopPropagation(),this.disabled||"noop"===a?!this.disabled&&"noop"===a&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==a&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(n,s){n?this._focusMonitor.focusVia(this._inputElement,n,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(n){n.stopPropagation()}_getAnimationClassForCheckStateTransition(n,s){if("NoopAnimations"===this._animationMode)return"";let a="";switch(n){case 0:if(1===s)a="unchecked-checked";else{if(3!=s)return"";a="unchecked-indeterminate"}break;case 2:a=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:a=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:a=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${a}`}_syncIndeterminate(n){const s=this._inputElement;s&&(s.nativeElement.indeterminate=n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ii),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(Hn,8),o.Y36(YQ,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-checkbox"]],viewQuery:function(n,s){if(1&n&&(o.Gf(UQ,5),o.Gf(Os,5)),2&n){let a;o.iGM(a=o.CRH())&&(s._inputElement=a.first),o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(n,s){2&n&&(o.Ikx("id",s.id),o.uIk("tabindex",null),o.ekj("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o._Bn([qQ]),o.qOj],ngContentSelectors:GQ,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(n,s){if(1&n&&(o.F$t(),o.TgZ(0,"label",0,1),o.TgZ(2,"span",2),o.TgZ(3,"input",3,4),o.NdJ("change",function(l){return s._onInteractionEvent(l)})("click",function(l){return s._onInputClick(l)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA(),o.qZA(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA(),o.qZA()),2&n){const a=o.MAs(1),l=o.MAs(13);o.uIk("for",s.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!l.textContent||!l.textContent.trim()),o.xp6(1),o.Q6J("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),o.uIk("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",a)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,HQ,"NoopAnimations"===s._animationMode?0:150))}},directives:[Os,dp],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),GG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),JQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[yl,nt,hp,GG],nt,GG]}),r})(),YG=(()=>{class r{constructor(n,s,a){this.formBuilder=n,this.dialogRef=s,this.data=a,this.user=new F1("","","","","",!1,0),this.data&&(this.user=this.data),this.form=this.formBuilder.group({visiteur:!0,moderateur:!1,editArticle:!1,editPhotosDeClasse:!1,administrateur:!1})}ngOnInit(){}onSave(){var n,s,a,l,h,m,_,D,M,A;(null===(s=null===(n=this.form)||void 0===n?void 0:n.get("visiteur"))||void 0===s?void 0:s.value)&&(this.user.status|=Vt.visiteur),(null===(l=null===(a=this.form)||void 0===a?void 0:a.get("moderateur"))||void 0===l?void 0:l.value)&&(this.user.status|=Vt.moderateur),(null===(m=null===(h=this.form)||void 0===h?void 0:h.get("editArticle"))||void 0===m?void 0:m.value)&&(this.user.status|=Vt.editArticle),(null===(D=null===(_=this.form)||void 0===_?void 0:_.get("editPhotosDeClasse"))||void 0===D?void 0:D.value)&&(this.user.status|=Vt.editPhotosDeClasse),(null===(A=null===(M=this.form)||void 0===M?void 0:M.get("administrateur"))||void 0===A?void 0:A.value)&&(this.user.status|=Vt.administrateur),this.dialogRef.close(this.user)}onClose(){this.dialogRef.close()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(bf),o.Y36(H1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-droits-form"]],decls:16,vars:1,consts:[[3,"formGroup"],["placeholder","Visiteur","formControlName","visiteur",1,"margin"],["placeholder","Mod\xe9rateur","formControlName","moderateur",1,"margin"],["placeholder","editArticle","formControlName","editArticle",1,"margin"],["placeholder","editPhotosDeClasse","formControlName","editPhotosDeClasse",1,"margin"],["placeholder","administrateur","formControlName","administrateur",1,"margin"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-checkbox",1),o._uU(2," Visiteur "),o.qZA(),o.TgZ(3,"mat-checkbox",2),o._uU(4," Mod\xe9rateur "),o.qZA(),o.TgZ(5,"mat-checkbox",3),o._uU(6," Edition articles "),o.qZA(),o.TgZ(7,"mat-checkbox",4),o._uU(8," Edition photos de classes "),o.qZA(),o.TgZ(9,"mat-checkbox",5),o._uU(10," administrateur "),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.TgZ(12,"button",6),o.NdJ("click",function(){return s.onSave()}),o._uU(13,"Valider"),o.qZA(),o.TgZ(14,"button",7),o.NdJ("click",function(){return s.onClose()}),o._uU(15,"Annuler"),o.qZA(),o.qZA()),2&n&&o.Q6J("formGroup",s.form)},directives:[G1,sl,Bi,HG,rl,Ea,Y1],styles:[".section[_ngcontent-%COMP%]{margin:12px 0}.margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),r})();const QQ=[[["caption"]],[["colgroup"],["col"]]],KQ=["caption","colgroup, col"];let LL=(()=>{class r extends Sp{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:eu,useClass:mM},{provide:Sp,useExisting:r},{provide:Kd,useExisting:r},{provide:au,useClass:Xd},{provide:UM,useValue:null}]),o.qOj],ngContentSelectors:KQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,s){1&n&&(o.F$t(QQ),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[nh,th,F_,iw],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),r})(),FA=(()=>{class r extends su{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:su,useExisting:r}]),o.qOj]}),r})(),LA=(()=>{class r extends ou{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:ou,useExisting:r}]),o.qOj]}),r})(),BA=(()=>{class r extends ao{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:ao,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),o.qOj]}),r})(),VA=(()=>{class r extends X0{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),r})(),UA=(()=>{class r extends ql{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),r})(),BL=(()=>{class r extends eh{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:eh,useExisting:r}]),o.qOj]}),r})(),VL=(()=>{class r extends O_{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275dir=o.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:O_,useExisting:r}]),o.qOj]}),r})(),UL=(()=>{class r extends Zl{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:Zl,useExisting:r}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Ca],encapsulation:2}),r})(),HL=(()=>{class r extends nw{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:nw,useExisting:r}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,s){1&n&&o.GkF(0,0)},directives:[Ca],encapsulation:2}),r})(),lK=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[HM,nt],nt]}),r})();function uK(r,i){if(1&r&&(o.TgZ(0,"h5"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Gestion des droits des ",n.users.length," utilisateurs )")}}function dK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Id "),o.qZA())}function hK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.uid," ")}}function fK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Email "),o.qZA())}function pK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.email," ")}}function mK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Nom "),o.qZA())}function gK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.nom," ")}}function _K(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Pr\xe9nom "),o.qZA())}function yK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.prenom," ")}}function bK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Status "),o.qZA())}function vK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit,s=o.oxw();o.xp6(1),o.hij(" ",s.getDroitsSelectedUser(n.status).toString()," ")}}function wK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Action "),o.qZA())}function CK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"td",13),o.TgZ(1,"button",14),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onDroits(l)}),o._uU(2,"Droits"),o.qZA(),o.qZA()}}function DK(r,i){1&r&&o._UZ(0,"tr",15)}function MK(r,i){1&r&&o._UZ(0,"tr",16)}function TK(r,i){1&r&&(o.TgZ(0,"div"),o._uU(1," Visible\n"),o.qZA())}let EK=(()=>{class r{constructor(n,s,a){this.globalService=n,this.usersService=s,this.dialog=a,this.users=[],this.formVisible=!1,this.displayedColumns=["uid","email","nom","prenom","status","action"]}ngOnInit(){this.usersService.getUsers().subscribe(n=>{this.users=n.docs.map(s=>{const a=s.data();return a.id=s.id,a},s=>{console.log(s)})},()=>{})}ngOnDestroy(){this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe()}getDroitsSelectedUser(n){let s="";return 65536===n?"Non":255===n?"Administrateur":(1==(1&n)&&(""!==s&&(s+=", "),s+="Visiteur"),2==(2&n)&&(""!==s&&(s+=", "),s+="Mod\xe9rateur"),4==(4&n)&&(""!==s&&(s+=", "),s+="Editer articles"),8==(8&n)&&(""!==s&&(s+=", "),s+="Editer photos de classes"),""===s&&(s="Non"),s)}onDroits(n){const s=new yf;s.disableClose=!0,s.autoFocus=!0,s.width="300px",s.height="400px",s.data={user:n};const a=this.dialog.open(YG,s);this.dialogResultSuscription=a.afterClosed().subscribe(l=>{void 0!==l&&this.usersService.changeDroitsUser(n.id,l.status)},l=>{console.log(l)})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko),o.Y36(P1),o.Y36(vf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-droits"]],decls:25,vars:5,consts:[[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,s){1&n&&(o.YNc(0,uK,2,1,"h5",0),o._uU(1,"\n==============================================================\n"),o.TgZ(2,"div"),o.TgZ(3,"table",1),o.ynx(4,2),o.YNc(5,dK,2,0,"th",3),o.YNc(6,hK,2,1,"td",4),o.BQk(),o.ynx(7,5),o.YNc(8,fK,2,0,"th",3),o.YNc(9,pK,2,1,"td",4),o.BQk(),o.ynx(10,6),o.YNc(11,mK,2,0,"th",3),o.YNc(12,gK,2,1,"td",4),o.BQk(),o.ynx(13,7),o.YNc(14,_K,2,0,"th",3),o.YNc(15,yK,2,1,"td",4),o.BQk(),o.ynx(16,8),o.YNc(17,bK,2,0,"th",3),o.YNc(18,vK,2,1,"td",4),o.BQk(),o.ynx(19,9),o.YNc(20,wK,2,0,"th",3),o.YNc(21,CK,3,0,"td",4),o.BQk(),o.YNc(22,DK,1,0,"tr",10),o.YNc(23,MK,1,0,"tr",11),o.qZA(),o.qZA(),o.YNc(24,TK,2,0,"div",0)),2&n&&(o.Q6J("ngIf",s.users),o.xp6(3),o.Q6J("dataSource",s.users),o.xp6(19),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(1),o.Q6J("ngIf",s.formVisible))},directives:[ft,LL,BA,LA,FA,BL,VL,VA,UA,UL,HL],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),r})();class HA{constructor(i,n,s,a,l){this.id=i,this.description=n,this.fichier=s,this.titre=a,this.status=l}}let Dv=(()=>{class r{constructor(n){this.angularFirestore=n,this.pdfs=[],this.pdfsAValider=[],this.pdfSubject=new me.xQ}emitPdf(){this.pdfSubject.next(this.pdfs)}getPdfs(){this.angularFirestore.collection("Pdf").get().subscribe(n=>{this.pdfs=n.docs.map(s=>{const a=s.data();return a.id=s.id,a}),this.pdfs.length>0&&(this.currentPdf=this.pdfs[0])})}getPdf(n){return this.angularFirestore.collection("Pdf").doc(n).get()}getListePdfsValides(){this.angularFirestore.collection("listePdf",n=>n.where("Status","==",Ri.valide)).get().subscribe(n=>{this.pdfs=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.emitPdf()}getListePdfAValider(){this.angularFirestore.collection("listePdf",n=>n.where("Status","==",Ri.initial)).get().subscribe(n=>{this.pdfsAValider=n.docs})}GetSinglePdf(n){this.angularFirestore.collection("listePdf").doc(n).get().subscribe(s=>{null==this.currentPdf&&(this.currentPdf=new HA("","","","",0)),this.currentPdf.id=s.id,this.currentPdf=s.data(),this.emitPdf()})}addPdf(n){this.angularFirestore.collection("listePdf").add({description:n.description,fichier:n.fichier,Status:Ri.initial,titre:n.titre}).then(s=>{},s=>{console.log("Erreur "+s)})}validerPdf(n){n.status=Ri.valide,this.angularFirestore.collection("listePdf").doc(n.id).update({Status:n.status})}rejeterPdf(n){n.status=Ri.rejete,this.angularFirestore.collection("listePdf").doc(n.id).update(n)}supprimerPdf(n){n.status=Ri.supprime,this.angularFirestore.collection("listePdf").doc(n.id).update(n)}updatePdf(n){this.angularFirestore.collection("listePdf").doc(n.id).update(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function SK(r,i){if(1&r&&(o.TgZ(0,"li"),o.TgZ(1,"a",1),o._uU(2),o.qZA(),o.qZA()),2&r){const n=o.oxw(2);o.xp6(2),o.hij("Valider articles, photos et documents (",n.totalAValider,")")}}function xK(r,i){1&r&&(o.TgZ(0,"li"),o.TgZ(1,"a",2),o._uU(2,"Messages"),o.qZA(),o.qZA())}function AK(r,i){1&r&&(o.TgZ(0,"li"),o.TgZ(1,"a",3),o._uU(2,"G\xe9rer les droits."),o.qZA(),o.qZA())}function kK(r,i){if(1&r&&(o.TgZ(0,"ul"),o.YNc(1,SK,3,1,"li",0),o.YNc(2,xK,3,0,"li",0),o.YNc(3,AK,3,0,"li",0),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.isModerateur||n.isAdmin),o.xp6(1),o.Q6J("ngIf",n.isModerateur||n.isAdmin),o.xp6(1),o.Q6J("ngIf",n.isAdmin)}}let IK=(()=>{class r{constructor(n,s,a,l,h,m){this.router=n,this.globalService=s,this.authService=a,this.articlesService=l,this.pdfService=h,this.photoService=m,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.totalAValider=0,this.authSubscription=this.authService.authSubject.pipe(Ul(1)).subscribe(_=>{var D,M,A,I;null!=_&&(((null===(D=this.authService.getCurrentUser())||void 0===D?void 0:D.status)&&Vt.administrateur)===Vt.administrateur?this.isAdmin=!0:(((null===(M=this.authService.getCurrentUser())||void 0===M?void 0:M.status)&&Vt.editArticle)===Vt.editArticle&&(this.isEditArticle=!0),((null===(A=this.authService.getCurrentUser())||void 0===A?void 0:A.status)&&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),((null===(I=this.authService.getCurrentUser())||void 0===I?void 0:I.status)&&Vt.moderateur)===Vt.moderateur&&(this.isModerateur=!0)))})}ngOnInit(){let n=this.authService.getCurrentUser();this.articlesService.getArticlesAValider(),this.pdfService.getListePdfAValider(),this.globalService.getPhotosAValider(),this.totalAValider=this.globalService.ArticlesAValider.length+this.globalService.photosAValider.length+this.pdfService.pdfsAValider.length,n&&n.status&&(n.status&Vt.administrateur)===Vt.administrateur?this.isAdmin=!0:(n&&n.status&&(n.status&Vt.editArticle)==Vt.editArticle&&(this.isEditArticle=!0),n&&n.status&&(n.status&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),n&&n.status&&(n.status&Vt.moderateur)===Vt.moderateur&&(this.isModerateur=!0))}ngOnDestroy(){this.authSubscription.unsubscribe()}openValidateDialog(){this.router.navigate(["app-valider-articles"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wn),o.Y36(Ko),o.Y36(Kr),o.Y36(cv),o.Y36(Dv),o.Y36(mf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-home-administration"]],decls:4,vars:1,consts:[[4,"ngIf"],["routerLink","/app-valider-articles"],["routerLink","/app-liste-messages"],["routerLink","/app-droits"]],template:function(n,s){1&n&&(o.TgZ(0,"h2"),o._uU(1,"Administration"),o.qZA(),o._UZ(2,"br"),o.YNc(3,kK,4,3,"ul",0)),2&n&&(o.xp6(3),o.Q6J("ngIf",s.isAdmin))},directives:[ft,tm],styles:["a[_ngcontent-%COMP%]{color:#0ff;font-size:large}"]}),r})();class jG{constructor(i,n,s,a,l){this.date=i,this.email=n,this.texte=s,this.lu=a,this.id=l}}let qG=(()=>{class r{constructor(n){this.angularFirestore=n,this.listeMessagesNonLus=[],this.pdfSubject=new me.xQ}emitMessage(){this.pdfSubject.next(this.listeMessagesNonLus)}getMessagesNonLus(){this.angularFirestore.collection("Messages",n=>n.where("lu","==",!1)).get().subscribe(n=>{this.listeMessagesNonLus=n.docs.map(s=>{const a=s.data();return a.id=s.id,a})}),this.emitMessage()}addMessage(n){this.angularFirestore.collection("Messages").add({date:n.date.toJSON(),email:n.email,texte:n.texte,lu:n.lu}).catch(s=>{console.log("Erreur "+s)})}SoldeMessage(n){this.angularFirestore.collection("Messages").doc(n.id).update({lu:!0})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Ju))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function RK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Id "),o.qZA())}function OK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.id," ")}}function NK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Email "),o.qZA())}function PK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.email," ")}}function FK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Date "),o.qZA())}function LK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.date," ")}}function BK(r,i){1&r&&(o.TgZ(0,"th",12),o._uU(1," Texte "),o.qZA())}function VK(r,i){if(1&r&&(o.TgZ(0,"td",13),o._uU(1),o.qZA()),2&r){const n=i.$implicit;o.xp6(1),o.hij(" ",n.texte," ")}}function UK(r,i){1&r&&o._UZ(0,"mat-header-cell")}function HK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-cell"),o.TgZ(1,"button",14),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onVu(l)}),o._uU(2,"Vu"),o.qZA(),o.qZA()}}function GK(r,i){1&r&&o._UZ(0,"tr",15)}function YK(r,i){1&r&&o._UZ(0,"tr",16)}let jK=(()=>{class r{constructor(n){this.messagesService=n,this.displayedColumns=["email","date","texte","action"]}ngOnInit(){this.messagesService.getMessagesNonLus()}onVu(n){const s=new jG(n.date,n.email,n.texte,n.vu,n.id);this.messagesService.SoldeMessage(s)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(qG))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-messages"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","date"],["matColumnDef","texte"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1),o.qZA(),o._UZ(2,"br"),o.TgZ(3,"div"),o.TgZ(4,"table",0),o.ynx(5,1),o.YNc(6,RK,2,0,"th",2),o.YNc(7,OK,2,1,"td",3),o.BQk(),o.ynx(8,4),o.YNc(9,NK,2,0,"th",2),o.YNc(10,PK,2,1,"td",3),o.BQk(),o.ynx(11,5),o.YNc(12,FK,2,0,"th",2),o.YNc(13,LK,2,1,"td",3),o.BQk(),o.ynx(14,6),o.YNc(15,BK,2,0,"th",2),o.YNc(16,VK,2,1,"td",3),o.BQk(),o.ynx(17,7),o.YNc(18,UK,1,0,"mat-header-cell",8),o.YNc(19,HK,3,0,"mat-cell",9),o.BQk(),o.YNc(20,GK,1,0,"tr",10),o.YNc(21,YK,1,0,"tr",11),o.qZA(),o.qZA()),2&n&&(o.xp6(1),o.hij("Liste des messages non lus (",s.messagesService.listeMessagesNonLus.length,") "),o.xp6(3),o.Q6J("dataSource",s.messagesService.listeMessagesNonLus),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns))},directives:[LL,BA,LA,FA,BL,VL,VA,UA,UL,HL],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),r})(),ZG=(()=>{class r{constructor(n){this.sanitizer=n}transform(n,s){switch(s){case"html":return this.sanitizer.bypassSecurityTrustHtml(n);case"style":return this.sanitizer.bypassSecurityTrustStyle(n);case"script":return this.sanitizer.bypassSecurityTrustScript(n);case"url":return this.sanitizer.bypassSecurityTrustUrl(n);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(n);default:throw new Error(`Invalid safe type specified: ${s}`)}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(No,16))},r.\u0275pipe=o.Yjl({name:"safe",type:r,pure:!0}),r})();function qK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o._UZ(6,"img",2),o.TgZ(7,"mat-card-content",3),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"mat-card-actions"),o.TgZ(12,"div",4),o.TgZ(13,"button",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onValideArticle(l)}),o._uU(14,"Valider l'article"),o.qZA(),o.TgZ(15,"button",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onRejeteArticle(l)}),o._uU(16,"Rejeter l'article"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(2),o.Oqu(n.legende),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.texte)}}function ZK(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2),o.qZA(),o.YNc(3,qK,17,4,"div",1),o._UZ(4,"br"),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.hij("Liste des articles \xe0 valider. (",n.globalService.ArticlesAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",n.globalService.ArticlesAValider)}}function zK(r,i){if(1&r&&(o.TgZ(0,"mat-card-subtitle"),o._uU(1),o.qZA()),2&r){const n=o.oxw().$implicit;o.xp6(1),o.Oqu(n.annee)}}function $K(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.YNc(4,zK,2,1,"mat-card-subtitle",0),o._UZ(5,"img",7),o.TgZ(6,"mat-card-content",3),o.TgZ(7,"div"),o.TgZ(8,"pre"),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"mat-card-actions"),o.TgZ(11,"div",4),o.TgZ(12,"button",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onValidePhoto(l)}),o._uU(13,"Valider la photo"),o.qZA(),o.TgZ(14,"button",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onRejetePhoto(l)}),o._uU(15,"Rejeter la photo"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(1),o.Q6J("ngIf",n.photo),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.listeEleves)}}function WK(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2),o.qZA(),o.YNc(3,$K,16,4,"div",1),o._UZ(4,"br"),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.hij("Liste des photos de classes \xe0 valider. (",n.globalService.photosAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",n.globalService.photosAValider)}}function JK(r,i){if(1&r&&(o._UZ(0,"iframe",9),o.ALo(1,"safe")),2&r){const n=o.oxw().$implicit;o.Q6J("src",o.xi3(1,1,n.fichier,"resourceUrl"),o.uOi)}}function QK(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.YNc(4,JK,2,4,"iframe",8),o.TgZ(5,"mat-card-content",3),o.TgZ(6,"div"),o.TgZ(7,"pre"),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"mat-card-actions"),o.TgZ(10,"div",4),o.TgZ(11,"button",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onValidePdf(l)}),o._uU(12,"Valider le document"),o.qZA(),o.TgZ(13,"button",6),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onRejetePdf(l)}),o._uU(14,"Rejeter le document"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(3),o.Oqu(n.titre),o.xp6(1),o.Q6J("ngIf",n.fichier),o.xp6(4),o.Oqu(n.description)}}function KK(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2),o.qZA(),o.YNc(3,QK,15,3,"div",1),o.qZA()),2&r){const n=o.oxw();o.xp6(2),o.hij("Liste des documents \xe0 valider. (",n.pdfService.pdfsAValider.length,")"),o.xp6(1),o.Q6J("ngForOf",n.pdfService.pdfsAValider)}}let XK=(()=>{class r{constructor(n,s,a,l){this.globalService=n,this.pdfService=s,this.authService=a,this.articlesService=l,this.isConnected=!1,this.canWrite=!1,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.authSubscription=this.authService.authSubject.subscribe(h=>{if(!0===h){let m=this.authService.getCurrentUser();m&&m.status&&(m.status&Vt.administrateur)===Vt.administrateur?this.isAdmin=!0:(m&&m.status&&(m.status&Vt.editArticle)===Vt.editArticle&&(this.isEditArticle=!0),m&&m.status&&(m.status&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),m&&m.status&&(m.status&Vt.moderateur)===Vt.moderateur&&(this.isModerateur=!0))}}),this.authService.emitUserChanged()}ngOnInit(){}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}onValideArticle(n){this.articlesService.valideArticle(n).then(s=>{}).catch(s=>{console.log(s)})}onRejeteArticle(n){this.articlesService.rejeteArticle(n).then(s=>{}).catch(s=>{console.log(s)})}onValidePdf(n){this.pdfService.validerPdf(n)}onRejetePdf(n){this.pdfService.rejeterPdf(n)}onValidePhoto(n){this.globalService.validerPhoto(n)}onRejetePhoto(n){this.globalService.rejeterPhoto(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko),o.Y36(Dv),o.Y36(Kr),o.Y36(cv))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-valider-articles"]],decls:6,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["alt","Photo de classe introuvable",1,"img",3,"src"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Validations"),o.qZA(),o._UZ(2,"br"),o.YNc(3,ZK,5,2,"div",0),o.YNc(4,WK,5,2,"div",0),o.YNc(5,KK,4,2,"div",0)),2&n&&(o.xp6(3),o.Q6J("ngIf",s.isEditArticle||s.isAdmin),o.xp6(1),o.Q6J("ngIf",s.isEditPhotosDeClasse||s.isAdmin),o.xp6(1),o.Q6J("ngIf",s.isModerateur||s.isAdmin))},directives:[ft,yt,vg,bg,Cv,wv,PA,es],pipes:[ZG],styles:["pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}.card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:20%;max-height:20%;align-content:left}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}"]}),r})();class eX{constructor(i,n,s,a,l,h,m,_,D,M,A){this.id=i,this.titre=n,this.texte=s,this.idTheme=a,this.date=l,this.photo=h,this.photo2=m,this.legende=_,this.auteur=D,this.nomAuteur=M,this.status=A}}function tX(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition de l'article ",n.article.titre,"")}}function nX(r,i){if(1&r&&o._UZ(0,"app-article-form",2),2&r){const n=o.oxw();o.Q6J("article",n.article)}}let GL=(()=>{class r{constructor(n,s,a){this.globalService=n,this.articlesService=s,this.route=a,this.articlesService.getArticle(this.route.snapshot.params.id).subscribe(h=>{this.article=h.data()},h=>{console.log("Erreur = "+h)})}ngOnInit(){}ngOnDestroy(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko),o.Y36(cv),o.Y36(fo))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-article"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"article",4,"ngIf"],[3,"article"]],template:function(n,s){1&n&&(o.YNc(0,tX,2,1,"h4",0),o.YNc(1,nX,1,1,"app-article-form",1)),2&n&&(o.Q6J("ngIf",s.article),o.xp6(1),o.Q6J("ngIf",s.article))},styles:[""]}),r})();const zG=new Set;let Mv,$G=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rX}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!zG.has(r))try{Mv||(Mv=document.createElement("style"),Mv.setAttribute("type","text/css"),document.head.appendChild(Mv)),Mv.sheet&&(Mv.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),zG.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(It))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(It))},token:r,providedIn:"root"}),r})();function rX(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let GA=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new me.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return WG(Jc(n)).some(a=>this._registerQuery(a).mql.matches)}observe(n){let l=Lp(WG(Jc(n)).map(h=>this._registerQuery(h).observable));return l=Vl(l.pipe(P(1)),l.pipe(it(1),Wc(0))),l.pipe((0,b.U)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:_,query:D})=>{m.matches=m.matches||_,m.breakpoints[D]=_}),m}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),l={observable:new An.y(h=>{const m=_=>this._zone.run(()=>h.next(_));return s.addListener(m),()=>{s.removeListener(m)}}).pipe(zt(s),(0,b.U)(({matches:h})=>({query:n,matches:h})),Be(this._destroySubject)),mql:s};return this._queries.set(n,l),l}}return r.\u0275fac=function(n){return new(n||r)(o.LFG($G),o.LFG(o.R0b))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG($G),o.LFG(o.R0b))},token:r,providedIn:"root"}),r})();function WG(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}const wc_Small="(min-width: 600px) and (max-width: 959.98px)";var Mf=(()=>(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"}(Mf||(Mf={})),Mf))();const JG="firebasestorage.googleapis.com",QG="storageBucket";class ar extends $t.ZR{constructor(i,n){super(YL(i),`Firebase Storage: ${n} (${YL(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ar.prototype)}_codeEquals(i){return YL(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function YL(r){return"storage/"+r}function jL(){return new ar("unknown","An unknown error occurred, please check the error payload for server response.")}function KG(){return new ar("canceled","User canceled the upload/download.")}function XG(){return new ar("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _X(){return new ar("no-download-url","The given file does not have any download URLs.")}function Tv(r){return new ar("invalid-argument",r)}function eY(){return new ar("app-deleted","The Firebase app was deleted.")}function tY(r){return new ar("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tD(r,i){return new ar("invalid-format","String does not match format '"+r+"': "+i)}function YA(r){throw new ar("internal-error","Internal error: "+r)}class yX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Mf.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mf.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mf.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,a){if(this.sent_)throw YA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw YA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw YA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw YA("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class vX{createConnection(){return new yX}}class Ns{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=Ns.makeFromUrl(i,n)}catch(a){return new Ns(i,"")}if(""===s.path)return s;throw function(r){return new ar("invalid-default-bucket","Invalid default bucket '"+r+"'.")}(i)}static makeFromUrl(i,n){let s=null;const a="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+a+"(/(.*))?$","i");function D(We){We.path_=decodeURIComponent(We.path)}const A=n.replace(/[.]/g,"\\."),He=[{regex:m,indices:{bucket:1,path:3},postModify:function(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${n===JG?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let We=0;We<He.length;We++){const wn=He[We],Ci=wn.regex.exec(i);if(Ci){let Ni=Ci[wn.indices.path];Ni||(Ni=""),s=new Ns(Ci[wn.indices.bucket],Ni),wn.postModify(s);break}}if(null==s)throw function(r){return new ar("invalid-url","Invalid URL '"+r+"'.")}(i);return s}}class wX{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function jA(r){return"string"==typeof r||r instanceof String}function nY(r){return qL()&&r instanceof Blob}function qL(){return"undefined"!=typeof Blob}function ZL(r,i,n,s){if(s<i)throw Tv(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw Tv(`Invalid value for '${r}'. Expected ${n} or less.`)}function Tf(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function iY(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class SX{constructor(i,n,s,a,l,h,m,_,D,M,A){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l.slice(),this.additionalRetryCodes_=h.slice(),this.callback_=m,this.errorCallback_=_,this.progressCallback_=M,this.timeout_=D,this.pool_=A,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const i=this;function s(a,l){const h=i.resolve_,m=i.reject_,_=l.connection;if(l.wasSuccessCode)try{const D=i.callback_(_,_.getResponseText());!function(r){return void 0!==r}(D)?h():h(D)}catch(D){m(D)}else if(null!==_){const D=jL();D.serverResponse=_.getResponseText(),m(i.errorCallback_?i.errorCallback_(_,D):D)}else m(l.canceled?i.appDelete_?eY():KG():new ar("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new qA(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,a=null,l=!1,h=0;function m(){return 2===h}let _=!1;function D(...B){_||(_=!0,i.apply(null,B))}function M(B){a=setTimeout(()=>{a=null,r(A,m())},B)}function A(B,...$){if(_)return;if(B)return void D.call(null,B,...$);if(m()||l)return void D.call(null,B,...$);let Re;s<64&&(s*=2),1===h?(h=2,Re=0):Re=1e3*(s+Math.random()),M(Re)}let I=!1;function O(B){I||(I=!0,!_&&(null!==a?(B||(h=2),clearTimeout(a),M(0)):B||(h=1)))}return M(0),setTimeout(()=>{l=!0,O(!0)},n),O}(function(a,l){if(l)return void a(!1,new qA(!1,null,!0));const h=i.pool_.createConnection();function m(_){null!==i.progressCallback_&&i.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)}i.pendingConnection_=h,null!==i.progressCallback_&&h.addUploadProgressListener(m),h.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&h.removeUploadProgressListener(m),i.pendingConnection_=null;const _=h.getErrorCode()===Mf.NO_ERROR,D=h.getStatus();if(!_||i.isRetryStatusCode_(D)){const A=h.getErrorCode()===Mf.ABORT;return void a(!1,new qA(!1,null,A))}const M=-1!==i.successCodes_.indexOf(D);a(!0,new qA(M,h))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,a=-1!==[408,429].indexOf(i),l=-1!==this.additionalRetryCodes_.indexOf(i);return n||a||l}}class qA{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function NX(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(qL())return new Blob(r);throw new ar("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zL{constructor(i,n){this.data=i,this.contentType=n||null}}function $L(r,i){switch(r){case Xo.RAW:return new zL(rY(i));case Xo.BASE64:case Xo.BASE64URL:return new zL(sY(r,i));case Xo.DATA_URL:return new zL(function(r){const i=new oY(r);return i.base64?sY(Xo.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw tD(Xo.DATA_URL,"Malformed data URL.")}return rY(i)}(i.rest)}(i),function(r){return new oY(r).contentType}(i))}throw jL()}function rY(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function sY(r,i){switch(r){case Xo.BASE64:{const a=-1!==i.indexOf("-"),l=-1!==i.indexOf("_");if(a||l)throw tD(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const a=-1!==i.indexOf("+"),l=-1!==i.indexOf("/");if(a||l)throw tD(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(a){throw tD(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class oY{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw tD(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Cc{constructor(i,n){let s=0,a="";nY(i)?(this.data_=i,s=i.size,a=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(i,n){if(nY(this.data_)){const a=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===a?null:new Cc(a)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Cc(s,!0)}}static getBlob(...i){if(qL()){const n=i.map(s=>s instanceof Cc?s.data_:s);return new Cc(NX.apply(null,n))}{const n=i.map(h=>jA(h)?$L(Xo.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)a[l++]=h[m]}),new Cc(a,!0)}}uploadData(){return this.data_}}function WL(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function aY(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function YX(r,i){return i}class Qs{constructor(i,n,s,a){this.server=i,this.local=n||i,this.writable=!!s,this.xform=a||YX}}let ZA=null;function nD(){if(ZA)return ZA;const r=[];r.push(new Qs("bucket")),r.push(new Qs("generation")),r.push(new Qs("metageneration")),r.push(new Qs("name","fullPath",!0));const n=new Qs("name");n.xform=function(l,h){return function(r){return!jA(r)||r.length<2?r:aY(r)}(h)},r.push(n);const a=new Qs("size");return a.xform=function(l,h){return void 0!==h?Number(h):h},r.push(a),r.push(new Qs("timeCreated")),r.push(new Qs("updated")),r.push(new Qs("md5Hash",null,!0)),r.push(new Qs("cacheControl",null,!0)),r.push(new Qs("contentDisposition",null,!0)),r.push(new Qs("contentEncoding",null,!0)),r.push(new Qs("contentLanguage",null,!0)),r.push(new Qs("contentType",null,!0)),r.push(new Qs("metadata","customMetadata",!0)),ZA=r,ZA}function lY(r,i,n){const s=WL(i);return null===s?null:function(r,i,n){const s={type:"file"},a=n.length;for(let l=0;l<a;l++){const h=n[l];s[h.local]=h.xform(s,i[h.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const l=new Ns(r.bucket,r.fullPath);return i._makeStorageReference(l)}})}(s,r),s}(r,s,n)}function JL(r,i){const n={},s=i.length;for(let a=0;a<s;a++){const l=i[a];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}const cY="prefixes";class Xu{constructor(i,n,s,a){this.url=i,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dc(r){if(!r)throw jL()}function zA(r,i){return function(s,a){const l=lY(r,a,i);return Dc(null!==l),l}}function Ev(r){return function(n,s){let a;return a=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new ar("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ar("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new ar("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new ar("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,a.serverResponse=s.serverResponse,a}}function $A(r){const i=Ev(r);return function(s,a){let l=i(s,a);return 404===s.getStatus()&&(l=function(r){return new ar("object-not-found","Object '"+r+"' does not exist.")}(r.path)),l.serverResponse=a.serverResponse,l}}function dY(r,i,n){const a=Tf(i.fullServerUrl(),r.host,r._protocol),h=r.maxOperationRetryTime,m=new Xu(a,"GET",zA(r,n),h);return m.errorHandler=$A(i),m}function KX(r,i,n,s,a){const l={};l.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(l.delimiter=n),s&&(l.pageToken=s),a&&(l.maxResults=a);const m=Tf(i.bucketOnlyServerUrl(),r.host,r._protocol),D=r.maxOperationRetryTime,M=new Xu(m,"GET",function(r,i){return function(s,a){const l=function(r,i,n){const s=WL(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[cY])for(const a of n[cY]){const l=a.replace(/\/$/,""),h=r._makeStorageReference(new Ns(i,l));s.prefixes.push(h)}if(n.items)for(const a of n.items){const l=r._makeStorageReference(new Ns(i,a.name));s.items.push(l)}return s}(r,i,s)}(r,i,a);return Dc(null!==l),l}}(r,i.bucket),D);return M.urlParams=l,M.errorHandler=Ev(i),M}function XX(r,i,n){const a=Tf(i.fullServerUrl(),r.host,r._protocol),h=r.maxOperationRetryTime,m=new Xu(a,"GET",function(r,i){return function(s,a){const l=lY(r,a,i);return Dc(null!==l),function(r,i,n,s){const a=WL(i);if(null===a||!jA(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(D=>{const A=r.fullPath;return Tf("/b/"+h(r.bucket)+"/o/"+h(A),n,s)+iY({alt:"media",token:D})})[0]}(l,a,r.host,r._protocol)}}(r,n),h);return m.errorHandler=$A(i),m}function eee(r,i,n,s){const l=Tf(i.fullServerUrl(),r.host,r._protocol),m=JL(n,s),D=r.maxOperationRetryTime,M=new Xu(l,"PATCH",zA(r,s),D);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=m,M.errorHandler=$A(i),M}function tee(r,i){const s=Tf(i.fullServerUrl(),r.host,r._protocol),m=new Xu(s,"DELETE",function(_,D){},r.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=$A(i),m}function hY(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class WA{constructor(i,n,s,a){this.current=i,this.total=n,this.finalized=!!s,this.metadata=a||null}}function QL(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(a){Dc(!1)}return Dc(!!n&&-1!==(i||["active"]).indexOf(n)),n}const oee={STATE_CHANGED:"state_changed"},Ks={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KL(r){switch(r){case"running":case"pausing":case"canceling":return Ks.RUNNING;case"paused":return Ks.PAUSED;case"success":return Ks.SUCCESS;case"canceled":return Ks.CANCELED;case"error":default:return Ks.ERROR}}class aee{constructor(i,n,s){if(function(r){return"function"==typeof r}(i)||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const l=i;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Sv(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class mY{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=nD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,a){const l=i.bucketOnlyServerUrl(),h=hY(i,s,a),m={name:h.fullPath},_=Tf(l,r.host,r._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},A=JL(h,n),B=new Xu(_,"POST",function($){let ae;QL($);try{ae=$.getResponseHeader("X-Goog-Upload-URL")}catch(Re){Dc(!1)}return Dc(jA(ae)),ae},r.maxUploadRetryTime);return B.urlParams=m,B.headers=M,B.body=A,B.errorHandler=Ev(i),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const a=function(r,i,n,s){const _=new Xu(n,"POST",function(D){const M=QL(D,["active","final"]);let A=null;try{A=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){Dc(!1)}A||Dc(!1);const I=Number(A);return Dc(!isNaN(I)),new WA(I,s.size(),"final"===M)},r.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Ev(i),_}(this._ref.storage,this._ref._location,i,this._blob),l=this._ref.storage._makeRequest(a,n,s);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new WA(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let h;try{h=function(r,i,n,s,a,l,h,m){const _=new WA(0,0);if(h?(_.current=h.current,_.total=h.total):(_.current=0,_.total=s.size()),s.size()!==_.total)throw new ar("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=_.total-_.current;let M=D;a>0&&(M=Math.min(M,a));const A=_.current,B={"X-Goog-Upload-Command":M===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},$=s.slice(A,A+M);if(null===$)throw XG();const He=new Xu(n,"POST",function(We,wn){const Ci=QL(We,["active","final"]),lr=_.current+M,Ni=s.size();let ta;return ta="final"===Ci?zA(i,l)(We,wn):null,new WA(lr,Ni,"final"===Ci,ta)},i.maxUploadRetryTime);return He.headers=B,He.body=$.uploadData(),He.progressCallback=m||null,He.errorHandler=Ev(r),He}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const m=this._ref.storage._makeRequest(h,a,l);this._request=m,m.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=dY(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,a){const l=i.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},_=function(){let He="";for(let We=0;We<2;We++)He+=Math.random().toString().slice(2);return He}();h["Content-Type"]="multipart/related; boundary="+_;const D=hY(i,s,a),M=JL(D,n),O=Cc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+_+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",s,"\r\n--"+_+"--");if(null===O)throw XG();const B={name:D.fullPath},$=Tf(l,r.host,r._protocol),Re=r.maxUploadRetryTime,Ve=new Xu($,"POST",zA(r,n),Re);return Ve.urlParams=B,Ve.headers=h,Ve.body=O.uploadData(),Ve.errorHandler=Ev(i),Ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,i,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=KG(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=KL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,a){const l=new aee(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(KL(this._state)){case Ks.SUCCESS:Sv(this._resolve.bind(null,this.snapshot))();break;case Ks.CANCELED:case Ks.ERROR:Sv(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(KL(this._state)){case Ks.RUNNING:case Ks.PAUSED:i.next&&Sv(i.next.bind(i,this.snapshot))();break;case Ks.SUCCESS:i.complete&&Sv(i.complete.bind(i))();break;case Ks.CANCELED:case Ks.ERROR:i.error&&Sv(i.error.bind(i,this._error))();break;default:i.error&&Sv(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class wg{constructor(i,n){this._service=i,this._location=n instanceof Ns?n:Ns.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new wg(i,n)}get root(){const i=new Ns(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aY(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new Ns(this._location.bucket,i);return new wg(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw tY(i)}}function _Y(r,i,n){return XL.apply(this,arguments)}function XL(){return(XL=(0,Me.Z)(function*(r,i,n){const a=yield yY(r,{pageToken:n});i.prefixes.push(...a.prefixes),i.items.push(...a.items),null!=a.nextPageToken&&(yield _Y(r,i,a.nextPageToken))})).apply(this,arguments)}function yY(r,i){return e2.apply(this,arguments)}function e2(){return(e2=(0,Me.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&ZL("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=KX(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function t2(){return(t2=(0,Me.Z)(function*(r){r._throwIfRoot("getMetadata");const i=dY(r.storage,r._location,nD());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function n2(){return(n2=(0,Me.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=eee(r.storage,r._location,i,nD());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function r2(){return(r2=(0,Me.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=XX(r.storage,r._location,nD());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw _X();return n})})).apply(this,arguments)}function s2(){return(s2=(0,Me.Z)(function*(r){r._throwIfRoot("deleteObject");const i=tee(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function bY(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new Ns(r._location.bucket,n);return new wg(r.storage,s)}function vY(r,i){if(r instanceof o2){const n=r;if(null==n._bucket)throw new ar("no-default-bucket","No default bucket found. Did you set the '"+QG+"' property when initializing the app?");const s=new wg(n,n._bucket);return null!=i?vY(s,i):s}return void 0!==i?bY(r,i):r}function _ee(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof o2)return function(r,i){return new wg(r,i)}(r,i);throw Tv("To use ref(service, url), the first argument must be a Storage instance.")}return vY(r,i)}function wY(r,i){const n=null==i?void 0:i[QG];return null==n?null:Ns.makeFromBucketSpec(n,r)}class o2{constructor(i,n,s,a,l,h){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=a,this._url=l,this._firebaseVersion=h,this._bucket=null,this._host=JG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=l?Ns.makeFromBucketSpec(l,this._host):wY(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,i):wY(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){ZL("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){ZL("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Me.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Me.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new wg(this,i)}_makeRequest(i,n,s){if(this._deleted)return new wX(eY());{const a=function(r,i,n,s,a,l){const h=iY(r.urlParams),m=r.url+h,_=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(_,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(_,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(_,l),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(_,s),new SX(m,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(i){var n=this;return(0,Me.Z)(function*(){const[s,a]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,a)})()}}function DY(r,i){return _ee(r=(0,$t.m9)(r),i)}(0,Oh._registerComponent)(new Gy.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new o2(n,s,a,new vX,i,Oh.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Oh.registerVersion)("@firebase/storage","0.8.2");class JA{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class MY{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new JA(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new JA(s,this,this._ref))},n)}on(i,n,s,a){let l;return n&&(l="function"==typeof n?h=>n(new JA(h,this,this._ref)):{next:n.next?h=>n.next(new JA(h,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,l,s||void 0,a||void 0)}}class TY{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new ed(i,this._service))}get items(){return this._delegate.items.map(i=>new ed(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ed{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return bY(r,i)}(this._delegate,i);return new ed(n,this.storage)}get root(){return new ed(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new ed(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new MY(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new mY(r,new Cc(i),n)}(r=(0,$t.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=Xo.RAW,s){this._throwIfRoot("putString");const a=$L(n,i),l=Object.assign({},s);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new MY(new mY(this._delegate,new Cc(a.data,!0),l),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return _Y(r,i).then(()=>i)}(r=(0,$t.m9)(r))}(this._delegate).then(i=>new TY(i,this.storage))}list(i){return function(r,i){return yY(r=(0,$t.m9)(r),i)}(this._delegate,i||void 0).then(n=>new TY(n,this.storage))}getMetadata(){return function(r){return function(r){return t2.apply(this,arguments)}(r=(0,$t.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return n2.apply(this,arguments)}(r=(0,$t.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return r2.apply(this,arguments)}(r=(0,$t.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return s2.apply(this,arguments)}(r=(0,$t.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw tY(i)}}class EY{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(SY(i))throw Tv("ref() expected a child path but got a URL, use refFromURL instead.");return new ed(DY(this._delegate,i),this)}refFromURL(i){if(!SY(i))throw Tv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ns.makeFromUrl(i,this._delegate.host)}catch(n){throw Tv("refFromUrl() expected a valid full URL but got an invalid one.")}return new ed(DY(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:a}=s;a&&(r._overrideAuthToken="string"==typeof a?a:(0,$t.Sg)(a,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function SY(r){return/^[A-Za-z]+:\/\//.test(r)}function Pee(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new EY(n,s)}function xY(r){const i=function(r){return new An.y(i=>{const n=h=>i.next(h);n(r.snapshot);const l=r.on("state_changed",n);return r.then(h=>{n(h),i.complete()},h=>{n(r.snapshot),(h=>{i.error(h)})(h)}),function(){l()}}).pipe(Wc(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,b.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function QA(r){return{getDownloadURL:()=>(0,qe.of)(void 0).pipe(Jn.fc,pn(()=>r.getDownloadURL()),Jn.iC),getMetadata:()=>(0,qe.of)(void 0).pipe(Jn.fc,pn(()=>r.getMetadata()),Jn.iC),delete:()=>(0,Bn.D)(r.delete()),child:i=>QA(r.child(i)),updateMetadata:i=>(0,Bn.D)(r.updateMetadata(i)),put:(i,n)=>xY(r.put(i,n)),putString:(i,n,s)=>xY(r.putString(i,n,s)),listAll:()=>(0,Bn.D)(r.listAll())}}!function(r){const i={TaskState:Ks,TaskEvent:oee,StringFormat:Xo,Storage:EY,Reference:ed};r.INTERNAL.registerComponent(new Gy.wA("storage-compat",Pee,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(zE.Z);const Bee=new o.OlP("angularfire2.storageBucket"),Vee=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Uee=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Hee=new o.OlP("angularfire2.storage.use-emulator");let a2=(()=>{class r{constructor(n,s,a,l,h,m,_,D,M){const A=(0,go.on)(n,h,s);this.storage=(0,Jn.cc)(`${A.name}.storage.${a}`,"AngularFireStorage",A.name,()=>{const I=h.runOutsideAngular(()=>A.storage(a||void 0)),O=M;return O&&I.useEmulator(...O),_&&I.setMaxUploadRetryTime(_),D&&I.setMaxOperationRetryTime(D),I},[_,D])}ref(n){return QA(this.storage.ref(n))}refFromURL(n){return QA(this.storage.refFromURL(n))}upload(n,s,a){return QA(this.storage.ref(n)).put(s,a)}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(go.Dh),o.LFG(go.xv,8),o.LFG(Bee,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jn.HU),o.LFG(Vee,8),o.LFG(Uee,8),o.LFG(Hee,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Gee=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),Yee=(()=>{class r{constructor(){h6.Z.registerVersion("angularfire",Jn.q4.full,"gcs-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[a2],imports:[Gee]}),r})();var kt=L(4762);new o.OlP("ngx-mat-file-input.config");class KA{constructor(i,n=", "){this._files=i,this.delimiter=n,this._fileNames=(this._files||[]).map(s=>s.name).join(n)}get files(){return this._files||[]}get fileNames(){return this._fileNames}}const Zee=V1(class{constructor(i,n,s,a){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=s,this.ngControl=a}});var XA;let wi=XA=class extends Zee{constructor(i,n,s,a,l,h,m){super(a,h,m,l),this.fm=i,this._elementRef=n,this._renderer=s,this._defaultErrorStateMatcher=a,this.ngControl=l,this._parentForm=h,this._parentFormGroup=m,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.accept=null,this.id="ngx-mat-file-input-"+XA.nextId++,this.describedBy="",this._onChange=_=>{},this._onTouched=()=>{},null!=this.ngControl&&(this.ngControl.valueAccessor=this),i.monitor(n.nativeElement,!0).subscribe(_=>{this.focused=!!_,this.stateChanges.next()})}setDescribedByIds(i){this.describedBy=i.join(" ")}get value(){return this.empty?null:new KA(this._elementRef.nativeElement.value||[])}set value(i){i&&(this.writeValue(i),this.stateChanges.next())}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get empty(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length}get shouldLabelFloat(){return this.focused||!this.empty||void 0!==this.valuePlaceholder}get required(){return this._required}set required(i){this._required=xe(i),this.stateChanges.next()}get isDisabled(){return this.disabled}get disabled(){return this._elementRef.nativeElement.disabled}set disabled(i){this.setDisabledState(xe(i)),this.stateChanges.next()}onContainerClick(i){"input"!==i.target.tagName.toLowerCase()&&!this.disabled&&(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())}get fileNames(){return this.value?this.value.fileNames:this.valuePlaceholder}writeValue(i){this._renderer.setProperty(this._elementRef.nativeElement,"value",i instanceof KA?i.files:null)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}clear(i){i&&(i.preventDefault(),i.stopPropagation()),this.value=new KA([]),this._elementRef.nativeElement.querySelector("input").value=null,this._onChange(this.value)}change(i){const n=i.target.files,s=[];if(n)for(let a=0;a<n.length;a++)s.push(n[a]);this.value=new KA(s),this._onChange(this.value)}blur(){this.focused=!1,this._onTouched()}setDisabledState(i){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",i)}ngOnInit(){this.multiple=xe(this.multiple)}open(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()}ngOnDestroy(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}};wi.\u0275fac=function(i){return new(i||wi)(o.Y36(ii),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Js),o.Y36(fs,10),o.Y36(Ys,8),o.Y36(Bi,8))},wi.\u0275cmp=o.Xpm({type:wi,selectors:[["ngx-mat-file-input"]],hostVars:6,hostBindings:function(i,n){1&i&&o.NdJ("change",function(a){return n.change(a)})("focusout",function(){return n.blur()}),2&i&&(o.Ikx("id",n.id),o.uIk("aria-describedby",n.describedBy),o.ekj("mat-form-field-should-float",n.shouldLabelFloat)("file-input-disabled",n.isDisabled))},inputs:{autofilled:"autofilled",accept:"accept",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",multiple:"multiple",valuePlaceholder:"valuePlaceholder",errorStateMatcher:"errorStateMatcher"},features:[o._Bn([{provide:dg,useExisting:XA}]),o.qOj],decls:4,vars:4,consts:[["type","file"],["input",""],[1,"filename",3,"title"]],template:function(i,n){1&i&&(o._UZ(0,"input",0,1),o.TgZ(2,"span",2),o._uU(3),o.qZA()),2&i&&(o.uIk("multiple",n.multiple?"":null)("accept",n.accept),o.xp6(2),o.Q6J("title",n.fileNames),o.xp6(1),o.Oqu(n.fileNames))},styles:["[_nghost-%COMP%]{display:inline-block;width:100%}[_nghost-%COMP%]:not(.file-input-disabled){cursor:pointer}input[_ngcontent-%COMP%]{width:0;height:0;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),wi.nextId=0,wi.ctorParameters=()=>[{type:ii},{type:o.SBq},{type:o.Qsj},{type:Js},{type:fs,decorators:[{type:o.FiY},{type:o.PiD}]},{type:Ys,decorators:[{type:o.FiY}]},{type:Bi,decorators:[{type:o.FiY}]}],(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Object)],wi.prototype,"autofilled",void 0),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",String)],wi.prototype,"valuePlaceholder",void 0),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Boolean)],wi.prototype,"multiple",void 0),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Object)],wi.prototype,"accept",void 0),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Js)],wi.prototype,"errorStateMatcher",void 0),(0,kt.gn)([(0,o.pfw)(),(0,kt.w6)("design:type",Object)],wi.prototype,"id",void 0),(0,kt.gn)([(0,o.pfw)("attr.aria-describedby"),(0,kt.w6)("design:type",Object)],wi.prototype,"describedBy",void 0),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Object),(0,kt.w6)("design:paramtypes",[Object])],wi.prototype,"value",null),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Object),(0,kt.w6)("design:paramtypes",[Object])],wi.prototype,"placeholder",null),(0,kt.gn)([(0,o.pfw)("class.mat-form-field-should-float"),(0,kt.w6)("design:type",Object),(0,kt.w6)("design:paramtypes",[])],wi.prototype,"shouldLabelFloat",null),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Boolean),(0,kt.w6)("design:paramtypes",[Boolean])],wi.prototype,"required",null),(0,kt.gn)([(0,o.pfw)("class.file-input-disabled"),(0,kt.w6)("design:type",Object),(0,kt.w6)("design:paramtypes",[])],wi.prototype,"isDisabled",null),(0,kt.gn)([(0,o.IIB)(),(0,kt.w6)("design:type",Boolean),(0,kt.w6)("design:paramtypes",[Boolean])],wi.prototype,"disabled",null),(0,kt.gn)([(0,o.L6J)("change",["$event"]),(0,kt.w6)("design:type",Function),(0,kt.w6)("design:paramtypes",[Event]),(0,kt.w6)("design:returntype",void 0)],wi.prototype,"change",null),(0,kt.gn)([(0,o.L6J)("focusout"),(0,kt.w6)("design:type",Function),(0,kt.w6)("design:paramtypes",[]),(0,kt.w6)("design:returntype",void 0)],wi.prototype,"blur",null),wi=XA=(0,kt.gn)([(0,kt.fM)(4,(0,o.FiY)()),(0,kt.fM)(4,(0,o.PiD)()),(0,kt.fM)(5,(0,o.FiY)()),(0,kt.fM)(6,(0,o.FiY)()),(0,kt.w6)("design:paramtypes",[ii,o.SBq,o.Qsj,Js,fs,Ys,Bi])],wi);let zee=(()=>{let r=class{};return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[ii]}),r})();var kY;!function(r){r.maxContentSize=function(s){return a=>{const l=a&&a.value?a.value.files.map(m=>m.size).reduce((m,_)=>m+_,0):0;return s>=l?null:{maxContentSize:{actualSize:l,maxSize:s}}}},r.allowedExtensions=function(s){return a=>a&&a.value&&a.value.files.every(h=>{const m=h.name.split(".");return-1!==s.indexOf(m[m.length-1])})?null:{allowedExtensions:s}}}(kY||(kY={}));var $ee=L(205);class IY{}class td{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const a=n.slice(0,s),l=a.toLowerCase(),h=n.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const a=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(n,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof td?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new td;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof td?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const a=("a"===i.op?this.headers.get(n):void 0)||[];a.push(...s),this.headers.set(n,a);break;case"d":const l=i.value;if(l){let h=this.headers.get(n);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,h)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class Wee{encodeKey(i){return OY(i)}encodeValue(i){return OY(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Qee=/%(\d[a-f0-9])/gi,Kee={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function OY(r){return encodeURIComponent(r).replace(Qee,(i,n)=>{var s;return null!==(s=Kee[n])&&void 0!==s?s:i})}function NY(r){return`${r}`}class Ef{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Wee,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[h,m]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],_=n.get(h)||[];_.push(m),n.set(h,_)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{n.push({param:s,value:l,op:"a"})}):n.push({param:s,value:a,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new Ef({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(NY(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(NY(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Xee{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function PY(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function FY(r){return"undefined"!=typeof Blob&&r instanceof Blob}function LY(r){return"undefined"!=typeof FormData&&r instanceof FormData}class iD{constructor(i,n,s,a){let l;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new td),this.context||(this.context=new Xee),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=n;else{const m=n.indexOf("?");this.urlWithParams=n+(-1===m?"?":m<n.length-1?"&":"")+h}}else this.params=new Ef,this.urlWithParams=n}serializeBody(){return null===this.body?null:PY(this.body)||FY(this.body)||LY(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ef?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LY(this.body)?null:FY(this.body)?this.body.type||null:PY(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ef?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,a=i.url||this.url,l=i.responseType||this.responseType,h=void 0!==i.body?i.body:this.body,m=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,_=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let D=i.headers||this.headers,M=i.params||this.params;const A=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(D=Object.keys(i.setHeaders).reduce((I,O)=>I.set(O,i.setHeaders[O]),D)),i.setParams&&(M=Object.keys(i.setParams).reduce((I,O)=>I.set(O,i.setParams[O]),M)),new iD(s,a,h,{params:M,headers:D,context:A,reportProgress:_,responseType:l,withCredentials:m})}}var Cr=(()=>((Cr=Cr||{})[Cr.Sent=0]="Sent",Cr[Cr.UploadProgress=1]="UploadProgress",Cr[Cr.ResponseHeader=2]="ResponseHeader",Cr[Cr.DownloadProgress=3]="DownloadProgress",Cr[Cr.Response=4]="Response",Cr[Cr.User=5]="User",Cr))();class ek extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new td,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=Cr.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new ek({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function u2(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let tk=(()=>{class r{constructor(n){this.handler=n}request(n,s,a={}){let l;if(n instanceof iD)l=n;else{let _,D;_=a.headers instanceof td?a.headers:new td(a.headers),a.params&&(D=a.params instanceof Ef?a.params:new Ef({fromObject:a.params})),l=new iD(n,s,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:D,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=(0,qe.of)(l).pipe(vh(_=>this.handler.handle(_)));if(n instanceof iD||"events"===a.observe)return h;const m=h.pipe(vt(_=>_ instanceof ek));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,b.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,b.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,b.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));case"json":default:return m.pipe((0,b.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Ef).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,a={}){return this.request("PATCH",n,u2(a,s))}post(n,s,a={}){return this.request("POST",n,u2(a,s))}put(n,s,a={}){return this.request("PUT",n,u2(a,s))}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(IY))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const lte=["*"];function YY(r){return Error(`Unable to find icon with the name "${r}"`)}function jY(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function qY(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Cg{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let nk=(()=>{class r{constructor(n,s,a,l){this._httpClient=n,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(n,s,a){return this.addSvgIconInNamespace("",n,s,a)}addSvgIconLiteral(n,s,a){return this.addSvgIconLiteralInNamespace("",n,s,a)}addSvgIconInNamespace(n,s,a,l){return this._addSvgIconConfig(n,s,new Cg(a,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,a,l){const h=this._sanitizer.sanitize(o.q3G.HTML,a);if(!h)throw qY(a);return this._addSvgIconConfig(n,s,new Cg("",h,l))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,a){return this._addSvgIconSetConfig(n,new Cg(s,null,a))}addSvgIconSetLiteralInNamespace(n,s,a){const l=this._sanitizer.sanitize(o.q3G.HTML,s);if(!l)throw qY(s);return this._addSvgIconSetConfig(n,new Cg("",l,a))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,n);if(!s)throw jY(n);const a=this._cachedIconsByUrl.get(s);return a?(0,qe.of)(ik(a)):this._loadSvgIconFromConfig(new Cg(n,null)).pipe((0,$n.b)(l=>this._cachedIconsByUrl.set(s,l)),(0,b.U)(l=>ik(l)))}getNamedSvgIcon(n,s=""){const a=ZY(s,n);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,n),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(s);return h?this._getSvgFromIconSetConfigs(n,h):(0,$ee._)(YY(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,qe.of)(ik(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,b.U)(s=>ik(s)))}_getSvgFromIconSetConfigs(n,s){const a=this._extractIconWithNameFromAnySet(n,s);return a?(0,qe.of)(a):dw(s.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(al(m=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(D)),(0,qe.of)(null)})))).pipe((0,b.U)(()=>{const h=this._extractIconWithNameFromAnySet(n,s);if(!h)throw YY(n);return h}))}_extractIconWithNameFromAnySet(n,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.indexOf(n)>-1){const h=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(h,n,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,$n.b)(s=>n.svgText=s),(0,b.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,qe.of)(null):this._fetchIcon(n).pipe((0,$n.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,a){const l=n.querySelector(`[id="${s}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,a);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),a);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(h),this._setSvgAttributes(m,a)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),a=n.attributes;for(let l=0;l<a.length;l++){const{name:h,value:m}=a[l];"id"!==h&&s.setAttribute(h,m)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:a,options:l}=n,h=null!==(s=null==l?void 0:l.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const m=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a);if(!m)throw jY(a);const _=this._inProgressUrlFetches.get(m);if(_)return _;const D=this._httpClient.get(m,{responseType:"text",withCredentials:h}).pipe(my(()=>this._inProgressUrlFetches.delete(m)),(0,yH.B)());return this._inProgressUrlFetches.set(m,D),D}_addSvgIconConfig(n,s,a){return this._svgIconConfigs.set(ZY(n,s),a),this}_addSvgIconSetConfig(n,s){const a=this._iconSetConfigs.get(n);return a?a.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,n);if(l)return dte(l)?new Cg(l.url,null,l.options):new Cg(l,null)}}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(tk,8),o.LFG(No),o.LFG(Z,8),o.LFG(o.qLn))},r.\u0275prov=o.Yz7({factory:function(){return new r(o.LFG(tk,8),o.LFG(No),o.LFG(Z,8),o.LFG(o.qLn))},token:r,providedIn:"root"}),r})();function ik(r){return r.cloneNode(!0)}function ZY(r,i){return r+":"+i}function dte(r){return!(!r.url||!r.options)}const hte=Qo(class{constructor(r){this._elementRef=r}}),fte=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,o.f3M)(Z),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),zY=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gte=zY.map(r=>`[${r}]`).join(", "),_te=/^url\(['"]?#(.*?)['"]?\)$/;let Dg=(()=>{class r extends hte{constructor(n,s,a,l,h){super(n),this._iconRegistry=s,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=At.w.EMPTY,a||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=xe(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let l=0;l<s.length;l++)s[l].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=n.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&n.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(h=>{l.setAttribute(h.name,`url('${n}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(gte),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)zY.forEach(h=>{const m=s[l],_=m.getAttribute(h),D=_?_.match(_te):null;if(D){let M=a.get(m);M||(M=[],a.set(m,M)),M.push({name:h,value:D[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,a]=this._splitIconName(n);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(P(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(nk),o.$8M("aria-hidden"),o.Y36(fte),o.Y36(o.qLn))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(o.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),o.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:lte,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),$Y=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt],nt]}),r})();const yte=["primaryValueBar"],bte=Qo(class{constructor(r){this._elementRef=r}},"primary"),vte=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,o.f3M)(Z),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let Cte=0,p2=(()=>{class r extends bte{constructor(n,s,a,l){super(n),this._ngZone=s,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=At.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Cte++;const h=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(n){this._value=WY(jt(n)||0)}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=WY(n||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=Nn(n,"transitionend").pipe(vt(s=>s.target===n)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Hn,8),o.Y36(vte,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(n,s){if(1&n&&o.Gf(yte,5),2&n){let a;o.iGM(a=o.CRH())&&(s._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,s){2&n&&(o.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),o.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&n&&(o.xp6(3),o.Q6J("id",s.progressbarId),o.xp6(2),o.uIk("fill",s._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",s._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",s._primaryTransform()))},directives:[ua],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function WY(r,i=0,n=100){return Math.max(i,Math.min(n,r))}let Dte=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,nt],nt]}),r})();function Mte(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function Tte(r,i){if(1&r&&(o._UZ(0,"mat-progress-bar",14),o.ALo(1,"async")),2&r){const n=o.oxw(2);o.Q6J("value",o.lcZ(1,1,n.uploadPercent))}}function Ete(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h5"),o._uU(2,"Vous voulez joindre une photo ?"),o.qZA(),o.TgZ(3,"mat-form-field",5),o.TgZ(4,"ngx-mat-file-input",11),o.NdJ("click",function(a){return o.CHM(n),o.oxw().onUpload(a)}),o.qZA(),o.TgZ(5,"mat-icon",12),o._uU(6,"folder"),o.qZA(),o.YNc(7,Mte,2,1,"mat-error",2),o.qZA(),o.YNc(8,Tte,2,3,"mat-progress-bar",13),o.qZA()}if(2&r){const n=o.oxw();let s;o.xp6(7),o.Q6J("ngIf",null==n.form||null==(s=n.form.get("photo"))?null:s.hasError("maxSize")),o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function Ste(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("legende"))}}function xte(r,i){if(1&r&&(o.TgZ(0,"mat-form-field",5),o._UZ(1,"input",15),o.TgZ(2,"div",7),o.YNc(3,Ste,2,1,"mat-error",8),o.qZA(),o.qZA()),2&r){const n=o.oxw();o.xp6(3),o.Q6J("ngIf",null==n.form||null==n.form.controls||null==n.form.controls.legende?null:n.form.controls.legende.hasError("required"))}}function Ate(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function kte(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Ite(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function Rte(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function Ote(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("texte"))}}function Nte(r,i){1&r&&(o.TgZ(0,"div",17),o.TgZ(1,"button",18),o._uU(2,"Valider"),o.qZA(),o.qZA())}let rk=(()=>{class r{constructor(n,s,a,l,h,m,_){var D;this.formBuilder=n,this.angularFireStorage=s,this.themesService=a,this.authService=l,this.articlesService=h,this.location=m,this.breakpointObserver=_,this.errorMessage="",this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!0,this.isFileAttached=!1,this.maxSize=1e8,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,b.U)(M=>M.matches)),this.form=this.formBuilder.group({photo:[{value:null===(D=this.article)||void 0===D?void 0:D.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],legende:["",[gt.maxLength(50)]],titre:["",[gt.required,gt.maxLength(60)]],texte:["",[gt.required,gt.minLength(20),gt.maxLength(6500)]]})}ngOnInit(){var n,s,a,l,h,m;this.initForm(),null!=(null===(n=this.article)||void 0===n?void 0:n.photo)&&(this.fileUrl=null===(s=this.article)||void 0===s?void 0:s.photo),this.form.controls.photo.setValue(this.fileUrl),this.form.controls.legende.setValue(null===(a=this.article)||void 0===a?void 0:a.legende),this.form.controls.titre.setValue(null===(l=this.article)||void 0===l?void 0:l.titre),this.form.controls.texte.setValue(null===(h=this.article)||void 0===h?void 0:h.texte),this.isFileAttached=""!==(null===(m=this.article)||void 0===m?void 0:m.photo)}initForm(){}getErrorMessage(n){var s,a,l,h,m,_,D,M,A;let I="";switch(n){case"photo":(null===(s=this.form)||void 0===s?void 0:s.controls.photo.touched)&&(I=(null===(a=this.form)||void 0===a?void 0:a.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(l=this.form)||void 0===l?void 0:l.controls.titre.touched)&&((null===(h=this.form)||void 0===h?void 0:h.controls.titre.hasError("required"))&&(I="Vous devez saisir un titre."),(null===(m=this.form)||void 0===m?void 0:m.controls.titre.hasError("maxlength"))&&(I="Le titre ne doit pas comporter plus de 60 caract\xe8res."));break;case"texte":(null===(_=this.form)||void 0===_?void 0:_.controls.texte.touched)&&((null===(D=this.form)||void 0===D?void 0:D.controls.texte.hasError("required"))&&(I="Vous devez saisir un texte."),(null===(M=this.form)||void 0===M?void 0:M.controls.texte.hasError("minlength"))&&(I="Le texte doit comporter plus de 20 caract\xe8res."),(null===(A=this.form)||void 0===A?void 0:A.controls.texte.hasError("maxlength"))&&(I="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return I}onSubmit(){var n,s,a,l,h,m,_,D,M;null!=this.article&&(this.article.titre=null===(s=null===(n=this.form)||void 0===n?void 0:n.get("titre"))||void 0===s?void 0:s.value),null!=this.article&&(this.article.texte=null===(l=null===(a=this.form)||void 0===a?void 0:a.get("texte"))||void 0===l?void 0:l.value),null!=this.article&&(this.article.idTheme=null===(h=this.themesService.currentTheme)||void 0===h?void 0:h.id),null!=this.article&&(this.article.photo=this.fileUrl),null!=this.article&&(this.article.legende=null===(_=null===(m=this.form)||void 0===m?void 0:m.get("legende"))||void 0===_?void 0:_.value),""===(null===(D=this.article)||void 0===D?void 0:D.id)?(this.article.auteur=null===(M=this.authService.getCurrentUser())||void 0===M?void 0:M.uid,this.articlesService.addArticle(this.article).then(A=>{console.log(this.article),alert("Merci pour cet article qui sera tr\xe9s prochainement publi\xe9.")})):this.articlesService.updateArticle(this.article).then(A=>{}),this.location.back()}onUpload(n){const s=n.target.files[0],a="Images",l=this.angularFireStorage.ref(a),h=this.angularFireStorage.upload(a,s);this.uploadPercent=h.percentageChanges(),h.snapshotChanges().pipe(my(()=>this.downloadURL=l.getDownloadURL())).subscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(a2),o.Y36($x),o.Y36(Kr),o.Y36(cv),o.Y36(Ut),o.Y36(GA))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-article-form"]],inputs:{article:"article"},features:[o._Bn([GL])],decls:20,vars:10,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["alt","",1,"img",3,"src"],["class","full-width",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","rows","25","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",1,"photo-input",3,"click"],["matSuffix",""],["mode","determinate",3,"value",4,"ngIf"],["mode","determinate",3,"value"],["matInput","","formControlName","legende","placeholder","L\xe9gende"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(n,s){if(1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,Ete,9,2,"div",2),o.TgZ(3,"div"),o._UZ(4,"img",3),o.qZA(),o.YNc(5,xte,4,1,"mat-form-field",4),o.TgZ(6,"mat-form-field",5),o._UZ(7,"input",6),o.TgZ(8,"div",7),o.YNc(9,Ate,2,1,"mat-error",8),o.YNc(10,kte,2,1,"mat-error",8),o.qZA(),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"mat-form-field",5),o.TgZ(13,"textarea",9),o._uU(14,"      "),o.qZA(),o.TgZ(15,"div",7),o.YNc(16,Ite,2,1,"mat-error",8),o.YNc(17,Rte,2,1,"mat-error",8),o.YNc(18,Ote,2,1,"mat-error",8),o.qZA(),o.qZA(),o.YNc(19,Nte,3,0,"div",10),o.qZA(),o.qZA()),2&n){let a,l,h,m,_;o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",0==s.isFileAttached),o.xp6(2),o.s9C("src",null==s.article?null:s.article.photo,o.LSH),o.xp6(1),o.Q6J("ngIf",s.fileUploaded),o.xp6(4),o.Q6J("ngIf",null==s.form||null==(a=s.form.get("titre"))||null==a.errors?null:a.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(l=s.form.get("titre"))||null==l.errors?null:l.errors.maxlength),o.xp6(6),o.Q6J("ngIf",null==s.form||null==(h=s.form.get("texte"))||null==h.errors?null:h.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(m=s.form.get("texte"))||null==m.errors?null:m.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.form||null==(_=s.form.get("texte"))||null==_.errors?null:_.errors.maxlength),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&(null==s.form?null:s.form.valid))}},directives:[ty,sl,Bi,ft,wf,hg,jo,rl,Ea,wi,Dg,j1,ug,p2,es],pipes:[Rf],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:20%;max-height:15%;align-content:left}.photo-input[_ngcontent-%COMP%]{border:thin;border-color:#fff;width:10%;background-color:#fff;color:#000}.file-input[_ngcontent-%COMP%]{color:#000}"]}),r})();function Pte(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un article."),o.qZA())}function Fte(r,i){if(1&r&&o._UZ(0,"app-article-form",2),2&r){const n=o.oxw();o.Q6J("article",n.article)}}let Lte=(()=>{class r{constructor(n,s){var a;this.globalService=n,this.authService=s,this.article=new eX("","","","",(new Date).toJSON(),"","","",null===(a=this.authService.getCurrentUser())||void 0===a?void 0:a.uid,"",0)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko),o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-article"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"article",4,"ngIf"],[3,"article"]],template:function(n,s){1&n&&(o.YNc(0,Pte,2,0,"h4",0),o.YNc(1,Fte,1,1,"app-article-form",1)),2&n&&(o.Q6J("ngIf",s.article),o.xp6(1),o.Q6J("ngIf",s.article))},directives:[ft,rk],styles:[""]}),r})();function Bte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddArticle()}),o._uU(1," Ajouter un article sur ce th\xe8me.\n"),o.qZA()}}function Vte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"img",5),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw(2).onZoom(a)}),o.qZA()}if(2&r){const n=o.oxw().$implicit;o.s9C("src",n.photo2,o.LSH)}}function Ute(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw(2).onEdit(a)}),o._uU(1,"Modifier l'article"),o.qZA()}}function Hte(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card",4),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"img",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw(2).onZoom(l)}),o.qZA(),o.YNc(5,Vte,1,1,"img",6),o.TgZ(6,"mat-card-subtitle"),o._uU(7),o.qZA(),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"div",7),o.YNc(12,Ute,2,0,"button",8),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw(2);o.xp6(3),o.AsE("",n.titre," (par : ",n.nomAuteur,") (Cliquez sur la photo pour l'agrandir.)"),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(1),o.Q6J("ngIf",n.photo2),o.xp6(2),o.Oqu(n.legende),o.xp6(3),o.Oqu(n.texte),o.xp6(2),o.Q6J("ngIf",s.canWrite)}}function Gte(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,Hte,13,7,"div",3),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==n.themesService.currentTheme?null:n.themesService.currentTheme.articles)}}function Yte(r,i){if(1&r&&o._UZ(0,"img",1),2&r){const n=o.oxw();o.s9C("src",n.image2,o.LSH)}}let jte=(()=>{class r{constructor(n,s,a,l,h){this.globalService=n,this.themesService=s,this.authService=a,this.router=l,this.matDialog=h,this.isConnected=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ul(1)).subscribe(m=>{if(null!=m){const _=m.status;null!=_&&(_&Ri.valide)==Ri.valide&&(this.isConnected=!0),this.isConnected?(this.canWrite=!1,this.canWrite=null!=_&&(_&Vt.editArticle)==Vt.editArticle):this.canWrite=!1}}),a.emitUserChanged()}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}onEdit(n){this.router.navigate(["app-edit-article/",n.id])}onAddArticle(){this.router.navigate(["app-add-article"])}onZoom(n){this.globalService.currentArticle=n,this.matDialog.open(JY,{height:"90%",width:"60%"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko),o.Y36($x),o.Y36(Kr),o.Y36(Wn),o.Y36(vf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-articles"]],decls:4,vars:3,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","color","accent",3,"click"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res introuvable","height","250px",2,"margin","25px",3,"src","click"],["alt","Photo de Mori\xe8res introuvable","style","margin: 25px;","height","250px",3,"src","click",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1),o.qZA(),o.YNc(2,Bte,2,0,"button",0),o.YNc(3,Gte,2,1,"div",1)),2&n&&(o.xp6(1),o.hij("Articles sur le th\xe8me : [",null==s.themesService.currentTheme?null:s.themesService.currentTheme.nom,"]"),o.xp6(1),o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngIf",null==s.themesService.currentTheme?null:s.themesService.currentTheme.articles))},directives:[ft,es,yt,vg,bg,Cv],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:20%;max-height:20%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:15px}"]}),r})(),JY=(()=>{class r{constructor(n){this.globalService=n,this.sousTitre="",this.image=n.currentArticle.photo,this.image2=n.currentArticle.photo2,this.legende=n.currentArticle.legende,this.texte=n.currentArticle.texte,this.titre=n.currentArticle.titre}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Ko))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-dialog-maximise-article-image"]],decls:17,vars:6,consts:[[1,"card"],["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-card-image","","dialog-img","","alt","Article","class","dialog-img",3,"src",4,"ngIf"],["mat-button-accent","","mat-dialog-close",""]],template:function(n,s){1&n&&(o.TgZ(0,"mat-card",0),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.qZA(),o._UZ(6,"img",1),o.YNc(7,Yte,1,1,"img",2),o.TgZ(8,"mat-card-content"),o._uU(9),o.qZA(),o.TgZ(10,"mat-card-content"),o.TgZ(11,"pre"),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"mat-card-actions"),o.TgZ(14,"div"),o.TgZ(15,"button",3),o._uU(16,"Fermer"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Oqu(s.titre),o.xp6(2),o.Oqu(s.sousTitre),o.xp6(1),o.s9C("src",s.image,o.LSH),o.xp6(1),o.Q6J("ngIf",s.image2),o.xp6(2),o.hij(" ",s.legende," "),o.xp6(3),o.hij("            ",s.texte,"\n        "))},directives:[vg,FL,bg,Cv,PL,ft,wv,PA,dL],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),r})();function qte(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function Zte(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function zte(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}function $te(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}function Wte(r,i){if(1&r&&(o.TgZ(0,"mat-error",10),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password"))}}let QY=(()=>{class r{constructor(n,s,a,l){this.authService=n,this.formBuilder=s,this.dialogRef=a,this.data=l,this.signinForm=this.formBuilder.group({email:["",[gt.required,gt.email]],password:["",[gt.required,gt.minLength(5),gt.maxLength(20)]]}),this.errorMessage="",this.hide=!0}ngOnInit(){}save(){this.dialogRef.close(this.signinForm.value)}close(){this.dialogRef.close()}getErrorMessage(n){let s="";switch(n){case"email":if(null!=this.signinForm&&this.signinForm.get("email").hasError("required")){s="Vous devez saisir une adresse email. ";break}if(null!=this.signinForm&&this.signinForm.get("email").hasError("email")){s="L'adresse saisie n'est pas valide.";break}break;case"password":if(null!=this.signinForm&&this.signinForm.controls.password.hasError("required")){s="Vous devez saisir un mot de passe. ";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("minlength")){s="Vous devez saisir un mot de passe comportant au moins 5 caract\xe8res";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("maxlength")){s="Vous devez saisir un mot de passe comportant au plus 20 caract\xe8res";break}}return s}onMotDePasseOublie(){null!=this.signinForm&&!0===this.signinForm.get("email").valid?this.authService.ForgotPassword(this.signinForm.get("email").value):alert("Merci de saisir l'adresse mail avec laquelle vous avez cr\xe9\xe9 votre compte.")}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Kr),o.Y36(ol),o.Y36(bf),o.Y36(H1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-sign-in"]],decls:24,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Email","formControlName","email"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Mot de passe","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"h2",0),o._uU(1,"Connexion"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field",2),o._UZ(4,"input",3),o.TgZ(5,"div",4),o.YNc(6,qte,2,1,"mat-error",5),o.YNc(7,Zte,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",2),o._UZ(9,"input",6),o.TgZ(10,"button",7),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(11,"mat-icon"),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.YNc(14,zte,2,1,"mat-error",5),o.YNc(15,$te,2,1,"mat-error",5),o.YNc(16,Wte,2,1,"mat-error",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"mat-dialog-actions"),o.TgZ(18,"button",8),o.NdJ("click",function(){return s.save()}),o._uU(19,"Ok"),o.qZA(),o.TgZ(20,"button",9),o.NdJ("click",function(){return s.close()}),o._uU(21,"Annuler"),o.qZA(),o.TgZ(22,"button",9),o.NdJ("click",function(){return s.onMotDePasseOublie()}),o._uU(23,"Mot de passe oubli\xe9 ?"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("formGroup",s.signinForm),o.xp6(4),o.Q6J("ngIf",s.signinForm.get("email").hasError("email")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("email").hasError("required")),o.xp6(2),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signinForm.get("password").hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("password").hasError("minlength")),o.xp6(1),o.Q6J("ngIf",s.signinForm.get("password").hasError("maxlength")))},directives:[HU,G1,sl,Bi,wf,hg,jo,rl,Ea,ft,es,j1,Dg,Y1,ug],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),r})();function Jte(r,i){return n=>{const a=n.controls[i];a.errors&&!a.errors.mustMatch||a.setErrors(n.controls[r].value!==a.value?{mustMatch:!0}:null)}}function Qte(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function Kte(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("nom"))}}function Xte(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function ene(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("prenom"))}}function tne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function nne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("email"))}}function ine(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password1"))}}function rne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password1"))}}function sne(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password2"))}}function one(r,i){if(1&r&&(o.TgZ(0,"mat-error",12),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("password2"))}}let KY=(()=>{class r{constructor(n,s){this.formBuilder=n,this.dialogRef=s,this.signupForm=this.formBuilder.group({nom:["",[gt.required,gt.minLength(5),gt.maxLength(25)]],prenom:["",[gt.required,gt.minLength(3),gt.maxLength(25)]],email:["",[gt.required,gt.email]],password1:["",[gt.required,gt.minLength(5),gt.maxLength(20)]],password2:["",[gt.required,gt.minLength(5),gt.maxLength(20)]]},{validator:Jte("password1","password2")}),this.errorMessage="",this.hide=!0}ngOnInit(){}initForm(){}close(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.signupForm.value)}getErrorMessage(n){let s="";switch(n){case"nom":this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("required")&&(s="Vous devez saisir votre nom"),(this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("minlength")||this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("maxlength"))&&(s="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("required")&&(s="Vous devez saisir votre pr\xe9nom"),(this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("minlength")||this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("maxlength"))&&(s="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("required")&&(s="Vous devez saisir une adresse email"),this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("email")&&(s="L'adresse saisie n'est pas valide.");break;case"password1":this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("required")&&(s="Vous devez saisir un mot de passe"),this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("minlength")&&(s="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return s}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(bf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-sign-up"]],decls:41,vars:20,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Mot de passe","formControlName","password1","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirmer le mot de passe","formControlName","password2","autocomplete","current-password",3,"type"],["mat-button","","mat-dialog-close","true",3,"disabled","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"mat-dialog-content",0),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2),o.TgZ(3,"div",3),o.YNc(4,Qte,2,1,"mat-error",4),o.YNc(5,Kte,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"mat-form-field",1),o._UZ(8,"input",5),o.TgZ(9,"div",3),o.YNc(10,Xte,2,1,"mat-error",4),o.YNc(11,ene,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",1),o._UZ(14,"input",6),o.TgZ(15,"div",3),o.YNc(16,tne,2,1,"mat-error",4),o.YNc(17,nne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(18,"br"),o.TgZ(19,"mat-form-field",1),o._UZ(20,"input",7),o.TgZ(21,"button",8),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(22,"mat-icon"),o._uU(23),o.qZA(),o.qZA(),o.TgZ(24,"div",3),o.YNc(25,ine,2,1,"mat-error",4),o.YNc(26,rne,2,1,"mat-error",4),o.qZA(),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"mat-form-field",1),o._UZ(29,"input",9),o.TgZ(30,"button",8),o.NdJ("click",function(){return s.onChangeVisibilite()}),o.TgZ(31,"mat-icon"),o._uU(32),o.qZA(),o.qZA(),o.TgZ(33,"div",3),o.YNc(34,sne,2,1,"mat-error",4),o.YNc(35,one,2,1,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(36,"mat-dialog-actions"),o.TgZ(37,"button",10),o.NdJ("click",function(){return s.onSave()}),o._uU(38,"Ok"),o.qZA(),o.TgZ(39,"button",11),o._uU(40,"Annuler"),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.signupForm),o.xp6(4),o.Q6J("ngIf",(s.signupForm.controls.nom.hasError("minlength")||s.signupForm.controls.nom.hasError("maxlength"))&&!s.signupForm.controls.nom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.nom.hasError("required")),o.xp6(5),o.Q6J("ngIf",(s.signupForm.controls.prenom.hasError("minlength")||s.signupForm.controls.prenom.hasError("maxlength"))&&!s.signupForm.controls.prenom.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.prenom.hasError("required")),o.xp6(5),o.Q6J("ngIf",s.signupForm.controls.email.hasError("email")&&!s.signupForm.controls.email.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.email.hasError("required")),o.xp6(3),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password1")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signupForm.controls.password1.hasError("minLength")&&!s.signupForm.controls.password1.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.password1.hasError("required")),o.xp6(3),o.Q6J("type",s.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password2")("aria-pressed",s.hide),o.xp6(2),o.Oqu(s.hide?"visibility_off":"visibility"),o.xp6(2),o.Q6J("ngIf",s.signupForm.controls.password2.hasError("minLength")&&!s.signupForm.controls.password2.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.signupForm.controls.password2.hasError("required")),o.xp6(2),o.Q6J("disabled",s.signupForm.invalid))},directives:[G1,sl,Bi,wf,hg,jo,rl,Ea,ft,es,j1,Dg,Y1,dL,ug],styles:[""]}),r})();function ane(r,i){if(1&r&&(o.TgZ(0,"mat-error",7),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij(" ",n.getErrorMessage("message")," ")}}let XY=(()=>{class r{constructor(n,s,a){this.formBuilder=n,this.matDialogRef=s,this.data=a,this.messageForm=this.formBuilder.group({message:["",[gt.required,gt.maxLength(150)]]}),this.errorMessage="",this.email=a.email}close(){this.matDialogRef.close()}save(){"VALID"==this.messageForm.status?this.matDialogRef.close(this.messageForm.value):alert("Saisie invalide.")}getErrorMessage(n){let s="";switch(n){case"message":this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("required")&&(s="Vous devez saisir un message"),this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("maxlength")&&(s="Le message doit comporter au maximum 150 caract\xe8res")}return s}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(bf),o.Y36(H1))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-messages"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","cols","50","rows","3","formControlName","message","placeholder","Message"],["class","error-message",4,"ngIf"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"h2",0),o._uU(1,"Message :"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o._uU(3),o.TgZ(4,"mat-form-field",2),o.TgZ(5,"mat-label"),o._uU(6,"Ecrivez ici v\xf4tre message."),o.qZA(),o._UZ(7,"textarea",3),o.TgZ(8,"div"),o.YNc(9,ane,2,1,"mat-error",4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-dialog-actions"),o.TgZ(11,"button",5),o.NdJ("click",function(){return s.save()}),o._uU(12,"Ok"),o.qZA(),o.TgZ(13,"button",6),o.NdJ("click",function(){return s.close()}),o._uU(14,"Annuler"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("formGroup",s.messageForm),o.xp6(1),o.hij(" ",s.email," "),o.xp6(6),o.Q6J("ngIf",s.messageForm.controls.message.hasError("maxlength")||s.messageForm.controls.message.hasError("required")))},directives:[HU,G1,sl,Bi,wf,hL,hg,jo,rl,Ea,ft,Y1,ug],styles:["mat-label[_ngcontent-%COMP%]{color:#ff0;font-size:large}"]}),r})();function ej(r){return i=>i.lift(new lne(r))}class lne{constructor(i){this.value=i}call(i,n){return n.subscribe(new cne(i,this.value))}}class cne extends Ei.L{constructor(i,n){super(i),this.value=n}_next(i){this.destination.next(this.value)}}const sk=["*"];function une(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(n),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function dne(r,i){1&r&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const hne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],fne=["mat-drawer","mat-drawer-content","*"];function pne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(n),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&r){const n=o.oxw();o.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function mne(r,i){1&r&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const gne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],_ne=["mat-sidenav","mat-sidenav-content","*"],tj=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",nj={transformDrawer:Yi("transform",[Jt("open, open-instant",Qe({transform:"none",visibility:"visible"})),Jt("void",Qe({"box-shadow":"none",visibility:"hidden"})),dn("void => open-instant",_n("0ms")),dn("void <=> open, open-instant => void",_n("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},yne=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),m2=new o.OlP("MAT_DRAWER_CONTAINER");let ok=(()=>{class r extends Hl{constructor(n,s,a,l,h){super(a,l,h),this._changeDetectorRef=n,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>rj)),o.Y36(o.SBq),o.Y36(Wa),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,s){2&n&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:sk,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),ij=(()=>{class r{constructor(n,s,a,l,h,m,_){this._elementRef=n,this._focusTrapFactory=s,this._focusMonitor=a,this._platform=l,this._ngZone=h,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new me.xQ,this._animationEnd=new me.xQ,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(vt(D=>D),(0,b.U)(()=>{})),this.openedStart=this._animationStarted.pipe(vt(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),ej(void 0)),this._closedStream=this.openedChange.pipe(vt(D=>!D),(0,b.U)(()=>{})),this.closedStart=this._animationStarted.pipe(vt(D=>D.fromState!==D.toState&&"void"===D.toState),ej(void 0)),this._destroyed=new me.xQ,this.onPositionChanged=new o.vpe,this._modeChanged=new me.xQ,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Nn(this._elementRef.nativeElement,"keydown").pipe(vt(D=>27===D.keyCode&&!this.disableClose&&!Yn(D)),Be(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(vn((D,M)=>D.fromState===M.fromState&&D.toState===M.toState)).subscribe(D=>{const{fromState:M,toState:A}=D;(0===A.indexOf("open")&&"void"===M||"void"===A&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(n){(n="end"===n?"end":"start")!=this._position&&(this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=xe(n)}get autoFocus(){const n=this._autoFocus;return null==n?"side"!==this.mode:n}set autoFocus(n){this._autoFocus=xe(n)}get opened(){return this._opened}set opened(n){this.toggle(xe(n))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var n;const s=null===(n=this._doc)||void 0===n?void 0:n.activeElement;return!!s&&this._elementRef.nativeElement.contains(s)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(n=!this.opened,s){return this._setOpen(n,!n&&this._isFocusWithinDrawer(),s)}_setOpen(n,s,a="program"){return this._opened=n,n?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=a):(this._animationState="void",s&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(P(1)).subscribe(h=>l(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(n){this._animationStarted.next(n)}_animationDoneListener(n){this._animationEnd.next(n)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(c_),o.Y36(ii),o.Y36(It),o.Y36(o.R0b),o.Y36(Z,8),o.Y36(m2,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,s){1&n&&o.WFA("@transform.start",function(l){return s._animationStartListener(l)})("@transform.done",function(l){return s._animationDoneListener(l)}),2&n&&(o.uIk("align",null),o.d8E("@transform",s._animationState),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:sk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Hl],encapsulation:2,data:{animation:[nj.transformDrawer]},changeDetection:0}),r})(),rj=(()=>{class r{constructor(n,s,a,l,h,m=!1,_){this._dir=n,this._element=s,this._ngZone=a,this._changeDetectorRef=l,this._animationMode=_,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new me.xQ,this._doCheckSubject=new me.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new me.xQ,n&&n.change.pipe(Be(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(Be(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=xe(n)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(n){this._backdropOverride=null==n?null:xe(n)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(zt(this._allDrawers),Be(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(zt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Wc(10),Be(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();n+=a,s-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();s+=a,n-=a}n=n||null,s=s||null,(n!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:n,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(vt(s=>s.fromState!==s.toState),Be(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==n.mode&&n.openedChange.pipe(Be(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){!n||n.onPositionChanged.pipe(Be(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(P(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(Be((0,kn.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){const s=this._element.nativeElement.classList,a="mat-drawer-container-has-open";n?s.add(a):s.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{"end"==n.position?this._end=n:this._start=n}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._canHaveBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(n){return"side"!==n.mode||!!this._backdropOverride}_isDrawerOpen(n){return null!=n&&n.opened}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(mn,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(pr),o.Y36(yne),o.Y36(Hn,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,ok,5),o.Suo(a,ij,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._content=l.first),o.iGM(l=o.CRH())&&(s._allDrawers=l)}},viewQuery:function(n,s){if(1&n&&o.Gf(ok,5),2&n){let a;o.iGM(a=o.CRH())&&(s._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:m2,useExisting:r}])],ngContentSelectors:fne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,s){1&n&&(o.F$t(hne),o.YNc(0,une,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,dne,2,0,"mat-drawer-content",1)),2&n&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[ft,ok],styles:[tj],encapsulation:2,changeDetection:0}),r})(),g2=(()=>{class r extends ok{constructor(n,s,a,l,h){super(n,s,a,l,h)}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>oj)),o.Y36(o.SBq),o.Y36(Wa),o.Y36(o.R0b))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,s){2&n&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:sk,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),sj=(()=>{class r extends ij{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(n){this._fixedInViewport=xe(n)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(n){this._fixedTopGap=jt(n)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(n){this._fixedBottomGap=jt(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,s){2&n&&(o.uIk("align",null),o.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:sk,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Hl],encapsulation:2,data:{animation:[nj.transformDrawer]},changeDetection:0}),r})(),oj=(()=>{class r extends rj{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(n,s,a){if(1&n&&(o.Suo(a,g2,5),o.Suo(a,sj,5)),2&n){let l;o.iGM(l=o.CRH())&&(s._content=l.first),o.iGM(l=o.CRH())&&(s._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,s){2&n&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:m2,useExisting:r}]),o.qOj],ngContentSelectors:_ne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(n,s){1&n&&(o.F$t(gne),o.YNc(0,pne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,mne,2,0,"mat-sidenav-content",1)),2&n&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[ft,g2,Hl],styles:[tj],encapsulation:2,changeDetection:0}),r})(),vne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,nt,ap,mr],mr,nt]}),r})(),aj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt],nt]}),r})();const _2=["*"],lj=Rs(Ws(class{})),uj=new o.OlP("MatNavList");let xne=(()=>{class r extends lj{constructor(){super(...arguments),this._stateChanges=new me.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(r)))(s||r)}}(),r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:uj,useExisting:r}]),o.qOj,o.TTD],ngContentSelectors:_2,decls:1,vars:0,template:function(n,s){1&n&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),Nne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[mA,yl,nt,aL,Xt],mA,nt,aL,aj]}),r})();const Pne=["*",[["mat-toolbar-row"]]],Fne=["*","mat-toolbar-row"],Lne=Qo(class{constructor(r){this._elementRef=r}});let Bne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=o.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),Vne=(()=>{class r extends Lne{constructor(n,s,a){super(n),this._platform=s,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(o.SBq),o.Y36(It),o.Y36(Z))},r.\u0275cmp=o.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(n,s,a){if(1&n&&o.Suo(a,Bne,5),2&n){let l;o.iGM(l=o.CRH())&&(s._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&o.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:Fne,decls:2,vars:0,template:function(n,s){1&n&&(o.F$t(Pne),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),Une=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt],nt]}),r})();function Hne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){return o.CHM(n),o.oxw().onMessage()}),o._uU(1,"Envoyer un message."),o.qZA()}}function Gne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onListeArticles(l)}),o._uU(1),o.qZA()}if(2&r){const n=i.$implicit;o.xp6(1),o.Oqu(n.nom)}}function Yne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onNewCompteDialog()}),o._uU(1," Cr\xe9er mon compte "),o.qZA()}}function jne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onConnectWidthGoogleDialog()}),o._uU(1," Me connecter via mon compte Google "),o.qZA()}}function qne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(n),o.oxw().onConnectDialog()}),o._uU(1," Me connecter "),o.qZA()}}function Zne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(n),o.oxw().onDisconnectDialog()}),o._uU(1," Me d\xe9connecter "),o.qZA()}}function zne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAdmin()}),o._uU(1," Administration "),o.qZA()}}let pj=(()=>{class r{constructor(n,s,a,l,h,m){this.router=n,this.dialog=s,this.breakpointObserver=a,this.globalService=l,this.themesService=h,this.authService=m,this.userMail="Visiteur",this.userPassword="",this.isAdmin=!1,this.isAuth=!1,this.showFiller=!1,this.isHandset$=this.breakpointObserver.observe(wc_Small).pipe((0,b.U)(_=>_.matches)),this.userSubscription=this.authService.authSubject.subscribe(_=>{let D=0;null!=_||null!=_?("Visiteur"!=_.email?(this.userMail=null==_?void 0:_.email,this.isAuth=!0):(this.userMail="Visiteur",this.isAuth=!1),D=_.status):(this.isAuth=!1,this.userMail="D\xe9connect\xe9"),this.isAdmin=(D&Vt.editArticle)===Vt.editArticle})}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}onGoAccueil(){this.router.navigate(["app-acceuil"])}onClickAlbum(n,s){}onOpenPdf(){this.router.navigate(["app-liste-pdf"])}onListeArticles(n){this.themesService.changeCurrentTheme(n),this.router.navigate(["app-liste-articles"])}onEditAlbum(n,s){this.router.navigate(["app-album"],{queryParams:{debut:n,fin:s}})}onEditArticle(n){}onNewCompteDialog(){const n=new yf;n.disableClose=!0,n.autoFocus=!0,n.width="500px";const s=this.dialog.open(KY);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(a=>{if(void 0!==a){const l=new F1("","",a.nom,a.prenom,a.email,!1,Ri.initial);this.authService.createNewUser(l,a.password1)}},a=>{console.log(a)})}onConnectWidthGoogleDialog(){this.authService.connectWidthGoogle()}onConnectDialog(){const n=new yf;n.disableClose=!0,n.autoFocus=!0,n.width="400px",n.data={email:this.userMail,password:this.userPassword};const s=this.dialog.open(QY,n);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(a=>{let l;void 0!==a&&void 0!==a.email&&void 0!==a.password&&this.authService.SignInUser(a.email,a.password).then(h=>{l=h})},a=>{console.log(a)})}onDisconnectDialog(){this.authService.SignOut(),this.router.navigate(["app-accueil"])}onMessage(){var n;const s=new yf;s.disableClose=!0,s.autoFocus=!0,s.width="450px",s.data={email:null===(n=this.authService.getCurrentUser())||void 0===n?void 0:n.email};const a=this.dialog.open(XY,s);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=a.afterClosed().subscribe(l=>{if(l&&l.message){const h=new jG(new Date,s.data.email,l.message,!1,"");this.globalService.addMessage(h)}},l=>{console.log(l)})}onAdmin(){this.router.navigate(["app-home-administration"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wn),o.Y36(vf),o.Y36(GA),o.Y36(Ko),o.Y36($x),o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-frame"]],decls:101,vars:17,consts:[[1,"sidenav-container"],["fixedInViewport","true",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-raised-button","",3,"click"],["aria-hidden","false","aria-label","Accueil"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["href","http://www.ville-moriereslesavignon.fr/","target","_blank"],["href","https://fr.wikipedia.org/wiki/Mori%C3%A8res-l%C3%A8s-Avignon","target","_blank"],["href","https://fr.wikipedia.org/wiki/Jean-Charles_de_Folard","target","_blank"],["href","https://fr.wikipedia.org/wiki/Agricol_Perdiguier","target","_blank"],["href","https://www.petit-patrimoine.com/fiche-petit-patrimoine.php?id_pp=84081_1","target","_blank"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Menu lat\xe9ral"],[1,"titre"],[1,"button-row"],["class","button","mat-raised-button","",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"button"],["mat-raised-button","",1,"button",3,"click"],["mat-raised-button","","color","accent",1,"button",3,"click"],["mat-raised-button","","color","warn",1,"button",3,"click"]],template:function(n,s){if(1&n){const a=o.EpF();o.TgZ(0,"mat-sidenav-container",0),o.TgZ(1,"mat-sidenav",1,2),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o._UZ(6,"br"),o.TgZ(7,"mat-nav-list"),o.TgZ(8,"button",3),o.NdJ("click",function(){return s.onGoAccueil()}),o.TgZ(9,"h4"),o.TgZ(10,"mat-icon",4),o._uU(11,"home"),o.qZA(),o._uU(12," Accueil "),o.qZA(),o._UZ(13,"br"),o.qZA(),o.qZA(),o.TgZ(14,"mat-nav-list"),o.YNc(15,Hne,2,0,"button",5),o.qZA(),o.TgZ(16,"h4"),o._uU(17,"Articles :"),o.qZA(),o.TgZ(18,"mat-nav-list"),o.YNc(19,Gne,2,1,"button",6),o.qZA(),o.TgZ(20,"h4"),o._uU(21,"Photos de classes :"),o.qZA(),o.TgZ(22,"mat-nav-list"),o.TgZ(23,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1901,1910)}),o._uU(24,"1901-1910"),o.qZA(),o._UZ(25,"br"),o.TgZ(26,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1911,1920)}),o._uU(27,"1911-1920"),o.qZA(),o._UZ(28,"br"),o.TgZ(29,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1921,1930)}),o._uU(30,"1921-1930"),o.qZA(),o._UZ(31,"br"),o.TgZ(32,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1931,1940)}),o._uU(33,"1931-1940"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1941,1950)}),o._uU(36,"1941-1950"),o.qZA(),o._UZ(37,"br"),o.TgZ(38,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1951,1960)}),o._uU(39,"1951-1960"),o.qZA(),o._UZ(40,"br"),o.TgZ(41,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1961,1970)}),o._uU(42,"1961-1970"),o.qZA(),o._UZ(43,"br"),o.TgZ(44,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1971,1980)}),o._uU(45,"1971-1980"),o.qZA(),o._UZ(46,"br"),o.TgZ(47,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1981,1990)}),o._uU(48,"1981-1990"),o.qZA(),o._UZ(49,"br"),o.TgZ(50,"button",7),o.NdJ("click",function(){return s.onEditAlbum(1991,2e3)}),o._uU(51,"1991-2000"),o.qZA(),o.qZA(),o.TgZ(52,"mat-nav-list"),o.TgZ(53,"button",7),o.NdJ("click",function(){return s.onOpenPdf()}),o._uU(54," Autres documents \xe0 voir sur Mori\xe8res. "),o.qZA(),o.qZA(),o.TgZ(55,"mat-nav-list"),o.TgZ(56,"h4"),o._uU(57,"Autres sources d'information"),o.qZA(),o.TgZ(58,"ul"),o.TgZ(59,"li"),o.TgZ(60,"a",8),o._uU(61,"Le site officiel de la ville"),o.qZA(),o.qZA(),o._UZ(62,"br"),o.qZA(),o.TgZ(63,"h4"),o._uU(64,"A voir sur wikipedia"),o.qZA(),o.TgZ(65,"ul"),o.TgZ(66,"li"),o.TgZ(67,"a",9),o._uU(68,"Mori\xe8res les Avignon"),o.qZA(),o.qZA(),o._UZ(69,"br"),o.TgZ(70,"li"),o.TgZ(71,"a",10),o._uU(72,"Le chevalier de Folard"),o.qZA(),o.qZA(),o._UZ(73,"br"),o.TgZ(74,"li"),o.TgZ(75,"a",11),o._uU(76,"Agricol Perdiguier"),o.qZA(),o.qZA(),o._UZ(77,"br"),o.qZA(),o.TgZ(78,"h4"),o._uU(79,"A voir sur Petit patrimoine"),o.qZA(),o.TgZ(80,"ul"),o.TgZ(81,"li"),o.TgZ(82,"a",12),o._uU(83,"L'\xe9glise de Mori\xe8res"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(84,"mat-sidenav-content"),o.TgZ(85,"mat-toolbar",13),o.TgZ(86,"button",14),o.NdJ("click",function(){return o.CHM(a),o.MAs(2).toggle()}),o.TgZ(87,"mat-icon",15),o._uU(88,"menu"),o.qZA(),o.qZA(),o.TgZ(89,"div",16),o.TgZ(90,"span"),o._uU(91,"M\xe9moire Mori\xe9roise"),o.qZA(),o.qZA(),o.TgZ(92,"div",17),o.YNc(93,Yne,2,0,"button",18),o.YNc(94,jne,2,0,"button",18),o.YNc(95,qne,2,0,"button",19),o.YNc(96,Zne,2,0,"button",18),o.YNc(97,zne,2,0,"button",20),o.qZA(),o.TgZ(98,"h4",21),o._uU(99),o.qZA(),o.qZA(),o._UZ(100,"router-outlet"),o.qZA(),o.qZA()}2&n&&(o.xp6(1),o.Q6J("mode",o.lcZ(4,13,s.isHandset$)?"over":"side")("opened",!o.lcZ(5,15,s.isHandset$)),o.uIk("role",o.lcZ(3,11,s.isHandset$)?"dialog":"navigation"),o.xp6(14),o.Q6J("ngIf",s.isAuth),o.xp6(4),o.Q6J("ngForOf",s.themesService.listeThemes),o.xp6(74),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",!s.isAuth),o.xp6(1),o.Q6J("ngIf",s.isAuth),o.xp6(1),o.Q6J("ngIf",s.isAdmin),o.xp6(2),o.hij("Bonjour : ",s.userMail,""))},directives:[oj,sj,xne,es,Dg,ft,yt,g2,Vne,nm],pipes:[Rf],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:260px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.titre[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}"]}),r})();function $ne(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"mat-form-field",4),o.TgZ(1,"ngx-mat-file-input",10),o.NdJ("change",function(a){return o.CHM(n),o.oxw().detectFiles(a)}),o.qZA(),o.TgZ(2,"mat-icon",11),o._uU(3,"folder"),o.qZA(),o.TgZ(4,"mat-error"),o._uU(5),o.qZA(),o.qZA()}if(2&r){const n=o.oxw();o.xp6(1),o.Q6J("accept",".pdf"),o.xp6(4),o.Oqu(n.getErrorMessage("pdf"))}}function Wne(r,i){if(1&r&&(o.TgZ(0,"mat-progress-bar",14),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.hij("",n.globalService.bytesTransfered,"%")}}function Jne(r,i){if(1&r&&(o.TgZ(0,"mat-form-field",12),o.YNc(1,Wne,2,1,"mat-progress-bar",13),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.fileIsUploading)}}function Qne(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Kne(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Xne(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function eie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function tie(r,i){if(1&r&&(o.TgZ(0,"mat-error",15),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("description"))}}function nie(r,i){1&r&&(o.TgZ(0,"div",16),o.TgZ(1,"button",17),o._uU(2,"Valider"),o.qZA(),o.qZA())}let mj=(()=>{class r{constructor(n,s,a,l){var h,m,_;this.formBuilder=n,this.location=s,this.globalService=a,this.pdfService=l,this.errorMessage="",this.maxSize=104857600,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,null==this.pdf&&(this.pdf=new HA),""===(null===(h=this.pdf)||void 0===h?void 0:h.id)?(this.fileUploaded=!1,this.form=this.formBuilder.group({fichier:[void 0],progressbar:["Progression"],titre:["",[gt.required,gt.maxLength(50)]],description:["",[gt.required,gt.minLength(10),gt.maxLength(100)]]})):(this.fileUploaded=!0,this.form=this.formBuilder.group({fichier:[{value:void 0,visible:!1}],titre:[null===(m=this.pdf)||void 0===m?void 0:m.titre,[gt.required,gt.maxLength(50)]],description:[null===(_=this.pdf)||void 0===_?void 0:_.description,[gt.required,gt.minLength(10),gt.maxLength(100)]]}))}ngOnInit(){this.initForm()}initForm(){}detectFiles(n){this.onUploadFile(n.target.files[0])}onUploadFile(n){}getErrorMessage(n){var s,a,l,h,m,_,D,M,A,I,O,B;let $="";switch(n){case"pdf":(null===(s=this.form)||void 0===s?void 0:s.controls.fichier.touched)&&($=this.form.controls.fichier.hasError("maxSize")?"Vous devez s\xe9lectionner un fichier de moins de 16mo":"");break;case"titre":(null===(a=this.form)||void 0===a?void 0:a.controls.titre.touched)&&($=this.form.controls.titre.hasError("required")?"Vous devez saisir un titre":""),(null===(h=null===(l=this.form)||void 0===l?void 0:l.get("titre"))||void 0===h?void 0:h.hasError("maxlength"))&&($+="le titre doit comporter au plus 50 caract\xe8res");break;case"description":(null===(_=null===(m=this.form)||void 0===m?void 0:m.get("description"))||void 0===_?void 0:_.touched)&&((null===(M=null===(D=this.form)||void 0===D?void 0:D.get("description"))||void 0===M?void 0:M.hasError("required"))&&($=this.form.controls.description.hasError("required")?"Vous devez saisir une description du contenu du document":""),(null===(I=null===(A=this.form)||void 0===A?void 0:A.get("description"))||void 0===I?void 0:I.hasError("minlength"))&&($+="la description doit comporter au moins 10 caract\xe8res"),(null===(B=null===(O=this.form)||void 0===O?void 0:O.get("description"))||void 0===B?void 0:B.hasError("maxlength"))&&($+="la description doit comporter au plus 100 caract\xe8res"))}return $}onSubmit(){var n,s,a,l,h;this.pdf.titre=null===(s=null===(n=this.form)||void 0===n?void 0:n.get("titre"))||void 0===s?void 0:s.value,this.pdf.description=null===(l=null===(a=this.form)||void 0===a?void 0:a.get("description"))||void 0===l?void 0:l.value,""===(null===(h=this.pdf)||void 0===h?void 0:h.id)?(this.pdf.fichier=this.fileUrl,this.pdf.status=Ri.initial,this.pdfService.addPdf(this.pdf)):this.pdfService.updatePdf(this.pdf),this.location.back()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(Ut),o.Y36(Ko),o.Y36(Dv))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-pdf-form"]],inputs:{pdf:"pdf"},decls:18,vars:9,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],["class","full-width",4,"ngIf"],["class","full-width","appearance","outline","color","secondary",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","description","placeholder","Description",2,"width","1000px"],["class","button-wrapper",4,"ngIf"],["formControlName","fichier","placeholder","Cliquez ici pour s\xe9lectionner un fichier",1,"file-input",3,"accept","change"],["matSuffix",""],["appearance","outline","color","secondary",1,"full-width"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(2,$ne,6,2,"mat-form-field",2),o.YNc(3,Jne,2,1,"mat-form-field",3),o._UZ(4,"br"),o.TgZ(5,"mat-form-field",4),o._UZ(6,"input",5),o.TgZ(7,"div",6),o.YNc(8,Qne,2,1,"mat-error",7),o.YNc(9,Kne,2,1,"mat-error",7),o.qZA(),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"mat-form-field",4),o._UZ(12,"input",8),o.TgZ(13,"div",6),o.YNc(14,Xne,2,1,"mat-error",7),o.YNc(15,eie,2,1,"mat-error",7),o.YNc(16,tie,2,1,"mat-error",7),o.qZA(),o.qZA(),o.YNc(17,nie,3,0,"div",9),o.qZA(),o.qZA()),2&n&&(o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",!s.fileUploaded),o.xp6(1),o.Q6J("ngIf",s.fileIsUploading),o.xp6(5),o.Q6J("ngIf",s.form.controls.titre.hasError("required")),o.xp6(1),o.Q6J("ngIf",s.form.controls.titre.hasError("maxLength")),o.xp6(5),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.description.errors?null:s.form.controls.description.errors.maxlength),o.xp6(1),o.Q6J("ngIf",!s.fileIsUploading&&s.form.valid))},directives:[ty,sl,Bi,ft,wf,hg,jo,rl,Ea,wi,Dg,j1,ug,p2,es],styles:[""]}),r})();function iie(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajout d'un nouveau document."),o.qZA())}function rie(r,i){if(1&r&&o._UZ(0,"app-pdf-form",3),2&r){const n=o.oxw();o.Q6J("pdf",n.pdf)}}let sie=(()=>{class r{constructor(){this.pdf=new HA("","","","",0)}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(n,s){1&n&&(o.YNc(0,iie,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,rie,1,1,"app-pdf-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.pdf),o.xp6(2),o.Q6J("ngIf",s.pdf))},directives:[ft,mj],styles:[""]}),r})();function oie(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition du document : ",n.pdf.titre,"")}}function aie(r,i){if(1&r&&o._UZ(0,"app-pdf-form",3),2&r){const n=o.oxw();o.Q6J("pdf",n.pdf)}}let lie=(()=>{class r{constructor(n,s){this.route=n,this.pdfService=s,this.pdf=new HA("","","","",0),this.pdfSubscription=this.pdfService.pdfSubject.pipe(Ul(1)).subscribe(a=>{a.length>0&&(this.pdf=this.pdfService.currentPdf)})}ngOnInit(){this.pdfService.GetSinglePdf(this.route.snapshot.params.id)}ngOnDestroy(){this.pdfSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(fo),o.Y36(Dv))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(n,s){1&n&&(o.YNc(0,oie,2,1,"h4",0),o.TgZ(1,"div",1),o.YNc(2,aie,1,1,"app-pdf-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.pdf),o.xp6(2),o.Q6J("ngIf",s.pdf))},directives:[ft,mj],styles:[""]}),r})();function cie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddPdf()}),o._uU(1," Ajouter un document. "),o.qZA()}}function uie(r,i){if(1&r&&(o._UZ(0,"iframe",9),o.ALo(1,"safe")),2&r){const n=o.oxw(2);o.Q6J("src",o.xi3(1,1,n.url,"resourceUrl"),o.uOi)}}function die(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onVoirPdf(a)}),o._uU(1,"Fermer le document"),o.qZA()}}function hie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onVoirPdf(a)}),o._uU(1,"Ouvrir le document"),o.qZA()}}function fie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onValiderPdf(a)}),o._uU(1,"Valider"),o.qZA()}}function pie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onEditPdf(a)}),o._uU(1,"Modifier"),o.qZA()}}function mie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onDeletePdf(a)}),o._uU(1,"Supprimer"),o.qZA()}}function gie(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"mat-card",3),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-content",4),o.TgZ(5,"div"),o.TgZ(6,"pre"),o._uU(7),o.qZA(),o.qZA(),o.YNc(8,uie,2,4,"iframe",5),o.TgZ(9,"mat-card-actions"),o.TgZ(10,"div",6),o.YNc(11,die,2,0,"button",7),o.YNc(12,hie,2,0,"button",7),o.YNc(13,fie,2,0,"button",7),o.YNc(14,pie,2,0,"button",8),o.YNc(15,mie,2,0,"button",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const n=i.$implicit,s=o.oxw();o.xp6(3),o.Oqu(n.titre),o.xp6(4),o.Oqu(n.description),o.xp6(1),o.Q6J("ngIf",n.fichier==s.url),o.xp6(3),o.Q6J("ngIf",n.fichier==s.url),o.xp6(1),o.Q6J("ngIf",n.fichier!=s.url),o.xp6(1),o.Q6J("ngIf",0==n.status&&s.canWrite),o.xp6(1),o.Q6J("ngIf",s.canWrite),o.xp6(1),o.Q6J("ngIf",s.canWrite)}}let _ie=(()=>{class r{constructor(n,s,a,l){this.router=n,this.globalService=s,this.pdfService=a,this.authService=l,this.url="",this.canWrite=!1,this.isConnected=!1,this.listePdf=[],this.canWrite=!1,this.userSubscription=this.authService.authSubject.subscribe(h=>{console.log(h.email),null==h?(console.log(" = null"),this.currentUser=null,this.isConnected=!1):(this.currentUser=l.getCurrentUser(),console.log(this.currentUser),this.isConnected=!0),this.canWrite=!(!this.isConnected||!this.currentUser)&&(this.currentUser.status&Vt.editArticle)===Vt.editArticle}),this.pdfService.getListePdfsValides(),this.pdfsSubscription=this.pdfService.pdfSubject.subscribe(h=>{this.listePdf=h}),this.pdfService.emitPdf(),null!=this.currentUser&&(this.canWrite=(this.currentUser.status&Vt.editArticle)===Vt.editArticle),this.pdfService.getListePdfsValides()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}onAddPdf(){this.router.navigate(["app-add-pdf"])}onEditPdf(n){this.router.navigate(["app-edit-pdf/",n.id])}onValiderPdf(n){this.pdfService.validerPdf(n)}onDeletePdf(n){this.pdfService.supprimerPdf(n)}onVoirPdf(n){this.url=this.url===n.fichier?"":n.fichier}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wn),o.Y36(Ko),o.Y36(Dv),o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-liste-pdf"]],decls:2,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],[1,"card-container"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(o.YNc(0,cie,2,0,"button",0),o.YNc(1,gie,16,8,"div",1)),2&n&&(o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngForOf",s.listePdf))},directives:[ft,yt,es,vg,bg,wv,PA],pipes:[ZG],styles:[".card-item[_ngcontent-%COMP%]{margin-top:15px}"]}),r})();class gj{constructor(i,n,s,a,l,h,m,_){this.id=i,this.annee=n,this.auteur=s,this.nomAuteur=a,this.listeEleves=l,this.photo=h,this.titre=m,this.status=_}}function yie(r,i){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," Merci de s\xe9lectionner un fichier. "),o.qZA())}function bie(r,i){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const n=o.oxw(2);o.xp6(1),o.Oqu(n.getErrorMessage("photo"))}}function vie(r,i){1&r&&o._UZ(0,"mat-progress-bar",13)}function wie(r,i){if(1&r&&(o.TgZ(0,"div"),o.TgZ(1,"mat-form-field",10),o.TgZ(2,"mat-icon",11),o._uU(3,"folder"),o.qZA(),o.YNc(4,yie,2,0,"mat-error",1),o.YNc(5,bie,2,1,"mat-error",1),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,vie,1,0,"mat-progress-bar",12),o.qZA(),o.qZA()),2&r){const n=o.oxw();o.xp6(4),o.Q6J("ngIf",n.addPhotoForm.controls.photo.hasError("required")),o.xp6(1),o.Q6J("ngIf",n.addPhotoForm.controls.photo.hasError("maxSize")),o.xp6(2),o.Q6J("ngIf",n.fileIsUploading)}}function Cie(r,i){if(1&r&&o._UZ(0,"img",15),2&r){const n=o.oxw(2);o.s9C("src",null==n.photo?null:n.photo.photo,o.LSH)}}function Die(r,i){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,Cie,1,1,"img",14),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",null!=(null==n.photo?null:n.photo.photo))}}function Mie(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("annee"))}}function Tie(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("titre"))}}function Eie(r,i){if(1&r&&(o.TgZ(0,"mat-error",16),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.Oqu(n.getErrorMessage("listeEleves"))}}let b2=(()=>{class r{constructor(n,s,a,l){var h;this.formBuilder=n,this.authService=s,this.photosService=a,this.location=l,this.errorMessage="",this.hide=!0,this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(wc_Small).pipe((0,b.U)(m=>m.matches)),null==this.photo&&(this.photo=new gj("",void 0,null===(h=this.authService.getCurrentUser())||void 0===h?void 0:h.id,"","","")),null==this.photo.photo&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],legende:["",[gt.maxLength(50)]],titre:["",[gt.required,gt.maxLength(50)]],annee:["",[gt.required,gt.min(1900),gt.max(2020)]],listeEleves:["",[gt.required,gt.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(Ul(1)).subscribe(m=>{var _,D;if(this.currentUser=m,null!=m)if(this.isConnected=null!=m&&(null===(_=m.email)||void 0===_?void 0:_.trim())!=(null===(D=s.getVisiteur())||void 0===D?void 0:D.trim()),this.isConnected){const M=m.status;this.canWrite=null!=M&&(M&Vt.editArticle)==Vt.editArticle}else this.canWrite=!1}),s.emitUserChanged()}ngOnInit(){this.initForm()}initForm(){var n,s,a;this.addPhotoForm.controls.titre.setValue(null===(n=this.photo)||void 0===n?void 0:n.titre),this.addPhotoForm.controls.listeEleves.setValue(null===(s=this.photo)||void 0===s?void 0:s.listeEleves),this.addPhotoForm.controls.annee.setValue(null===(a=this.photo)||void 0===a?void 0:a.annee)}onSubmit(){var n,s,a,l,h,m,_,D,M;(null===(n=this.addPhotoForm)||void 0===n?void 0:n.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(a=null===(s=this.addPhotoForm)||void 0===s?void 0:s.get("titre"))||void 0===a?void 0:a.value,this.photo.annee=null===(h=null===(l=this.addPhotoForm)||void 0===l?void 0:l.get("annee"))||void 0===h?void 0:h.value,this.photo.listeEleves=null===(_=null===(m=this.addPhotoForm)||void 0===m?void 0:m.get("listeEleves"))||void 0===_?void 0:_.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(D=this.currentUser)||void 0===D?void 0:D.id,this.photo.nomAuteur=null===(M=this.authService.getCurrentUser())||void 0===M?void 0:M.prenom,console.log(this.currentUser),this.photosService.addPhoto(this.photo)):this.photosService.updatePhoto(this.photo),this.location.back())}getErrorMessage(n){var s,a,l,h;let m="";switch(n){case"titre":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.titre.touched)&&(m=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"annee":(null===(a=this.addPhotoForm)||void 0===a?void 0:a.controls.annee.touched)&&(m=this.addPhotoForm.controls.annee.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(l=this.addPhotoForm)||void 0===l?void 0:l.controls.listeEleves.touched)&&(m=this.addPhotoForm.controls.listeEleves.hasError("required")?"Vous devez saisir une liste des \xe9l\xe8ves":"");break;case"photo":(null===(h=this.addPhotoForm)||void 0===h?void 0:h.controls.photo.touched)&&(m=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo de classes":"")}return m}detectFiles(n){this.onUploadFile(n.target.files[0])}onUploadFile(n){}onChangeVisibilite(){this.hide=!this.hide}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(ol),o.Y36(Kr),o.Y36(mf),o.Y36(Ut))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-photos-de-classe-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","number","placeholder","Ann\xe9e","formControlName","annee"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Liste des \xe9l\xe8ves","formControlName","listeEleves"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["matSuffix",""],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(n,s){1&n&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.YNc(1,wie,8,3,"div",1),o.YNc(2,Die,2,1,"div",1),o.TgZ(3,"div"),o.TgZ(4,"mat-form-field",2),o._UZ(5,"input",3),o.TgZ(6,"div",4),o.YNc(7,Mie,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(8,"mat-form-field",2),o._UZ(9,"input",6),o.TgZ(10,"div",4),o.YNc(11,Tie,2,1,"mat-error",5),o.qZA(),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"mat-form-field",2),o._UZ(14,"textarea",7),o.TgZ(15,"div",4),o.YNc(16,Eie,2,1,"mat-error",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",8),o.TgZ(18,"button",9),o._uU(19,"Valider"),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.Q6J("formGroup",s.addPhotoForm),o.xp6(1),o.Q6J("ngIf",null!=(null==s.photo?null:s.photo.photo)&&""==(null==s.photo?null:s.photo.photo)),o.xp6(1),o.Q6J("ngIf",""==(null==s.photo?null:s.photo.photo)),o.xp6(5),o.Q6J("ngIf",s.addPhotoForm.controls.annee.hasError("required")),o.xp6(4),o.Q6J("ngIf",s.addPhotoForm.controls.titre.hasError("required")),o.xp6(5),o.Q6J("ngIf",s.addPhotoForm.controls.listeEleves.hasError("required")),o.xp6(2),o.Q6J("disabled",s.addPhotoForm.invalid))},directives:[ty,sl,Bi,ft,wf,hg,Iw,jo,rl,Ea,es,Dg,j1,ug,p2],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:30%;max-height:25%;align-content:left}.button[_ngcontent-%COMP%]{text-align:center}"]}),r})();function Sie(r,i){1&r&&(o.TgZ(0,"h4"),o._uU(1,"Ajouter une photo de classe."),o.qZA())}function xie(r,i){if(1&r&&o._UZ(0,"app-photos-de-classe-form",3),2&r){const n=o.oxw();o.Q6J("photo",n.photo)}}let Aie=(()=>{class r{constructor(n){var s;this.authService=n,this.isConnected=!1,this.userDroits=0,this.photo=new gj("",void 0,null===(s=this.authService.getCurrentUser())||void 0===s?void 0:s.id,"","",""),this.userSubscription=this.authService.authSubject.pipe(Ul(1)).subscribe(a=>{this.isConnected=a.status>Ri.initial})}ngOnInit(){}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-add-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(n,s){1&n&&(o.YNc(0,Sie,2,0,"h4",0),o.TgZ(1,"div",1),o.YNc(2,xie,1,1,"app-photos-de-classe-form",2),o.qZA()),2&n&&(o.Q6J("ngIf",s.photo),o.xp6(2),o.Q6J("ngIf",s.photo))},directives:[ft,b2],styles:[""]}),r})();function kie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(n),o.oxw().onAddPhoto()}),o._uU(1," Ajouter une photo de classe..\n"),o.qZA()}}function Iie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit;return o.oxw().onEdit(a)}),o._uU(1,"Modifier la liste des \xe9l\xe8ves"),o.qZA()}}function Rie(r,i){if(1&r){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"mat-card",3),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.TgZ(6,"img",4),o.NdJ("click",function(){const l=o.CHM(n).$implicit;return o.oxw().onSurvol(l)}),o.qZA(),o.TgZ(7,"mat-card-content",5),o.TgZ(8,"div"),o.TgZ(9,"pre"),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.YNc(12,Iie,2,0,"button",7),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const n=i.$implicit,s=o.oxw();o.xp6(3),o.AsE("",n.titre," par : ",n.nomAuteur," (Cliquez sur la photo pour l'agrandir.)"),o.xp6(2),o.Oqu(n.annee),o.xp6(1),o.s9C("src",n.photo,o.LSH),o.xp6(4),o.Oqu(n.listeEleves),o.xp6(2),o.Q6J("ngIf",s.canWrite)}}let Oie=(()=>{class r{constructor(n,s,a,l,h,m,_){let D;this.route=n,this.router=s,this.photosService=a,this.globalService=l,this.usersService=h,this.authService=m,this.matDialog=_,this.zoom=!1,this.isConnected=!1,this.listePhotos=[],this.listeSelectedPhotos=[],this.debut=0,this.fin=0,this.canWrite=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ul(1)).subscribe(M=>{this.isConnected=(M.status&Ri.valide)==Ri.valide,this.isConnected?(D=M.status,this.canWrite=(D&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse):this.canWrite=!1,this.canWrite=(D&Vt.editPhotosDeClasse)===Vt.editPhotosDeClasse}),m.emitUserChanged(),this.queryParamsSuscription=this.route.queryParamMap.subscribe(M=>{M.has("debut")&&M.has("fin")&&(this.debut=M.get("debut"),this.fin=M.get("fin"),this.CherchePhotos())},M=>{console.log("Erreur : "+M.message)}),this.photosSubscription=this.photosService.photoSubject.subscribe(M=>{this.listePhotos=M,this.CherchePhotos()}),this.photosService.emitPhoto()}ngOnInit(){}ngOnDestroy(){null!=this.queryParamsSuscription&&this.queryParamsSuscription.unsubscribe(),null!=this.userSubscription&&this.userSubscription.unsubscribe(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe()}CherchePhotos(){0!=this.debut&&0!=this.fin&&(this.filtrePhotos(),this.addPrenomAuteur())}filtrePhotos(){this.listeSelectedPhotos.splice(0),this.listeSelectedPhotos=this.listePhotos.filter(n=>1==n.status&&n.annee>=this.debut&&n.annee<=this.fin)}addPrenomAuteur(){this.listeSelectedPhotos.forEach(n=>{this.usersService.getUser(n.auteur).subscribe(s=>{const a=s.data();n.nomAuteur=a.prenom})})}onZoomImage(){this.zoom=!0}onDeZoomImage(){this.zoom=!1}onAddPhoto(){this.router.navigate(["app-add-photo-de-classe"])}onEdit(n){this.router.navigate(["app-edit-photo-de-classe",n.id])}onSurvol(n){this.photosService.currentPhoto=n,this.matDialog.open(Nie,{height:"100%",width:"55%"})}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(fo),o.Y36(Wn),o.Y36(mf),o.Y36(Ko),o.Y36(P1),o.Y36(Kr),o.Y36(vf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-album"]],decls:4,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],["alt","Photo introuvable",1,"img",3,"src","click"],[1,"card-container"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Photos de classes"),o.qZA(),o.YNc(2,kie,2,0,"button",0),o.YNc(3,Rie,13,6,"div",1)),2&n&&(o.xp6(2),o.Q6J("ngIf",s.isConnected),o.xp6(1),o.Q6J("ngForOf",s.listeSelectedPhotos))},directives:[ft,yt,es,vg,bg,Cv,wv],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:10pt;margin-bottom:10pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:10%;max-height:20%;align-content:left}"]}),r})(),Nie=(()=>{class r{constructor(n){var s,a,l,h;this.photosService=n,this.image=null===(s=n.currentPhoto)||void 0===s?void 0:s.photo,this.listeEleves=null===(a=n.currentPhoto)||void 0===a?void 0:a.listeEleves,this.titre=null===(l=n.currentPhoto)||void 0===l?void 0:l.titre,this.sousTitre=""+(null===(h=n.currentPhoto)||void 0===h?void 0:h.annee.toString())}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(mf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-dialog-maximise-image"]],decls:14,vars:4,consts:[[1,"card"],["mat-card-image","","dialog-img","","alt","Photo de classe",1,"dialog-img",3,"src"],["mat-button-accent","","mat-dialog-close",""]],template:function(n,s){1&n&&(o.TgZ(0,"mat-card",0),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5),o.qZA(),o.qZA(),o._UZ(6,"img",1),o.TgZ(7,"mat-card-content"),o.TgZ(8,"pre"),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"mat-card-actions"),o.TgZ(11,"div"),o.TgZ(12,"button",2),o._uU(13,"Fermer"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(3),o.Oqu(s.titre),o.xp6(2),o.Oqu(s.sousTitre),o.xp6(1),o.s9C("src",s.image,o.LSH),o.xp6(3),o.hij("            ",s.listeEleves,"\n        "))},directives:[vg,FL,bg,Cv,PL,wv,PA,dL],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),r})();function Pie(r,i){if(1&r&&(o.TgZ(0,"h4"),o._uU(1),o.qZA()),2&r){const n=o.oxw();o.xp6(1),o.hij("Edition de la photo de classe de l'ann\xe9e ",n.photo.annee,"")}}function Fie(r,i){if(1&r&&o._UZ(0,"app-photos-de-classe-form",2),2&r){const n=o.oxw();o.Q6J("photo",n.photo)}}let Lie=(()=>{class r{constructor(n,s){this.route=n,this.photosService=s,this.photosService.getPhoto(this.route.snapshot.params.id).subscribe(l=>{this.photo=l.data(),this.photo.id=l.id},l=>{console.log("Erreur = "+l.message)})}ngOnInit(){}ngOnDestroy(){}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(fo),o.Y36(mf))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-photo-de-classe"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(n,s){1&n&&(o.YNc(0,Pie,2,1,"h4",0),o.YNc(1,Fie,1,1,"app-photos-de-classe-form",1)),2&n&&(o.Q6J("ngIf",s.photo),o.xp6(1),o.Q6J("ngIf",s.photo))},directives:[ft,b2],styles:[""]}),r})(),Eo=(()=>{class r{constructor(n){this.authService=n,this.userSubscription=this.authService.authSubject.subscribe(s=>{this.currentUser=s}),this.authService.emitUserChanged()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}canActivate(){return new Promise(n=>{n(!!this.currentUser)})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(Kr))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Bie=[{path:"app-accueil",component:VQ},{path:"app-frame",component:pj},{path:"app-sign-in",component:QY},{path:"app-sign-up",component:KY},{path:"app-user-data",component:XU},{path:"app-unvalidate-user-message",component:(()=>{class r{constructor(n,s){this.router=n,this.authService=s}ngOnInit(){}onDemandeMail(){this.authService.sendMailNewUser(),this.router.navigate(["app-accueil"])}onAnnuler(){this.router.navigate(["app-accueil"])}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Wn),o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-unvalidate-user-message"]],decls:8,vars:0,consts:[["mat-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Votre adresse mail n'a pas \xe9t\xe9 valid\xe9e."),o.qZA(),o.TgZ(2,"h5"),o._uU(3,"Un mail vous a \xe9t\xe9 envoy\xe9, il est n\xe9cessaire de cliquer sur le lien qui y figure pour finaliser votre inscription. "),o.qZA(),o.TgZ(4,"button",0),o.NdJ("click",function(){return s.onDemandeMail()}),o._uU(5,"Redemander un mail de validation"),o.qZA(),o.TgZ(6,"button",0),o.NdJ("click",function(){return s.onAnnuler()}),o._uU(7,"Annuler"),o.qZA())},directives:[es],styles:[""]}),r})()},{path:"app-liste-pdf",component:_ie},{path:"app-edit-pdf/:id",canActivate:[Eo],component:lie},{path:"app-add-pdf",canActivate:[Eo],component:sie},{path:"app-liste-articles",component:jte},{path:"app-edit-article/:id",canActivate:[Eo],component:GL},{path:"app-add-article",canActivate:[Eo],component:Lte},{path:"app-article-form",canActivate:[Eo],component:rk},{path:"app-dialog-maximise-article-image",component:JY},{path:"app-article-form",canActivate:[Eo],component:rk},{path:"app-album",component:Oie},{path:"app-edit-photo-de-classe/:id",canActivate:[Eo],component:Lie},{path:"app-add-photo-de-classe",canActivate:[Eo],component:Aie},{path:"app-photos-de-classe-form",component:b2},{path:"app-droits",canActivate:[Eo],component:EK},{path:"app-droits-form",canActivate:[Eo],component:YG},{path:"app-home-administration",canActivate:[Eo],component:IK},{path:"app-liste-messages",component:jK},{path:"app-valider-articles",canActivate:[Eo],component:XK},{path:"app-messages",canActivate:[Eo],component:XY},{path:"",redirectTo:"app-accueil",pathMatch:"full"},{path:"**",redirectTo:"app-accueil"}];let Vie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[kr.forRoot(Bie)],kr]}),r})(),Uie=(()=>{class r{constructor(n){this.authService=n,this.title="MemoireMorieroise",this.authService.signInVisiteur()}}return r.\u0275fac=function(n){return new(n||r)(o.Y36(Kr))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,s){1&n&&o._UZ(0,"app-frame")},directives:[pj],styles:[""]}),r})();const Qie={provide:new o.OlP("mat-autocomplete-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let tre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Qie],imports:[[Ta,bA,nt,Xt],mr,bA,nt]}),r})(),rre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xc,nt],nt]}),r})(),lre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ta,nt,Qa],nt]}),r})(),mre=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt,yl],nt]}),r})();const Ej=new o.OlP("mat-chips-default-options"),xre={separatorKeyCodes:[13]};let Are=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Js,{provide:Ej,useValue:xre}],imports:[[nt]]}),r})(),ak=(()=>{class r{constructor(){this.changes=new me.xQ,this.optionalLabel="Optional"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Wre={provide:ak,deps:[[new o.FiY,new o.tp0,ak]],useFactory:function(r){return r||new ak}};let ise=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Wre,Js],imports:[[nt,Xt,Qa,eD,R_,$Y,yl],nt]}),r})(),rD=(()=>{class r{constructor(){this.changes=new me.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Pse={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let jse=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[rD,Pse],imports:[[Xt,eD,Ta,Xc,Qa,nt],mr]}),r})(),Jse=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),doe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,nt,Jse,Qa]]}),r})();const Qj={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let eq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Qj],imports:[nt]}),r})(),boe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Qj],imports:[[Xt,nt,yl,Ta,eq],mr,nt,eq]}),r})();const Ooe={provide:new o.OlP("mat-select-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let oq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Ooe],imports:[[Xt,Ta,bA,nt],mr,fL,bA,nt]}),r})();const Goe={provide:new o.OlP("mat-tooltip-scroll-strategy"),deps:[Li],useFactory:function(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}};let uq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Goe],imports:[[Xc,Xt,Ta,nt],nt,mr]}),r})(),lD=(()=>{class r{constructor(){this.changes=new me.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,a)=>{if(0==a||0==s)return`0 of ${a}`;const l=n*s;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+s,a):l+s} of ${a}`}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const nae={provide:lD,deps:[[new o.FiY,new o.tp0,lD]],useFactory:function(r){return r||new lD}};let aae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[nae],imports:[[Xt,eD,oq,uq,nt]]}),r})();function lae(r,i){if(1&r&&(o.O4$(),o._UZ(0,"circle",3)),2&r){const n=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),o.uIk("r",n._getCircleRadius())}}function cae(r,i){if(1&r&&(o.O4$(),o._UZ(0,"circle",3)),2&r){const n=o.oxw();o.Udp("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),o.uIk("r",n._getCircleRadius())}}const fae=Qo(class{constructor(r){this._elementRef=r}},"primary"),hq=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class nd extends fae{constructor(i,n,s,a,l){super(i),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const h=nd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(s.head)||h.set(s.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===a&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=jt(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=jt(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,jt(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=o_(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,n=this._diameter,s=nd._diameters;let a=s.get(i);if(!a||!a.has(n)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),i.appendChild(l),a||(a=new Set,s.set(i,a)),a.add(n)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}nd.\u0275fac=function(i){return new(i||nd)(o.Y36(o.SBq),o.Y36(It),o.Y36(Z,8),o.Y36(Hn,8),o.Y36(hq))},nd.\u0275cmp=o.Xpm({type:nd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,n){2&i&&(o.uIk("aria-valuemin","determinate"===n.mode?0:null)("aria-valuemax","determinate"===n.mode?100:null)("aria-valuenow","determinate"===n.mode?n.value:null)("mode",n.mode),o.Udp("width",n.diameter,"px")("height",n.diameter,"px"),o.ekj("_mat-animation-noopable",n._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,n){1&i&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,lae,1,9,"circle",1),o.YNc(2,cae,1,7,"circle",2),o.qZA()),2&i&&(o.Udp("width",n.diameter,"px")("height",n.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===n.mode),o.uIk("viewBox",n._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[Wi,ei],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),nd._diameters=new WeakMap;let gae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[nt,Xt],nt]}),r})(),xae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[yl,nt],nt]}),r})(),Vae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Xt,nt],nt]}),r})(),yq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),Xae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[yq,yl,nt,hp],yq,nt]}),r})(),ole=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Ta,Qa,Xt,eD,nt],nt]}),r})(),fk=(()=>{class r{constructor(){this.changes=new me.xQ}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const gle={provide:fk,deps:[[new o.FiY,new o.tp0,fk]],useFactory:function(r){return r||new fk}};let yle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[gle],imports:[[Xt,nt]]}),r})(),Ele=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[LI,nt],nt]}),r})();const vq_firebaseConfig={apiKey:"AIzaSyBz9fnOh35_UA9eF6e_liALWX4BSMFv1wM",authDomain:"memoiremorieroise-73e3b.firebaseapp.com",databaseURL:"https://memoiremorieroise-73e3b.firebaseio.com",projectId:"memoiremorieroise-73e3b",storageBucket:"memoiremorieroise-73e3b.appspot.com",messagingSenderId:"201883520409"};let Sle=(()=>{class r{constructor(n){this.angularStorage=n}getImagesCarousel(){return this.angularStorage.ref("Accueil").listAll()}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(a2))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xle=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.oAB({type:r,bootstrap:[Uie]}),r.\u0275inj=o.cJS({providers:[Ko,cv,Kr,Eo,Sle,qG,Dv,mf,P1],imports:[[Ug,Vie,Wz,q9,Xc,jk,R_,HM,LI,iB,Ta,Qa,tu,UT,go.hO.initializeApp(vq_firebaseConfig),T5,Yee,tre,rre,lre,eD,mre,fQ,JQ,Are,ise,jse,O8,aj,doe,nQ,$Y,l$,Nne,boe,f8,aae,Dte,gae,xae,yl,oq,vne,Vae,Xae,ole,yle,lK,Z$,Une,uq,Ele,zee]]}),r})();o.B6R(GL,[ft,rk],[]),(0,o.G48)(),Lc().bootstrapModule(xle).catch(r=>console.error(r))},4762:(Xe,Te,L)=>{"use strict";L.d(Te,{ZT:()=>q,pi:()=>U,_T:()=>se,gn:()=>de,fM:()=>te,w6:()=>Z,mG:()=>W,Jh:()=>z,XA:()=>H,CR:()=>X,ev:()=>pe});var o=function(he,_e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,be){ye.__proto__=be}||function(ye,be){for(var Ce in be)Object.prototype.hasOwnProperty.call(be,Ce)&&(ye[Ce]=be[Ce])})(he,_e)};function q(he,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function ye(){this.constructor=he}o(he,_e),he.prototype=null===_e?Object.create(_e):(ye.prototype=_e.prototype,new ye)}var U=function(){return(U=Object.assign||function(_e){for(var ye,be=1,Ce=arguments.length;be<Ce;be++)for(var re in ye=arguments[be])Object.prototype.hasOwnProperty.call(ye,re)&&(_e[re]=ye[re]);return _e}).apply(this,arguments)};function se(he,_e){var ye={};for(var be in he)Object.prototype.hasOwnProperty.call(he,be)&&_e.indexOf(be)<0&&(ye[be]=he[be]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(be=Object.getOwnPropertySymbols(he);Ce<be.length;Ce++)_e.indexOf(be[Ce])<0&&Object.prototype.propertyIsEnumerable.call(he,be[Ce])&&(ye[be[Ce]]=he[be[Ce]])}return ye}function de(he,_e,ye,be){var Ue,Ce=arguments.length,re=Ce<3?_e:null===be?be=Object.getOwnPropertyDescriptor(_e,ye):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(he,_e,ye,be);else for(var ot=he.length-1;ot>=0;ot--)(Ue=he[ot])&&(re=(Ce<3?Ue(re):Ce>3?Ue(_e,ye,re):Ue(_e,ye))||re);return Ce>3&&re&&Object.defineProperty(_e,ye,re),re}function te(he,_e){return function(ye,be){_e(ye,be,he)}}function Z(he,_e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,_e)}function W(he,_e,ye,be){return new(ye||(ye=Promise))(function(re,Ue){function ot(at){try{ht(be.next(at))}catch(_t){Ue(_t)}}function Gt(at){try{ht(be.throw(at))}catch(_t){Ue(_t)}}function ht(at){at.done?re(at.value):function(re){return re instanceof ye?re:new ye(function(Ue){Ue(re)})}(at.value).then(ot,Gt)}ht((be=be.apply(he,_e||[])).next())})}function z(he,_e){var be,Ce,re,Ue,ye={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return Ue={next:ot(0),throw:ot(1),return:ot(2)},"function"==typeof Symbol&&(Ue[Symbol.iterator]=function(){return this}),Ue;function ot(ht){return function(at){return function(ht){if(be)throw new TypeError("Generator is already executing.");for(;ye;)try{if(be=1,Ce&&(re=2&ht[0]?Ce.return:ht[0]?Ce.throw||((re=Ce.return)&&re.call(Ce),0):Ce.next)&&!(re=re.call(Ce,ht[1])).done)return re;switch(Ce=0,re&&(ht=[2&ht[0],re.value]),ht[0]){case 0:case 1:re=ht;break;case 4:return ye.label++,{value:ht[1],done:!1};case 5:ye.label++,Ce=ht[1],ht=[0];continue;case 7:ht=ye.ops.pop(),ye.trys.pop();continue;default:if(!(re=(re=ye.trys).length>0&&re[re.length-1])&&(6===ht[0]||2===ht[0])){ye=0;continue}if(3===ht[0]&&(!re||ht[1]>re[0]&&ht[1]<re[3])){ye.label=ht[1];break}if(6===ht[0]&&ye.label<re[1]){ye.label=re[1],re=ht;break}if(re&&ye.label<re[2]){ye.label=re[2],ye.ops.push(ht);break}re[2]&&ye.ops.pop(),ye.trys.pop();continue}ht=_e.call(he,ye)}catch(at){ht=[6,at],Ce=0}finally{be=re=0}if(5&ht[0])throw ht[1];return{value:ht[0]?ht[1]:void 0,done:!0}}([ht,at])}}}function H(he){var _e="function"==typeof Symbol&&Symbol.iterator,ye=_e&&he[_e],be=0;if(ye)return ye.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&be>=he.length&&(he=void 0),{value:he&&he[be++],done:!he}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(he,_e){var ye="function"==typeof Symbol&&he[Symbol.iterator];if(!ye)return he;var Ce,Ue,be=ye.call(he),re=[];try{for(;(void 0===_e||_e-- >0)&&!(Ce=be.next()).done;)re.push(Ce.value)}catch(ot){Ue={error:ot}}finally{try{Ce&&!Ce.done&&(ye=be.return)&&ye.call(be)}finally{if(Ue)throw Ue.error}}return re}function pe(he,_e,ye){if(ye||2===arguments.length)for(var re,be=0,Ce=_e.length;be<Ce;be++)(re||!(be in _e))&&(re||(re=Array.prototype.slice.call(_e,0,be)),re[be]=_e[be]);return he.concat(re||Array.prototype.slice.call(_e))}},8239:(Xe,Te,L)=>{"use strict";function o(U,se,de,te,Z,W,z){try{var V=U[W](z),Q=V.value}catch(H){return void de(H)}V.done?se(Q):Promise.resolve(Q).then(te,Z)}function q(U){return function(){var se=this,de=arguments;return new Promise(function(te,Z){var W=U.apply(se,de);function z(Q){o(W,te,Z,z,V,"next",Q)}function V(Q){o(W,te,Z,z,V,"throw",Q)}z(void 0)})}}L.d(Te,{Z:()=>q})}},Xe=>{Xe(Xe.s=2375)}]);