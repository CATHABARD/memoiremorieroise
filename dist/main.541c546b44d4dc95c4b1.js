(self.webpackChunkmemoire_morieroise=self.webpackChunkmemoire_morieroise||[]).push([[179],{8255:We=>{function be(N){return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+N+"'");throw r.code="MODULE_NOT_FOUND",r})}be.keys=()=>[],be.resolve=be,be.id=8255,We.exports=be},7716:(We,be,N)=>{"use strict";N.d(be,{deG:()=>ZD,tb:()=>Xh,AFp:()=>HS,ip1:()=>XC,CZH:()=>Qh,hGG:()=>hx,z2F:()=>xe,sBO:()=>$R,Sil:()=>Fm,_Vd:()=>xu,EJc:()=>t1,SBq:()=>vo,qLn:()=>Qd,vpe:()=>Hn,pfw:()=>$O,L6J:()=>Im,gxx:()=>Gl,tBr:()=>za,XFs:()=>rt,OlP:()=>pi,zs3:()=>Nn,IIB:()=>jO,ZZ4:()=>im,aQg:()=>Nb,soG:()=>bi,YKP:()=>Vb,v3s:()=>pN,h0i:()=>Iu,PXZ:()=>uN,R0b:()=>_s,FiY:()=>fa,Lbi:()=>e1,g9A:()=>vy,n_E:()=>uc,Qsj:()=>BE,FYo:()=>Ib,JOm:()=>ya,Tiy:()=>Ob,q3G:()=>Si,PiD:()=>zd,tp0:()=>ma,EAV:()=>rx,Rgc:()=>Vh,dDg:()=>a1,DyG:()=>Fo,q4F:()=>oC,GfV:()=>UE,s_b:()=>Hb,ifc:()=>He,eFA:()=>Yi,G48:()=>c1,Gpc:()=>V,f3M:()=>d0,X6Q:()=>l1,_c5:()=>Ay,VLi:()=>XS,c2e:()=>ZS,zSh:()=>gu,wAp:()=>Xe,vHH:()=>De,EiD:()=>w0,mCW:()=>ai,qzn:()=>C,JVY:()=>y,pB0:()=>ie,eBb:()=>A,L6k:()=>T,LAX:()=>R,cg1:()=>zw,Tjo:()=>$u,kL8:()=>sl,yhl:()=>g,dqk:()=>yn,sIi:()=>il,CqO:()=>xw,QGY:()=>Sw,F4k:()=>aR,RDi:()=>Bv,AaK:()=>j,z3N:()=>ga,qOj:()=>uw,TTD:()=>zt,_Bn:()=>xb,xp6:()=>B0,uIk:()=>hw,Tol:()=>Pw,Gre:()=>WM,DjV:()=>JM,ekj:()=>Nw,Suo:()=>ES,Xpm:()=>Ui,lG2:()=>St,Yz7:()=>ft,cJS:()=>Bn,oAB:()=>z,Yjl:()=>sn,Y36:()=>K_,_UZ:()=>eb,GkF:()=>kM,BQk:()=>tb,ynx:()=>Mw,qZA:()=>Dw,TgZ:()=>Th,EpF:()=>Ew,n5z:()=>er,Ikx:()=>Gw,SDv:()=>xE,QtT:()=>Mb,pQV:()=>Xf,LFG:()=>fi,$8M:()=>Ol,NdJ:()=>Uf,CRH:()=>zh,kcU:()=>$v,O4$:()=>LD,oxw:()=>Mh,ALo:()=>AC,lcZ:()=>wS,xi3:()=>kC,Hsn:()=>Eh,F$t:()=>wu,Q6J:()=>Dh,s9C:()=>kw,MGl:()=>Sh,VKq:()=>xC,WLB:()=>bS,kEZ:()=>yS,iGM:()=>ay,MAs:()=>_M,CHM:()=>Zc,uOi:()=>Mn,LSH:()=>Es,B6R:()=>Zt,kYT:()=>Ee,Udp:()=>lb,WFA:()=>Aw,d8E:()=>jw,YNc:()=>gM,W1O:()=>AS,_uU:()=>YM,Oqu:()=>GM,hij:()=>Ah,AsE:()=>db,Gf:()=>FC});var r=N(9765),B=N(5319),L=N(7574),ce=N(6682),se=N(8819);function K(a){for(let l in a)if(a[l]===K)return l;throw Error("Could not find renamed property on target object.")}function Z(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function j(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function J(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const F=K({__forward_ref__:K});function V(a){return a.__forward_ref__=V,a.toString=function(){return j(this())},a}function q(a){return ae(a)?a():a}function ae(a){return"function"==typeof a&&a.hasOwnProperty(F)&&a.__forward_ref__===V}class De extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function Ce(a){return"string"==typeof a?a:null==a?"":String(a)}function Be(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ce(a)}function en(a,l){const c=l?` in ${l}`:"";throw new De("201",`No provider for ${Be(a)} found${c}`)}function vt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function ft(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Bn(a){return{providers:a.providers||[],imports:a.imports||[]}}function ur(a){return qr(a,vs)||qr(a,So)}function qr(a,l){return a.hasOwnProperty(l)?a[l]:null}function io(a){return a&&(a.hasOwnProperty(Yr)||a.hasOwnProperty(Ls))?a[Yr]:null}const vs=K({\u0275prov:K}),Yr=K({\u0275inj:K}),So=K({ngInjectableDef:K}),Ls=K({ngInjectorDef:K});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let si;function Li(a){const l=si;return si=a,l}function pt(a,l,c){const d=ur(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&rt.Optional?null:void 0!==l?l:void en(j(a),"Injector")}function $t(a){return{toString:a}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),He=(()=>((He=He||{})[He.Emulated=0]="Emulated",He[He.None=2]="None",He[He.ShadowDom=3]="ShadowDom",He))();const ze="undefined"!=typeof globalThis&&globalThis,xo="undefined"!=typeof window&&window,oa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ws="undefined"!=typeof global&&global,yn=ze||ws||xo||oa,G={},H=[],Q=K({\u0275cmp:K}),ye=K({\u0275dir:K}),ne=K({\u0275pipe:K}),Je=K({\u0275mod:K}),mt=K({\u0275loc:K}),Ut=K({\u0275fac:K}),Dn=K({__NG_ELEMENT_ID__:K});let $i=0;function Ui(a){return $t(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||H,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||He.Emulated,id:"c",styles:a.styles||H,_:null,setInput:null,schemas:a.schemas||null,tView:null},h=a.directives,f=a.features,_=a.pipes;return d.id+=$i++,d.inputs=Ye(a.inputs,c),d.outputs=Ye(a.outputs),f&&f.forEach(v=>v(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Hi):null,d.pipeDefs=_?()=>("function"==typeof _?_():_).map(oe):null,d})}function Zt(a,l,c){const d=a.\u0275cmp;d.directiveDefs=()=>l.map(Hi),d.pipeDefs=()=>c.map(oe)}function Hi(a){return kt(a)||function(a){return a[ye]||null}(a)}function oe(a){return function(a){return a[ne]||null}(a)}const W={};function z(a){return $t(()=>{const l={type:a.type,bootstrap:a.bootstrap||H,declarations:a.declarations||H,imports:a.imports||H,exports:a.exports||H,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(W[a.id]=a.type),l})}function Ee(a,l){return $t(()=>{const c=Jn(a,!0);c.declarations=l.declarations||H,c.imports=l.imports||H,c.exports=l.exports||H})}function Ye(a,l){if(null==a)return G;const c={};for(const d in a)if(a.hasOwnProperty(d)){let h=a[d],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),c[h]=d,l&&(l[h]=f)}return c}const St=Ui;function sn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function kt(a){return a[Q]||null}function Jn(a,l){const c=a[Je]||null;if(!c&&!0===l)throw new Error(`Type ${j(a)} does not have '\u0275mod' property.`);return c}function ko(a){return Array.isArray(a)&&"object"==typeof a[1]}function Gr(a){return Array.isArray(a)&&!0===a[1]}function Up(a){return 0!=(8&a.flags)}function ua(a){return 2==(2&a.flags)}function Di(a){return 1==(1&a.flags)}function Qi(a){return null!==a.template}function as(a){return 0!=(512&a[2])}function La(a,l){return a.hasOwnProperty(Ut)?a[Ut]:null}class Fv{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function zt(){return Zp}function Zp(a){return a.type.prototype.ngOnChanges&&(a.setInput=Lv),vd}function vd(){const a=Fc(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===G)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Lv(a,l,c,d){const h=Fc(a)||function(a,l){return a[qp]=l}(a,{previous:G,current:null}),f=h.current||(h.current={}),_=h.previous,v=this.declaredInputs[c],D=_[v];f[v]=new Fv(D&&D.currentValue,l,_===G),a[d]=l}zt.ngInherit=!0;const qp="__ngSimpleChanges__";function Fc(a){return a[qp]||null}const Ml="http://www.w3.org/2000/svg";let Lc;function Bv(a){Lc=a}function wd(){return void 0!==Lc?Lc:"undefined"!=typeof document?document:void 0}function Gn(a){return!!a.listen}const da={createRenderer:(a,l)=>wd()};function Vn(a){for(;Array.isArray(a);)a=a[0];return a}function Ba(a,l){return Vn(l[a])}function jr(a,l){return Vn(l[a.index])}function Vc(a,l){return a.data[l]}function Va(a,l){return a[l]}function Ar(a,l){const c=l[a];return ko(c)?c:c[0]}function Vv(a){return 4==(4&a[2])}function Dd(a){return 128==(128&a[2])}function Ro(a,l){return null==l?null:a[l]}function Uc(a){a[18]=0}function Hc(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const _t={lFrame:Gv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zv(){return _t.bindingsEnabled}function Se(){return _t.lFrame.lView}function Kt(){return _t.lFrame.tView}function Zc(a){return _t.lFrame.contextLView=a,a[8]}function Kn(){let a=qc();for(;null!==a&&64===a.type;)a=a.parent;return a}function qc(){return _t.lFrame.currentTNode}function Ua(){const a=_t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Cs(a,l){const c=_t.lFrame;c.currentTNode=a,c.isParent=l}function Sl(){return _t.lFrame.isParent}function Md(){_t.lFrame.isParent=!1}function Ed(){return _t.isInCheckNoChangesMode}function xl(a){_t.isInCheckNoChangesMode=a}function Ki(){const a=_t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function us(){return _t.lFrame.bindingIndex}function Bs(){return _t.lFrame.bindingIndex++}function Vs(a){const l=_t.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Hg(a){_t.lFrame.inI18n=a}function Sd(a,l){const c=_t.lFrame;c.bindingIndex=c.bindingRootIndex=a,Yc(l)}function Yc(a){_t.lFrame.currentDirectiveIndex=a}function Kp(a){const l=_t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Zg(){return _t.lFrame.currentQueryIndex}function Al(a){_t.lFrame.currentQueryIndex=a}function xd(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function qg(a,l,c){if(c&rt.SkipSelf){let h=l,f=a;for(;!(h=h.parent,null!==h||c&rt.Host||(h=xd(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;l=h,a=f}const d=_t.lFrame=Xp();return d.currentTNode=l,d.lView=a,!0}function Oo(a){const l=Xp(),c=a[1];_t.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Xp(){const a=_t.lFrame,l=null===a?null:a.child;return null===l?Gv(a):l}function Gv(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Yg(){const a=_t.lFrame;return _t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const jv=Yg;function Gc(){const a=Yg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function kr(){return _t.lFrame.selectedIndex}function kl(a){_t.lFrame.selectedIndex=a}function Ti(){const a=_t.lFrame;return Vc(a.tView,a.selectedIndex)}function LD(){_t.lFrame.currentNamespace=Ml}function $v(){_t.lFrame.currentNamespace=null}function Ad(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const f=a.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:S}=f;_&&(a.contentHooks||(a.contentHooks=[])).push(-c,_),v&&((a.contentHooks||(a.contentHooks=[])).push(c,v),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,v)),D&&(a.viewHooks||(a.viewHooks=[])).push(-c,D),M&&((a.viewHooks||(a.viewHooks=[])).push(c,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,M)),null!=S&&(a.destroyHooks||(a.destroyHooks=[])).push(c,S)}}function Il(a,l,c){Id(a,l,3,c)}function kd(a,l,c,d){(3&a[2])===c&&Id(a,l,c,d)}function tf(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Id(a,l,c,d){const f=null!=d?d:-1,_=l.length-1;let v=0;for(let D=void 0!==d?65535&a[18]:0;D<_;D++)if("number"==typeof l[D+1]){if(v=l[D],null!=d&&v>=d)break}else l[D]<0&&(a[18]+=65536),(v<f||-1==f)&&(nf(a,c,l,D),a[18]=(4294901760&a[18])+D+2),D++}function nf(a,l,c,d){const h=c[d]<0,f=c[d+1],v=a[h?-c[d]:c[d]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Za{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function sf(a,l,c){const d=Gn(a);let h=0;for(;h<c.length;){const f=c[h];if("number"==typeof f){if(0!==f)break;h++;const _=c[h++],v=c[h++],D=c[h++];d?a.setAttribute(l,v,D,_):l.setAttributeNS(_,v,D)}else{const _=f,v=c[++h];zr(_)?d&&a.setProperty(l,_,v):d?a.setAttribute(l,_,v):l.setAttribute(_,v),h++}}return h}function jg(a){return 3===a||4===a||6===a}function zr(a){return 64===a.charCodeAt(0)}function Rd(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const h=l[d];"number"==typeof h?c=h:0===c||Mi(a,c,h,null,-1===c||2===c?l[++d]:null)}}return a}function Mi(a,l,c,d,h){let f=0,_=a.length;if(-1===l)_=-1;else for(;f<a.length;){const v=a[f++];if("number"==typeof v){if(v===l){_=-1;break}if(v>l){_=f-1;break}}}for(;f<a.length;){const v=a[f];if("number"==typeof v)break;if(v===c){if(null===d)return void(null!==h&&(a[f+1]=h));if(d===a[f+1])return void(a[f+2]=h)}f++,null!==d&&f++,null!==h&&f++}-1!==_&&(a.splice(_,0,l),f=_+1),a.splice(f++,0,c),null!==d&&a.splice(f++,0,d),null!==h&&a.splice(f++,0,h)}function Od(a){return-1!==a}function Po(a){return 32767&a}function qa(a,l){let c=function(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let zg=!0;function Nd(a){const l=zg;return zg=a,l}let Xv=0;function pa(a,l){const c=le(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Wg(d.data,a),Wg(l,null),Wg(d.blueprint,null));const h=Mt(a,l),f=a.injectorIndex;if(Od(h)){const _=Po(h),v=qa(h,l),D=v[1].data;for(let M=0;M<8;M++)l[f+M]=v[_+M]|D[_+M]}return l[f+8]=h,f}function Wg(a,l){a.push(0,0,0,0,0,0,0,0,l)}function le(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Mt(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,h=l;for(;null!==h;){const f=h[1],_=f.type;if(d=2===_?f.declTNode:1===_?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ya(a,l,c){!function(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Dn)&&(d=c[Dn]),null==d&&(d=c[Dn]=Xv++);const h=255&d;l.data[a+(h>>5)]|=1<<h}(a,l,c)}function Ue(a,l,c){if(c&rt.Optional)return a;en(l,"NodeInjector")}function Jg(a,l,c,d){if(c&rt.Optional&&void 0===d&&(d=null),0==(c&(rt.Self|rt.Host))){const h=a[9],f=Li(void 0);try{return h?h.get(l,d,c&rt.Optional):pt(l,d,c&rt.Optional)}finally{Li(f)}}return Ue(d,l,c)}function zc(a,l,c,d=rt.Default,h){if(null!==a){const f=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Dn)?a[Dn]:void 0;return"number"==typeof l?l>=0?255&l:vk:l}(c);if("function"==typeof f){if(!qg(l,a,d))return d&rt.Host?Ue(h,c,d):Jg(l,c,d,h);try{const _=f(d);if(null!=_||d&rt.Optional)return _;en(c)}finally{jv()}}else if("number"==typeof f){let _=null,v=le(a,l),D=-1,M=d&rt.Host?l[16][6]:null;for((-1===v||d&rt.SkipSelf)&&(D=-1===v?Mt(a,l):l[v+8],-1!==D&&t0(d,!1)?(_=l[1],v=Po(D),l=qa(D,l)):v=-1);-1!==v;){const S=l[1];if(af(f,v,S.data)){const I=Xi(v,l,c,_,d,M);if(I!==Ld)return I}D=l[v+8],-1!==D&&t0(d,l[1].data[v+8]===M)&&af(f,v,l)?(_=S,v=Po(D),l=qa(D,l)):v=-1}}}return Jg(l,c,d,h)}const Ld={};function vk(){return new Ir(Kn(),Se())}function Xi(a,l,c,d,h,f){const _=l[1],v=_.data[a+8],S=Bd(v,_,c,null==d?ua(v)&&zg:d!=_&&0!=(3&v.type),h&rt.Host&&f===v);return null!==S?$c(l,_,S,v):Ld}function Bd(a,l,c,d,h){const f=a.providerIndexes,_=l.data,v=1048575&f,D=a.directiveStart,S=f>>20,O=h?v+S:a.directiveEnd;for(let U=d?v:v+S;U<O;U++){const $=_[U];if(U<D&&c===$||U>=D&&$.type===c)return U}if(h){const U=_[D];if(U&&Qi(U)&&U.type===c)return D}return null}function $c(a,l,c,d){let h=a[c];const f=l.data;if(function(a){return a instanceof Za}(h)){const _=h;_.resolving&&function(a,l){throw new De("200",`Circular dependency in DI detected for ${a}`)}(Be(f[c]));const v=Nd(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?Li(_.injectImpl):null;qg(a,d,rt.Default);try{h=a[c]=_.factory(void 0,f,a,d),l.firstCreatePass&&c>=d.directiveStart&&function(a,l,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:f}=l.type.prototype;if(d){const _=Zp(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,h),f&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,f),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,f))}(c,f[c],l)}finally{null!==D&&Li(D),Nd(v),_.resolving=!1,jv()}}return h}function af(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function t0(a,l){return!(a&rt.Self||a&rt.Host&&l)}class Ir{constructor(l,c){this._tNode=l,this._lView=c}get(l,c){return zc(this._tNode,this._lView,l,void 0,c)}}function er(a){return $t(()=>{const l=a.prototype.constructor,c=l[Ut]||Rl(l),d=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==d;){const f=h[Ut]||Rl(h);if(f&&f!==c)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function Rl(a){return ae(a)?()=>{const l=Rl(q(a));return l&&l()}:La(a)}function Ol(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const f=c[h];if(jg(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(f===l)return c[h+1];h+=2}}}return null}(Kn(),a)}const ao="__parameters__",hs="__prop__metadata__";function Ds(a){return function(...c){if(a){const d=a(...c);for(const h in d)this[h]=d[h]}}}function hr(a,l,c){return $t(()=>{const d=Ds(l);function h(...f){if(this instanceof h)return d.apply(this,f),this;const _=new h(...f);return v.annotation=_,v;function v(D,M,S){const I=D.hasOwnProperty(ao)?D[ao]:Object.defineProperty(D,ao,{value:[]})[ao];for(;I.length<=S;)I.push(null);return(I[S]=I[S]||[]).push(_),D}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}function Qg(a,l,c,d){return $t(()=>{const h=Ds(l);function f(..._){if(this instanceof f)return h.apply(this,_),this;const v=new f(..._);return function(M,S){const I=M.constructor,O=I.hasOwnProperty(hs)?I[hs]:Object.defineProperty(I,hs,{value:{}})[hs];O[S]=O.hasOwnProperty(S)&&O[S]||[],O[S].unshift(v),d&&d(M,S,..._)}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class pi{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ft({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZD=new pi("AnalyzeForEntryComponents"),Fo=Function;function Us(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Us(d,l)):l!==a&&l.push(d)}return l}function Hs(a,l){a.forEach(c=>Array.isArray(c)?Hs(c,l):l(c))}function Hd(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Nl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ga(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Ts(a,l,c){let d=Qc(a,l);return d>=0?a[1|d]=c:(d=~d,function(a,l,c,d){let h=a.length;if(h==l)a.push(c,d);else if(1===h)a.push(d,a[0]),a[0]=c;else{for(h--,a.push(a[h-1],a[h]);h>l;)a[h]=a[h-2],h--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Jc(a,l){const c=Qc(a,l);if(c>=0)return a[1|c]}function Qc(a,l){return function(a,l,c){let d=0,h=a.length>>c;for(;h!==d;){const f=d+(h-d>>1),_=a[f<<c];if(l===_)return f<<c;_>l?h=f:d=f+1}return~(h<<c)}(a,l,1)}const qd={},Yd="__NG_DI_FLAG__",Xc="ngTempTokenPath",o_=/\n/gm,Gd="__source",jd=K({provide:String,useValue:K});let eu;function ja(a){const l=eu;return eu=a,l}function WD(a,l=rt.Default){if(void 0===eu)throw new Error("inject() must be called from an injection context");return null===eu?pt(a,void 0,l):eu.get(a,l&rt.Optional?null:void 0,l)}function fi(a,l=rt.Default){return(si||WD)(q(a),l)}const d0=fi;function Pl(a){const l=[];for(let c=0;c<a.length;c++){const d=q(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,f=rt.Default;for(let _=0;_<d.length;_++){const v=d[_],D=l_(v);"number"==typeof D?-1===D?h=v.token:f|=D:h=v}l.push(fi(h,f))}else l.push(fi(d))}return l}function tu(a,l){return a[Yd]=l,a.prototype[Yd]=l,a}function l_(a){return a[Yd]}function h0(a,l,c,d){const h=a[Xc];throw l[Gd]&&h.unshift(l[Gd]),a.message=function(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let h=j(l);if(Array.isArray(l))h=l.map(j).join(" -> ");else if("object"==typeof l){let f=[];for(let _ in l)if(l.hasOwnProperty(_)){let v=l[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):j(v)))}h=`{${f.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${a.replace(o_,"\n  ")}`}("\n"+a.message,h,c,d),a.ngTokenPath=h,a[Xc]=null,a}const za=tu(hr("Inject",a=>({token:a})),-1),fa=tu(hr("Optional"),8),zd=tu(hr("Self"),2),ma=tu(hr("SkipSelf"),4);let hf,ru;function iu(a){var l;return(null===(l=function(){if(void 0===hf&&(hf=null,yn.trustedTypes))try{hf=yn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return hf}())||void 0===l?void 0:l.createHTML(a))||a}function Ei(a){var l;return(null===(l=function(){if(void 0===ru&&(ru=null,yn.trustedTypes))try{ru=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return ru}())||void 0===l?void 0:l.createScriptURL(a))||a}class ps{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fl extends ps{getTypeName(){return"HTML"}}class h_ extends ps{getTypeName(){return"Style"}}class b0 extends ps{getTypeName(){return"Script"}}class y0 extends ps{getTypeName(){return"URL"}}class gt extends ps{getTypeName(){return"ResourceURL"}}function ga(a){return a instanceof ps?a.changingThisBreaksApplicationSecurity:a}function C(a,l){const c=g(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function g(a){return a instanceof ps&&a.getTypeName()||null}function y(a){return new Fl(a)}function T(a){return new h_(a)}function A(a){return new b0(a)}function R(a){return new y0(a)}function ie(a){return new gt(a)}function Ae(a){const l=new bt(a);return function(){try{return!!(new window.DOMParser).parseFromString(iu(""),"text/html")}catch(a){return!1}}()?new Ke(l):l}class Ke{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(iu(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class bt{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=iu(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=iu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let h=c.length-1;0<h;h--){const _=c.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&l.removeAttribute(_)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const on=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ai(a){return(a=String(a)).match(on)||a.match(_a)?a:"unsafe:"+a}function Pe(a){return(a=String(a)).split(",").map(l=>ai(l.trim())).join(", ")}function Ms(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Ll(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Me=Ms("area,br,col,hr,img,wbr"),Ht=Ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ff=Ms("rp,rt"),Jd=Ll(Me,Ll(Ht,Ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ll(ff,Ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ll(ff,Ht)),$a=Ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xt=Ms("srcset"),v0=Ll($a,xt,Ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rT=Ms("script,style,template");class _f{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Jd.hasOwnProperty(c))return this.sanitizedSomething=!0,!rT.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let h=0;h<d.length;h++){const f=d.item(h),_=f.name,v=_.toLowerCase();if(!v0.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let D=f.value;$a[v]&&(D=ai(D)),xt[v]&&(D=Pe(D)),this.buf.push(" ",_,'="',bf(D),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Jd.hasOwnProperty(c)&&!Me.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(bf(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Ik=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bo=/([^\#-~ |!])/g;function bf(a){return a.replace(/&/g,"&amp;").replace(Ik,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Bo,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ba;function w0(a,l){let c=null;try{ba=ba||Ae(a);let d=l?String(l):"";c=ba.getInertBodyElement(d);let h=5,f=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=f,f=c.innerHTML,c=ba.getInertBodyElement(d)}while(d!==f);return iu((new _f).sanitizeChildren(ou(c)||c))}finally{if(c){const d=ou(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ou(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function Es(a){const l=Bl();return l?l.sanitize(Si.URL,a)||"":C(a,"URL")?ga(a):ai(Ce(a))}function Mn(a){const l=Bl();if(l)return Ei(l.sanitize(Si.RESOURCE_URL,a)||"");if(C(a,"ResourceURL"))return Ei(ga(a));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Bl(){const a=Se();return a&&a[12]}const aT="__ngContext__";function Xn(a,l){a[aT]=l}function Cf(a){const l=function(a){return a[aT]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function m_(a){return a.ngOriginalError}function Bk(a,...l){a.error(...l)}class Qd{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=this._findContext(l),h=(a=l)&&a.ngErrorLogger||Bk;var a;h(this._console,"ERROR",l),c&&h(this._console,"ORIGINAL ERROR",c),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(m_(l)):null}_findOriginalError(l){let c=l&&m_(l);for(;c&&m_(c);)c=m_(c);return c||null}}const zL=/^>|^->|<!--|-->|--!>|<!-$/g,$L=/(<|>)/;const Df=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yn))();function Uo(a){return a instanceof Function?a():a}var ya=(()=>((ya=ya||{})[ya.Important=1]="Important",ya[ya.DashCase=2]="DashCase",ya))();let b_;function Kd(a,l){return b_(a,l)}function Xd(a){const l=a[3];return Gr(l)?l[3]:l}function w_(a){return mT(a[13])}function lu(a){return mT(a[4])}function mT(a){for(;null!==a&&!Gr(a);)a=a[4];return a}function Tf(a,l,c,d,h){if(null!=d){let f,_=!1;Gr(d)?f=d:ko(d)&&(_=!0,d=d[0]);const v=Vn(d);0===a&&null!==c?null==h?vT(l,c,v):Ho(l,c,v,h||null,!0):1===a&&null!==c?Ho(l,c,v,h||null,!0):2===a?TT(l,v,_):3===a&&l.destroyNode(v),null!=f&&function(a,l,c,d,h){const f=c[7];f!==Vn(c)&&Tf(l,a,d,f,h);for(let v=10;v<c.length;v++){const D=c[v];fn(D[1],D,a,l,d,f)}}(l,a,f,c,h)}}function R0(a,l){return Gn(a)?a.createText(l):a.createTextNode(l)}function Gk(a,l,c){Gn(a)?a.setValue(l,c):l.textContent=c}function jk(a,l){return a.createComment(function(a){return a.replace(zL,l=>l.replace($L,"\u200b$1\u200b"))}(l))}function Vl(a,l,c){return Gn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function _T(a,l){const c=a[9],d=c.indexOf(l),h=l[3];1024&l[2]&&(l[2]&=-1025,Hc(h,-1)),c.splice(d,1)}function O0(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const h=d[17];null!==h&&h!==a&&_T(h,d),l>0&&(a[c-1][4]=d[4]);const f=Nl(a,10+l);!function(a,l){fn(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const _=f[19];null!==_&&_.detachView(f[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function bT(a,l){if(!(256&l[2])){const c=l[11];Gn(c)&&c.destroyNode&&fn(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return N0(a[1],a);for(;l;){let c=null;if(ko(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ko(l)&&N0(l[1],l),l=l[3];null===l&&(l=a),ko(l)&&N0(l[1],l),c=l&&l[4]}l=c}}(l)}}function N0(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const h=l[c[d]];if(!(h instanceof Za)){const f=c[d+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=h[f[_]],D=f[_+1];try{D.call(v)}finally{}}else try{f.call(h)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,d=l[7];let h=-1;if(null!==c)for(let f=0;f<c.length-1;f+=2)if("string"==typeof c[f]){const _=c[f+1],v="function"==typeof _?_(l):Vn(l[_]),D=d[h=c[f+2]],M=c[f+3];"boolean"==typeof M?v.removeEventListener(c[f],D,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),f+=2}else{const _=d[h=c[f+1]];c[f].call(_)}if(null!==d){for(let f=h+1;f<d.length;f++)d[f]();l[7]=null}}(a,l),1===l[1].type&&Gn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Gr(l[3])){c!==l[3]&&_T(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function Qk(a,l,c){return C_(a,l.parent,c)}function C_(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const h=a.data[d.directiveStart].encapsulation;if(h===He.None||h===He.Emulated)return null}return jr(d,c)}function Ho(a,l,c,d,h){Gn(a)?a.insertBefore(l,c,d,h):l.insertBefore(c,d,h)}function vT(a,l,c){Gn(a)?a.appendChild(l,c):l.appendChild(c)}function wT(a,l,c,d,h){null!==d?Ho(a,l,c,d,h):vT(a,l,c)}function eh(a,l){return Gn(a)?a.parentNode(l):l.parentNode}function Mf(a,l,c){return Ef(a,l,c)}function CT(a,l,c){return 40&a.type?jr(a,c):null}let th,Ef=CT;function DT(a,l){Ef=a,th=l}function Ul(a,l,c,d){const h=Qk(a,d,l),f=l[11],v=Mf(d.parent||l[6],d,l);if(null!=h)if(Array.isArray(c))for(let D=0;D<c.length;D++)wT(f,h,c[D],v,!1);else wT(f,h,c,v,!1);void 0!==th&&th(f,d,l,c,h)}function Yt(a,l){if(null!==l){const c=l.type;if(3&c)return jr(l,a);if(4&c)return P0(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Yt(a,d);{const h=a[l.index];return Gr(h)?P0(-1,h):Vn(h)}}if(32&c)return Kd(l,a)()||Vn(a[l.index]);{const d=Sf(a,l);return null!==d?Array.isArray(d)?d[0]:Yt(Xd(a[16]),d):Yt(a,l.next)}}return null}function Sf(a,l){return null!==l?a[16][6].projection[l.projection]:null}function P0(a,l){const c=10+a+1;if(c<l.length){const d=l[c],h=d[1].firstChild;if(null!==h)return Yt(d,h)}return l[7]}function TT(a,l,c){const d=eh(a,l);d&&function(a,l,c,d){Gn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}function On(a,l,c,d,h,f,_){for(;null!=c;){const v=d[c.index],D=c.type;if(_&&0===l&&(v&&Xn(Vn(v),d),c.flags|=4),64!=(64&c.flags))if(8&D)On(a,l,c.child,d,h,f,!1),Tf(l,a,h,v,f);else if(32&D){const M=Kd(c,d);let S;for(;S=M();)Tf(l,a,h,S,f);Tf(l,a,h,v,f)}else 16&D?MT(a,l,d,c,h,f):Tf(l,a,h,v,f);c=_?c.projectionNext:c.next}}function fn(a,l,c,d,h,f){On(c,d,a.firstChild,l,h,f,!1)}function MT(a,l,c,d,h,f){const _=c[16],D=_[6].projection[d.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Tf(l,a,h,D[M],f);else On(a,l,D,_[3],h,f,!0)}function ET(a,l,c){Gn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function F0(a,l,c){Gn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function ST(a,l,c){let d=a.length;for(;;){const h=a.indexOf(l,c);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const f=l.length;if(h+f===d||a.charCodeAt(h+f)<=32)return h}c=h+1}}const xT="ng-template";function AT(a,l,c){let d=0;for(;d<a.length;){let h=a[d++];if(c&&"class"===h){if(h=a[d],-1!==ST(h.toLowerCase(),l,0))return!0}else if(1===h){for(;d<a.length&&"string"==typeof(h=a[d++]);)if(h.toLowerCase()===l)return!0;return!1}}return!1}function kT(a){return 4===a.type&&a.value!==xT}function mn(a,l,c){return l===(4!==a.type||c?a.value:xT)}function eB(a,l,c){let d=4;const h=a.attrs||[],f=function(a){for(let l=0;l<a.length;l++)if(jg(a[l]))return l;return a.length}(h);let _=!1;for(let v=0;v<l.length;v++){const D=l[v];if("number"!=typeof D){if(!_)if(4&d){if(d=2|1&d,""!==D&&!mn(a,D,c)||""===D&&1===l.length){if(Wr(d))return!1;_=!0}}else{const M=8&d?D:l[++v];if(8&d&&null!==a.attrs){if(!AT(a.attrs,M,c)){if(Wr(d))return!1;_=!0}continue}const I=tI(8&d?"class":D,h,kT(a),c);if(-1===I){if(Wr(d))return!1;_=!0;continue}if(""!==M){let O;O=I>f?"":h[I+1].toLowerCase();const U=8&d?O:null;if(U&&-1!==ST(U,M,0)||2&d&&M!==O){if(Wr(d))return!1;_=!0}}}}else{if(!_&&!Wr(d)&&!Wr(D))return!1;if(_&&Wr(D))continue;_=!1,d=D|1&d}}return Wr(d)||_}function Wr(a){return 0==(1&a)}function tI(a,l,c,d){if(null===l)return-1;let h=0;if(d||!c){let f=!1;for(;h<l.length;){const _=l[h];if(_===a)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=l[++h];for(;"string"==typeof v;)v=l[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function nh(a,l,c=!1){for(let d=0;d<l.length;d++)if(eB(a,l[d],c))return!0;return!1}function Af(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let h=0;h<a.length;h++)if(a[h]!==d[h])continue e;return!0}}return!1}function iI(a,l){return a?":not("+l.trim()+")":l}function T_(a){let l=a[0],c=1,d=2,h="",f=!1;for(;c<a.length;){let _=a[c];if("string"==typeof _)if(2&d){const v=a[++c];h+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!Wr(_)&&(l+=iI(f,h),h=""),d=_,f=f||!Wr(d);c++}return""!==h&&(l+=iI(f,h)),l}const Rt={};function B0(a){RT(Kt(),Se(),kr()+a,Ed())}function RT(a,l,c,d){if(!d)if(3==(3&l[2])){const f=a.preOrderCheckHooks;null!==f&&Il(l,f,c)}else{const f=a.preOrderHooks;null!==f&&kd(l,f,0,c)}kl(c)}function M_(a,l){return a<<17|l<<2}function va(a){return a>>17&32767}function Hl(a){return 2|a}function Qa(a){return(131068&a)>>2}function _r(a,l){return-131069&a|l<<2}function V0(a){return 1|a}function BT(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],f=c[d+1];if(-1!==f){const _=a.data[f];Al(h),_.contentQueries(2,l[f],f)}}}function sh(a,l,c,d,h,f,_,v,D,M){const S=l.blueprint.slice();return S[0]=h,S[2]=140|d,Uc(S),S[3]=S[15]=a,S[8]=c,S[10]=_||a&&a[10],S[11]=v||a&&a[11],S[12]=D||a&&a[12]||null,S[9]=M||a&&a[9]||null,S[6]=f,S[16]=2==l.type?a[16]:S,S}function hu(a,l,c,d,h){let f=a.data[l];if(null===f)f=N_(a,l,c,d,h),_t.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=c,f.value=d,f.attrs=h;const _=Ua();f.injectorIndex=null===_?-1:_.injectorIndex}return Cs(f,!0),f}function N_(a,l,c,d,h){const f=qc(),_=Sl(),D=a.data[l]=function(a,l,c,d,h,f){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,c,l,d,h);return null===a.firstChild&&(a.firstChild=D),null!==f&&(_?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}function oh(a,l,c,d){if(0===c)return-1;const h=l.length;for(let f=0;f<c;f++)l.push(d),a.blueprint.push(d),a.data.push(null);return h}function ql(a,l,c){Oo(l);try{const d=a.viewQuery;null!==d&&X0(1,d,c);const h=a.template;null!==h&&P_(a,l,h,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&BT(a,l),a.staticViewQueries&&X0(2,a.viewQuery,c);const f=a.components;null!==f&&function(a,l){for(let c=0;c<l.length;c++)Xa(a,l[c])}(l,f)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Gc()}}function pu(a,l,c,d){const h=l[2];if(256==(256&h))return;Oo(l);const f=Ed();try{Uc(l),function(a){_t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&P_(a,l,c,2,d);const _=3==(3&h);if(!f)if(_){const M=a.preOrderCheckHooks;null!==M&&Il(l,M,null)}else{const M=a.preOrderHooks;null!==M&&kd(l,M,0,null),tf(l,0)}if(function(a){for(let l=w_(a);null!==l;l=lu(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const h=c[d],f=h[3];0==(1024&h[2])&&Hc(f,1),h[2]|=1024}}}(l),function(a){for(let l=w_(a);null!==l;l=lu(l))for(let c=10;c<l.length;c++){const d=l[c],h=d[1];Dd(d)&&pu(h,d,h.template,d[8])}}(l),null!==a.contentQueries&&BT(a,l),!f)if(_){const M=a.contentCheckHooks;null!==M&&Il(l,M)}else{const M=a.contentHooks;null!==M&&kd(l,M,1),tf(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)kl(~h);else{const f=h,_=c[++d],v=c[++d];Sd(_,f),v(2,l[f])}}}finally{kl(-1)}}(a,l);const v=a.components;null!==v&&function(a,l){for(let c=0;c<l.length;c++)MI(a,l[c])}(l,v);const D=a.viewQuery;if(null!==D&&X0(2,D,d),!f)if(_){const M=a.viewCheckHooks;null!==M&&Il(l,M)}else{const M=a.viewHooks;null!==M&&kd(l,M,2),tf(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),f||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Hc(l[3],-1))}finally{Gc()}}function gI(a,l,c,d){const h=l[10],f=!Ed(),_=Vv(l);try{f&&!_&&h.begin&&h.begin(),_&&ql(a,l,d),pu(a,l,c,d)}finally{f&&!_&&h.end&&h.end()}}function P_(a,l,c,d,h){const f=kr(),_=2&d;try{kl(-1),_&&l.length>20&&RT(a,l,20,Ed()),c(d,h)}finally{kl(f)}}function F_(a,l,c){if(Up(l)){const h=l.directiveEnd;for(let f=l.directiveStart;f<h;f++){const _=a.data[f];_.contentQueries&&_.contentQueries(1,c[f],f)}}}function If(a,l,c){!Zv()||(function(a,l,c,d){const h=c.directiveStart,f=c.directiveEnd;a.firstCreatePass||pa(c,l),Xn(d,l);const _=c.initialInputs;for(let v=h;v<f;v++){const D=a.data[v],M=Qi(D);M&&pB(l,c,D);const S=$c(l,a,v,c);Xn(S,l),null!==_&&Ka(0,v-h,S,D,0,_),M&&(Ar(c.index,l)[8]=S)}}(a,l,c,jr(c,l)),128==(128&c.flags)&&function(a,l,c){const d=c.directiveStart,h=c.directiveEnd,_=c.index,v=_t.lFrame.currentDirectiveIndex;try{kl(_);for(let D=d;D<h;D++){const M=a.data[D],S=l[D];Yc(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&uo(M,S)}}finally{kl(-1),Yc(v)}}(a,l,c))}function UT(a,l,c=jr){const d=l.localNames;if(null!==d){let h=l.index+1;for(let f=0;f<d.length;f+=2){const _=d[f+1],v=-1===_?c(l,a):a[_];a[h++]=v}}}function z0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=$0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function $0(a,l,c,d,h,f,_,v,D,M){const S=20+d,I=S+h,O=function(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Rt);return c}(S,I),U="function"==typeof M?M():M;return O[1]={type:a,blueprint:O,template:c,queries:null,viewQuery:v,declTNode:l,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:U,incompleteFirstPass:!1}}function L_(a,l,c,d){const h=KT(l);null===c?h.push(d):(h.push(c),a.firstCreatePass&&fu(a).push(d,h.length-1))}function J0(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const h=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,h):c[d]=[l,h]}return c}function co(a,l,c,d,h,f,_,v){const D=jr(l,c);let S,M=l.inputs;!v&&null!=M&&(S=M[d])?(XT(a,c,S,d,h),ua(l)&&function(a,l){const c=Ar(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),h=null!=_?_(h,l.value||"",d):h,Gn(f)?f.setProperty(D,d,h):zr(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function ZT(a,l,c,d){let h=!1;if(Zv()){const f=function(a,l,c){const d=a.directiveRegistry;let h=null;if(d)for(let f=0;f<d.length;f++){const _=d[f];nh(c,_.selectors,!1)&&(h||(h=[]),Ya(pa(c,l),a,_.type),Qi(_)?(lh(a,c),h.unshift(_)):h.push(_))}return h}(a,l,c),_=null===d?null:{"":-1};if(null!==f){h=!0,TI(c,a.data.length,f.length);for(let S=0;S<f.length;S++){const I=f[S];I.providersResolver&&I.providersResolver(I)}let v=!1,D=!1,M=oh(a,l,f.length,null);for(let S=0;S<f.length;S++){const I=f[S];c.mergedAttrs=Rd(c.mergedAttrs,I.hostAttrs),B_(a,c,l,M,I),qT(M,I,_),null!==I.contentQueries&&(c.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(c.flags|=128);const O=I.type.prototype;!v&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),v=!0),!D&&(O.ngOnChanges||O.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),D=!0),M++}!function(a,l){const d=l.directiveEnd,h=a.data,f=l.attrs,_=[];let v=null,D=null;for(let M=l.directiveStart;M<d;M++){const S=h[M],I=S.inputs,O=null===f||kT(l)?null:fB(I,f);_.push(O),v=J0(I,M,v),D=J0(S.outputs,M,D)}null!==v&&(v.hasOwnProperty("class")&&(l.flags|=16),v.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=_,l.inputs=v,l.outputs=D}(a,c)}_&&function(a,l,c){if(l){const d=a.localNames=[];for(let h=0;h<l.length;h+=2){const f=c[l[h+1]];if(null==f)throw new De("301",`Export of name '${l[h+1]}' not found!`);d.push(l[h],f)}}}(c,d,_)}return c.mergedAttrs=Rd(c.mergedAttrs,c.attrs),h}function CI(a,l,c,d,h,f){const _=f.hostBindings;if(_){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const D=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=D&&v.push(D),v.push(d,h,_)}}function uo(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function lh(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function qT(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Qi(l)&&(c[""]=a)}}function TI(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function B_(a,l,c,d,h){a.data[d]=h;const f=h.factory||(h.factory=La(h.type)),_=new Za(f,Qi(h),null);a.blueprint[d]=_,c[d]=_,CI(a,l,0,d,oh(a,c,h.hostVars,Rt),h)}function pB(a,l,c){const d=jr(l,a),h=z0(c),f=a[10],_=ch(a,sh(a,h,null,c.onPush?64:16,d,l,f,f.createRenderer(d,c),null,null));a[l.index]=_}function YT(a,l,c,d,h,f,_){if(null==f)Gn(a)?a.removeAttribute(l,h,c):l.removeAttribute(h);else{const v=null==_?Ce(f):_(f,d||"",h);Gn(a)?a.setAttribute(l,h,v,c):c?l.setAttributeNS(c,h,v):l.setAttribute(h,v)}}function Ka(a,l,c,d,h,f){const _=f[l];if(null!==_){const v=d.setInput;for(let D=0;D<_.length;){const M=_[D++],S=_[D++],I=_[D++];null!==v?d.setInput(c,I,M,S):c[S]=I}}}function fB(a,l){let c=null,d=0;for(;d<l.length;){const h=l[d];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,a[h],l[d+1])),d+=2}else d+=2;else d+=4}return c}function GT(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function MI(a,l){const c=Ar(l,a);if(Dd(c)){const d=c[1];80&c[2]?pu(d,c,d.template,c[8]):c[5]>0&&$T(c)}}function $T(a){for(let d=w_(a);null!==d;d=lu(d))for(let h=10;h<d.length;h++){const f=d[h];if(1024&f[2]){const _=f[1];pu(_,f,_.template,f[8])}else f[5]>0&&$T(f)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Ar(c[d],a);Dd(h)&&h[5]>0&&$T(h)}}function Xa(a,l){const c=Ar(l,a),d=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),ql(d,c,c[8])}function ch(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Yl(a){for(;a;){a[2]|=64;const l=Xd(a);if(as(a)&&!l)return a;a=l}return null}function V_(a,l,c){const d=l[10];d.begin&&d.begin();try{pu(a,l,a.template,c)}catch(h){throw Rf(l,h),h}finally{d.end&&d.end()}}function JT(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Cf(c),h=d[1];gI(h,d,h.template,c)}}(a[8])}function X0(a,l,c){Al(0),l(a,c)}const uh=(()=>Promise.resolve(null))();function KT(a){return a[7]||(a[7]=[])}function fu(a){return a.cleanup||(a.cleanup=[])}function mu(a,l,c){return(null===a||Qi(a))&&(c=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Rf(a,l){const c=a[9],d=c?c.get(Qd,null):null;d&&d.handleError(l)}function XT(a,l,c,d,h){for(let f=0;f<c.length;){const _=c[f++],v=c[f++],D=l[_],M=a.data[_];null!==M.setInput?M.setInput(D,h,d,v):D[v]=h}}function el(a,l,c){const d=Ba(l,a);Gk(a[11],d,c)}function ho(a,l,c){let d=c?a.styles:null,h=c?a.classes:null,f=0;if(null!==l)for(let _=0;_<l.length;_++){const v=l[_];"number"==typeof v?f=v:1==f?h=J(h,v):2==f&&(d=J(d,v+": "+l[++_]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=h:a.classesWithoutHost=h}const Gl=new pi("INJECTOR",-1);class nw{get(l,c=qd){if(c===qd){const d=new Error(`NullInjectorError: No provider for ${j(l)}!`);throw d.name="NullInjectorError",d}return c}}const gu=new pi("Set Injector scope."),dh={},gB={};let Of;function eM(){return void 0===Of&&(Of=new nw),Of}function hh(a,l=null,c=null,d){return new II(a,c,l||eM(),d)}class II{constructor(l,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];c&&Hs(c,v=>this.processProvider(v,l,c)),Hs([l],v=>this.processInjectorType(v,[],f)),this.records.set(Gl,jl(void 0,this));const _=this.records.get(gu);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof l?null:j(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=qd,d=rt.Default){this.assertNotDestroyed();const h=ja(this),f=Li(void 0);try{if(!(d&rt.SkipSelf)){let v=this.records.get(l);if(void 0===v){const D=("function"==typeof(a=l)||"object"==typeof a&&a instanceof pi)&&ur(l);v=D&&this.injectableDefInScope(D)?jl(iw(l),dh):null,this.records.set(l,v)}if(null!=v)return this.hydrate(l,v)}return(d&rt.Self?eM():this.parent).get(l,c=d&rt.Optional&&c===qd?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[Xc]=_[Xc]||[]).unshift(j(l)),h)throw _;return h0(_,l,"R3InjectorError",this.source)}throw _}finally{Li(f),ja(h)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,h)=>l.push(j(h))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=q(l)))return!1;let h=io(l);const f=null==h&&l.ngModule||void 0,_=void 0===f?l:f,v=-1!==d.indexOf(_);if(void 0!==f&&(h=io(f)),null==h)return!1;if(null!=h.imports&&!v){let S;d.push(_);try{Hs(h.imports,I=>{this.processInjectorType(I,c,d)&&(void 0===S&&(S=[]),S.push(I))})}finally{}if(void 0!==S)for(let I=0;I<S.length;I++){const{ngModule:O,providers:U}=S[I];Hs(U,$=>this.processProvider($,O,U||H))}}this.injectorDefTypes.add(_);const D=La(_)||(()=>new _);this.records.set(_,jl(D,dh));const M=h.providers;if(null!=M&&!v){const S=l;Hs(M,I=>this.processProvider(I,S,M))}return void 0!==f&&void 0!==l.providers}processProvider(l,c,d){let h=_u(l=q(l))?l:q(l&&l.provide);const f=H_(a=l)?jl(void 0,a.useValue):jl(Ca(a),dh);var a;if(_u(l)||!0!==l.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=jl(void 0,dh,!0),_.factory=()=>Pl(_.multi),this.records.set(h,_)),h=l,_.multi.push(l)}this.records.set(h,f)}hydrate(l,c){return c.value===dh&&(c.value=gB,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=q(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function iw(a){const l=ur(a),c=null!==l?l.factory:La(a);if(null!==c)return c;if(a instanceof pi)throw new Error(`Token ${j(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const d=Ga(l,"?");throw new Error(`Can't resolve all parameters for ${j(a)}: (${d.join(", ")}).`)}const c=function(a){const l=a&&(a[vs]||a[So]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function Ca(a,l,c){let d;if(_u(a)){const h=q(a);return La(h)||iw(h)}if(H_(a))d=()=>q(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Pl(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>fi(q(a.useExisting));else{const h=q(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return La(h)||iw(h);d=()=>new h(...Pl(a.deps))}return d}function jl(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function H_(a){return null!==a&&"object"==typeof a&&jd in a}function _u(a){return"function"==typeof a}const OI=function(a,l,c){return function(a,l=null,c=null,d){const h=hh(a,l,c,d);return h._resolveInjectorDefTypes(),h}({name:c},l,a,c)};class Nn{static create(l,c){return Array.isArray(l)?OI(l,c,""):OI(l.providers,l.parent,l.name||"")}}function cM(a,l){Ad(Cf(a)[1],Kn())}function uw(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let h;if(Qi(a))h=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");h=l.\u0275dir}if(h){if(c){d.push(h);const _=a;_.inputs=zl(a.inputs),_.declaredInputs=zl(a.declaredInputs),_.outputs=zl(a.outputs);const v=h.hostBindings;v&&YI(a,v);const D=h.viewQuery,M=h.contentQueries;if(D&&qI(a,D),M&&AB(a,M),Z(a.inputs,h.inputs),Z(a.declaredInputs,h.declaredInputs),Z(a.outputs,h.outputs),Qi(h)&&h.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(a),v===uw&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const h=a[d];h.hostVars=l+=h.hostVars,h.hostAttrs=Rd(h.hostAttrs,c=Rd(c,h.hostAttrs))}}(d)}function zl(a){return a===G?{}:a===H?[]:a}function qI(a,l){const c=a.viewQuery;a.viewQuery=c?(d,h)=>{l(d,h),c(d,h)}:l}function AB(a,l){const c=a.contentQueries;a.contentQueries=c?(d,h,f)=>{l(d,h,f),c(d,h,f)}:l}function YI(a,l){const c=a.hostBindings;a.hostBindings=c?(d,h)=>{l(d,h),c(d,h)}:l}Nn.THROW_IF_NOT_FOUND=qd,Nn.NULL=new nw,Nn.\u0275prov=ft({token:Nn,providedIn:"any",factory:()=>fi(Gl)}),Nn.__NG_ELEMENT_ID__=-1;let z_=null;function gh(){if(!z_){const a=yn.Symbol;if(a&&a.iterator)z_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(z_=d)}}}return z_}class po{constructor(l){this.wrapped=l}static wrap(l){return new po(l)}static unwrap(l){return po.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof po}}function il(a){return!!dw(a)&&(Array.isArray(a)||!(a instanceof Map)&&gh()in a)}function dw(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function fo(a,l,c){return a[l]=c}function Rr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function $l(a,l,c,d){const h=Rr(a,l,c);return Rr(a,l+1,d)||h}function hw(a,l,c,d){const h=Se();return Rr(h,Bs(),l)&&(Kt(),function(a,l,c,d,h,f){const _=jr(a,l);YT(l[11],_,f,a.value,c,d,h)}(Ti(),h,a,l,c,d)),hw}function bh(a,l,c,d){return Rr(a,Bs(),c)?l+Ce(c)+d:Rt}function bu(a,l,c,d,h,f,_,v,D,M){const I=function(a,l,c,d,h,f){const _=$l(a,l,c,d);return $l(a,l+2,h,f)||_}(a,us(),c,h,_,D);return Vs(4),I?l+Ce(c)+d+Ce(h)+f+Ce(_)+v+Ce(D)+M:Rt}function gM(a,l,c,d,h,f,_,v){const D=Se(),M=Kt(),S=a+20,I=M.firstCreatePass?function(a,l,c,d,h,f,_,v,D){const M=l.consts,S=hu(l,a,4,_||null,Ro(M,v));ZT(l,c,S,Ro(M,D)),Ad(l,S);const I=S.tViews=$0(2,S,d,h,f,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,S),I.queries=l.queries.embeddedTView(S)),S}(S,M,D,l,c,d,h,f,_):M.data[S];Cs(I,!1);const O=D[11].createComment("");Ul(M,D,O,I),Xn(O,D),ch(D,D[S]=GT(O,D,O,I)),Di(I)&&If(M,D,I),null!=_&&UT(D,I,v)}function _M(a){return Va(_t.lFrame.contextLView,20+a)}function K_(a,l=rt.Default){const c=Se();return null===c?fi(a,l):zc(Kn(),c,q(a),l)}function Dh(a,l,c){const d=Se();return Rr(d,Bs(),l)&&co(Kt(),Ti(),d,a,l,d[11],c,!1),Dh}function vu(a,l,c,d,h){const _=h?"class":"style";XT(a,c,l.inputs[_],_,d)}function Th(a,l,c,d){const h=Se(),f=Kt(),_=20+a,v=h[11],D=h[_]=Vl(v,l,_t.lFrame.currentNamespace),M=f.firstCreatePass?function(a,l,c,d,h,f,_){const v=l.consts,M=hu(l,a,2,h,Ro(v,f));return ZT(l,c,M,Ro(v,_)),null!==M.attrs&&ho(M,M.attrs,!1),null!==M.mergedAttrs&&ho(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(_,f,h,0,l,c,d):f.data[_];Cs(M,!0);const S=M.mergedAttrs;null!==S&&sf(v,D,S);const I=M.classes;null!==I&&F0(v,D,I);const O=M.styles;null!==O&&ET(v,D,O),64!=(64&M.flags)&&Ul(f,h,D,M),0===_t.lFrame.elementDepthCount&&Xn(D,h),_t.lFrame.elementDepthCount++,Di(M)&&(If(f,h,M),F_(f,M,h)),null!==d&&UT(h,M)}function Dw(){let a=Kn();Sl()?Md():(a=a.parent,Cs(a,!1));const l=a;_t.lFrame.elementDepthCount--;const c=Kt();c.firstCreatePass&&(Ad(c,a),Up(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&vu(c,l,Se(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&vu(c,l,Se(),l.stylesWithoutHost,!1)}function eb(a,l,c,d){Th(a,l,c,d),Dw()}function Mw(a,l,c){const d=Se(),h=Kt(),f=a+20,_=h.firstCreatePass?function(a,l,c,d,h){const f=l.consts,_=Ro(f,d),v=hu(l,a,8,"ng-container",_);return null!==_&&ho(v,_,!0),ZT(l,c,v,Ro(f,h)),null!==l.queries&&l.queries.elementStart(l,v),v}(f,h,d,l,c):h.data[f];Cs(_,!0);const v=d[f]=d[11].createComment("");Ul(h,d,v,_),Xn(v,d),Di(_)&&(If(h,d,_),F_(h,_,d)),null!=c&&UT(d,_)}function tb(){let a=Kn();const l=Kt();Sl()?Md():(a=a.parent,Cs(a,!1)),l.firstCreatePass&&(Ad(l,a),Up(a)&&l.queries.elementEnd(a))}function kM(a,l,c){Mw(a,l,c),tb()}function Ew(){return Se()}function Sw(a){return!!a&&"function"==typeof a.then}function aR(a){return!!a&&"function"==typeof a.subscribe}const xw=aR;function Uf(a,l,c,d){const h=Se(),f=Kt(),_=Kn();return nb(f,h,h[11],_,a,l,!!c,d),Uf}function Aw(a,l){const c=Kn(),d=Se(),h=Kt();return nb(h,d,mu(Kp(h.data),c,d),c,a,l,!1),Aw}function nb(a,l,c,d,h,f,_,v){const D=Di(d),S=a.firstCreatePass&&fu(a),I=l[8],O=KT(l);let U=!0;if(3&d.type||v){const te=jr(d,l),Oe=v?v(te):te,we=O.length,ct=v?Tt=>v(Vn(Tt[d.index])):d.index;if(Gn(c)){let Tt=null;if(!v&&D&&(Tt=function(a,l,c,d){const h=a.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===c&&h[f+1]===d){const v=l[7],D=h[f+2];return v.length>D?v[D]:null}"string"==typeof _&&(f+=2)}return null}(a,l,h,d.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=f,Tt.__ngLastListenerFn__=f,U=!1;else{f=RM(d,l,I,f,!1);const Xt=c.listen(Oe,h,f);O.push(f,Xt),S&&S.push(h,ct,we,we+1)}}else f=RM(d,l,I,f,!0),Oe.addEventListener(h,f,_),O.push(f),S&&S.push(h,ct,we,_)}else f=RM(d,l,I,f,!1);const $=d.outputs;let ue;if(U&&null!==$&&(ue=$[h])){const te=ue.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const In=l[ue[Oe]][ue[Oe+1]].subscribe(f),Do=O.length;O.push(f,In),S&&S.push(h,d.index,Do,-(Do+1))}}}function Hf(a,l,c,d){try{return!1!==c(d)}catch(h){return Rf(a,h),!1}}function RM(a,l,c,d,h){return function f(_){if(_===Function)return d;const v=2&a.flags?Ar(a.index,l):l;0==(32&l[2])&&Yl(v);let D=Hf(l,0,d,_),M=f.__ngNextListenerFn__;for(;M;)D=Hf(l,0,M,_)&&D,M=M.__ngNextListenerFn__;return h&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function Mh(a=1){return function(a){return(_t.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,_t.lFrame.contextLView))[8]}(a)}function ib(a,l){let c=null;const d=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let h=0;h<l.length;h++){const f=l[h];if("*"!==f){if(null===d?nh(a,f,!0):Af(d,f))return h}else c=h}return c}function wu(a){const l=Se()[16][6];if(!l.projection){const d=l.projection=Ga(a?a.length:1,null),h=d.slice();let f=l.child;for(;null!==f;){const _=a?ib(f,a):0;null!==_&&(h[_]?h[_].projectionNext=f:d[_]=f,h[_]=f),f=f.next}}}function Eh(a,l=0,c){const d=Se(),h=Kt(),f=hu(h,20+a,16,null,c||null);null===f.projection&&(f.projection=l),Md(),64!=(64&f.flags)&&function(a,l,c){MT(l[11],0,l,c,Qk(a,c,l),Mf(c.parent||l[6],c,l))}(h,d,f)}function kw(a,l,c){return Sh(a,"",l,"",c),kw}function Sh(a,l,c,d,h){const f=Se(),_=bh(f,l,c,d);return _!==Rt&&co(Kt(),Ti(),f,a,_,f[11],h,!1),Sh}function Ys(a,l,c,d,h){const f=a[c+1],_=null===l;let v=d?va(f):Qa(f),D=!1;for(;0!==v&&(!1===D||_);){const S=a[v+1];OM(a[v],l)&&(D=!0,a[v+1]=d?V0(S):Hl(S)),v=d?va(S):Qa(S)}D&&(a[c+1]=d?Hl(f):V0(f))}function OM(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Qc(a,l)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lR(a){return a.substring(yr.key,yr.keyEnd)}function NM(a,l){const c=yr.textEnd;return c===l?-1:(l=yr.keyEnd=function(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,yr.key=l,c),Du(a,l,c))}function Du(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function lb(a,l,c){return Go(a,l,c,!1),lb}function Nw(a,l){return Go(a,l,null,!0),Nw}function Pw(a){bo(Ts,_o,a,!0)}function _o(a,l){for(let c=function(a){return function(a){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=a.length}(a),NM(a,Du(a,0,yr.textEnd))}(l);c>=0;c=NM(l,c))Ts(a,lR(l),!0)}function Go(a,l,c,d){const h=Se(),f=Kt(),_=Vs(2);f.firstUpdatePass&&ui(f,a,_,d),l!==Rt&&Rr(h,_,l)&&qM(f,f.data[kr()],h,h[11],a,h[_+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=j(ga(a)))),a}(l,c),d,_)}function bo(a,l,c,d){const h=Kt(),f=Vs(2);h.firstUpdatePass&&ui(h,null,f,d);const _=Se();if(c!==Rt&&Rr(_,f,c)){const v=h.data[kr()];if(Bw(v,d)&&!UM(h,f)){let D=d?v.classesWithoutHost:v.stylesWithoutHost;null!==D&&(c=J(D,c||"")),vu(h,v,_,c,d)}else!function(a,l,c,d,h,f,_,v){h===Rt&&(h=H);let D=0,M=0,S=0<h.length?h[0]:null,I=0<f.length?f[0]:null;for(;null!==S||null!==I;){const O=D<h.length?h[D+1]:void 0,U=M<f.length?f[M+1]:void 0;let ue,$=null;S===I?(D+=2,M+=2,O!==U&&($=I,ue=U)):null===I||null!==S&&S<I?(D+=2,$=S):(M+=2,$=I,ue=U),null!==$&&qM(a,l,c,d,$,ue,_,v),S=D<h.length?h[D]:null,I=M<f.length?f[M]:null}}(h,v,_,_[11],_[f+1],_[f+1]=function(a,l,c){if(null==c||""===c)return H;const d=[],h=ga(c);if(Array.isArray(h))for(let f=0;f<h.length;f++)a(d,h[f],!0);else if("object"==typeof h)for(const f in h)h.hasOwnProperty(f)&&a(d,f,h[f]);else"string"==typeof h&&l(d,h);return d}(a,l,c),d,f)}}function UM(a,l){return l>=a.expandoStartIndex}function ui(a,l,c,d){const h=a.data;if(null===h[c+1]){const f=h[kr()],_=UM(a,c);Bw(f,d)&&null===l&&!_&&(l=!1),l=function(a,l,c,d){const h=Kp(a);let f=d?l.residualClasses:l.residualStyles;if(null===h)0===(d?l.classBindings:l.styleBindings)&&(c=qf(c=cb(null,a,l,c,d),l.attrs,d),f=null);else{const _=l.directiveStylingLast;if(-1===_||a[_]!==h)if(c=cb(h,a,l,c,d),null===f){let D=function(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Qa(d))return a[va(d)]}(a,l,d);void 0!==D&&Array.isArray(D)&&(D=cb(null,a,l,D[1],d),D=qf(D,l.attrs,d),function(a,l,c,d){a[va(c?l.classBindings:l.styleBindings)]=d}(a,l,d,D))}else f=function(a,l,c){let d;const h=l.directiveEnd;for(let f=1+l.directiveStylingLast;f<h;f++)d=qf(d,a[f].hostAttrs,c);return qf(d,l.attrs,c)}(a,l,d)}return void 0!==f&&(d?l.residualClasses=f:l.residualStyles=f),c}(h,f,l,d),function(a,l,c,d,h,f){let _=f?l.classBindings:l.styleBindings,v=va(_),D=Qa(_);a[d]=c;let S,M=!1;if(Array.isArray(c)){const I=c;S=I[1],(null===S||Qc(I,S)>0)&&(M=!0)}else S=c;if(h)if(0!==D){const O=va(a[v+1]);a[d+1]=M_(O,v),0!==O&&(a[O+1]=_r(a[O+1],d)),a[v+1]=function(a,l){return 131071&a|l<<17}(a[v+1],d)}else a[d+1]=M_(v,0),0!==v&&(a[v+1]=_r(a[v+1],d)),v=d;else a[d+1]=M_(D,0),0===v?v=d:a[D+1]=_r(a[D+1],d),D=d;M&&(a[d+1]=Hl(a[d+1])),Ys(a,S,d,!0),Ys(a,S,d,!1),function(a,l,c,d,h){const f=h?a.residualClasses:a.residualStyles;null!=f&&"string"==typeof l&&Qc(f,l)>=0&&(c[d+1]=V0(c[d+1]))}(l,S,a,d,f),_=M_(v,D),f?l.classBindings=_:l.styleBindings=_}(h,f,l,c,_,d)}}function cb(a,l,c,d,h){let f=null;const _=c.directiveEnd;let v=c.directiveStylingLast;for(-1===v?v=c.directiveStart:v++;v<_&&(f=l[v],d=qf(d,f.hostAttrs,h),f!==a);)v++;return null!==a&&(c.directiveStylingLast=v),d}function qf(a,l,c){const d=c?1:2;let h=-1;if(null!==l)for(let f=0;f<l.length;f++){const _=l[f];"number"==typeof _?h=_:h===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ts(a,_,!!c||l[++f]))}return void 0===a?null:a}function qM(a,l,c,d,h,f,_,v){if(!(3&l.type))return;const D=a.data,M=D[v+1];Yf(function(a){return 1==(1&a)}(M)?ub(D,l,c,h,Qa(M),_):void 0)||(Yf(f)||function(a){return 2==(2&a)}(M)&&(f=ub(D,null,c,h,v,_)),function(a,l,c,d,h){const f=Gn(a);if(l)h?f?a.addClass(c,d):c.classList.add(d):f?a.removeClass(c,d):c.classList.remove(d);else{let _=-1===d.indexOf("-")?void 0:ya.DashCase;if(null==h)f?a.removeStyle(c,d,_):c.style.removeProperty(d);else{const v="string"==typeof h&&h.endsWith("!important");v&&(h=h.slice(0,-10),_|=ya.Important),f?a.setStyle(c,d,h,_):c.style.setProperty(d,h,v?"important":"")}}}(d,_,Ba(kr(),c),h,f))}function ub(a,l,c,d,h,f){const _=null===l;let v;for(;h>0;){const D=a[h],M=Array.isArray(D),S=M?D[1]:D,I=null===S;let O=c[h+1];O===Rt&&(O=I?H:void 0);let U=I?Jc(O,d):S===d?O:void 0;if(M&&!Yf(U)&&(U=Jc(D,d)),Yf(U)&&(v=U,_))return v;const $=a[h+1];h=_?va($):Qa($)}if(null!==l){let D=f?l.residualClasses:l.residualStyles;null!=D&&(v=Jc(D,d))}return v}function Yf(a){return void 0!==a}function Bw(a,l){return 0!=(a.flags&(l?16:32))}function YM(a,l=""){const c=Se(),d=Kt(),h=a+20,f=d.firstCreatePass?hu(d,h,1,l,null):d.data[h],_=c[h]=R0(c[11],l);Ul(d,c,_,f),Cs(f,!1)}function GM(a){return Ah("",a,""),GM}function Ah(a,l,c){const d=Se(),h=bh(d,a,l,c);return h!==Rt&&el(d,kr(),h),Ah}function db(a,l,c,d,h){const f=Se(),_=function(a,l,c,d,h,f){const v=$l(a,us(),c,h);return Vs(2),v?l+Ce(c)+d+Ce(h)+f:Rt}(f,a,l,c,d,h);return _!==Rt&&el(f,kr(),_),db}function WM(a,l,c){bo(Ts,_o,bh(Se(),a,l,c),!0)}function JM(a,l,c,d,h,f,_,v,D){bo(Ts,_o,bu(Se(),a,l,c,d,h,f,_,v,D),!0)}function Gw(a,l,c){const d=Se();return Rr(d,Bs(),l)&&co(Kt(),Ti(),d,a,l,d[11],c,!0),Gw}function jw(a,l,c){const d=Se();if(Rr(d,Bs(),l)){const f=Kt(),_=Ti();co(f,_,d,a,l,mu(Kp(f.data),_,d),c,!0)}return jw}const kh=void 0;var jf=["en",[["a","p"],["AM","PM"],kh],[["AM","PM"],kh,kh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kh,"{1} 'at' {0}",kh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Ih={};function zw(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=sE(l);if(c)return c;const d=l.split("-")[0];if(c=sE(d),c)return c;if("en"===d)return jf;throw new Error(`Missing locale data for the locale "${a}".`)}function sl(a){return zw(a)[Xe.PluralCase]}function sE(a){return a in Ih||(Ih[a]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[a]),Ih[a]}var Xe=(()=>((Xe=Xe||{})[Xe.LocaleId=0]="LocaleId",Xe[Xe.DayPeriodsFormat=1]="DayPeriodsFormat",Xe[Xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xe[Xe.DaysFormat=3]="DaysFormat",Xe[Xe.DaysStandalone=4]="DaysStandalone",Xe[Xe.MonthsFormat=5]="MonthsFormat",Xe[Xe.MonthsStandalone=6]="MonthsStandalone",Xe[Xe.Eras=7]="Eras",Xe[Xe.FirstDayOfWeek=8]="FirstDayOfWeek",Xe[Xe.WeekendRange=9]="WeekendRange",Xe[Xe.DateFormat=10]="DateFormat",Xe[Xe.TimeFormat=11]="TimeFormat",Xe[Xe.DateTimeFormat=12]="DateTimeFormat",Xe[Xe.NumberSymbols=13]="NumberSymbols",Xe[Xe.NumberFormats=14]="NumberFormats",Xe[Xe.CurrencyCode=15]="CurrencyCode",Xe[Xe.CurrencySymbol=16]="CurrencySymbol",Xe[Xe.CurrencyName=17]="CurrencyName",Xe[Xe.Currencies=18]="Currencies",Xe[Xe.Directionality=19]="Directionality",Xe[Xe.PluralCase=20]="PluralCase",Xe[Xe.ExtraData=21]="ExtraData",Xe))();const $w=["zero","one","two","few","many"],bb="en-US",yb={marker:"element"},vb={marker:"ICU"};var Ai=(()=>((Ai=Ai||{})[Ai.SHIFT=2]="SHIFT",Ai[Ai.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ai[Ai.COMMENT=2]="COMMENT",Ai))();let aE=bb;function Ww(a){(function(a,l){null==a&&vt(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(aE=a.toLowerCase().replace(/_/g,"-"))}function cE(a,l,c){const d=l.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?CT(a,0,c):Vn(c[h])}function Xl(a,l,c,d,h){const f=l.insertBeforeIndex;if(Array.isArray(f)){let _=d,v=null;if(3&l.type||(v=_,_=h),null!==_&&0==(2&l.flags))for(let D=1;D<f.length;D++)Ho(a,_,c[f[D]],v,!1)}}function uE(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];Jw(d)||CR(d,l)&&null===DR(d)&&ol(d,l.index)}}function Jw(a){return!(64&a.type)}function CR(a,l){return Jw(l)||a.index>l.index}function DR(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function ol(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(DT(cE,Xl),a.insertBeforeIndex=l)}function Mu(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function TR(a,l,c){const d=N_(a,c,64,null,null);return uE(l,d),d}function wb(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function hE(a){return a>>>17}function pE(a){return(131070&a)>>>1}let Oh=0,Nh=0;function mE(a,l,c,d){const h=c[11];let _,f=null;for(let v=0;v<l.length;v++){const D=l[v];if("string"==typeof D){const M=l[++v];null===c[M]&&(c[M]=R0(h,D))}else if("number"==typeof D)switch(1&D){case 0:const M=hE(D);let S,I;if(null===f&&(f=M,_=eh(h,d)),M===f?(S=d,I=_):(S=null,I=Vn(c[M])),null!==I){const ue=pE(D);Ho(h,I,c[ue],S,!1);const Oe=Mu(a,ue);if(null!==Oe&&"object"==typeof Oe){const we=wb(Oe,c);null!==we&&mE(a,Oe.create[we],c,c[Oe.anchorIdx])}}break;case 1:const U=l[++v],$=l[++v];YT(h,Ba(D>>>1,c),null,null,U,$,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${D}"`)}else switch(D){case vb:const M=l[++v],S=l[++v];null===c[S]&&Xn(c[S]=jk(h,M),c);break;case yb:const I=l[++v],O=l[++v];null===c[O]&&Xn(c[O]=Vl(h,I,null),c)}}}function Qw(a,l,c,d,h){for(let f=0;f<c.length;f++){const _=c[f],v=c[++f];if(_&h){let D="";for(let M=f+1;M<=f+v;M++){const S=c[M];if("string"==typeof S)D+=S;else if("number"==typeof S)if(S<0)D+=Ce(l[d-S]);else{const I=S>>>2;switch(3&S){case 1:const O=c[++M],U=c[++M],$=a.data[I];"string"==typeof $?YT(l[11],l[I],null,$,O,D,U):co(a,$,l,O,D,l[11],U,!1);break;case 0:const ue=l[I];null!==ue&&Gk(l[11],ue,D);break;case 2:AR(a,Mu(a,I),l,D);break;case 3:Jt(a,Mu(a,I),d,l)}}}}else{const D=c[f+1];if(D>0&&3==(3&D)){const S=Mu(a,D>>>2);l[S.currentCaseLViewIndex]<0&&Jt(a,S,d,l)}}f+=v}}function Jt(a,l,c,d){let h=d[l.currentCaseLViewIndex];if(null!==h){let f=Oh;h<0&&(h=d[l.currentCaseLViewIndex]=~h,f=-1),Qw(a,d,l.update[h],c,f)}}function AR(a,l,c,d){const h=function(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function(a,l){const c=sl(l)(parseInt(a,10)),d=$w[c];return void 0!==d?d:"other"}(l,aE);c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(wb(l,c)!==h&&(Eu(a,l,c),c[l.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const _=c[l.anchorIdx];_&&mE(a,l.create[h],c,_)}}function Eu(a,l,c){let d=wb(l,c);if(null!==d){const h=l.remove[d];for(let f=0;f<h.length;f++){const _=h[f];if(_>0){const v=Ba(_,c);null!==v&&TT(c[11],v)}else Eu(a,Mu(a,~_),c)}}}function Kw(){const a=[];let c,d,l=-1;function f(v,D){l=0;const M=wb(v,D);d=null!==M?v.remove[M]:H}function _(){if(l<d.length){const v=d[l++];return v>0?c[v]:(a.push(l,d),f(c[1].data[~v],c),_())}return 0===a.length?null:(d=a.pop(),l=a.pop(),_())}return function(v,D){for(c=D;a.length;)a.pop();return f(v.value,D),_}}const $f=/\ufffd(\d+):?\d*\ufffd/gi,zB=/\ufffd(\d+)\ufffd/,vr=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,kR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,IR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,bE=/\uE500/g;function eC(a,l,c,d,h,f,_){const v=oh(a,d,1,null);let D=v<<Ai.SHIFT,M=Ua();l===M&&(M=null),null===M&&(D|=Ai.APPEND_EAGERLY),_&&(D|=Ai.COMMENT,function(a){void 0===b_&&(b_=a())}(Kw)),h.push(D,null===f?"":f);const S=N_(a,v,_?32:1,null===f?"":f,null);uE(c,S);const I=S.index;return Cs(S,!1),null!==M&&l!==M&&function(a,l){let c=a.insertBeforeIndex;null===c?(DT(cE,Xl),c=a.insertBeforeIndex=[null,l]):(function(a,l,c){a!=l&&vt(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(M,I),S}function OR(a,l,c,d,h,f,_){const v=_.match($f),D=eC(a,l,c,f,d,v?null:_,!1);v&&Su(h,_,D.index,null,0,null)}function Su(a,l,c,d,h,f){const _=a.length,v=_+1;a.push(null,null);const D=_+2,M=l.split($f);let S=0;for(let I=0;I<M.length;I++){const O=M[I];if(1&I){const U=h+parseInt(O,10);a.push(-1-U),S|=ec(U)}else""!==O&&a.push(O)}return a.push(c<<2|(d?1:0)),d&&a.push(d,f),a[_]=S,a[v]=a.length-D,S}function ec(a){return 1<<Math.min(a,31)}function Ph(a){let l,f,c="",d=0,h=!1;for(;null!==(l=kR.exec(a));)h?l[0]===`\ufffd/*${f}\ufffd`&&(d=l.index,h=!1):(c+=a.substring(d,l.index+l[0].length),f=l[1],h=!0);return c+=a.substr(d),c}function tc(a,l,c,d,h,f){let _=0;const v={type:h.type,currentCaseLViewIndex:oh(a,l,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(a,l,c){a.push(ec(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,h,f),function(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,f,v);const D=h.values;for(let M=0;M<D.length;M++){const S=D[M],I=[];for(let O=0;O<S.length;O++){const U=S[O];if("string"!=typeof U){const $=I.push(U)-1;S[O]=`\x3c!--\ufffd${$}\ufffd--\x3e`}}_=wE(a,v,l,c,d,h.cases[M],S.join(""),I)|_}_&&function(a,l,c){a.push(l,1,c<<2|3)}(c,_,f)}function PR(a){const l=[],c=[];let d=1,h=0;const f=Wf(a=a.replace(vr,function(_,v,D){return d="select"===D?0:1,h=parseInt(v.substr(1),10),""}));for(let _=0;_<f.length;){let v=f[_++].trim();1===d&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&l.push(v);const D=Wf(f[_++]);l.length>c.length&&c.push(D)}return{type:d,mainBinding:h,cases:l,values:c}}function Wf(a){if(!a)return[];let l=0;const c=[],d=[],h=/[{}]/g;let f;for(h.lastIndex=0;f=h.exec(a);){const v=f.index;if("}"==f[0]){if(c.pop(),0==c.length){const D=a.substring(l,v);vr.test(D)?d.push(PR(D)):d.push(D),l=v+1}}else{if(0==c.length){const D=a.substring(l,v);d.push(D),l=v+1}c.push("{")}}const _=a.substring(l);return d.push(_),d}function wE(a,l,c,d,h,f,_,v){const D=[],M=[],S=[];l.cases.push(f),l.create.push(D),l.remove.push(M),l.update.push(S);const O=Ae(wd()).getInertBodyElement(_),U=ou(O)||O;return U?CE(a,l,c,d,D,M,S,U,h,v,0):0}function CE(a,l,c,d,h,f,_,v,D,M,S){let I=0,O=v.firstChild;for(;O;){const U=oh(a,c,1,null);switch(O.nodeType){case Node.ELEMENT_NODE:const $=O,ue=$.tagName.toLowerCase();if(Jd.hasOwnProperty(ue)){tC(h,yb,ue,D,U),a.data[U]=ue;const ct=$.attributes;for(let Tt=0;Tt<ct.length;Tt++){const Xt=ct.item(Tt),In=Xt.name.toLowerCase();Xt.value.match($f)?v0.hasOwnProperty(In)&&Su(_,Xt.value,U,Xt.name,0,$a[In]?ai:xt[In]?Pe:null):nC(h,U,Xt)}I=CE(a,l,c,d,h,f,_,O,U,M,S+1)|I,Jf(f,U,S)}break;case Node.TEXT_NODE:const te=O.textContent||"",Oe=te.match($f);tC(h,null,Oe?"":te,D,U),Jf(f,U,S),Oe&&(I=Su(_,te,U,null,0,null)|I);break;case Node.COMMENT_NODE:const we=zB.exec(O.textContent||"");if(we){const Tt=M[parseInt(we[1],10)];tC(h,vb,"",D,U),tc(a,c,d,D,Tt,U),Qf(f,U,S)}}O=O.nextSibling}return I}function Jf(a,l,c){0===c&&a.push(l)}function Qf(a,l,c){0===c&&(a.push(~l),a.push(l))}function tC(a,l,c,d,h){null!==l&&a.push(l),a.push(c,h,function(a,l,c){return 0|l<<17|c<<1}(0,d,h))}function nC(a,l,c){a.push(l<<1|1,c.name,c.value)}function EE(a,l,c=-1){const d=Kt(),h=Se(),f=20+a,_=Ro(d.consts,l),v=Ua();d.firstCreatePass&&function(a,l,c,d,h,f){const _=Ua(),v=[],D=[],M=[[]],S=function(a){return a.replace(bE," ")}(h=function(a,l){if(function(a){return-1===a}(l))return Ph(a);{const c=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return Ph(a.substring(c,d))}}(h,f)).split(IR);for(let I=0;I<S.length;I++){let O=S[I];if(0==(1&I)){const U=Wf(O);for(let $=0;$<U.length;$++){let ue=U[$];if(0==(1&$)){const te=ue;""!==te&&OR(a,_,M[0],v,D,c,te)}else{const te=ue;if("object"!=typeof te)throw new Error(`Unable to parse ICU expression in "${h}" message.`);tc(a,c,D,l,te,eC(a,_,M[0],c,v,"",!0).index)}}}else{const U=47===O.charCodeAt(0),ue=(O.charCodeAt(U?1:0),20+Number.parseInt(O.substring(U?2:1)));if(U)M.shift(),Cs(Ua(),!1);else{const te=TR(a,M[0],ue);M.unshift([]),Cs(te,!0)}}}a.data[d]={create:v,update:D}}(d,null===v?0:v.index,h,f,_,c);const D=d.data[f],S=C_(d,v===h[6]?null:v,h);(function(a,l,c,d){const h=a[11];for(let f=0;f<l.length;f++){const _=l[f++],v=l[f],D=(_&Ai.COMMENT)===Ai.COMMENT,M=(_&Ai.APPEND_EAGERLY)===Ai.APPEND_EAGERLY,S=_>>>Ai.SHIFT;let I=a[S];null===I&&(I=a[S]=D?h.createComment(v):R0(h,v)),M&&null!==c&&Ho(h,c,I,d,!1)}})(h,D.create,S,v&&8&v.type?h[v.index]:null),Hg(!0)}function xE(a,l,c){EE(a,l,c),Hg(!1)}function Xf(a){return function(a){a&&(Oh|=1<<Math.min(Nh,31)),Nh++}(Rr(Se(),Bs(),a)),Xf}function Mb(a){!function(a,l,c){if(Nh>0){const d=a.data[c];Qw(a,l,Array.isArray(d)?d:d.update,us()-Nh-1,Oh)}Oh=0,Nh=0}(Kt(),Se(),a+20)}function Eb(a,l,c,d,h){if(a=q(a),Array.isArray(a))for(let f=0;f<a.length;f++)Eb(a[f],l,c,d,h);else{const f=Kt(),_=Se();let v=_u(a)?a:q(a.provide),D=Ca(a);const M=Kn(),S=1048575&M.providerIndexes,I=M.directiveStart,O=M.providerIndexes>>20;if(_u(a)||!a.multi){const U=new Za(D,h,K_),$=As(v,l,h?S:S+O,I);-1===$?(Ya(pa(M,_),f,v),Sb(f,a,l.length),l.push(v),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(U),_.push(U)):(c[$]=U,_[$]=U)}else{const U=As(v,l,S+O,I),$=As(v,l,S,S+O),ue=U>=0&&c[U],te=$>=0&&c[$];if(h&&!te||!h&&!ue){Ya(pa(M,_),f,v);const Oe=function(a,l,c,d,h){const f=new Za(a,c,K_);return f.multi=[],f.index=l,f.componentProviders=0,kE(f,h,d&&!c),f}(h?HR:IE,c.length,h,d,D);!h&&te&&(c[$].providerFactory=Oe),Sb(f,a,l.length,0),l.push(v),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(Oe),_.push(Oe)}else Sb(f,a,U>-1?U:$,kE(c[h?$:U],D,!h&&d));!h&&d&&te&&c[$].componentProviders++}}}function Sb(a,l,c,d){const h=_u(l);if(h||function(a){return!!a.useClass}(l)){const _=(l.useClass||l).prototype.ngOnDestroy;if(_){const v=a.destroyHooks||(a.destroyHooks=[]);if(!h&&l.multi){const D=v.indexOf(c);-1===D?v.push(c,[d,_]):v[D+1].push(d,_)}else v.push(c,_)}}}function kE(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function As(a,l,c,d){for(let h=c;h<d;h++)if(l[h]===a)return h;return-1}function IE(a,l,c,d){return Fh(this.multi,[])}function HR(a,l,c,d){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=$c(c,c[1],this.providerFactory.index,d);f=v.slice(0,_),Fh(h,f);for(let D=_;D<v.length;D++)f.push(v[D])}else f=[],Fh(h,f);return f}function Fh(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function xb(a,l=[]){return c=>{c.providersResolver=(d,h)=>function(a,l,c){const d=Kt();if(d.firstCreatePass){const h=Qi(a);Eb(c,d.data,d.blueprint,h,!0),Eb(l,d.data,d.blueprint,h,!1)}}(d,h?h(a):a,l)}}class Ab{}const NE="ngComponent";class PE{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${j(a)}. Did you add it to @NgModule.entryComponents?`);return l[NE]=a,l}(l)}}class xu{}function Au(...a){}function nc(a,l){return new vo(jr(a,l))}xu.NULL=new PE;const qR=function(){return nc(Kn(),Se())};let vo=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=qR,a})();function LE(a){return a instanceof vo?a.nativeElement:a}class Ib{}let BE=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>sC(),a})();const sC=function(){const a=Se(),c=Ar(Kn().index,a);return function(a){return a[11]}(ko(c)?c:a)};let Ob=(()=>{class a{}return a.\u0275prov=ft({token:a,providedIn:"root",factory:()=>null}),a})();class UE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const oC=new UE("12.2.5");class aC{constructor(){}supports(l){return il(l)}create(l){return new ic(l)}}const GR=(a,l)=>l;class ic{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||GR}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,h=0,f=null;for(;c||d;){const _=!d||c&&c.currentIndex<qE(d,h,f)?c:d,v=qE(_,h,f),D=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{f||(f=[]);const M=v-h,S=D-h;if(M!=S){for(let O=0;O<M;O++){const U=O<f.length?f[O]:f[O]=0,$=U+O;S<=$&&$<M&&(f[O]=U+1)}f[_.previousIndex]=S-M}}v!==D&&l(_,v,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!il(l))throw new Error(`Error trying to diff '${j(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h,f,_,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let v=0;v<this.length;v++)f=l[v],_=this._trackByFn(v,f),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,f,_,v)),Object.is(c.item,f)||this._addIdentityChange(c,f)):(c=this._mismatch(c,f,_,v),d=!0),c=c._next}else h=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[gh()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,v=>{_=this._trackByFn(h,v),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,v,_,h)),Object.is(c.item,v)||this._addIdentityChange(c,v)):(c=this._mismatch(c,v,_,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,h){let f;return null===l?f=this._itTail:(f=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,f,h)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,f,h)):l=this._addAfter(new jR(c,d),f,h),l}_verifyReinsertion(l,c,d,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==f?l=this._reinsertAfter(f,l._prev,h):l.currentIndex!=h&&(l.currentIndex=h,this._addToMoves(l,h)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const h=l._prevRemoved,f=l._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const h=null===c?this._itHead:c._next;return l._next=h,l._prev=c,null===h?this._itTail=l:h._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new ZE),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class jR{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ku{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class ZE{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new ku,this.map.set(c,d)),d.add(l)}get(l,c){const h=this.map.get(l);return h?h.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qE(a,l,c){const d=a.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+l+h}class YE{constructor(){}supports(l){return l instanceof Map||dw(l)}create(){return new zR}}class zR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||dw(l)))throw new Error(`Error trying to diff '${j(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const f=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,f)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const h=this._records.get(l);this._maybeAddToChanges(h,c);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const d=new nm(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class nm{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lh(){return new im([new aC])}let im=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Lh()),deps:[[a,new ma,new fa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:Lh}),a})();function jE(){return new Nb([new YE])}let Nb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||jE()),deps:[[a,new ma,new fa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:jE}),a})();function Bh(a,l,c,d,h=!1){for(;null!==c;){const f=l[c.index];if(null!==f&&d.push(Vn(f)),Gr(f))for(let v=10;v<f.length;v++){const D=f[v],M=D[1].firstChild;null!==M&&Bh(D[1],D,M,d)}const _=c.type;if(8&_)Bh(a,l,c.child,d);else if(32&_){const v=Kd(c,l);let D;for(;D=v();)d.push(D)}else if(16&_){const v=Sf(l,c);if(Array.isArray(v))d.push(...v);else{const D=Xd(l[16]);Bh(D[1],D,v,d,!0)}}c=h?c.projectionNext:c.next}return d}class Jr{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Bh(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Gr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(O0(l,d),Nl(c,d))}this._attachedToViewContainer=!1}bT(this._lView[1],this._lView)}onDestroy(l){L_(this._lView[1],this._lView,null,l)}markForCheck(){Yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){V_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){xl(!0);try{V_(a,l,c)}finally{xl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,fn(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class zE extends Jr{constructor(l){super(l),this._view=l}detectChanges(){JT(this._view)}checkNoChanges(){!function(a){xl(!0);try{JT(a)}finally{xl(!1)}}(this._view)}get context(){return null}}const Pb=function(a){return function(a,l,c){if(ua(a)&&!c){const d=Ar(a.index,l);return new Jr(d,d)}return 47&a.type?new Jr(l[16],l):null}(Kn(),Se(),16==(16&a))};let $R=(()=>{class a{}return a.__NG_ELEMENT_ID__=Pb,a})();const QR=[new YE],WE=new im([new aC]),JE=new Nb(QR),Lb=function(){return Bb(Kn(),Se())};let Vh=(()=>{class a{}return a.__NG_ELEMENT_ID__=Lb,a})();const XR=Vh,eO=class extends XR{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=sh(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(d[19]=f.createEmbeddedView(c)),ql(c,d,l),new Jr(d)}};function Bb(a,l){return 4&a.type?new eO(l,a,nc(a,l)):null}class Iu{}class Vb{}const Ub=function(){return KE(Kn(),Se())};let Hb=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ub,a})();const Zb=Hb,QE=class extends Zb{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const l=Mt(this._hostTNode,this._hostLView);if(Od(l)){const c=qa(l,this._hostLView),d=Po(l);return new Ir(c[1].data[d+8],c)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Uh(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const h=l.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(l,c,d,h,f){const _=d||this.parentInjector;if(!f&&null==l.ngModule&&_){const D=_.get(Iu,null);D&&(f=D)}const v=l.create(_,h,void 0,f);return this.insert(v.hostView,c),v}insert(l,c){const d=l._lView,h=d[1];if(Gr(d[3])){const S=this.indexOf(l);if(-1!==S)this.detach(S);else{const I=d[3],O=new QE(I,I[6],I[3]);O.detach(O.indexOf(l))}}const f=this._adjustIndex(c),_=this._lContainer;!function(a,l,c,d){const h=10+d,f=c.length;d>0&&(c[h-1][4]=l),d<f-10?(l[4]=c[h],Hd(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const _=l[17];null!==_&&c!==_&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(_,l);const v=l[19];null!==v&&v.insertView(a),l[2]|=128}(h,d,_,f);const v=P0(f,_),D=d[11],M=eh(D,_[7]);return null!==M&&function(a,l,c,d,h,f){d[0]=h,d[6]=l,fn(a,d,c,1,h,f)}(h,_[6],D,d,M,v),l.attachToViewContainerRef(),Hd(cC(_),f,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Uh(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=O0(this._lContainer,c);d&&(Nl(cC(this._lContainer),c),bT(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=O0(this._lContainer,c);return d&&null!=Nl(cC(this._lContainer),c)?new Jr(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function Uh(a){return a[8]}function cC(a){return a[8]||(a[8]=[])}function KE(a,l){let c;const d=l[a.index];if(Gr(d))c=d;else{let h;if(8&a.type)h=Vn(d);else{const f=l[11];h=f.createComment("");const _=jr(a,l);Ho(f,eh(f,_),h,function(a,l){return Gn(a)?a.nextSibling(l):l.nextSibling}(f,_),!1)}l[a.index]=c=GT(d,l,h,a),ch(l,c)}return new QE(c,a,l)}const Vu={};class wC extends xu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=kt(l);return new mS(c,this.ngModule)}}function CC(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const DC=new pi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Df});class mS extends Ab{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(T_).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return CC(this.componentDef.inputs)}get outputs(){return CC(this.componentDef.outputs)}create(l,c,d,h){const f=(h=h||this.ngModule)?function(a,l){return{get:(c,d,h)=>{const f=a.get(c,Vu,h);return f!==Vu||d===Vu?f:l.get(c,d,h)}}}(l,h.injector):l,_=f.get(Ib,da),v=f.get(Ob,null),D=_.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",S=d?function(a,l,c){if(Gn(a))return a.selectRootElement(l,c===He.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(D,d,this.componentDef.encapsulation):Vl(_.createRenderer(null,this.componentDef),M,function(a){const l=a.toLowerCase();return"svg"===l?Ml:"math"===l?"http://www.w3.org/1998/MathML/":null}(M)),I=this.componentDef.onPush?576:528,O=function(a,l){return{components:[],scheduler:a||Df,clean:uh,playerHandler:l||null,flags:0}}(),U=$0(0,null,null,1,0,null,null,null,null,null),$=sh(null,U,O,I,null,null,_,D,v,f);let ue,te;Oo($);try{const Oe=function(a,l,c,d,h,f){const _=c[1];c[20]=a;const D=hu(_,20,2,"#host",null),M=D.mergedAttrs=l.hostAttrs;null!==M&&(ho(D,M,!0),null!==a&&(sf(h,a,M),null!==D.classes&&F0(h,a,D.classes),null!==D.styles&&ET(h,a,D.styles)));const S=d.createRenderer(a,l),I=sh(c,z0(l),null,l.onPush?64:16,c[20],D,d,S,f||null,null);return _.firstCreatePass&&(Ya(pa(D,c),_,l.type),lh(_,D),TI(D,c.length,1)),ch(c,I),c[20]=I}(S,this.componentDef,$,_,D);if(S)if(d)sf(D,S,["ng-version",oC.full]);else{const{attrs:we,classes:ct}=function(a){const l=[],c=[];let d=1,h=2;for(;d<a.length;){let f=a[d];if("string"==typeof f)2===h?""!==f&&l.push(f,a[++d]):8===h&&c.push(f);else{if(!Wr(h))break;h=f}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);we&&sf(D,S,we),ct&&ct.length>0&&F0(D,S,ct.join(" "))}if(te=Vc(U,20),void 0!==c){const we=te.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Tt=c[ct];we.push(null!=Tt?Array.from(Tt):null)}}ue=function(a,l,c,d,h){const f=c[1],_=function(a,l,c){const d=Kn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),B_(a,d,l,oh(a,l,1,null),c));const h=$c(l,a,d.directiveStart,d);Xn(h,l);const f=jr(d,l);return f&&Xn(f,l),h}(f,c,l);if(d.components.push(_),a[8]=_,h&&h.forEach(D=>D(_,l)),l.contentQueries){const D=Kn();l.contentQueries(1,_,D.directiveStart)}const v=Kn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(kl(v.index),CI(c[1],v,0,v.directiveStart,v.directiveEnd,l),uo(l,_)),_}(Oe,this.componentDef,$,O,[cM]),ql(U,$,null)}finally{Gc()}return new TC(this.componentType,ue,nc(te,$),$,te)}}class TC extends class{}{constructor(l,c,d,h,f){super(),this.location=d,this._rootLView=h,this._tNode=f,this.instance=c,this.hostView=this.changeDetectorRef=new zE(h),this.componentType=l}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const jh=new Map;class PO extends Iu{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wC(this);const d=Jn(l),h=l[mt]||null;h&&Ww(h),this._bootstrapComponents=Uo(d.bootstrap),this._r3Injector=hh(l,c,[{provide:Iu,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],j(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Nn.THROW_IF_NOT_FOUND,d=rt.Default){return l===Nn||l===Iu||l===Gl?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class EC extends Vb{constructor(l){super(),this.moduleType=l,null!==Jn(l)&&function(a){const l=new Set;!function c(d){const h=Jn(d,!0),f=h.id;null!==f&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${j(l)} vs ${j(l.name)}`)}(f,jh.get(f),d),jh.set(f,d));const _=Uo(h.imports);for(const v of _)l.has(v)||(l.add(v),c(v))}(a)}(l)}create(l){return new PO(this.moduleType,l)}}function xC(a,l,c,d){return mm(Se(),Ki(),a,l,c,d)}function bS(a,l,c,d,h){return ny(Se(),Ki(),a,l,c,d,h)}function yS(a,l,c,d,h,f){return function(a,l,c,d,h,f,_,v){const D=l+c;return function(a,l,c,d,h){const f=$l(a,l,c,d);return Rr(a,l+2,h)||f}(a,D,h,f,_)?fo(a,D+3,v?d.call(v,h,f,_):d(h,f,_)):cc(a,D+3)}(Se(),Ki(),a,l,c,d,h,f)}function cc(a,l){const c=a[l];return c===Rt?void 0:c}function mm(a,l,c,d,h,f){const _=l+c;return Rr(a,_,h)?fo(a,_+1,f?d.call(f,h):d(h)):cc(a,_+1)}function ny(a,l,c,d,h,f,_){const v=l+c;return $l(a,v,h,f)?fo(a,v+2,_?d.call(_,h,f):d(h,f)):cc(a,v+2)}function AC(a,l){const c=Kt();let d;const h=a+20;c.firstCreatePass?(d=function(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}throw new De("302",`The pipe '${a}' could not be found!`)}(l,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const f=d.factory||(d.factory=La(d.type)),_=Li(K_);try{const v=Nd(!1),D=f();return Nd(v),function(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Se(),h,D),D}finally{Li(_)}}function wS(a,l,c){const d=a+20,h=Se(),f=Va(h,d);return Uu(h,gm(h,d)?mm(h,Ki(),l,f.transform,c,f):f.transform(c))}function kC(a,l,c,d){const h=a+20,f=Se(),_=Va(f,h);return Uu(f,gm(f,h)?ny(f,Ki(),l,_.transform,c,d,_):_.transform(c,d))}function gm(a,l){return a[1].data[l].pure}function Uu(a,l){return po.isWrapped(l)&&(l=po.unwrap(l),a[us()]=Rt),l}function _m(a){return l=>{setTimeout(a,void 0,l)}}const Hn=class extends r.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var h,f,_;let v=l,D=c||(()=>null),M=d;if(l&&"object"==typeof l){const I=l;v=null===(h=I.next)||void 0===h?void 0:h.bind(I),D=null===(f=I.error)||void 0===f?void 0:f.bind(I),M=null===(_=I.complete)||void 0===_?void 0:_.bind(I)}this.__isAsync&&(D=_m(D),v&&(v=_m(v)),M&&(M=_m(M)));const S=super.subscribe({next:v,error:D,complete:M});return l instanceof B.w&&l.add(S),S}};function Nr(){return this._results[gh()]()}class uc{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=gh(),d=uc.prototype;d[c]||(d[c]=Nr)}get changes(){return this._changes||(this._changes=new Hn)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const h=Us(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let h=a[d],f=l[d];if(c&&(h=c(h),f=c(f)),f!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class oy{constructor(l){this.queryList=l,this.matches=null}clone(){return new oy(this.queryList)}setDirty(){this.queryList.setDirty()}}class NC{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,h=[];for(let f=0;f<d;f++){const _=c.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new NC(h)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==xS(l,c).matches&&this.queries[c].setDirty()}}class TS{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class bm{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,f=this.getByIndex(d).embeddedTView(l,h);f&&(f.indexInDeclarationView=d,null!==c?c.push(f):c=[f])}return null!==c?new bm(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ym{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new ym(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const f=d[h];this.matchTNodeWithReadOption(l,c,UO(c,f)),this.matchTNodeWithReadOption(l,c,Bd(c,l,f,!1,!1))}else d===Vh?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Bd(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===vo||h===Hb||h===Vh&&4&c.type)this.addMatch(c.index,-2);else{const f=Bd(c,l,h,!1,!1);null!==f&&this.addMatch(c.index,f)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function UO(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function MS(a,l,c,d){return-1===c?function(a,l){return 11&a.type?nc(a,l):4&a.type?Bb(a,l):null}(l,a):-2===c?function(a,l,c){return c===vo?nc(l,a):c===Vh?Bb(l,a):c===Hb?KE(l,a):void 0}(a,l,d):$c(a,a[1],c,l)}function vm(a,l,c,d){const h=l[19].queries[d];if(null===h.matches){const f=a.data,_=c.matches,v=[];for(let D=0;D<_.length;D+=2){const M=_[D];v.push(M<0?null:MS(l,f[M],_[D+1],c.metadata.read))}h.matches=v}return h.matches}function wm(a,l,c,d){const h=a.queries.getByIndex(c),f=h.matches;if(null!==f){const _=vm(a,l,h,c);for(let v=0;v<f.length;v+=2){const D=f[v];if(D>0)d.push(_[v/2]);else{const M=f[v+1],S=l[-D];for(let I=10;I<S.length;I++){const O=S[I];O[17]===O[3]&&wm(O[1],O,M,d)}if(null!==S[9]){const I=S[9];for(let O=0;O<I.length;O++){const U=I[O];wm(U[1],U,M,d)}}}}}return d}function ay(a){const l=Se(),c=Kt(),d=Zg();Al(d+1);const h=xS(c,d);if(a.dirty&&Vv(l)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const f=h.crossesNgTemplate?wm(c,l,d,[]):vm(c,l,h,d);a.reset(f,LE),a.notifyOnChanges()}return!0}return!1}function FC(a,l,c){const d=Kt();d.firstCreatePass&&(BC(d,new TS(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),LC(d,Se(),l)}function ES(a,l,c,d){const h=Kt();if(h.firstCreatePass){const f=Kn();BC(h,new TS(l,c,d),f.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(h,a),2==(2&c)&&(h.staticContentQueries=!0)}LC(h,Se(),c)}function zh(){return a=Se(),l=Zg(),a[19].queries[l].queryList;var a,l}function LC(a,l,c){const d=new uc(4==(4&c));L_(a,l,d,d.destroy),null===l[19]&&(l[19]=new NC),l[19].queries.push(new oy(d))}function BC(a,l,c){null===a.queries&&(a.queries=new bm),a.queries.track(new ym(l,c))}function xS(a,l){return a.queries.getByIndex(l)}function AS(a,l){return Bb(a,l)}const jO=Qg("Input",a=>({bindingPropertyName:a})),$O=Qg("HostBinding",a=>({hostPropertyName:a})),Im=Qg("HostListener",(a,l)=>({eventName:a,args:l})),XC=new pi("Application Initializer");let Qh=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Au,this.reject=Au,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(Sw(f))c.push(f);else if(xw(f)){const _=new Promise((v,D)=>{f.subscribe({complete:v,error:D})});c.push(_)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(fi(XC,8))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();const HS=new pi("AppId"),Om={provide:HS,useFactory:function(){return`${Kh()}${Kh()}${Kh()}`},deps:[]};function Kh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vy=new pi("Platform Initializer"),e1=new pi("Platform ID"),Xh=new pi("appBootstrapListener");let ZS=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();const bi=new pi("LocaleId"),t1=new pi("DefaultCurrencyCode");class qS{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}const zo=function(a){return new EC(a)},YS=zo,Pm=function(a){return Promise.resolve(zo(a))},Cy=function(a){const l=zo(a),d=Uo(Jn(a).declarations).reduce((h,f)=>{const _=kt(f);return _&&h.push(new mS(_)),h},[]);return new qS(l,d)},Dy=Cy,Ty=function(a){return Promise.resolve(Cy(a))};let Fm=(()=>{class a{constructor(){this.compileModuleSync=YS,this.compileModuleAsync=Pm,this.compileModuleAndAllComponentsSync=Dy,this.compileModuleAndAllComponentsAsync=Ty}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();const $S=(()=>Promise.resolve(0))();function My(a){"undefined"==typeof Zone?$S.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class _s{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hn(!1),this.onMicrotaskEmpty=new Hn(!1),this.onStable=new Hn(!1),this.onError=new Hn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let a=yn.requestAnimationFrame,l=yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(yn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,cl(a),a.isCheckStableRunning=!0,ep(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),cl(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,f,_,v)=>{try{return s1(a),c.invokeTask(h,f,_,v)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||a.shouldCoalesceRunChangeDetection)&&l(),o1(a)}},onInvoke:(c,d,h,f,_,v,D)=>{try{return s1(a),c.invoke(h,f,_,v,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),o1(a)}},onHasTask:(c,d,h,f)=>{c.hasTask(h,f),d===h&&("microTask"==f.change?(a._hasPendingMicrotasks=f.microTask,cl(a),ep(a)):"macroTask"==f.change&&(a.hasPendingMacrotasks=f.macroTask))},onHandleError:(c,d,h,f)=>(c.handleError(h,f),a.runOutsideAngular(()=>a.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,l,WS,Au,Au);try{return f.runTask(_,c,d)}finally{f.cancelTask(_)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const WS={};function ep(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function cl(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function s1(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function o1(a){a._nesting--,ep(a)}class KS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hn,this.onMicrotaskEmpty=new Hn,this.onStable=new Hn,this.onError=new Hn}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,h){return l.apply(c,d)}}let a1=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),My(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())My(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let f=-1;d&&d>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:f,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return a.\u0275fac=function(c){return new(c||a)(fi(_s))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})(),Bm=(()=>{class a{constructor(){this._applications=new Map,Ey.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Ey.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();class Ws{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function XS(a){Ey=a}let Ey=new Ws,ju=!0,ex=!1;function l1(){return ex=!0,ju}function c1(){if(ex)throw new Error("Cannot enable prod mode after platform setup.");ju=!1}let $o;const Sy=new pi("AllowMultipleToken");class uN{constructor(l,c){this.name=l,this.token=c}}function Yi(a,l,c=[]){const d=`Platform: ${l}`,h=new pi(d);return(f=[])=>{let _=lt();if(!_||_.injector.get(Sy,!1))if(a)a(c.concat(f).concat({provide:h,useValue:!0}));else{const v=c.concat(f).concat({provide:h,useValue:!0},{provide:gu,useValue:"platform"});!function(a){if($o&&!$o.destroyed&&!$o.injector.get(Sy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$o=a.get(Dt);const l=a.get(vy,null);l&&l.forEach(c=>c())}(Nn.create({providers:v,name:d}))}return function(a){const l=lt();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(h)}}function lt(){return $o&&!$o.destroyed?$o:null}let Dt=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const v=function(a,l){let c;return c="noop"===a?new KS:("zone.js"===a?void 0:a)||new _s({enableLongStackTrace:l1(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:_s,useValue:v}];return v.run(()=>{const M=Nn.create({providers:D,parent:this.injector,name:c.moduleType.name}),S=c.create(M),I=S.injector.get(Qd,null);if(!I)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const O=v.onError.subscribe({next:U=>{I.handleError(U)}});S.onDestroy(()=>{nr(this._modules,S),O.unsubscribe()})}),function(a,l,c){try{const d=c();return Sw(d)?d.catch(h=>{throw l.runOutsideAngular(()=>a.handleError(h)),h}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(I,v,()=>{const O=S.injector.get(Qh);return O.runInitializers(),O.donePromise.then(()=>(Ww(S.injector.get(bi,bb)||bb),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,d=[]){const h=fe({},d);return function(a,l,c){const d=new EC(c);return Promise.resolve(d)}(0,0,c).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(c){const d=c.injector.get(xe);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${j(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(fi(Nn))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();function fe(a,l){return Array.isArray(l)?l.reduce(fe,a):Object.assign(Object.assign({},a),l)}let xe=(()=>{class a{constructor(c,d,h,f,_){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new L.y(M=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),My(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{S.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ce.T)(v,D.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=c instanceof Ab?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const f=function(a){return a.isBoundToModule}(h)?void 0:this._injector.get(Iu),v=h.create(Nn.NULL,[],d||h.selector,f),D=v.location.nativeElement,M=v.injector.get(a1,null),S=M&&v.injector.get(Bm);return M&&S&&S.registerApplication(D,M),v.onDestroy(()=>{this.detachView(v.hostView),nr(this.components,v),S&&S.unregisterApplication(D)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;nr(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Xh,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(fi(_s),fi(Nn),fi(Qd),fi(xu),fi(Qh))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();function nr(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}class pN{}class Js{}const fN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let rx=(()=>{class a{constructor(c,d){this._compiler=c,this._config=d||fN}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,h]=c.split("#");return void 0===h&&(h="default"),N(8255)(d).then(f=>f[h]).then(f=>tn(f,d,h)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(c){let[d,h]=c.split("#"),f="NgFactory";return void 0===h&&(h="default",f=""),N(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(_=>_[h+f]).then(_=>tn(_,d,h))}}return a.\u0275fac=function(c){return new(c||a)(fi(Fm),fi(Js,8))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})();function tn(a,l,c){if(!a)throw new Error(`Cannot find '${c}' in '${l}'`);return a}const $u=function(a){return null},Ay=Yi(null,"core",[{provide:e1,useValue:"unknown"},{provide:Dt,deps:[Nn]},{provide:Bm,deps:[]},{provide:ZS,deps:[]}]),Zm=[{provide:xe,useClass:xe,deps:[_s,Nn,Qd,xu,Qh]},{provide:DC,deps:[_s],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Qh,useClass:Qh,deps:[[new fa,XC]]},{provide:Fm,useClass:Fm,deps:[]},Om,{provide:im,useFactory:function(){return WE},deps:[]},{provide:Nb,useFactory:function(){return JE},deps:[]},{provide:bi,useFactory:function(a){return Ww(a=a||"undefined"!=typeof $localize&&$localize.locale||bb),a},deps:[[new za(bi),new fa,new ma]]},{provide:t1,useValue:"USD"}];let hx=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(fi(xe))},a.\u0275mod=z({type:a}),a.\u0275inj=Bn({providers:Zm}),a})()},8939:(We,be,N)=>{"use strict";N.d(be,{hO:()=>ae,xv:()=>J,Dh:()=>j,GT:()=>K,on:()=>F,pX:()=>se});var r=N(7716),B=N(7841),L=N(9126);We=N.hmd(We);const ce=["ngOnDestroy"],se=(_e,De,de,Ie={})=>new Proxy(_e,{get:(Ce,Be)=>de.runOutsideAngular(()=>{var ut;if(_e[Be])return(null===(ut=null==Ie?void 0:Ie.spy)||void 0===ut?void 0:ut.get)&&Ie.spy.get(Be,_e[Be]),_e[Be];if(ce.indexOf(Be)>-1)return()=>{};const Pt=De.toPromise().then(jt=>{const en=jt&&jt[Be];return"function"==typeof en?en.bind(jt):en&&en.then?en.then(Qt=>de.run(()=>Qt)):de.run(()=>en)});return new Proxy(()=>{},{get:(jt,en)=>Pt[en],apply:(jt,en,Qt)=>Pt.then(Te=>{var rn;const re=Te&&Te(...Qt);return(null===(rn=null==Ie?void 0:Ie.spy)||void 0===rn?void 0:rn.apply)&&Ie.spy.apply(Be,Qt,re),re})})})}),K=(_e,De)=>{De.forEach(de=>{Object.getOwnPropertyNames(de.prototype||de).forEach(Ie=>{Object.defineProperty(_e.prototype,Ie,Object.getOwnPropertyDescriptor(de.prototype||de,Ie))})})};class Z{constructor(De){return De}}const j=new r.OlP("angularfire2.app.options"),J=new r.OlP("angularfire2.app.name");function F(_e,De,de){const Ce="object"==typeof de&&de||{};Ce.name=Ce.name||"string"==typeof de&&de||"[DEFAULT]";const ut=B.Z.apps.filter(Pt=>Pt&&Pt.name===Ce.name)[0]||De.runOutsideAngular(()=>B.Z.initializeApp(_e,Ce));try{JSON.stringify(_e)!==JSON.stringify(ut.options)&&V("error",`${ut.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Pt){}return new Z(ut)}const V=(_e,...De)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[_e](...De)},q={provide:Z,useFactory:F,deps:[j,r.R0b,[new r.FiY,J]]};let ae=(()=>{class _e{constructor(de){B.Z.registerVersion("angularfire",L.q4.full,"core"),B.Z.registerVersion("angularfire",L.q4.full,"app-compat"),B.Z.registerVersion("angular",r.q4F.full,de.toString())}static initializeApp(de,Ie){return{ngModule:_e,providers:[{provide:j,useValue:de},{provide:J,useValue:Ie}]}}}return _e.\u0275fac=function(de){return new(de||_e)(r.LFG(r.Lbi))},_e.\u0275mod=r.oAB({type:_e}),_e.\u0275inj=r.cJS({providers:[q]}),_e})()},9126:(We,be,N)=>{"use strict";N.d(be,{q4:()=>F,iC:()=>re,fc:()=>Te,HU:()=>Pt,cc:()=>ae});var r=N(7716);(0,N(8026).registerVersion)("firebase","9.6.5","app");var se=N(7771),K=N(3637),Z=N(8307),j=N(9746),J=N(9673);We=N.hmd(We);const F=new r.GfV("7.0.4"),V=!!We.hot,q=(pe,...ee)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[pe](...ee)};function ae(pe,ee,Ve,it,Ft){const[,dt,tt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===pe)||[];if(dt)return function(pe,ee){try{return pe.toString()===ee.toString()}catch(Ve){return pe===ee}}(Ft,tt)||(q("error",`${ee} was already initialized on the ${Ve} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Ft,was:tt})),dt;{const vt=it();return globalThis.\u0275AngularfireInstanceCache.push([pe,vt,Ft]),vt}}function Ce(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Be{constructor(ee,Ve=se.N){this.zone=ee,this.delegate=Ve}now(){return this.delegate.now()}schedule(ee,Ve,it){const Ft=this.zone;return this.delegate.schedule(function(tt){Ft.runGuarded(()=>{ee.apply(this,[tt])})},Ve,it)}}class ut{constructor(ee){this.zone=ee,this.task=null}call(ee,Ve){const it=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ce,{},Ce,Ce)),Ve.pipe((0,Z.b)({next:it,complete:it,error:it})).subscribe(ee).add(it)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pt=(()=>{class pe{constructor(Ve){this.ngZone=Ve,this.outsideAngular=Ve.runOutsideAngular(()=>new Be(Zone.current)),this.insideAngular=Ve.run(()=>new Be(Zone.current,K.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(Ve){return new(Ve||pe)(r.LFG(r.R0b))},pe.\u0275prov=r.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function jt(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("AngularFireModule has not been provided");return pe}function Te(pe){return pe.pipe((0,j.QV)(jt().outsideAngular))}function re(pe){return jt(),function(pe){return function(Ve){return(Ve=Ve.lift(new ut(pe.ngZone))).pipe((0,J.R)(pe.outsideAngular),(0,j.QV)(pe.insideAngular))}}(jt())(pe)}},9511:(We,be,N)=>{"use strict";N.d(be,{$:()=>Uv,A:()=>V,E:()=>Wi,G:()=>Ct,I:()=>so,K:()=>Ui,L:()=>Hp,M:()=>Fg,N:()=>Lg,P:()=>tr,Q:()=>La,R:()=>ZD,T:()=>yd,U:()=>vd,V:()=>Lv,W:()=>ND,X:()=>Ba,Y:()=>Cd,Z:()=>Va,_:()=>Td,a:()=>Kv,a0:()=>Hv,a1:()=>Zv,a2:()=>El,a3:()=>Kt,a4:()=>Kn,a5:()=>Ua,a6:()=>Cs,a7:()=>Md,a8:()=>PD,a9:()=>Ki,aA:()=>u0,aB:()=>jD,aC:()=>Tn,aG:()=>zr,aJ:()=>zt,aa:()=>qv,ab:()=>Vs,ae:()=>Yv,af:()=>Kp,ag:()=>Zg,aj:()=>Bv,ak:()=>zv,am:()=>Ad,an:()=>ha,ao:()=>Wn,ap:()=>re,aq:()=>hn,ar:()=>St,as:()=>ut,at:()=>d_,au:()=>tu,av:()=>Pt,aw:()=>Te,ax:()=>he,ay:()=>Zt,az:()=>fi,b:()=>Qv,c:()=>Ga,d:()=>Mk,e:()=>GD,f:()=>Zd,g:()=>Xc,h:()=>Sk,i:()=>Xi,j:()=>$D,k:()=>Un,l:()=>Dk,m:()=>ps,o:()=>j,r:()=>qD,s:()=>Ck,u:()=>Vd,z:()=>_e});var r=N(8239),B=N(3854),L=N(8026),ce=N(4762),se=N(5422),K=N(3910);const j={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _e=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new se.Yd("@firebase/auth");function Be(C,...g){Ce.logLevel<=se.in.ERROR&&Ce.error(`Auth (${L.SDK_VERSION}): ${C}`,...g)}function ut(C,...g){throw Qt(C,...g)}function Pt(C,...g){return Qt(C,...g)}function jt(C,g,y){const T=Object.assign(Object.assign({},De()),{[g]:y});return new B.LL("auth","Firebase",T).create(g,{appName:C.name})}function en(C,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&ut(C,"argument-error"),jt(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qt(C,...g){if("string"!=typeof C){const y=g[0],T=[...g.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(y,...T)}return de.create(C,...g)}function Te(C,g,...y){if(!C)throw Qt(g,...y)}function rn(C){const g="INTERNAL ASSERTION FAILED: "+C;throw Be(g),new Error(g)}function re(C,g){C||rn(g)}const ge=new Map;function he(C){re(C instanceof Function,"Expected a class definition");let g=ge.get(C);return g?(re(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,ge.set(C,g),g)}function ee(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ve(){return"http:"===it()||"https:"===it()}function it(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class tt{constructor(g,y){this.shortDelay=g,this.longDelay=y,re(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vt(C,g){re(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class zn{static initialize(g,y,T){this.fetchImpl=g,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zr=new tt(3e4,6e4);function ft(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Ln(C,g,y,T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(C,g,y,T,A={}){return ur(C,A,(0,r.Z)(function*(){let R={},ie={};T&&("GET"===g?ie=T:R={body:JSON.stringify(T)});const Ae=(0,B.xO)(Object.assign({key:C.config.apiKey},ie)).slice(1),Ke=yield C._getAdditionalHeaders();return Ke["Content-Type"]="application/json",C.languageCode&&(Ke["X-Firebase-Locale"]=C.languageCode),zn.fetch()(io(C,C.config.apiHost,y,Ae),Object.assign({method:g,headers:Ke,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ur(C,g,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(C,g,y){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},Fs),g);try{const A=new vs(C),R=yield Promise.race([y(),A.promise]);A.clearNetworkTimeout();const ie=yield R.json();if("needConfirmation"in ie)throw Yr(C,"account-exists-with-different-credential",ie);if(R.ok&&!("errorMessage"in ie))return ie;{const Ae=R.ok?ie.errorMessage:ie.error.message,[Ke,bt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Yr(C,"credential-already-in-use",ie);if("EMAIL_EXISTS"===Ke)throw Yr(C,"email-already-in-use",ie);const Wt=T[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw jt(C,Wt,bt);ut(C,Wt)}}catch(A){if(A instanceof B.ZR)throw A;ut(C,"network-request-failed")}})).apply(this,arguments)}function Sr(C,g,y,T){return sa.apply(this,arguments)}function sa(){return(sa=(0,r.Z)(function*(C,g,y,T,A={}){const R=yield Ln(C,g,y,T,A);return"mfaPendingCredential"in R&&ut(C,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function io(C,g,y,T){const A=`${g}${y}?${T}`;return C.config.emulator?vt(C.config,A):`${C.config.apiScheme}://${A}`}class vs{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Pt(this.auth,"network-request-failed")),Zr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yr(C,g,y){const T={appName:C.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const A=Pt(C,g,T);return A.customData._tokenResponse=y,A}function Ls(){return(Ls=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rt(C,g){return si.apply(this,arguments)}function si(){return(si=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $n(C,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function pt(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Vt(){return(Vt=(0,r.Z)(function*(C,g=!1){const y=(0,B.m9)(C),T=yield y.getIdToken(g),A=dn(T);Te(A&&A.exp&&A.auth_time&&A.iat,y.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,ie=null==R?void 0:R.sign_in_provider;return{claims:A,token:T,authTime:pt(dr(A.auth_time)),issuedAtTime:pt(dr(A.iat)),expirationTime:pt(dr(A.exp)),signInProvider:ie||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function dr(C){return 1e3*Number(C)}function dn(C){const[g,y,T]=C.split(".");if(void 0===g||void 0===y||void 0===T)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(y);return A?JSON.parse(A):(Be("Failed to decode base64 JWT payload"),null)}catch(A){return Be("Caught error parsing JWT payload as JSON",A),null}}function ze(C,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,r.Z)(function*(C,g,y=!1){if(y)return g;try{return yield g}catch(T){throw T instanceof B.ZR&&oa(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function oa({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ws{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const A=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(g);this.timerId=setTimeout((0,r.Z)(function*(){yield y.iteration()}),T)}iteration(){var g=this;return(0,r.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class yn{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=pt(this.lastLoginAt),this.creationTime=pt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bi(C){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,r.Z)(function*(C){var g;const y=C.auth,T=yield C.getIdToken(),A=yield ze(C,$n(y,{idToken:T}));Te(null==A?void 0:A.users.length,y,"internal-error");const R=A.users[0];C._notifyReloadListener(R);const ie=(null===(g=R.providerUserInfo)||void 0===g?void 0:g.length)?ye(R.providerUserInfo):[],Ae=Q(C.providerData,ie),Wt=!!C.isAnonymous&&!(C.email&&R.passwordHash||(null==Ae?void 0:Ae.length)),on={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Ae,metadata:new yn(R.createdAt,R.lastLoginAt),isAnonymous:Wt};Object.assign(C,on)})).apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(C){const g=(0,B.m9)(C);yield Bi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Q(C,g){return[...C.filter(T=>!g.some(A=>A.providerId===T.providerId)),...g]}function ye(C){return C.map(g=>{var{providerId:y}=g,T=(0,ce._T)(g,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Je(){return(Je=(0,r.Z)(function*(C,g){const y=yield ur(C,{},(0,r.Z)(function*(){const T=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:R}=C.config,ie=io(C,A,"/v1/token",`key=${R}`),Ae=yield C._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",zn.fetch()(ie,{method:"POST",headers:Ae,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Te(g.idToken,"internal-error"),Te(void 0!==g.idToken,"internal-error"),Te(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(C){const g=dn(C);return Te(g,"internal-error"),Te(void 0!==g.exp,"internal-error"),Te(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var T=this;return(0,r.Z)(function*(){return Te(!T.accessToken||T.refreshToken,g,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(g,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var T=this;return(0,r.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:ie}=yield function(C,g){return Je.apply(this,arguments)}(g,y);T.updateTokensAndExpiration(A,R,Number(ie))})()}updateTokensAndExpiration(g,y,T){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(g,y){const{refreshToken:T,accessToken:A,expirationTime:R}=y,ie=new mt;return T&&(Te("string"==typeof T,"internal-error",{appName:g}),ie.refreshToken=T),A&&(Te("string"==typeof A,"internal-error",{appName:g}),ie.accessToken=A),R&&(Te("number"==typeof R,"internal-error",{appName:g}),ie.expirationTime=R),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new mt,this.toJSON())}_performRefresh(){return rn("not implemented")}}function Ut(C,g){Te("string"==typeof C||void 0===C,"internal-error",{appName:g})}class Dn{constructor(g){var{uid:y,auth:T,stsTokenManager:A}=g,R=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ws(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new yn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,r.Z)(function*(){const T=yield ze(y,y.stsTokenManager.getToken(y.auth,g));return Te(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(g){return function(C){return Vt.apply(this,arguments)}(this,g)}reload(){return function(C){return H.apply(this,arguments)}(this)}_assign(g){this!==g&&(Te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Dn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var T=this;return(0,r.Z)(function*(){let A=!1;g.idToken&&g.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(g),A=!0),y&&(yield Bi(T)),yield T.auth._persistUserIfCurrent(T),A&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var g=this;return(0,r.Z)(function*(){const y=yield g.getIdToken();return yield ze(g,function(C,g){return Ls.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var T,A,R,ie,Ae,Ke,bt,Wt;const on=null!==(T=y.displayName)&&void 0!==T?T:void 0,Lo=null!==(A=y.email)&&void 0!==A?A:void 0,_a=null!==(R=y.phoneNumber)&&void 0!==R?R:void 0,ai=null!==(ie=y.photoURL)&&void 0!==ie?ie:void 0,Pe=null!==(Ae=y.tenantId)&&void 0!==Ae?Ae:void 0,Ms=null!==(Ke=y._redirectEventId)&&void 0!==Ke?Ke:void 0,Ll=null!==(bt=y.createdAt)&&void 0!==bt?bt:void 0,Me=null!==(Wt=y.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:Ht,emailVerified:ff,isAnonymous:su,providerData:mi,stsTokenManager:li}=y;Te(Ht&&li,g,"internal-error");const Jd=mt.fromJSON(this.name,li);Te("string"==typeof Ht,g,"internal-error"),Ut(on,g.name),Ut(Lo,g.name),Te("boolean"==typeof ff,g,"internal-error"),Te("boolean"==typeof su,g,"internal-error"),Ut(_a,g.name),Ut(ai,g.name),Ut(Pe,g.name),Ut(Ms,g.name),Ut(Ll,g.name),Ut(Me,g.name);const $a=new Dn({uid:Ht,auth:g,email:Lo,emailVerified:ff,displayName:on,isAnonymous:su,photoURL:ai,phoneNumber:_a,tenantId:Pe,stsTokenManager:Jd,createdAt:Ll,lastLoginAt:Me});return mi&&Array.isArray(mi)&&($a.providerData=mi.map(xt=>Object.assign({},xt))),Ms&&($a._redirectEventId=Ms),$a}static _fromIdTokenResponse(g,y,T=!1){return(0,r.Z)(function*(){const A=new mt;A.updateFromServerResponse(y);const R=new Dn({uid:y.localId,auth:g,stsTokenManager:A,isAnonymous:T});return yield Bi(R),R})()}}const Ui=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(y,T){var A=this;return(0,r.Z)(function*(){A.storage[y]=T})()}_get(y){var T=this;return(0,r.Z)(function*(){const A=T.storage[y];return void 0===A?null:A})()}_remove(y){var T=this;return(0,r.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return C.type="NONE",C})();function Zt(C,g,y){return`firebase:${C}:${g}:${y}`}class Hi{constructor(g,y,T){this.persistence=g,this.auth=y,this.userKey=T;const{config:A,name:R}=this.auth;this.fullUserKey=Zt(this.userKey,A.apiKey,R),this.fullPersistenceKey=Zt("persistence",A.apiKey,R),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,r.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Dn._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,r.Z)(function*(){if(y.persistence===g)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,T="authUser"){return(0,r.Z)(function*(){if(!y.length)return new Hi(he(Ui),g,T);const A=(yield Promise.all(y.map(function(){var bt=(0,r.Z)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let R=A[0]||he(Ui);const ie=Zt(T,g.config.apiKey,g.name);let Ae=null;for(const bt of y)try{const Wt=yield bt._get(ie);if(Wt){const on=Dn._fromJSON(g,Wt);bt!==R&&(Ae=on),R=bt;break}}catch(Wt){}const Ke=A.filter(bt=>bt._shouldAllowMigration);return R._shouldAllowMigration&&Ke.length?(R=Ke[0],Ae&&(yield R._set(ie,Ae.toJSON())),yield Promise.all(y.map(function(){var bt=(0,r.Z)(function*(Wt){if(Wt!==R)try{yield Wt._remove(ie)}catch(on){}});return function(Wt){return bt.apply(this,arguments)}}())),new Hi(R,g,T)):new Hi(R,g,T)})()}}function oe(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ye(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(W(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(sn(g))return"Blackberry";if(kt(g))return"Webos";if(z(g))return"Safari";if((g.includes("chrome/")||Ee(g))&&!g.includes("edge/"))return"Chrome";if(St(g))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function W(C=(0,B.z$)()){return/firefox\//i.test(C)}function z(C=(0,B.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ee(C=(0,B.z$)()){return/crios\//i.test(C)}function Ye(C=(0,B.z$)()){return/iemobile/i.test(C)}function St(C=(0,B.z$)()){return/android/i.test(C)}function sn(C=(0,B.z$)()){return/blackberry/i.test(C)}function kt(C=(0,B.z$)()){return/webos/i.test(C)}function hn(C=(0,B.z$)()){return/iphone|ipad|ipod/i.test(C)}function Wn(C=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Yn(C=(0,B.z$)()){return hn(C)||St(C)||kt(C)||sn(C)||/windows phone/i.test(C)||Ye(C)}function qt(C,g=[]){let y;switch(C){case"Browser":y=oe((0,B.z$)());break;case"Worker":y=`${oe((0,B.z$)())}-${C}`;break;default:y=C}const T=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${L.SDK_VERSION}/${T}`}class Rn{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aa(this),this.idTokenSubscription=new aa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var T=this;return y&&(this._popupRedirectResolver=he(y)),this._initializationPromise=this.queue((0,r.Z)(function*(){var A,R;if(!T._deleted&&(T.persistenceManager=yield Hi.create(T,g),!T._deleted)){if(null===(A=T._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(ie){}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(R=T.currentUser)||void 0===R?void 0:R.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,r.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,r.Z)(function*(){var T;let A=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const R=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,ie=null==A?void 0:A._redirectEventId,Ae=yield y.tryRedirectSignIn(g);(!R||R===ie)&&(null==Ae?void 0:Ae.user)&&(A=Ae.user)}return A?A._redirectEventId?(Te(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===A._redirectEventId?y.directlySetCurrentUser(A):y.reloadAndSetCurrentUserOrClear(A)):y.reloadAndSetCurrentUserOrClear(A):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,r.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(A){yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,r.Z)(function*(){try{yield Bi(g)}catch(T){if("auth/network-request-failed"!==T.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,r.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,r.Z)(function*(){const T=g?(0,B.m9)(g):null;return T&&Te(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,r.Z)(function*(){if(!y._deleted)return g&&Te(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,r.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,r.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,r.Z)(function*(){yield y.assertedPersistence.setPersistence(he(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,y,T){return this.registerStateListener(this.authStateSubscription,g,y,T)}onIdTokenChanged(g,y,T){return this.registerStateListener(this.idTokenSubscription,g,y,T)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var T=this;return(0,r.Z)(function*(){const A=yield T.getOrInitRedirectPersistenceManager(y);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,r.Z)(function*(){if(!y.redirectPersistenceManager){const T=g&&he(g)||y._popupRedirectResolver;Te(T,y,"argument-error"),y.redirectPersistenceManager=yield Hi.create(y,[he(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,r.Z)(function*(){var T,A;return y._isInitialized&&(yield y.queue((0,r.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===g?y._currentUser:(null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,r.Z)(function*(){if(g===y.currentUser)return y.queue((0,r.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,T,A){if(this._deleted)return()=>{};const R="function"==typeof y?y:y.next.bind(y),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(ie,this,"internal-error"),ie.then(()=>R(this.currentUser)),"function"==typeof y?g.addObserver(y,T,A):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,r.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,r.Z)(function*(){const y={"X-Client-Version":g.clientVersion};return g.app.options.appId&&(y["X-Firebase-gmpid"]=g.app.options.appId),y})()}}function Tn(C){return(0,B.m9)(C)}class aa{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(y=>this.observer=y)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wi(C,g,y){const T=Tn(C);Te(T._canInitEmulator,T,"emulator-config-failed"),Te(/^https?:\/\//.test(g),T,"invalid-emulator-scheme");const A=!!(null==y?void 0:y.disableWarnings),R=ro(g),{host:ie,port:Ae}=function(C){const g=ro(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(T);if(A){const R=A[1];return{host:R,port:vl(T.substr(R.length+1))}}{const[R,ie]=T.split(":");return{host:R,port:vl(ie)}}}(g);T.config.emulator={url:`${R}//${ie}${null===Ae?"":`:${Ae}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ie,port:Ae,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function C(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ro(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function vl(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class Ct{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return rn("not implemented")}_getIdTokenResponse(g){return rn("not implemented")}_linkToIdToken(g,y){return rn("not implemented")}_getReauthenticationResolver(g){return rn("not implemented")}}function la(C,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:resetPassword",ft(C,g))})).apply(this,arguments)}function gd(C,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xr(C,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:update",ft(C,g))})).apply(this,arguments)}function os(){return(os=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithPassword",ft(C,g))})).apply(this,arguments)}function ht(C,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:sendOobCode",ft(C,g))})).apply(this,arguments)}function Nv(C,g){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(C,g){return ht(C,g)})).apply(this,arguments)}function Vp(C,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,r.Z)(function*(C,g){return ht(C,g)})).apply(this,arguments)}function Dl(C,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,r.Z)(function*(C,g){return ht(C,g)})).apply(this,arguments)}function Qn(C,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,r.Z)(function*(C,g){return ht(C,g)})).apply(this,arguments)}function Gr(){return(Gr=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithEmailLink",ft(C,g))})).apply(this,arguments)}function ua(){return(ua=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithEmailLink",ft(C,g))})).apply(this,arguments)}class Di extends Ct{constructor(g,y,T,A=null){super("password",T),this._email=g,this._password=y,this._tenantId=A}static _fromEmailAndPassword(g,y){return new Di(g,y,"password")}static _fromEmailAndCode(g,y,T=null){return new Di(g,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,r.Z)(function*(){switch(y.signInMethod){case"password":return function(C,g){return os.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(C,g){return Gr.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:ut(g,"internal-error")}})()}_linkToIdToken(g,y){var T=this;return(0,r.Z)(function*(){switch(T.signInMethod){case"password":return gd(g,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(C,g){return ua.apply(this,arguments)}(g,{idToken:y,email:T._email,oobCode:T._password});default:ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Qi(C,g){return as.apply(this,arguments)}function as(){return(as=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithIdp",ft(C,g))})).apply(this,arguments)}class so extends Ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new so(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):ut("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:A}=y,R=(0,ce._T)(y,["providerId","signInMethod"]);if(!T||!A)return null;const ie=new so(T,A);return ie.idToken=R.idToken||void 0,ie.accessToken=R.accessToken||void 0,ie.secret=R.secret,ie.nonce=R.nonce,ie.pendingToken=R.pendingToken||null,ie}_getIdTokenResponse(g){return Qi(g,this.buildRequest())}_linkToIdToken(g,y){const T=this.buildRequest();return T.idToken=y,Qi(g,T)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Qi(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,B.xO)(y)}return g}}function Pv(C,g){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:sendVerificationCode",ft(C,g))})).apply(this,arguments)}function Og(){return(Og=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithPhoneNumber",ft(C,g))})).apply(this,arguments)}function Ng(){return(Ng=(0,r.Z)(function*(C,g){const y=yield Sr(C,"POST","/v1/accounts:signInWithPhoneNumber",ft(C,g));if(y.temporaryProof)throw Yr(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const kD={USER_NOT_FOUND:"user-not-found"};function Pg(){return(Pg=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithPhoneNumber",ft(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),kD)})).apply(this,arguments)}class Tl extends Ct{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Tl({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Tl({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(C,g){return Og.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(C,g){return Ng.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(C,g){return Pg.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:T,verificationCode:A}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:T,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:T,phoneNumber:A,temporaryProof:R}=g;return T||y||A||R?new Tl({verificationId:y,verificationCode:T,phoneNumber:A,temporaryProof:R}):null}}class bd{constructor(g){var y,T,A,R,ie,Ae;const Ke=(0,B.zd)((0,B.pd)(g)),bt=null!==(y=Ke.apiKey)&&void 0!==y?y:null,Wt=null!==(T=Ke.oobCode)&&void 0!==T?T:null,on=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ke.mode)&&void 0!==A?A:null);Te(bt&&Wt&&on,"argument-error"),this.apiKey=bt,this.operation=on,this.code=Wt,this.continueUrl=null!==(R=Ke.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(ie=Ke.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Ae=Ke.tenantId)&&void 0!==Ae?Ae:null}static parseLink(g){const y=function(C){const g=(0,B.zd)((0,B.pd)(C)).link,y=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,T=(0,B.zd)((0,B.pd)(C)).deep_link_id;return(T?(0,B.zd)((0,B.pd)(T)).link:null)||T||y||g||C}(g);try{return new bd(y)}catch(T){return null}}}let Hp=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,T){return Di._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const A=bd.parseLink(T);return Te(A,"argument-error"),Di._fromEmailAndCode(y,A.code,A.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class oo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Io extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class yd extends Io{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return Te("providerId"in y&&"signInMethod"in y,"argument-error"),so._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Te(g.idToken||g.accessToken,"argument-error"),so._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return yd.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return yd.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:A,pendingToken:R,nonce:ie,providerId:Ae}=g;if(!T&&!A&&!y&&!R||!Ae)return null;try{return new yd(Ae)._credential({idToken:y,accessToken:T,nonce:ie,pendingToken:R})}catch(Ke){return null}}}let Fg=(()=>{class C extends Io{constructor(){super("facebook.com")}static credential(y){return so._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Lg=(()=>{class C extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return so._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:A}=y;if(!T&&!A)return null;try{return C.credential(T,A)}catch(R){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),La=(()=>{class C extends Io{constructor(){super("github.com")}static credential(y){return so._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class zt extends Ct{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Qi(g,this.buildRequest())}_linkToIdToken(g,y){const T=this.buildRequest();return T.idToken=y,Qi(g,T)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Qi(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:A,pendingToken:R}=y;return T&&A&&R&&T===A?new zt(T,R):null}static _create(g,y){return new zt(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vd extends oo{constructor(g){Te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return vd.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return vd.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=zt.fromJSON(g);return Te(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:T}=g;if(!y||!T)return null;try{return zt._create(T,y)}catch(A){return null}}}let Lv=(()=>{class C extends Io{constructor(){super("twitter.com")}static credential(y,T){return so._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:A}=y;if(!T||!A)return null;try{return C.credential(T,A)}catch(R){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function qp(C,g){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signUp",ft(C,g))})).apply(this,arguments)}class ls{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,T,A=!1){return(0,r.Z)(function*(){const R=yield Dn._fromIdTokenResponse(g,T,A),ie=Yp(T);return new ls({user:R,providerId:ie,_tokenResponse:T,operationType:y})})()}static _forOperation(g,y,T){return(0,r.Z)(function*(){yield g._updateTokensIfNecessary(T,!0);const A=Yp(T);return new ls({user:g,providerId:A,_tokenResponse:T,operationType:y})})()}}function Yp(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function ND(C){return cs.apply(this,arguments)}function cs(){return(cs=(0,r.Z)(function*(C){var g;const y=Tn(C);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new ls({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield qp(y,{returnSecureToken:!0}),A=yield ls._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ml extends B.ZR{constructor(g,y,T,A){var R;super(y.code,y.message),this.operationType=T,this.user=A,Object.setPrototypeOf(this,Ml.prototype),this.customData={appName:g.name,tenantId:null!==(R=g.tenantId)&&void 0!==R?R:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(g,y,T,A){return new Ml(g,y,T,A)}}function Gp(C,g,y,T){return("reauthenticate"===g?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ml._fromErrorAndOperation(C,R,g,T):R})}function Lc(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Bv(C,g){return wd.apply(this,arguments)}function wd(){return(wd=(0,r.Z)(function*(C,g){const y=(0,B.m9)(C);yield Bc(!0,y,g);const{providerUserInfo:T}=yield rt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),A=Lc(T||[]);return y.providerData=y.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function jp(C,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,r.Z)(function*(C,g,y=!1){const T=yield ze(C,g._linkToIdToken(C.auth,yield C.getIdToken()),y);return ls._forOperation(C,"link",T)})).apply(this,arguments)}function Bc(C,g,y){return da.apply(this,arguments)}function da(){return(da=(0,r.Z)(function*(C,g,y){yield Bi(g);const A=!1===C?"provider-already-linked":"no-such-provider";Te(Lc(g.providerData).has(y)===C,g.auth,A)})).apply(this,arguments)}function Bg(C,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(C,g,y=!1){const{auth:T}=C,A="reauthenticate";try{const R=yield ze(C,Gp(T,A,g,C),y);Te(R.idToken,T,"internal-error");const ie=dn(R.idToken);Te(ie,T,"internal-error");const{sub:Ae}=ie;return Te(C.uid===Ae,T,"user-mismatch"),ls._forOperation(C,A,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&ut(T,"user-mismatch"),R}})).apply(this,arguments)}function Vg(C,g){return zp.apply(this,arguments)}function zp(){return(zp=(0,r.Z)(function*(C,g,y=!1){const T="signIn",A=yield Gp(C,T,g),R=yield ls._fromIdTokenResponse(C,T,A);return y||(yield C._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ba(C,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(C,g){return Vg(Tn(C),g)})).apply(this,arguments)}function Cd(C,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,r.Z)(function*(C,g){const y=(0,B.m9)(C);return yield Bc(!1,y,g.providerId),jp(y,g)})).apply(this,arguments)}function Va(C,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,r.Z)(function*(C,g){return Bg((0,B.m9)(C),g)})).apply(this,arguments)}function Vv(C,g){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,r.Z)(function*(C,g){return Sr(C,"POST","/v1/accounts:signInWithCustomToken",ft(C,g))})).apply(this,arguments)}function Td(C,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,r.Z)(function*(C,g){const y=Tn(C),T=yield Vv(y,{token:g,returnSecureToken:!0}),A=yield ls._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Uc{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Hc._fromServerResponse(g,y):ut(g,"internal-error")}}class Hc extends Uc{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Hc(y)}}function _t(C,g,y){var T;Te((null===(T=y.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),Te(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Te(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(Te(y.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Uv(C,g,y){return $p.apply(this,arguments)}function $p(){return($p=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C),A={requestType:"PASSWORD_RESET",email:g};y&&_t(T,A,y),yield Vp(T,A)})).apply(this,arguments)}function Hv(C,g,y){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,r.Z)(function*(C,g,y){yield la((0,B.m9)(C),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Zv(C,g){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,r.Z)(function*(C,g){yield xr((0,B.m9)(C),{oobCode:g})})).apply(this,arguments)}function El(C,g){return Se.apply(this,arguments)}function Se(){return(Se=(0,r.Z)(function*(C,g){const y=(0,B.m9)(C),T=yield la(y,{oobCode:g}),A=T.requestType;switch(Te(A,y,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(T.mfaInfo,y,"internal-error");default:Te(T.email,y,"internal-error")}let R=null;return T.mfaInfo&&(R=Uc._fromServerResponse(Tn(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Kt(C,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,r.Z)(function*(C,g){const{data:y}=yield El((0,B.m9)(C),g);return y.email})).apply(this,arguments)}function Kn(C,g,y){return qc.apply(this,arguments)}function qc(){return(qc=(0,r.Z)(function*(C,g,y){const T=Tn(C),A=yield qp(T,{returnSecureToken:!0,email:g,password:y}),R=yield ls._fromIdTokenResponse(T,"signIn",A);return yield T._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ua(C,g,y){return Ba((0,B.m9)(C),Hp.credential(g,y))}function Cs(C,g,y){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C),A={requestType:"EMAIL_SIGNIN",email:g};Te(y.handleCodeInApp,T,"argument-error"),y&&_t(T,A,y),yield Dl(T,A)})).apply(this,arguments)}function Md(C,g){const y=bd.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function PD(C,g,y){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C),A=Hp.credentialWithLink(g,y||ee());return Te(A._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Ba(T,A)})).apply(this,arguments)}function Ed(C,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:createAuthUri",ft(C,g))})).apply(this,arguments)}function Ki(C,g){return us.apply(this,arguments)}function us(){return(us=(0,r.Z)(function*(C,g){const T={identifier:g,continueUri:Ve()?ee():"http://localhost"},{signinMethods:A}=yield Ed((0,B.m9)(C),T);return A||[]})).apply(this,arguments)}function qv(C,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,r.Z)(function*(C,g){const y=(0,B.m9)(C),A={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&_t(y.auth,A,g);const{email:R}=yield Nv(y.auth,A);R!==C.email&&(yield C.reload())})).apply(this,arguments)}function Vs(C,g,y){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};y&&_t(T.auth,R,y);const{email:ie}=yield Qn(T.auth,R);ie!==C.email&&(yield C.reload())})).apply(this,arguments)}function Hg(C,g){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,r.Z)(function*(C,g){return Ln(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yv(C,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,r.Z)(function*(C,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const T=(0,B.m9)(C),R={idToken:yield T.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ie=yield ze(T,Hg(T.auth,R));T.displayName=ie.displayName||null,T.photoURL=ie.photoUrl||null;const Ae=T.providerData.find(({providerId:Ke})=>"password"===Ke);Ae&&(Ae.displayName=T.displayName,Ae.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ie)})).apply(this,arguments)}function Kp(C,g){return Al((0,B.m9)(C),g,null)}function Zg(C,g){return Al((0,B.m9)(C),null,g)}function Al(C,g,y){return xd.apply(this,arguments)}function xd(){return(xd=(0,r.Z)(function*(C,g,y){const{auth:T}=C,R={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(R.email=g),y&&(R.password=y);const ie=yield ze(C,gd(T,R));yield C._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Oo{constructor(g,y,T={}){this.isNewUser=g,this.providerId=y,this.profile=T}}class Xp extends Oo{constructor(g,y,T,A){super(g,y,T),this.username=A}}class Gv extends Oo{constructor(g,y){super(g,"facebook.com",y)}}class Yg extends Xp{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class jv extends Oo{constructor(g,y){super(g,"google.com",y)}}class Gc extends Xp{constructor(g,y,T){super(g,"twitter.com",y,T)}}function zv(C){const{user:g,_tokenResponse:y}=C;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(C){var g,y;if(!C)return null;const{providerId:T}=C,A=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},R=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const ie=null===(y=null===(g=dn(C.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ie)return new Oo(R,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!T)return null;switch(T){case"facebook.com":return new Gv(R,A);case"github.com":return new Yg(R,A);case"google.com":return new jv(R,A);case"twitter.com":return new Gc(R,A,C.screenName||null);case"custom":case"anonymous":return new Oo(R,null);default:return new Oo(R,T,A)}}(y)}class Ha{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Ha("enroll",g)}static _fromMfaPendingCredential(g){return new Ha("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,T;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Ha._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(T=g.multiFactorSession)||void 0===T?void 0:T.idToken)return Ha._fromIdtoken(g.multiFactorSession.idToken)}return null}}class No{constructor(g,y,T){this.session=g,this.hints=y,this.signInResolver=T}static _fromError(g,y){const T=Tn(g),A=y.customData._serverResponse,R=(A.mfaInfo||[]).map(Ae=>Uc._fromServerResponse(T,Ae));Te(A.mfaPendingCredential,T,"internal-error");const ie=Ha._fromMfaPendingCredential(A.mfaPendingCredential);return new No(ie,R,function(){var Ae=(0,r.Z)(function*(Ke){const bt=yield Ke._process(T,ie);delete A.mfaInfo,delete A.mfaPendingCredential;const Wt=Object.assign(Object.assign({},A),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(y.operationType){case"signIn":const on=yield ls._fromIdTokenResponse(T,y.operationType,Wt);return yield T._updateCurrentUser(on.user),on;case"reauthenticate":return Te(y.user,T,"internal-error"),ls._forOperation(y.user,y.operationType,Wt);default:ut(T,"internal-error")}});return function(Ke){return Ae.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,r.Z)(function*(){return y.signInResolver(g)})()}}function Ad(C,g){var y;const T=(0,B.m9)(C),A=g;return Te(g.customData.operationType,T,"argument-error"),Te(null===(y=A.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),No._fromError(T,A)}function Il(C,g){return Ln(C,"POST","/v2/accounts/mfaEnrollment:start",ft(C,g))}class Id{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>Uc._fromServerResponse(g.auth,T)))})}static _fromUser(g){return new Id(g)}getSession(){var g=this;return(0,r.Z)(function*(){return Ha._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var T=this;return(0,r.Z)(function*(){const A=g,R=yield T.getSession(),ie=yield ze(T.user,A._process(T.user.auth,R,y));return yield T.user._updateTokensIfNecessary(ie),T.user.reload()})()}unenroll(g){var y=this;return(0,r.Z)(function*(){const T="string"==typeof g?g:g.uid,A=yield y.user.getIdToken(),R=yield ze(y.user,function(C,g){return Ln(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(C,g))}(y.user.auth,{idToken:A,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ie})=>ie!==T),yield y.user._updateTokensIfNecessary(R);try{yield y.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const nf=new WeakMap;function ha(C){const g=(0,B.m9)(C);return nf.has(g)||nf.set(g,Id._fromUser(g)),nf.get(g)}const Za="__sak";class Wv{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qv=(()=>{class C extends Wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,B.z$)();return z(C)||hn(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const A=this.storage.getItem(T),R=this.localCache[T];A!==R&&y(T,R,A)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((Ae,Ke,bt)=>{this.notifyListeners(Ae,bt)});const A=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(A);if(y.newValue!==Ae)null!==y.newValue?this.storage.setItem(A,y.newValue):this.storage.removeItem(A);else if(this.localCache[A]===y.newValue&&!T)return}const R=()=>{const Ae=this.storage.getItem(A);!T&&this.localCache[A]===Ae||this.notifyListeners(A,Ae)},ie=this.storage.getItem(A);(0,B.w1)()&&10===document.documentMode&&ie!==y.newValue&&y.newValue!==y.oldValue?setTimeout(R,10):R()}notifyListeners(y,T){this.localCache[y]=T;const A=this.listeners[y];if(A)for(const R of Array.from(A))R(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var A=()=>super._set,R=this;return(0,r.Z)(function*(){yield A().call(R,y,T),R.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,A=this;return(0,r.Z)(function*(){const R=yield T().call(A,y);return A.localCache[y]=JSON.stringify(R),R})()}_remove(y){var T=()=>super._remove,A=this;return(0,r.Z)(function*(){yield T().call(A,y),delete A.localCache[y]})()}}return C.type="LOCAL",C})(),Kv=(()=>{class C extends Wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return C.type="SESSION",C})();let jg=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(R=>R.isListeningto(y));if(T)return T;const A=new C(y);return this.receivers.push(A),A}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,r.Z)(function*(){const A=y,{eventId:R,eventType:ie,data:Ae}=A.data,Ke=T.handlersMap[ie];if(!(null==Ke?void 0:Ke.size))return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:ie});const bt=Array.from(Ke).map(function(){var on=(0,r.Z)(function*(Lo){return Lo(A.origin,Ae)});return function(Lo){return on.apply(this,arguments)}}()),Wt=yield function(C){return Promise.all(C.map(function(){var g=(0,r.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return g.apply(this,arguments)}}()))}(bt);A.ports[0].postMessage({status:"done",eventId:R,eventType:ie,response:Wt})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function zr(C="",g=10){let y="";for(let T=0;T<g;T++)y+=Math.floor(10*Math.random());return C+y}class Rd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,T=50){var A=this;return(0,r.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let ie,Ae;return new Promise((Ke,bt)=>{const Wt=zr("",20);R.port1.start();const on=setTimeout(()=>{bt(new Error("unsupported_event"))},T);Ae={messageChannel:R,onMessage(Lo){const _a=Lo;if(_a.data.eventId===Wt)switch(_a.data.status){case"ack":clearTimeout(on),ie=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),Ke(_a.data.response);break;default:clearTimeout(on),clearTimeout(ie),bt(new Error("invalid_response"))}}},A.handlers.add(Ae),R.port1.addEventListener("message",Ae.onMessage),A.target.postMessage({eventType:g,eventId:Wt,data:y},[R.port2])}).finally(()=>{Ae&&A.removeMessageHandler(Ae)})})()}}function Mi(){return window}function Po(){return void 0!==Mi().WorkerGlobalScope&&"function"==typeof Mi().importScripts}function qa(){return(qa=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const VD="firebaseLocalStorageDb",Pd="firebaseLocalStorage",Xv="fbase_key";class Fd{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function pa(C,g){return C.transaction([Pd],g?"readwrite":"readonly").objectStore(Pd)}function le(){const C=indexedDB.open(VD,1);return new Promise((g,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(Pd,{keyPath:Xv})}catch(A){y(A)}}),C.addEventListener("success",(0,r.Z)(function*(){const T=C.result;T.objectStoreNames.contains(Pd)?g(T):(T.close(),yield function(){const C=indexedDB.deleteDatabase(VD);return new Fd(C).toPromise()}(),g(yield le()))}))})}function Mt(C,g,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,r.Z)(function*(C,g,y){const T=pa(C,!0).put({[Xv]:g,value:y});return new Fd(T).toPromise()})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(C,g){const y=pa(C,!1).get(g),T=yield new Fd(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Jg(C,g){const y=pa(C,!0).delete(g);return new Fd(y).toPromise()}const Xi=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,r.Z)(function*(){return y.db||(y.db=yield le()),y.db})()}_withRetries(y){var T=this;return(0,r.Z)(function*(){let A=0;for(;;)try{const R=yield T._openDb();return yield y(R)}catch(R){if(A++>3)throw R;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,r.Z)(function*(){return Po()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,r.Z)(function*(){y.receiver=jg._getInstance(Po()?self:null),y.receiver._subscribe("keyChanged",function(){var T=(0,r.Z)(function*(A,R){return{keyProcessed:(yield y._poll()).includes(R.key)}});return function(A,R){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,r.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,r.Z)(function*(){var T,A;if(y.activeServiceWorker=yield function(){return qa.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Rd(y.activeServiceWorker);const R=yield y.sender._send("ping",{},800);!R||(null===(T=R[0])||void 0===T?void 0:T.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,r.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const y=yield le();return yield Mt(y,Za,"1"),yield Jg(y,Za),!0}catch(y){}return!1})()}_withPendingWrite(y){var T=this;return(0,r.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var A=this;return(0,r.Z)(function*(){return A._withPendingWrite((0,r.Z)(function*(){return yield A._withRetries(R=>Mt(R,y,T)),A.localCache[y]=T,A.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,r.Z)(function*(){const A=yield T._withRetries(R=>function(C,g){return Ue.apply(this,arguments)}(R,y));return T.localCache[y]=A,A})()}_remove(y){var T=this;return(0,r.Z)(function*(){return T._withPendingWrite((0,r.Z)(function*(){return yield T._withRetries(A=>Jg(A,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,r.Z)(function*(){const T=yield y._withRetries(ie=>{const Ae=pa(ie,!1).getAll();return new Fd(Ae).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:ie,value:Ae}of T)R.add(ie),JSON.stringify(y.localCache[ie])!==JSON.stringify(Ae)&&(y.notifyListeners(ie,Ae),A.push(ie));for(const ie of Object.keys(y.localCache))y.localCache[ie]&&!R.has(ie)&&(y.notifyListeners(ie,null),A.push(ie));return A})()}notifyListeners(y,T){this.localCache[y]=T;const A=this.listeners[y];if(A)for(const R of Array.from(A))R(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Bd(C,g){return Ln(C,"POST","/v2/accounts/mfaSignIn:start",ft(C,g))}function af(){return(af=(0,r.Z)(function*(C){return(yield Ln(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ir(C){return new Promise((g,y)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=g,T.onerror=A=>{const R=Pt("internal-error");R.customData=A,y(R)},T.type="text/javascript",T.charset="UTF-8",function(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(T)})}function er(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ds=1e12;class ao{constructor(g){this.auth=g,this.counter=ds,this._widgets=new Map}render(g,y){const T=this.counter;return this._widgets.set(T,new hs(g,this.auth.name,y||{})),this.counter++,T}reset(g){var y;const T=g||ds;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(g){var y;return(null===(y=this._widgets.get(g||ds))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,r.Z)(function*(){var T;return null===(T=y._widgets.get(g||ds))||void 0===T||T.execute(),""})()}}class hs{constructor(g,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;Te(A,"argument-error",{appName:y}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=er("rcb"),hr=new tt(3e4,6e4);class wk{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mi().grecaptcha}load(g,y=""){return Te((C=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Mi().grecaptcha):new Promise((T,A)=>{const R=Mi().setTimeout(()=>{A(Pt(g,"network-request-failed"))},hr.get());Mi()[Ds]=()=>{Mi().clearTimeout(R),delete Mi()[Ds];const Ae=Mi().grecaptcha;if(!Ae)return void A(Pt(g,"internal-error"));const Ke=Ae.render;Ae.render=(bt,Wt)=>{const on=Ke(bt,Wt);return this.counter++,on},this.hostLanguage=y,T(Ae)},Ir(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Ds,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(R),A(Pt(g,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Mi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class HD{load(g){return(0,r.Z)(function*(){return new ao(g)})()}clearedOneInstance(){}}const Kg="recaptcha",pi={theme:"light",type:"image"};class ZD{constructor(g,y=Object.assign({},pi),T){this.parameters=y,this.type=Kg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(T),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;Te(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HD:new wk,this.validateStartingState()}verify(){var g=this;return(0,r.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),T=g.getAssertedRecaptcha();return T.getResponse(y)||new Promise(R=>{const ie=Ae=>{!Ae||(g.tokenChangeListeners.delete(ie),R(Ae))};g.tokenChangeListeners.add(ie),g.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof g)g(y);else if("string"==typeof g){const T=Mi()[g];"function"==typeof T&&T(y)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,r.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,r.Z)(function*(){Te(Ve()&&!Po(),g.auth,"internal-error"),yield function(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(C){return af.apply(this,arguments)}(g.auth);Te(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class r0{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Tl._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Ck(C,g,y){return s0.apply(this,arguments)}function s0(){return(s0=(0,r.Z)(function*(C,g,y){const T=Tn(C),A=yield Xg(T,g,(0,B.m9)(y));return new r0(A,R=>Ba(T,R))})).apply(this,arguments)}function Dk(C,g,y){return o0.apply(this,arguments)}function o0(){return(o0=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C);yield Bc(!1,T,"phone");const A=yield Xg(T.auth,g,(0,B.m9)(y));return new r0(A,R=>Cd(T,R))})).apply(this,arguments)}function qD(C,g,y){return a0.apply(this,arguments)}function a0(){return(a0=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C),A=yield Xg(T.auth,g,(0,B.m9)(y));return new r0(A,R=>Va(T,R))})).apply(this,arguments)}function Xg(C,g,y){return l0.apply(this,arguments)}function l0(){return(l0=(0,r.Z)(function*(C,g,y){var T;const A=yield y.verify();try{let R;if(Te("string"==typeof A,C,"argument-error"),Te(y.type===Kg,C,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const ie=R.session;if("phoneNumber"in R)return Te("enroll"===ie.type,C,"internal-error"),(yield Il(C,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Te("signin"===ie.type,C,"internal-error");const Ae=(null===(T=R.multiFactorHint)||void 0===T?void 0:T.uid)||R.multiFactorUid;return Te(Ae,C,"missing-multi-factor-info"),(yield Bd(C,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield Pv(C,{phoneNumber:R.phoneNumber,recaptchaToken:A});return ie}}finally{y._reset()}})).apply(this,arguments)}function Vd(C,g){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,r.Z)(function*(C,g){yield jp((0,B.m9)(C),g)})).apply(this,arguments)}let tr=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=Tn(y)}verifyPhoneNumber(y,T){return Xg(this.auth,y,(0,B.m9)(T))}static credential(y,T){return Tl._fromVerification(y,T)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:A}=y;return T&&A?Tl._fromTokenResponse(T,A):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Fo(C,g){return g?he(g):(Te(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Wc extends Ct{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Qi(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Qi(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Qi(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Tk(C){return Vg(C.auth,new Wc(C),C.bypassAuthState)}function YD(C){const{auth:g,user:y}=C;return Te(y,g,"internal-error"),Bg(y,new Wc(C),C.bypassAuthState)}function Us(C){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,r.Z)(function*(C){const{auth:g,user:y}=C;return Te(y,g,"internal-error"),jp(y,new Wc(C),C.bypassAuthState)})).apply(this,arguments)}class Hd{constructor(g,y,T,A,R=!1){this.auth=g,this.resolver=T,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,r.Z)(function*(T,A){g.pendingPromise={resolve:T,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(T,A){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,r.Z)(function*(){const{urlResponse:T,sessionId:A,postBody:R,tenantId:ie,error:Ae,type:Ke}=g;if(Ae)return void y.reject(Ae);const bt={auth:y.auth,requestUri:T,sessionId:A,tenantId:ie||void 0,postBody:R||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Ke)(bt))}catch(Wt){y.reject(Wt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Tk;case"linkViaPopup":case"linkViaRedirect":return Us;case"reauthViaPopup":case"reauthViaRedirect":return YD;default:ut(this.auth,"internal-error")}}resolve(g){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nl=new tt(2e3,1e4);function Ga(C,g,y){return lf.apply(this,arguments)}function lf(){return(lf=(0,r.Z)(function*(C,g,y){const T=Tn(C);en(C,g,oo);const A=Fo(T,y);return new cf(T,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function GD(C,g,y){return e_.apply(this,arguments)}function e_(){return(e_=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C);en(T.auth,g,oo);const A=Fo(T.auth,y);return new cf(T.auth,"reauthViaPopup",g,A,T).executeNotNull()})).apply(this,arguments)}function Mk(C,g,y){return c0.apply(this,arguments)}function c0(){return(c0=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C);en(T.auth,g,oo);const A=Fo(T.auth,y);return new cf(T.auth,"linkViaPopup",g,A,T).executeNotNull()})).apply(this,arguments)}let cf=(()=>{class C extends Hd{constructor(y,T,A,R,ie){super(y,T,R,ie),this.provider=A,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,r.Z)(function*(){const T=yield y.execute();return Te(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,r.Z)(function*(){re(1===y.filter.length,"Popup operations only handle one event");const T=zr();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(A=>{y.reject(A)}),y.resolver._isIframeWebStorageSupported(y.auth,A=>{A||y.reject(Pt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,A;this.pollId=(null===(A=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Nl.get())};y()}}return C.currentPopupAction=null,C})();const Jc=new Map;class Qc extends Hd{constructor(g,y,T=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,r.Z)(function*(){let T=Jc.get(y.auth._key());if(!T){try{const R=(yield function(C,g){return uf.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;T=()=>Promise.resolve(R)}catch(A){T=()=>Promise.reject(A)}Jc.set(y.auth._key(),T)}return y.bypassAuthState||Jc.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,T=this;return(0,r.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(T,g);if("unknown"!==g.type){if(g.eventId){const A=yield T.auth._redirectUserForId(g.eventId);if(A)return T.user=A,y().call(T,g);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function uf(){return(uf=(0,r.Z)(function*(C,g){const y=r_(g),T=i_(C);if(!(yield T._isAvailable()))return!1;const A="true"===(yield T._get(y));return yield T._remove(y),A})).apply(this,arguments)}function t_(C,g){return n_.apply(this,arguments)}function n_(){return(n_=(0,r.Z)(function*(C,g){return i_(C)._set(r_(g),"true")})).apply(this,arguments)}function jD(){Jc.clear()}function i_(C){return he(C._redirectPersistence)}function r_(C){return Zt("pendingRedirect",C.config.apiKey,C.name)}function Zd(C,g,y){return function(C,g,y){return Kc.apply(this,arguments)}(C,g,y)}function Kc(){return(Kc=(0,r.Z)(function*(C,g,y){const T=Tn(C);en(C,g,oo);const A=Fo(T,y);return yield t_(A,T),A._openRedirect(T,g,"signInViaRedirect")})).apply(this,arguments)}function Sk(C,g,y){return function(C,g,y){return Yd.apply(this,arguments)}(C,g,y)}function Yd(){return(Yd=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C);en(T.auth,g,oo);const A=Fo(T.auth,y);yield t_(A,T.auth);const R=yield eu(T);return A._openRedirect(T.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function Xc(C,g,y){return function(C,g,y){return o_.apply(this,arguments)}(C,g,y)}function o_(){return(o_=(0,r.Z)(function*(C,g,y){const T=(0,B.m9)(C);en(T.auth,g,oo);const A=Fo(T.auth,y);yield Bc(!1,T,g.providerId),yield t_(A,T.auth);const R=yield eu(T);return A._openRedirect(T.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function $D(C,g){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,r.Z)(function*(C,g){return yield Tn(C)._initializationPromise,u0(C,g,!1)})).apply(this,arguments)}function u0(C,g){return jd.apply(this,arguments)}function jd(){return(jd=(0,r.Z)(function*(C,g,y=!1){const T=Tn(C),A=Fo(T,g),ie=yield new Qc(T,A,y).execute();return ie&&!y&&(delete ie.user._redirectEventId,yield T._persistUserIfCurrent(ie.user),yield T._setRedirectUser(null,g)),ie})).apply(this,arguments)}function eu(C){return ja.apply(this,arguments)}function ja(){return(ja=(0,r.Z)(function*(C){const g=zr(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class fi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(g,T)&&(y=!0,this.sendToConsumer(g,T),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d0(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var T;if(g.error&&!d0(g)){const A=(null===(T=g.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Pt(this.auth,A))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const T=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&T}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(g))}saveEventToCache(g){this.cachedEventUids.add(a_(g)),this.lastProcessedEventTime=Date.now()}}function a_(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function d0({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function tu(C){return l_.apply(this,arguments)}function l_(){return(l_=(0,r.Z)(function*(C,g={}){return Ln(C,"GET","/v1/projects",g)})).apply(this,arguments)}const h0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p0=/^https?/;function za(){return(za=(0,r.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield tu(C);for(const y of g)try{if(fa(y))return}catch(T){}ut(C,"unauthorized-domain")})).apply(this,arguments)}function fa(C){const g=ee(),{protocol:y,hostname:T}=new URL(g);if(C.startsWith("chrome-extension://")){const ie=new URL(C);return""===ie.hostname&&""===T?"chrome-extension:"===y&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ie.hostname===T}if(!p0.test(y))return!1;if(h0.test(C))return T===C;const A=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(T)}const zd=new tt(3e4,6e4);function ma(){const C=Mi().___jsl;if(null==C?void 0:C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let $d=null;function c_(C){return $d=$d||function(C){return new Promise((g,y)=>{var T,A,R;function ie(){ma(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ma(),y(Pt(C,"network-request-failed"))},timeout:zd.get()})}if(null===(A=null===(T=Mi().gapi)||void 0===T?void 0:T.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(R=Mi().gapi)||void 0===R?void 0:R.load)){const Ae=er("iframefcb");return Mi()[Ae]=()=>{gapi.load?ie():y(Pt(C,"network-request-failed"))},Ir(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(Ke=>y(Ke))}ie()}}).catch(g=>{throw $d=null,g})}(C),$d}const df=new tt(5e3,15e3),KD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wd(C){const g=C.config;Te(g.authDomain,C,"auth-domain-config-required");const y=g.emulator?vt(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:g.apiKey,appName:C.name,v:L.SDK_VERSION},A=nu.get(C.config.apiHost);A&&(T.eid=A);const R=C._getFrameworks();return R.length&&(T.fw=R.join(",")),`${y}?${(0,B.xO)(T).slice(1)}`}function m0(){return(m0=(0,r.Z)(function*(C){const g=yield c_(C),y=Mi().gapi;return Te(y,C,"internal-error"),g.open({where:document.body,url:Wd(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KD,dontclear:!0},T=>new Promise(function(){var A=(0,r.Z)(function*(R,ie){yield T.restyle({setHideOnLeave:!1});const Ae=Pt(C,"network-request-failed"),Ke=Mi().setTimeout(()=>{ie(Ae)},df.get());function bt(){Mi().clearTimeout(Ke),R(T)}T.ping(bt).then(bt,()=>{ie(Ae)})});return function(R,ie){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const g0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _0{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function d_(C,g,y,T,A,R){Te(C.config.authDomain,C,"auth-domain-config-required"),Te(C.config.apiKey,C,"invalid-api-key");const ie={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:T,v:L.SDK_VERSION,eventId:A};if(g instanceof oo){g.setDefaultLanguage(C.languageCode),ie.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ke,bt]of Object.entries(R||{}))ie[Ke]=bt}if(g instanceof Io){const Ke=g.getScopes().filter(bt=>""!==bt);Ke.length>0&&(ie.scopes=Ke.join(","))}C.tenantId&&(ie.tid=C.tenantId);const Ae=ie;for(const Ke of Object.keys(Ae))void 0===Ae[Ke]&&delete Ae[Ke];return`${function({config:C}){return C.emulator?vt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,B.xO)(Ae).slice(1)}`}const ru="webStorageSupport",Un=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kv,this._completeRedirectFn=u0}_openPopup(g,y,T,A){var R=this;return(0,r.Z)(function*(){var ie;re(null===(ie=R.eventManagers[g._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Ae=d_(g,y,T,ee(),A);return function(C,g,y,T=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),ie=Math.max((window.screen.availWidth-T)/2,0).toString();let Ae="";const Ke=Object.assign(Object.assign({},g0),{width:T.toString(),height:A.toString(),top:R,left:ie}),bt=(0,B.z$)().toLowerCase();y&&(Ae=Ee(bt)?"_blank":y),W(bt)&&(g=g||"http://localhost",Ke.scrollbars="yes");const Wt=Object.entries(Ke).reduce((Lo,[_a,ai])=>`${Lo}${_a}=${ai},`,"");if(function(C=(0,B.z$)()){var g;return hn(C)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(bt)&&"_self"!==Ae)return function(C,g){const y=document.createElement("a");y.href=C,y.target=g;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(g||"",Ae),new _0(null);const on=window.open(g||"",Ae,Wt);Te(on,C,"popup-blocked");try{on.focus()}catch(Lo){}return new _0(on)}(g,Ae,zr())})()}_openRedirect(g,y,T,A){var R=this;return(0,r.Z)(function*(){return yield R._originValidation(g),C=d_(g,y,T,ee(),A),Mi().location.href=C,new Promise(()=>{});var C})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:A,promise:R}=this.eventManagers[y];return A?Promise.resolve(A):(re(R,"If manager is not set, promise should be"),R)}const T=this.initAndGetManager(g);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(g){var y=this;return(0,r.Z)(function*(){const T=yield function(C){return m0.apply(this,arguments)}(g),A=new fi(g);return T.register("authEvent",R=>(Te(null==R?void 0:R.authEvent,g,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:A},y.iframes[g._key()]=T,A})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(ru,{type:ru},A=>{var R;const ie=null===(R=null==A?void 0:A[0])||void 0===R?void 0:R[ru];void 0!==ie&&y(!!ie),ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(C){return za.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Yn()||z()||hn()}};class Ei extends class{constructor(g){this.factorId=g}_process(g,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,T);case"signin":return this._finalizeSignIn(g,y.credential);default:return rn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ei(g)}_finalizeEnroll(g,y,T){return function(C,g){return Ln(C,"POST","/v2/accounts/mfaEnrollment:finalize",ft(C,g))}(g,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(C,g){return Ln(C,"POST","/v2/accounts/mfaSignIn:finalize",ft(C,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ps=(()=>{class C{constructor(){}static assertion(y){return Ei._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var C,Fl="@firebase/auth";class b0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,r.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(T=>{var A;g((null===(A=T)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}C="Browser",(0,L._registerComponent)(new K.wA("auth",(g,{options:y})=>{const T=g.getProvider("app").getImmediate(),{apiKey:A,authDomain:R}=T.options;return(ie=>{Te(A&&!A.includes(":"),"invalid-api-key",{appName:ie.name}),Te(!(null==R?void 0:R.includes(":")),"argument-error",{appName:ie.name});const Ae={apiKey:A,authDomain:R,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qt(C)},Ke=new Rn(ie,Ae);return function(C,g){const y=(null==g?void 0:g.persistence)||[],T=(Array.isArray(y)?y:[y]).map(he);(null==g?void 0:g.errorMap)&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(T,null==g?void 0:g.popupRedirectResolver)}(Ke,y),Ke})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,T)=>{g.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new K.wA("auth-internal",g=>{const y=Tn(g.getProvider("auth").getImmediate());return new b0(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Fl,"0.19.7",void 0),(0,L.registerVersion)(Fl,"0.19.7","esm2017")},3854:(We,be,N)=>{"use strict";N.d(be,{BH:()=>ae,LL:()=>ee,ZR:()=>pe,tV:()=>J,r3:()=>ft,Sg:()=>_e,ne:()=>So,vZ:()=>qr,ZB:()=>V,pd:()=>vs,m9:()=>Vi,z$:()=>De,jU:()=>Ce,ru:()=>Be,d:()=>Pt,xb:()=>Bn,w1:()=>jt,hl:()=>rn,uI:()=>de,UG:()=>Ie,b$:()=>ut,G6:()=>Te,Mn:()=>en,xO:()=>sa,zd:()=>io});const ce=function(G){const H=[];let Q=0;for(let ye=0;ye<G.length;ye++){let ne=G.charCodeAt(ye);ne<128?H[Q++]=ne:ne<2048?(H[Q++]=ne>>6|192,H[Q++]=63&ne|128):55296==(64512&ne)&&ye+1<G.length&&56320==(64512&G.charCodeAt(ye+1))?(ne=65536+((1023&ne)<<10)+(1023&G.charCodeAt(++ye)),H[Q++]=ne>>18|240,H[Q++]=ne>>12&63|128,H[Q++]=ne>>6&63|128,H[Q++]=63&ne|128):(H[Q++]=ne>>12|224,H[Q++]=ne>>6&63|128,H[Q++]=63&ne|128)}return H},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ne=0;ne<G.length;ne+=3){const Je=G[ne],mt=ne+1<G.length,Ut=mt?G[ne+1]:0,Dn=ne+2<G.length,$i=Dn?G[ne+2]:0;let Hi=(15&Ut)<<2|$i>>6,oe=63&$i;Dn||(oe=64,mt||(Hi=64)),ye.push(Q[Je>>2],Q[(3&Je)<<4|Ut>>4],Q[Hi],Q[oe])}return ye.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(ce(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let Q=0,ye=0;for(;Q<G.length;){const ne=G[Q++];if(ne<128)H[ye++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Je=G[Q++];H[ye++]=String.fromCharCode((31&ne)<<6|63&Je)}else if(ne>239&&ne<365){const Dn=((7&ne)<<18|(63&G[Q++])<<12|(63&G[Q++])<<6|63&G[Q++])-65536;H[ye++]=String.fromCharCode(55296+(Dn>>10)),H[ye++]=String.fromCharCode(56320+(1023&Dn))}else{const Je=G[Q++],mt=G[Q++];H[ye++]=String.fromCharCode((15&ne)<<12|(63&Je)<<6|63&mt)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const Q=H?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ne=0;ne<G.length;){const Je=Q[G.charAt(ne++)],Ut=ne<G.length?Q[G.charAt(ne)]:0;++ne;const $i=ne<G.length?Q[G.charAt(ne)]:64;++ne;const Zt=ne<G.length?Q[G.charAt(ne)]:64;if(++ne,null==Je||null==Ut||null==$i||null==Zt)throw Error();ye.push(Je<<2|Ut>>4),64!==$i&&(ye.push(Ut<<4&240|$i>>2),64!==Zt&&ye.push($i<<6&192|Zt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},j=function(G){return function(G){const H=ce(G);return K.encodeByteArray(H,!0)}(G).replace(/\./g,"")},J=function(G){try{return K.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function V(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const Q in H)!H.hasOwnProperty(Q)||!q(Q)||(G[Q]=V(G[Q],H[Q]));return G}function q(G){return"__proto__"!==G}class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Q)=>{this.resolve=H,this.reject=Q})}wrapCallback(H){return(Q,ye)=>{Q?this.reject(Q):this.resolve(ye),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Q):H(Q,ye))}}}function _e(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=H||"demo-project",ne=G.iat||0,Je=G.sub||G.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ne,exp:ne+3600,auth_time:ne,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},G);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(mt)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Be(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){return De().indexOf("Electron/")>=0}function jt(){const G=De();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function en(){return De().indexOf("MSAppHost/")>=0}function Te(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rn(){return"object"==typeof indexedDB}class pe extends Error{constructor(H,Q,ye){super(Q),this.code=H,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(H,Q,ye){this.service=H,this.serviceName=Q,this.errors=ye}create(H,...Q){const ye=Q[0]||{},ne=`${this.service}/${H}`,Je=this.errors[H],mt=Je?function(G,H){return G.replace(it,(Q,ye)=>{const ne=H[ye];return null!=ne?String(ne):`<${ye}?>`})}(Je,ye):"Error";return new pe(ne,`${this.serviceName}: ${mt} (${ne}).`,ye)}}const it=/\{\$([^}]+)}/g;function ft(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function Bn(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function qr(G,H){if(G===H)return!0;const Q=Object.keys(G),ye=Object.keys(H);for(const ne of Q){if(!ye.includes(ne))return!1;const Je=G[ne],mt=H[ne];if(Sr(Je)&&Sr(mt)){if(!qr(Je,mt))return!1}else if(Je!==mt)return!1}for(const ne of ye)if(!Q.includes(ne))return!1;return!0}function Sr(G){return null!==G&&"object"==typeof G}function sa(G){const H=[];for(const[Q,ye]of Object.entries(G))Array.isArray(ye)?ye.forEach(ne=>{H.push(encodeURIComponent(Q)+"="+encodeURIComponent(ne))}):H.push(encodeURIComponent(Q)+"="+encodeURIComponent(ye));return H.length?"&"+H.join("&"):""}function io(G){const H={};return G.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ne,Je]=ye.split("=");H[decodeURIComponent(ne)]=decodeURIComponent(Je)}}),H}function vs(G){const H=G.indexOf("?");if(!H)return"";const Q=G.indexOf("#",H);return G.substring(H,Q>0?Q:void 0)}function So(G,H){const Q=new Ls(G,H);return Q.subscribe.bind(Q)}class Ls{constructor(H,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{H(this)}).catch(ye=>{this.error(ye)})}next(H){this.forEachObserver(Q=>{Q.next(H)})}error(H){this.forEachObserver(Q=>{Q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Q,ye){let ne;if(void 0===H&&void 0===Q&&void 0===ye)throw new Error("Missing Observer.");ne=function(G,H){if("object"!=typeof G||null===G)return!1;for(const Q of["next","error","complete"])if(Q in G&&"function"==typeof G[Q])return!0;return!1}(H)?H:{next:H,error:Q,complete:ye},void 0===ne.next&&(ne.next=$n),void 0===ne.error&&(ne.error=$n),void 0===ne.complete&&(ne.complete=$n);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(mt){}}),this.observers.push(ne),Je}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,H)}sendOne(H,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Q(this.observers[H])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $n(){}function Vi(G){return G&&G._delegate?G._delegate:G}},7841:(We,be,N)=>{"use strict";N.d(be,{Z:()=>r.Z});var r=N(3394);r.Z.registerVersion("firebase","9.6.5","app-compat")},4828:(We,be,N)=>{"use strict";N.r(be);var r=N(8239),B=N(3394),L=N(9511),ce=N(3854),Z=(N(8026),N(5422),N(3910));function j(){return window}function V(){return(V=(0,r.Z)(function*(oe,W,z){var Ee;const{BuildInfo:Ye}=j();(0,L.ap)(W.sessionId,"AuthEvent did not contain a session ID");const St=yield Ce(W.sessionId),sn={};return(0,L.aq)()?sn.ibi=Ye.packageName:(0,L.ar)()?sn.apn=Ye.packageName:(0,L.as)(oe,"operation-not-supported-in-this-environment"),Ye.displayName&&(sn.appDisplayName=Ye.displayName),sn.sessionId=St,(0,L.at)(oe,z,W.type,void 0,null!==(Ee=W.eventId)&&void 0!==Ee?Ee:void 0,sn)})).apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(oe){const{BuildInfo:W}=j(),z={};(0,L.aq)()?z.iosBundleId=W.packageName:(0,L.ar)()?z.androidPackageName=W.packageName:(0,L.as)(oe,"operation-not-supported-in-this-environment"),yield(0,L.au)(oe,z)})).apply(this,arguments)}function de(){return(de=(0,r.Z)(function*(oe,W,z){const{cordova:Ee}=j();let Ye=()=>{};try{yield new Promise((St,sn)=>{let kt=null;function hn(){var pn;St();const Yn=null===(pn=Ee.plugins.browsertab)||void 0===pn?void 0:pn.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function Wn(){kt||(kt=window.setTimeout(()=>{sn((0,L.av)(oe,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===(null==document?void 0:document.visibilityState)&&Wn()}W.addPassiveListener(hn),document.addEventListener("resume",Wn,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",Jn,!1),Ye=()=>{W.removePassiveListener(hn),document.removeEventListener("resume",Wn,!1),document.removeEventListener("visibilitychange",Jn,!1),kt&&window.clearTimeout(kt)}})}finally{Ye()}})).apply(this,arguments)}function Ce(oe){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(oe){const W=ut(oe),z=yield crypto.subtle.digest("SHA-256",W);return Array.from(new Uint8Array(z)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ut(oe){if((0,L.ap)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const W=new ArrayBuffer(oe.length),z=new Uint8Array(W);for(let Ee=0;Ee<oe.length;Ee++)z[Ee]=oe.charCodeAt(Ee);return z}class jt extends L.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(W=>{this.resolveInialized=W})}addPassiveListener(W){this.passiveListeners.add(W)}removePassiveListener(W){this.passiveListeners.delete(W)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(W){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(W)),super.onEvent(W)}initialized(){var W=this;return(0,r.Z)(function*(){yield W.initPromise})()}}function Te(oe){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(oe){const W=yield he()._get(me(oe));return W&&(yield he()._remove(me(oe))),W})).apply(this,arguments)}function ge(){const oe=[],W="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ee=Math.floor(Math.random()*W.length);oe.push(W.charAt(Ee))}return oe.join("")}function he(){return(0,L.ax)(L.b)}function me(oe){return(0,L.ay)("authEvent",oe.config.apiKey,oe.name)}function Ve(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[W,...z]=oe.split("?");return(0,ce.zd)(z.join("?"))}function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.av)("no-auth-event")}}function ft(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function Bn(oe=(0,ce.z$)()){return!("file:"!==ft()&&"ionic:"!==ft()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function io(){try{const oe=self.localStorage,W=L.aG();if(oe)return oe.setItem(W,"1"),oe.removeItem(W),!function(oe=(0,ce.z$)()){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)||function(oe=(0,ce.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ce.hl)()}catch(oe){return vs()&&(0,ce.hl)()}return!1}function vs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yr(){return("http:"===ft()||"https:"===ft()||(0,ce.ru)()||Bn())&&!((0,ce.b$)()||(0,ce.UG)())&&io()&&!vs()}function So(){return Bn()&&"undefined"!=typeof document}function rt(){return(rt=(0,r.Z)(function*(){return!!So()&&new Promise(oe=>{const W=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(W),oe(!0)})})})).apply(this,arguments)}const $n={LOCAL:"local",NONE:"none",SESSION:"session"},Li=L.aw,pt="persistence";function $t(oe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(oe){yield oe._initializationPromise;const W=dn(),z=L.ay(pt,oe.config.apiKey,oe.name);W&&W.setItem(z,oe._getPersistence())})).apply(this,arguments)}function dn(){var oe;try{return(null===(oe="undefined"!=typeof window?window:null)||void 0===oe?void 0:oe.sessionStorage)||null}catch(W){return null}}const He=L.aw;class ze{constructor(){this.browserResolver=L.ax(L.k),this.cordovaResolver=L.ax(class{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aA}_initialize(W){var z=this;return(0,r.Z)(function*(){const Ee=W._key();let Ye=z.eventManagers.get(Ee);return Ye||(Ye=new jt(W),z.eventManagers.set(Ee,Ye),z.attachCallbackListeners(W,Ye)),Ye})()}_openPopup(W){(0,L.as)(W,"operation-not-supported-in-this-environment")}_openRedirect(W,z,Ee,Ye){var St=this;return(0,r.Z)(function*(){!function(oe){var W,z,Ee,Ye,St,sn,kt,hn,Wn,Jn;const pn=j();(0,L.aw)("function"==typeof(null===(W=null==pn?void 0:pn.universalLinks)||void 0===W?void 0:W.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aw)(void 0!==(null===(z=null==pn?void 0:pn.BuildInfo)||void 0===z?void 0:z.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aw)("function"==typeof(null===(St=null===(Ye=null===(Ee=null==pn?void 0:pn.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===St?void 0:St.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(hn=null===(kt=null===(sn=null==pn?void 0:pn.cordova)||void 0===sn?void 0:sn.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===hn?void 0:hn.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(Jn=null===(Wn=null==pn?void 0:pn.cordova)||void 0===Wn?void 0:Wn.InAppBrowser)||void 0===Jn?void 0:Jn.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(W);const sn=yield St._initialize(W);yield sn.initialized(),sn.resetRedirect(),(0,L.aB)(),yield St._originValidation(W);const kt=function(oe,W,z=null){return{type:W,eventId:z,urlResponse:null,sessionId:ge(),postBody:null,tenantId:oe.tenantId,error:(0,L.av)(oe,"no-auth-event")}}(W,Ee,Ye);yield function(oe,W){return he()._set(me(oe),W)}(W,kt);const hn=yield function(oe,W,z){return V.apply(this,arguments)}(W,kt,z),Wn=yield function(oe){const{cordova:W}=j();return new Promise(z=>{W.plugins.browsertab.isAvailable(Ee=>{let Ye=null;Ee?W.plugins.browsertab.openUrl(oe):Ye=W.InAppBrowser.open(oe,(0,L.ao)()?"_blank":"_system","location=yes"),z(Ye)})})}(hn);return function(oe,W,z){return de.apply(this,arguments)}(W,sn,Wn)})()}_isIframeWebStorageSupported(W,z){throw new Error("Method not implemented.")}_originValidation(W){const z=W._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function(oe){return ae.apply(this,arguments)}(W)),this.originValidationPromises[z]}attachCallbackListeners(W,z){const{universalLinks:Ee,handleOpenURL:Ye,BuildInfo:St}=j(),sn=setTimeout((0,r.Z)(function*(){yield Te(W),z.onEvent(tt())}),500),kt=function(){var Jn=(0,r.Z)(function*(pn){clearTimeout(sn);const Yn=yield Te(W);let Ze=null;Yn&&(null==pn?void 0:pn.url)&&(Ze=function(oe,W){var z,Ee;const Ye=function(oe){const W=Ve(oe),z=W.link?decodeURIComponent(W.link):void 0,Ee=Ve(z).link,Ye=W.deep_link_id?decodeURIComponent(W.deep_link_id):void 0;return Ve(Ye).link||Ye||Ee||z||oe}(W);if(Ye.includes("/__/auth/callback")){const St=Ve(Ye),sn=St.firebaseError?function(oe){try{return JSON.parse(oe)}catch(W){return null}}(decodeURIComponent(St.firebaseError)):null,kt=null===(Ee=null===(z=null==sn?void 0:sn.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ee?void 0:Ee[1],hn=kt?(0,L.av)(kt):null;return hn?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:hn,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:Ye,postBody:null}}return null}(Yn,pn.url)),z.onEvent(Ze||tt())});return function(Yn){return Jn.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,kt);const hn=Ye,Wn=`${St.packageName.toLowerCase()}://`;j().handleOpenURL=function(){var Jn=(0,r.Z)(function*(pn){if(pn.toLowerCase().startsWith(Wn)&&kt({url:pn}),"function"==typeof hn)try{hn(pn)}catch(Yn){console.error(Yn)}});return function(pn){return Jn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aA}_initialize(W){var z=this;return(0,r.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(W)})()}_openPopup(W,z,Ee,Ye){var St=this;return(0,r.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(W,z,Ee,Ye)})()}_openRedirect(W,z,Ee,Ye){var St=this;return(0,r.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(W,z,Ee,Ye)})()}_isIframeWebStorageSupported(W,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(W,z)}_originValidation(W){return this.assertedUnderlyingResolver._originValidation(W)}get _shouldInitProactively(){return So()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return He(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var W=this;return(0,r.Z)(function*(){if(W.underlyingResolver)return;const z=yield function(){return rt.apply(this,arguments)}();W.underlyingResolver=z?W.cordovaResolver:W.browserResolver})()}}function xo(oe){return oe.unwrap()}function ws(oe){return Bi(oe)}function Bi(oe){const{_tokenResponse:W}=oe instanceof ce.ZR?oe.customData:oe;if(!W)return null;if(!(oe instanceof ce.ZR)&&"temporaryProof"in W&&"phoneNumber"in W)return L.P.credentialFromResult(oe);const z=W.providerId;if(!z||z===L.o.PASSWORD)return null;let Ee;switch(z){case L.o.GOOGLE:Ee=L.N;break;case L.o.FACEBOOK:Ee=L.M;break;case L.o.GITHUB:Ee=L.Q;break;case L.o.TWITTER:Ee=L.V;break;default:const{oauthIdToken:Ye,oauthAccessToken:St,oauthTokenSecret:sn,pendingToken:kt,nonce:hn}=W;return St||sn||Ye||kt?kt?z.startsWith("saml.")?L.aJ._create(z,kt):L.I._fromParams({providerId:z,signInMethod:z,pendingToken:kt,idToken:Ye,accessToken:St}):new L.T(z).credential({idToken:Ye,accessToken:St,rawNonce:hn}):null}return oe instanceof ce.ZR?Ee.credentialFromError(oe):Ee.credentialFromResult(oe)}function Vi(oe,W){return W.catch(z=>{throw z instanceof ce.ZR&&function(oe,W){var z;const Ee=null===(z=W.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===W.code)W.resolver=new Q(oe,L.am(oe,W));else if(Ee){const Ye=Bi(W),St=W;Ye&&(St.credential=Ye,St.tenantId=Ee.tenantId||void 0,St.email=Ee.email||void 0,St.phoneNumber=Ee.phoneNumber||void 0)}}(oe,z),z}).then(z=>{const Ye=z.user;return{operationType:z.operationType,credential:ws(z),additionalUserInfo:L.ak(z),user:ye.getOrCreate(Ye)}})}function G(oe,W){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(oe,W){const z=yield W;return{verificationId:z.verificationId,confirm:Ee=>Vi(oe,z.confirm(Ee))}})).apply(this,arguments)}class Q{constructor(W,z){this.resolver=z,this.auth=W.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(W){return Vi(xo(this.auth),this.resolver.resolveSignIn(W))}}class ye{constructor(W){this._delegate=W,this.multiFactor=L.an(W)}static getOrCreate(W){return ye.USER_MAP.has(W)||ye.USER_MAP.set(W,new ye(W)),ye.USER_MAP.get(W)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(W){return this._delegate.getIdTokenResult(W)}getIdToken(W){return this._delegate.getIdToken(W)}linkAndRetrieveDataWithCredential(W){return this.linkWithCredential(W)}linkWithCredential(W){var z=this;return(0,r.Z)(function*(){return Vi(z.auth,L.Y(z._delegate,W))})()}linkWithPhoneNumber(W,z){var Ee=this;return(0,r.Z)(function*(){return G(Ee.auth,L.l(Ee._delegate,W,z))})()}linkWithPopup(W){var z=this;return(0,r.Z)(function*(){return Vi(z.auth,L.d(z._delegate,W,ze))})()}linkWithRedirect(W){var z=this;return(0,r.Z)(function*(){return yield $t(L.aC(z.auth)),L.g(z._delegate,W,ze)})()}reauthenticateAndRetrieveDataWithCredential(W){return this.reauthenticateWithCredential(W)}reauthenticateWithCredential(W){var z=this;return(0,r.Z)(function*(){return Vi(z.auth,L.Z(z._delegate,W))})()}reauthenticateWithPhoneNumber(W,z){return G(this.auth,L.r(this._delegate,W,z))}reauthenticateWithPopup(W){return Vi(this.auth,L.e(this._delegate,W,ze))}reauthenticateWithRedirect(W){var z=this;return(0,r.Z)(function*(){return yield $t(L.aC(z.auth)),L.h(z._delegate,W,ze)})()}sendEmailVerification(W){return L.aa(this._delegate,W)}unlink(W){var z=this;return(0,r.Z)(function*(){return yield L.aj(z._delegate,W),z})()}updateEmail(W){return L.af(this._delegate,W)}updatePassword(W){return L.ag(this._delegate,W)}updatePhoneNumber(W){return L.u(this._delegate,W)}updateProfile(W){return L.ae(this._delegate,W)}verifyBeforeUpdateEmail(W,z){return L.ab(this._delegate,W,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ye.USER_MAP=new WeakMap;const ne=L.aw;let Je=(()=>{class oe{constructor(z,Ee){if(this.app=z,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=z.options;ne(Ye,"invalid-api-key",{appName:z.name}),ne(Ye,"invalid-api-key",{appName:z.name});const St="undefined"!=typeof window?ze:void 0;this._delegate=Ee.initialize({options:{persistence:Ut(Ye,z.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(L.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ye.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ee){L.E(this._delegate,z,Ee)}applyActionCode(z){return L.a1(this._delegate,z)}checkActionCode(z){return L.a2(this._delegate,z)}confirmPasswordReset(z,Ee){return L.a0(this._delegate,z,Ee)}createUserWithEmailAndPassword(z,Ee){var Ye=this;return(0,r.Z)(function*(){return Vi(Ye._delegate,L.a4(Ye._delegate,z,Ee))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return L.a9(this._delegate,z)}isSignInWithEmailLink(z){return L.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,r.Z)(function*(){ne(Yr(),z._delegate,"operation-not-supported-in-this-environment");const Ee=yield L.j(z._delegate,ze);return Ee?Vi(z._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function(oe,W){(0,L.aC)(oe)._logFramework(W)}(this._delegate,z)}onAuthStateChanged(z,Ee,Ye){const{next:St,error:sn,complete:kt}=mt(z,Ee,Ye);return this._delegate.onAuthStateChanged(St,sn,kt)}onIdTokenChanged(z,Ee,Ye){const{next:St,error:sn,complete:kt}=mt(z,Ee,Ye);return this._delegate.onIdTokenChanged(St,sn,kt)}sendSignInLinkToEmail(z,Ee){return L.a6(this._delegate,z,Ee)}sendPasswordResetEmail(z,Ee){return L.$(this._delegate,z,Ee||void 0)}setPersistence(z){var Ee=this;return(0,r.Z)(function*(){let Ye;switch(function(oe,W){Li(Object.values($n).includes(W),oe,"invalid-persistence-type"),(0,ce.b$)()?Li(W!==$n.SESSION,oe,"unsupported-persistence-type"):(0,ce.UG)()?Li(W===$n.NONE,oe,"unsupported-persistence-type"):vs()?Li(W===$n.NONE||W===$n.LOCAL&&(0,ce.hl)(),oe,"unsupported-persistence-type"):Li(W===$n.NONE||io(),oe,"unsupported-persistence-type")}(Ee._delegate,z),z){case $n.SESSION:Ye=L.a;break;case $n.LOCAL:Ye=(yield L.ax(L.i)._isAvailable())?L.i:L.b;break;case $n.NONE:Ye=L.K;break;default:return L.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Vi(this._delegate,L.W(this._delegate))}signInWithCredential(z){return Vi(this._delegate,L.X(this._delegate,z))}signInWithCustomToken(z){return Vi(this._delegate,L._(this._delegate,z))}signInWithEmailAndPassword(z,Ee){return Vi(this._delegate,L.a5(this._delegate,z,Ee))}signInWithEmailLink(z,Ee){return Vi(this._delegate,L.a8(this._delegate,z,Ee))}signInWithPhoneNumber(z,Ee){return G(this._delegate,L.s(this._delegate,z,Ee))}signInWithPopup(z){var Ee=this;return(0,r.Z)(function*(){return ne(Yr(),Ee._delegate,"operation-not-supported-in-this-environment"),Vi(Ee._delegate,L.c(Ee._delegate,z,ze))})()}signInWithRedirect(z){var Ee=this;return(0,r.Z)(function*(){return ne(Yr(),Ee._delegate,"operation-not-supported-in-this-environment"),yield $t(Ee._delegate),L.f(Ee._delegate,z,ze)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return L.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=$n,oe})();function mt(oe,W,z){let Ee=oe;"function"!=typeof oe&&({next:Ee,error:W,complete:z}=oe);const Ye=Ee;return{next:sn=>Ye(sn&&ye.getOrCreate(sn)),error:W,complete:z}}function Ut(oe,W){const z=function(oe,W){const z=dn();if(!z)return[];const Ee=L.ay(pt,oe,W);switch(z.getItem(Ee)){case $n.NONE:return[L.K];case $n.LOCAL:return[L.i,L.a];case $n.SESSION:return[L.a];default:return[]}}(oe,W);if("undefined"!=typeof self&&!z.includes(L.i)&&z.push(L.i),"undefined"!=typeof window)for(const Ee of[L.b,L.a])z.includes(Ee)||z.push(Ee);return z.includes(L.K)||z.push(L.K),z}class Dn{constructor(){this.providerId="phone",this._delegate=new L.P(xo(B.Z.auth()))}static credential(W,z){return L.P.credential(W,z)}verifyPhoneNumber(W,z){return this._delegate.verifyPhoneNumber(W,z)}unwrap(){return this._delegate}}Dn.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Dn.PROVIDER_ID=L.P.PROVIDER_ID;const $i=L.aw;var oe;(oe=B.Z).INTERNAL.registerComponent(new Z.wA("auth-compat",W=>{const z=W.getProvider("app-compat").getImmediate(),Ee=W.getProvider("auth");return new Je(z,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.L,FacebookAuthProvider:L.M,GithubAuthProvider:L.Q,GoogleAuthProvider:L.N,OAuthProvider:L.T,SAMLAuthProvider:L.U,PhoneAuthProvider:Dn,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:class{constructor(W,z,Ee=B.Z.app()){var Ye;$i(null===(Ye=Ee.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new L.R(W,z,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:L.V,Auth:Je,AuthCredential:L.G,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.7")},3098:(We,be,N)=>{"use strict";N.d(be,{P:()=>se});var r=N(9193),B=N(5917),L=N(205);class se{constructor(Z,j,J){this.kind=Z,this.value=j,this.error=J,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,j,J){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return j&&j(this.error);case"C":return J&&J()}}accept(Z,j,J){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,j,J)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return(0,L._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new se("N",Z):se.undefinedValueNotification}static createError(Z){return new se("E",void 0,Z)}static createComplete(){return se.completeNotification}}se.completeNotification=new se("C"),se.undefinedValueNotification=new se("N",void 0)},7574:(We,be,N)=>{"use strict";N.d(be,{y:()=>V});var r=N(7393),L=N(9181),ce=N(6490),K=N(6554),Z=N(4487);var F=N(2494);let V=(()=>{class ae{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const de=new ae;return de.source=this,de.operator=De,de}subscribe(De,de,Ie){const{operator:Ce}=this,Be=function(ae,_e,De){if(ae){if(ae instanceof r.L)return ae;if(ae[L.b])return ae[L.b]()}return ae||_e||De?new r.L(ae,_e,De):new r.L(ce.c)}(De,de,Ie);if(Be.add(Ce?Ce.call(Be,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),F.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(De){try{return this._subscribe(De)}catch(de){F.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=de),function(ae){for(;ae;){const{closed:_e,destination:De,isStopped:de}=ae;if(_e||de)return!1;ae=De&&De instanceof r.L?De:null}return!0}(De)?De.error(de):console.warn(de)}}forEach(De,de){return new(de=q(de))((Ie,Ce)=>{let Be;Be=this.subscribe(ut=>{try{De(ut)}catch(Pt){Ce(Pt),Be&&Be.unsubscribe()}},Ce,Ie)})}_subscribe(De){const{source:de}=this;return de&&de.subscribe(De)}[K.L](){return this}pipe(...De){return 0===De.length?this:function(ae){return 0===ae.length?Z.y:1===ae.length?ae[0]:function(De){return ae.reduce((de,Ie)=>Ie(de),De)}}(De)(this)}toPromise(De){return new(De=q(De))((de,Ie)=>{let Ce;this.subscribe(Be=>Ce=Be,Be=>Ie(Be),()=>de(Ce))})}}return ae.create=_e=>new ae(_e),ae})();function q(ae){if(ae||(ae=F.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},6490:(We,be,N)=>{"use strict";N.d(be,{c:()=>L});var r=N(2494),B=N(4449);const L={closed:!0,next(ce){},error(ce){if(r.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,B.z)(ce)},complete(){}}},9765:(We,be,N)=>{"use strict";N.d(be,{Yc:()=>Z,xQ:()=>j});var r=N(7574),B=N(7393),L=N(5319),ce=N(7971),se=N(8858),K=N(9181);class Z extends B.L{constructor(V){super(V),this.destination=V}}let j=(()=>{class F extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[K.b](){return new Z(this)}lift(q){const ae=new J(this,this);return ae.operator=q,ae}next(q){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:ae}=this,_e=ae.length,De=ae.slice();for(let de=0;de<_e;de++)De[de].next(q)}}error(q){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:ae}=this,_e=ae.length,De=ae.slice();for(let de=0;de<_e;de++)De[de].error(q);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:q}=this,ae=q.length,_e=q.slice();for(let De=0;De<ae;De++)_e[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new ce.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new ce.N;return this.hasError?(q.error(this.thrownError),L.w.EMPTY):this.isStopped?(q.complete(),L.w.EMPTY):(this.observers.push(q),new se.W(this,q))}asObservable(){const q=new r.y;return q.source=this,q}}return F.create=(V,q)=>new J(V,q),F})();class J extends j{constructor(V,q){super(),this.destination=V,this.source=q}next(V){const{destination:q}=this;q&&q.next&&q.next(V)}error(V){const{destination:q}=this;q&&q.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:q}=this;return q?this.source.subscribe(V):L.w.EMPTY}}},8858:(We,be,N)=>{"use strict";N.d(be,{W:()=>B});var r=N(5319);class B extends r.w{constructor(ce,se){super(),this.subject=ce,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,se=ce.observers;if(this.subject=null,!se||0===se.length||ce.isStopped||ce.closed)return;const K=se.indexOf(this.subscriber);-1!==K&&se.splice(K,1)}}},7393:(We,be,N)=>{"use strict";N.d(be,{L:()=>Z});var r=N(9105),B=N(6490),L=N(5319),ce=N(9181),se=N(2494),K=N(4449);class Z extends L.w{constructor(F,V,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!F){this.destination=B.c;break}if("object"==typeof F){F instanceof Z?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new j(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new j(this,F,V,q)}}[ce.b](){return this}static create(F,V,q){const ae=new Z(F,V,q);return ae.syncErrorThrowable=!1,ae}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class j extends Z{constructor(F,V,q,ae){super(),this._parentSubscriber=F;let _e,De=this;(0,r.m)(V)?_e=V:V&&(_e=V.next,q=V.error,ae=V.complete,V!==B.c&&(De=Object.create(V),(0,r.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=_e,this._error=q,this._complete=ae}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;se.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:q}=se.v;if(this._error)q&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)q?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,K.z)(F),this.unsubscribe();else{if(this.unsubscribe(),q)throw F;(0,K.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(q){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw q;(0,K.z)(q)}}__tryOrSetError(F,V,q){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,q)}catch(ae){return se.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=ae,F.syncErrorThrown=!0,!0):((0,K.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(We,be,N)=>{"use strict";N.d(be,{w:()=>K});var r=N(9796),B=N(1555),L=N(9105);const se=(()=>{function j(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return j.prototype=Object.create(Error.prototype),j})();class K{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:q,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof K)F.remove(this);else if(null!==F)for(let _e=0;_e<F.length;++_e)F[_e].remove(this);if((0,L.m)(q)){V&&(this._unsubscribe=void 0);try{q.call(this)}catch(_e){J=_e instanceof se?Z(_e.errors):[_e]}}if((0,r.k)(ae)){let _e=-1,De=ae.length;for(;++_e<De;){const de=ae[_e];if((0,B.K)(de))try{de.unsubscribe()}catch(Ie){J=J||[],Ie instanceof se?J=J.concat(Z(Ie.errors)):J.push(Ie)}}}if(J)throw new se(J)}add(J){let F=J;if(!J)return K.EMPTY;switch(typeof J){case"function":F=new K(J);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof K)){const ae=F;F=new K,F._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof K){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[F]:q.push(F),F}remove(J){const F=this._subscriptions;if(F){const V=F.indexOf(J);-1!==V&&F.splice(V,1)}}}var j;function Z(j){return j.reduce((J,F)=>J.concat(F instanceof se?F.errors:F),[])}K.EMPTY=((j=new K).closed=!0,j)},2494:(We,be,N)=>{"use strict";N.d(be,{v:()=>B});let r=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=L},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(We,be,N)=>{"use strict";N.d(be,{IY:()=>ce,Ds:()=>K,ft:()=>j});var r=N(7393),B=N(7574),L=N(7444);class ce extends r.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class K extends r.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function j(J,F){if(F.closed)return;if(J instanceof B.y)return J.subscribe(F);let V;try{V=(0,L.s)(J)(F)}catch(q){F.error(q)}return V}},2441:(We,be,N)=>{"use strict";N.d(be,{c:()=>se,N:()=>K});var r=N(9765),B=N(7574),L=N(5319),ce=N(1307);class se extends B.y{constructor(V,q){super(),this.source=V,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new L.w,V.add(this.source.subscribe(new Z(this.getSubject(),this))),V.closed&&(this._connection=null,V=L.w.EMPTY)),V}refCount(){return(0,ce.x)()(this)}}const K=(()=>{const F=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class Z extends r.Yc{constructor(V,q){super(V),this.connectable=q}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const q=V._connection;V._refCount=0,V._subject=null,V._connection=null,q&&q.unsubscribe()}}}},9193:(We,be,N)=>{"use strict";N.d(be,{E:()=>B,c:()=>L});var r=N(7574);const B=new r.y(se=>se.complete());function L(se){return se?function(se){return new r.y(K=>se.schedule(()=>K.complete()))}(se):B}},4402:(We,be,N)=>{"use strict";N.d(be,{D:()=>De});var r=N(7574),B=N(7444),L=N(5319),ce=N(6554),Z=N(4087),j=N(377),V=N(4072),q=N(9489);function De(de,Ie){return Ie?function(de,Ie){if(null!=de){if(function(de){return de&&"function"==typeof de[ce.L]}(de))return function(de,Ie){return new r.y(Ce=>{const Be=new L.w;return Be.add(Ie.schedule(()=>{const ut=de[ce.L]();Be.add(ut.subscribe({next(Pt){Be.add(Ie.schedule(()=>Ce.next(Pt)))},error(Pt){Be.add(Ie.schedule(()=>Ce.error(Pt)))},complete(){Be.add(Ie.schedule(()=>Ce.complete()))}}))})),Be})}(de,Ie);if((0,V.t)(de))return function(de,Ie){return new r.y(Ce=>{const Be=new L.w;return Be.add(Ie.schedule(()=>de.then(ut=>{Be.add(Ie.schedule(()=>{Ce.next(ut),Be.add(Ie.schedule(()=>Ce.complete()))}))},ut=>{Be.add(Ie.schedule(()=>Ce.error(ut)))}))),Be})}(de,Ie);if((0,q.z)(de))return(0,Z.r)(de,Ie);if(function(de){return de&&"function"==typeof de[j.hZ]}(de)||"string"==typeof de)return function(de,Ie){if(!de)throw new Error("Iterable cannot be null");return new r.y(Ce=>{const Be=new L.w;let ut;return Be.add(()=>{ut&&"function"==typeof ut.return&&ut.return()}),Be.add(Ie.schedule(()=>{ut=de[j.hZ](),Be.add(Ie.schedule(function(){if(Ce.closed)return;let Pt,jt;try{const en=ut.next();Pt=en.value,jt=en.done}catch(en){return void Ce.error(en)}jt?Ce.complete():(Ce.next(Pt),this.schedule())}))})),Be})}(de,Ie)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,Ie):de instanceof r.y?de:new r.y((0,B.s)(de))}},6693:(We,be,N)=>{"use strict";N.d(be,{n:()=>ce});var r=N(7574),B=N(5015),L=N(4087);function ce(se,K){return K?(0,L.r)(se,K):new r.y((0,B.V)(se))}},6682:(We,be,N)=>{"use strict";N.d(be,{T:()=>se});var r=N(7574),B=N(4869),L=N(3282),ce=N(6693);function se(...K){let Z=Number.POSITIVE_INFINITY,j=null,J=K[K.length-1];return(0,B.K)(J)?(j=K.pop(),K.length>1&&"number"==typeof K[K.length-1]&&(Z=K.pop())):"number"==typeof J&&(Z=K.pop()),null===j&&1===K.length&&K[0]instanceof r.y?K[0]:(0,L.J)(Z)((0,ce.n)(K,j))}},5917:(We,be,N)=>{"use strict";N.d(be,{of:()=>ce});var r=N(4869),B=N(6693),L=N(4087);function ce(...se){let K=se[se.length-1];return(0,r.K)(K)?(se.pop(),(0,L.r)(se,K)):(0,B.n)(se)}},205:(We,be,N)=>{"use strict";N.d(be,{_:()=>B});var r=N(7574);function B(ce,se){return new r.y(se?K=>se.schedule(L,0,{error:ce,subscriber:K}):K=>K.error(ce))}function L({error:ce,subscriber:se}){se.error(ce)}},8002:(We,be,N)=>{"use strict";N.d(be,{U:()=>B});var r=N(7393);function B(se,K){return function(j){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return j.lift(new L(se,K))}}class L{constructor(K,Z){this.project=K,this.thisArg=Z}call(K,Z){return Z.subscribe(new ce(K,this.project,this.thisArg))}}class ce extends r.L{constructor(K,Z,j){super(K),this.project=Z,this.count=0,this.thisArg=j||this}_next(K){let Z;try{Z=this.project.call(this.thisArg,K,this.count++)}catch(j){return void this.destination.error(j)}this.destination.next(Z)}}},3282:(We,be,N)=>{"use strict";N.d(be,{J:()=>L});var r=N(9773),B=N(4487);function L(ce=Number.POSITIVE_INFINITY){return(0,r.zg)(B.y,ce)}},9773:(We,be,N)=>{"use strict";N.d(be,{zg:()=>ce});var r=N(8002),B=N(4402),L=N(5345);function ce(j,J,F=Number.POSITIVE_INFINITY){return"function"==typeof J?V=>V.pipe(ce((q,ae)=>(0,B.D)(j(q,ae)).pipe((0,r.U)((_e,De)=>J(q,_e,ae,De))),F)):("number"==typeof J&&(F=J),V=>V.lift(new se(j,F)))}class se{constructor(J,F=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=F}call(J,F){return F.subscribe(new K(J,this.project,this.concurrent))}}class K extends L.Ds{constructor(J,F,V=Number.POSITIVE_INFINITY){super(J),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let F;const V=this.index++;try{F=this.project(J,V)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(F)}_innerSub(J){const F=new L.IY(this),V=this.destination;V.add(F);const q=(0,L.ft)(J,F);q!==F&&V.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(We,be,N)=>{"use strict";N.d(be,{QV:()=>L,ht:()=>se});var r=N(7393),B=N(3098);function L(Z,j=0){return function(F){return F.lift(new ce(Z,j))}}class ce{constructor(j,J=0){this.scheduler=j,this.delay=J}call(j,J){return J.subscribe(new se(j,this.scheduler,this.delay))}}class se extends r.L{constructor(j,J,F=0){super(j),this.scheduler=J,this.delay=F}static dispatch(j){const{notification:J,destination:F}=j;J.observe(F),this.unsubscribe()}scheduleMessage(j){this.destination.add(this.scheduler.schedule(se.dispatch,this.delay,new K(j,this.destination)))}_next(j){this.scheduleMessage(B.P.createNext(j))}_error(j){this.scheduleMessage(B.P.createError(j)),this.unsubscribe()}_complete(){this.scheduleMessage(B.P.createComplete()),this.unsubscribe()}}class K{constructor(j,J){this.notification=j,this.destination=J}}},1307:(We,be,N)=>{"use strict";N.d(be,{x:()=>B});var r=N(7393);function B(){return function(K){return K.lift(new L(K))}}class L{constructor(K){this.connectable=K}call(K,Z){const{connectable:j}=this;j._refCount++;const J=new ce(K,j),F=Z.subscribe(J);return J.closed||(J.connection=j.connect()),F}}class ce extends r.L{constructor(K,Z){super(K),this.connectable=Z}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const Z=K._refCount;if(Z<=0)return void(this.connection=null);if(K._refCount=Z-1,Z>1)return void(this.connection=null);const{connection:j}=this,J=K._connection;this.connection=null,J&&(!j||J===j)&&J.unsubscribe()}}},8819:(We,be,N)=>{"use strict";N.d(be,{B:()=>Z});var r=N(2441);var ce=N(1307),se=N(9765);function K(){return new se.xQ}function Z(){return j=>(0,ce.x)()(function(j,J){return function(V){let q;q="function"==typeof j?j:function(){return j};const ae=Object.create(V,r.N);return ae.source=V,ae.subjectFactory=q,ae}}(K)(j))}},9673:(We,be,N)=>{"use strict";N.d(be,{R:()=>se});var r=N(7574),B=N(4581),L=N(6561);class ce extends r.y{constructor(j,J=0,F=B.e){super(),this.source=j,this.delayTime=J,this.scheduler=F,(!(0,L.k)(J)||J<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=B.e)}static create(j,J=0,F=B.e){return new ce(j,J,F)}static dispatch(j){const{source:J,subscriber:F}=j;return this.add(J.subscribe(F))}_subscribe(j){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:j})}}function se(Z,j=0){return function(F){return F.lift(new K(Z,j))}}class K{constructor(j,J){this.scheduler=j,this.delay=J}call(j,J){return new ce(J,this.delay,this.scheduler).subscribe(j)}}},8307:(We,be,N)=>{"use strict";N.d(be,{b:()=>ce});var r=N(7393),B=N(8640),L=N(9105);function ce(Z,j,J){return function(V){return V.lift(new se(Z,j,J))}}class se{constructor(j,J,F){this.nextOrObserver=j,this.error=J,this.complete=F}call(j,J){return J.subscribe(new K(j,this.nextOrObserver,this.error,this.complete))}}class K extends r.L{constructor(j,J,F,V){super(j),this._tapNext=B.Z,this._tapError=B.Z,this._tapComplete=B.Z,this._tapError=F||B.Z,this._tapComplete=V||B.Z,(0,L.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||B.Z,this._tapError=J.error||B.Z,this._tapComplete=J.complete||B.Z)}_next(j){try{this._tapNext.call(this._context,j)}catch(J){return void this.destination.error(J)}this.destination.next(j)}_error(j){try{this._tapError.call(this._context,j)}catch(J){return void this.destination.error(J)}this.destination.error(j)}_complete(){try{this._tapComplete.call(this._context)}catch(j){return void this.destination.error(j)}return this.destination.complete()}}},4087:(We,be,N)=>{"use strict";N.d(be,{r:()=>L});var r=N(7574),B=N(5319);function L(ce,se){return new r.y(K=>{const Z=new B.w;let j=0;return Z.add(se.schedule(function(){j!==ce.length?(K.next(ce[j++]),K.closed||Z.add(this.schedule())):K.complete()})),Z})}},6465:(We,be,N)=>{"use strict";N.d(be,{o:()=>L});var r=N(5319);class B extends r.w{constructor(se,K){super()}schedule(se,K=0){return this}}class L extends B{constructor(se,K){super(se,K),this.scheduler=se,this.work=K,this.pending=!1}schedule(se,K=0){if(this.closed)return this;this.state=se;const Z=this.id,j=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(j,Z,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(j,this.id,K),this}requestAsyncId(se,K,Z=0){return setInterval(se.flush.bind(se,this),Z)}recycleAsyncId(se,K,Z=0){if(null!==Z&&this.delay===Z&&!1===this.pending)return K;clearInterval(K)}execute(se,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(se,K);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,K){let j,Z=!1;try{this.work(se)}catch(J){Z=!0,j=!!J&&J||new Error(J)}if(Z)return this.unsubscribe(),j}_unsubscribe(){const se=this.id,K=this.scheduler,Z=K.actions,j=Z.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==j&&Z.splice(j,1),null!=se&&(this.id=this.recycleAsyncId(K,se,null)),this.delay=null}}},6102:(We,be,N)=>{"use strict";N.d(be,{v:()=>B});let r=(()=>{class L{constructor(se,K=L.now){this.SchedulerAction=se,this.now=K}schedule(se,K=0,Z){return new this.SchedulerAction(this,se).schedule(Z,K)}}return L.now=()=>Date.now(),L})();class B extends r{constructor(ce,se=r.now){super(ce,()=>B.delegate&&B.delegate!==this?B.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,se=0,K){return B.delegate&&B.delegate!==this?B.delegate.schedule(ce,se,K):super.schedule(ce,se,K)}flush(ce){const{actions:se}=this;if(this.active)return void se.push(ce);let K;this.active=!0;do{if(K=ce.execute(ce.state,ce.delay))break}while(ce=se.shift());if(this.active=!1,K){for(;ce=se.shift();)ce.unsubscribe();throw K}}}},4581:(We,be,N)=>{"use strict";N.d(be,{e:()=>q,E:()=>V});let r=1;const B=Promise.resolve(),L={};function ce(ae){return ae in L&&(delete L[ae],!0)}const se={setImmediate(ae){const _e=r++;return L[_e]=!0,B.then(()=>ce(_e)&&ae()),_e},clearImmediate(ae){ce(ae)}};var Z=N(6465),J=N(6102);const V=new class extends J.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let de,Ie=-1,Ce=De.length;_e=_e||De.shift();do{if(de=_e.execute(_e.state,_e.delay))break}while(++Ie<Ce&&(_e=De.shift()));if(this.active=!1,de){for(;++Ie<Ce&&(_e=De.shift());)_e.unsubscribe();throw de}}}(class extends Z.o{constructor(_e,De){super(_e,De),this.scheduler=_e,this.work=De}requestAsyncId(_e,De,de=0){return null!==de&&de>0?super.requestAsyncId(_e,De,de):(_e.actions.push(this),_e.scheduled||(_e.scheduled=se.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,De,de=0){if(null!==de&&de>0||null===de&&this.delay>0)return super.recycleAsyncId(_e,De,de);0===_e.actions.length&&(se.clearImmediate(De),_e.scheduled=void 0)}}),q=V},3637:(We,be,N)=>{"use strict";N.d(be,{z:()=>L,P:()=>ce});var r=N(6465);const L=new(N(6102).v)(r.o),ce=L},7771:(We,be,N)=>{"use strict";N.d(be,{c:()=>K,N:()=>se});var r=N(6465),L=N(6102);const se=new class extends L.v{}(class extends r.o{constructor(j,J){super(j,J),this.scheduler=j,this.work=J}schedule(j,J=0){return J>0?super.schedule(j,J):(this.delay=J,this.state=j,this.scheduler.flush(this),this)}execute(j,J){return J>0||this.closed?super.execute(j,J):this._execute(j,J)}requestAsyncId(j,J,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(j,J,F):j.flush(this)}}),K=se},377:(We,be,N)=>{"use strict";N.d(be,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,be,N)=>{"use strict";N.d(be,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,be,N)=>{"use strict";N.d(be,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,be,N)=>{"use strict";N.d(be,{N:()=>B});const B=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(We,be,N)=>{"use strict";function r(B){setTimeout(()=>{throw B},0)}N.d(be,{z:()=>r})},4487:(We,be,N)=>{"use strict";function r(B){return B}N.d(be,{y:()=>r})},9796:(We,be,N)=>{"use strict";N.d(be,{k:()=>r});const r=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(We,be,N)=>{"use strict";N.d(be,{z:()=>r});const r=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(We,be,N)=>{"use strict";function r(B){return"function"==typeof B}N.d(be,{m:()=>r})},6561:(We,be,N)=>{"use strict";N.d(be,{k:()=>B});var r=N(9796);function B(L){return!(0,r.k)(L)&&L-parseFloat(L)+1>=0}},1555:(We,be,N)=>{"use strict";function r(B){return null!==B&&"object"==typeof B}N.d(be,{K:()=>r})},4072:(We,be,N)=>{"use strict";function r(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}N.d(be,{t:()=>r})},4869:(We,be,N)=>{"use strict";function r(B){return B&&"function"==typeof B.schedule}N.d(be,{K:()=>r})},8640:(We,be,N)=>{"use strict";function r(){}N.d(be,{Z:()=>r})},7444:(We,be,N)=>{"use strict";N.d(be,{s:()=>V});var r=N(5015),B=N(4449),ce=N(377),K=N(6554),j=N(9489),J=N(4072),F=N(1555);const V=q=>{if(q&&"function"==typeof q[K.L])return(q=>ae=>{const _e=q[K.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(ae)})(q);if((0,j.z)(q))return(0,r.V)(q);if((0,J.t)(q))return(q=>ae=>(q.then(_e=>{ae.closed||(ae.next(_e),ae.complete())},_e=>ae.error(_e)).then(null,B.z),ae))(q);if(q&&"function"==typeof q[ce.hZ])return(q=>ae=>{const _e=q[ce.hZ]();for(;;){let De;try{De=_e.next()}catch(de){return ae.error(de),ae}if(De.done){ae.complete();break}if(ae.next(De.value),ae.closed)break}return"function"==typeof _e.return&&ae.add(()=>{_e.return&&_e.return()}),ae})(q);{const _e=`You provided ${(0,F.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},5015:(We,be,N)=>{"use strict";N.d(be,{V:()=>r});const r=B=>L=>{for(let ce=0,se=B.length;ce<se&&!L.closed;ce++)L.next(B[ce]);L.complete()}},8204:(We,be,N)=>{"use strict";var r=N(7716);let B=null;function L(){return B}const Z=new r.OlP("DocumentToken");let j=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:J,token:n,providedIn:"platform"}),n})();function J(){return(0,r.LFG)(V)}const F=new r.OlP("Location Initialized");let V=(()=>{class n extends j{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){q()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){q()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=(0,r.Yz7)({factory:ae,token:n,providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ae(){return new V((0,r.LFG)(Z))}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function De(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:Ce,token:n,providedIn:"root"}),n})();function Ce(n){const t=(0,r.LFG)(Z).location;return new ut((0,r.LFG)(j),t&&t.origin||"")}const Be=new r.OlP("appBaseHref");let ut=(()=>{class n extends Ie{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,o){const u=this.prepareExternalUrl(s+de(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){const u=this.prepareExternalUrl(s+de(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(j),r.LFG(Be,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Pt=(()=>{class n extends Ie{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=_e(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,o){let u=this.prepareExternalUrl(s+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){let u=this.prepareExternalUrl(s+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(j),r.LFG(Be,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),jt=(()=>{class n{constructor(e,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=De(Te(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+de(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Te(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ie),r.LFG(j))},n.normalizeQueryParams=de,n.joinWithSlash=_e,n.stripTrailingSlash=De,n.\u0275prov=(0,r.Yz7)({factory:en,token:n,providedIn:"root"}),n})();function en(){return new jt((0,r.LFG)(Ie),(0,r.LFG)(j))}function Te(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))();const vs=r.kL8;class la{}let gd=(()=>{class n extends la{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(vs(i||this.locale)(e)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.soG))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class os{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ht=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,o,u)=>{if(null==s.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new os(null,this._ngForOf,-1,-1),null===u?void 0:u),m=new _d(s,p);i.push(m)}else if(null==u)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const p=this._viewContainer.get(o);this._viewContainer.move(p,u);const m=new _d(s,p);i.push(m)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,o=this._viewContainer.length;s<o;s++){const u=this._viewContainer.get(s);u.context.index=s,u.context.count=o,u.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class _d{constructor(t,e){this.record=t,this.view=e}}let Qe=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Vp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ca("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ca("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Vp{constructor(){this.$implicit=null,this.ngIf=null}}function ca(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class Dl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ji=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Qn=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new Dl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(Ji,9))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ua=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Di=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),n})();class xD{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class so{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Pv=new so,Ig=new xD;let Rg=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,r.QGY)(e))return Pv;if((0,r.F4k)(e))return Ig;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO,16))},n.\u0275pipe=r.Yjl({name:"async",type:n,pure:!1}),n})(),zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:la,useClass:gd}]}),n})();function Fc(n){return"browser"===n}function ls(n){return"server"===n}let Ml=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new Gp((0,r.LFG)(Z),window)}),n})();class Gp{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Lc(this.window.history)||Lc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Lc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Bc,B||(B=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(da=da||document.querySelector("base"),da?da.getAttribute("href"):null);return null==e?null:function(n){Vn=Vn||document.createElement("a"),Vn.setAttribute("href",n);const t=Vn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Vn,da=null;const zp=new r.OlP("TRANSITION_ID"),jr=[{provide:r.ip1,useFactory:function(n,t,e){return()=>{e.get(r.CZH).donePromise.then(()=>{const i=L(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<s.length;o++)i.remove(s[o])})}},deps:[zp,Z,r.zs3],multi:!0}];class Cd{static init(){(0,r.VLi)(new Cd)}addToWindow(t){r.dqk.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new Error("Could not find testability for element.");return o},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const s=r.dqk.getAllAngularTestabilities();let o=s.length,u=!1;const p=function(m){u=u||m,o--,0==o&&i(u)};s.forEach(function(m){m.whenStable(p)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Vc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const El=new r.OlP("EventManagerPlugins");let Se=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let o=0;o<s.length;o++){const u=s[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(El),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Kt{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=L().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Zc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Kn=(()=>{class n extends Zc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,s.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(qc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qc))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n){L().remove(n)}const Ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cs=/%COMP%/g;function Ki(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Ki(n,s,e):(s=s.replace(Cs,n),e.push(s))}return e}function us(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Bs=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Vs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Yv(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case r.ifc.ShadowDom:return new Yc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Ki(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Se),r.LFG(Kn),r.LFG(r.AFp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Vs{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ua[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const o=Ua[s];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Ua[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,i,s&r.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,us(i)):this.eventManager.addEventListener(t,e,us(i))}}class Yv extends Vs{constructor(t,e,i,s){super(t),this.component=i;const o=Ki(s+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Cs,s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Cs,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Yc extends Vs{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ki(s.id,s.styles,[]);for(let u=0;u<o.length;u++){const p=document.createElement("style");p.textContent=o[u],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kp=(()=>{class n extends Kt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Gc=["alt","control","meta","shift"],FD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$v={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ef=(()=>{class n extends Kt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=n._normalizeKey(i.pop());let u="";if(Gc.forEach(m=>{const b=i.indexOf(m);b>-1&&(i.splice(b,1),u+=m+".")}),u+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=s,p.fullKey=u,p}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&kr.hasOwnProperty(t)&&(t=kr[t]))}return FD[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Gc.forEach(o=>{o!=s&&$v[o](e)&&(i+=o+".")}),i+=s,i}static eventCallback(e,i,s){return o=>{n.getEventFullKey(o)===e&&s.runGuarded(()=>i(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),No=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(Il)},token:n,providedIn:"root"}),n})(),Il=(()=>{class n extends No{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case r.q3G.NONE:return i;case r.q3G.HTML:return(0,r.qzn)(i,"HTML")?(0,r.z3N)(i):(0,r.EiD)(this._doc,String(i)).toString();case r.q3G.STYLE:return(0,r.qzn)(i,"Style")?(0,r.z3N)(i):i;case r.q3G.SCRIPT:if((0,r.qzn)(i,"Script"))return(0,r.z3N)(i);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(i),(0,r.qzn)(i,"URL")?(0,r.z3N)(i):(0,r.mCW)(String(i));case r.q3G.RESOURCE_URL:if((0,r.qzn)(i,"ResourceURL"))return(0,r.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=(0,r.Yz7)({factory:function(){return function(n){return new Il(n.get(Z))}((0,r.LFG)(r.gxx))},token:n,providedIn:"root"}),n})();const jc=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Bc.makeCurrent(),Cd.init()},multi:!0},{provide:Z,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),rf=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:El,useClass:Kp,multi:!0,deps:[Z,r.R0b,r.Lbi]},{provide:El,useClass:ef,multi:!0,deps:[Z]},[],{provide:Bs,useClass:Bs,deps:[Se,Kn,r.AFp]},{provide:r.FYo,useExisting:Bs},{provide:Zc,useExisting:Kn},{provide:Kn,useClass:Kn,deps:[Z]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Se,useClass:Se,deps:[El,r.R0b]},{provide:class{},useClass:Vc,deps:[]},[]];let Gg=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.AFp,useValue:e.appId},{provide:zp,useExisting:r.AFp},jr]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:rf,imports:[zt,r.hGG]}),n})();"undefined"!=typeof window&&window;var le=N(9765),Mt=N(5319),Ya=N(7971);class oi extends le.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ya.N;return this._value}next(t){super.next(this._value=t)}}var Ue=N(5917);function Un(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var jn=N(8307),Ei=N(7393),ps=N(3637);function Fl(n,t=ps.P){return e=>e.lift(new h_(n,t))}class h_{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new b0(t,this.dueTime,this.scheduler))}}class b0 extends Ei.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(y0,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function y0(n){n.debouncedNext()}function gt(n,t){return function(i){return i.lift(new ga(n,t))}}class ga{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new C(t,this.predicate,this.thisArg))}}class C extends Ei.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var g=N(8002);const T=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var A=N(9193);function R(n){return t=>0===n?(0,A.c)():t.lift(new ie(n))}class ie{constructor(t){if(this.total=t,this.total<0)throw new T}call(t,e){return e.subscribe(new Ae(t,this.total))}}class Ae extends Ei.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Ke(n){return t=>t.lift(new bt(n))}class bt{constructor(t){this.total=t}call(t,e){return e.subscribe(new Wt(t,this.total))}}class Wt extends Ei.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function on(n,t){return e=>e.lift(new Lo(n,t))}class Lo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new _a(t,this.compare,this.keySelector))}}class _a extends Ei.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var ai=N(5345);function Pe(n){return t=>t.lift(new Ms(n))}class Ms{constructor(t){this.notifier=t}call(t,e){const i=new Ll(t),s=(0,ai.ft)(this.notifier,new ai.IY(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class Ll extends ai.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Me(n){return null!=n&&"false"!=`${n}`}function Ht(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function su(n){return Array.isArray(n)?n:[n]}function mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function li(n){return n instanceof r.SBq?n.nativeElement:n}let $a;try{$a="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){$a=!1}let gf,xt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Fc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$a)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.Lbi))},token:n,providedIn:"root"}),n})(),mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const v0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rT(){if(gf)return gf;if("object"!=typeof document||!document)return gf=new Set(v0),gf;let n=document.createElement("input");return gf=new Set(v0.filter(t=>(n.setAttribute("type",t),n.type===t))),gf}let _f,bf,ba,C0;function Bo(n){return function(){if(null==_f&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_f=!0}))}finally{_f=_f||!1}return _f}()?n:!!n.capture}function w0(){if(null==ba){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ba=!1,ba;if("scrollBehavior"in document.documentElement.style)ba=!0;else{const n=Element.prototype.scrollTo;ba=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ba}function ou(){if("object"!=typeof document||!document)return 0;if(null==bf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),bf=0,0===n.scrollLeft&&(n.scrollLeft=1,bf=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return bf}function p_(n){if(function(){if(null==C0){const n="undefined"!=typeof document?document.head:null;C0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return C0}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Wa(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Es(n){return n.composedPath?n.composedPath()[0]:n.target}var Mn=N(7574);let D0=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),sT=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=li(e);return new Mn.y(s=>{const u=this._observeElement(i).subscribe(s);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new le.xQ,s=this._mutationObserverFactory.create(o=>i.next(o));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(D0))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(D0))},token:n,providedIn:"root"}),n})(),yf=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Me(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ht(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Fl(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(sT),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),vf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[D0]}),n})();class au extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new le.xQ,this._typeaheadSubscription=Mt.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new le.xQ,this.change=new le.xQ,t instanceof r.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,jn.b)(e=>this._pressedLetters.push(e)),Fl(t),gt(()=>this._pressedLetters.length>0),(0,g.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const o=(this._activeItemIndex+s)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Un(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let E0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===x0(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),o=x0(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Fk(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt))},token:n,providedIn:"root"}),n})();function Fk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function x0(n){if(!Fk(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Qd{constructor(t,e,i,s,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(R(1)).subscribe(t)}}let g_=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new Qd(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(E0),r.LFG(r.R0b),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(E0),r.LFG(r.R0b),r.LFG(Z))},token:n,providedIn:"root"}),n})();function A0(n){return 0===n.offsetX&&0===n.offsetY}function Df(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const pT=new r.OlP("cdk-input-modality-detector-options"),Zk={ignoreKeys:[18,17,224,91,16]},Vo=Bo({passive:!0,capture:!0});let Uo=(()=>{class n{constructor(e,i,s,o){this._platform=e,this._mostRecentTarget=null,this._modality=new oi(null),this._lastTouchMs=0,this._onKeydown=u=>{var p,m;(null===(m=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===m?void 0:m.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Es(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(A0(u)?"keyboard":"mouse"),this._mostRecentTarget=Es(u))},this._onTouchstart=u=>{Df(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Es(u))},this._options=Object.assign(Object.assign({},Zk),o),this.modalityDetected=this._modality.pipe(Ke(1)),this.modalityChanged=this.modalityDetected.pipe(on()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Vo),s.addEventListener("mousedown",this._onMousedown,Vo),s.addEventListener("touchstart",this._onTouchstart,Vo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,Vo),document.removeEventListener("mousedown",this._onMousedown,Vo),document.removeEventListener("touchstart",this._onTouchstart,Vo))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z),r.LFG(pT,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z),r.LFG(pT,8))},token:n,providedIn:"root"}),n})();const b_=new r.OlP("cdk-focus-monitor-default-options"),Kd=Bo({passive:!0,capture:!0});let ei=(()=>{class n{constructor(e,i,s,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le.xQ,this._rootNodeFocusAndBlurListener=p=>{const m=Es(p),b="focus"===p.type?this._onFocus:this._onBlur;for(let w=m;w;w=w.parentElement)b.call(this,p,w)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const s=li(e);if(!this._platform.isBrowser||1!==s.nodeType)return(0,Ue.of)(null);const o=p_(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return i&&(u.checkChildren=!0),u.subject;const p={checkChildren:i,subject:new le.xQ,rootNode:o};return this._elementInfo.set(s,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=li(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const o=li(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([p,m])=>this._originChanged(p,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,s){s?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),o=Es(e);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kd),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kd)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pe(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kd),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kd),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,o)=>{(o===e||s.checkChildren&&o.contains(e))&&i.push([o,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(xt),r.LFG(Uo),r.LFG(Z,8),r.LFG(b_,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(xt),r.LFG(Uo),r.LFG(Z,8),r.LFG(b_,8))},token:n,providedIn:"root"}),n})(),y_=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new r.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(ei))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Xd="cdk-high-contrast-black-on-white",I0="cdk-high-contrast-white-on-black",v_="cdk-high-contrast-active";let w_=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(v_),e.remove(Xd),e.remove(I0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(v_),e.add(Xd)):2===i&&(e.add(v_),e.add(I0))}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(Z))},token:n,providedIn:"root"}),n})(),lu=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(w_))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mf,vf]]}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var Vl=N(9796),zk=N(9105);function kn(n,t,e,i){return(0,zk.m)(e)&&(i=e,e=void 0),i?kn(n,t,e).pipe((0,g.U)(s=>(0,Vl.k)(s)?i(...s):i(s))):new Mn.y(s=>{gT(n,t,function(u){s.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},s,e)})}function gT(n,t,e,i,s){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,s),o=()=>u.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),o=()=>u.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),o=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,p=n.length;u<p;u++)gT(n[u],t,e,i,s)}i.add(o)}var O0=N(6465),N0=N(6102);const yT=new class extends N0.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this.active=!1,i){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends O0.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});N(4581);class wT{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Kk(t,this.durationSelector))}}class Kk extends ai.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=(0,ai.ft)(e,new ai.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var eh=N(6561),D_=N(4869);function Mf(n=0,t,e){let i=-1;return(0,eh.k)(t)?i=Number(t)<1?1:Number(t):(0,D_.K)(t)&&(e=t),(0,D_.K)(e)||(e=ps.P),new Mn.y(s=>{const o=(0,eh.k)(n)?n:+n-e.now();return e.schedule(CT,o,{index:0,period:i,subscriber:s})})}function CT(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function Ef(n,t=ps.P){return function(n){return function(e){return e.lift(new wT(n))}}(()=>Mf(n,t))}var th=N(3282);function Ul(...n){return(0,th.J)(1)((0,Ue.of)(...n))}function Yt(...n){const t=n[n.length-1];return(0,D_.K)(t)?(n.pop(),e=>Ul(n,e,t)):e=>Ul(n,e)}function Sf(){return n=>n.lift(new P0)}class P0{call(t,e){return e.subscribe(new TT(t))}}class TT extends Ei.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var On=N(4402);function fn(n,t){return"function"==typeof t?e=>e.pipe(fn((i,s)=>(0,On.D)(n(i,s)).pipe((0,g.U)((o,u)=>t(i,o,s,u))))):e=>e.lift(new Xk(n))}class Xk{constructor(t){this.project=t}call(t,e){return e.subscribe(new MT(t,this.project))}}class MT extends ai.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new ai.IY(this),s=this.destination;s.add(i),this.innerSubscription=(0,ai.ft)(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var eI=N(7771),xf=N(9746),ET=N(8858);class F0 extends le.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ST(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length;let u;if(this.closed)throw new Ya.N;if(this.isStopped||this.hasError?u=Mt.w.EMPTY:(this.observers.push(t),u=new ET.W(this,t)),s&&t.add(t=new xf.ht(t,s)),e)for(let p=0;p<o&&!t.closed;p++)t.next(i[p]);else for(let p=0;p<o&&!t.closed;p++)t.next(i[p].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||eI.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,s=this._events,o=s.length;let u=0;for(;u<o&&!(t-s[u].time<i);)u++;return o>e&&(u=Math.max(u,o-e)),u>0&&s.splice(0,u),s}}class ST{constructor(t,e){this.time=t,this.value=e}}function Ss(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},s=>s.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let s,u,o=0,p=!1,m=!1;return function(w){let E;o++,!s||p?(p=!1,s=new F0(n,t,i),E=s.subscribe(this),u=w.subscribe({next(x){s.next(x)},error(x){p=!0,s.error(x)},complete(){m=!0,u=void 0,s.complete()}}),m&&(u=void 0)):E=s.subscribe(this),this.add(()=>{o--,E.unsubscribe(),E=void 0,u&&!m&&e&&0===o&&(u.unsubscribe(),u=void 0,s=void 0)})}}(i))}const AT=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(Z)}});let mn=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const s=e.documentElement?e.documentElement.dir:null,o=(e.body?e.body.dir:null)||s;this.value="ltr"===o||"rtl"===o?o:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(AT,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(AT,8))},token:n,providedIn:"root"}),n})(),Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function nh(n){return n&&"function"==typeof n.connect}class IT{applyChanges(t,e,i,s,o){t.forEachOperation((u,p,m)=>{let b,w;if(null==u.previousIndex){const E=i(u,p,m);b=e.createEmbeddedView(E.templateRef,E.context,E.index),w=1}else null==m?(e.remove(p),w=3):(b=e.get(p),e.move(b,m),w=2);o&&o({context:null==b?void 0:b.context,operation:w,record:u})})}detach(){}}const cu=new r.OlP("_ViewRepeater");let Ja=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new le.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Mn.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(Ef(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(gt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=li(i),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(xt),r.LFG(Z,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(xt),r.LFG(Z,8))},token:n,providedIn:"root"}),n})(),Hl=(()=>{class n{constructor(e,i,s,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=o,this._destroyed=new le.xQ,this._elementScrolled=new Mn.y(u=>this.ngZone.runOutsideAngular(()=>kn(this.elementRef.nativeElement,"scroll").pipe(Pe(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=ou()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==ou()?e.left=e.right:1==ou()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;w0()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",s="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?s:i:"end"==e&&(e=u?i:s),u&&2==ou()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==ou()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Ja),r.Y36(r.R0b),r.Y36(mn,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),_r=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new le.xQ,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ef(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(r.R0b),r.LFG(Z,8))},token:n,providedIn:"root"}),n})(),br=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),uu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Wr,mf,br],Wr,br]}),n})();function H0(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}var En=N(6682);function Z0(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function du(n,t){const e=t?"":"none";Z0(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function sI(n,t,e){Z0(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function S_(n,t){return t&&"none"!=t?n+" "+t:n}function oI(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function x_(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function q0(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function kf(n,t,e){const{top:i,bottom:s,left:o,right:u}=n;return e>=i&&e<=s&&t>=o&&t<=u}function A_(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function aI(n,t,e,i){const{top:s,right:o,bottom:u,left:p,width:m,height:b}=n,w=m*t,E=b*t;return i>s-E&&i<u+E&&e>p-w&&e<o+w}class lI{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:q0(e)})})}handleScroll(t){const e=Es(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,o=i.scrollPosition;let u,p;if(e===this._document){const w=this._viewportRuler.getViewportScrollPosition();u=w.top,p=w.left}else u=e.scrollTop,p=e.scrollLeft;const m=o.top-u,b=o.left-p;return this.positions.forEach((w,E)=>{w.clientRect&&e!==E&&s.contains(E)&&A_(w.clientRect,m,b)}),o.top=u,o.left=p,{top:m,left:b}}}function cI(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?hI(n,t):("input"===i||"select"===i||"textarea"===i)&&dI(n,t),uI("canvas",n,t,hI),uI("input, textarea, select",n,t,dI),t}function uI(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const o=e.querySelectorAll(n);for(let u=0;u<s.length;u++)i(s[u],o[u])}}let nB=0;function dI(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${nB++}`)}function hI(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const pI=Bo({passive:!0}),fI=Bo({passive:!1}),wa=new Set(["position"]);class Y0{constructor(t,e,i,s,o,u){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new le.xQ,this._pointerMoveSubscription=Mt.w.EMPTY,this._pointerUpSubscription=Mt.w.EMPTY,this._scrollSubscription=Mt.w.EMPTY,this._resizeSubscription=Mt.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new le.xQ,this.started=new le.xQ,this.released=new le.xQ,this.ended=new le.xQ,this.entered=new le.xQ,this.exited=new le.xQ,this.dropped=new le.xQ,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const m=this._handles.find(b=>{const w=Es(p);return!!w&&(w===b||b.contains(w))});m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const m=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const k=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),P=this._dropContainer;if(!k)return void this._endDragSequence(p);(!P||!P.isDragging()&&!P.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),p.preventDefault();const b=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(b),this._dropContainer)this._updateActiveDropContainer(b,m);else{const w=this._activeTransform;w.x=b.x-this._pickupPositionOnPage.x+this._passiveTransform.x,w.y=b.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(w.x,w.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${w.x} ${w.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:b,event:p,distance:this._getDragDistance(b),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new lI(i,o),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Me(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>du(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>li(i)),this._handles.forEach(i=>du(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=li(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,fI),e.addEventListener("touchstart",this._pointerDown,pI)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?li(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&ih(this._rootElement),ih(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),du(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),du(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&ih(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&ih(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){rh(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();s.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),sI(i,!1,wa),this._document.body.appendChild(s.replaceChild(o,i)),this._getPreviewInsertionPoint(s,p).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=rh(e),o=!s&&0!==e.button,u=this._rootElement,p=Es(e),m=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),b=s?Df(e):A0(e);if(p&&p.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||m||b)return;this._handles.length&&(this._rootElementTapHighlight=u.style.webkitTapHighlightColor||"",u.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(x=>this._updateOnScroll(x)),this._boundaryElement&&(this._boundaryRect=q0(this._boundaryElement));const w=this._previewTemplate;this._pickupPositionInElement=w&&w.template&&!w.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){sI(this._rootElement,!0,wa),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),o=this._getDragDistance(s),u=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:o,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,u,o,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const o=t.matchSize?this._rootElement.getBoundingClientRect():null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),s=I_(u,this._document),this._previewRef=u,t.matchSize?FT(s,o):s.style.transform=k_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;s=cI(o),FT(s,o.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return Z0(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},wa),du(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>s.classList.add(o)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=x_(t,"transition-property"),i=e.find(p=>"transform"===p||"all"===p);if(!i)return 0;const s=e.indexOf(i),o=x_(t,"transition-duration"),u=x_(t,"transition-delay");return oI(o[s])+oI(u[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=u=>{(!u||Es(u)===this._preview&&"transform"===u.propertyName)&&(this._preview.removeEventListener("transitionend",s),i(),clearTimeout(o))},o=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=I_(this._placeholderRef,this._document)):i=cI(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,o=s?s.getBoundingClientRect():i,u=rh(e)?e.targetTouches[0]:e,p=this._getViewportScrollPosition();return{x:o.left-i.left+(u.pageX-o.left-p.left),y:o.top-i.top+(u.pageY-o.top-p.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=rh(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const p=this._ownerSVGElement.createSVGPoint();return p.x=s,p.y=o,p.matrixTransform(u.inverse())}}return{x:s,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:u}=this._pickupPositionInElement,p=this._boundaryRect,m=this._previewRect,b=p.top+u,w=p.bottom-(m.height-u);i=G0(i,p.left+o,p.right-(m.width-o)),s=G0(s,b,w)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-o.x),p=Math.abs(i-o.y);return u>this._config.pointerDirectionChangeThreshold&&(s.x=e>o.x?1:-1,o.x=e),p>this._config.pointerDirectionChangeThreshold&&(s.y=i>o.y?1:-1,o.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,du(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,fI),t.removeEventListener("touchstart",this._pointerDown,pI)}_applyRootElementTransform(t,e){const i=k_(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=S_(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,o=k_(t,e);this._preview.style.transform=S_(o,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const o=i.left-s.left,u=s.right-i.right,p=i.top-s.top,m=s.bottom-i.bottom;i.width>s.width?(o>0&&(t+=o),u>0&&(t-=u)):t=0,i.height>s.height?(p>0&&(e+=p),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:rh(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Es(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&A_(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=p_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return li(i)}}function k_(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function G0(n,t,e){return Math.max(t,Math.min(e,n))}function ih(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function rh(n){return"t"===n.type[0]}function I_(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function FT(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=k_(t.left,t.top)}function R_(n,t){return Math.max(0,Math.min(t,n))}class BT{constructor(t,e,i,s,o){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new le.xQ,this.entered=new le.xQ,this.exited=new le.xQ,this.dropped=new le.xQ,this.sorted=new le.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Mt.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new le.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=ps.P){return(!(0,eh.k)(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=ps.P),new Mn.y(e=>(e.add(t.schedule(H0,n,{subscriber:e,counter:0,period:n})),e))}(0,yT).pipe(Pe(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?VT(u,-p):2===this._verticalScrollDirection&&VT(u,p),1===this._horizontalScrollDirection?sh(u,-p):2===this._horizontalScrollDirection&&sh(u,p)})},this.element=li(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new lI(i,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let o;this._draggingStarted(),null==s?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,i))):o=s;const u=this._activeDraggables,p=u.indexOf(t),m=t.getPlaceholderElement();let b=u[o];if(b===t&&(b=u[o+1]),p>-1&&u.splice(p,1),b&&!this._dragDropRegistry.isDragging(b)){const w=b.getRootElement();w.parentElement.insertBefore(m,w),u.splice(o,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const w=u[0].getRootElement();w.parentNode.insertBefore(m,w),u.unshift(t)}else li(this.element).appendChild(m),u.push(t);m.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,o,u,p){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:o,distance:u,dropPoint:p})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=li(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?j0("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!aI(this._clientRect,.05,e,i))return;const o=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===u&&o.length>0)return;const p="horizontal"===this._orientation,m=j0(o,X=>X.drag===t),b=o[u],E=b.clientRect,x=m>u?1:-1,k=this._getItemOffsetPx(o[m].clientRect,E,x),P=this._getSiblingOffsetPx(m,o,x),Y=o.slice();(function(n,t,e){const i=R_(t,n.length-1),s=R_(e,n.length-1);if(i===s)return;const o=n[i],u=s<i?-1:1;for(let p=i;p!==s;p+=u)n[p]=n[p+u];n[s]=o})(o,m,u),this.sorted.next({previousIndex:m,currentIndex:u,container:this,item:t}),o.forEach((X,ke)=>{if(Y[ke]===X)return;const Ne=X.drag===t,Fe=Ne?k:P,je=Ne?t.getPlaceholderElement():X.drag.getRootElement();X.offset+=Fe,p?(je.style.transform=S_(`translate3d(${Math.round(X.offset)}px, 0, 0)`,X.initialTransform),A_(X.clientRect,0,Fe)):(je.style.transform=S_(`translate3d(0, ${Math.round(X.offset)}px, 0)`,X.initialTransform),A_(X.clientRect,Fe,0))}),this._previousSwap.overlaps=kf(E,e,i),this._previousSwap.drag=b.drag,this._previousSwap.delta=p?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,o=0;if(this._parentPositions.positions.forEach((u,p)=>{p===this._document||!u.clientRect||i||aI(u.clientRect,.05,t,e)&&([s,o]=function(n,t,e,i){const s=hu(t,i),o=N_(t,e);let u=0,p=0;if(s){const m=n.scrollTop;1===s?m>0&&(u=1):n.scrollHeight-m>n.clientHeight&&(u=2)}if(o){const m=n.scrollLeft;1===o?m>0&&(p=1):n.scrollWidth-m>n.clientWidth&&(p=2)}return[u,p]}(p,u.clientRect,t,e),(s||o)&&(i=p))}),!s&&!o){const{width:u,height:p}=this._viewportRuler.getViewportSize(),m={width:u,height:p,top:0,right:u,bottom:p,left:0};s=hu(m,e),o=N_(m,t),i=window}i&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=i,(s||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=li(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=li(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:q0(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=li(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const o=null===(i=this._itemPositions.find(u=>u.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=o||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,o=e[t].clientRect,u=e[t+-1*i];let p=o[s?"width":"height"]*i;if(u){const m=s?"left":"top",b=s?"right":"bottom";-1===i?p-=u.clientRect[m]-o[b]:p+=o[m]-u.clientRect[b]}return p}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let o=s?e.left-t.left:e.top-t.top;return-1===i&&(o+=s?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return s?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return s?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,s){const o="horizontal"===this._orientation,u=j0(this._itemPositions,({drag:p,clientRect:m},b,w)=>{if(p===t)return w.length<2;if(s){const E=o?s.x:s.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&E===this._previousSwap.delta)return!1}return o?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom)});return-1!==u&&this.sortPredicate(u,t,this)?u:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&kf(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!kf(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const o=li(this.element);return s===o||o.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{A_(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=p_(li(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function j0(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function VT(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function sh(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function hu(n,t){const{top:e,bottom:i,height:s}=n,o=.05*s;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function N_(n,t){const{left:e,right:i,width:s}=n,o=.05*s;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const ql=Bo({passive:!1,capture:!0});let pu=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new le.xQ,this.pointerUp=new le.xQ,this.scroll=new le.xQ,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ql)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ql)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ql}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:ql}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,u)=>{this._document.addEventListener(u,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Mn.y(s=>this._ngZone.runOutsideAngular(()=>{const u=p=>{this._activeDragInstances.length&&s.next(p)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,En.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(Z))},token:n,providedIn:"root"}),n})();const gI={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let P_=(()=>{class n{constructor(e,i,s,o){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(e,i=gI){return new Y0(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new BT(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(r.R0b),r.LFG(_r),r.LFG(pu))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z),r.LFG(r.R0b),r.LFG(_r),r.LFG(pu))},token:n,providedIn:"root"}),n})(),cB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[P_],imports:[br]}),n})();class Q0{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ah extends Q0{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class uo extends Q0{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class DI extends Q0{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class lh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ah?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof uo?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof DI?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qT extends lh{constructor(t,e,i,s,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=u=>{const p=u.element,m=this._document.createComment("dom-portal");p.parentNode.insertBefore(m,p),this.outletElement.appendChild(p),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(p,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ci=(()=>{class n extends lh{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=o=>{const u=o.element,p=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(p,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(u,p)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(Z))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),n})(),Ka=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Wr]]}),n})();const JT=[[["caption"]],[["colgroup"],["col"]]],SI=["caption","colgroup, col"];function QT(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Me(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const uh=new r.OlP("CDK_TABLE");let fu=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),mu=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Rf=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class XT{}const el=QT(XT);let ho=(()=>{class n extends el{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Me(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(uh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,fu,5),r.Suo(s,mu,5),r.Suo(s,Rf,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.cell=o.first),r.iGM(o=r.CRH())&&(i.headerCell=o.first),r.iGM(o=r.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})();class ew{constructor(t,e){const i=e.nativeElement.classList;for(const s of t._columnCssClassName)i.add(s)}}let tw=(()=>{class n extends ew{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ho),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.qOj]}),n})(),Gl=(()=>{class n extends ew{constructor(e,i){var s;if(super(e,i),1===(null===(s=e._table)||void 0===s?void 0:s._elementRef.nativeElement.nodeType)){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ho),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),n})();class nw{constructor(){this.tasks=[],this.endTasks=[]}}const gu=new r.OlP("_COALESCED_STYLE_SCHEDULER");let dh=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new le.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new nw,this._getScheduleObservable().pipe(Pe(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new nw;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,On.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(R(1))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Of=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof hh?e.headerCell.template:this instanceof Nf?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();class eM extends Of{}const kI=QT(eM);let hh=(()=>{class n extends kI{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(uh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})();class II extends Of{}const iw=QT(II);let Nf=(()=>{class n extends iw{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(uh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})(),U_=(()=>{class n extends Of{constructor(e,i,s){super(e,i),this._table=s}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(uh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),n})(),Ca=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n.mostRecentCellOutlet=null,n})(),jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),Z_=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const _u=["top","bottom","left","right"];class RI{constructor(t,e,i,s,o=!0,u=!0,p){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=s,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const s of t)if(s.nodeType===s.ELEMENT_NODE){i.push(s);for(let o=0;o<s.children.length;o++)i.push(s.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const s of i)this._removeStickyStyle(s,e)})}updateStickyColumns(t,e,i,s=!0){if(!t.length||!this._isBrowser||!e.some(x=>x)&&!i.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,p=this._getCellWidths(o,s),m=this._getStickyStartColumnPositions(p,e),b=this._getStickyEndColumnPositions(p,i),w=e.lastIndexOf(!0),E=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,k=x?"right":"left",P=x?"left":"right";for(const Y of t)for(let X=0;X<u;X++){const ke=Y.children[X];e[X]&&this._addStickyStyle(ke,k,m[X],X===w),i[X]&&this._addStickyStyle(ke,P,b[X],X===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:p.slice(0,w+1).map((Y,X)=>e[X]?Y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:p.slice(E).map((Y,X)=>i[X+E]?Y:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const s="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],p=[],m=[];for(let w=0,E=0;w<s.length;w++){if(!o[w])continue;u[w]=E;const x=s[w];m[w]=this._isNativeHtmlTable?Array.from(x.children):[x];const k=x.getBoundingClientRect().height;E+=k,p[w]=k}const b=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var w,E;for(let x=0;x<s.length;x++){if(!o[x])continue;const k=u[x],P=x===b;for(const Y of m[x])this._addStickyStyle(Y,i,k,P)}"top"===i?null===(w=this._positionListener)||void 0===w||w.stickyHeaderRowsUpdated({sizes:p,offsets:u,elements:m}):null===(E=this._positionListener)||void 0===E||E.stickyFooterRowsUpdated({sizes:p,offsets:u,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const s of e)t.style[s]="",t.classList.remove(this._borderCellCss[s]);_u.some(s=>-1===e.indexOf(s)&&t.style[s])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,s){t.classList.add(this._stickCellCss),s&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const s of _u)t.style[s]&&(i+=e[s]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],s=t.children;for(let o=0;o<s.length;o++)i.push(s[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let s=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=s,s+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let s=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=s,s+=t[o]);return i}}const nM=new r.OlP("CDK_SPL");let ph=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),fh=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),sw=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),q_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Pf=(()=>{class n{constructor(e,i,s,o,u,p,m,b,w,E,x){this._differs=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=u,this._platform=m,this._viewRepeater=b,this._coalescedStyleScheduler=w,this._viewportRuler=E,this._stickyPositioningListener=x,this._onDestroy=new le.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new oi({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Me(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Me(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Pe(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),nh(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(s,o,u)=>this._getEmbeddedViewArgs(s.item,u),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{i.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===o&&u.push(i[p]);this._addStickyColumnStyles(u,o)}),s.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let o=this._data[s];const u=this._getRenderRowsForData(o,s,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let p=0;p<u.length;p++){let m=u[p];const b=this._cachedRenderRowsMap.get(m.data);b.has(m.rowDef)?b.get(m.rowDef).push(m):b.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,s){return this._getRowDefs(e,i).map(u=>{const p=s&&s.has(u)?s.get(u):[];if(p.length){const m=p.shift();return m.dataIndex=i,m}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ff(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Ff(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ff(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ff(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,p)=>u||!!p.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||s||o}_switchDataSource(e){this._data=[],nh(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;nh(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Mn.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ue.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Pe(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const s=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),o=s.map(p=>p.sticky),u=s.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let s=0;s<e.viewContainer.length;s++){const o=e.viewContainer.get(s);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&s.push(o)}return s}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,s,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,s);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let s of this._getCellTemplates(e))Ca.mostRecentCellOutlet&&Ca.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,s=e.length;i<s;i++){const u=e.get(i).context;u.count=s,u.first=0===i,u.last=i===s-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const s=this._columnDefsByName.get(i);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of i){const o=this._document.createElement(s.tag);o.setAttribute("role","rowgroup");for(const u of s.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,s)=>i||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new RI(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ue.of)()).pipe(Pe(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const s=this._noDataRowOutlet.viewContainer;i?s.createEmbeddedView(e.templateRef):s.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(mn,8),r.Y36(Z),r.Y36(xt),r.Y36(cu),r.Y36(gu),r.Y36(_r),r.Y36(nM,12))},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,Z_,5),r.Suo(s,ho,5),r.Suo(s,U_,5),r.Suo(s,hh,5),r.Suo(s,Nf,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._noDataRow=o.first),r.iGM(o=r.CRH())&&(i._contentColumnDefs=o),r.iGM(o=r.CRH())&&(i._contentRowDefs=o),r.iGM(o=r.CRH())&&(i._contentHeaderRowDefs=o),r.iGM(o=r.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(ph,7),r.Gf(fh,7),r.Gf(sw,7),r.Gf(q_,7)),2&e){let s;r.iGM(s=r.CRH())&&(i._rowOutlet=s.first),r.iGM(s=r.CRH())&&(i._headerRowOutlet=s.first),r.iGM(s=r.CRH())&&(i._footerRowOutlet=s.first),r.iGM(s=r.CRH())&&(i._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:uh,useExisting:n},{provide:cu,useClass:IT},{provide:gu,useClass:dh},{provide:nM,useValue:null}])],ngContentSelectors:SI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(JT),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[fh,ph,q_,sw],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Ff(n,t){return n.concat(Array.from(t))}let iM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[uu]]}),n})(),VI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const UI=w0();class aM{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mi(-this._previousScrollPosition.left),t.style.top=mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,o=i.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UI&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UI&&(i.scrollBehavior=o,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class lM{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cM{enable(){}disable(){}attach(){}}function uM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function cw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class uw{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();uM(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZI=(()=>{class n{constructor(e,i,s,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new cM,this.close=u=>new lM(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new aM(this._viewportRuler,this._document),this.reposition=u=>new uw(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ja),r.LFG(_r),r.LFG(r.R0b),r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Ja),r.LFG(_r),r.LFG(r.R0b),r.LFG(Z))},token:n,providedIn:"root"}),n})();class zl{constructor(t){if(this.scrollStrategy=new cM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class qI{constructor(t,e,i,s,o){this.offsetX=i,this.offsetY=s,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class YI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let dM=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z))},token:n,providedIn:"root"}),n})(),z_=(()=>{class n extends dM{constructor(e){super(e),this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){s[o]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z))},token:n,providedIn:"root"}),n})(),gh=(()=>{class n extends dM{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._clickListener=s=>{const o=Es(s),u=this._attachedOverlays.slice();for(let p=u.length-1;p>-1;p--){const m=u[p];if(!(m._outsidePointerEvents.observers.length<1)&&m.hasAttached()){if(m.overlayElement.contains(o))break;m._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z),r.LFG(xt))},token:n,providedIn:"root"}),n})();const nl="undefined"!=typeof window?window:{},po=void 0!==nl.__karma__&&!!nl.__karma__||void 0!==nl.jasmine&&!!nl.jasmine||void 0!==nl.jest&&!!nl.jest||void 0!==nl.Mocha&&!!nl.Mocha;let il=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||po){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o])}const i=this._document.createElement("div");i.classList.add(e),po?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z),r.LFG(xt))},token:n,providedIn:"root"}),n})();class GI{constructor(t,e,i,s,o,u,p,m,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=u,this._document=p,this._location=m,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new le.xQ,this._attachments=new le.xQ,this._detachments=new le.xQ,this._locationChanges=Mt.w.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._keydownEvents=new le.xQ,this._outsidePointerEvents=new le.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(R(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mi(this._config.width),t.height=mi(this._config.height),t.minWidth=mi(this._config.minWidth),t.minHeight=mi(this._config.minHeight),t.maxWidth=mi(this._config.maxWidth),t.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;su(e).forEach(o=>{o&&(i?s.add(o):s.remove(o))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Pe((0,En.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const hM="cdk-overlay-connected-position-bounding-box",dw=/([A-Za-z%]+)$/;class fo{constructor(t,e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le.xQ,this._resizeSubscription=Mt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(hM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=[];let o;for(let u of this._preferredPositions){let p=this._getOriginPoint(t,u),m=this._getOverlayPoint(p,e,u),b=this._getOverlayFit(m,e,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,p);this._canFitWithFlexibleDimensions(b,m,i)?s.push({position:u,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,u)}):(!o||o.overlayFit.visibleArea<b.visibleArea)&&(o={overlayFit:b,overlayPoint:m,originPoint:p,position:u,overlayRect:e})}if(s.length){let u=null,p=-1;for(const m of s){const b=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);b>p&&(p=b,u=m)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,s;if("center"==e.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==e.originX?o:u}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:s}}_getOverlayPoint(t,e,i){let s,o;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,e,i,s){const o=$l(e);let{x:u,y:p}=t,m=this._getOffset(s,"x"),b=this._getOffset(s,"y");m&&(u+=m),b&&(p+=b);let x=0-p,k=p+o.height-i.height,P=this._subtractOverflows(o.width,0-u,u+o.width-i.width),Y=this._subtractOverflows(o.height,x,k),X=P*Y;return{visibleArea:X,isCompletelyWithinViewport:o.width*o.height===X,fitsInViewportVertically:Y===o.height,fitsInViewportHorizontally:P==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,o=i.right-e.x,u=Rr(this._overlayRef.getConfig().minHeight),p=Rr(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=p&&p<=o;return(t.fitsInViewportVertically||null!=u&&u<=s)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=$l(e),o=this._viewportRect,u=Math.max(t.x+s.width-o.width,0),p=Math.max(t.y+s.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0);let w=0,E=0;return w=s.width<=o.width?b||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,E=s.height<=o.height?m||-p:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:w,y:E},{x:t.x+w,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new YI(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let o,u,p,w,E,x;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,o=i.height-p+this._viewportMargin;else{const k=Math.min(i.bottom-t.y+i.top,t.y),P=this._lastBoundingBoxSize.height;o=2*k,u=t.y-k,o>P&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-P/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)x=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)E=t.x,w=i.right-t.x;else{const k=Math.min(i.right-t.x+i.left,t.x),P=this._lastBoundingBoxSize.width;w=2*k,E=t.x-k,w>P&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-P/2)}return{top:u,left:E,bottom:p,right:x,width:w,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=mi(i.height),s.top=mi(i.top),s.bottom=mi(i.bottom),s.width=mi(i.width),s.left=mi(i.left),s.right=mi(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(s.maxHeight=mi(o)),u&&(s.maxWidth=mi(u))}this._lastBoundingBoxSize=i,qo(this._boundingBox.style,s)}_resetBoundingBoxStyles(){qo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const w=this._viewportRuler.getViewportScrollPosition();qo(i,this._getExactOverlayY(e,t,w)),qo(i,this._getExactOverlayX(e,t,w))}else i.position="static";let p="",m=this._getOffset(e,"x"),b=this._getOffset(e,"y");m&&(p+=`translateX(${m}px) `),b&&(p+=`translateY(${b}px)`),i.transform=p.trim(),u.maxHeight&&(s?i.maxHeight=mi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(s?i.maxWidth=mi(u.maxWidth):o&&(i.maxWidth="")),qo(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=u,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":s.top=mi(o.y),s}_getExactOverlayX(t,e,i){let u,s={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":s.left=mi(o.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cw(t,i),isOriginOutsideView:uM(t,i),isOverlayClipped:cw(e,i),isOverlayOutsideView:uM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&su(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function qo(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Rr(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(dw);return e&&"px"!==e?null:parseFloat(t)}return n||null}function $l(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class $_{constructor(t,e,i,s,o,u,p){this._preferredPositions=[],this._positionStrategy=new fo(i,s,o,u,p).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,s){const o=new qI(t,e,i,s);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Zs="cdk-global-overlay-wrapper";class hw{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Zs),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:u,maxHeight:p}=i,m=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==o&&"100vh"!==o||p&&"100%"!==p&&"100vh"!==p);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Zs),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let _h=(()=>{class n{constructor(e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new hw}connectedTo(e,i,s){return new $_(i,s,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new fo(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(_r),r.LFG(Z),r.LFG(xt),r.LFG(il))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(_r),r.LFG(Z),r.LFG(xt),r.LFG(il))},token:n,providedIn:"root"}),n})(),bh=0,qi=(()=>{class n{constructor(e,i,s,o,u,p,m,b,w,E,x){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=p,this._ngZone=m,this._document=b,this._directionality=w,this._location=E,this._outsideClickDispatcher=x}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),u=new zl(e);return u.direction=u.direction||this._directionality.value,new GI(o,i,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+bh++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new qT(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ZI),r.LFG(il),r.LFG(r._Vd),r.LFG(_h),r.LFG(z_),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(Z),r.LFG(mn),r.LFG(jt),r.LFG(gh))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Ch={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Ma=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[qi,Ch],imports:[[Wr,Ka,uu],uu]}),n})();var pM=N(1555);function pw(...n){if(1===n.length){const t=n[0];if((0,Vl.k)(t))return Bf(t,null);if((0,pM.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Bf(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Bf(n=1===n.length&&(0,Vl.k)(n[0])?n[0]:n,null).pipe((0,g.U)(e=>t(...e)))}return Bf(n,null)}function Bf(n,t){return new Mn.y(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let o=0,u=0;for(let p=0;p<i;p++){const m=(0,On.D)(n[p]);let b=!1;e.add(m.subscribe({next:w=>{b||(b=!0,u++),s[p]=w},error:w=>e.error(w),complete:()=>{o++,(o===i||!b)&&(u===i&&e.next(t?t.reduce((w,E,x)=>(w[E]=s[x],w),{}):s),e.complete())}}))}})}let fw=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),Wl=(()=>{class n extends fw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const Pn=new r.OlP("NgValueAccessor"),gM={provide:Pn,useExisting:(0,r.Gpc)(()=>qs),multi:!0},_M=new r.OlP("CompositionEventMode");let qs=(()=>{class n extends fw{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(_M,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[r._Bn([gM]),r.qOj]}),n})();function Jl(n){return null==n||0===n.length}function $I(n){return null!=n&&"number"==typeof n.length}const xi=new r.OlP("NgValidators"),rl=new r.OlP("NgAsyncValidators"),WI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(t){return function(n){return t=>{if(Jl(t.value)||Jl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Jl(t.value)||Jl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return Jl(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Jl(n.value)||WI.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Jl(t.value)||!$I(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>$I(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Ql;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Jl(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return tR(t)}static composeAsync(t){return nR(t)}}function Ql(n){return null}function eR(n){return null!=n}function wM(n){const t=(0,r.QGY)(n)?(0,On.D)(n):n;return(0,r.CqO)(t),t}function CM(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function W_(n,t){return t.map(e=>e(n))}function DM(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function tR(n){if(!n)return null;const t=n.filter(eR);return 0==t.length?null:function(e){return CM(W_(e,t))}}function TM(n){return null!=n?tR(DM(n)):null}function nR(n){if(!n)return null;const t=n.filter(eR);return 0==t.length?null:function(e){return pw(W_(e,t).map(wM)).pipe((0,g.U)(CM))}}function _w(n){return null!=n?nR(DM(n)):null}function bw(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function iR(n){return n._rawValidators}function MM(n){return n._rawAsyncValidators}function Kl(n){return n?Array.isArray(n)?n:[n]:[]}function J_(n,t){return Array.isArray(n)?n.includes(t):n===t}function yw(n,t){const e=Kl(t);return Kl(n).forEach(s=>{J_(e,s)||e.push(s)}),e}function EM(n,t){return Kl(t).filter(e=>!J_(n,e))}let vw=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_w(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})(),pr=(()=>{class n extends vw{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();class fs extends vw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ww{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let mo=(()=>{class n extends ww{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fs,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),n})(),go=(()=>{class n extends ww{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(pr,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[r.qOj]}),n})();function vu(n,t){eb(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&tb(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&tb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function X_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Tw(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Th(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eb(n,t){const e=iR(n);null!==t.validator?n.setValidators(bw(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=MM(n);null!==t.asyncValidator?n.setAsyncValidators(bw(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Th(t._rawValidators,s),Th(t._rawAsyncValidators,s)}function Tw(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=iR(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.validator);o.length!==s.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const s=MM(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.asyncValidator);o.length!==s.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Th(t._rawValidators,i),Th(t._rawAsyncValidators,i),e}function tb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ew(n,t){eb(n,t)}function IM(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Hf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Mh="VALID",ib="INVALID",wu="PENDING",Eh="DISABLED";function Sh(n){return(sb(n)?n.validators:n)||null}function Iw(n){return Array.isArray(n)?TM(n):n||null}function rb(n,t){return(sb(t)?t.asyncValidators:n)||null}function Rw(n){return Array.isArray(n)?_w(n):n||null}function sb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ob{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Iw(this._rawValidators),this._composedAsyncValidatorFn=Rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Mh}get invalid(){return this.status===ib}get pending(){return this.status==wu}get disabled(){return this.status===Eh}get enabled(){return this.status!==Eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Iw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Rw(t)}addValidators(t){this.setValidators(yw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(EM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(EM(t,this._rawAsyncValidators))}hasValidator(t){return J_(this._rawValidators,t)}hasAsyncValidator(t){return J_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Eh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mh,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===wu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eh:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator=!0;const e=wM(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof xh?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof ab&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Eh:this.errors?ib:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(ib)?ib:Mh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Cu extends ob{constructor(t=null,e,i){super(Sh(e),rb(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Hf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Hf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class xh extends ob{constructor(t,e,i){super(Sh(e),rb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Cu?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,o)=>{i=e(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class ab extends ob{constructor(t,e,i){super(Sh(e),rb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Cu?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const PB={provide:pr,useExisting:(0,r.Gpc)(()=>Ys)},Zf=(()=>Promise.resolve(null))();let Ys=(()=>{class n extends pr{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new xh({},TM(e),_w(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Zf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),vu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Zf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Hf(this._directives,e)})}addFormGroup(e){Zf.then(()=>{const i=this._findContainer(e.path),s=new xh({});Ew(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Zf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Zf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,IM(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xi,10),r.Y36(rl,10))},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([PB]),r.qOj]}),n})(),Tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const BM={provide:Pn,useExisting:(0,r.Gpc)(()=>Ow),multi:!0};let Ow=(()=>{class n extends Wl{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([BM]),r.qOj]}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const _o=new r.OlP("NgModelWithFormControlWarning"),UM={provide:pr,useExisting:(0,r.Gpc)(()=>ui)};let ui=(()=>{class n extends pr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return vu(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){X_(e.control||null,e,!1),Hf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,IM(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(X_(i||null,e),s instanceof Cu&&(vu(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Ew(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Tw(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eb(this.form,this),this._oldForm&&Tw(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xi,10),r.Y36(rl,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([UM]),r.qOj,r.TTD]}),n})();const qf={provide:fs,useExisting:(0,r.Gpc)(()=>Gs)};let Gs=(()=>{class n extends fs{constructor(e,i,s,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(o=>{o.constructor===qs?e=o:function(n){return Object.getPrototypeOf(n.constructor)===Wl}(o)?i=o:s=o}),s||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(pr,13),r.Y36(xi,10),r.Y36(rl,10),r.Y36(Pn,10),r.Y36(_o,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([qf]),r.qOj,r.TTD]}),n._ngModelWarningSentOnce=!1,n})(),tE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[lb]]}),n})(),_R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[tE]}),n})(),nE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_o,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[tE]}),n})(),yo=(()=>{class n{group(e,i=null){const s=this._reduceControls(e);let p,o=null,u=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(o=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,p=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new xh(s,{asyncValidators:u,updateOn:p,validators:o})}control(e,i,s){return new Cu(e,i,s)}array(e,i,s){const o=e.map(u=>this._createControl(u));return new ab(o,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof Cu||e instanceof xh||e instanceof ab?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:function(){return new n},token:n,providedIn:nE}),n})();class pb extends Ei.L{notifyNext(t,e,i,s,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class iE extends Ei.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var rE=N(7444);function fb(n,t,e,i,s=new iE(n,e,i)){if(!s.closed)return t instanceof Mn.y?t.subscribe(s):(0,rE.s)(t)(s)}var mb=N(6693);const Yw={};function Gf(...n){let t,e;return(0,D_.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,Vl.k)(n[0])&&(n=n[0]),(0,mb.n)(n,e).lift(new Gw(t))}class Gw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jw(t,this.resultSelector))}}class jw extends pb{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Yw),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(fb(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,u=this.toRespond?s[i]===Yw?--this.toRespond:this.toRespond:0;s[i]=e,0===u&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const gb=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function jf(n){return new Mn.y(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?(0,On.D)(e):(0,A.c)()).subscribe(t)})}var Ih=N(2441);function _b(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new zw(n,t,e))}}class zw{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new ZB(t,this.accumulator,this.seed,this.hasSeed))}}class ZB extends Ei.L{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function sl(n){return function(e){const i=new sE(n),s=e.lift(i);return i.caught=s}}class sE{constructor(t){this.selector=t}call(t,e){return e.subscribe(new qB(t,this.selector,this.caught))}}class qB extends ai.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new ai.IY(this);this.add(i);const s=(0,ai.ft)(e,i);s!==i&&this.add(s)}}}var Xe=N(9773);function Rh(n,t){return(0,Xe.zg)(n,t,1)}function $w(n){return function(e){return 0===n?(0,A.c)():e.lift(new vR(n))}}class vR{constructor(t){if(this.total=t,this.total<0)throw new T}call(t,e){return e.subscribe(new bb(t,this.total))}}class bb extends Ei.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let o=0;o<i;o++){const u=e++%i;t.next(s[u])}}t.complete()}}function oE(n=Ai){return t=>t.lift(new yb(n))}class yb{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vb(t,this.errorFactory))}}class vb extends Ei.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ai(){return new gb}function wR(n=null){return t=>t.lift(new aE(n))}class aE{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ww(t,this.defaultValue))}}class Ww extends Ei.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var lE=N(4487);function Xl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gt((s,o)=>n(s,o,i)):lE.y,R(1),e?wR(t):oE(()=>new gb))}var uE=N(1307);function Jw(n){return t=>t.lift(new CR(n))}class CR{constructor(t){this.callback=t}call(t,e){return e.subscribe(new DR(t,this.callback))}}class DR extends Ei.L{constructor(t,e){super(t),this.add(new Mt.w(e))}}class ol{constructor(t,e){this.id=t,this.url=e}}class Mu extends ol{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zf extends ol{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dE extends ol{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TR extends ol{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wb extends ol{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hE extends ol{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pE extends ol{constructor(t,e,i,s,o){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fE extends ol{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MR extends ol{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ER{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SR{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xR{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mE{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qw{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class AR{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Eu(n){return new AR(n)}const gE="ngNavigationCancelingError";function Kw(n){const t=Error("NavigationCancelingError: "+n);return t[gE]=!0,t}function GB(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let o=0;o<i.length;o++){const u=i[o],p=n[o];if(u.startsWith(":"))s[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function al(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!Xw(n[s],t[s]))return!1;return!0}function Xw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,o)=>i[o]===s)}return n===t}function $f(n){return Array.prototype.concat.apply([],n)}function _E(n){return n.length>0?n[n.length-1]:null}function vr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function xs(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,On.D)(Promise.resolve(n)):(0,Ue.of)(n)}const IR={exact:function eC(n,t,e){if(!tc(n.segments,t.segments)||!Cb(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!eC(n.children[i],t.children[i],e))return!1;return!0},subset:vE},bE={exact:function(n,t){return al(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Xw(n[e],t[e]))},ignored:()=>!0};function yE(n,t,e){return IR[e.paths](n.root,t.root,e.matrixParams)&&bE[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vE(n,t,e){return Su(n,t,t.segments,e)}function Su(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!tc(s,e)||t.hasChildren()||!Cb(s,e,i))}if(n.segments.length===e.length){if(!tc(n.segments,e)||!Cb(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!vE(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(tc(n.segments,s)&&Cb(n.segments,s,i)&&n.children[Jt])&&Su(n.children[Jt],t,o,i)}}function Cb(n,t,e){return t.every((i,s)=>bE[e](n[s].parameters,i.parameters))}class ec{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return CE.serialize(this)}}class an{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jf(this)}}class Ph{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Eu(this.parameters)),this._parameterMap}toString(){return ME(this)}}function tc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Wf{}class wE{parse(t){const e=new xE(t);return new ec(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${Qf(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${Db(e)}=${Db(s)}`).join("&"):`${Db(e)}=${Db(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const CE=new wE;function Jf(n){return n.segments.map(t=>ME(t)).join("/")}function Qf(n,t){if(!n.hasChildren())return Jf(n);if(t){const e=n.children[Jt]?Qf(n.children[Jt],!1):"",i=[];return vr(n.children,(s,o)=>{o!==Jt&&i.push(`${o}:${Qf(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return vr(n.children,(i,s)=>{s===Jt&&(e=e.concat(t(i,s)))}),vr(n.children,(i,s)=>{s!==Jt&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Jt?[Qf(n.children[Jt],!1)]:[`${s}:${Qf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Jf(n)}/${e[0]}`:`${Jf(n)}/(${e.join("//")})`}}function DE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Db(n){return DE(n).replace(/%3B/gi,";")}function nC(n){return DE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kf(n){return decodeURIComponent(n)}function TE(n){return Kf(n.replace(/\+/g,"%20"))}function ME(n){return`${nC(n.path)}${function(n){return Object.keys(n).map(t=>`;${nC(t)}=${nC(n[t])}`).join("")}(n.parameters)}`}const BR=/^[^\/()?;=#]+/;function Tb(n){const t=n.match(BR);return t?t[0]:""}const VR=/^[^=?&#]+/,EE=/^[^?&#]+/;class xE{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Jt]=new an(t,e)),i}parseSegment(){const t=Tb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ph(Kf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Tb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=Tb(this.remaining);s&&(i=s,this.capture(i))}t[Kf(e)]=Kf(i)}parseQueryParam(t){const e=function(n){const t=n.match(VR);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function(n){const t=n.match(EE);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const s=TE(e),o=TE(i);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(o)}else t[s]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tb(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Jt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Jt]:new an([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class AE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Xf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Mb(t,this._root).map(e=>e.value)}}function Xf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Xf(n,e);if(i)return i}return null}function Mb(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Mb(n,e);if(i.length)return i.unshift(t),i}return[]}class ll{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function em(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Eb extends AE{constructor(t,e){super(t),this.snapshot=e,xb(this,t)}toString(){return this.snapshot.toString()}}function Sb(n,t){const e=function(n,t){const u=new Fh([],{},{},"",{},Jt,t,null,n.root,-1,{});return new RE("",new ll(u,[]))}(n,t),i=new oi([new Ph("",{})]),s=new oi({}),o=new oi({}),u=new oi({}),p=new oi(""),m=new As(i,s,u,p,o,Jt,t,e.root);return m.snapshot=e.root,new Eb(new ll(m,[]),e)}class As{constructor(t,e,i,s,o,u,p,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=p,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,g.U)(t=>Eu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,g.U)(t=>Eu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IE(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],o=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(o.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Fh{constructor(t,e,i,s,o,u,p,m,b,w,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=p,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=w,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RE extends AE{constructor(t,e){super(e),this.url=t,xb(this,e)}toString(){return OE(this._root)}}function xb(n,t){t.value._routerState=n,t.children.forEach(e=>xb(n,e))}function OE(n){const t=n.children.length>0?` { ${n.children.map(OE).join(", ")} } `:"";return`${n.value}${t}`}function Ab(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,al(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),al(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!al(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),al(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kb(n,t){return al(n.params,t.params)&&function(n,t){return tc(n,t)&&n.every((e,i)=>al(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||kb(n.parent,t.parent))}function iC(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return iC(n,i,s);return iC(n,i)})}(n,t,e);return new ll(i,s)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return PE(t,u),u}}const i=function(n){return new As(new oi(n.url),new oi(n.params),new oi(n.queryParams),new oi(n.fragment),new oi(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(o=>iC(n,o));return new ll(i,s)}}function PE(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)PE(n.children[e],t.children[e])}function Au(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tm(n){return"object"==typeof n&&null!=n&&n.outlets}function nc(n,t,e,i,s){let o={};return i&&vr(i,(u,p)=>{o[p]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),new ec(e.root===n?t:FE(e.root,n,t),o,s)}function FE(n,t,e){const i={};return vr(n.children,(s,o)=>{i[o]=s===t?e:FE(s,t,e)}),new an(n.segments,i)}class ZR{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Au(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(tm);if(s&&s!==_E(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vo{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function BE(n,t,e){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return Rb(n,t,e);const i=function(n,t,e){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return o;const u=n.segments[s],p=e[i];if(tm(p))break;const m=`${p}`,b=i<e.length-1?e[i+1]:null;if(s>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ob(m,b,u))return o;i+=2}else{if(!Ob(m,{},u))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new an(n.segments.slice(0,i.pathIndex),{});return o.children[Jt]=new an(n.segments.slice(i.pathIndex),n.children),Rb(o,0,s)}return i.match&&0===s.length?new an(n.segments,{}):i.match&&!n.hasChildren()?sC(n,t,e):i.match?Rb(n,0,s):sC(n,t,e)}function Rb(n,t,e){if(0===e.length)return new an(n.segments,{});{const i=function(n){return tm(n[0])?n[0].outlets:{[Jt]:n}}(e),s={};return vr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[u]=BE(n.children[u],t,o))}),vr(n.children,(o,u)=>{void 0===i[u]&&(s[u]=o)}),new an(n.segments,s)}}function sC(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const o=e[s];if(tm(o)){const m=YR(o.outlets);return new an(i,m)}if(0===s&&Au(e[0])){i.push(new Ph(n.segments[t].path,VE(e[0]))),s++;continue}const u=tm(o)?o.outlets[Jt]:`${o}`,p=s<e.length-1?e[s+1]:null;u&&p&&Au(p)?(i.push(new Ph(u,VE(p))),s+=2):(i.push(new Ph(u,{})),s++)}return new an(i,{})}function YR(n){const t={};return vr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=sC(new an([],{}),0,e))}),t}function VE(n){const t={};return vr(n,(e,i)=>t[i]=`${e}`),t}function Ob(n,t,e){return n==e.path&&al(t,e.parameters)}class oC{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ab(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=em(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,s[u],i),delete s[u]}),vr(s,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(s===o)if(s.component){const u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=em(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=em(e);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new mE(o.value.snapshot))}),t.children.length&&this.forwardEvent(new SR(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(Ab(s),s===o)if(s.component){const u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),aC(p.route)}else{const p=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),m=p?p.module.componentFactoryResolver:null;u.attachRef=null,u.route=s,u.resolver=m,u.outlet&&u.outlet.activateWith(s,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}function aC(n){Ab(n.value),n.children.forEach(aC)}class HE{constructor(t,e){this.routes=t,this.module=e}}function ic(n){return"function"==typeof n}function ku(n){return n instanceof ec}const nm=Symbol("INITIAL_VALUE");function Lh(){return fn(n=>Gf(n.map(t=>t.pipe(R(1),Yt(nm)))).pipe(_b((t,e)=>{let i=!1;return e.reduce((s,o,u)=>s!==nm?s:(o===nm&&(i=!0),i||!1!==o&&u!==e.length-1&&!ku(o)?s:o),t)},nm),gt(t=>t!==nm),(0,g.U)(t=>ku(t)?t:!0===t),R(1)))}let im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[cm]},encapsulation:2}),n})();function GE(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];jE(i,Nb(t,i))}}function jE(n,t){n.children&&GE(n.children,t)}function Nb(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Bh(n){const t=n.children&&n.children.map(Bh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=im),e}function Jr(n){return n.outlet||Jt}function zE(n,t){const e=n.filter(i=>Jr(i)===t);return e.push(...n.filter(i=>Jr(i)!==t)),e}const $E={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lC(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},$E):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||GB)(e,n,t);if(!o)return Object.assign({},$E);const u={};vr(o.posParams,(m,b)=>{u[b]=m.path});const p=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:p,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Pb(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>Fb(n,t,i)&&Jr(i)!==Jt)}(n,e,i)){const u=new an(t,function(n,t,e,i){const s={};s[Jt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Jr(o)!==Jt){const u=new an([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[Jr(o)]=u}return s}(n,t,i,new an(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>Fb(n,t,i))}(n,e,i)){const u=new an(n.segments,function(n,t,e,i,s,o){const u={};for(const p of i)if(Fb(n,e,p)&&!s[Jr(p)]){const m=new an([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[Jr(p)]=m}return Object.assign(Object.assign({},s),u)}(n,t,e,i,n.children,s));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new an(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Fb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function WE(n,t,e,i){return!!(Jr(n)===i||i!==Jt&&Fb(t,e,n))&&("**"===n.path||lC(t,n,e).matched)}function JE(n,t,e){return 0===t.length&&!n.children[e]}class rm{constructor(t){this.segmentGroup=t||null}}class KR{constructor(t){this.urlTree=t}}function Lb(n){return new Mn.y(t=>t.error(new rm(n)))}function Vh(n){return new Mn.y(t=>t.error(new KR(n)))}function XR(n){return new Mn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Bb{constructor(t,e,i,s,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Pb(this.urlTree.root,[],[],this.config).segmentGroup,e=new an(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Jt).pipe((0,g.U)(o=>this.createUrlTree(Vb(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sl(o=>{if(o instanceof KR)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof rm?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Jt).pipe((0,g.U)(s=>this.createUrlTree(Vb(s),t.queryParams,t.fragment))).pipe(sl(s=>{throw s instanceof rm?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new an([],{[Jt]:t}):t;return new ec(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,g.U)(o=>new an([],o))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return(0,On.D)(s).pipe(Rh(o=>{const u=i.children[o],p=zE(e,o);return this.expandSegmentGroup(t,p,u,o).pipe((0,g.U)(m=>({segment:m,outlet:o})))}),_b((o,u)=>(o[u.outlet]=u.segment,o),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gt((s,o)=>n(s,o,i)):lE.y,$w(1),e?wR(t):oE(()=>new gb))}())}expandSegment(t,e,i,s,o,u){return(0,On.D)(i).pipe(Rh(p=>this.expandSegmentAgainstRoute(t,e,i,p,s,o,u).pipe(sl(b=>{if(b instanceof rm)return(0,Ue.of)(null);throw b}))),Xl(p=>!!p),sl((p,m)=>{if(p instanceof gb||"EmptyError"===p.name){if(JE(e,s,o))return(0,Ue.of)(new an([],{}));throw new rm(e)}throw p}))}expandSegmentAgainstRoute(t,e,i,s,o,u,p){return WE(s,e,o,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,o,u):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u):Lb(e):Lb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Vh(o):this.lineralizeSegments(i,o).pipe((0,Xe.zg)(u=>{const p=new an(u,{});return this.expandSegment(t,p,e,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){const{matched:p,consumedSegments:m,lastChild:b,positionalParamSegments:w}=lC(e,s,o);if(!p)return Lb(e);const E=this.applyRedirectCommands(m,s.redirectTo,w);return s.redirectTo.startsWith("/")?Vh(E):this.lineralizeSegments(s,E).pipe((0,Xe.zg)(x=>this.expandSegment(t,e,i,x.concat(o.slice(b)),u,!1)))}matchSegmentAgainstRoute(t,e,i,s,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ue.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,g.U)(x=>(i._loadedConfig=x,new an(s,{})))):(0,Ue.of)(new an(s,{}));const{matched:u,consumedSegments:p,lastChild:m}=lC(e,i,s);if(!u)return Lb(e);const b=s.slice(m);return this.getChildConfig(t,i,s).pipe((0,Xe.zg)(E=>{const x=E.module,k=E.routes,{segmentGroup:P,slicedSegments:Y}=Pb(e,p,b,k),X=new an(P.segments,P.children);if(0===Y.length&&X.hasChildren())return this.expandChildren(x,k,X).pipe((0,g.U)(je=>new an(p,je)));if(0===k.length&&0===Y.length)return(0,Ue.of)(new an(p,{}));const ke=Jr(i)===o;return this.expandSegment(x,X,k,Y,ke?Jt:o,!0).pipe((0,g.U)(Fe=>new an(p.concat(Fe.segments),Fe.children)))}))}getChildConfig(t,e,i){return e.children?(0,Ue.of)(new HE(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ue.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Xe.zg)(s=>{return s?this.configLoader.load(t.injector,e).pipe((0,g.U)(o=>(e._loadedConfig=o,o))):(n=e,new Mn.y(t=>t.error(Kw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ue.of)(new HE([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;if(!s||0===s.length)return(0,Ue.of)(!0);const o=s.map(u=>{const p=t.get(u);let m;if((n=p)&&ic(n.canLoad))m=p.canLoad(e,i);else{if(!ic(p))throw new Error("Invalid CanLoad guard");m=p(e,i)}var n;return xs(m)});return(0,Ue.of)(o).pipe(Lh(),(0,jn.b)(u=>{if(!ku(u))return;const p=Kw(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw p.url=u,p}),(0,g.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return(0,Ue.of)(i);if(s.numberOfChildren>1||!s.children[Jt])return XR(t.redirectTo);s=s.children[Jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const o=this.createSegmentGroup(t,e.root,i,s);return new ec(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return vr(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);i[o]=e[p]}else i[o]=s}),i}createSegmentGroup(t,e,i,s){const o=this.createSegments(t,e.segments,i,s);let u={};return vr(e.children,(p,m)=>{u[m]=this.createSegmentGroup(t,p,i,s)}),new an(o,u)}createSegments(t,e,i,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function Vb(n){const t={};for(const i of Object.keys(n.children)){const o=Vb(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Jt]){const t=n.children[Jt];return new an(n.segments.concat(t.segments),t.children)}return n}(new an(n.segments,t))}class iO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ub{constructor(t,e){this.component=t,this.route=e}}function Hb(n,t,e){const i=n._root;return Uh(i,t?t._root:null,e,[i.value])}function Zb(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Uh(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=em(t);return n.children.forEach(u=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!tc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!tc(n.url,t.url)||!al(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kb(n,t)||!al(n.queryParams,t.queryParams);case"paramsChange":default:return!kb(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new iO(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Uh(n,t,o.component?p?p.children:null:e,i,s),m&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new Ub(p.outlet.component,u))}else u&&Hh(t,p,s),s.canActivateChecks.push(new iO(i)),Uh(n,null,o.component?p?p.children:null:e,i,s)})(u,o[u.value.outlet],e,i.concat([u.value]),s),delete o[u.value.outlet]}),vr(o,(u,p)=>Hh(u,e.getContext(p),s)),s}function Hh(n,t,e){const i=em(n),s=n.value;vr(i,(o,u)=>{Hh(o,s.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Ub(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class sm{}function vn(n){return new Mn.y(t=>t.error(n))}class Zh{constructor(t,e,i,s,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=Pb(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Jt);if(null===e)return null;const i=new Fh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ll(i,e),o=new RE(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=IE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],p=zE(t,o),m=this.processSegmentGroup(p,u,o);if(null===m)return null;i.push(...m)}const s=js(i);return s.sort((t,e)=>t.value.outlet===Jt?-1:e.value.outlet===Jt?1:t.value.outlet.localeCompare(e.value.outlet)),s}processSegment(t,e,i,s){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,s);if(null!==u)return u}return JE(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!WE(t,e,i,s))return null;let o,u=[],p=[];if("**"===t.path){const k=i.length>0?_E(i).parameters:{};o=new Fh(i,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uC(t),Jr(t),t.component,t,sc(e),lO(e)+i.length,dC(t))}else{const k=lC(e,t,i);if(!k.matched)return null;u=k.consumedSegments,p=i.slice(k.lastChild),o=new Fh(u,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uC(t),Jr(t),t.component,t,sc(e),lO(e)+u.length,dC(t))}const m=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:w}=Pb(e,u,p,m.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);var n;if(0===w.length&&b.hasChildren()){const k=this.processChildren(m,b);return null===k?null:[new ll(o,k)]}if(0===m.length&&0===w.length)return[new ll(o,[])];const E=Jr(t)===s,x=this.processSegment(m,b,w,E?Jt:s);return null===x?null:[new ll(o,x)]}}function Ot(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function js(n){const t=[],e=new Set;for(const i of n){if(!Ot(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=js(i.children);t.push(new ll(i.value,s))}return t.filter(i=>!e.has(i))}function sc(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lO(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function uC(n){return n.data||{}}function dC(n){return n.resolve||{}}function zs(n){return fn(t=>{const e=n(t);return e?(0,On.D)(e).pipe((0,g.U)(()=>t)):(0,Ue.of)(t)})}class iS extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const am=new r.OlP("ROUTES");class Ru{constructor(t,e,i,s){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,g.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new HE($f(u.injector.get(am,void 0,r.XFs.Self|r.XFs.Optional)).map(Bh),u)}),sl(o=>{throw e._loader$=void 0,o}));return e._loader$=new Ih.c(s,()=>new le.xQ).pipe((0,uE.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,On.D)(this.loader.load(t)):xs(t()).pipe((0,Xe.zg)(e=>e instanceof r.YKP?(0,Ue.of)(e):(0,On.D)(this.compiler.compileModuleAsync(e))))}}class lm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qh,this.attachRef=null}}class qh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class hO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function rS(n){throw n}function hC(n,t,e){return t.parse("/")}function Yh(n,t){return(0,Ue.of)(null)}const pC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sn=(()=>{class n{constructor(e,i,s,o,u,p,m,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=o,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.xQ,this.errorHandler=rS,this.malformedUriErrorHandler=hC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yh,afterPreactivation:Yh},this.urlHandlingStrategy=new hO,this.routeReuseStrategy=new iS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(r.h0i),this.console=u.get(r.c2e);const x=u.get(r.R0b);this.isNgZoneEnabled=x instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=new ec(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ru(p,m,k=>this.triggerEvent(new Oh(k)),k=>this.triggerEvent(new Nh(k))),this.routerState=Sb(this.currentUrlTree,this.rootComponentType),this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(gt(s=>0!==s.id),(0,g.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),fn(s=>{let o=!1,u=!1;return(0,Ue.of)(s).pipe((0,jn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fn(p=>{const m=!this.navigated||p.extractedUrl.toString()!==this.browserUrlTree.toString(),b=("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl);if(Nu(p.source)&&(this.browserUrlTree=p.rawUrl),b)return(0,Ue.of)(p).pipe(fn(w=>{const E=this.transitions.getValue();return i.next(new Mu(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions.getValue()?A.E:Promise.resolve(w)}),function(n,t,e,i){return fn(s=>function(n,t,e,i,s){return new Bb(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe((0,g.U)(o=>Object.assign(Object.assign({},s),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jn.b)(w=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:w.urlAfterRedirects})}),function(n,t,e,i,s){return(0,Xe.zg)(o=>function(n,t,e,i,s="emptyOnly",o="legacy"){try{const u=new Zh(n,t,e,i,s,o).recognize();return null===u?vn(new sm):(0,Ue.of)(u)}catch(u){return vn(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,s).pipe((0,g.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,w=>this.serializeUrl(w),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jn.b)(w=>{"eager"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(w.urlAfterRedirects,w),this.browserUrlTree=w.urlAfterRedirects);const E=new wb(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);i.next(E)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:x,source:k,restoredState:P,extras:Y}=p,X=new Mu(E,this.serializeUrl(x),k,P);i.next(X);const ke=Sb(x,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},p),{targetSnapshot:ke,urlAfterRedirects:x,extras:Object.assign(Object.assign({},Y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),A.E}),zs(p=>{const{targetSnapshot:m,id:b,extractedUrl:w,rawUrl:E,extras:{skipLocationChange:x,replaceUrl:k}}=p;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:w,rawUrlTree:E,skipLocationChange:!!x,replaceUrl:!!k})}),(0,jn.b)(p=>{const m=new hE(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(m)}),(0,g.U)(p=>Object.assign(Object.assign({},p),{guards:Hb(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Xe.zg)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?(0,Ue.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,On.D)(n).pipe((0,Xe.zg)(s=>function(n,t,e,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ue.of)(!0);const u=o.map(p=>{const m=Zb(p,t,s);let b;if(function(n){return n&&ic(n.canDeactivate)}(m))b=xs(m.canDeactivate(n,t,e,i));else{if(!ic(m))throw new Error("Invalid CanDeactivate guard");b=xs(m(n,t,e,i))}return b.pipe(Xl())});return(0,Ue.of)(u).pipe(Lh())}(s.component,s.route,e,t,i)),Xl(s=>!0!==s,!0))}(u,i,s,n).pipe((0,Xe.zg)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,t,e,i){return(0,On.D)(t).pipe(Rh(s=>Ul(function(n,t){return null!==n&&t&&t(new ER(n)),(0,Ue.of)(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new xR(n)),(0,Ue.of)(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>jf(()=>{const p=u.guards.map(m=>{const b=Zb(m,u.node,e);let w;if(function(n){return n&&ic(n.canActivateChild)}(b))w=xs(b.canActivateChild(i,n));else{if(!ic(b))throw new Error("Invalid CanActivateChild guard");w=xs(b(i,n))}return w.pipe(Xl())});return(0,Ue.of)(p).pipe(Lh())}));return(0,Ue.of)(o).pipe(Lh())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ue.of)(!0);const s=i.map(o=>jf(()=>{const u=Zb(o,t,e);let p;if(function(n){return n&&ic(n.canActivate)}(u))p=xs(u.canActivate(t,n));else{if(!ic(u))throw new Error("Invalid CanActivate guard");p=xs(u(t,n))}return p.pipe(Xl())}));return(0,Ue.of)(s).pipe(Lh())}(n,s.route,e))),Xl(s=>!0!==s,!0))}(i,o,n,t):(0,Ue.of)(p)),(0,g.U)(p=>Object.assign(Object.assign({},e),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,jn.b)(p=>{if(ku(p.guardsResult)){const b=Kw(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const m=new pE(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(m)}),gt(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),zs(p=>{if(p.guards.canActivateChecks.length)return(0,Ue.of)(p).pipe((0,jn.b)(m=>{const b=new fE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),fn(m=>{let b=!1;return(0,Ue.of)(m).pipe(function(n,t){return(0,Xe.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,Ue.of)(e);let o=0;return(0,On.D)(s).pipe(Rh(u=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return(0,Ue.of)({});const o={};return(0,On.D)(s).pipe((0,Xe.zg)(u=>function(n,t,e,i){const s=Zb(n,t,i);return xs(s.resolve?s.resolve(t,e):s(t,e))}(n[u],t,e,i).pipe((0,jn.b)(p=>{o[u]=p}))),$w(1),(0,Xe.zg)(()=>Object.keys(o).length===s.length?(0,Ue.of)(o):A.E))}(n._resolve,n,t,i).pipe((0,g.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),IE(n,e).resolve),null)))}(u.route,i,n,t)),(0,jn.b)(()=>o++),$w(1),(0,Xe.zg)(u=>o===s.length?(0,Ue.of)(e):A.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jn.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,jn.b)(m=>{const b=new MR(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),zs(p=>{const{targetSnapshot:m,id:b,extractedUrl:w,rawUrl:E,extras:{skipLocationChange:x,replaceUrl:k}}=p;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:w,rawUrlTree:E,skipLocationChange:!!x,replaceUrl:!!k})}),(0,g.U)(p=>{const m=function(n,t,e){const i=iC(n,t._root,e?e._root:void 0);return new Eb(i,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:m})}),(0,jn.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,g.U)(i=>(new oC(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,jn.b)({next(){o=!0},complete(){o=!0}}),Jw(()=>{if(!o&&!u){const p=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,p)):this.cancelNavigationTransition(s,p)}this.currentNavigation=null}),sl(p=>{if(u=!0,function(n){return n&&n[gE]}(p)){const m=ku(p.url);m||(this.navigated=!0,this.restoreHistory(s,!0));const b=new dE(s.id,this.serializeUrl(s.extractedUrl),p.message);i.next(b),m?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),E={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nu(s.source)};this.scheduleNavigation(w,"imperative",null,E,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const m=new TR(s.id,this.serializeUrl(s.extractedUrl),p);i.next(m);try{s.resolve(this.errorHandler(p))}catch(b){s.reject(b)}}return A.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:o,urlTree:u}=i,p={replaceUrl:!0};if(o){const m=Object.assign({},o);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(p.state=m)}this.scheduleNavigation(u,s,o,p)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const s=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!s||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){GE(e),this.config=e.map(Bh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:o,fragment:u,queryParamsHandling:p,preserveFragment:m}=i,b=s||this.routerState.root,w=m?this.currentUrlTree.fragment:u;let E=null;switch(p){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),function(n,t,e,i,s){if(0===e.length)return nc(t.root,t.root,t,i,s);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ZR(!0,0,n);let t=0,e=!1;const i=n.reduce((s,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const p={};return vr(o.outlets,(m,b)=>{p[b]="string"==typeof m?m.split("/"):m}),[...s,{outlets:p}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===u?(o.split("/").forEach((p,m)=>{0==m&&"."===p||(0==m&&""===p?e=!0:".."===p?t++:""!=p&&s.push(p))}),s):[...s,o]},[]);return new ZR(e,t,i)}(e);if(o.toRoot())return nc(t.root,new an([],{}),t,i,s);const u=function(n,t,e){if(n.isAbsolute)return new vo(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new vo(o,o===t.root,0)}const i=Au(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,o=e;for(;o>s;){if(o-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new vo(i,!1,s-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),p=u.processChildren?Rb(u.segmentGroup,u.index,o.commands):BE(u.segmentGroup,u.index,o.commands);return nc(u.segmentGroup,p,t,i,s)}(b,this.currentUrlTree,e,E,null!=w?w:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=ku(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},pC):!1===i?Object.assign({},sS):i,ku(e))return yE(this.currentUrlTree,e,s);const o=this.parseUrl(e);return yE(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const o=e[s];return null!=o&&(i[s]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new zf(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,o,u){var p,m;if(this.disposed)return Promise.resolve(!1);const b=this.getTransition(),w=Nu(i)&&b&&!Nu(b.source),k=(this.lastSuccessfulId===b.id||this.currentNavigation?b.rawUrl:b.urlAfterRedirects).toString()===e.toString();if(w&&k)return Promise.resolve(!0);let P,Y,X;u?(P=u.resolve,Y=u.reject,X=u.promise):X=new Promise((Fe,je)=>{P=Fe,Y=je});const ke=++this.navigationId;let Ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Ne=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):Ne=0,this.setTransition({id:ke,targetPageId:Ne,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:P,reject:Y,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(Fe=>Promise.reject(Fe))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,i=!1){var s,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new dE(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.DyG),r.LFG(Wf),r.LFG(qh),r.LFG(jt),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Nu(n){return"imperative"!==n}let cm=(()=>{class n{constructor(e,i,s,o,u){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=o||Jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,m=new fC(e,p,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(qh),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class fC{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===As?this.route:t===qh?this.childContexts:this.parent.get(t,e)}}class mO{}class At{preload(t,e){return(0,Ue.of)(null)}}let gO=(()=>{class n{constructor(e,i,s,o,u){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=new Ru(i,s,b=>e.triggerEvent(new Oh(b)),b=>e.triggerEvent(new Nh(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(gt(e=>e instanceof zf),Rh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;s.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(e,o)):o.children&&s.push(this.processRoutes(e,o.children));return(0,On.D)(s).pipe((0,th.J)(),(0,g.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Ue.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Xe.zg)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Sn),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(mO))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Fu=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Qw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Sn),r.LFG(Ml),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Lu=new r.OlP("ROUTER_CONFIGURATION"),oS=new r.OlP("ROUTER_FORROOT_GUARD"),r3=[jt,{provide:Wf,useClass:wE},{provide:Sn,useFactory:function(n,t,e,i,s,o,u,p={},m,b){const w=new Sn(null,n,t,e,i,s,o,$f(u));return m&&(w.urlHandlingStrategy=m),b&&(w.routeReuseStrategy=b),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(p,w),p.enableTracing&&w.events.subscribe(E=>{var x,k;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(k=console.groupEnd)||void 0===k||k.call(console)}),w},deps:[Wf,qh,jt,r.zs3,r.v3s,r.Sil,am,Lu,[class{},new r.FiY],[class{},new r.FiY]]},qh,{provide:As,useFactory:function(n){return n.routerState.root},deps:[Sn]},{provide:r.v3s,useClass:r.EAV},gO,At,class{preload(t,e){return e().pipe(sl(()=>(0,Ue.of)(null)))}},{provide:Lu,useValue:{enableTracing:!1}}];function _O(){return new r.PXZ("Router",Sn)}let Or=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[r3,aS(e),{provide:oS,useFactory:mC,deps:[[Sn,new r.FiY,new r.tp0]]},{provide:Lu,useValue:i||{}},{provide:Ie,useFactory:yO,deps:[j,[new r.tBr(Be),new r.FiY],Lu]},{provide:Fu,useFactory:bO,deps:[Sn,Ml,Lu]},{provide:mO,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:At},{provide:r.PXZ,multi:!0,useFactory:_O},[gC,{provide:r.ip1,multi:!0,useFactory:DO,deps:[gC]},{provide:lS,useFactory:_C,deps:[gC]},{provide:r.tb,multi:!0,useExisting:lS}]]}}static forChild(e){return{ngModule:n,providers:[aS(e)]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(oS,8),r.LFG(Sn,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function bO(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Fu(n,t,e)}function yO(n,t,e={}){return e.useHash?new Pt(n,t):new ut(n,t)}function mC(n){return"guarded"}function aS(n){return[{provide:r.deG,multi:!0,useValue:n},{provide:am,multi:!0,useValue:n}]}let gC=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new le.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(p=>i=p),o=this.injector.get(Sn),u=this.injector.get(Lu);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Lu),s=this.injector.get(gO),o=this.injector.get(Fu),u=this.injector.get(Sn),p=this.injector.get(r.z2F);e===p.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),s.setUpPreloading(),o.init(),u.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function DO(n){return n.appInitializer.bind(n)}function _C(n){return n.bootstrapListener.bind(n)}const lS=new r.OlP("Router Initializer");let jo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var nt,qe=(()=>{return(n=qe||(qe={}))[n.visiteur=1]="visiteur",n[n.moderateur=28]="moderateur",n[n.editArticle=4]="editArticle",n[n.editPhotosDeClasse=8]="editPhotosDeClasse",n[n.editPdf=16]="editPdf",n[n.administrateur=255]="administrateur",qe;var n})(),ln=(()=>{return(n=ln||(ln={}))[n.initial=0]="initial",n[n.valide=1]="valide",n[n.rejete=256]="rejete",n[n.supprime=4096]="supprime",n[n.visiteur=65536]="visiteur",ln;var n})(),di=N(9126),Co=N(8939),cS=(N(4828),N(3394)),ve=N(8239),oc=N(8026),ac=N(3910),Bu=N(5422),Lt=N(3854),uS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$s={},$b=$b||{},Nt=uS||self;function Wb(){}function bC(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function um(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Jb="closure_uid_"+(1e9*Math.random()>>>0),SO=0;function xO(n,t,e){return n.call.apply(n.bind,arguments)}function o3(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function Qr(n,t,e){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xO:o3).apply(null,arguments)}function yC(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function fr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,s,o){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return t.prototype[s].apply(i,u)}}function lc(){this.s=this.s,this.o=this.o}var kO={};lc.prototype.s=!1,lc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Jb)&&n[Jb]||(n[Jb]=++SO)}(this);delete kO[n]}},lc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dS=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},hS=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,s="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in s&&t.call(e,s[o],o,n)};function vC(n){return Array.prototype.concat.apply([],arguments)}function dm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Qb(n){return/^[\s\xa0]*$/.test(n)}var ti,Vu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xn(n,t){return-1!=n.indexOf(t)}function Kb(n,t){return n<t?-1:n>t?1:0}e:{var Xb=Nt.navigator;if(Xb){var pS=Xb.userAgent;if(pS){ti=pS;break e}}ti=""}function ey(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function wC(n){const t={};for(const e in n)t[e]=n[e];return t}var CC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fS(n,t){let e,i;for(let s=1;s<arguments.length;s++){for(e in i=arguments[s],i)n[e]=i[e];for(let o=0;o<CC.length;o++)e=CC[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function DC(n){return DC[" "](n),n}DC[" "]=Wb;var hm,n,mS=xn(ti,"Opera"),Gh=xn(ti,"Trident")||xn(ti,"MSIE"),OO=xn(ti,"Edge"),TC=OO||Gh,gS=xn(ti,"Gecko")&&!(xn(ti.toLowerCase(),"webkit")&&!xn(ti,"Edge"))&&!(xn(ti,"Trident")||xn(ti,"MSIE"))&&!xn(ti,"Edge"),jh=xn(ti.toLowerCase(),"webkit")&&!xn(ti,"Edge");function NO(){var n=Nt.document;return n?n.documentMode:void 0}e:{var MC="",_S=(n=ti,gS?/rv:([^\);]+)(\)|;)/.exec(n):OO?/Edge\/([\d\.]+)/.exec(n):Gh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jh?/WebKit\/(\S+)/.exec(n):mS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_S&&(MC=_S?_S[1]:""),Gh){var ty=NO();if(null!=ty&&ty>parseFloat(MC)){hm=String(ty);break e}}hm=MC}var PO={};function EC(){return t=PO,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=Vu(String(hm)).split("."),e=Vu("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var s=t[u]||"",o=e[u]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;n=Kb(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||Kb(0==s[2].length,0==o[2].length)||Kb(s[2],o[2]),s=s[3],o=o[3]}while(0==n)}return 0<=n}();var t}var bS=Nt.document&&Gh&&(NO()||parseInt(hm,10))||void 0,yS=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",Wb,t),Nt.removeEventListener("test",Wb,t)}catch(e){}return n}();function Kr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function pm(n,t){if(Kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(gS){e:{try{DC(t.nodeName);var s=!0;break e}catch(o){}s=!1}s||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pm.Z.h.call(this)}}Kr.prototype.h=function(){this.defaultPrevented=!0},fr(pm,Kr);var FO={2:"touch",3:"pen",4:"mouse"};pm.prototype.h=function(){pm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fm="closure_listenable_"+(1e6*Math.random()|0),LO=0;function BO(n,t,e,i,s){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=s,this.key=++LO,this.ca=this.fa=!1}function cc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function mm(n){this.src=n,this.g={},this.h=0}function ny(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],s=dS(i,t);(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(cc(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function iy(n,t,e,i){for(var s=0;s<n.length;++s){var o=n[s];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return s}return-1}mm.prototype.add=function(n,t,e,i,s){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=iy(n,t,i,s);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new BO(t,this.src,o,!!i,s)).fa=e,n.push(t)),t};var ry="closure_lm_"+(1e6*Math.random()|0),sy={};function AC(n,t,e,i,s){if(i&&i.once)return kC(n,t,e,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)AC(n,t[o],e,i,s);return null}return e=_m(e),n&&n[fm]?n.N(t,e,um(i)?!!i.capture:!!i,s):vS(n,t,e,!1,i,s)}function vS(n,t,e,i,s,o){if(!t)throw Error("Invalid event type");var u=um(s)?!!s.capture:!!s,p=Uu(n);if(p||(n[ry]=p=new mm(n)),(e=p.add(t,e,i,u,o)).proxy)return e;if(i=function(){var t=gm;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yS||(s=u),void 0===s&&(s=!1),n.addEventListener(t.toString(),i,s);else if(n.attachEvent)n.attachEvent(DS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kC(n,t,e,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)kC(n,t[o],e,i,s);return null}return e=_m(e),n&&n[fm]?n.O(t,e,um(i)?!!i.capture:!!i,s):vS(n,t,e,!0,i,s)}function CS(n,t,e,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)CS(n,t[o],e,i,s);else i=um(i)?!!i.capture:!!i,e=_m(e),n&&n[fm]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=iy(o=n.g[t],e,i,s))&&(cc(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Uu(n))&&(t=n.g[t.toString()],n=-1,t&&(n=iy(t,e,i,s)),(e=-1<n?t[n]:null)&&IC(e))}function IC(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[fm])ny(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(DS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Uu(t))?(ny(e,n),0==e.h&&(e.src=null,t[ry]=null)):cc(n)}}}function DS(n){return n in sy?sy[n]:sy[n]="on"+n}function gm(n,t){if(n.ca)n=!0;else{t=new pm(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&IC(n),n=e.call(i,t)}return n}function Uu(n){return(n=n[ry])instanceof mm?n:null}var RC="__closure_events_fn_"+(1e9*Math.random()>>>0);function _m(n){return"function"==typeof n?n:(n[RC]||(n[RC]=function(t){return n.handleEvent(t)}),n[RC])}function Hn(){lc.call(this),this.i=new mm(this),this.P=this,this.I=null}function Nr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Kr(t,n);else if(t instanceof Kr)t.target=t.target||n;else{var s=t;fS(t=new Kr(i,n),s)}if(s=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];s=uc(u,i,!0,t)&&s}if(s=uc(u=t.g=n,i,!0,t)&&s,s=uc(u,i,!1,t)&&s,e)for(o=0;o<e.length;o++)s=uc(u=t.g=e[o],i,!1,t)&&s}function uc(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var p=u.listener,m=u.ia||u.src;u.fa&&ny(n.i,u),s=!1!==p.call(m,i)&&s}}return s&&!i.defaultPrevented}fr(Hn,lc),Hn.prototype[fm]=!0,Hn.prototype.removeEventListener=function(n,t,e,i){CS(this,n,t,e,i)},Hn.prototype.M=function(){if(Hn.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)cc(e[i]);delete n.g[t],n.h--}}this.I=null},Hn.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Hn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var OC=Nt.JSON.stringify;function VO(){var n=MS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var ym,oy=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new NC,n=>n.reset());class NC{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function TS(n){Nt.setTimeout(()=>{throw n},0)}function bm(n,t){ym||function(){var n=Nt.Promise.resolve(void 0);ym=function(){n.then(HO)}}(),PC||(ym(),PC=!0),MS.add(n,t)}var PC=!1,MS=new class{constructor(){this.h=this.g=null}add(t,e){const i=oy.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function HO(){for(var n;n=VO();){try{n.h.call(n.g)}catch(e){TS(e)}var t=oy;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}PC=!1}function vm(n,t){Hn.call(this),this.h=n||1,this.g=t||Nt,this.j=Qr(this.kb,this),this.l=Date.now()}function wm(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ay(n,t,e){if("function"==typeof n)e&&(n=Qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Nt.setTimeout(n,t||0)}function FC(n){n.g=ay(()=>{n.g=null,n.i&&(n.i=!1,FC(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}fr(vm,Hn),(nt=vm.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nr(this,"tick"),this.da&&(wm(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){vm.Z.M.call(this),wm(this),delete this.g};class ES extends lc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FC(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zh(n){lc.call(this),this.h=n,this.g={}}fr(zh,lc);var SS=[];function LC(n,t,e,i){Array.isArray(e)||(e&&(SS[0]=e.toString()),e=SS);for(var s=0;s<e.length;s++){var o=AC(t,e[s],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function BC(n){ey(n.g,function(t,e){this.g.hasOwnProperty(e)&&IC(t)},n),n.g={}}function ly(){this.g=!0}function Cm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<s.length;u++)s[u]=""}}}return OC(e)}catch(p){return t}}(n,e)+(i?" "+i:"")})}zh.prototype.M=function(){zh.Z.M.call(this),BC(this)},zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ly.prototype.Aa=function(){this.g=!1},ly.prototype.info=function(){};var Hu={},kS=null;function VC(){return kS=kS||new Hn}function Wh(n){Kr.call(this,Hu.Ma,n)}function Dm(n){const t=VC();Nr(t,new Wh(t,n))}function cy(n,t){Kr.call(this,Hu.STAT_EVENT,n),this.stat=t}function gs(n){const t=VC();Nr(t,new cy(t,n))}function UC(n,t){Kr.call(this,Hu.Na,n),this.size=t}function Tm(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},t)}Hu.Ma="serverreachability",fr(Wh,Kr),Hu.STAT_EVENT="statevent",fr(cy,Kr),Hu.Na="timingevent",fr(UC,Kr);var uy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hy(){}function Mm(){}hy.prototype.h=null;var ZC,Zu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function IS(){Kr.call(this,"d")}function py(){Kr.call(this,"c")}function Em(){}function dc(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new zh(this),this.P=ZO,this.W=new vm(n=TC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qC}function qC(){this.i=null,this.g="",this.h=!1}fr(IS,Kr),fr(py,Kr),fr(Em,hy),Em.prototype.g=function(){return new XMLHttpRequest},Em.prototype.i=function(){return{}},ZC=new Em;var ZO=45e3,Sm={},Jh={};function YC(n,t,e){n.K=1,n.v=QC(Ea(t)),n.s=e,n.U=!0,RS(n,null)}function RS(n,t){n.F=Date.now(),xm(n),n.A=Ea(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),WO(e.h,"t",i),n.C=0,e=n.l.H,n.h=new qC,n.g=KS(n.l,e?t:null,!n.s),0<n.O&&(n.L=new ES(Qr(n.Ia,n,n.g),n.O)),LC(n.V,n.g,"readystatechange",n.gb),t=n.H?wC(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Dm(1),function(n,t,e,i,s,o){n.info(function(){if(n.g)if(o)for(var u="",p=o.split("&"),m=0;m<p.length;m++){var b=p[m].split("=");if(1<b.length){var w=b[0];b=b[1];var E=w.split("_");u=2<=E.length&&"type"==E[1]?u+(w+"=")+b+"&":u+(w+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function GC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jC(n,t,e){let s,i=!0;for(;!n.I&&n.C<e.length;){if(s=OS(n,e),s==Jh){4==t&&(n.o=4,gs(14),i=!1),Cm(n.j,n.m,null,"[Incomplete Response]");break}if(s==Sm){n.o=4,gs(15),Cm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Cm(n.j,n.m,s,null),fy(n,s)}GC(n)&&s!=Jh&&s!=Sm&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,gs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),_s(t),t.L=!0,gs(11))):(Cm(n.j,n.m,e,"[Invalid Chunked Response]"),qu(n),km(n))}function OS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Jh:(e=Number(t.substring(e,i)),isNaN(e)?Sm:(i+=1)+e>t.length?Jh:(t=t.substr(i,e),n.C=i+e,t))}function xm(n){n.Y=Date.now()+n.P,zC(n,n.P)}function zC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tm(Qr(n.eb,n),t)}function Am(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function km(n){0==n.l.G||n.I||JS(n.l,n)}function qu(n){Am(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,wm(n.W),BC(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function fy(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||BS(e.i,n)))if(e.I=n.N,!n.J&&BS(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0])e:if(e.u)e.ta=s[1],0<e.ta-e.U&&37500>s[2]&&e.N&&0==e.A&&!e.v&&(e.v=Tm(Qr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;ep(e),Dy(e)}r1(e),gs(18)}if(1>=XO(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else cl(e,11)}else if((n.J||e.g==n)&&ep(e),!Qb(t))for(s=e.Ca.g.parse(t),t=0;t<s.length;t++){let b=s[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const w=b[3];null!=w&&(e.ma=w,e.h.info("VER="+e.ma));const E=b[4];null!=E&&(e.za=E,e.h.info("SVER="+e.za));const x=b[5];null!=x&&"number"==typeof x&&0<x&&(e.K=i=1.5*x,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const k=n.g;if(k){const P=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var o=i.i;!o.g&&(xn(P,"spdy")||xn(P,"quic")||xn(P,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(VS(o,o.h),o.h=null))}if(i.D){const Y=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.sa=Y,_i(i.F,i.D,Y))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=o1(i,i.H?i.la:null,i.W),u.J){US(i.i,u);var p=u,m=i.K;m&&p.setTimeout(m),p.B&&(Am(p),xm(p)),i.g=u}else My(i);0<e.l.length&&Ty(e)}else"stop"!=b[0]&&"close"!=b[0]||cl(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?cl(e,7):Cy(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}Dm(4)}catch(b){}}function my(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(bC(n)||"string"==typeof n)hS(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(bC(n)||"string"==typeof n){e=[];for(var i=n.length,s=0;s<i;s++)e.push(s)}else for(s in e=[],i=0,n)e[i++]=s;s=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(bC(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var o=0;o<s;o++)t.call(void 0,i[o],e&&e[o],n)}}function Yu(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Yu)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function gy(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];hc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var s={};for(e=t=0;t<n.g.length;)hc(s,i=n.g[t])||(n.g[e++]=i,s[i]=1),t++;n.g.length=e}}function hc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(nt=dc.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const t=this.L;t&&3==zo(n)?t.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const w=zo(this.g);var t=this.g.Da();const E=this.g.ba();if(!(3>w)&&(3!=w||TC||this.g&&(this.h.h||this.g.ga()||YS(this.g)))){this.I||4!=w||7==t||Dm(8==t||0>=E?3:2),Am(this);var e=this.g.ba();this.N=e;t:if(GC(this)){var i=YS(this.g);n="";var s=i.length,o=4==zo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qu(this),km(this);var u="";break t}this.h.i=new Nt.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function(n,t,e,i,s,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,w,e),this.i){if(this.$&&!this.J){t:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qb(p)){var b=p;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,gs(12),qu(this),km(this);break e}Cm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fy(this,e)}this.U?(jC(this,w,u),TC&&this.i&&3==w&&(LC(this.V,this.W,"tick",this.fb),this.W.start())):(Cm(this.j,this.m,u,null),fy(this,u)),4==w&&qu(this),this.i&&!this.I&&(4==w?JS(this.l,this):(this.i=!1,xm(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,gs(12)):(this.o=0,gs(13)),qu(this),km(this)}}}catch(w){}},nt.fb=function(){if(this.g){var n=zo(this.g),t=this.g.ga();this.C<t.length&&(Am(this),jC(this,n,t),this.i&&4!=n&&xm(this))}},nt.cancel=function(){this.I=!0,qu(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Dm(3),gs(17)),qu(this),this.o=2,km(this)):zC(this,this.Y-n)},(nt=Yu.prototype).R=function(){gy(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},nt.T=function(){return gy(this),this.g.concat()},nt.get=function(n,t){return hc(this.h,n)?this.h[n]:t},nt.set=function(n,t){hc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},nt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var s=e[i],o=this.get(s);n.call(t,o,s,this)}};var NS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Gu){this.g=void 0!==t?t:n.g,$C(this,n.j),this.s=n.s,WC(this,n.i),JC(this,n.m),this.l=n.l,t=n.h;var e=new Im;e.i=t.i,t.g&&(e.g=new Yu(t.g),e.h=t.h),GO(this,e),this.o=n.o}else n&&(e=String(n).match(NS))?(this.g=!!t,$C(this,e[1]||"",!0),this.s=_y(e[2]||""),WC(this,e[3]||"",!0),JC(this,e[4]),this.l=_y(e[5]||"",!0),GO(this,e[6]||"",!0),this.o=_y(e[7]||"")):(this.g=!!t,this.h=new Im(null,this.g))}function Ea(n){return new Gu(n)}function $C(n,t,e){n.j=e?_y(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function WC(n,t,e){n.i=e?_y(t,!0):t}function JC(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GO(n,t,e){t instanceof Im?(n.h=t,function(n,t){t&&!n.j&&(pc(n),n.i=null,n.g.forEach(function(e,i){var s=i.toLowerCase();i!=s&&(PS(this,i),WO(this,s,e))},n)),n.j=t}(n.h,n.g)):(e||(t=by(t,$O)),n.h=new Im(t,n.g))}function _i(n,t,e){n.h.set(t,e)}function QC(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _y(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function by(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,jO),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jO(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(by(t,zO,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(by(t,zO,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(by(e,"/"==e.charAt(0)?d3:u3,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",by(e,h3)),n.join("")};var zO=/[#\/\?@]/g,u3=/[#\?:]/g,d3=/[#\?]/g,$O=/[#\?@]/g,h3=/#/g;function Im(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function pc(n){n.g||(n.g=new Yu,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),s=null;if(0<=i){var o=n[e].substring(0,i);s=n[e].substring(i+1)}else o=n[e];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function PS(n,t){pc(n),t=Rm(n,t),hc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,hc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&gy(n)))}function FS(n,t){return pc(n),t=Rm(n,t),hc(n.g.h,t)}function WO(n,t,e){PS(n,t),0<e.length&&(n.i=null,n.g.set(Rm(n,t),dm(e)),n.h+=e.length)}function Rm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function LS(n){this.l=n||QO,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=Im.prototype).add=function(n,t){pc(this),this.i=null,n=Rm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},nt.forEach=function(n,t){pc(this),this.g.forEach(function(e,i){hS(e,function(s){n.call(t,s,i,this)},this)},this)},nt.T=function(){pc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var s=n[i],o=0;o<s.length;o++)e.push(t[i]);return e},nt.R=function(n){pc(this);var t=[];if("string"==typeof n)FS(this,n)&&(t=vC(t,this.g.get(Rm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=vC(t,n[e])}return t},nt.set=function(n,t){return pc(this),this.i=null,FS(this,n=Rm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},nt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],s=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=s;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var QO=10;function KO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XO(n){return n.h?1:n.g?n.g.size:0}function BS(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function VS(n,t){n.g?n.g.add(t):n.h=t}function US(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function eN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return dm(n.i)}function KC(){}function XC(){this.g=new KC}function Qh(n,t,e){const i=e||"";try{my(n,function(s,o){let u=s;um(s)&&(u=OC(s)),t.push(i+o+"="+encodeURIComponent(u))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function yy(n,t,e,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch(o){}}function Om(n){this.l=n.$b||null,this.j=n.ib||!1}function Kh(n,t){Hn.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=vy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LS.prototype.cancel=function(){if(this.i=eN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KC.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},KC.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},fr(Om,hy),Om.prototype.g=function(){return new Kh(this.l,this.j)},Om.prototype.i=function(n){return function(){return n}}({}),fr(Kh,Hn);var vy=0;function e1(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wy(n)}function wy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=Kh.prototype).open=function(n,t){if(this.readyState!=vy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,wy(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Nt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=vy},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wy(this)),this.g&&(this.readyState=3,wy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e1(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Xh(this):wy(this),3==this.readyState&&e1(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,Xh(this))},nt.Ta=function(n){this.g&&(this.response=n,Xh(this))},nt.ha=function(){this.g&&Xh(this)},nt.setRequestHeader=function(n,t){this.v.append(n,t)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Kh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ZS=Nt.JSON.parse;function bi(n){Hn.call(this),this.headers=new Yu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=t1,this.K=this.L=!1}fr(bi,Hn);var t1="",f3=/^https?$/i,m3=["POST","PUT"];function tN(n){return"content-type"==n.toLowerCase()}function nN(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Nm(n),n1(n)}function Nm(n){n.D||(n.D=!0,Nr(n,"complete"),Nr(n,"error"))}function qS(n){if(n.h&&void 0!==$b&&(!n.C[1]||4!=zo(n)||2!=n.ba()))if(n.v&&4==zo(n))ay(n.Fa,0,n);else if(Nr(n,"readystatechange"),4==zo(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===p){var s=String(n.H).match(NS)[1]||null;if(!s&&Nt.self&&Nt.self.location){var o=Nt.self.location.protocol;s=o.substr(0,o.length-1)}i=!f3.test(s?s.toLowerCase():"")}e=i}if(e)Nr(n,"complete"),Nr(n,"success");else{n.m=6;try{var u=2<zo(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.ba()+"]",Nm(n)}}finally{n1(n)}}}function n1(n,t){if(n.g){iN(n);const e=n.g,i=n.C[0]?Wb:null;n.g=null,n.C=null,t||Nr(n,"ready");try{e.onreadystatechange=i}catch(s){}}}function iN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function zo(n){return n.g?n.g.readyState:0}function YS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case t1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function GS(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return ey(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):_i(n,t,e))}function Pm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function rN(n){this.za=0,this.l=[],this.h=new ly,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pm("baseRetryDelayMs",5e3,n),this.$a=Pm("retryDelaySeedMs",1e4,n),this.Ya=Pm("forwardChannelMaxRetries",2,n),this.ra=Pm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new LS(n&&n.concurrentRequestLimit),this.Ca=new XC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Cy(n){if(sN(n),3==n.G){var t=n.V++,e=Ea(n.F);_i(e,"SID",n.J),_i(e,"RID",t),_i(e,"TYPE","terminate"),Lm(n,e),(t=new dc(n,n.h,t,void 0)).K=2,t.v=QC(Ea(e)),e=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(e=Nt.navigator.sendBeacon(t.v.toString(),"")),!e&&Nt.Image&&((new Image).src=t.v,e=!0),e||(t.g=KS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),xm(t)}s1(n)}function Dy(n){n.g&&(_s(n),n.g.cancel(),n.g=null)}function sN(n){Dy(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),ep(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function jS(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Ty(n)}function Ty(n){KO(n.i)||n.m||(n.m=!0,bm(n.Ha,n),n.C=0)}function zS(n,t){var e;e=t?t.m:n.V++;const i=Ea(n.F);_i(i,"SID",n.J),_i(i,"RID",e),_i(i,"AID",n.U),Lm(n,i),n.o&&n.s&&GS(i,n.o,n.s),e=new dc(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=$S(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),VS(n.i,e),YC(e,i,t)}function Lm(n,t){n.j&&my({},function(e,i){_i(t,i,e)})}function $S(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Qr(n.j.Oa,n.j,n):null;e:{var s=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=s[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let p=!0;for(let m=0;m<e;m++){let b=s[m].h;const w=s[m].g;if(b-=o,0>b)o=Math.max(0,s[m].h-100),p=!1;else try{Qh(w,u,"req"+b+"_")}catch(E){i&&i(w)}}if(p){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function My(n){n.g||n.u||(n.Y=1,bm(n.Ga,n),n.A=0)}function r1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Tm(Qr(n.Ga,n),QS(n,n.A)),n.A++,0))}function _s(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function WS(n){n.g=new dc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ea(n.oa);_i(t,"RID","rpc"),_i(t,"SID",n.J),_i(t,"CI",n.N?"0":"1"),_i(t,"AID",n.U),Lm(n,t),_i(t,"TYPE","xmlhttp"),n.o&&n.s&&GS(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=QC(Ea(t)),e.s=null,e.U=!0,RS(e,n)}function ep(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function JS(n,t){var e=null;if(n.g==t){ep(n),_s(n),n.g=null;var i=2}else{if(!BS(n.i,t))return;e=t.D,US(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=n.C;Nr(i=VC(),new UC(i,e,t,s)),Ty(n)}else My(n);else if(3==(s=t.o)||0==s&&0<n.I||!(1==i&&function(n,t){return!(XO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Tm(Qr(n.Ha,n,t),QS(n,n.C)),n.C++,0)))}(n,t)||2==i&&r1(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),s){case 1:cl(n,5);break;case 4:cl(n,10);break;case 3:cl(n,6);break;default:cl(n,2)}}function QS(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function cl(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Qr(n.jb,n);e||(e=new Gu("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||$C(e,"https"),QC(e)),function(n,t){const e=new ly;if(Nt.Image){const i=new Image;i.onload=yC(yy,e,i,"TestLoadImage: loaded",!0,t),i.onerror=yC(yy,e,i,"TestLoadImage: error",!1,t),i.onabort=yC(yy,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=yC(yy,e,i,"TestLoadImage: timeout",!1,t),Nt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else gs(2);n.G=0,n.j&&n.j.va(t),s1(n),sN(n)}function s1(n){n.G=0,n.I=-1,n.j&&((0!=eN(n.i).length||0!=n.l.length)&&(n.i.i.length=0,dm(n.l),n.l.length=0),n.j.ua())}function o1(n,t,e){let i=function(n){return n instanceof Gu?Ea(n):new Gu(n,void 0)}(e);if(""!=i.i)t&&WC(i,t+"."+i.i),JC(i,i.m);else{const s=Nt.location;i=function(n,t,e,i){var s=new Gu(null,void 0);return n&&$C(s,n),t&&WC(s,t),e&&JC(s,e),i&&(s.l=i),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,e)}return n.aa&&ey(n.aa,function(s,o){_i(i,o,s)}),e=n.sa,(t=n.D)&&e&&_i(i,t,e),_i(i,"VER",n.ma),Lm(n,i),i}function KS(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new bi(e&&n.Ba&&!n.qa?new Om({ib:!0}):n.qa)).L=n.H,t}function a1(){}function Bm(){if(Gh&&!(10<=Number(bS)))throw Error("Environmental error: no available transport.")}function Ws(n,t){Hn.call(this),this.g=new rN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Qb(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qb(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ju(this)}function XS(n){IS.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Ey(){py.call(this),this.status=1}function ju(n){this.g=n}(nt=bi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ZC.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:ZC),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void nN(this,o)}n=e||"";const s=new Yu(this.headers);i&&my(i,function(o,u){s.set(u,o)}),i=function(n){e:{var t=tN;const e=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<e;s++)if(s in i&&t.call(void 0,i[s],s,n)){t=s;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(s.T()),e=Nt.FormData&&n instanceof Nt.FormData,!(0<=dS(m3,t))||i||e||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iN(this),0<this.B&&((this.K=function(n){return Gh&&EC()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=ay(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){nN(this,o)}},nt.pa=function(){void 0!==$b&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Nr(this,"complete"),Nr(this,"abort"),n1(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),n1(this,!0)),bi.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?qS(this):this.cb())},nt.cb=function(){qS(this)},nt.ba=function(){try{return 2<zo(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ZS(t)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=rN.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new dc(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=wC(o),fS(o,this.P)):o=this.P),null===this.o&&(s.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=$S(this,s,t),_i(e=Ea(this.F),"RID",n),_i(e,"CVER",22),this.D&&_i(e,"X-HTTP-Session-Id",this.D),Lm(this,e),this.o&&o&&GS(e,this.o,o),VS(this.i,s),this.Ra&&_i(e,"TYPE","init"),this.ja?(_i(e,"$req",t),_i(e,"SID","null"),s.$=!0,YC(s,e,null)):YC(s,e,t),this.G=2}}else 3==this.G&&(n?zS(this,n):0==this.l.length||KO(this.i)||zS(this))},nt.Ga=function(){if(this.u=null,WS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Tm(Qr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gs(10),Dy(this),WS(this))},nt.ab=function(){null!=this.v&&(this.v=null,Dy(this),r1(this),gs(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),gs(2)):(this.h.info("Failed to ping google.com"),gs(1))},(nt=a1.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Bm.prototype.g=function(n,t){return new Ws(n,t)},fr(Ws,Hn),Ws.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),bm(Qr(n.hb,n,t))),gs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=o1(n,null,n.W),Ty(n)},Ws.prototype.close=function(){Cy(this.g)},Ws.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,jS(this.g,t)}else this.v?((t={}).__data__=OC(n),jS(this.g,t)):jS(this.g,n)},Ws.prototype.M=function(){this.g.j=null,delete this.j,Cy(this.g),delete this.g,Ws.Z.M.call(this)},fr(XS,IS),fr(Ey,py),fr(ju,a1),ju.prototype.xa=function(){Nr(this.g,"a")},ju.prototype.wa=function(n){Nr(this.g,new XS(n))},ju.prototype.va=function(n){Nr(this.g,new Ey(n))},ju.prototype.ua=function(){Nr(this.g,"b")},Bm.prototype.createWebChannel=Bm.prototype.g,Ws.prototype.send=Ws.prototype.u,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,uy.NO_ERROR=0,uy.TIMEOUT=8,uy.HTTP_ERROR=6,dy.COMPLETE="complete",Mm.EventType=Zu,Zu.OPEN="a",Zu.CLOSE="b",Zu.ERROR="c",Zu.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,bi.prototype.listenOnce=bi.prototype.O,bi.prototype.getLastError=bi.prototype.La,bi.prototype.getLastErrorCode=bi.prototype.Da,bi.prototype.getStatus=bi.prototype.ba,bi.prototype.getResponseJson=bi.prototype.Qa,bi.prototype.getResponseText=bi.prototype.ga,bi.prototype.send=bi.prototype.ea;var ex=$s.createWebChannelTransport=function(){return new Bm},l1=$s.getStatEventTarget=function(){return VC()},c1=$s.ErrorCode=uy,$o=$s.EventType=dy,oN=$s.Event=Hu,aN=$s.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lN=$s.FetchXmlHttpFactory=Om,u1=$s.WebChannel=Mm,cN=$s.XhrIo=bi;const tx="@firebase/firestore";class Pr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");let Vm="9.6.5";const fc=new Bu.Yd("@firebase/firestore");function Sy(){return fc.logLevel}function Le(n,...t){if(fc.logLevel<=Bu.in.DEBUG){const e=t.map(nx);fc.debug(`Firestore (${Vm}): ${n}`,...e)}}function Yi(n,...t){if(fc.logLevel<=Bu.in.ERROR){const e=t.map(nx);fc.error(`Firestore (${Vm}): ${n}`,...e)}}function Um(n,...t){if(fc.logLevel<=Bu.in.WARN){const e=t.map(nx);fc.warn(`Firestore (${Vm}): ${n}`,...e)}}function nx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function lt(n="Unexpected state"){const t=`FIRESTORE (${Vm}) INTERNAL ASSERTION FAILED: `+n;throw Yi(t),new Error(t)}function Dt(n,t){n||lt()}function Ge(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Lt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class d1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Pr.UNAUTHENTICATED))}shutdown(){}}class pN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class b3{constructor(t){this.t=t,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let s=this.i;const o=b=>this.i!==s?(s=this.i,e(b)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,t.enqueueRetryable(()=>o(this.currentUser))};const p=()=>{const b=u;t.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},m=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new d1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new Pr(t)}}class y3{constructor(t,e,i){this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class v3{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new y3(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ix{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=s=>{t.enqueueRetryable(()=>{return null!=(o=s).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`),e(o.token);var o})};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dt("string"==typeof e.token),new h1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Js{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function fN(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Js.I=-1;class rx{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=fN(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%t.length))}return i}}function tn(n,t){return n<t?-1:n>t?1:0}function Hm(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}function mN(n){return n+"\0"}class wr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wr.fromMillis(Date.now())}static fromDate(t){return wr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new wr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?tn(this.nanoseconds,t.nanoseconds):tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new wr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mr(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function tp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function p1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class np{constructor(t,e,i){void 0===e?e=0:e>t.length&&lt(),void 0===i?i=t.length-e:i>t.length-e&&lt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===np.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof np?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=t.get(s),u=e.get(s);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wn extends np{construct(t,e,i){return new wn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new wn(e)}static emptyPath(){return new wn([])}}const xy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends np{construct(t,e,i){return new Fr(t,e,i)}static isValidIdentifier(t){return xy.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(0===i.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;s<t.length;){const p=t[s];if("\\"===p){if(s+1===t.length)throw new xe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[s+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new xe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,s+=2}else"`"===p?(u=!u,s++):"."!==p||u?(i+=p,s++):(o(),s++)}if(o(),u)throw new xe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fr(e)}static emptyPath(){return new Fr([])}}class ip{constructor(t){this.fields=t,t.sort(Fr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ni{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ni(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ni(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(n){if(Dt(!!n),"string"==typeof n){let t=0;const e=ox.exec(n);if(Dt(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ki(n.seconds),nanos:ki(n.nanos)}}function ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rp(n){return"string"==typeof n?ni.fromBase64String(n):ni.fromUint8Array(n)}function sp(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ax(n){const t=n.mapValue.fields.__previous_value__;return sp(t)?ax(t):t}function zu(n){const t=Sa(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(t.seconds,t.nanos)}function mc(n){return null==n}function Gi(n){return 0===n&&1/n==-1/0}function gN(n){return"number"==typeof n&&Number.isInteger(n)&&!Gi(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class at{constructor(t){this.path=t}static fromPath(t){return new at(wn.fromString(t))}static fromName(t){return new at(wn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new at(new wn(t.slice()))}}function $u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sp(n)?4:10:lt()}function ul(n,t){if(n===t)return!0;const e=$u(n);if(e!==$u(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return zu(n).isEqual(zu(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Sa(i.timestampValue),u=Sa(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,rp(n.bytesValue).isEqual(rp(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return ki(i.geoPointValue.latitude)===ki(s.geoPointValue.latitude)&&ki(i.geoPointValue.longitude)===ki(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ki(i.integerValue)===ki(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ki(i.doubleValue),u=ki(s.doubleValue);return o===u?Gi(o)===Gi(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Hm(n.arrayValue.values||[],t.arrayValue.values||[],ul);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(mr(o)!==mr(u))return!1;for(const p in o)if(o.hasOwnProperty(p)&&(void 0===u[p]||!ul(o[p],u[p])))return!1;return!0}(n,t);default:return lt()}var s}function gc(n,t){return void 0!==(n.values||[]).find(e=>ul(e,t))}function op(n,t){if(n===t)return 0;const e=$u(n),i=$u(t);if(e!==i)return tn(e,i);switch(e){case 0:return 0;case 1:return tn(n.booleanValue,t.booleanValue);case 2:return function(s,o){const u=ki(s.integerValue||s.doubleValue),p=ki(o.integerValue||o.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,t);case 3:return _N(n.timestampValue,t.timestampValue);case 4:return _N(zu(n),zu(t));case 5:return tn(n.stringValue,t.stringValue);case 6:return function(s,o){const u=rp(s),p=rp(o);return u.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const u=s.split("/"),p=o.split("/");for(let m=0;m<u.length&&m<p.length;m++){const b=tn(u[m],p[m]);if(0!==b)return b}return tn(u.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const u=tn(ki(s.latitude),ki(o.latitude));return 0!==u?u:tn(ki(s.longitude),ki(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const u=s.values||[],p=o.values||[];for(let m=0;m<u.length&&m<p.length;++m){const b=op(u[m],p[m]);if(b)return b}return tn(u.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){const u=s.fields||{},p=Object.keys(u),m=o.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let w=0;w<p.length&&w<b.length;++w){const E=tn(p[w],b[w]);if(0!==E)return E;const x=op(u[p[w]],m[b[w]]);if(0!==x)return x}return tn(p.length,b.length)}(n.mapValue,t.mapValue);default:throw lt()}}function _N(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return tn(n,t);const e=Sa(n),i=Sa(t),s=tn(e.seconds,i.seconds);return 0!==s?s:tn(e.nanos,i.nanos)}function lx(n){return cx(n)}function cx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=Sa(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rp(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=cx(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const p of s)u?u=!1:o+=",",o+=`${p}:${cx(i.fields[p])}`;return o+"}"}(n.mapValue):lt();var t}function Ay(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function f1(n){return!!n&&"integerValue"in n}function m1(n){return!!n&&"arrayValue"in n}function ux(n){return!!n&&"nullValue"in n}function dx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function g1(n){return!!n&&"mapValue"in n}function Zm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return tp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Zm(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Zm(n.arrayValue.values[e]);return t}return Object.assign({},n)}class Xr{constructor(t){this.value=t}static empty(){return new Xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!g1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zm(e)}setAll(t){let e=Fr.emptyPath(),i={},s=[];t.forEach((u,p)=>{if(!e.isImmediateParentOf(p)){const m=this.getFieldsMap(e);this.applyChanges(m,i,s),i={},s=[],e=p.popLast()}u?i[p.lastSegment()]=Zm(u):s.push(p.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());g1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ul(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];g1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){tp(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new Xr(Zm(this.value))}}function hx(n){const t=[];return tp(n.fields,(e,i)=>{const s=new Fr([e]);if(g1(i)){const o=hx(i.mapValue).fields;if(0===o.length)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)}),new ip(t)}class yi{constructor(t,e,i,s,o){this.key=t,this.documentType=e,this.version=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new yi(t,0,It.min(),Xr.empty(),0)}static newFoundDocument(t,e,i){return new yi(t,1,e,i,0)}static newNoDocument(t,e){return new yi(t,2,e,Xr.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,Xr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class C3{constructor(t,e=null,i=[],s=[],o=null,u=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=p,this.R=null}}function px(n,t=null,e=[],i=[],s=null,o=null,u=null){return new C3(n,t,e,i,s,o,u)}function qm(n){const t=Ge(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+lx(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),mc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=_1(t.startAt)),t.endAt&&(e+="|ub:",e+=_1(t.endAt)),t.R=e}return t.R}function ky(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!D3(n.orderBy[s],t.orderBy[s]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((e=n.filters[s]).op!==(i=t.filters[s]).op||!e.field.isEqual(i.field)||!ul(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!xN(n.startAt,t.startAt)&&xN(n.endAt,t.endAt)}function Iy(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ii extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new vN(t,e,i):"array-contains"===e?new TN(t,i):"in"===e?new MN(t,i):"not-in"===e?new EN(t,i):"array-contains-any"===e?new Ym(t,i):new ii(t,e,i)}static P(t,e,i){return"in"===e?new wN(t,i):new CN(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(op(e,this.value)):null!==e&&$u(this.value)===$u(e)&&this.v(op(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return lt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vN extends ii{constructor(t,e,i){super(t,e,i),this.key=at.fromName(i.referenceValue)}matches(t){const e=at.comparator(t.key,this.key);return this.v(e)}}class wN extends ii{constructor(t,e){super(t,"in",e),this.keys=DN(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class CN extends ii{constructor(t,e){super(t,"not-in",e),this.keys=DN(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function DN(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>at.fromName(i.referenceValue))}class TN extends ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return m1(e)&&gc(e.arrayValue,this.value)}}class MN extends ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gc(this.value.arrayValue,e)}}class EN extends ii{constructor(t,e){super(t,"not-in",e)}matches(t){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gc(this.value.arrayValue,e)}}class Ym extends ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!m1(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>gc(this.value.arrayValue,i))}}class ap{constructor(t,e){this.position=t,this.before=e}}function _1(n){return`${n.before?"b":"a"}:${n.position.map(t=>lx(t)).join(",")}`}class lp{constructor(t,e="asc"){this.field=t,this.dir=e}}function D3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function SN(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(i=o.field.isKeyField()?at.comparator(at.fromName(u.referenceValue),e.key):op(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function xN(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ul(n.position[e],t.position[e]))return!1;return!0}class Wo{constructor(t,e=null,i=[],s=[],o=null,u="F",p=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=p,this.endAt=m,this.S=null,this.D=null}}function fx(n,t,e,i,s,o,u,p){return new Wo(n,t,e,i,s,o,u,p)}function cp(n){return new Wo(n)}function Ry(n){return!mc(n.limit)&&"F"===n.limitType}function b1(n){return!mc(n.limit)&&"L"===n.limitType}function y1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function v1(n){for(const t of n.filters)if(t.V())return t.field;return null}function w1(n){return null!==n.collectionGroup}function es(n){const t=Ge(n);if(null===t.S){t.S=[];const e=v1(t),i=y1(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new lp(e)),t.S.push(new lp(Fr.keyField(),"asc"));else{let s=!1;for(const o of t.explicitOrderBy)t.S.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new lp(Fr.keyField(),o))}}}return t.S}function Jo(n){const t=Ge(n);if(!t.D)if("F"===t.limitType)t.D=px(t.path,t.collectionGroup,es(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of es(t))e.push(new lp(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new ap(t.endAt.position,!t.endAt.before):null,s=t.startAt?new ap(t.startAt.position,!t.startAt.before):null;t.D=px(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}return t.D}function C1(n,t,e){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Gm(n,t){return ky(Jo(n),Jo(t))&&n.limitType===t.limitType}function D1(n){return`${qm(Jo(n))}|lt:${n.limitType}`}function Oy(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${lx(i.value)}`;var i}).join(", ")}]`),mc(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+_1(n.startAt)),n.endAt&&(t+=", endAt: "+_1(n.endAt)),`Target(${t})`}(Jo(n))}; limitType=${n.limitType})`}function up(n,t){return t.isFoundDocument()&&function(e,i){const s=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):at.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(n,t)&&function(e,i){for(const s of e.explicitOrderBy)if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(e,i){for(const s of e.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!SN(e.startAt,es(e),i)||e.endAt&&SN(e.endAt,es(e),i)));var e,i}function Ny(n){return(t,e)=>{let i=!1;for(const s of es(n)){const o=T1(s,t,e);if(0!==o)return o;i=i||s.field.isKeyField()}return 0}}function T1(n,t,e){const i=n.field.isKeyField()?at.comparator(t.key,e.key):function(s,o,u){const p=o.data.field(s),m=u.data.field(s);return null!==p&&null!==m?op(p,m):lt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}function Py(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gi(t)?"-0":t}}function jm(n){return{integerValue:""+n}}function zm(n,t){return gN(t)?jm(t):Py(n,t)}class $m{constructor(){this._=void 0}}function mx(n,t,e){return n instanceof Wu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Ju?_x(n,t):n instanceof Qu?Fy(n,t):function(i,s){const o=gx(i,s),u=ts(o)+ts(i.N);return f1(o)&&f1(i.N)?jm(u):Py(i.k,u)}(n,t)}function AN(n,t,e){return n instanceof Ju?_x(n,t):n instanceof Qu?Fy(n,t):e}function gx(n,t){return n instanceof dp?f1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Wu extends $m{}class Ju extends $m{constructor(t){super(),this.elements=t}}function _x(n,t){const e=hp(t);for(const i of n.elements)e.some(s=>ul(s,i))||e.push(i);return{arrayValue:{values:e}}}class Qu extends $m{constructor(t){super(),this.elements=t}}function Fy(n,t){let e=hp(t);for(const i of n.elements)e=e.filter(s=>!ul(s,i));return{arrayValue:{values:e}}}class dp extends $m{constructor(t,e){super(),this.k=t,this.N=e}}function ts(n){return ki(n.integerValue||n.doubleValue)}function hp(n){return m1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _c{constructor(t,e){this.field=t,this.transform=e}}class Ly{constructor(t,e){this.version=t,this.transformResults=e}}class Ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wm(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ku{}function kN(n,t,e){n instanceof Jm?function(i,s,o){const u=i.value.clone(),p=dl(i.fieldTransforms,s,o.transformResults);u.setAll(p),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof bc?function(i,s,o){if(!Wm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=dl(i.fieldTransforms,s,o.transformResults),p=s.data;p.setAll(vx(i)),p.setAll(u),s.convertToFoundDocument(o.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function M1(n,t,e){var s;n instanceof Jm?function(i,s,o){if(!Wm(i.precondition,s))return;const u=i.value.clone(),p=pp(i.fieldTransforms,o,s);u.setAll(p),s.convertToFoundDocument(E1(s),u).setHasLocalMutations()}(n,t,e):n instanceof bc?function(i,s,o){if(!Wm(i.precondition,s))return;const u=pp(i.fieldTransforms,o,s),p=s.data;p.setAll(vx(i)),p.setAll(u),s.convertToFoundDocument(E1(s),p).setHasLocalMutations()}(n,t,e):Wm(n.precondition,s=t)&&s.convertToNoDocument(It.min())}function IN(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=gx(i.transform,s||null);null!=o&&(null==e&&(e=Xr.empty()),e.set(i.field,o))}return e||null}function yx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Hm(e,i,(s,o)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Ju&&i instanceof Ju||e instanceof Qu&&i instanceof Qu?Hm(e.elements,i.elements,ul):e instanceof dp&&i instanceof dp?ul(e.N,i.N):e instanceof Wu&&i instanceof Wu);var e,i}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function E1(n){return n.isFoundDocument()?n.version:It.min()}class Jm extends Ku{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}}class bc extends Ku{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}}function vx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function dl(n,t,e){const i=new Map;Dt(n.length===e.length);for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,p=t.data.field(o.field);i.set(o.field,AN(u,p,e[s]))}return i}function pp(n,t,e){const i=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);i.set(s.field,mx(o,u,t))}return i}class Xu extends Ku{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class S1 extends Ku{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class RN{constructor(t){this.count=t}}var ir,cn;function wx(n){switch(n){default:return lt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function x1(n){if(void 0===n)return Yi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ir.OK:return fe.OK;case ir.CANCELLED:return fe.CANCELLED;case ir.UNKNOWN:return fe.UNKNOWN;case ir.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ir.INTERNAL:return fe.INTERNAL;case ir.UNAVAILABLE:return fe.UNAVAILABLE;case ir.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ir.NOT_FOUND:return fe.NOT_FOUND;case ir.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ir.ABORTED:return fe.ABORTED;case ir.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ir.DATA_LOSS:return fe.DATA_LOSS;default:return lt()}}(cn=ir||(ir={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class rr{constructor(t,e){this.comparator=t,this.root=e||Lr.EMPTY}insert(t,e){return new rr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(t){return new rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new By(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new By(this.root,t,this.comparator,!1)}getReverseIterator(){return new By(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new By(this.root,t,this.comparator,!0)}}class By{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Lr{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=null!=i?i:Lr.RED,this.left=null!=s?s:Lr.EMPTY,this.right=null!=o?o:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new Lr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===o?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return Lr.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,t,e,i,s){return this}insert(n,t,e){return new Lr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new rr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new xa(this.data.getIterator())}getIteratorFrom(t){return new xa(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(s,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class xa{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Qm=new rr(at.comparator);function Br(){return Qm}const Vy=new rr(at.comparator);function yc(){return Vy}const ON=new rr(at.comparator);function Cx(){return ON}const NN=new Ri(at.comparator);function An(...n){let t=NN;for(const e of n)t=t.add(e);return t}const Dx=new Ri(tn);function Km(){return Dx}class fp{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,ed.createSynthesizedTargetChangeForCurrentChange(t,e)),new fp(It.min(),i,Km(),Br(),An())}}class ed{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new ed(ni.EMPTY_BYTE_STRING,e,An(),An(),An())}}class Uy{constructor(t,e,i,s){this.$=t,this.removedTargetIds=e,this.key=i,this.O=s}}class Tx{constructor(t,e){this.targetId=t,this.M=e}}class A1{constructor(t,e,i=ni.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class vc{constructor(){this.F=0,this.L=Ex(),this.B=ni.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=An(),e=An(),i=An();return this.L.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:lt()}}),new ed(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=Ex()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class k1{constructor(t){this.et=t,this.nt=new Map,this.st=Br(),this.it=Mx(),this.rt=new Ri(tn)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:lt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,s)=>{this.lt(s)&&e(s)})}dt(t){const e=t.targetId,i=t.M.count,s=this.wt(e);if(s){const o=s.target;if(Iy(o))if(0===i){const u=new at(o.path);this.at(e,u,yi.newNoDocument(u,It.min()))}else Dt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((o,u)=>{const p=this.wt(u);if(p){if(o.current&&Iy(p.target)){const m=new at(p.target.path);null!==this.st.get(m)||this.yt(u,m)||this.at(u,m,yi.newNoDocument(m,t))}o.j&&(e.set(u,o.G()),o.H())}});let i=An();this.it.forEach((o,u)=>{let p=!0;u.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(p=!1,!1)}),p&&(i=i.add(o))});const s=new fp(t,e,this.rt,this.st,i);return this.st=Br(),this.it=Mx(),this.rt=new Ri(tn),s}ct(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,i){if(!this.lt(t))return;const s=this.ht(t);this.yt(t,e)?s.J(e,1):s.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new vc,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Ri(tn),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new vc),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function Mx(){return new rr(at.comparator)}function Ex(){return new rr(at.comparator)}const T3={asc:"ASCENDING",desc:"DESCENDING"},M3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E3{constructor(t,e){this.databaseId=t,this.C=e}}function Hy(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sx(n,t){return n.C?t.toBase64():t.toUint8Array()}function PN(n,t){return Hy(n,t.toTimestamp())}function Vr(n){return Dt(!!n),It.fromTimestamp(function(t){const e=Sa(t);return new wr(e.seconds,e.nanos)}(n))}function xx(n,t){return(e=n,new wn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function FN(n){const t=wn.fromString(n);return Dt(Xt(t)),t}function Zy(n,t){return xx(n.databaseId,t.path)}function Aa(n,t){const e=FN(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new at(BN(e))}function Ax(n,t){return xx(n.databaseId,t)}function LN(n){const t=FN(n);return 4===t.length?wn.emptyPath():BN(t)}function qy(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BN(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function a(n,t,e){return{name:Zy(n,t),fields:e.value.mapValue.fields}}function l(n,t,e){const i=Aa(n,t.name),s=Vr(t.updateTime),o=new Xr({mapValue:{fields:t.fields}}),u=yi.newFoundDocument(i,s,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function h(n,t){let e;if(t instanceof Jm)e={update:a(n,t.key,t.value)};else if(t instanceof Xu)e={delete:Zy(n,t.key)};else if(t instanceof bc)e={update:a(n,t.key,t.data),updateMask:Tt(t.fieldMask)};else{if(!(t instanceof S1))return lt();e={verify:Zy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const u=o.transform;if(u instanceof Wu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dp)return{fieldPath:o.field.canonicalString(),increment:u.N};throw lt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:PN(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:lt()),e;var s}function f(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?Ii.updateTime(Vr(s.updateTime)):void 0!==s.exists?Ii.exists(s.exists):Ii.none():Ii.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(o,u){let p=null;"setToServerValue"in u?(Dt("REQUEST_TIME"===u.setToServerValue),p=new Wu):"appendMissingElements"in u?p=new Ju(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new Qu(u.removeAllFromArray.values||[]):"increment"in u?p=new dp(o,u.increment):lt();const m=Fr.fromServerFormat(u.fieldPath);return new _c(m,p)}(n,s)):[];var s;if(t.update){const s=Aa(n,t.update.name),o=new Xr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new ip((t.updateMask.fieldPaths||[]).map(b=>Fr.fromServerFormat(b)));return new bc(s,o,u,e,i)}return new Jm(s,o,e,i)}if(t.delete){const s=Aa(n,t.delete);return new Xu(s,e)}if(t.verify){const s=Aa(n,t.verify);return new S1(s,e)}return lt()}function v(n,t){return{documents:[Ax(n,t.path)]}}function D(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Ax(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Ax(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(p){if(0===p.length)return;const m=p.map(b=>function(w){if("=="===w.op){if(dx(w.value))return{unaryFilter:{field:te(w.field),op:"IS_NAN"}};if(ux(w.value))return{unaryFilter:{field:te(w.field),op:"IS_NULL"}}}else if("!="===w.op){if(dx(w.value))return{unaryFilter:{field:te(w.field),op:"IS_NOT_NAN"}};if(ux(w.value))return{unaryFilter:{field:te(w.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:te(w.field),op:ue(w.op),value:w.value}}}(b));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);s&&(e.structuredQuery.where=s);const o=function(p){if(0!==p.length)return p.map(m=>{return{field:te((b=m).field),direction:$(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(m=t.limit,n.C||mc(m)?m:{value:m});var m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=O(t.startAt)),t.endAt&&(e.structuredQuery.endAt=O(t.endAt)),e}function M(n){let t=LN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Dt(1===i);const w=e.from[0];w.allDescendants?s=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=I(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(w=>{return new lp(Oe((E=w).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let p=null;e.limit&&(p=function(w){let E;return E="object"==typeof w?w.value:w,mc(E)?null:E}(e.limit));let m=null;e.startAt&&(m=U(e.startAt));let b=null;return e.endAt&&(b=U(e.endAt)),fx(t,s,u,o,p,"F",m,b)}function I(n){return n?void 0!==n.unaryFilter?[ct(n)]:void 0!==n.fieldFilter?[we(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>I(t)).reduce((t,e)=>t.concat(e)):lt():[]}function O(n){return{before:n.before,values:n.position}}function U(n){return new ap(n.values||[],!!n.before)}function $(n){return T3[n]}function ue(n){return M3[n]}function te(n){return{fieldPath:n.canonicalString()}}function Oe(n){return Fr.fromServerFormat(n.fieldPath)}function we(n){return ii.create(Oe(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ct(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Oe(n.unaryFilter.field);return ii.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Oe(n.unaryFilter.field);return ii.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oe(n.unaryFilter.field);return ii.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oe(n.unaryFilter.field);return ii.create(s,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function Tt(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Xt(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function In(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=mp(t)),t=Do(n.get(e),t);return mp(t)}function Do(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function mp(n){return n+"\x01\x01"}function ks(n){const t=n.length;if(Dt(t>=2),2===t)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const e=t-2,i=[];let s="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&lt(),n.charAt(u+1)){case"\x01":const p=n.substring(o,u);let m;0===s.length?m=p:(s+=p,m=s,s=""),i.push(m);break;case"\x10":s+=n.substring(o,u),s+="\0";break;case"\x11":s+=n.substring(o,u+1);break;default:lt()}o=u+2}return new wn(i)}class gp{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Cr{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Cr.store="owner",Cr.key="owner";class ka{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}ka.store="mutationQueues",ka.keyPath="userId";class Zn{constructor(t,e,i,s,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=s,this.mutations=o}}Zn.store="mutations",Zn.keyPath="batchId",Zn.userMutationsIndex="userMutationsIndex",Zn.userMutationsKeyPath=["userId","batchId"];class Dr{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,In(e)]}static key(t,e,i){return[t,In(e),i]}}Dr.store="documentMutations",Dr.PLACEHOLDER=new Dr;class I1{constructor(t,e){this.path=t,this.readTime=e}}class R1{constructor(t,e){this.path=t,this.version=e}}class sr{constructor(t,e,i,s,o,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=s,this.readTime=o,this.parentPath=u}}sr.store="remoteDocuments",sr.readTimeIndex="readTimeIndex",sr.readTimeIndexPath="readTime",sr.collectionReadTimeIndex="collectionReadTimeIndex",sr.collectionReadTimeIndexPath=["parentPath","readTime"];class wc{constructor(t){this.byteSize=t}}wc.store="remoteDocumentGlobal",wc.key="remoteDocumentGlobalKey";class To{constructor(t,e,i,s,o,u,p){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=s,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=p}}To.store="targets",To.keyPath="targetId",To.queryTargetsIndexName="queryTargetsIndex",To.queryTargetsKeyPath=["canonicalId","targetId"];class bs{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}bs.store="targetDocuments",bs.keyPath=["targetId","path"],bs.documentTargetsIndex="documentTargetsIndex",bs.documentTargetsKeyPath=["path","targetId"];class Qo{constructor(t,e,i,s){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=s}}Qo.key="targetGlobalKey",Qo.store="targetGlobal";class Xm{constructor(t,e){this.collectionId=t,this.parent=e}}Xm.store="collectionParents",Xm.keyPath=["collectionId","parent"];class td{constructor(t,e,i,s){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=s}}td.store="clientMetadata",td.keyPath="clientId";class Yy{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Yy.store="bundles",Yy.keyPath="bundleId";class Gy{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}Gy.store="namedQueries",Gy.keyPath="name";const qG=[ka.store,Zn.store,Dr.store,sr.store,To.store,Cr.store,Qo.store,bs.store,td.store,wc.store,Xm.store,Yy.store,Gy.store],S3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Re((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Re?e:Re.resolve(e)}catch(e){return Re.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.reject(e)}static resolve(t){return new Re((e,i)=>{e(t)})}static reject(t){return new Re((e,i)=>{i(t)})}static waitFor(t){return new Re((e,i)=>{let s=0,o=0,u=!1;t.forEach(p=>{++s,p.next(()=>{++o,u&&o===s&&e()},m=>i(m))}),u=!0,o===s&&e()})}static or(t){let e=Re.resolve(!1);for(const i of t)e=e.next(s=>s?Re.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}}class kx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new nr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new O1(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const s=VN(i.target.error);this.It.reject(new O1(t,s))}}static open(t,e,i,s){try{return new kx(e,t.transaction(s,i))}catch(o){throw new O1(e,o)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new GG(e)}}class hl{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===hl.bt((0,Lt.z$)())&&Yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),tg(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,Lt.hl)())return!1;if(hl.vt())return!0;const t=(0,Lt.z$)(),e=hl.bt(t),i=0<e&&e<10,s=hl.Vt(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,s)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{s(new O1(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const p=u.target.error;s("VersionError"===p.name?new xe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new O1(t,p))},o.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Rt.Nt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){var o=this;return(0,ve.Z)(function*(){const u="readonly"===e;let p=0;for(;;){++p;try{o.db=yield o.Ct(t);const m=kx.open(o.db,t,u?"readonly":"readwrite",i),b=s(m).catch(w=>(m.abort(w),Re.reject(w))).toPromise();return b.catch(()=>{}),yield m.At,b}catch(m){const b="FirebaseError"!==m.name&&p<3;if(Le("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),o.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YG{constructor(t){this.$t=t,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Mt=t}delete(){return tg(this.$t.delete())}}class O1 extends xe{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function eg(n){return"IndexedDbTransactionError"===n.name}class GG{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),tg(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),tg(this.store.add(t))}get(t){return tg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),tg(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),tg(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),s=[];return this.Ut(i,(o,u)=>{s.push(u)}).next(()=>s)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const s=this.cursor(i);return this.Ut(s,(o,u,p)=>p.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.Ut(s,e)}Qt(t){const e=this.cursor({});return new Re((i,s)=>{e.onerror=o=>{const u=VN(o.target.error);s(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(p=>{p?u.continue():i()}):i()}})}Ut(t,e){const i=[];return new Re((s,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const p=u.target.result;if(!p)return void s();const m=new YG(p),b=e(p.primaryKey,p.value,m);if(b instanceof Re){const w=b.catch(E=>(m.done(),Re.reject(E)));i.push(w)}m.isDone?s():null===m.Ft?p.continue():p.continue(m.Ft)}}).next(()=>Re.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function tg(n){return new Re((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const s=VN(i.target.error);e(s)}})}let A3=!1;function VN(n){const t=hl.bt((0,Lt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return A3||(A3=!0,setTimeout(()=>{throw i},0)),i}}return n}class k3 extends x3{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function Mo(n,t){const e=Ge(n);return hl.Dt(e.Wt,t)}class UN{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&kN(o,t,i[s])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&M1(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&M1(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),s=i;this.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),An())}isEqual(t){return this.batchId===t.batchId&&Hm(this.mutations,t.mutations,(e,i)=>yx(e,i))&&Hm(this.baseMutations,t.baseMutations,(e,i)=>yx(e,i))}}class HN{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Dt(t.mutations.length===i.length);let s=Cx();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new HN(t,e,i,s)}}class _p{constructor(t,e,i,s,o=It.min(),u=It.min(),p=ni.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p}withSequenceNumber(t){return new _p(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class I3{constructor(t){this.Gt=t}}function ZN(n,t){if(t.document)return l(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=at.fromSegments(t.noDocument.path),i=zy(t.noDocument.readTime),s=yi.newNoDocument(e,i);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){const e=at.fromSegments(t.unknownDocument.path),i=zy(t.unknownDocument.version);return yi.newUnknownDocument(e,i)}return lt()}function R3(n,t,e){const i=qN(e),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){const o={name:Zy(p=n.Gt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:Hy(p,m.version.toTimestamp())};return new sr(null,null,o,t.hasCommittedMutations,i,s)}var p,m;if(t.isNoDocument()){const o=t.key.path.toArray(),u=jy(t.version),p=t.hasCommittedMutations;return new sr(null,new I1(o,u),null,p,i,s)}if(t.isUnknownDocument()){const o=t.key.path.toArray(),u=jy(t.version);return new sr(new R1(o,u),null,null,!0,i,s)}return lt()}function qN(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function O3(n){const t=new wr(n[0],n[1]);return It.fromTimestamp(t)}function jy(n){const t=n.toTimestamp();return new gp(t.seconds,t.nanoseconds)}function zy(n){const t=new wr(n.seconds,n.nanoseconds);return It.fromTimestamp(t)}function $y(n,t){const e=(t.baseMutations||[]).map(o=>f(n.Gt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>f(n.Gt,o)),s=wr.fromMillis(t.localWriteTimeMs);return new UN(t.batchId,s,e,i)}function N1(n){const t=zy(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?zy(n.lastLimboFreeSnapshotVersion):It.min();let i;var s;return void 0!==n.query.documents?(Dt(1===(s=n.query).documents.length),i=Jo(cp(LN(s.documents[0])))):i=Jo(M(n.query)),new _p(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ni.fromBase64String(n.resumeToken))}function N3(n,t){const e=jy(t.snapshotVersion),i=jy(t.lastLimboFreeSnapshotVersion);let s;s=Iy(t.target)?v(n.Gt,t.target):D(n.Gt,t.target);const o=t.resumeToken.toBase64();return new To(t.targetId,qm(t.target),e,o,t.sequenceNumber,i,s)}function YN(n){const t=M({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?C1(t,t.limit,"L"):t}class jG{getBundleMetadata(t,e){return P3(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:zy(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return P3(t).put({bundleId:(i=e).id,createTime:jy(Vr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return F3(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:YN(s.bundledQuery),readTime:zy(s.readTime)};var s})}saveNamedQuery(t,e){return F3(t).put({name:(i=e).name,readTime:jy(Vr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function P3(n){return Mo(n,Yy.store)}function F3(n){return Mo(n,Gy.store)}class zG{constructor(){this.zt=new GN}addToCollectionParentIndex(t,e){return this.zt.add(e),Re.resolve()}getCollectionParents(t,e){return Re.resolve(this.zt.getEntries(e))}}class GN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Ri(wn.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Ri(wn.comparator)).toArray()}}class $G{constructor(){this.Ht=new GN}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const o={collectionId:i,parent:In(s)};return L3(t).put(o)}return Re.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[mN(e),""],!1,!0);return L3(t).Bt(s).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(ks(u.parent))}return i})}}function L3(n){return Mo(n,Xm.store)}const B3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Eo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Eo(t,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function V3(n,t,e){const i=n.store(Zn.store),s=n.store(Dr.store),o=[],u=IDBKeyRange.only(e.batchId);let p=0;const m=i.jt({range:u},(w,E,x)=>(p++,x.delete()));o.push(m.next(()=>{Dt(1===p)}));const b=[];for(const w of e.mutations){const E=Dr.key(t,w.key.path,e.batchId);o.push(s.delete(E)),b.push(w.key)}return Re.waitFor(o).next(()=>b)}function Ix(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw lt();t=n.noDocument}return JSON.stringify(t).length}Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(41943040,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);class jN{constructor(t,e,i,s){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=s,this.Yt={}}static Xt(t,e,i,s){Dt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new jN(o,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bp(t).jt({index:Zn.userMutationsIndex,range:i},(s,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const o=Wy(t),u=bp(t);return u.add({}).next(p=>{Dt("number"==typeof p);const m=new UN(p,e,i,s),b=function(x,k,P){const Y=P.baseMutations.map(ke=>h(x.Gt,ke)),X=P.mutations.map(ke=>h(x.Gt,ke));return new Zn(k,P.batchId,P.localWriteTime.toMillis(),Y,X)}(this.k,this.userId,m),w=[];let E=new Ri((x,k)=>tn(x.canonicalString(),k.canonicalString()));for(const x of s){const k=Dr.key(this.userId,x.key.path,p);E=E.add(x.key.path.popLast()),w.push(u.put(b)),w.push(o.put(k,Dr.PLACEHOLDER))}return E.forEach(x=>{w.push(this.Jt.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(()=>{this.Yt[p]=m.keys()}),Re.waitFor(w).next(()=>m)})}lookupMutationBatch(t,e){return bp(t).get(e).next(i=>i?(Dt(i.userId===this.userId),$y(this.k,i)):null)}Zt(t,e){return this.Yt[e]?Re.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.Yt[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return bp(t).jt({index:Zn.userMutationsIndex,range:s},(u,p,m)=>{p.userId===this.userId&&(Dt(p.batchId>=i),o=$y(this.k,p)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return bp(t).jt({index:Zn.userMutationsIndex,range:e,reverse:!0},(s,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bp(t).Bt(Zn.userMutationsIndex,e).next(i=>i.map(s=>$y(this.k,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Dr.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=[];return Wy(t).jt({range:s},(u,p,m)=>{const[b,w,E]=u,x=ks(w);if(b===this.userId&&e.path.isEqual(x))return bp(t).get(E).next(k=>{if(!k)throw lt();Dt(k.userId===this.userId),o.push($y(this.k,k))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(tn);const s=[];return e.forEach(o=>{const u=Dr.prefixForPath(this.userId,o.path),p=IDBKeyRange.lowerBound(u),m=Wy(t).jt({range:p},(b,w,E)=>{const[x,k,P]=b,Y=ks(k);x===this.userId&&o.path.isEqual(Y)?i=i.add(P):E.done()});s.push(m)}),Re.waitFor(s).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,o=Dr.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(o);let p=new Ri(tn);return Wy(t).jt({range:u},(m,b,w)=>{const[E,x,k]=m,P=ks(x);E===this.userId&&i.isPrefixOf(P)?P.length===s&&(p=p.add(k)):w.done()}).next(()=>this.te(t,p))}te(t,e){const i=[],s=[];return e.forEach(o=>{s.push(bp(t).get(o).next(u=>{if(null===u)throw lt();Dt(u.userId===this.userId),i.push($y(this.k,u))}))}),Re.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return V3(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Re.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Re.resolve();const i=IDBKeyRange.lowerBound(Dr.prefixForUser(this.userId)),s=[];return Wy(t).jt({range:i},(o,u,p)=>{if(o[0]===this.userId){const m=ks(o[1]);s.push(m)}else p.done()}).next(()=>{Dt(0===s.length)})})}containsKey(t,e){return U3(t,this.userId,e)}ne(t){return H3(t).get(this.userId).next(e=>e||new ka(this.userId,-1,""))}}function U3(n,t,e){const i=Dr.prefixForPath(t,e.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Wy(n).jt({range:o,Kt:!0},(p,m,b)=>{const[w,E,x]=p;w===t&&E===s&&(u=!0),b.done()}).next(()=>u)}function bp(n){return Mo(n,Zn.store)}function Wy(n){return Mo(n,Dr.store)}function H3(n){return Mo(n,ka.store)}class ng{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new ng(0)}static re(){return new ng(-1)}}class WG{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new ng(e.highestTargetId);return e.highestTargetId=i.next(),this.ce(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>It.fromTimestamp(new wr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.ce(t,s)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ce(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Jy(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.ce(t,i)))}removeTargets(t,e,i){let s=0;const o=[];return Jy(t).jt((u,p)=>{const m=N1(p);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(s++,o.push(this.removeTargetData(t,m)))}).next(()=>Re.waitFor(o)).next(()=>s)}forEachTarget(t,e){return Jy(t).jt((i,s)=>{const o=N1(s);e(o)})}oe(t){return Z3(t).get(Qo.key).next(e=>(Dt(null!==e),e))}ce(t,e){return Z3(t).put(Qo.key,e)}ae(t,e){return Jy(t).put(N3(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=qm(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Jy(t).jt({range:s,index:To.queryTargetsIndexName},(u,p,m)=>{const b=N1(p);ky(e,b.target)&&(o=b,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const s=[],o=yp(t);return e.forEach(u=>{const p=In(u.path);s.push(o.put(new bs(i,p))),s.push(this.referenceDelegate.addReference(t,i,u))}),Re.waitFor(s)}removeMatchingKeys(t,e,i){const s=yp(t);return Re.forEach(e,o=>{const u=In(o.path);return Re.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=yp(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=yp(t);let o=An();return s.jt({range:i,Kt:!0},(u,p,m)=>{const b=ks(u[1]),w=new at(b);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=In(e.path),s=IDBKeyRange.bound([i],[mN(i)],!1,!0);let o=0;return yp(t).jt({index:bs.documentTargetsIndex,Kt:!0,range:s},([u,p],m,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}Et(t,e){return Jy(t).get(e).next(i=>i?N1(i):null)}}function Jy(n){return Mo(n,To.store)}function Z3(n){return Mo(n,Qo.store)}function yp(n){return Mo(n,bs.store)}function ig(n){return zN.apply(this,arguments)}function zN(){return(zN=(0,ve.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==S3)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function q3([n,t],[e,i]){const s=tn(n,e);return 0===s?tn(t,i):s}class JG{constructor(t){this.he=t,this.buffer=new Ri(q3),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();q3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QG{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ve.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(s){eg(s)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield ig(s)}yield e.me(t)}))}}class KG{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Re.resolve(Js.I);const i=new JG(e);return this.ge.forEachTarget(t,s=>i.de(s.sequenceNumber)).next(()=>this.ge.pe(t,s=>i.de(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(B3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B3):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,s,o,u,p,m,b;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(t,s))).next(E=>(i=E,p=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(b=Date.now(),Sy()<=Bu.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-w}ms\n\tDetermined least recently used ${s} in `+(p-u)+`ms\n\tRemoved ${o} targets in `+(m-p)+`ms\n\tRemoved ${E} documents in `+(b-m)+`ms\nTotal Duration: ${b-w}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:E})))}}class XG{constructor(t,e){this.db=t,this.garbageCollector=new KG(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,s)=>e(s))}addReference(t,e,i){return Rx(t,i)}removeReference(t,e,i){return Rx(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Rx(t,e)}Ae(t,e){return function(i,s){let o=!1;return H3(i).Qt(u=>U3(i,u,s).next(p=>(p&&(o=!0),Re.resolve(!p)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Ie(t,(u,p)=>{if(p<=e){const m=this.Ae(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u),yp(t).delete([0,In(u.path)])))});s.push(m)}}).next(()=>Re.waitFor(s)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Rx(t,e)}Ie(t,e){const i=yp(t);let s,o=Js.I;return i.jt({index:bs.documentTargetsIndex},([u,p],{path:m,sequenceNumber:b})=>{0===u?(o!==Js.I&&e(new at(ks(s)),o),o=b,s=m):o=Js.I}).next(()=>{o!==Js.I&&e(new at(ks(s)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Rx(n,t){return yp(n).put((i=n.currentSequenceNumber,new bs(0,In(t.path),i)));var i}class Qy{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,o]of i)if(this.equalsFn(s,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s){for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),!0;return!1}forEach(t){tp(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return p1(this.inner)}}class Y3{constructor(){this.changes=new Qy(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:It.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:yi.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Re.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class e4{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return vp(t).put(Ox(e),i)}removeEntry(t,e){const i=vp(t),s=Ox(e);return i.delete(s)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return vp(t).get(Ox(e)).next(i=>this.be(e,i))}Pe(t,e){return vp(t).get(Ox(e)).next(i=>({document:this.be(e,i),size:Ix(i)}))}getEntries(t,e){let i=Br();return this.ve(t,e,(s,o)=>{const u=this.be(s,o);i=i.insert(s,u)}).next(()=>i)}Ve(t,e){let i=Br(),s=new rr(at.comparator);return this.ve(t,e,(o,u)=>{const p=this.be(o,u);i=i.insert(o,p),s=s.insert(o,Ix(u))}).next(()=>({documents:i,Se:s}))}ve(t,e,i){if(e.isEmpty())return Re.resolve();const s=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator();let u=o.getNext();return vp(t).jt({range:s},(p,m,b)=>{const w=at.fromSegments(p);for(;u&&at.comparator(u,w)<0;)i(u,null),u=o.getNext();u&&u.isEqual(w)&&(i(u,m),u=o.hasNext()?o.getNext():null),u?b.Lt(u.path.toArray()):b.done()}).next(()=>{for(;u;)i(u,null),u=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i){let s=Br();const o=e.path.length+1,u={};if(i.isEqual(It.min())){const p=e.path.toArray();u.range=IDBKeyRange.lowerBound(p)}else{const p=e.path.toArray(),m=qN(i);u.range=IDBKeyRange.lowerBound([p,m],!0),u.index=sr.collectionReadTimeIndex}return vp(t).jt(u,(p,m,b)=>{if(p.length!==o)return;const w=ZN(this.k,m);e.path.isPrefixOf(w.key.path)?up(e,w)&&(s=s.insert(w.key,w)):b.done()}).next(()=>s)}newChangeBuffer(t){return new t4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return G3(t).get(wc.key).next(e=>(Dt(!!e),e))}Re(t,e){return G3(t).put(wc.key,e)}be(t,e){if(e){const i=ZN(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return yi.newInvalidDocument(t)}}class t4 extends Y3{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Qy(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new Ri((o,u)=>tn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const p=this.Ce.get(o);if(u.document.isValidDocument()){const m=R3(this.De.k,u.document,this.getReadTime(o));s=s.add(o.path.popLast()),i+=Ix(m)-p,e.push(this.De.addEntry(t,o,m))}else if(i-=p,this.trackRemovals){const m=R3(this.De.k,yi.newNoDocument(o,It.min()),this.getReadTime(o));e.push(this.De.addEntry(t,o,m))}else e.push(this.De.removeEntry(t,o))}),s.forEach(o=>{e.push(this.De.Jt.addToCollectionParentIndex(t,o))}),e.push(this.De.updateMetadata(t,i)),Re.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:s})=>(s.forEach((o,u)=>{this.Ce.set(o,u)}),i))}}function G3(n){return Mo(n,wc.store)}function vp(n){return Mo(n,sr.store)}function Ox(n){return n.path.toArray()}class n4{constructor(t){this.k=t}Nt(t,e,i,s){Dt(i<s&&i>=0&&s<=11);const o=new kx("createOrUpgrade",e);var p;i<1&&s>=1&&(t.createObjectStore(Cr.store),(p=t).createObjectStore(ka.store,{keyPath:ka.keyPath}),p.createObjectStore(Zn.store,{keyPath:Zn.keyPath,autoIncrement:!0}).createIndex(Zn.userMutationsIndex,Zn.userMutationsKeyPath,{unique:!0}),p.createObjectStore(Dr.store),j3(t),function(p){p.createObjectStore(sr.store)}(t));let u=Re.resolve();return i<3&&s>=3&&(0!==i&&(function(p){p.deleteObjectStore(bs.store),p.deleteObjectStore(To.store),p.deleteObjectStore(Qo.store)}(t),j3(t)),u=u.next(()=>function(p){const m=p.store(Qo.store),b=new Qo(0,0,It.min().toTimestamp(),0);return m.put(Qo.key,b)}(o))),i<4&&s>=4&&(0!==i&&(u=u.next(()=>function(p,m){return m.store(Zn.store).Bt().next(b=>{p.deleteObjectStore(Zn.store),p.createObjectStore(Zn.store,{keyPath:Zn.keyPath,autoIncrement:!0}).createIndex(Zn.userMutationsIndex,Zn.userMutationsKeyPath,{unique:!0});const w=m.store(Zn.store),E=b.map(x=>w.put(x));return Re.waitFor(E)})}(t,o))),u=u.next(()=>{!function(p){p.createObjectStore(td.store,{keyPath:td.keyPath})}(t)})),i<5&&s>=5&&(u=u.next(()=>this.Ne(o))),i<6&&s>=6&&(u=u.next(()=>(function(p){p.createObjectStore(wc.store)}(t),this.ke(o)))),i<7&&s>=7&&(u=u.next(()=>this.xe(o))),i<8&&s>=8&&(u=u.next(()=>this.$e(t,o))),i<9&&s>=9&&(u=u.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(t),function(p){const m=p.objectStore(sr.store);m.createIndex(sr.readTimeIndex,sr.readTimeIndexPath,{unique:!1}),m.createIndex(sr.collectionReadTimeIndex,sr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&s>=10&&(u=u.next(()=>this.Oe(o))),i<11&&s>=11&&(u=u.next(()=>{(function(p){p.createObjectStore(Yy.store,{keyPath:Yy.keyPath})})(t),function(p){p.createObjectStore(Gy.store,{keyPath:Gy.keyPath})}(t)})),u}ke(t){let e=0;return t.store(sr.store).jt((i,s)=>{e+=Ix(s)}).next(()=>{const i=new wc(e);return t.store(wc.store).put(wc.key,i)})}Ne(t){const e=t.store(ka.store),i=t.store(Zn.store);return e.Bt().next(s=>Re.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.Bt(Zn.userMutationsIndex,u).next(p=>Re.forEach(p,m=>{Dt(m.userId===o.userId);const b=$y(this.k,m);return V3(t,o.userId,b).next(()=>{})}))}))}xe(t){const e=t.store(bs.store),i=t.store(sr.store);return t.store(Qo.store).get(Qo.key).next(s=>{const o=[];return i.jt((u,p)=>{const m=new wn(u),b=[0,In(m)];o.push(e.get(b).next(w=>w?Re.resolve():e.put(new bs(0,In(m),s.highestListenSequenceNumber))))}).next(()=>Re.waitFor(o))})}$e(t,e){t.createObjectStore(Xm.store,{keyPath:Xm.keyPath});const i=e.store(Xm.store),s=new GN,o=u=>{if(s.add(u)){const p=u.lastSegment(),m=u.popLast();return i.put({collectionId:p,parent:In(m)})}};return e.store(sr.store).jt({Kt:!0},(u,p)=>{const m=new wn(u);return o(m.popLast())}).next(()=>e.store(Dr.store).jt({Kt:!0},([u,p,m],b)=>{const w=ks(p);return o(w.popLast())}))}Oe(t){const e=t.store(To.store);return e.jt((i,s)=>{const o=N1(s),u=N3(this.k,o);return e.put(u)})}}function j3(n){n.createObjectStore(bs.store,{keyPath:bs.keyPath}).createIndex(bs.documentTargetsIndex,bs.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(To.store,{keyPath:To.keyPath}).createIndex(To.queryTargetsIndexName,To.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Qo.store)}const $N="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WN{constructor(t,e,i,s,o,u,p,m,b,w){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Me=o,this.window=u,this.document=p,this.Fe=b,this.Le=w,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=E=>Promise.resolve(),!WN.Pt())throw new xe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XG(this,s),this.Ge=e+"main",this.k=new I3(m),this.ze=new hl(this.Ge,11,new n4(this.k)),this.He=new WG(this.referenceDelegate,this.k),this.Jt=new $G,this.Je=new e4(this.k,this.Jt),this.Ye=new jG,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===w&&Yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,$N);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Js(t,this.Fe)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,ve.Z)(function*(s){if(e.started)return t(s)});return function(s){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Me.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Nx(t).put(new td(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.cn(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(eg(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Me.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return P1(t).get(Cr.key).next(e=>Re.resolve(this.un(e)))}hn(t){return Nx(t).delete(this.clientId)}ln(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=Mo(i,td.store);return s.Bt().next(o=>{const u=t.dn(o,18e5),p=o.filter(m=>-1===u.indexOf(m));return Re.forEach(p,m=>s.delete(m.clientId)).next(()=>p)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Re.resolve(!0):P1(t).get(Cr.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,$N);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nx(t).Bt().next(i=>void 0===this.dn(i,5e3).find(s=>{if(this.clientId!==s.clientId){const u=!this.inForeground&&s.inForeground,p=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||u&&p)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Cr.store,td.store],e=>{const i=new k3(e,Js.I);return t.cn(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>Nx(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return jN.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let o;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",qG,u=>(o=new k3(u,this.Be?this.Be.next():Js.I),"readwrite-primary"===e?this.rn(o).next(p=>!!p||this.on(o)).next(p=>{if(!p)throw Yi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new xe(fe.FAILED_PRECONDITION,S3);return i(o)}).next(p=>this.an(o).next(()=>p)):this.En(o).next(()=>i(o)))).then(u=>(o.raiseOnCommittedEvent(),u))}En(t){return P1(t).get(Cr.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(fe.FAILED_PRECONDITION,$N)})}an(t){const e=new Cr(this.clientId,this.allowTabSynchronization,Date.now());return P1(t).put(Cr.key,e)}static Pt(){return hl.Pt()}cn(t){const e=P1(t);return e.get(Cr.key).next(i=>this.un(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(Cr.key)):Re.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(Yi(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Yi("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function P1(n){return Mo(n,Cr.store)}function Nx(n){return Mo(n,td.store)}function JN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class i4{constructor(t,e){this.progress=t,this.In=e}}class z3{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(s=>{for(const o of i)o.applyToLocalView(s);return s})}Pn(t,e){t.forEach((i,s)=>{for(const o of e)o.applyToLocalView(s)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return at.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.Sn(t,e.path):w1(e)?this.Dn(t,e,i):this.Cn(t,e,i);var s}Sn(t,e){return this.Rn(t,new at(e)).next(i=>{let s=yc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}Dn(t,e,i){const s=e.collectionGroup;let o=yc();return this.Jt.getCollectionParents(t,s).next(u=>Re.forEach(u,p=>{const m=(b=e,w=p.child(s),new Wo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,w;return this.Cn(t,m,i).next(b=>{b.forEach((w,E)=>{o=o.insert(w,E)})})}).next(()=>o))}Cn(t,e,i){let s,o;return this.Je.getDocumentsMatchingQuery(t,e,i).next(u=>(s=u,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(o=u,this.Nn(t,o,s).next(p=>{s=p;for(const m of o)for(const b of m.mutations){const w=b.key;let E=s.get(w);null==E&&(E=yi.newInvalidDocument(w),s=s.insert(w,E)),M1(b,E,m.localWriteTime),E.isFoundDocument()||(s=s.remove(w))}}))).next(()=>(s.forEach((u,p)=>{up(e,p)||(s=s.remove(u))}),s))}Nn(t,e,i){let s=An();for(const u of e)for(const p of u.mutations)p instanceof bc&&null===i.get(p.key)&&(s=s.add(p.key));let o=i;return this.Je.getEntries(t,s).next(u=>(u.forEach((p,m)=>{m.isFoundDocument()&&(o=o.insert(p,m))}),o))}}class QN{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=s}static $n(t,e){let i=An(),s=An();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new QN(t,e.fromCache,i,s)}}class $3{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,i,s){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(It.min())?this.Fn(t,e):this.Mn.vn(t,s).next(o=>{const u=this.Ln(e,o);return(Ry(e)||b1(e))&&this.Bn(e.limitType,u,s,i)?this.Fn(t,e):(Sy()<=Bu.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oy(e)),this.Mn.getDocumentsMatchingQuery(t,e,i).next(p=>(u.forEach(m=>{p=p.insert(m.key,m)}),p)))});var o}Ln(t,e){let i=new Ri(Ny(t));return e.forEach((s,o)=>{up(t,o)&&(i=i.add(o))}),i}Bn(t,e,i,s){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Fn(t,e){return Sy()<=Bu.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Oy(e)),this.Mn.getDocumentsMatchingQuery(t,e,It.min())}}class r4{constructor(t,e,i,s){this.persistence=t,this.Un=e,this.k=s,this.qn=new rr(tn),this.Kn=new Qy(o=>qm(o),ky),this.jn=It.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new z3(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function W3(n,t,e,i){return new r4(n,t,e,i)}function J3(n,t){return KN.apply(this,arguments)}function KN(){return(KN=(0,ve.Z)(function*(n,t){const e=Ge(n);let i=e.An,s=e.Wn;const o=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let p;return e.An.getAllMutationBatches(u).next(m=>(p=m,i=e.persistence.getMutationQueue(t),s=new z3(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(m=>{const b=[],w=[];let E=An();for(const x of p){b.push(x.batchId);for(const k of x.mutations)E=E.add(k.key)}for(const x of m){w.push(x.batchId);for(const k of x.mutations)E=E.add(k.key)}return s.vn(u,E).next(x=>({Gn:x,removedBatchIds:b,addedBatchIds:w}))})});return e.An=i,e.Wn=s,e.Un.On(e.Wn),o})).apply(this,arguments)}function s4(n,t){const e=Ge(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Qn.newChangeBuffer({trackRemovals:!0});return function(u,p,m,b){const w=m.batch,E=w.keys();let x=Re.resolve();return E.forEach(k=>{x=x.next(()=>b.getEntry(p,k)).next(P=>{const Y=m.docVersions.get(k);Dt(null!==Y),P.version.compareTo(Y)<0&&(w.applyToRemoteDocument(P,m),P.isValidDocument()&&b.addEntry(P,m.commitVersion))})}),x.next(()=>u.An.removeMutationBatch(p,w))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,s))})}function Q3(n){const t=Ge(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function o4(n,t){const e=Ge(n),i=t.snapshotVersion;let s=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Qn.newChangeBuffer({trackRemovals:!0});s=e.qn;const p=[];t.targetChanges.forEach((b,w)=>{const E=s.get(w);if(!E)return;p.push(e.He.removeMatchingKeys(o,b.removedDocuments,w).next(()=>e.He.addMatchingKeys(o,b.addedDocuments,w)));let x=E.withSequenceNumber(o.currentSequenceNumber);var k,P,Y;t.targetMismatches.has(w)?x=x.withResumeToken(ni.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,i)),s=s.insert(w,x),P=x,Y=b,(0===(k=E).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&p.push(e.He.updateTargetData(o,x))});let m=Br();if(t.documentUpdates.forEach((b,w)=>{t.resolvedLimboDocuments.has(b)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),p.push(K3(o,u,t.documentUpdates,i,void 0).next(b=>{m=b})),!i.isEqual(It.min())){const b=e.He.getLastRemoteSnapshotVersion(o).next(w=>e.He.setTargetsMetadata(o,o.currentSequenceNumber,i));p.push(b)}return Re.waitFor(p).next(()=>u.apply(o)).next(()=>e.Wn.Vn(o,m)).next(()=>m)}).then(o=>(e.qn=s,o))}function K3(n,t,e,i,s){let o=An();return e.forEach(u=>o=o.add(u)),t.getEntries(n,o).next(u=>{let p=Br();return e.forEach((m,b)=>{const w=u.get(m),E=(null==s?void 0:s.get(m))||i;b.isNoDocument()&&b.version.isEqual(It.min())?(t.removeEntry(m,E),p=p.insert(m,b)):!w.isValidDocument()||b.version.compareTo(w.version)>0||0===b.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(b,E),p=p.insert(m,b)):Le("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",b.version)}),p})}function a4(n,t){const e=Ge(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function Ky(n,t){const e=Ge(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.He.getTargetData(i,t).next(o=>o?(s=o,Re.resolve(s)):e.He.allocateTargetId(i).next(u=>(s=new _p(t,u,0,i.currentSequenceNumber),e.He.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.qn.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function Xy(n,t,e){return XN.apply(this,arguments)}function XN(){return(XN=(0,ve.Z)(function*(n,t,e){const i=Ge(n),s=i.qn.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!eg(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qn=i.qn.remove(t),i.Kn.delete(s.target)})).apply(this,arguments)}function Px(n,t,e){const i=Ge(n);let s=It.min(),o=An();return i.persistence.runTransaction("Execute query","readonly",u=>function(p,m,b){const w=Ge(p),E=w.Kn.get(b);return void 0!==E?Re.resolve(w.qn.get(E)):w.He.getTargetData(m,b)}(i,u,Jo(t)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,p.targetId).next(m=>{o=m})}).next(()=>i.Un.getDocumentsMatchingQuery(u,t,e?s:It.min(),e?o:An())).next(p=>({documents:p,zn:o})))}function X3(n,t){const e=Ge(n),i=Ge(e.He),s=e.qn.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function e6(n){const t=Ge(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,s,o){const u=Ge(i);let p=Br(),m=qN(o);const b=vp(s),w=IDBKeyRange.lowerBound(m,!0);return b.jt({index:sr.readTimeIndex,range:w},(E,x)=>{const k=ZN(u.k,x);p=p.insert(k.key,k),m=x.readTime}).next(()=>({In:p,readTime:O3(m)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function eP(){return(eP=(0,ve.Z)(function*(n){const t=Ge(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const s=vp(i);let o=It.min();return s.jt({index:sr.readTimeIndex,reverse:!0},(u,p,m)=>{p.readTime&&(o=O3(p.readTime)),m.done()}).next(()=>o)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function tP(){return(tP=(0,ve.Z)(function*(n,t,e,i){const s=Ge(n);let o=An(),u=Br(),p=Cx();for(const w of e){const E=t.Hn(w.metadata.name);w.document&&(o=o.add(E)),u=u.insert(E,t.Jn(w)),p=p.insert(E,t.Yn(w.metadata.readTime))}const m=s.Qn.newChangeBuffer({trackRemovals:!0}),b=yield Ky(s,(w=i,Jo(cp(wn.fromString(`__bundle__/docs/${w}`)))));var w;return s.persistence.runTransaction("Apply bundle documents","readwrite",w=>K3(w,m,u,It.min(),p).next(E=>(m.apply(w),E)).next(E=>s.He.removeMatchingKeysForTargetId(w,b.targetId).next(()=>s.He.addMatchingKeys(w,o,b.targetId)).next(()=>s.Wn.Vn(w,E)).next(()=>E)))})).apply(this,arguments)}function u4(n,t){return nP.apply(this,arguments)}function nP(){return(nP=(0,ve.Z)(function*(n,t,e=An()){const i=yield Ky(n,Jo(YN(t.bundledQuery))),s=Ge(n);return s.persistence.runTransaction("Save named query","readwrite",o=>{const u=Vr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.Ye.saveNamedQuery(o,t);const p=i.withResumeToken(ni.EMPTY_BYTE_STRING,u);return s.qn=s.qn.insert(p.targetId,p),s.He.updateTargetData(o,p).next(()=>s.He.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>s.He.addMatchingKeys(o,e,i.targetId)).next(()=>s.Ye.saveNamedQuery(o,t))})})).apply(this,arguments)}class d4{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Re.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:Vr(i.createTime)}),Re.resolve()}getNamedQuery(t,e){return Re.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:YN(i.bundledQuery),readTime:Vr(i.readTime)}),Re.resolve();var i}}class iP{constructor(){this.ts=new Ri(ns.es),this.ns=new Ri(ns.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new ns(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new ns(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new at(new wn([])),i=new ns(e,t),s=new ns(e,t+1),o=[];return this.ns.forEachInRange([i,s],u=>{this.os(u),o.push(u.key)}),o}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new at(new wn([])),i=new ns(e,t),s=new ns(e,t+1);let o=An();return this.ns.forEachInRange([i,s],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new ns(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ns{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return at.comparator(t.key,e.key)||tn(t.fs,e.fs)}static ss(t,e){return tn(t.fs,e.fs)||at.comparator(t.key,e.key)}}class h4{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Ri(ns.es)}checkEmpty(t){return Re.resolve(0===this.An.length)}addMutationBatch(t,e,i,s){const o=this.ds;this.ds++;const u=new UN(o,e,i,s);this.An.push(u);for(const p of s)this.ws=this.ws.add(new ns(p.key,o)),this.Jt.addToCollectionParentIndex(t,p.key.path.popLast());return Re.resolve(u)}lookupMutationBatch(t,e){return Re.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.gs(e+1),o=s<0?0:s;return Re.resolve(this.An.length>o?this.An[o]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Re.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ns(e,0),s=new ns(e,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([i,s],u=>{const p=this._s(u.fs);o.push(p)}),Re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(tn);return e.forEach(s=>{const o=new ns(s,0),u=new ns(s,Number.POSITIVE_INFINITY);this.ws.forEachInRange([o,u],p=>{i=i.add(p.fs)})}),Re.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;at.isDocumentKey(o)||(o=o.child(""));const u=new ns(new at(o),0);let p=new Ri(tn);return this.ws.forEachWhile(m=>{const b=m.key.path;return!!i.isPrefixOf(b)&&(b.length===s&&(p=p.add(m.fs)),!0)},u),Re.resolve(this.ys(p))}ys(t){const e=[];return t.forEach(i=>{const s=this._s(i);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){Dt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return Re.forEach(e.mutations,s=>{const o=new ns(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new ns(e,0),s=this.ws.firstAfterOrEqual(i);return Re.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return Re.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class p4{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new rr(at.comparator),this.size=0}addEntry(t,e,i){const s=e.key,o=this.docs.get(s),u=o?o.size:0,p=this.Ts(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:p,readTime:i}),this.size+=p-u,this.Jt.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Re.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=Br();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():yi.newInvalidDocument(s))}),Re.resolve(i)}getDocumentsMatchingQuery(t,e,i){let s=Br();const o=new at(e.path.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:p,value:{document:m,readTime:b}}=u.getNext();if(!e.path.isPrefixOf(p.path))break;b.compareTo(i)<=0||up(e,m)&&(s=s.insert(m.key,m.mutableCopy()))}return Re.resolve(s)}Es(t,e){return Re.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new f4(this)}getSize(t){return Re.resolve(this.size)}}class f4 extends Y3{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.document.isValidDocument()?e.push(this.De.addEntry(t,s.document,this.getReadTime(i))):this.De.removeEntry(i)}),Re.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class m4{constructor(t){this.persistence=t,this.Is=new Qy(e=>qm(e),ky),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.As=0,this.Rs=new iP,this.targetCount=0,this.bs=ng.ie()}forEachTarget(t,e){return this.Is.forEach((i,s)=>e(s)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),Re.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new ng(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Re.resolve()}updateTargetData(t,e){return this.ae(e),Re.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.Is.forEach((u,p)=>{p.sequenceNumber<=e&&null===i.get(p.targetId)&&(this.Is.delete(u),o.push(this.removeMatchingKeysForTargetId(t,p.targetId)),s++)}),Re.waitFor(o).next(()=>s)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return Re.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),Re.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(u=>{o.push(s.markPotentiallyOrphaned(t,u))}),Re.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Re.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return Re.resolve(i)}containsKey(t,e){return Re.resolve(this.Rs.containsKey(e))}}class g4{constructor(t,e){this.Ps={},this.Be=new Js(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new m4(this),this.Jt=new zG,this.Je=new p4(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new I3(e),this.Ye=new d4(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new h4(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const s=new _4(this.Be.next());return this.referenceDelegate.Vs(),i(s).next(o=>this.referenceDelegate.Ss(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ds(t,e){return Re.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class _4 extends x3{constructor(t){super(),this.currentSequenceNumber=t}}class rP{constructor(t){this.persistence=t,this.Cs=new iP,this.Ns=null}static ks(t){return new rP(t)}get xs(){if(this.Ns)return this.Ns;throw lt()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),Re.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),Re.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Re.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(s=>this.xs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.xs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.xs,i=>{const s=at.fromPath(i);return this.$s(t,s).next(o=>{o||e.removeEntry(s)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Re.or([()=>Re.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function t6(n,t){return`firestore_clients_${n}_${t}`}function n6(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function sP(n,t){return`firestore_targets_${n}_${t}`}class Fx{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static Os(t,e,i){const s=JSON.parse(i);let o,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new xe(s.error.code,s.error.message))),u?new Fx(t,e,s.state,o):(Yi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class F1{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let s,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new xe(i.error.code,i.error.message))),o?new F1(t,i.state,s):(Yi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Lx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let s="object"==typeof i&&i.activeTargetIds instanceof Array,o=Km();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=gN(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return s?new Lx(t,o):(Yi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class oP{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new oP(e.clientId,e.onlineState):(Yi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class aP{constructor(){this.activeTargetIds=Km()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lP{constructor(t,e,i,s,o){this.window=t,this.Me=e,this.persistenceKey=i,this.Bs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new rr(tn),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Qs=t6(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new aP),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(p){return`firestore_bundle_loaded_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.Tn();for(const s of e){if(s===t.Bs)continue;const o=t.getItem(t6(t.persistenceKey,s));if(o){const u=Lx.Os(s,o);u&&(t.Ks=t.Ks.insert(u.clientId,u))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const s=t.Zs(i);s&&t.ti(s)}for(const s of t.js)t.qs(s);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(sP(this.persistenceKey,t));if(i){const s=F1.Os(t,i);s&&(e=s.state)}}return this.ii.Fs(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(sP(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.si(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void Yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const s=e.ai(i.key);return e.ui(s,null)}{const s=e.hi(i.key,i.newValue);if(s)return e.ui(s.clientId,s)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const s=e.li(i.key,i.newValue);if(s)return e.fi(s)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const s=e.di(i.key,i.newValue);if(s)return e.wi(s)}}else if(i.key===e.Js){if(null!==i.newValue){const s=e.Zs(i.newValue);if(s)return e.ti(s)}}else if(i.key===e.Ws){const s=function(o){let u=Js.I;if(null!=o)try{const p=JSON.parse(o);Dt("number"==typeof p),u=p}catch(p){Yi("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(i.newValue);s!==Js.I&&e.sequenceNumberHandler(s)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(t,e,i){const s=new Fx(this.currentUser,t,e,i),o=n6(this.persistenceKey,this.currentUser,t);this.setItem(o,s.Ms())}si(t){const e=n6(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const s=sP(this.persistenceKey,t),o=new F1(t,e,i);this.setItem(s,o.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ai(t);return Lx.Os(i,e)}li(t,e){const i=this.zs.exec(t),s=Number(i[1]);return Fx.Os(new Pr(void 0!==i[2]?i[2]:null),s,e)}di(t,e){const i=this.Hs.exec(t),s=Number(i[1]);return F1.Os(s,e)}Zs(t){return oP.Os(t)}fi(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),s=this.ei(this.Ks),o=this.ei(i),u=[],p=[];return o.forEach(m=>{s.has(m)||u.push(m)}),s.forEach(m=>{o.has(m)||p.push(m)}),this.syncEngine.yi(u,p).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=Km();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class i6{constructor(){this.pi=new aP,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new aP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class b4{Ei(t){}shutdown(){}}class r6{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class v4{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class w4 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,s,o){const u=this.Ui(t,e);Le("RestConnection","Sending: ",u,i);const p={};return this.qi(p,s,o),this.Ki(t,u,p,i).then(m=>(Le("RestConnection","Received: ",m),m),m=>{throw Um("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}ji(t,e,i,s,o){return this.Bi(t,e,i,s,o)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Vm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Ui(t,e){return`${this.Fi}/v1/${e}:${y4[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,s){return new Promise((o,u)=>{const p=new cN;p.listenOnce($o.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case c1.NO_ERROR:const b=p.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),o(b);break;case c1.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),u(new xe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case c1.HTTP_ERROR:const w=p.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',w,"response text:",p.getResponseText()),w>0){const E=p.getResponseJson().error;if(E&&E.status&&E.message){const x=function(k){const P=k.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(P)>=0?P:fe.UNKNOWN}(E.status);u(new xe(x,E.message))}else u(new xe(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new xe(fe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(s);p.send(e,"POST",m,i,15)})}Qi(t,e,i){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=ex(),u=l1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new lN({})),this.qi(p.initMessageHeaders,e,i),(0,Lt.uI)()||(0,Lt.b$)()||(0,Lt.d)()||(0,Lt.w1)()||(0,Lt.Mn)()||(0,Lt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const m=s.join("");Le("Connection","Creating WebChannel: "+m,p);const b=o.createWebChannel(m,p);let w=!1,E=!1;const x=new v4({Vi:P=>{E?Le("Connection","Not sending because WebChannel is closed:",P):(w||(Le("Connection","Opening WebChannel transport."),b.open(),w=!0),Le("Connection","WebChannel sending:",P),b.send(P))},Si:()=>b.close()}),k=(P,Y,X)=>{P.listen(Y,ke=>{try{X(ke)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return k(b,u1.EventType.OPEN,()=>{E||Le("Connection","WebChannel transport opened.")}),k(b,u1.EventType.CLOSE,()=>{E||(E=!0,Le("Connection","WebChannel transport closed"),x.Oi())}),k(b,u1.EventType.ERROR,P=>{E||(E=!0,Um("Connection","WebChannel transport errored:",P),x.Oi(new xe(fe.UNAVAILABLE,"The operation could not be completed")))}),k(b,u1.EventType.MESSAGE,P=>{var Y;if(!E){const X=P.data[0];Dt(!!X);const ke=X,Ne=ke.error||(null===(Y=ke[0])||void 0===Y?void 0:Y.error);if(Ne){Le("Connection","WebChannel received error:",Ne);const Fe=Ne.status;let je=function(Pi){const Ci=ir[Pi];if(void 0!==Ci)return x1(Ci)}(Fe),_n=Ne.message;void 0===je&&(je=fe.INTERNAL,_n="Unknown error status: "+Fe+" with message "+Ne.message),E=!0,x.Oi(new xe(je,_n)),b.close()}else Le("Connection","WebChannel received:",X),x.Mi(X)}}),k(u,oN.STAT_EVENT,P=>{P.stat===aN.PROXY?Le("Connection","Detected buffering proxy"):P.stat===aN.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.$i()},0),x}}function s6(){return"undefined"!=typeof window?window:null}function Bx(){return"undefined"!=typeof document?document:null}function L1(n){return new E3(n,!0)}class cP{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Me=t,this.timerId=e,this.Wi=i,this.Gi=s,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),s=Math.max(0,e-i);s>0&&Le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,s,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class o6{constructor(t,e,i,s,o,u,p,m){this.Me=t,this.nr=i,this.sr=s,this.ir=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new cP(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,ve.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,ve.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(Yi(e.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.rr===e&&this.Ir(i,s)},i=>{t(()=>{const s=new xe(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(s)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(s=>{i(()=>this.Ar(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}dr(){var t=this;this.state=5,this.ur.Zi((0,ve.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C4 extends o6{constructor(t,e,i,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,u),this.k=o}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:lt(),s=t.targetChange.targetIds||[],o=function(m,b){return m.C?(Dt(void 0===b||"string"==typeof b),ni.fromBase64String(b||"")):(Dt(void 0===b||b instanceof Uint8Array),ni.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,p=u&&function(m){const b=void 0===m.code?fe.UNKNOWN:x1(m.code);return new xe(b,m.message||"")}(u);e=new A1(i,s,o,p||null)}else if("documentChange"in t){const i=t.documentChange,s=Aa(n,i.document.name),o=Vr(i.document.updateTime),u=new Xr({mapValue:{fields:i.document.fields}}),p=yi.newFoundDocument(s,o,u);e=new Uy(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,s=Aa(n,i.document),o=i.readTime?Vr(i.readTime):It.min(),u=yi.newNoDocument(s,o);e=new Uy([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,s=Aa(n,i.document);e=new Uy([],i.removedTargetIds||[],s,null)}else{if(!("filter"in t))return lt();{const i=t.filter,o=new RN(i.count||0);e=new Tx(i.targetId,o)}}var m;return e}(this.k,t),i=function(s){if(!("targetChange"in s))return It.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?Vr(o.readTime):It.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=qy(this.k),e.addTarget=function(s,o){let u;const p=o.target;return u=Iy(p)?{documents:v(s,p)}:{query:D(s,p)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=Sx(s,o.resumeToken):o.snapshotVersion.compareTo(It.min())>0&&(u.readTime=Hy(s,o.snapshotVersion.toTimestamp())),u}(this.k,t);const i=function(n,t){const e=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=qy(this.k),e.removeTarget=t,this.gr(e)}}class D4 extends o6{constructor(t,e,i,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,u),this.k=o,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(Dt(void 0!==t),n.map(e=>function(i,s){let o=Vr(i.updateTime?i.updateTime:s);return o.isEqual(It.min())&&(o=Vr(s)),new Ly(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Vr(t.commitTime);return this.listener.Cr(i,e)}return Dt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=qy(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>h(this.k,i))};this.gr(e)}}class T4 extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=s,this.$r=!1}Or(){if(this.$r)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.ir.Bi(t,e,i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(fe.UNKNOWN,s.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.ir.ji(t,e,i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(fe.UNKNOWN,s.toString())})}terminate(){this.$r=!0}}class M4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Yi(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class E4{constructor(t,e,i,s,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(p=>{i.enqueueAndForget((0,ve.Z)(function*(){var m;wp(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ve.Z)(function*(b){const w=Ge(b);w.Gr.add(4),yield ev(w),w.Jr.set("Unknown"),w.Gr.delete(4),yield B1(w)}),function(b){return m.apply(this,arguments)})(u))}))}),this.Jr=new M4(i,s)}}function B1(n){return uP.apply(this,arguments)}function uP(){return(uP=(0,ve.Z)(function*(n){if(wp(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function ev(n){return dP.apply(this,arguments)}function dP(){return(dP=(0,ve.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function Vx(n,t){const e=Ge(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),fP(e)?pP(e):nv(e).lr()&&hP(e,t))}function V1(n,t){const e=Ge(n),i=nv(e);e.Wr.delete(t),i.lr()&&a6(e,t),0===e.Wr.size&&(i.lr()?i._r():wp(e)&&e.Jr.set("Unknown"))}function hP(n,t){n.Yr.X(t.targetId),nv(n).Pr(t)}function a6(n,t){n.Yr.X(t),nv(n).vr(t)}function pP(n){n.Yr=new k1({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),nv(n).start(),n.Jr.Br()}function fP(n){return wp(n)&&!nv(n).hr()&&n.Wr.size>0}function wp(n){return 0===Ge(n).Gr.size}function l6(n){n.Yr=void 0}function S4(n){return mP.apply(this,arguments)}function mP(){return(mP=(0,ve.Z)(function*(n){n.Wr.forEach((t,e)=>{hP(n,t)})})).apply(this,arguments)}function x4(n,t){return gP.apply(this,arguments)}function gP(){return(gP=(0,ve.Z)(function*(n,t){l6(n),fP(n)?(n.Jr.Kr(t),pP(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function A4(n,t,e){return _P.apply(this,arguments)}function _P(){return(_P=(0,ve.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof A1&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(s,o){const u=o.cause;for(const p of o.targetIds)s.Wr.has(p)&&(yield s.remoteSyncer.rejectListen(p,u),s.Wr.delete(p),s.Yr.removeTarget(p))}),function(s,o){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Ux(n,i)}else if(t instanceof Uy?n.Yr.ot(t):t instanceof Tx?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(It.min()))try{const i=yield Q3(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const u=s.Yr.gt(o);return u.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=s.Wr.get(m);b&&s.Wr.set(m,b.withResumeToken(p.resumeToken,o))}}),u.targetMismatches.forEach(p=>{const m=s.Wr.get(p);if(!m)return;s.Wr.set(p,m.withResumeToken(ni.EMPTY_BYTE_STRING,m.snapshotVersion)),a6(s,p);const b=new _p(m.target,p,1,m.sequenceNumber);hP(s,b)}),s.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield Ux(n,i)}var i})).apply(this,arguments)}function Ux(n,t,e){return bP.apply(this,arguments)}function bP(){return(bP=(0,ve.Z)(function*(n,t,e){if(!eg(t))throw t;n.Gr.add(1),yield ev(n),n.Jr.set("Offline"),e||(e=()=>Q3(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield B1(n)}))})).apply(this,arguments)}function c6(n,t){return t().catch(e=>Ux(n,e,t))}function tv(n){return yP.apply(this,arguments)}function yP(){return(yP=(0,ve.Z)(function*(n){const t=Ge(n),e=Cp(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;k4(t);)try{const s=yield a4(t.localStore,i);if(null===s){0===t.Qr.length&&e._r();break}i=s.batchId,I4(t,s)}catch(s){yield Ux(t,s)}u6(t)&&d6(t)})).apply(this,arguments)}function k4(n){return wp(n)&&n.Qr.length<10}function I4(n,t){n.Qr.push(t);const e=Cp(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function u6(n){return wp(n)&&!Cp(n).hr()&&n.Qr.length>0}function d6(n){Cp(n).start()}function R4(n){return vP.apply(this,arguments)}function vP(){return(vP=(0,ve.Z)(function*(n){Cp(n).kr()})).apply(this,arguments)}function O4(n){return wP.apply(this,arguments)}function wP(){return(wP=(0,ve.Z)(function*(n){const t=Cp(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function N4(n,t,e){return CP.apply(this,arguments)}function CP(){return(CP=(0,ve.Z)(function*(n,t,e){const i=n.Qr.shift(),s=HN.from(i,t,e);yield c6(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield tv(n)})).apply(this,arguments)}function P4(n,t){return DP.apply(this,arguments)}function DP(){return(DP=(0,ve.Z)(function*(n,t){var e;t&&Cp(n).Sr&&(yield(e=(0,ve.Z)(function*(i,s){if(wx(o=s.code)&&o!==fe.ABORTED){const u=i.Qr.shift();Cp(i).wr(),yield c6(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),yield tv(i)}var o}),function(i,s){return e.apply(this,arguments)})(n,t)),u6(n)&&d6(n)})).apply(this,arguments)}function h6(n,t){return TP.apply(this,arguments)}function TP(){return(TP=(0,ve.Z)(function*(n,t){const e=Ge(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=wp(e);e.Gr.add(3),yield ev(e),i&&e.Jr.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Gr.delete(3),yield B1(e)})).apply(this,arguments)}function MP(n,t){return EP.apply(this,arguments)}function EP(){return(EP=(0,ve.Z)(function*(n,t){const e=Ge(n);t?(e.Gr.delete(2),yield B1(e)):t||(e.Gr.add(2),yield ev(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function nv(n){return n.Xr||(n.Xr=function(t,e,i){const s=Ge(t);return s.Or(),new C4(e,s.ir,s.authCredentials,s.appCheckCredentials,s.k,i)}(n.datastore,n.asyncQueue,{Di:S4.bind(null,n),Ni:x4.bind(null,n),br:A4.bind(null,n)}),n.zr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Xr.wr(),fP(n)?pP(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),l6(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Cp(n){return n.Zr||(n.Zr=function(t,e,i){const s=Ge(t);return s.Or(),new D4(e,s.ir,s.authCredentials,s.appCheckCredentials,s.k,i)}(n.datastore,n.asyncQueue,{Di:R4.bind(null,n),Ni:P4.bind(null,n),Nr:O4.bind(null,n),Cr:N4.bind(null,n)}),n.zr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Zr.wr(),yield tv(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class SP{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,s,o){const u=Date.now()+i,p=new SP(t,e,u,s,o);return p.start(i),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,t){if(Yi("AsyncQueue",`${t}: ${n}`),eg(n))return new xe(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class rv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||at.comparator(e.key,i.key):(e,i)=>at.comparator(e.key,i.key),this.keyedMap=yc(),this.sortedSet=new rr(this.comparator)}static emptySet(t){return new rv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof rv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new rv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class p6{constructor(){this.eo=new rr(at.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):lt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class sv{constructor(t,e,i,s,o,u,p,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,s){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new sv(t,e,rv.emptySet(e),o,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class F4{constructor(){this.so=void 0,this.listeners=[]}}class L4{constructor(){this.queries=new Qy(t=>D1(t),Gm),this.onlineState="Unknown",this.io=new Set}}function xP(n,t){return AP.apply(this,arguments)}function AP(){return(AP=(0,ve.Z)(function*(n,t){const e=Ge(n),i=t.query;let s=!1,o=e.queries.get(i);if(o||(s=!0,o=new F4),s)try{o.so=yield e.onListen(i)}catch(u){const p=iv(u,`Initialization of query '${Oy(t.query)}' failed`);return void t.onError(p)}e.queries.set(i,o),o.listeners.push(t),t.ro(e.onlineState),o.so&&t.oo(o.so)&&RP(e)})).apply(this,arguments)}function kP(n,t){return IP.apply(this,arguments)}function IP(){return(IP=(0,ve.Z)(function*(n,t){const e=Ge(n),i=t.query;let s=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),s=0===o.listeners.length)}if(s)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function B4(n,t){const e=Ge(n);let i=!1;for(const s of t){const u=e.queries.get(s.query);if(u){for(const p of u.listeners)p.oo(s)&&(i=!0);u.so=s}}i&&RP(e)}function V4(n,t,e){const i=Ge(n),s=i.queries.get(t);if(s)for(const o of s.listeners)o.onError(e);i.queries.delete(t)}function RP(n){n.io.forEach(t=>{t.next()})}class OP{constructor(t,e,i){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)3!==s.type&&i.push(s);t=new sv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=sv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class U4{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class f6{constructor(t){this.k=t}Hn(t){return Aa(this.k,t)}Jn(t){return t.metadata.exists?l(this.k,t.document,!1):yi.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Vr(t)}}class H4{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=m6(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new f6(this.k);for(const s of t)if(s.metadata.queries){const o=i.Hn(s.metadata.name);for(const u of s.metadata.queries){const p=(e.get(u)||An()).add(o);e.set(u,p)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function(n,t,e,i){return tP.apply(this,arguments)}(t.localStore,new f6(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const s of t.queries)yield u4(t.localStore,s,i.get(s.name));return t.progress.taskState="Success",new i4(Object.assign({},t.progress),e)})()}}function m6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class g6{constructor(t){this.key=t}}class _6{constructor(t){this.key=t}}class b6{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=An(),this.mutatedKeys=An(),this.Ao=Ny(t),this.Ro=new rv(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new p6,s=e?e.Ro:this.Ro;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,p=!1;const m=Ry(this.query)&&s.size===this.query.limit?s.last():null,b=b1(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((w,E)=>{const x=s.get(w),k=up(this.query,E)?E:null,P=!!x&&this.mutatedKeys.has(x.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;x&&k?x.data.isEqual(k.data)?P!==Y&&(i.track({type:3,doc:k}),X=!0):this.Vo(x,k)||(i.track({type:2,doc:k}),X=!0,(m&&this.Ao(k,m)>0||b&&this.Ao(k,b)<0)&&(p=!0)):!x&&k?(i.track({type:0,doc:k}),X=!0):x&&!k&&(i.track({type:1,doc:x}),X=!0,(m||b)&&(p=!0)),X&&(k?(u=u.add(k),o=Y?o.add(w):o.delete(w)):(u=u.delete(w),o=o.delete(w)))}),Ry(this.query)||b1(this.query))for(;u.size>this.query.limit;){const w=Ry(this.query)?u.last():u.first();u=u.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Ro:u,vo:i,Bn:p,mutatedKeys:o}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const s=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const o=t.vo.no();o.sort((b,w)=>function(E,x){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return k(E)-k(x)}(b.type,w.type)||this.Ao(b.doc,w.doc)),this.So(i);const u=e?this.Do():[],p=0===this.Io.size&&this.current?1:0,m=p!==this.Eo;return this.Eo=p,0!==o.length||m?{snapshot:new sv(this.query,t.Ro,s,o,t.mutatedKeys,0===p,m,!1),Co:u}:{Co:u}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new p6,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=An(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new _6(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new g6(i))}),e}ko(t){this.To=t.zn,this.Io=An();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return sv.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Z4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class q4{constructor(t){this.key=t,this.$o=!1}}class Y4{constructor(t,e,i,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new Qy(p=>D1(p),Gm),this.Fo=new Map,this.Lo=new Set,this.Bo=new rr(at.comparator),this.Uo=new Map,this.qo=new iP,this.Ko={},this.jo=new Map,this.Qo=ng.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function G4(n,t){return NP.apply(this,arguments)}function NP(){return(NP=(0,ve.Z)(function*(n,t){const e=iF(n);let i,s;const o=e.Mo.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),s=o.view.xo();else{const u=yield Ky(e.localStore,Jo(t)),p=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,s=yield PP(e,t,i,"current"===p),e.isPrimaryClient&&Vx(e.remoteStore,u)}return s})).apply(this,arguments)}function PP(n,t,e,i){return FP.apply(this,arguments)}function FP(){return(FP=(0,ve.Z)(function*(n,t,e,i){n.Go=(w,E,x)=>{return(k=(0,ve.Z)(function*(P,Y,X,ke){let Ne=Y.view.Po(X);Ne.Bn&&(Ne=yield Px(P.localStore,Y.query,!1).then(({documents:_n})=>Y.view.Po(_n,Ne)));const Fe=ke&&ke.targetChanges.get(Y.targetId),je=Y.view.applyChanges(Ne,P.isPrimaryClient,Fe);return jP(P,Y.targetId,je.Co),je.snapshot}),function(P,Y,X,ke){return k.apply(this,arguments)})(n,w,E,x);var k};const s=yield Px(n.localStore,t,!0),o=new b6(t,s.zn),u=o.Po(s.documents),p=ed.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=o.applyChanges(u,n.isPrimaryClient,p);jP(n,e,m.Co);const b=new Z4(t,e,o);return n.Mo.set(t,b),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),m.snapshot})).apply(this,arguments)}function j4(n,t){return LP.apply(this,arguments)}function LP(){return(LP=(0,ve.Z)(function*(n,t){const e=Ge(n),i=e.Mo.get(t),s=e.Fo.get(i.targetId);if(s.length>1)return e.Fo.set(i.targetId,s.filter(o=>!Gm(o,t))),void e.Mo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),V1(e.remoteStore,i.targetId),ov(e,i.targetId)}).catch(ig))):(ov(e,i.targetId),yield Xy(e.localStore,i.targetId,!0))})).apply(this,arguments)}function BP(){return(BP=(0,ve.Z)(function*(n,t,e){const i=rF(n);try{const s=yield function(o,u){const p=Ge(o),m=wr.now(),b=u.reduce((E,x)=>E.add(x.key),An());let w;return p.persistence.runTransaction("Locally write mutations","readwrite",E=>p.Wn.vn(E,b).next(x=>{w=x;const k=[];for(const P of u){const Y=IN(P,w.get(P.key));null!=Y&&k.push(new bc(P.key,Y,hx(Y.value.mapValue),Ii.exists(!0)))}return p.An.addMutationBatch(E,m,k,u)})).then(E=>(E.applyToLocalDocumentSet(w),{batchId:E.batchId,changes:w}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,u,p){let m=o.Ko[o.currentUser.toKey()];m||(m=new rr(tn)),m=m.insert(u,p),o.Ko[o.currentUser.toKey()]=m}(i,s.batchId,e),yield nd(i,s.changes),yield tv(i.remoteStore)}catch(s){const o=iv(s,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function y6(n,t){return VP.apply(this,arguments)}function VP(){return(VP=(0,ve.Z)(function*(n,t){const e=Ge(n);try{const i=yield o4(e.localStore,t);t.targetChanges.forEach((s,o)=>{const u=e.Uo.get(o);u&&(Dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.$o=!0:s.modifiedDocuments.size>0?Dt(u.$o):s.removedDocuments.size>0&&(Dt(u.$o),u.$o=!1))}),yield nd(e,i,t)}catch(i){yield ig(i)}})).apply(this,arguments)}function v6(n,t,e){const i=Ge(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const s=[];i.Mo.forEach((o,u)=>{const p=u.view.ro(t);p.snapshot&&s.push(p.snapshot)}),function(o,u){const p=Ge(o);p.onlineState=u;let m=!1;p.queries.forEach((b,w)=>{for(const E of w.listeners)E.ro(u)&&(m=!0)}),m&&RP(p)}(i.eventManager,t),s.length&&i.Oo.br(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function $4(n,t,e){return UP.apply(this,arguments)}function UP(){return(UP=(0,ve.Z)(function*(n,t,e){const i=Ge(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Uo.get(t),o=s&&s.key;if(o){let u=new rr(at.comparator);u=u.insert(o,yi.newNoDocument(o,It.min()));const p=An().add(o),m=new fp(It.min(),new Map,new Ri(tn),u,p);yield y6(i,m),i.Bo=i.Bo.remove(o),i.Uo.delete(t),zP(i)}else yield Xy(i.localStore,t,!1).then(()=>ov(i,t,e)).catch(ig)})).apply(this,arguments)}function W4(n,t){return HP.apply(this,arguments)}function HP(){return(HP=(0,ve.Z)(function*(n,t){const e=Ge(n),i=t.batch.batchId;try{const s=yield s4(e.localStore,t);GP(e,i,null),YP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield nd(e,s)}catch(s){yield ig(s)}})).apply(this,arguments)}function J4(n,t,e){return ZP.apply(this,arguments)}function ZP(){return(ZP=(0,ve.Z)(function*(n,t,e){const i=Ge(n);try{const s=yield function(o,u){const p=Ge(o);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return p.An.lookupMutationBatch(m,u).next(w=>(Dt(null!==w),b=w.keys(),p.An.removeMutationBatch(m,w))).next(()=>p.An.performConsistencyCheck(m)).next(()=>p.Wn.vn(m,b))})}(i.localStore,t);GP(i,t,e),YP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield nd(i,s)}catch(s){yield ig(s)}})).apply(this,arguments)}function qP(){return(qP=(0,ve.Z)(function*(n,t){const e=Ge(n);wp(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Ge(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.An.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const s=e.jo.get(i)||[];s.push(t),e.jo.set(i,s)}catch(i){const s=iv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}})).apply(this,arguments)}function YP(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function GP(n,t,e){const i=Ge(n);let s=i.Ko[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Ko[i.currentUser.toKey()]=s}}function ov(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Mo.delete(i),e&&n.Oo.zo(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||w6(n,i)})}function w6(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(V1(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),zP(n))}function jP(n,t,e){for(const i of e)i instanceof g6?(n.qo.addReference(i.key,t),K4(n,i)):i instanceof _6?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||w6(n,i.key)):lt()}function K4(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(i),zP(n))}function zP(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new at(wn.fromString(t)),i=n.Qo.next();n.Uo.set(i,new q4(e)),n.Bo=n.Bo.insert(e,i),Vx(n.remoteStore,new _p(Jo(cp(e.path)),i,2,Js.I))}}function nd(n,t,e){return $P.apply(this,arguments)}function $P(){return($P=(0,ve.Z)(function*(n,t,e){const i=Ge(n),s=[],o=[],u=[];var p;i.Mo.isEmpty()||(i.Mo.forEach((p,m)=>{u.push(i.Go(m,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),s.push(b);const w=QN.$n(m.targetId,b);o.push(w)}}))}),yield Promise.all(u),i.Oo.br(s),yield(p=(0,ve.Z)(function*(m,b){const w=Ge(m);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Re.forEach(b,x=>Re.forEach(x.kn,k=>w.persistence.referenceDelegate.addReference(E,x.targetId,k)).next(()=>Re.forEach(x.xn,k=>w.persistence.referenceDelegate.removeReference(E,x.targetId,k)))))}catch(E){if(!eg(E))throw E;Le("LocalStore","Failed to update sequence numbers: "+E)}for(const E of b){const x=E.targetId;if(!E.fromCache){const k=w.qn.get(x),Y=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);w.qn=w.qn.insert(x,Y)}}}),function(m,b){return p.apply(this,arguments)})(i.localStore,o))})).apply(this,arguments)}function X4(n,t){return WP.apply(this,arguments)}function WP(){return(WP=(0,ve.Z)(function*(n,t){const e=Ge(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield J3(e.localStore,t);e.currentUser=t,(s=e).jo.forEach(u=>{u.forEach(p=>{p.reject(new xe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield nd(e,i.Gn)}var s})).apply(this,arguments)}function ej(n,t){const e=Ge(n),i=e.Uo.get(t);if(i&&i.$o)return An().add(i.key);{let s=An();const o=e.Fo.get(t);if(!o)return s;for(const u of o){const p=e.Mo.get(u);s=s.unionWith(p.view.bo)}return s}}function tj(n,t){return JP.apply(this,arguments)}function JP(){return(JP=(0,ve.Z)(function*(n,t){const e=Ge(n),i=yield Px(e.localStore,t.query,!0),s=t.view.ko(i);return e.isPrimaryClient&&jP(e,t.targetId,s.Co),s})).apply(this,arguments)}function nj(n){return QP.apply(this,arguments)}function QP(){return(QP=(0,ve.Z)(function*(n){const t=Ge(n);return e6(t.localStore).then(e=>nd(t,e))})).apply(this,arguments)}function ij(n,t,e,i){return KP.apply(this,arguments)}function KP(){return(KP=(0,ve.Z)(function*(n,t,e,i){const s=Ge(n),o=yield function(u,p){const m=Ge(u),b=Ge(m.An);return m.persistence.runTransaction("Lookup mutation documents","readonly",w=>b.Zt(w,p).next(E=>E?m.Wn.vn(w,E):Re.resolve(null)))}(s.localStore,t);var p;null!==o?("pending"===e?yield tv(s.remoteStore):"acknowledged"===e||"rejected"===e?(GP(s,t,i||null),YP(s,t),p=t,Ge(Ge(s.localStore).An).ee(p)):lt(),yield nd(s,o)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function XP(){return(XP=(0,ve.Z)(function*(n,t){const e=Ge(n);if(iF(e),rF(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),s=yield C6(e,i.toArray());e.Wo=!0,yield MP(e.remoteStore,!0);for(const o of s)Vx(e.remoteStore,o)}else if(!1===t&&!1!==e.Wo){const i=[];let s=Promise.resolve();e.Fo.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then(()=>(ov(e,u),Xy(e.localStore,u,!0))),V1(e.remoteStore,u)}),yield s,yield C6(e,i),function(o){const u=Ge(o);u.Uo.forEach((p,m)=>{V1(u.remoteStore,m)}),u.qo.hs(),u.Uo=new Map,u.Bo=new rr(at.comparator)}(e),e.Wo=!1,yield MP(e.remoteStore,!1)}})).apply(this,arguments)}function C6(n,t,e){return eF.apply(this,arguments)}function eF(){return(eF=(0,ve.Z)(function*(n,t,e){const i=Ge(n),s=[],o=[];for(const u of t){let p;const m=i.Fo.get(u);if(m&&0!==m.length){p=yield Ky(i.localStore,Jo(m[0]));for(const b of m){const w=i.Mo.get(b),E=yield tj(i,w);E.snapshot&&o.push(E.snapshot)}}else{const b=yield X3(i.localStore,u);p=yield Ky(i.localStore,b),yield PP(i,D6(b),u,!1)}s.push(p)}return i.Oo.br(o),s})).apply(this,arguments)}function D6(n){return fx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sj(n){const t=Ge(n);return Ge(Ge(t.localStore).persistence).Tn()}function oj(n,t,e,i){return tF.apply(this,arguments)}function tF(){return(tF=(0,ve.Z)(function*(n,t,e,i){const s=Ge(n);if(s.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(s.Fo.has(t))switch(e){case"current":case"not-current":{const o=yield e6(s.localStore),u=fp.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield nd(s,o,u);break}case"rejected":yield Xy(s.localStore,t,!0),ov(s,t,i);break;default:lt()}})).apply(this,arguments)}function aj(n,t,e){return nF.apply(this,arguments)}function nF(){return(nF=(0,ve.Z)(function*(n,t,e){const i=iF(n);if(i.Wo){for(const s of t){if(i.Fo.has(s)){Le("SyncEngine","Adding an already active target "+s);continue}const o=yield X3(i.localStore,s),u=yield Ky(i.localStore,o);yield PP(i,D6(o),u.targetId,!1),Vx(i.remoteStore,u)}for(const s of e)i.Fo.has(s)&&(yield Xy(i.localStore,s,!1).then(()=>{V1(i.remoteStore,s),ov(i,s)}).catch(ig))}})).apply(this,arguments)}function iF(n){const t=Ge(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=y6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ej.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$4.bind(null,t),t.Oo.br=B4.bind(null,t.eventManager),t.Oo.zo=V4.bind(null,t.eventManager),t}function rF(n){const t=Ge(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=W4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=J4.bind(null,t),t}class T6{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.k=L1(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return W3(this.persistence,new $3,t.initialUser,this.k)}Yo(t){return new g4(rP.ks,this.k)}Jo(t){return new i6}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class M6 extends T6{constructor(t,e,i){super(),this.tc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield function(n){return eP.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,t),yield rF(i.tc.syncEngine),yield tv(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return W3(this.persistence,new $3,t.initialUser,this.k)}Xo(t){return new QG(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=JN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new WN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,s6(),Bx(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new i6}}class cj extends M6{constructor(t,e){super(t,e,!1),this.tc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const s=i.tc.syncEngine;i.sharedClientState instanceof lP&&(i.sharedClientState.syncEngine={mi:ij.bind(null,s),gi:oj.bind(null,s),yi:aj.bind(null,s),Tn:sj.bind(null,s),_i:nj.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var o=(0,ve.Z)(function*(u){yield function(n,t){return XP.apply(this,arguments)}(i.tc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}Jo(t){const e=s6();if(!lP.Pt(e))throw new xe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=JN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new lP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class sF{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>v6(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=X4.bind(null,i.syncEngine),yield MP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new L4}createDatastore(t){const e=L1(t.databaseInfo.databaseId),i=new w4(t.databaseInfo);return new T4(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,o=p=>v6(this.syncEngine,p,0),u=r6.Pt()?new r6:new b4,new E4(e,i,s,o,u);var e,i,s,o,u}createSyncEngine(t,e){return function(i,s,o,u,p,m,b){const w=new Y4(i,s,o,u,p,m);return b&&(w.Wo=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=Ge(e);Le("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield ev(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function E6(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hx{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class uj{constructor(t,e){this.sc=t,this.k=e,this.metadata=new nr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.rc()})()}rc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.oc();if(null===e)return null;const i=t.ic.decode(e),s=Number(i);isNaN(s)&&t.cc(`length string (${i}) is not valid number`);const o=yield t.ac(s);return new U4(JSON.parse(o),e.length+s)})()}uc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oc(){var t=this;return(0,ve.Z)(function*(){for(;t.uc()<0&&!(yield t.hc()););if(0===t.buffer.length)return null;const e=t.uc();e<0&&t.cc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ac(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.hc())&&e.cc("Reached the end of bundle when more is expected.");const i=e.ic.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}cc(t){throw this.sc.cancel(),new Error(`Invalid bundle format: ${t}`)}hc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.sc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class dj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,ve.Z)(function*(o,u){const p=Ge(o),m=qy(p.k)+"/documents",b={documents:u.map(k=>Zy(p.k,k))},w=yield p.ji("BatchGetDocuments",m,b),E=new Map;w.forEach(k=>{const P=function(n,t){return"found"in t?function(e,i){Dt(!!i.found);const s=Aa(e,i.found.name),o=Vr(i.found.updateTime),u=new Xr({mapValue:{fields:i.found.fields}});return yi.newFoundDocument(s,o,u)}(n,t):"missing"in t?function(e,i){Dt(!!i.missing),Dt(!!i.readTime);const s=Aa(e,i.missing),o=Vr(i.readTime);return yi.newNoDocument(s,o)}(n,t):lt()}(p.k,k);E.set(P.key.toString(),P)});const x=[];return u.forEach(k=>{const P=E.get(k.toString());Dt(!!P),x.push(P)}),x}),function(o,u){return s.apply(this,arguments)})(e.datastore,t);var s;return i.forEach(s=>e.recordVersion(s)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Xu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,s)=>{const o=at.fromPath(s);t.mutations.push(new S1(o,t.precondition(o)))}),yield(i=(0,ve.Z)(function*(s,o){const u=Ge(s),p=qy(u.k)+"/documents",m={writes:o.map(b=>h(u.k,b))};yield u.Bi("Commit",p,m)}),function(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw lt();e=It.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new xe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ii.updateTime(e):Ii.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(It.min()))throw new xe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(e)}return Ii.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class hj{constructor(t,e,i,s){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=s,this.lc=5,this.ur=new cP(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var t=this;this.ur.Zi((0,ve.Z)(function*(){const e=new dj(t.datastore),i=t.dc(e);i&&i.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(o=>{t.wc(o)}))}).catch(s=>{t.wc(s)})}))}dc(t){try{const e=this.updateFunction(t);return!mc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(t){this.lc>0&&this._c(t)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(t)}_c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!wx(e)}return!1}}class pj{constructor(t,e,i,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Pr.UNAUTHENTICATED,this.clientId=rx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(p){Le("FirestoreClient","Received user=",p.uid),yield o.authCredentialListener(p),o.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=iv(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function S6(n,t){return oF.apply(this,arguments)}function oF(){return(oF=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var s=(0,ve.Z)(function*(o){i.isEqual(o)||(yield J3(t.localStore,o),i=o)});return function(o){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function x6(n,t){return aF.apply(this,arguments)}function aF(){return(aF=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield lF(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(s=>h6(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>h6(t.remoteStore,o)),n.onlineComponents=t})).apply(this,arguments)}function lF(n){return cF.apply(this,arguments)}function cF(){return(cF=(0,ve.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield S6(n,new T6)),n.offlineComponents})).apply(this,arguments)}function Zx(n){return uF.apply(this,arguments)}function uF(){return(uF=(0,ve.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield x6(n,new sF)),n.onlineComponents})).apply(this,arguments)}function A6(n){return lF(n).then(t=>t.persistence)}function dF(n){return lF(n).then(t=>t.localStore)}function k6(n){return Zx(n).then(t=>t.remoteStore)}function hF(n){return Zx(n).then(t=>t.syncEngine)}function av(n){return pF.apply(this,arguments)}function pF(){return(pF=(0,ve.Z)(function*(n){const t=yield Zx(n),e=t.eventManager;return e.onListen=G4.bind(null,t.syncEngine),e.onUnlisten=j4.bind(null,t.syncEngine),e})).apply(this,arguments)}function I6(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(s,o,u,p,m){const b=new Hx({next:E=>{o.enqueueAndForget(()=>kP(s,w));const x=E.docs.has(u);!x&&E.fromCache?m.reject(new xe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&p&&"server"===p.source?m.reject(new xe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new OP(cp(u.path),b,{includeMetadataChanges:!0,wo:!0});return xP(s,w)}(yield av(n),n.asyncQueue,t,e,i)})),i.promise}function R6(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(s,o,u,p,m){const b=new Hx({next:E=>{o.enqueueAndForget(()=>kP(s,w)),E.fromCache&&"server"===p.source?m.reject(new xe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new OP(u,b,{includeMetadataChanges:!0,wo:!0});return xP(s,w)}(yield av(n),n.asyncQueue,t,e,i)})),i.promise}class Cj{constructor(t,e,i,s,o,u,p,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.useFetchStreams=m}}class lv{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof lv&&t.projectId===this.projectId&&t.database===this.database}}const O6=new Map;function fF(n,t,e){if(!e)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function N6(n,t,e,i){if(!0===t&&!0===i)throw new xe(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function P6(n){if(!at.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F6(n){if(at.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":lt()}function bn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qx(n);throw new xe(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function L6(n,t){if(t<=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class B6{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,N6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class U1{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B6({}),this._settingsFrozen=!1,t instanceof lv?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new xe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lv(s.options.projectId)}(t))}get app(){if(!this._app)throw new xe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B6(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new hN;switch(e.type){case"gapi":const i=e.client;return Dt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new v3(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=O6.get(t);e&&(Le("ComponentProvider","Removing Datastore"),O6.delete(t),e.terminate())}(this),Promise.resolve()}}class vi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vi(this.firestore,t,this._key)}}class Is{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Is(this.firestore,t,this._query)}}class Cc extends Is{constructor(t,e,i){super(t,e,cp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vi(this.firestore,null,new at(t))}withConverter(t){return new Cc(this.firestore,t,this._path)}}function V6(n,t,...e){if(n=(0,Lt.m9)(n),fF("collection","path",t),n instanceof U1){const i=wn.fromString(t,...e);return F6(i),new Cc(n,null,i)}{if(!(n instanceof vi||n instanceof Cc))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return F6(i),new Cc(n.firestore,null,i)}}function Yx(n,t,...e){if(n=(0,Lt.m9)(n),1===arguments.length&&(t=rx.A()),fF("doc","path",t),n instanceof U1){const i=wn.fromString(t,...e);return P6(i),new vi(n,null,new at(i))}{if(!(n instanceof vi||n instanceof Cc))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return P6(i),new vi(n.firestore,n instanceof Cc?n.converter:null,new at(i))}}function U6(n,t){return n=(0,Lt.m9)(n),t=(0,Lt.m9)(t),(n instanceof vi||n instanceof Cc)&&(t instanceof vi||t instanceof Cc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function H6(n,t){return n=(0,Lt.m9)(n),t=(0,Lt.m9)(t),n instanceof Is&&t instanceof Is&&n.firestore===t.firestore&&Gm(n._query,t._query)&&n.converter===t.converter}class Mj{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new cP(this,"async_queue_retry"),this.bc=()=>{const e=Bx();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=Bx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=Bx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const e=new nr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}Vc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.gc.length){try{yield t.gc[0](),t.gc.shift(),t.ur.reset()}catch(e){if(!eg(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.gc.length>0&&t.ur.Zi(()=>t.Vc())}})()}vc(t){const e=this.mc.then(()=>(this.Ic=!0,t().catch(i=>{throw this.Ec=i,this.Ic=!1,Yi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=e,e}enqueueAfterDelay(t,e,i){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const s=SP.createAndSchedule(this,t,e,i,o=>this.Sc(o));return this.Tc.push(s),s}Pc(){this.Ec&&lt()}verifyOperationInProgress(){}Dc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.mc,yield e}while(e!==t.mc)})()}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}function mF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class Ej{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Oi extends U1{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Mj,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Z6(this),this._firestoreClient.terminate()}}function Tr(n){return n._firestoreClient||Z6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z6(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Cj(n._databaseId,o,n._persistenceKey,(p=e).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var o,p;n._firestoreClient=new pj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function q6(n,t,e){const i=new nr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield S6(n,e),yield x6(n,t),i.resolve()}catch(s){if(!("FirebaseError"===(o=s).name?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var o})).then(()=>i.promise)}function Y6(n){if(n._initialized||n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class id{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(ni.fromBase64String(t))}catch(e){throw new xe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dc(ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class rg{constructor(t){this._methodName=t}}class Gx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tn(this._lat,t._lat)||tn(this._long,t._long)}}const Fj=/^__.*__$/;class Lj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new bc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jm(t,this.data,e,this.fieldTransforms)}}class G6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new bc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function j6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class jx{constructor(t,e,i,s,o,u){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=s,void 0===o&&this.xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new jx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.Oc({path:i,Fc:!1});return s.Lc(t),s}Bc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.Oc({path:i,Fc:!1});return s.xc(),s}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return Wx(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(j6(this.$c)&&Fj.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class Bj{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||L1(t)}Qc(t,e,i,s=!1){return new jx({$c:t,methodName:e,jc:i,path:Fr.emptyPath(),Fc:!1,Kc:s},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function sg(n){const t=n._freezeSettings(),e=L1(n._databaseId);return new Bj(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zx(n,t,e,i,s,o={}){const u=n.Qc(o.merge||o.mergeFields?2:0,t,e,s);yF("Data must be an object, but it was:",u,i);const p=W6(i,u);let m,b;if(o.merge)m=new ip(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const w=[];for(const E of o.mergeFields){const x=vF(t,E,e);if(!u.contains(x))throw new xe(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Q6(w,x)||w.push(x)}m=new ip(w),b=u.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,b=u.fieldTransforms;return new Lj(new Xr(p),m,b)}class H1 extends rg{_toFieldTransform(t){if(2!==t.$c)throw t.qc(1===t.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof H1}}function z6(n,t,e){return new jx({$c:3,jc:t.settings.jc,methodName:n._methodName,Fc:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class gF extends rg{_toFieldTransform(t){return new _c(t.path,new Wu)}isEqual(t){return t instanceof gF}}class Vj extends rg{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=z6(this,t,!0),i=this.Wc.map(o=>og(o,e)),s=new Ju(i);return new _c(t.path,s)}isEqual(t){return this===t}}class Uj extends rg{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=z6(this,t,!0),i=this.Wc.map(o=>og(o,e)),s=new Qu(i);return new _c(t.path,s)}isEqual(t){return this===t}}class Hj extends rg{constructor(t,e){super(t),this.Gc=e}_toFieldTransform(t){const e=new dp(t.k,zm(t.k,this.Gc));return new _c(t.path,e)}isEqual(t){return this===t}}function _F(n,t,e,i){const s=n.Qc(1,t,e);yF("Data must be an object, but it was:",s,i);const o=[],u=Xr.empty();tp(i,(m,b)=>{const w=$x(t,m,e);b=(0,Lt.m9)(b);const E=s.Bc(w);if(b instanceof H1)o.push(w);else{const x=og(b,E);null!=x&&(o.push(w),u.set(w,x))}});const p=new ip(o);return new G6(u,p,s.fieldTransforms)}function bF(n,t,e,i,s,o){const u=n.Qc(1,t,e),p=[vF(t,i,e)],m=[s];if(o.length%2!=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)p.push(vF(t,o[x])),m.push(o[x+1]);const b=[],w=Xr.empty();for(let x=p.length-1;x>=0;--x)if(!Q6(b,p[x])){const k=p[x];let P=m[x];P=(0,Lt.m9)(P);const Y=u.Bc(k);if(P instanceof H1)b.push(k);else{const X=og(P,Y);null!=X&&(b.push(k),w.set(k,X))}}const E=new ip(b);return new G6(w,E,u.fieldTransforms)}function $6(n,t,e,i=!1){return og(e,n.Qc(i?4:3,t))}function og(n,t){if(J6(n=(0,Lt.m9)(n)))return yF("Unsupported field value:",t,n),W6(n,t);if(n instanceof rg)return function(e,i){if(!j6(i.$c))throw i.qc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,i){const s=[];let o=0;for(const u of e){let p=og(u,i.Uc(o));null==p&&(p={nullValue:"NULL_VALUE"}),s.push(p),o++}return{arrayValue:{values:s}}}(n,t)}return function(e,i){if(null===(e=(0,Lt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zm(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=wr.fromDate(e);return{timestampValue:Hy(i.k,s)}}if(e instanceof wr){const s=new wr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hy(i.k,s)}}if(e instanceof Gx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dc)return{bytesValue:Sx(i.k,e._byteString)};if(e instanceof vi){const s=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(s))throw i.qc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xx(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.qc(`Unsupported field value: ${qx(e)}`)}(n,t)}function W6(n,t){const e={};return p1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tp(n,(i,s)=>{const o=og(s,t.Mc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function J6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof Gx||n instanceof Dc||n instanceof vi||n instanceof rg)}function yF(n,t,e){if(!J6(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=qx(e);throw t.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function vF(n,t,e){if((t=(0,Lt.m9)(t))instanceof id)return t._internalPath;if("string"==typeof t)return $x(n,t);throw Wx("Field path arguments must be of type string or ",n,!1,void 0,e)}const Zj=new RegExp("[~\\*/\\[\\]]");function $x(n,t,e){if(t.search(Zj)>=0)throw Wx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new id(...t.split("."))._internalPath}catch(i){throw Wx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Wx(n,t,e,i,s){const o=i&&!i.isEmpty(),u=void 0!==s;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${s}`),m+=")"),new xe(fe.INVALID_ARGUMENT,p+n+m)}function Q6(n,t){return n.some(e=>e.isEqual(t))}class Z1{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new qj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Jx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class qj extends Z1{data(){return super.data()}}function Jx(n,t){return"string"==typeof t?$x(n,t):t instanceof id?t._internalPath:t._delegate._internalPath}class ag{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rd extends Z1{constructor(t,e,i,s,o,u){super(t,e,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new q1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Jx("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class q1 extends rd{data(t={}){return super.data(t)}}class Dp{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new ag(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new q1(this._firestore,this._userDataWriter,i.key,i,new ag(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new q1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ag(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||3!==u.type).map(u=>{const p=new q1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ag(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,b=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:Yj(u.type),doc:p,oldIndex:m,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Yj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function K6(n,t){return n instanceof rd&&t instanceof rd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Dp&&t instanceof Dp&&n._firestore===t._firestore&&H6(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function X6(n){if(b1(n)&&0===n.explicitOrderBy.length)throw new xe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y1{}function Tp(n,...t){for(const e of t)n=e._apply(n);return n}class Gj extends Y1{constructor(t,e,i){super(),this.zc=t,this.Hc=e,this.Jc=i,this.type="where"}_apply(t){const e=sg(t.firestore),i=function(s,o,u,p,m,b,w){let E;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){sV(w,b);const k=[];for(const P of w)k.push(rV(p,s,P));E={arrayValue:{values:k}}}else E=rV(p,s,w)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||sV(w,b),E=$6(u,"where",w,"in"===b||"not-in"===b);const x=ii.create(m,b,E);return function(k,P){if(P.V()){const X=v1(k);if(null!==X&&!X.isEqual(P.field))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${X.toString()}' and '${P.field.toString()}'`);const ke=y1(k);null!==ke&&oV(0,P.field,ke)}const Y=function(X,ke){for(const Ne of X.filters)if(ke.indexOf(Ne.op)>=0)return Ne.op;return null}(k,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(null!==Y)throw new xe(fe.INVALID_ARGUMENT,Y===P.op?`Invalid query. You cannot use more than one '${P.op.toString()}' filter.`:`Invalid query. You cannot use '${P.op.toString()}' filters with '${Y.toString()}' filters.`)}(s,x),x}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Is(t.firestore,t.converter,function(s,o){const u=s.filters.concat([o]);return new Wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),u,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,i))}}class zj extends Y1{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(i,s,o){if(null!==i.startAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new lp(s,o);return function(p,m){if(null===y1(p)){const b=v1(p);null!==b&&oV(0,b,m.field)}}(i,u),u}(t._query,this.zc,this.Yc);return new Is(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class eV extends Y1{constructor(t,e,i){super(),this.type=t,this.Xc=e,this.Zc=i}_apply(t){return new Is(t.firestore,t.converter,C1(t._query,this.Xc,this.Zc))}}class tV extends Y1{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=iV(t,this.type,this.ta,this.ea);return new Is(t.firestore,t.converter,(s=e,new Wo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class nV extends Y1{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=iV(t,this.type,this.ta,this.ea);return new Is(t.firestore,t.converter,(s=e,new Wo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function iV(n,t,e,i){if(e[0]=(0,Lt.m9)(e[0]),e[0]instanceof Z1)return function(s,o,u,p,m){if(!p)throw new xe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const w of es(s))if(w.field.isKeyField())b.push(Ay(o,p.key));else{const E=p.data.field(w.field);if(sp(E))throw new xe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const x=w.field.canonicalString();throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}b.push(E)}return new ap(b,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const s=sg(n.firestore);return function(o,u,p,m,b,w){const E=o.explicitOrderBy;if(b.length>E.length)throw new xe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let k=0;k<b.length;k++){const P=b[k];if(E[k].field.isKeyField()){if("string"!=typeof P)throw new xe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!w1(o)&&-1!==P.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const Y=o.path.child(wn.fromString(P));if(!at.isDocumentKey(Y))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const X=new at(Y);x.push(Ay(u,X))}else{const Y=$6(p,m,P);x.push(Y)}}return new ap(x,w)}(n._query,n.firestore._databaseId,s,t,e,i)}}function rV(n,t,e){if("string"==typeof(e=(0,Lt.m9)(e))){if(""===e)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(t)&&-1!==e.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(wn.fromString(e));if(!at.isDocumentKey(i))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ay(n,new at(i))}if(e instanceof vi)return Ay(n,e._key);throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qx(e)}.`)}function sV(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function oV(n,t,e){if(!e.isEqual(t))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class wF{convertValue(t,e="none"){switch($u(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ki(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw lt()}}convertObject(t,e){const i={};return tp(t.fields,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Gx(ki(t.latitude),ki(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ax(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(zu(t));default:return null}}convertTimestamp(t){const e=Sa(t);return new wr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=wn.fromString(t);Dt(Xt(i));const s=new lv(i.get(1),i.get(3)),o=new at(i.popFirst(5));return s.isEqual(e)||Yi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Qx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class t5 extends wF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}class aV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sg(t)}set(t,e,i){this._verifyNotCommitted();const s=Mp(t,this._firestore),o=Qx(s.converter,e,i),u=zx(this._dataReader,"WriteBatch.set",s._key,o,null!==s.converter,i);return this._mutations.push(u.toMutation(s._key,Ii.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const o=Mp(t,this._firestore);let u;return u="string"==typeof(e=(0,Lt.m9)(e))||e instanceof id?bF(this._dataReader,"WriteBatch.update",o._key,e,i,s):_F(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Ii.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Mp(t,this._firestore);return this._mutations=this._mutations.concat(new Xu(e._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mp(n,t){if((n=(0,Lt.m9)(n)).firestore!==t)throw new xe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lg extends wF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}function lV(n,t,e){n=bn(n,vi);const i=bn(n.firestore,Oi),s=Qx(n.converter,t,e);return cv(i,[zx(sg(i),"setDoc",n._key,s,null!==n.converter,e).toMutation(n._key,Ii.none())])}function cV(n,t,e,...i){n=bn(n,vi);const s=bn(n.firestore,Oi),o=sg(s);let u;return u="string"==typeof(t=(0,Lt.m9)(t))||t instanceof id?bF(o,"updateDoc",n._key,t,e,i):_F(o,"updateDoc",n._key,t),cv(s,[u.toMutation(n._key,Ii.exists(!0))])}function uV(n,...t){var e,i,s;n=(0,Lt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||mF(t[u])||(o=t[u],u++);const p={includeMetadataChanges:o.includeMetadataChanges};if(mF(t[u])){const E=t[u];t[u]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[u+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[u+2]=null===(s=E.complete)||void 0===s?void 0:s.bind(E)}let m,b,w;if(n instanceof vi)b=bn(n.firestore,Oi),w=cp(n._key.path),m={next:E=>{t[u]&&t[u](CF(b,n,E))},error:t[u+1],complete:t[u+2]};else{const E=bn(n,Is);b=bn(E.firestore,Oi),w=E._query;const x=new lg(b);m={next:k=>{t[u]&&t[u](new Dp(b,x,E,k))},error:t[u+1],complete:t[u+2]},X6(n._query)}return function(E,x,k,P){const Y=new Hx(P),X=new OP(x,Y,k);return E.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return xP(yield av(E),X)})),()=>{Y.nc(),E.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return kP(yield av(E),X)}))}}(Tr(b),w,p,m)}function cv(n,t){return function(e,i){const s=new nr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,t,e){return BP.apply(this,arguments)}(yield hF(e),i,s)})),s.promise}(Tr(n),t)}function CF(n,t,e){const i=e.docs.get(t._key),s=new lg(n);return new rd(n,s,t._key,i,new ag(e.hasPendingWrites,e.fromCache),t.converter)}class d5 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=sg(t)}get(t){const e=Mp(t,this._firestore),i=new t5(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return lt();const o=s[0];if(o.isFoundDocument())return new Z1(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Z1(this._firestore,i,e._key,null,e.converter);throw lt()})}set(t,e,i){const s=Mp(t,this._firestore),o=Qx(s.converter,e,i),u=zx(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,u),this}update(t,e,i,...s){const o=Mp(t,this._firestore);let u;return u="string"==typeof(e=(0,Lt.m9)(e))||e instanceof id?bF(this._dataReader,"Transaction.update",o._key,e,i,s):_F(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Mp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Mp(t,this._firestore),i=new lg(this._firestore);return super.get(t).then(s=>new rd(this._firestore,i,e._key,s._document,new ag(!1,!1),e.converter))}}function TF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function hV(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function pV(){if("undefined"==typeof atob)throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Vm=oc.SDK_VERSION,(0,oc._registerComponent)(new ac.wA("firestore",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=new Oi(s,new b3(e.getProvider("auth-internal")),new ix(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,oc.registerVersion)(tx,"3.4.4",n),(0,oc.registerVersion)(tx,"3.4.4","esm2017")}();class G1{constructor(t){this._delegate=t}static fromBase64String(t){return pV(),new G1(Dc.fromBase64String(t))}static fromUint8Array(t){return hV(),new G1(Dc.fromUint8Array(t))}toBase64(){return pV(),this._delegate.toBase64()}toUint8Array(){return hV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MF(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class w5{enableIndexedDbPersistence(t,e){return function(n,t){Y6(n=bn(n,Oi));const e=Tr(n),i=n._freezeSettings(),s=new sF;return q6(e,s,new M6(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){Y6(n=bn(n,Oi));const t=Tr(n),e=n._freezeSettings(),i=new sF;return q6(t,i,new cj(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!hl.Pt())return Promise.resolve();const s=i+"main";yield hl.delete(s)}),function(i){return e.apply(this,arguments)})(JN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class fV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof lv||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Um("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var s;const o=(n=bn(n,U1))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Um("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,p;if("string"==typeof i.mockUserToken)u=i.mockUserToken,p=Pr.MOCK_USER;else{u=(0,Lt.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new xe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Pr(m)}n._authCredentials=new pN(new d1(u,p))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield A6(n),e=yield k6(n);return t.setNetworkEnabled(!0),function(i){const s=Ge(i);return s.Gr.delete(0),B1(s)}(e)}))}(Tr(n=bn(n,Oi)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield A6(n),e=yield k6(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(s){const o=Ge(s);o.Gr.add(0),yield ev(o),o.Jr.set("Offline")}),function(s){return i.apply(this,arguments)})(e);var i}))}(Tr(n=bn(n,Oi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,N6("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new nr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,t){return qP.apply(this,arguments)}(yield hF(t),e)})),e.promise}(Tr(n=bn(n,Oi)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Hx(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield av(n),s=e,Ge(i).io.add(s),void s.next();var i,s})),()=>{e.nc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield av(n),s=e,void Ge(i).io.delete(s);var i,s}))}}(Tr(n=bn(n,Oi)),mF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new uv(this,V6(this._delegate,t))}catch(e){throw Qs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ia(this,Yx(this._delegate,t))}catch(e){throw Qs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ks(this,function(n,t){if(n=bn(n,U1),fF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Is(n,null,(e=t,new Wo(wn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Qs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(s=n,Zx(s).then(o=>o.datastore));var s;new hj(n.asyncQueue,i,t,e).run()})),e.promise}(Tr(n=bn(n,Oi)),e=>t(new d5(n,e)))}(this._delegate,e=>t(new mV(this,e)))}batch(){return Tr(this._delegate),new gV(new aV(this._delegate,t=>cv(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Tr(n=bn(n,Oi)),i=new Ej;return function(n,t,e,i){const s=function(o,u){let p;return p="string"==typeof o?(new TextEncoder).encode(o):o,m=function(m,b){if(m instanceof Uint8Array)return E6(m,b);if(m instanceof ArrayBuffer)return E6(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new uj(m,u);var m}(e,L1(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function(n,t,e){const i=Ge(n);var s;(s=(0,ve.Z)(function*(o,u,p){try{const m=yield u.getMetadata();if(yield function(x,k){const P=Ge(x),Y=Vr(k.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",X=>P.Ye.getBundleMetadata(X,k.id)).then(X=>!!X&&X.createTime.compareTo(Y)>=0)}(o.localStore,m))return yield u.close(),void p._completeWith((x=m,{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}));p._updateProgress(m6(m));const b=new H4(m,o.localStore,u.k);let w=yield u.Ho();for(;w;){const x=yield b.yo(w);x&&p._updateProgress(x),w=yield u.Ho()}const E=yield b.complete();yield nd(o,E.In,void 0),yield function(x,k){const P=Ge(x);return P.persistence.runTransaction("Save bundle","readwrite",Y=>P.Ye.saveBundleMetadata(Y,k))}(o.localStore,m),p._completeWith(E.progress)}catch(m){Um("SyncEngine",`Loading bundle failed with ${m}`),p._failWith(m)}var x}),function(o,u,p){return s.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield hF(n),s,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const s=Ge(e);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ye.getNamedQuery(o,i))}(yield dF(n),t)}))}(Tr(n=bn(n,Oi)),t).then(e=>e?new Is(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ks(this,e):null)}}class Kx extends wF{constructor(t){super(),this.firestore=t}convertBytes(t){return new G1(new Dc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ia.forKey(e,this.firestore,null)}}class mV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Kx(t)}get(t){const e=ug(t);return this._delegate.get(e).then(i=>new j1(this._firestore,new rd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const s=ug(t);return i?(TF("Transaction.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=ug(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=ug(t);return this._delegate.delete(e),this}}class gV{constructor(t){this._delegate=t}set(t,e,i){const s=ug(t);return i?(TF("WriteBatch.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=ug(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=ug(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class cg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new q1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new z1(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=cg.INSTANCES;let s=i.get(t);s||(s=new WeakMap,i.set(t,s));let o=s.get(e);return o||(o=new cg(t,new Kx(t),e),s.set(e,o)),o}}cg.INSTANCES=new WeakMap;class Ia{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kx(t)}static forPath(t,e,i){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ia(e,new vi(e._delegate,i,new at(t)))}static forKey(t,e,i){return new Ia(e,new vi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new uv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new uv(this.firestore,V6(this._delegate,t))}catch(e){throw Qs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Lt.m9)(t))instanceof vi&&U6(this._delegate,t)}set(t,e){e=TF("DocumentReference.set",e);try{return e?lV(this._delegate,t,e):lV(this._delegate,t)}catch(i){throw Qs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?cV(this._delegate,t):cV(this._delegate,t,e,...i)}catch(s){throw Qs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return cv(bn(n.firestore,Oi),[new Xu(n._key,Ii.none())])}(this._delegate)}onSnapshot(...t){const e=_V(t),i=bV(t,s=>new j1(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return uV(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=bn(n,vi);const t=bn(n.firestore,Oi),e=Tr(t),i=new lg(t);return function(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(s,o,u){try{const p=yield function(m,b){const w=Ge(m);return w.persistence.runTransaction("read document","readonly",E=>w.Wn.Rn(E,b))}(s,o);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new xe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const m=iv(p,`Failed to get document '${o} from cache`);u.reject(m)}}),function(s,o,u){return i.apply(this,arguments)})(yield dF(n),t,e);var i})),e.promise}(e,n._key).then(s=>new rd(t,i,n._key,s,new ag(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=bn(n,vi);const t=bn(n.firestore,Oi);return I6(Tr(t),n._key,{source:"server"}).then(e=>CF(t,n,e))}(this._delegate):function(n){n=bn(n,vi);const t=bn(n.firestore,Oi);return I6(Tr(t),n._key).then(e=>CF(t,n,e))}(this._delegate),e.then(i=>new j1(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ia(this.firestore,this._delegate.withConverter(t?cg.getInstance(this.firestore,t):null))}}function Qs(n,t,e){return n.message=n.message.replace(t,e),n}function _V(n){for(const t of n)if("object"==typeof t&&!MF(t))return t;return{}}function bV(n,t){var e,i;let s;return s=MF(n[0])?n[0]:MF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{s.next&&s.next(t(o))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class j1{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return K6(this._delegate,t._delegate)}}class z1 extends j1{data(t){const e=this._delegate.data(t);return function(n,t){n||lt()}(void 0!==e),e}}class Ks{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kx(t)}where(t,e,i){try{return new Ks(this.firestore,Tp(this._delegate,function(n,t,e){const i=t,s=Jx("where",n);return new Gj(s,i,e)}(t,e,i)))}catch(s){throw Qs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ks(this.firestore,Tp(this._delegate,function(n,t="asc"){const e=t,i=Jx("orderBy",n);return new zj(i,e)}(t,e)))}catch(i){throw Qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ks(this.firestore,Tp(this._delegate,function(n){return L6("limit",n),new eV("limit",n,"F")}(t)))}catch(e){throw Qs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ks(this.firestore,Tp(this._delegate,function(n){return L6("limitToLast",n),new eV("limitToLast",n,"L")}(t)))}catch(e){throw Qs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ks(this.firestore,Tp(this._delegate,function(...n){return new tV("startAt",n,!0)}(...t)))}catch(e){throw Qs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ks(this.firestore,Tp(this._delegate,function(...n){return new tV("startAfter",n,!1)}(...t)))}catch(e){throw Qs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ks(this.firestore,Tp(this._delegate,function(...n){return new nV("endBefore",n,!0)}(...t)))}catch(e){throw Qs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ks(this.firestore,Tp(this._delegate,function(...n){return new nV("endAt",n,!1)}(...t)))}catch(e){throw Qs(e,"endAt()","Query.endAt()")}}isEqual(t){return H6(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=bn(n,Is);const t=bn(n.firestore,Oi),e=Tr(t),i=new lg(t);return function(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(s,o,u){try{const p=yield Px(s,o,!0),m=new b6(o,p.zn),b=m.Po(p.documents),w=m.applyChanges(b,!1);u.resolve(w.snapshot)}catch(p){const m=iv(p,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(s,o,u){return i.apply(this,arguments)})(yield dF(n),t,e);var i})),e.promise}(e,n._query).then(s=>new Dp(t,i,n,s))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=bn(n,Is);const t=bn(n.firestore,Oi),e=Tr(t),i=new lg(t);return R6(e,n._query,{source:"server"}).then(s=>new Dp(t,i,n,s))}(this._delegate):function(n){n=bn(n,Is);const t=bn(n.firestore,Oi),e=Tr(t),i=new lg(t);return X6(n._query),R6(e,n._query).then(s=>new Dp(t,i,n,s))}(this._delegate),e.then(i=>new EF(this.firestore,new Dp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=_V(t),i=bV(t,s=>new EF(this.firestore,new Dp(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return uV(this._delegate,e,i)}withConverter(t){return new Ks(this.firestore,this._delegate.withConverter(t?cg.getInstance(this.firestore,t):null))}}class D5{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new z1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new z1(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new D5(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new z1(this._firestore,i))})}isEqual(t){return K6(this._delegate,t._delegate)}}class uv extends Ks{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ia(this.firestore,t):null}doc(t){try{return new Ia(this.firestore,void 0===t?Yx(this._delegate):Yx(this._delegate,t))}catch(e){throw Qs(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=bn(n.firestore,Oi),i=Yx(n),s=Qx(n.converter,t);return cv(e,[zx(sg(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,Ii.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ia(this.firestore,e))}isEqual(t){return U6(this._delegate,t._delegate)}withConverter(t){return new uv(this.firestore,this._delegate.withConverter(t?cg.getInstance(this.firestore,t):null))}}function ug(n){return bn(n,vi)}class SF{constructor(...t){this._delegate=new id(...t)}static documentId(){return new SF(Fr.keyField().canonicalString())}isEqual(t){return(t=(0,Lt.m9)(t))instanceof id&&this._delegate._internalPath.isEqual(t._internalPath)}}class dg{constructor(t){this._delegate=t}static serverTimestamp(){const t=new gF("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new dg(t)}static delete(){const t=new H1("deleteField");return t._methodName="FieldValue.delete",new dg(t)}static arrayUnion(...t){const e=function(...n){return new Vj("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new dg(e)}static arrayRemove(...t){const e=function(...n){return new Uj("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new dg(e)}static increment(t){const e=function(n){return new Hj("increment",n)}(t);return e._methodName="FieldValue.increment",new dg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const T5={Firestore:fV,GeoPoint:Gx,Timestamp:wr,Blob:G1,Transaction:mV,WriteBatch:gV,DocumentReference:Ia,DocumentSnapshot:j1,Query:Ks,QueryDocumentSnapshot:z1,QuerySnapshot:EF,CollectionReference:uv,FieldPath:SF,FieldValue:dg,setLogLevel:function(n){!function(n){fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yV(n,t){return t?fn(()=>n,t):fn(()=>n)}!function(n){(function(n,t){n.INTERNAL.registerComponent(new ac.wA("firestore-compat",e=>((t,e)=>new fV(t,e,new w5))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},T5)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.13")}(cS.Z);var xF=N(9673),vV=N(7841);const wV=new r.OlP("angularfire2.auth.use-emulator"),CV=new r.OlP("angularfire2.auth.settings"),DV=new r.OlP("angularfire2.auth.tenant-id"),TV=new r.OlP("angularfire2.auth.langugage-code"),MV=new r.OlP("angularfire2.auth.use-device-language"),EV=new r.OlP("angularfire.auth.persistence"),SV=(n,t,e,i,s,o,u,p)=>(0,di.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=s,o&&m.useDeviceLanguage(),u)for(const[b,w]of Object.entries(u))m.settings[b]=w;return p&&m.setPersistence(p),m},[e,i,s,o,u,p]);let AF=(()=>{class n{constructor(e,i,s,o,u,p,m,b,w,E,x){const k=new le.xQ,P=(0,Ue.of)(void 0).pipe((0,xf.QV)(u.outsideAngular),fn(()=>o.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4828)))),(0,g.U)(()=>(0,Co.on)(e,o,i)),(0,g.U)(Y=>SV(Y,o,p,b,w,E,m,x)),Ss({bufferSize:1,refCount:!1}));if(ls(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{P.pipe(Xl()).subscribe();const X=P.pipe(fn(Fe=>Fe.getRedirectResult().then(je=>je,()=>null)),di.iC,Ss({bufferSize:1,refCount:!1})),ke=P.pipe(fn(Fe=>new Mn.y(je=>({unsubscribe:o.runOutsideAngular(()=>Fe.onAuthStateChanged(_n=>je.next(_n),_n=>je.error(_n),()=>je.complete()))})))),Ne=P.pipe(fn(Fe=>new Mn.y(je=>({unsubscribe:o.runOutsideAngular(()=>Fe.onIdTokenChanged(_n=>je.next(_n),_n=>je.error(_n),()=>je.complete()))}))));this.authState=X.pipe(yV(ke),(0,xF.R)(u.outsideAngular),(0,xf.QV)(u.insideAngular)),this.user=X.pipe(yV(Ne),(0,xF.R)(u.outsideAngular),(0,xf.QV)(u.insideAngular)),this.idToken=this.user.pipe(fn(Fe=>Fe?(0,On.D)(Fe.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe(fn(Fe=>Fe?(0,On.D)(Fe.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,En.T)(X,k,this.authState.pipe(gt(Fe=>!Fe))).pipe((0,g.U)(Fe=>(null==Fe?void 0:Fe.user)?Fe:null),(0,xF.R)(u.outsideAngular),(0,xf.QV)(u.insideAngular))}return(0,Co.pX)(this,P,o,{spy:{apply:(Y,X,ke)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&ke.then(Ne=>k.next(Ne))}}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(di.HU),r.LFG(wV,8),r.LFG(CV,8),r.LFG(DV,8),r.LFG(TV,8),r.LFG(MV,8),r.LFG(EV,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function xV(n,t){return function(n,t=ps.z){return new Mn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function kF(n,t){return xV(n,t).pipe((0,g.U)(e=>({payload:e,type:"query"})))}function Xx(n,t){return kF(n,t).pipe(Yt(void 0),Sf(),(0,g.U)(([e,i])=>{const s=i.payload.docChanges(),o=s.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,p)=>{const m=s.find(w=>w.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(w=>w.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),o}))}function AV(n,t,e){return Xx(n,e).pipe(_b((i,s)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return IF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return IF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return IF(n,t.oldIndex,1)}return n}(n,i))}),n}(i,s.map(o=>o.payload),t),[]),on(),(0,g.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function IF(n,t,e,...i){const s=n.slice();return s.splice(t,e,...i),s}function kV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class IV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Xx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,g.U)(i=>i.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(Yt(void 0),Sf(),gt(([i,s])=>s.length>0||!i),(0,g.U)(([i,s])=>s),di.iC)}auditTrail(t){return this.stateChanges(t).pipe(_b((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kV(t);return AV(this.query,e,this.afs.schedulers.outsideAngular).pipe(di.iC)}valueChanges(t={}){return kF(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),di.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(di.iC)}add(t){return this.ref.add(t)}doc(t){return new RV(this.ref.doc(t),this.afs)}}class RV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:s,query:o}=PV(i,e);return new IV(s,o,this.afs)}snapshotChanges(){return function(n,t){return xV(n,t).pipe(Yt(void 0),Sf(),(0,g.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(di.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,g.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,On.D)(this.ref.get(t)).pipe(di.iC)}}class R5{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),gt(e=>e.length>0),di.iC):Xx(this.query,this.afs.schedulers.outsideAngular).pipe(di.iC)}auditTrail(t){return this.stateChanges(t).pipe(_b((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kV(t);return AV(this.query,e,this.afs.schedulers.outsideAngular).pipe(di.iC)}valueChanges(t={}){return kF(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(i=>i.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),di.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(di.iC)}}const OV=new r.OlP("angularfire2.enableFirestorePersistence"),NV=new r.OlP("angularfire2.firestore.persistenceSettings"),O5=new r.OlP("angularfire2.firestore.settings"),N5=new r.OlP("angularfire2.firestore.use-emulator");function PV(n,t=(e=>e)){return{query:t(n),ref:n}}let Tc=(()=>{class n{constructor(e,i,s,o,u,p,m,b,w,E,x,k,P,Y,X,ke){this.schedulers=m;const Ne=(0,Co.on)(e,p,i),Fe=w;E&&SV(Ne,p,x,P,Y,X,k,ke),[this.firestore,this.persistenceEnabled$]=(0,di.cc)(`${Ne.name}.firestore`,"AngularFirestore",Ne.name,()=>{const je=p.runOutsideAngular(()=>Ne.firestore());if(o&&je.settings(o),Fe&&je.useEmulator(...Fe),s&&!ls(u)){const _n=()=>{try{return(0,On.D)(je.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Pi){return"undefined"!=typeof console&&console.warn(Pi),(0,Ue.of)(!1)}};return[je,p.runOutsideAngular(_n)]}return[je,(0,Ue.of)(!1)]},[o,Fe,s])}collection(e,i){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=PV(s,i),p=this.schedulers.ngZone.run(()=>o);return new IV(p,u,this)}collectionGroup(e,i){const s=i||(u=>u),o=this.firestore.collectionGroup(e);return new R5(s(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>i);return new RV(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(OV,8),r.LFG(O5,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(di.HU),r.LFG(NV,8),r.LFG(N5,8),r.LFG(AF,8),r.LFG(wV,8),r.LFG(CV,8),r.LFG(DV,8),r.LFG(TV,8),r.LFG(MV,8),r.LFG(EV,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),P5=(()=>{class n{constructor(){vV.Z.registerVersion("angularfire",di.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:OV,useValue:!0},{provide:NV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Tc]}),n})(),Mc=(()=>{class n{constructor(e){this.angularFirestore=e,this.photos=[],this.photosCarousel=[],this.photosAValider=[],this.photoSubject=new le.xQ,this.photosCarouselSubject=new le.xQ}emitPhoto(){this.photoSubject.next(this.photos)}emitPhotoCarousel(){this.photosCarouselSubject.next(this.photosCarousel)}addPhoto(e){this.angularFirestore.collection("Photos").add({annee:e.annee,auteur:e.auteur,listeEleves:e.listeEleves,photo:e.photo,titre:e.titre,status:ln.initial})}getPhotos(){return this.angularFirestore.collection("Photos").get().subscribe(e=>{this.photos=e.docs.map(i=>{let s=i.data();return s.id=i.id,s}),this.photos.length>0&&(this.currentPhoto=this.photos[0]),this.emitPhoto()})}getPhoto(e){return this.angularFirestore.collection("Photos").doc(e).get()}getPhotosByPeriode(e,i){return this.angularFirestore.collection("Photos").get()}updatePhoto(e){console.log(e),this.angularFirestore.collection("Photos").doc(e.id).update({auteur:e.auteur,titre:e.titre,annee:e.annee,listeEleves:e.listeEleves,photo:e.photo,status:e.status})}getPhotosAValider(){return this.angularFirestore.collection("Photos",e=>e.where("status","==",0)).get()}validerPhoto(e){return this.angularFirestore.collection("Photos").doc(e.id).update({status:ln.valide})}rejeterPhoto(e){return this.angularFirestore.collection("Photos").doc(e.id).update({status:ln.rejete})}addPhotoCarousel(e){this.angularFirestore.collection("Carousel").add({path:e.path,numero:e.numero,status:ln.valide})}getPhotosCarousel(){this.angularFirestore.collection("Carousel",e=>e.orderBy("numero","asc")).get().subscribe(e=>{this.photosCarousel=e.docs.map(i=>{let s=i.data();return s.id=i.id,s})}),this.emitPhotoCarousel()}updatePhotoCarousel(e){return this.angularFirestore.collection("Carousel").doc(e.id).update({numero:e.numero})}getNextNumero(){let e=0;return this.photosCarousel.forEach(i=>{i.numero>e&&(e=i.numero)}),e+1}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hg=(()=>{class n{constructor(e){this.angulatFirestore=e}getUsers(){return this.angulatFirestore.collection("Users").get()}getUser(e){return this.angulatFirestore.collection("Users").doc(e).get()}getUserByUid(e){return this.angulatFirestore.collection("Users",i=>i.where("uid","==",e)).get()}addUser(e){return this.angulatFirestore.collection("Users").add({nom:e.nom,prenom:e.prenom,email:e.email,emailVerified:e.emailVerified,uid:e.uid,status:e.status})}changeDroitsUser(e,i){console.log(e+"  "+i),this.angulatFirestore.collection("Users").doc(e).update({status:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dv=(()=>{class n{constructor(e){this.angularFirestore=e,this.themes=[]}getThemes(){this.angularFirestore.collection("Themes",e=>e.where("status","==",ln.valide)).get().subscribe(e=>{this.themes=e.docs.map(i=>{const s=i.data();return s.id=i.id,s})}),this.themes.length>0&&null==this.currentTheme&&(this.currentTheme=this.themes[0])}getTheme(e){return this.angularFirestore.collection("Themes").doc(e).get()}addTheme(e){return this.angularFirestore.collection("Themes").add({nom:e.nom,status:e.status})}changeCurrentTheme(e){this.currentTheme=e}VideListeThemes(){this.themes.splice(0),this.currentTheme=void 0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sd=(()=>{class n{constructor(e,i,s){this.angularFirestore=e,this.usersService=i,this.themesService=s,this.articles=[],this.articlesSubject=new le.xQ}emitArticles(){this.articlesSubject.next(this.articles)}addArticle(e){return this.angularFirestore.collection("Articles").add({auteur:e.auteur,titre:e.titre,texte:e.texte,date:e.date,idTheme:e.idTheme.trim(),photo:e.photo,legende:e.legende,status:ln.initial})}getArticles(){this.angularFirestore.collection("Articles",e=>e.where("status",">",ln.initial)).get().subscribe(e=>{this.articles=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.emitArticles()})}getArticle(e){return this.angularFirestore.collection("Articles").doc(e).get()}getArticlesCurrentTheme(){this.angularFirestore.collection("Articles",e=>e.where("idTheme","==",this.themesService.currentTheme.id).where("status","==",ln.valide)).get().subscribe(e=>{this.themesService.currentTheme.articles=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.themesService.currentTheme.articles.sort((i,s)=>new Date(i.date)>new Date(s.date)?-1:new Date(i.date)<new Date(s.date)?1:0),this.themesService.currentTheme.articles.forEach(i=>{this.usersService.getUserByUid(i.auteur.trim()).subscribe(s=>{s.docs.filter(o=>{i.nomAuteur=o.data().prenom})})})}),this.articles.length>0&&(this.currentArticle=this.articles[0])}getArticlesAValider(){return this.angularFirestore.collection("Articles",e=>e.where("status","==",ln.initial)).get()}valideArticle(e){return this.angularFirestore.collection("Articles").doc(e.id).update({status:ln.valide})}rejeteArticle(e){return this.angularFirestore.collection("Articles").doc(e.id).update({status:ln.rejete})}ChangeCurrentArticle(e){this.currentArticle=e}AddArticleToTheme(e,i){return i.articles.push(e),this.addArticle(e)}updateArticle(e){return console.log(e.id),void 0===e.photo?this.angularFirestore.collection("Articles").doc(e.id).update({titre:e.titre,texte:e.texte,legende:e.legende,date:e.date,idTheme:e.idTheme.trim(),status:e.status}):this.angularFirestore.collection("Articles").doc(e.id).update({titre:e.titre,texte:e.texte,legende:e.legende,date:e.date,idTheme:e.idTheme.trim(),status:e.status,photo:e.photo})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc),r.LFG(hg),r.LFG(dv))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eA=(()=>{class n{constructor(e,i){this.angularFirestore=e,this.usersService=i,this.actualites=[],this.messagesVisiteurs=[],this.actualitesSubject=new le.xQ}emitActualites(){this.actualitesSubject.next(this.actualites)}getActualites(){this.angularFirestore.collection("Actualites",e=>e.where("status","==",ln.visiteur)).get().subscribe(e=>{this.messagesVisiteurs=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.messagesVisiteurs.sort((i,s)=>new Date(i.date)<new Date(s.date)?-1:new Date(i.date)>new Date(s.date)?1:0),this.emitActualites()}),this.angularFirestore.collection("Actualites",e=>e.where("status","==",ln.valide)).get().subscribe(e=>{this.actualites=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.emitActualites()})}getActualitesNonSelect(){return this.angularFirestore.collection("Actualites",e=>e.where("status","==",ln.initial)).get()}getActualite(e){return this.angularFirestore.collection("Actualites").doc(e).get()}AddActualite(e){this.angularFirestore.collection("Actualites").add({auteur:e.auteur,titre:e.titre,sousTitre:e.sousTitre,texte:e.texte,date:e.date,photo:e.photo,status:e.status}).then(()=>{this.getActualites()})}UpdateActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({titre:e.titre,sousTitre:e.sousTitre,texte:e.texte,photo:e.photo}).then(()=>{this.getActualites()})}SupprimeActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({status:ln.supprime}).then(()=>{this.getActualites()})}DesactiveActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({status:ln.initial}).then(()=>{this.getActualites()})}ValideActualite(e){this.angularFirestore.collection("Actualites").doc(e.id).update({status:ln.valide}).then(()=>{this.getActualites()})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc),r.LFG(hg))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $1{constructor(t,e,i,s,o,u,p){this.id=t,this.uid=e,this.nom=i,this.prenom=s,this.email=o,this.emailVerified=u,this.status=p}}const FV=new r.GfV("12.2.5");class LV{}const od="*";function ji(n,t){return{type:7,name:n,definitions:t,options:{}}}function gn(n,t=null){return{type:4,styles:t,timings:n}}function BV(n,t=null){return{type:2,steps:n,options:t}}function $e(n){return{type:6,styles:n,offset:null}}function Gt(n,t,e){return{type:0,name:n,styles:t,options:e}}function un(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function HV(n){Promise.resolve(null).then(n)}class hv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ZV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const o=this.players.length;0==o?HV(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,p)=>Math.max(u,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function qV(){return"undefined"!=typeof window&&void 0!==window.document}function OF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ep(n){switch(n.length){case 0:return new hv;case 1:return n[0];default:return new ZV(n)}}function YV(n,t,e,i,s={},o={}){const u=[],p=[];let m=-1,b=null;if(i.forEach(w=>{const E=w.offset,x=E==m,k=x&&b||{};Object.keys(w).forEach(P=>{let Y=P,X=w[P];if("offset"!==P)switch(Y=t.normalizePropertyName(Y,u),X){case"!":X=s[P];break;case od:X=o[P];break;default:X=t.normalizeStyleValue(P,Y,X,u)}k[Y]=X}),x||p.push(k),b=k,m=E}),u.length){const w="\n - ";throw new Error(`Unable to animate due to the following errors:${w}${u.join(w)}`)}return p}function NF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&PF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&PF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&PF(e,"destroy",n)))}}function PF(n,t,e){const i=e.totalTime,o=FF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function FF(n,t,e,i,s="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:o,disabled:!!u}}function Ko(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function GV(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let LF=(n,t)=>!1,BF=(n,t)=>!1,jV=(n,t,e)=>[];const zV=OF();(zV||"undefined"!=typeof Element)&&(LF=qV()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),BF=(()=>{if(zV||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):BF}})(),jV=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let o=0;o<s.length;o++)i.push(s[o])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let fg=null,$V=!1;function VF(n){fg||(fg=("undefined"!=typeof document?document.body:null)||{},$V=!!fg.style&&"WebkitAppearance"in fg.style);let t=!0;return fg.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in fg.style,!t&&$V&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fg.style)),t}const UF=BF,HF=LF,ZF=jV;function WV(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let JV=(()=>{class n{validateStyleProperty(e){return VF(e)}matchesElement(e,i){return UF(e,i)}containsElement(e,i){return HF(e,i)}query(e,i,s){return ZF(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,o,u,p=[],m){return new hv(s,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class tA{}tA.NOOP=new JV;const qF="ng-enter",nA="ng-leave",iA="ng-trigger",rA=".ng-trigger",KV="ng-animating",YF=".ng-animating";function mg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:GF(parseFloat(t[1]),t[2])}function GF(n,t){switch(t){case"s":return 1e3*n;default:return n}}function sA(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,o=0,u="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=GF(parseFloat(p[1]),p[2]);const m=p[3];null!=m&&(o=GF(parseFloat(m),p[4]));const b=p[5];b&&(u=b)}else s=n;if(!e){let p=!1,m=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),p=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&t.splice(m,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:o,easing:u}}(n,t,e)}function pv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Sp(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else pv(n,e);return e}function eU(n,t,e){return e?t+":"+e+";":""}function tU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=eU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=eU(0,Y5(e),n.style[e]));n.setAttribute("style",t)}function Ec(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=zF(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),OF()&&tU(n))}function gg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=zF(e);n.style[i]=""}),OF()&&tU(n))}function W1(n){return Array.isArray(n)?1==n.length?n[0]:BV(n):n}const jF=new RegExp("{{\\s*(.+?)\\s*}}","g");function nU(n){let t=[];if("string"==typeof n){let e;for(;e=jF.exec(n);)t.push(e[1]);jF.lastIndex=0}return t}function oA(n,t,e){const i=n.toString(),s=i.replace(jF,(o,u)=>{let p=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),p=""),p.toString()});return s==i?n:s}function aA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const q5=/-+([a-z0-9])/g;function zF(n){return n.replace(q5,(...t)=>t[1].toUpperCase())}function Y5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function iU(n,t){return 0===n||0===t}function rU(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(p=>{o.hasOwnProperty(p)||u.push(p),o[p]=e[p]}),u.length)for(var s=1;s<t.length;s++){let p=t[s];u.forEach(function(m){p[m]=$F(n,m)})}}return t}function Xo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function $F(n,t){return window.getComputedStyle(n)[t]}function G5(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const m=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],o=i[2],u=i[3];t.push(sU(s,u));"<"==o[0]&&!("*"==s&&"*"==u)&&t.push(sU(u,s))}(i,e,t)):e.push(n),e}const cA=new Set(["true","1"]),uA=new Set(["false","0"]);function sU(n,t){const e=cA.has(n)||uA.has(n),i=cA.has(t)||uA.has(t);return(s,o)=>{let u="*"==n||n==s,p="*"==t||t==o;return!u&&e&&"boolean"==typeof s&&(u=s?cA.has(n):uA.has(n)),!p&&i&&"boolean"==typeof o&&(p=o?cA.has(t):uA.has(t)),u&&p}}const $5=new RegExp("s*:selfs*,?","g");function WF(n,t,e){return new W5(n).build(t,e)}class W5{constructor(t){this._driver=t}build(t,e){const i=new K5(e);return this._resetContextStyleTimingState(i),Xo(this,W1(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const m=p,b=m.name;b.toString().split(/\s*,\s*/).forEach(w=>{m.name=w,o.push(this.visitState(m,e))}),m.name=b}else if(1==p.type){const m=this.visitTransition(p,e);i+=m.queryCount,s+=m.depCount,u.push(m)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=s||{};if(i.styles.forEach(p=>{if(dA(p)){const m=p;Object.keys(m).forEach(b=>{nU(m[b]).forEach(w=>{u.hasOwnProperty(w)||o.add(w)})})}}),o.size){const p=aA(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Xo(this,W1(t.animation),e);return{type:1,matchers:G5(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:_g(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Xo(this,i,e)),options:_g(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const o=t.steps.map(u=>{e.currentTime=i;const p=Xo(this,u,e);return s=Math.max(s,e.currentTime),p});return e.currentTime=s,{type:3,steps:o,options:_g(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return JF(sA(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=JF(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||sA(i,t),JF(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,o=t.styles?t.styles:$e({});if(5==o.type)s=this.visitKeyframes(o,e);else{let u=t.styles,p=!1;if(!u){p=!0;const b={};i.easing&&(b.easing=i.easing),u=$e(b)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=p,s=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==od?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let s=!1,o=null;return i.forEach(u=>{if(dA(u)){const p=u,m=p.easing;if(m&&(o=m,delete p.easing),!s)for(let b in p)if(p[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void e.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const m=e.collectedStyles[e.currentQuerySelector],b=m[p];let w=!0;b&&(o!=s&&o>=b.startTime&&s<=b.endTime&&(e.errors.push(`The CSS property "${p}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),w=!1),o=b.startTime),w&&(m[p]={startTime:o,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=nU(n);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[p],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const u=[];let p=!1,m=!1,b=0;const w=t.steps.map(ke=>{const Ne=this._makeStyleAst(ke,e);let Fe=null!=Ne.offset?Ne.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(dA(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(dA(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ne.styles),je=0;return null!=Fe&&(o++,je=Ne.offset=Fe),m=m||je<0||je>1,p=p||je<b,b=je,u.push(je),Ne});m&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&e.errors.push("Please ensure that all keyframe offsets are in order");const E=t.steps.length;let x=0;o>0&&o<E?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(x=1/(E-1));const k=E-1,P=e.currentTime,Y=e.currentAnimateTimings,X=Y.duration;return w.forEach((ke,Ne)=>{const Fe=x>0?Ne==k?1:x*Ne:u[Ne],je=Fe*X;e.currentTime=P+Y.delay+je,Y.duration=je,this._validateStyleAst(ke,e),ke.offset=Fe,i.styles.push(ke)}),i}visitReference(t,e){return{type:8,animation:Xo(this,W1(t.animation),e),options:_g(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_g(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_g(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace($5,"")),[n=n.replace(/@\*/g,rA).replace(/@\w+/g,e=>rA+"-"+e.substr(1)).replace(/:animating/g,YF),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ko(e.collectedStyles,e.currentQuerySelector,{});const p=Xo(this,W1(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:p,originalSelector:t.selector,options:_g(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:sA(t.timings,e.errors,!0);return{type:12,animation:Xo(this,W1(t.animation),e),timings:i,options:null}}}class K5{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function dA(n){return!Array.isArray(n)&&"object"==typeof n}function _g(n){return n?(n=pv(n)).params&&(n.params=function(n){return n?pv(n):null}(n.params)):n={},n}function JF(n,t,e){return{duration:n,delay:t,easing:e}}function QF(n,t,e,i,s,o,u=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:u,subTimeline:p}}class hA{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const i8=new RegExp(":enter","g"),s8=new RegExp(":leave","g");function KF(n,t,e,i,s,o={},u={},p,m,b=[]){return(new o8).buildKeyframes(n,t,e,i,s,o,u,p,m,b)}class o8{buildKeyframes(t,e,i,s,o,u,p,m,b,w=[]){b=b||new hA;const E=new XF(t,e,b,s,o,w,[]);E.options=m,E.currentTimeline.setStyles([u],null,E.errors,m),Xo(this,i,E);const x=E.timelines.filter(k=>k.containsAnimation());if(x.length&&Object.keys(p).length){const k=x[x.length-1];k.allowOnlyTimelineStyles()||k.setStyles([p],null,E.errors,m)}return x.length?x.map(k=>k.buildKeyframes()):[QF(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,s,s.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?mg(i.duration):null,p=null!=i.delay?mg(i.delay):null;return 0!==u&&t.forEach(m=>{const b=e.appendInstructionToTimeline(m,u,p);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Xo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const o=t.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=pA);const u=mg(o.delay);s.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Xo(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?mg(t.options.delay):0;t.steps.forEach(u=>{const p=e.createSubContext(t.options);o&&p.delayNextStep(o),Xo(this,u,p),s=Math.max(s,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return sA(e.params?oA(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,o=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(m=>{p.forwardTime((m.offset||0)*o),p.setStyles(m.styles,m.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(s+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},o=s.delay?mg(s.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pA);let u=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=p.length;let m=null;p.forEach((b,w)=>{e.currentQueryIndex=w;const E=e.createSubContext(t.options,b);o&&E.delayNextStep(o),b===e.element&&(m=E.currentTimeline),Xo(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),p=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=p-m;break;case"full":m=i.currentStaggerTime}const w=e.currentTimeline;m&&w.delayNextStep(m);const E=w.currentTime;Xo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-E+(s.startTime-i.currentTimeline.startTime)}}const pA={};class XF{constructor(t,e,i,s,o,u,p,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=u,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new fA(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=mg(i.duration)),null!=i.delay&&(s.delay=mg(i.delay));const o=i.params;if(o){let u=s.params;u||(u=this.options.params={}),Object.keys(o).forEach(p=>{(!e||!u.hasOwnProperty(p))&&(u[p]=oA(o[p],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,o=new XF(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=pA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new a8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,o,u){let p=[];if(s&&p.push(this.element),t.length>0){t=(t=t.replace(i8,"."+this._enterClassName)).replace(s8,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),p.push(...b)}return!o&&0==p.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),p}}class fA{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new fA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||od,this._currentKeyframe[e]=od}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const o=s&&s.params||{},u=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(o=>{e[o]=od})):Sp(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(p=>{const m=oA(u[p],o,i);this._pendingStyles[p]=m,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:od),this._updateStyle(p,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,m)=>{const b=Sp(p,!0);Object.keys(b).forEach(w=>{const E=b[w];"!"==E?t.add(w):E==od&&e.add(w)}),i||(b.offset=m/this.duration),s.push(b)});const o=t.size?aA(t.values()):[],u=e.size?aA(e.values()):[];if(i){const p=s[0],m=pv(p);p.offset=0,m.offset=1,s=[p,m]}return QF(this.element,s,o,u,this.duration,this.startTime,this.easing,!1)}}class a8 extends fA{constructor(t,e,i,s,o,u,p=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=p,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,p=e/u,m=Sp(t[0],!1);m.offset=0,o.push(m);const b=Sp(t[0],!1);b.offset=lU(p),o.push(b);const w=t.length-1;for(let E=1;E<=w;E++){let x=Sp(t[E],!1);x.offset=lU((e+x.offset*i)/u),o.push(x)}i=u,e=0,s="",t=o}return QF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function lU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class e2{}class c8 extends e2{normalizePropertyName(t,e){return zF(t)}normalizeStyleValue(t,e,i,s){let o="";const u=i.toString().trim();if(u8[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+o}}const u8=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cU(n,t,e,i,s,o,u,p,m,b,w,E,x){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:p,queriedElements:m,preStyleProps:b,postStyleProps:w,totalTime:E,errors:x}}const t2={};class uU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(o=>o(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],o=this._stateStyles[t],u=s?s.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,s,o,u,p,m,b,w){const E=[],x=this.ast.options&&this.ast.options.params||t2,P=this.buildStyles(i,p&&p.params||t2,E),Y=m&&m.params||t2,X=this.buildStyles(s,Y,E),ke=new Set,Ne=new Map,Fe=new Map,je="void"===s,_n={params:Object.assign(Object.assign({},x),Y)},Pi=w?[]:KF(t,e,this.ast.animation,o,u,P,X,_n,b,E);let Ci=0;if(Pi.forEach(ia=>{Ci=Math.max(ia.duration+ia.delay,Ci)}),E.length)return cU(e,this._triggerName,i,s,je,P,X,[],[],Ne,Fe,Ci,E);Pi.forEach(ia=>{const md=ia.element,OG=Ko(Ne,md,{});ia.preStyleProps.forEach(Ag=>OG[Ag]=!0);const ED=Ko(Fe,md,{});ia.postStyleProps.forEach(Ag=>ED[Ag]=!0),md!==e&&ke.add(md)});const Fi=aA(ke.values());return cU(e,this._triggerName,i,s,je,P,X,Pi,Fi,Ne,Fe,Ci)}}class p8{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=pv(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(s[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(p=>{let m=u[p];m.length>1&&(m=oA(m,s,e));const b=this.normalizer.normalizePropertyName(p,e);m=this.normalizer.normalizeStyleValue(p,b,m,e),i[b]=m})}}),i}}class m8{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new p8(s.style,s.options&&s.options.params||{},i)}),dU(this.states,"true","1"),dU(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new uU(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new uU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(u=>u.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function dU(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const _8=new hA;class b8{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=WF(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,o=YV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],o=this._animations[t];let u;const p=new Map;if(o?(u=KF(this._driver,e,o,qF,nA,{},{},i,_8,s),u.forEach(w=>{const E=Ko(p,w.element,{});w.postStyleProps.forEach(x=>E[x]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),u=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);p.forEach((w,E)=>{Object.keys(w).forEach(x=>{w[x]=this._driver.computeStyle(E,x,od)})});const b=Ep(u.map(w=>{const E=p.get(w.element);return this._buildPlayer(w,{},E)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const o=FF(e,"","","");return NF(this._getPlayer(t),i,o,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const hU="ng-animate-queued",pU="ng-animate-disabled",fU=".ng-animate-disabled",C8=[],mU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ra="__ng_removed";class n2{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const o=pv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const J1="void",r2=new n2(J1);class T8{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Oa(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=Ko(this._elementListeners,t,[]),u={name:e,phase:i,callback:s};o.push(u);const p=Ko(this._engine.statesByElement,t,{});return p.hasOwnProperty(e)||(Oa(t,iA),Oa(t,iA+"-"+e),p[e]=r2),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(u);m>=0&&o.splice(m,1),this._triggers[e]||delete p[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const o=this._getTrigger(e),u=new s2(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Oa(t,iA),Oa(t,iA+"-"+e),this._engine.statesByElement.set(t,p={}));let m=p[e];const b=new n2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),p[e]=b,m||(m=r2),b.value!==J1&&m.value===b.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,b.params)){const Y=[],X=o.matchStyles(m.value,m.params,Y),ke=o.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{gg(t,X),Ec(t,ke)})}return}const x=Ko(this._engine.playersByElement,t,[]);x.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let k=o.matchTransition(m.value,b.value,t,b.params),P=!1;if(!k){if(!s)return;k=o.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:k,fromState:m,toState:b,player:u,isFallbackTransition:P}),P||(Oa(t,hU),u.onStart(()=>{fv(t,hU)})),u.onDone(()=>{let Y=this.players.indexOf(u);Y>=0&&this.players.splice(Y,1);const X=this._engine.playersByElement.get(t);if(X){let ke=X.indexOf(u);ke>=0&&X.splice(ke,1)}}),this.players.push(u),x.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,rA,!0);i.forEach(s=>{if(s[Ra])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(u=>u.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const o=this._engine.statesByElement.get(t);if(o){const u=[];if(Object.keys(o).forEach(p=>{if(this._triggers[p]){const m=this.trigger(t,p,J1,s);m&&u.push(m)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Ep(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(o=>{const u=o.name;if(s.has(u))return;s.add(u);const m=this._triggers[u].fallbackTransition,b=i[u]||r2,w=new n2(J1),E=new s2(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:b,toState:w,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ra];(!o||o===mU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Oa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(p=>{if(p.name==i.triggerName){const m=FF(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,NF(i.player,p.phase,m,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const o=i.transition.ast.depCount,u=s.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class M8{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new T8(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let o=0;o<s.length;o++){const u=i[s[o]].namespaceId;if(u){const p=this._fetchNamespace(u);p&&e.add(p)}}}return e}trigger(t,e,i,s){if(mA(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!mA(e))return;const o=e[Ra];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Oa(t,pU)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fv(t,pU))}removeNode(t,e,i,s){if(mA(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Ra]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,o){return mA(e)?this._fetchNamespace(t).listen(e,i,s,o):()=>{}}_buildInstruction(t,e,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,rA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,YF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ep(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ra];if(e&&e.setForRemoval){if(t[Ra]=mU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,fU)&&this.markElementAsDisabled(t,!1),this.driver.query(t,fU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ep(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new hA,s=[],o=new Map,u=[],p=new Map,m=new Map,b=new Map,w=new Set;this.disabledNodes.forEach(ot=>{w.add(ot);const yt=this.driver.query(ot,".ng-animate-queued",!0);for(let Bt=0;Bt<yt.length;Bt++)w.add(yt[Bt])});const E=this.bodyNode,x=Array.from(this.statesByElement.keys()),k=bU(x,this.collectedEnterElements),P=new Map;let Y=0;k.forEach((ot,yt)=>{const Bt=qF+Y++;P.set(yt,Bt),ot.forEach(Cn=>Oa(Cn,Bt))});const X=[],ke=new Set,Ne=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const yt=this.collectedLeaveElements[ot],Bt=yt[Ra];Bt&&Bt.setForRemoval&&(X.push(yt),ke.add(yt),Bt.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(Cn=>ke.add(Cn)):Ne.add(yt))}const Fe=new Map,je=bU(x,Array.from(ke));je.forEach((ot,yt)=>{const Bt=nA+Y++;Fe.set(yt,Bt),ot.forEach(Cn=>Oa(Cn,Bt))}),t.push(()=>{k.forEach((ot,yt)=>{const Bt=P.get(yt);ot.forEach(Cn=>fv(Cn,Bt))}),je.forEach((ot,yt)=>{const Bt=Fe.get(yt);ot.forEach(Cn=>fv(Cn,Bt))}),X.forEach(ot=>{this.processLeaveNode(ot)})});const _n=[],Pi=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(e).forEach(Bt=>{const Cn=Bt.player,rs=Bt.element;if(_n.push(Cn),this.collectedEnterElements.length){const Nc=rs[Ra];if(Nc&&Nc.setForMove)return void Cn.destroy()}const Oc=!E||!this.driver.containsElement(E,rs),ra=Fe.get(rs),Bp=P.get(rs),cr=this._buildInstruction(Bt,i,Bp,ra,Oc);if(cr.errors&&cr.errors.length)Pi.push(cr);else{if(Oc)return Cn.onStart(()=>gg(rs,cr.fromStyles)),Cn.onDestroy(()=>Ec(rs,cr.toStyles)),void s.push(Cn);if(Bt.isFallbackTransition)return Cn.onStart(()=>gg(rs,cr.fromStyles)),Cn.onDestroy(()=>Ec(rs,cr.toStyles)),void s.push(Cn);cr.timelines.forEach(Nc=>Nc.stretchStartingKeyframe=!0),i.append(rs,cr.timelines),u.push({instruction:cr,player:Cn,element:rs}),cr.queriedElements.forEach(Nc=>Ko(p,Nc,[]).push(Cn)),cr.preStyleProps.forEach((Nc,SD)=>{const gk=Object.keys(Nc);if(gk.length){let kg=m.get(SD);kg||m.set(SD,kg=new Set),gk.forEach(qL=>kg.add(qL))}}),cr.postStyleProps.forEach((Nc,SD)=>{const gk=Object.keys(Nc);let kg=b.get(SD);kg||b.set(SD,kg=new Set),gk.forEach(qL=>kg.add(qL))})}});if(Pi.length){const ot=[];Pi.forEach(yt=>{ot.push(`@${yt.triggerName} has failed due to:\n`),yt.errors.forEach(Bt=>ot.push(`- ${Bt}\n`))}),_n.forEach(yt=>yt.destroy()),this.reportError(ot)}const Ci=new Map,Fi=new Map;u.forEach(ot=>{const yt=ot.element;i.has(yt)&&(Fi.set(yt,yt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Ci))}),s.forEach(ot=>{const yt=ot.element;this._getPreviousPlayers(yt,!1,ot.namespaceId,ot.triggerName,null).forEach(Cn=>{Ko(Ci,yt,[]).push(Cn),Cn.destroy()})});const ia=X.filter(ot=>vU(ot,m,b)),md=new Map;_U(md,this.driver,Ne,b,od).forEach(ot=>{vU(ot,m,b)&&ia.push(ot)});const ED=new Map;k.forEach((ot,yt)=>{_U(ED,this.driver,new Set(ot),m,"!")}),ia.forEach(ot=>{const yt=md.get(ot),Bt=ED.get(ot);md.set(ot,Object.assign(Object.assign({},yt),Bt))});const Ag=[],NG=[],PG={};u.forEach(ot=>{const{element:yt,player:Bt,instruction:Cn}=ot;if(i.has(yt)){if(w.has(yt))return Bt.onDestroy(()=>Ec(yt,Cn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(Cn.totalTime),void s.push(Bt);let rs=PG;if(Fi.size>1){let ra=yt;const Bp=[];for(;ra=ra.parentNode;){const cr=Fi.get(ra);if(cr){rs=cr;break}Bp.push(ra)}Bp.forEach(cr=>Fi.set(cr,rs))}const Oc=this._buildAnimation(Bt.namespaceId,Cn,Ci,o,ED,md);if(Bt.setRealPlayer(Oc),rs===PG)Ag.push(Bt);else{const ra=this.playersByElement.get(rs);ra&&ra.length&&(Bt.parentPlayer=Ep(ra)),s.push(Bt)}}else gg(yt,Cn.fromStyles),Bt.onDestroy(()=>Ec(yt,Cn.toStyles)),NG.push(Bt),w.has(yt)&&s.push(Bt)}),NG.forEach(ot=>{const yt=o.get(ot.element);if(yt&&yt.length){const Bt=Ep(yt);ot.setRealPlayer(Bt)}}),s.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<X.length;ot++){const yt=X[ot],Bt=yt[Ra];if(fv(yt,nA),Bt&&Bt.hasAnimation)continue;let Cn=[];if(p.size){let Oc=p.get(yt);Oc&&Oc.length&&Cn.push(...Oc);let ra=this.driver.query(yt,YF,!0);for(let Bp=0;Bp<ra.length;Bp++){let cr=p.get(ra[Bp]);cr&&cr.length&&Cn.push(...cr)}}const rs=Cn.filter(Oc=>!Oc.destroyed);rs.length?A8(this,yt,rs):this.processLeaveNode(yt)}return X.length=0,Ag.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const yt=this.players.indexOf(ot);this.players.splice(yt,1)}),ot.play()}),Ag}elementContainsData(t,e){let i=!1;const s=e[Ra];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,o){let u=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(u=p)}else{const p=this.playersByElement.get(t);if(p){const m=!o||o==J1;p.forEach(b=>{b.queued||!m&&b.triggerName!=s||u.push(b)})}}return(i||s)&&(u=u.filter(p=>!(i&&i!=p.namespaceId||s&&s!=p.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const b=m.element,w=b!==o,E=Ko(i,b,[]);this._getPreviousPlayers(b,w,u,p,e.toState).forEach(k=>{const P=k.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),k.destroy(),E.push(k)})}gg(o,e.fromStyles)}_buildAnimation(t,e,i,s,o,u){const p=e.triggerName,m=e.element,b=[],w=new Set,E=new Set,x=e.timelines.map(P=>{const Y=P.element;w.add(Y);const X=Y[Ra];if(X&&X.removedBeforeQueried)return new hv(P.duration,P.delay);const ke=Y!==m,Ne=function(n){const t=[];return yU(n,t),t}((i.get(Y)||C8).map(Ci=>Ci.getRealPlayer())).filter(Ci=>!!Ci.element&&Ci.element===Y),Fe=o.get(Y),je=u.get(Y),_n=YV(0,this._normalizer,0,P.keyframes,Fe,je),Pi=this._buildPlayer(P,_n,Ne);if(P.subTimeline&&s&&E.add(Y),ke){const Ci=new s2(t,p,Y);Ci.setRealPlayer(Pi),b.push(Ci)}return Pi});b.forEach(P=>{Ko(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,P.element,P))}),w.forEach(P=>Oa(P,KV));const k=Ep(x);return k.onDestroy(()=>{w.forEach(P=>fv(P,KV)),Ec(m,e.toStyles)}),E.forEach(P=>{Ko(s,P,[]).push(k)}),k}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hv(t.duration,t.delay)}}class s2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>NF(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ko(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mA(n){return n&&1===n.nodeType}function gU(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function _U(n,t,e,i,s){const o=[];e.forEach(m=>o.push(gU(m)));const u=[];i.forEach((m,b)=>{const w={};m.forEach(E=>{const x=w[E]=t.computeStyle(b,E,s);(!x||0==x.length)&&(b[Ra]=D8,u.push(b))}),n.set(b,w)});let p=0;return e.forEach(m=>gU(m,o[p++])),u}function bU(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const s=new Set(t),o=new Map;function u(p){if(!p)return 1;let m=o.get(p);if(m)return m;const b=p.parentNode;return m=e.has(b)?b:s.has(b)?1:u(b),o.set(p,m),m}return t.forEach(p=>{const m=u(p);1!==m&&e.get(m).push(p)}),e}const gA="$$classes";function Oa(n,t){if(n.classList)n.classList.add(t);else{let e=n[gA];e||(e=n[gA]={}),e[t]=!0}}function fv(n,t){if(n.classList)n.classList.remove(t);else{let e=n[gA];e&&delete e[t]}}function A8(n,t,e){Ep(e).onDone(()=>n.processLeaveNode(t))}function yU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ZV?yU(i.players,t):t.push(i)}}function vU(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(o=>s.add(o)):t.set(n,i),e.delete(n),!0}class _A{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new M8(t,e,i),this._timelineEngine=new b8(t,e,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,i,s,o){const u=t+"-"+s;let p=this._triggerCache[u];if(!p){const m=[],b=WF(this._driver,o,m);if(m.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${m.join("\n - ")}`);p=function(n,t,e){return new m8(n,t,e)}(s,b,this._normalizer),this._triggerCache[u]=p}this._transitionEngine.registerTrigger(e,s,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[o,u]=GV(i);this._timelineEngine.command(o,e,u,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,o){if("@"==i.charAt(0)){const[u,p]=GV(i);return this._timelineEngine.listen(u,e,p,o)}return this._transitionEngine.listen(t,e,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wU(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=o2(t[0]),t.length>1&&(i=o2(t[t.length-1]))):t&&(e=o2(t)),e||i?new mv(n,e,i):null}class mv{constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let s=mv.initialStylesByElement.get(t);s||mv.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ec(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ec(this._element,this._initialStyles),this._endStyles&&(Ec(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mv.initialStylesByElement.delete(this._element),this._startStyles&&(gg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gg(this._element,this._endStyles),this._endStyles=null),Ec(this._element,this._initialStyles),this._state=3)}}function o2(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];R8(s)&&(t=t||{},t[s]=n[s])}return t}function R8(n){return"display"===n||"position"===n}mv.initialStylesByElement=new WeakMap;const CU="animation",DU="animationend";class P8{constructor(t,e,i,s,o,u,p){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=o,this._fillMode=u,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=m=>this._handleCallback(m)}apply(){(function(n,t){const e=l2(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),bA(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),EU(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){TU(this._element,this._name,"paused")}resume(){TU(this._element,this._name,"running")}setPosition(t){const e=MU(this._element,this._name);this._position=t*this._duration,bA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),EU(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=l2(n,"").split(","),s=a2(i,t);s>=0&&(i.splice(s,1),bA(n,"",i.join(",")))}(this._element,this._name))}}function TU(n,t,e){bA(n,"PlayState",e,MU(n,t))}function MU(n,t){const e=l2(n,"");return e.indexOf(",")>0?a2(e.split(","),t):a2([e],t)}function a2(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function EU(n,t,e){e?n.removeEventListener(DU,t):n.addEventListener(DU,t)}function bA(n,t,e,i){const s=CU+t;if(null!=i){const o=n.style[s];if(o.length){const u=o.split(",");u[i]=e,e=u.join(",")}}n.style[s]=e}function l2(n,t){return n.style[CU+t]||""}class SU{constructor(t,e,i,s,o,u,p,m){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=o,this._finalStyles=p,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=s+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new P8(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:$F(this.element,i))})}this.currentSnapshot=t}}class H8 extends hv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=WV(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class AU{constructor(){this._count=0}validateStyleProperty(t){return VF(t)}matchesElement(t,e){return UF(t,e)}containsElement(t,e){return HF(t,e)}query(t,e,i){return ZF(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(p=>WV(p));let s=`@keyframes ${e} {\n`,o="";i.forEach(p=>{o=" ";const m=parseFloat(p.offset);s+=`${o}${100*m}% {\n`,o+=" ",Object.keys(p).forEach(b=>{const w=p[b];switch(b){case"offset":return;case"easing":return void(w&&(s+=`${o}animation-timing-function: ${w};\n`));default:return void(s+=`${o}${b}: ${w};\n`)}}),s+=`${o}}\n`}),s+="}\n";const u=document.createElement("style");return u.textContent=s,u}animate(t,e,i,s,o,u=[],p){const m=u.filter(X=>X instanceof SU),b={};iU(i,s)&&m.forEach(X=>{let ke=X.currentSnapshot;Object.keys(ke).forEach(Ne=>b[Ne]=ke[Ne])});const w=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=rU(t,e,b));if(0==i)return new H8(t,w);const E="gen_css_kf_"+this._count++,x=this.buildKeyframeElement(t,E,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(x);const P=wU(t,e),Y=new SU(t,e,E,i,s,o,w,P);return Y.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(x)),Y}}class IU{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:$F(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class j8{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(RU().toString()),this._cssKeyframesDriver=new AU}validateStyleProperty(t){return VF(t)}matchesElement(t,e){return UF(t,e)}containsElement(t,e){return HF(t,e)}query(t,e,i){return ZF(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,o,u=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,o,u);const w={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(w.easing=o);const E={},x=u.filter(P=>P instanceof IU);iU(i,s)&&x.forEach(P=>{let Y=P.currentSnapshot;Object.keys(Y).forEach(X=>E[X]=Y[X])});const k=wU(t,e=rU(t,e=e.map(P=>Sp(P,!1)),E));return new IU(t,e,w,k)}}function RU(){return qV()&&Element.prototype.animate||{}}let $8=(()=>{class n extends LV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?BV(e):e;return OU(this._renderer,null,i,"register",[s]),new W8(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(Z))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class W8 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new J8(this._id,t,e||{},this._renderer)}}class J8{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return OU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function OU(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const NU="@.disabled";let Q8=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{u&&u.parentNode(o)&&u.removeChild(o.parentNode,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new PU("",o,this.engine),this._rendererCache.set(o,w)),w}const u=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const m=w=>{Array.isArray(w)?w.forEach(m):this.engine.registerTrigger(u,p,e,w.name,w)};return i.data.animation.forEach(m),new K8(this,p,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,p]=o;u(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(_A),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class PU{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==NU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class K8 extends PU{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==NU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,u,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}let tz=(()=>{class n extends _A{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z),r.LFG(tA),r.LFG(e2))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Fn=new r.OlP("AnimationModuleType"),FU=[{provide:LV,useClass:$8},{provide:e2,useFactory:function(){return new c8}},{provide:_A,useClass:tz},{provide:r.FYo,useFactory:function(n,t,e){return new Q8(n,t,e)},deps:[Bs,_A,r.R0b]}],LU=[{provide:tA,useFactory:function(){return"function"==typeof RU()?new j8:new AU}},{provide:Fn,useValue:"BrowserAnimations"},...FU],BU=[{provide:tA,useClass:JV},{provide:Fn,useValue:"NoopAnimations"},...FU];let sz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BU:LU}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:LU,imports:[Gg]}),n})();const VU=new r.GfV("12.2.5"),hz=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let et=(()=>{class n{constructor(e,i,s){this._hasDoneGlobalChecks=!1,this._document=s,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,r.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&VU.full!==FV.full&&console.warn("The Angular Material version ("+VU.full+") does not match the Angular CDK version ("+FV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(w_),r.LFG(hz,8),r.LFG(Z))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Wr],Wr]}),n})();function Rs(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Me(t)}}}function ea(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Xs(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Me(t)}}}function ad(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ht(e):this.defaultTabIndex}}}function Q1(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new le.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const pz=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,r.f3M)(r.soG)}});class or{constructor(){this._localeChanges=new le.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Sc=new r.OlP("mat-date-formats");let bg;try{bg="undefined"!=typeof Intl}catch(n){bg=!1}const mz={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},gz=vA(31,n=>String(n+1)),_z={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},bz=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function vA(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let yz=(()=>{class n extends or{constructor(e,i){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(bg){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return vA(12,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,s,1))))}return mz[e]}getDateNames(){if(bg){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return vA(31,i=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,i+1))))}return gz}getDayOfWeekNames(e){if(bg){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return vA(7,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,s+1))))}return _z[e]}getYearName(e){if(bg){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let o=this._createDateWithOverflow(e,i,s);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(bg){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const s=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(s,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(bz.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const o=new Date;return o.setFullYear(e,i,s),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(pz,8),r.LFG(xt))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:or,useClass:yz}],imports:[[mf]]}),n})();const Cz={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:Sc,useValue:Cz}],imports:[[wz]]}),n})(),eo=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),wA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et],et]}),n})();class Tz{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HU={enterDuration:225,exitDuration:150},p2=Bo({passive:!0}),ZU=["mousedown","touchstart"],qU=["mouseup","mouseleave","touchend","touchcancel"];class f2{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=li(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},HU),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const u=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),p=t-s.left,m=e-s.top,b=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=p-u+"px",w.style.top=m-u+"px",w.style.height=2*u+"px",w.style.width=2*u+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(w),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(w),w.style.transform="scale(1)";const E=new Tz(this,w,i);return E.state=0,this._activeRipples.add(E),i.persistent||(this._mostRecentTransientRipple=E),this._runTimeoutOutsideZone(()=>{const x=E===this._mostRecentTransientRipple;E.state=1,!i.persistent&&(!x||!this._isPointerDown)&&E.fadeOut()},b),E}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Object.assign(Object.assign({},HU),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=li(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ZU))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(qU),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=A0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Df(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,p2)})})}_removeTriggerEvents(){this._triggerElement&&(ZU.forEach(t=>{this._triggerElement.removeEventListener(t,this,p2)}),this._pointerUpEventsRegistered&&qU.forEach(t=>{this._triggerElement.removeEventListener(t,this,p2)}))}}const CA=new r.OlP("mat-ripple-global-options");let Os=(()=>{class n{constructor(e,i,s,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new f2(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(xt),r.Y36(CA,8),r.Y36(Fn,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),pl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et,mf],et]}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et]]}),n})(),MA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pl,zt,et,m2]]}),n})();function Rz(n,t){}class xp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Oz={dialogContainer:ji("dialogContainer",[Gt("void, exit",$e({opacity:0,transform:"scale(0.7)"})),Gt("enter",$e({transform:"none"})),un("* => enter",gn("150ms cubic-bezier(0, 0, 0.2, 1)",$e({transform:"none",opacity:1}))),un("* => void, * => exit",gn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",$e({opacity:0})))])};let Nz=(()=>{class n extends lh{constructor(e,i,s,o,u,p){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=s,this._config=u,this._focusMonitor=p,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(m)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Wa(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Wa())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Wa();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(g_),r.Y36(r.sBO),r.Y36(Z,8),r.Y36(xp),r.Y36(ei))},n.\u0275dir=r.lG2({type:n,viewQuery:function(e,i){if(1&e&&r.Gf(ci,7),2&e){let s;r.iGM(s=r.CRH())&&(i._portalOutlet=s.first)}},features:[r.qOj]}),n})(),Pz=(()=>{class n extends Nz{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&r.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(r.Ikx("id",i._id),r.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),r.d8E("@dialogContainer",i._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&r.YNc(0,Rz,0,0,"ng-template",0)},directives:[ci],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Oz.dialogContainer]}}),n})(),Fz=0;class Ap{constructor(t,e,i="mat-dialog-"+Fz++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new le.xQ,this._afterClosed=new le.xQ,this._beforeClosed=new le.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(gt(s=>"opened"===s.state),R(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(gt(s=>"closed"===s.state),R(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(gt(s=>27===s.keyCode&&!this.disableClose&&!Un(s))).subscribe(s=>{s.preventDefault(),b2(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():b2(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(gt(e=>"closing"===e.state),R(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function b2(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const X1=new r.OlP("MatDialogData"),Lz=new r.OlP("mat-dialog-default-options"),$U=new r.OlP("mat-dialog-scroll-strategy"),Vz={provide:$U,deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Uz=(()=>{class n{constructor(e,i,s,o,u,p,m,b,w){this._overlay=e,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=m,this._dialogContainerType=b,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le.xQ,this._afterOpenedAtThisLevel=new le.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=jf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yt(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new xp)).id&&this.getDialogById(i.id);const s=this._createOverlay(i),o=this._attachDialogContainer(s,i),u=this._attachDialogContent(e,o,s,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new zl({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=r.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:xp,useValue:i}]}),u=new ah(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,s,o){const u=new this._dialogRefConstructor(s,i,o.id);if(e instanceof r.Rgc)i.attachTemplatePortal(new uo(e,null,{$implicit:o.data,dialogRef:u}));else{const p=this._createInjector(o,u,i),m=i.attachComponentPortal(new ah(e,o.viewContainerRef,p));u.componentInstance=m.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,s){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(mn,null,r.XFs.Optional))&&u.push({provide:mn,useValue:{value:e.direction,change:(0,Ue.of)()}}),r.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(qi),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(il),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},n.\u0275dir=r.lG2({type:n}),n})(),Na=(()=>{class n extends Uz{constructor(e,i,s,o,u,p,m){super(e,i,o,p,m,u,Ap,Pz,X1)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(qi),r.LFG(r.zs3),r.LFG(jt,8),r.LFG(Lz,8),r.LFG($U),r.LFG(n,12),r.LFG(il))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Zz=0,EA=(()=>{class n{constructor(e,i,s){this.dialogRef=e,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=JU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){b2(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ap,8),r.Y36(r.SBq),r.Y36(Na))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&r.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),n})(),WU=(()=>{class n{constructor(e,i,s){this._dialogRef=e,this._elementRef=i,this._dialog=s,this.id="mat-dialog-title-"+Zz++}ngOnInit(){this._dialogRef||(this._dialogRef=JU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ap,8),r.Y36(r.SBq),r.Y36(Na))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&r.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function JU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let qz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Na,Vz],imports:[[Ma,Ka,et],et]}),n})();const Yz=["underline"],Gz=["connectionContainer"],jz=["inputContainer"],zz=["label"];function $z(n,t){1&n&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function Wz(n,t){1&n&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function Jz(n,t){if(1&n&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&n){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function Qz(n,t){1&n&&r.Hsn(0,3,["*ngSwitchCase","true"])}function Kz(n,t){1&n&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function Xz(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,Jz,4,1,"ng-container",12),r.YNc(3,Qz,1,0,"ng-content",12),r.YNc(4,Kz,2,0,"span",22),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function e$(n,t){1&n&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function t$(n,t){if(1&n&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function n$(n,t){if(1&n&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function i$(n,t){if(1&n&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function r$(n,t){if(1&n&&(r.TgZ(0,"div",28),r.YNc(1,i$,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const s$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],o$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let a$=0;const QU=new r.OlP("MatError");let xc=(()=>{class n{constructor(e,i){this.id="mat-error-"+a$++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(r.$8M("aria-live"),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("id",i.id)},inputs:{id:"id"},features:[r._Bn([{provide:QU,useExisting:n}])]}),n})();const l$={transitionMessages:ji("transitionMessages",[Gt("enter",$e({opacity:1,transform:"translateY(0%)"})),un("void => enter",[$e({opacity:0,transform:"translateY(-5px)"}),gn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})();const KU=new r.OlP("MatHint");let y2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-label"]]}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const XU=new r.OlP("MatPrefix"),eH=new r.OlP("MatSuffix");let kp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","matSuffix",""]],features:[r._Bn([{provide:eH,useExisting:n}])]}),n})(),tH=0;const h$=ea(class{constructor(n){this._elementRef=n}},"primary"),p$=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gv=new r.OlP("MatFormField");let fl=(()=>{class n extends h${constructor(e,i,s,o,u,p,m,b){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=u,this._platform=p,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new le.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+tH++,this._labelId="mat-form-field-label-"+tH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Me(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Yt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pe(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pe(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,En.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Yt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Yt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pe(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,kn(this._label.nativeElement,"transitionend").pipe(R(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,s=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,s=0;const o=this._connectionContainerRef.nativeElement,u=o.querySelectorAll(".mat-form-field-outline-start"),p=o.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const m=o.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(m),w=e.children,E=this._getStartEnd(w[0].getBoundingClientRect());let x=0;for(let k=0;k<w.length;k++)x+=w[k].offsetWidth;i=Math.abs(E-b)-5,s=x>0?.75*x+10:0}for(let m=0;m<u.length;m++)u[m].style.width=`${i}px`;for(let m=0;m<p.length;m++)p[m].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(mn,8),r.Y36(p$,8),r.Y36(xt),r.Y36(r.R0b),r.Y36(Fn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,yg,5),r.Suo(s,yg,7),r.Suo(s,y2,5),r.Suo(s,y2,7),r.Suo(s,u$,5),r.Suo(s,QU,5),r.Suo(s,KU,5),r.Suo(s,XU,5),r.Suo(s,eH,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._controlNonStatic=o.first),r.iGM(o=r.CRH())&&(i._controlStatic=o.first),r.iGM(o=r.CRH())&&(i._labelChildNonStatic=o.first),r.iGM(o=r.CRH())&&(i._labelChildStatic=o.first),r.iGM(o=r.CRH())&&(i._placeholderChild=o.first),r.iGM(o=r.CRH())&&(i._errorChildren=o),r.iGM(o=r.CRH())&&(i._hintChildren=o),r.iGM(o=r.CRH())&&(i._prefixChildren=o),r.iGM(o=r.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(Yz,5),r.Gf(Gz,7),r.Gf(jz,5),r.Gf(zz,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.underlineRef=s.first),r.iGM(s=r.CRH())&&(i._connectionContainerRef=s.first),r.iGM(s=r.CRH())&&(i._inputContainerRef=s.first),r.iGM(s=r.CRH())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:gv,useExisting:n}]),r.qOj],ngContentSelectors:o$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(r.F$t(s$),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),r.YNc(3,$z,9,0,"ng-container",3),r.YNc(4,Wz,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,Xz,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,e$,2,0,"div",9),r.qZA(),r.YNc(11,t$,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,n$,2,1,"div",12),r.YNc(14,r$,5,2,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==i.appearance),r.xp6(1),r.Q6J("ngIf",i._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",i._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",i._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=i.appearance),r.xp6(1),r.Q6J("ngSwitch",i._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[Qe,Ji,Qn,yf],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[l$.transitionMessages]},changeDetection:0}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,et,vf],et]}),n})();const iH=Bo({passive:!0});let rH=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return A.E;const i=li(e),s=this._monitoredElements.get(i);if(s)return s.subject;const o=new le.xQ,u="cdk-text-field-autofilled",p=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,iH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",p,iH)}}),o}stopMonitoring(e){const i=li(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mf]]}),n})();const oH=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),m$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let g$=0;const _$=Q1(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let ld=(()=>{class n extends _${constructor(e,i,s,o,u,p,m,b,w,E){super(p,o,u,s),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=E,this._uid="mat-input-"+g$++,this.focused=!1,this.stateChanges=new le.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>rT().has(P));const x=this._elementRef.nativeElement,k=x.nodeName.toLowerCase();this._inputValueAccessor=m||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",P=>{const Y=P.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===k,this._isTextarea="textarea"===k,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Me(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Me(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&rT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Me(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const s=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=s,s?o.setAttribute("placeholder",s):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){m$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(xt),r.Y36(fs,10),r.Y36(Ys,8),r.Y36(ui,8),r.Y36(eo),r.Y36(oH,10),r.Y36(rH),r.Y36(r.R0b),r.Y36(gv,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(r.Ikx("disabled",i.disabled)("required",i.required),r.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),r.ekj("mat-input-server",i._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:yg,useExisting:n}]),r.qOj,r.TTD]}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[eo],imports:[[sH,v2,et],sH,v2]}),n})();function y$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function v$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function w$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}function C$(n,t){if(1&n&&(r.TgZ(0,"mat-error",9),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}let aH=(()=>{class n{constructor(e,i,s,o){this.formBuilder=e,this.authService=i,this.dialogRef=s,this.data=o,this.userDatasForm=this.formBuilder.group({nom:["",[st.required,st.minLength(5),st.maxLength(25)]],prenom:["",[st.required,st.minLength(3),st.maxLength(25)]],email:[{value:this.authService.getCurrentUser().email,disabled:!0}]}),this.errorMessage="",this.description=""}ngOnInit(){this.initForm()}initForm(){}close(){this.dialogRef.close()}save(){this.dialogRef.close(this.userDatasForm.value)}getErrorMessage(e){let i="";switch(e){case"nom":this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("required")&&(i="Vous devez saisir votre nom"),(this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("minlength")||this.userDatasForm.controls.nom.touched&&this.userDatasForm.controls.nom.hasError("maxlength"))&&(i="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("required")&&(i="Vous devez saisir votre pr\xe9nom"),(this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("minlength")||this.userDatasForm.controls.prenom.touched&&this.userDatasForm.controls.prenom.hasError("maxlength"))&&(i="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("required")&&(i="Vous devez saisir une adresse email"),this.userDatasForm.controls.email.touched&&this.userDatasForm.controls.email.hasError("email")&&(i="L'adresse saisie n'est pas valide.");break;case"password1":this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password1.touched&&this.userDatasForm.controls.password1.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.userDatasForm.controls.password2.touched&&this.userDatasForm.controls.password2.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Mr),r.Y36(Ap),r.Y36(X1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-user-datas"]],decls:21,vars:5,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-dialog-content",0),r.TgZ(1,"mat-form-field",1),r._UZ(2,"input",2),r.TgZ(3,"div",3),r.YNc(4,y$,2,1,"mat-error",4),r.YNc(5,v$,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"mat-form-field",1),r._UZ(8,"input",5),r.TgZ(9,"div",3),r.YNc(10,w$,2,1,"mat-error",4),r.YNc(11,C$,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",1),r._UZ(14,"input",6),r.qZA(),r._UZ(15,"br"),r.qZA(),r.TgZ(16,"mat-dialog-actions"),r.TgZ(17,"button",7),r.NdJ("click",function(){return i.save()}),r._uU(18,"Ok"),r.qZA(),r.TgZ(19,"button",8),r.NdJ("click",function(){return i.close()}),r._uU(20,"Annuler"),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.userDatasForm),r.xp6(4),r.Q6J("ngIf",(i.userDatasForm.controls.nom.hasError("minlength")||i.userDatasForm.controls.nom.hasError("maxlength"))&&!i.userDatasForm.controls.nom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.userDatasForm.controls.nom.hasError("required")),r.xp6(5),r.Q6J("ngIf",(i.userDatasForm.controls.prenom.hasError("minlength")||i.userDatasForm.controls.prenom.hasError("maxlength"))&&!i.userDatasForm.controls.prenom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.userDatasForm.controls.prenom.hasError("required")))},directives:[eD,go,ui,fl,ld,qs,mo,Gs,Qe,tD,xc],styles:[""]}),n})();var D$=N(9511);let Mr=(()=>{class n{constructor(e,i,s,o,u,p){this.dialog=e,this.router=i,this.ngZone=s,this.usersService=o,this.angularFirestore=u,this.angularFireAuth=p,this.visiteur={email:"memoiremorieroise@gmail.com",password:"MyPepita51"},this.userId="",this.authSubject=new le.xQ,this.status=0,this.angularFireAuth.onAuthStateChanged(m=>{null==m?this.signInVisiteur().then(b=>{this.emitUserChanged()}):m.email==this.visiteur.email?(this.currentUser=new $1("",m.uid,"Visiteur","Visiteur","Visiteur",!0,ln.visiteur),this.emitUserChanged()):o.getUserByUid(m.uid).subscribe(w=>{w&&w.docs.length>0?(this.currentUser=new $1(w.docs[0].id,m.uid,w.docs[0].data().nom,w.docs[0].data().prenom,w.docs[0].data().email,w.docs[0].data().emailVerified,w.docs[0].data().status),this.emitUserChanged()):this.emitUserChanged()},w=>{console.log(w.message)})})}emitUserChanged(){this.authSubject.next(this.currentUser)}getVisiteur(){return this.visiteur.email}getCurrentUser(){return this.currentUser}getStatus(){return this.status}signInVisiteur(){return this.SignInUser(this.visiteur.email,this.visiteur.password)}createNewUser(e,i){if(null!=e.email&&null!=i)return new Promise((s,o)=>{this.angularFireAuth.createUserWithEmailAndPassword(e.email.trim(),i.trim()).then(u=>{u.user.updateProfile({displayName:e.nom+"/"+e.prenom}),e.uid=u.user.uid,u.user&&u.user.sendEmailVerification().then(()=>{alert("Un email vous a \xe9t\xe9 envoy\xe9, merci de cliquer sur le lien qu'il contien afin de valider v\xf4tre inscription.")}).catch(p=>{console.log(p),o(p)}),this.angularFireAuth.signInWithEmailAndPassword(this.visiteur.email,this.visiteur.password).then(p=>{}),this.router.navigate(["app-accueil"]),s(!0)})})}updateCurrentUser(e){}SignInUser(e,i){return this.angularFireAuth.signInWithEmailAndPassword(e,i).then(s=>{s.user.emailVerified?s.user&&this.getUserFromDB(s.user).subscribe(o=>{var u,p,m,b,w,E,x,k;let P=o.docs.map(Y=>{let X=Y.data();return X.id=Y.id,X});P.length>0?(this.currentUser=P[0],this.emitUserChanged()):(this.currentUser=new $1("",null===(u=s.user)||void 0===u?void 0:u.uid,null===(m=null===(p=s.user)||void 0===p?void 0:p.displayName)||void 0===m?void 0:m.substring(0,null===(b=s.user.displayName)||void 0===b?void 0:b.indexOf("/")),null===(E=null===(w=s.user)||void 0===w?void 0:w.displayName)||void 0===E?void 0:E.substring((null===(x=s.user.displayName)||void 0===x?void 0:x.indexOf("/"))+1),null===(k=s.user)||void 0===k?void 0:k.email,!0,ln.valide),this.usersService.addUser(this.currentUser),this.emitUserChanged())}):this.router.navigate(["app-unvalidate-user-message"])}).catch(s=>{console.log(s.message),alert("Erreur de connexion, mail ou mot de passe incorrect ?")})}SignOut(){this.currentUser=void 0,this.angularFireAuth.signOut().then(()=>{}).catch(e=>{console.log(e)}).finally(()=>{this.signInVisiteur().then(()=>{this.emitUserChanged()})})}sendMailNewUser(){this.angularFireAuth.currentUser.then(e=>{null==e||e.sendEmailVerification()})}getCurrentAuthUser(){return this.angularFireAuth.currentUser}ForgotPassword(e){return this.angularFireAuth.sendPasswordResetEmail(e).then(()=>{alert("Un email de r\xe9initialisation du mot de passe vous a \xe9t\xe9 envoy\xe9, v\xe9rifiez votre bo\xeete de r\xe9ception.")}).catch(i=>{alert("Erreur de connexion, avez-vous bien saisi l'adresse ?."),console.log(i)})}connectWidthGoogle(){const e=new D$.N;let i=[];return this.angularFireAuth.signInWithPopup(e).then(s=>{var o,u,p,m,b,w;null==this.currentUser&&(this.currentUser=new $1),(null===(o=s.user)||void 0===o?void 0:o.emailVerified)?(this.currentUser.email=null===(u=s.user.email)||void 0===u?void 0:u.toString(),this.currentUser.emailVerified=!0,this.currentUser.uid=s.user.uid,this.currentUser.nom=null===(p=s.user.displayName)||void 0===p?void 0:p.substring(0,null===(m=s.user.displayName)||void 0===m?void 0:m.indexOf("/")),this.currentUser.prenom=null===(b=s.user.displayName)||void 0===b?void 0:b.substring((null===(w=s.user.displayName)||void 0===w?void 0:w.indexOf("/"))+1),this.currentUser.status=qe.visiteur,this.getUserFromDB(s.user).subscribe(E=>{var x;if(i=E.docs.map(k=>{k.data().id=k.id}),0===i.length){const k=new xp;k.disableClose=!0,k.autoFocus=!0,k.width="500px",k.data={email:null===(x=this.currentUser)||void 0===x?void 0:x.email},this.dialog.open(aH,k).afterClosed().subscribe(Y=>{this.currentUser.nom=Y.nom,this.currentUser.prenom=Y.prenom,this.usersService.addUser(this.currentUser)})}})):this.router.navigate(["app-unvalidate-user-message"])},s=>{console.log(s),alert("Erreur de connexion, adresse mail ou mot de passe incorrect ?")})}getUserFromDB(e){return this.angularFirestore.collection("Users/",i=>i.where("uid","==",e.uid)).get()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Na),r.LFG(Sn),r.LFG(r.R0b),r.LFG(hg),r.LFG(Tc),r.LFG(AF))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T$(n,t){1&n&&r.Hsn(0)}const w2=["*"];function M$(n,t){}const E$=function(n){return{animationDuration:n}},S$=function(n,t){return{value:n,params:t}},x$=["tabBodyWrapper"],A$=["tabHeader"];function k$(n,t){}function I$(n,t){if(1&n&&r.YNc(0,k$,0,0,"ng-template",9),2&n){const e=r.oxw().$implicit;r.Q6J("cdkPortalOutlet",e.templateLabel)}}function R$(n,t){if(1&n&&r._uU(0),2&n){const e=r.oxw().$implicit;r.Oqu(e.textLabel)}}function O$(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",6),r.NdJ("click",function(){const s=r.CHM(e),o=s.$implicit,u=s.index,p=r.oxw(),m=r.MAs(1);return p._handleClick(o,m,u)})("cdkFocusChange",function(s){const u=r.CHM(e).index;return r.oxw()._tabFocusChanged(s,u)}),r.TgZ(1,"div",7),r.YNc(2,I$,1,1,"ng-template",8),r.YNc(3,R$,1,1,"ng-template",8),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.ekj("mat-tab-label-active",s.selectedIndex==i),r.Q6J("id",s._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||s.disableRipple),r.uIk("tabIndex",s._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),r.xp6(2),r.Q6J("ngIf",e.templateLabel),r.xp6(1),r.Q6J("ngIf",!e.templateLabel)}}function N$(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-tab-body",10),r.NdJ("_onCentered",function(){return r.CHM(e),r.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(s){return r.CHM(e),r.oxw()._setTabBodyWrapperHeight(s)}),r.qZA()}if(2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.ekj("mat-tab-body-active",s.selectedIndex===i),r.Q6J("id",s._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration),r.uIk("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))}}const lH=["tabListContainer"],cH=["tabList"],uH=["nextPaginator"],dH=["previousPaginator"],F$=new r.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let SA=(()=>{class n{constructor(e,i,s,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=s,this._animationMode=o}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const i=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=i.left,s.style.width=i.width}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(F$),r.Y36(Fn,8))},n.\u0275dir=r.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const hH=new r.OlP("MatTabContent"),pH=new r.OlP("MatTabLabel"),B$=Rs(class{}),fH=new r.OlP("MAT_TAB_GROUP");let C2=(()=>{class n extends B${constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new le.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new uo(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(fH,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,pH,5),r.Suo(s,hH,7,r.Rgc)),2&e){let o;r.iGM(o=r.CRH())&&(i.templateLabel=o.first),r.iGM(o=r.CRH())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&r.Gf(r.Rgc,7),2&e){let s;r.iGM(s=r.CRH())&&(i._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.qOj,r.TTD],ngContentSelectors:w2,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.YNc(0,T$,1,0,"ng-template"))},encapsulation:2}),n})();const V$={translateTab:ji("translateTab",[Gt("center, void, left-origin-center, right-origin-center",$e({transform:"none"})),Gt("left",$e({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Gt("right",$e({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),un("* => left, * => right, left => center, right => center",gn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),un("void => left-origin-center",[$e({transform:"translate3d(-100%, 0, 0)"}),gn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),un("void => right-origin-center",[$e({transform:"translate3d(100%, 0, 0)"}),gn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let U$=(()=>{class n extends ci{constructor(e,i,s,o){super(e,i,o),this._host=s,this._centeringSub=Mt.w.EMPTY,this._leavingSub=Mt.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Yt(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36((0,r.Gpc)(()=>mH)),r.Y36(Z))},n.\u0275dir=r.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[r.qOj]}),n})(),H$=(()=>{class n{constructor(e,i,s){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Mt.w.EMPTY,this._translateTabComplete=new le.xQ,this._onCentering=new r.vpe,this._beforeCentering=new r.vpe,this._afterLeavingCenter=new r.vpe,this._onCentered=new r.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),s.markForCheck()})),this._translateTabComplete.pipe(on((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(mn,8),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),mH=(()=>{class n extends H${constructor(e,i,s){super(e,i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(mn,8),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&r.Gf(ci,5),2&e){let s;r.iGM(s=r.CRH())&&(i._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[r.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r.NdJ("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),r.YNc(2,M$,0,0,"ng-template",2),r.qZA()),2&e&&r.Q6J("@translateTab",r.WLB(3,S$,i._position,r.VKq(1,E$,i.animationDuration)))},directives:[U$],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[V$.translateTab]}}),n})();const gH=new r.OlP("MAT_TABS_CONFIG");let Z$=0;class q${}const Y$=ea(Xs(class{constructor(n){this._elementRef=n}}),"primary");let G$=(()=>{class n extends Y${constructor(e,i,s,o){var u;super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new r.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Mt.w.EMPTY,this._tabLabelSubscription=Mt.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.vpe,this.focusChange=new r.vpe,this.animationDone=new r.vpe,this.selectedTabChange=new r.vpe(!0),this._groupId=Z$++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=null!==(u=null==s?void 0:s.contentTabIndex)&&void 0!==u?u:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Me(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Ht(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Ht(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,o)=>s.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const i=this._tabs.toArray();for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Yt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new q$;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,En.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,s){e.disabled||(this.selectedIndex=i.focusIndex=s)}_getTabIndex(e,i){return e.disabled?null:this.selectedIndex===i?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(gH,8),r.Y36(Fn,8))},n.\u0275dir=r.lG2({type:n,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.qOj]}),n})(),_H=(()=>{class n extends G${constructor(e,i,s,o){super(e,i,s,o)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(gH,8),r.Y36(Fn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,C2,5),2&e){let o;r.iGM(o=r.CRH())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(x$,5),r.Gf(A$,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._tabBodyWrapper=s.first),r.iGM(s=r.CRH())&&(i._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r._Bn([{provide:fH,useExisting:n}]),r.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-tab-header",0,1),r.NdJ("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),r.YNc(2,O$,4,14,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.YNc(5,N$,1,9,"mat-tab-body",5),r.qZA()),2&e&&(r.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),r.xp6(2),r.Q6J("ngForOf",i._tabs),r.xp6(1),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),r.xp6(2),r.Q6J("ngForOf",i._tabs))},directives:function(){return[J$,ht,bH,Os,y_,Qe,ci,mH]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})();const j$=Rs(class{});let bH=(()=>{class n extends j${constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(r.uIk("aria-disabled",!!i.disabled),r.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[r.qOj]}),n})();const yH=Bo({passive:!0});let wH=(()=>{class n{constructor(e,i,s,o,u,p,m){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=o,this._ngZone=u,this._platform=p,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new le.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new le.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.vpe,this.indexFocused=new r.vpe,u.runOutsideAngular(()=>{kn(e.nativeElement,"mouseleave").pipe(Pe(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Ht(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){kn(this._previousPaginator.nativeElement,"touchstart",yH).pipe(Pe(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),kn(this._nextPaginator.nativeElement,"touchstart",yH).pipe(Pe(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,Ue.of)("ltr"),i=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new au(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(s):s(),(0,En.T)(e,i,this._items.changes).pipe(Pe(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(s)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Pe(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Un(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=i.elementRef.nativeElement;let p,m;"ltr"==this._getLayoutDirection()?(p=o,m=p+u):(m=this._tabList.nativeElement.offsetWidth-o,p=m-u);const b=this.scrollDistance,w=this.scrollDistance+s;p<b?this.scrollDistance-=b-p+60:m>w&&(this.scrollDistance+=m-w+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Mf(650,100).pipe(Pe((0,En.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:o}=this._scrollHeader(e);(0===o||o>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(_r),r.Y36(mn,8),r.Y36(r.R0b),r.Y36(xt),r.Y36(Fn,8))},n.\u0275dir=r.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),W$=(()=>{class n extends wH{constructor(e,i,s,o,u,p,m){super(e,i,s,o,u,p,m),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Me(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(_r),r.Y36(mn,8),r.Y36(r.R0b),r.Y36(xt),r.Y36(Fn,8))},n.\u0275dir=r.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[r.qOj]}),n})(),J$=(()=>{class n extends W${constructor(e,i,s,o,u,p,m){super(e,i,s,o,u,p,m)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(_r),r.Y36(mn,8),r.Y36(r.R0b),r.Y36(xt),r.Y36(Fn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,bH,4),2&e){let o;r.iGM(o=r.CRH())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(SA,7),r.Gf(lH,7),r.Gf(cH,7),r.Gf(uH,5),r.Gf(dH,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._inkBar=s.first),r.iGM(s=r.CRH())&&(i._tabListContainer=s.first),r.iGM(s=r.CRH())&&(i._tabList=s.first),r.iGM(s=r.CRH())&&(i._nextPaginator=s.first),r.iGM(s=r.CRH())&&(i._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.qOj],ngContentSelectors:w2,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),r._UZ(2,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.NdJ("keydown",function(o){return i._handleKeydown(o)}),r.TgZ(5,"div",5,6),r.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),r.TgZ(7,"div",7),r.Hsn(8),r.qZA(),r._UZ(9,"mat-ink-bar"),r.qZA(),r.qZA(),r.TgZ(10,"div",8,9),r.NdJ("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),r._UZ(12,"div",2),r.qZA()),2&e&&(r.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),r.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple),r.xp6(5),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),r.xp6(5),r.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),r.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},directives:[Os,yf,SA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),t7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,et,Ka,pl,vf,lu],et]}),n})();class n7{call(t,e){return e.subscribe(new i7(t))}}class i7 extends pb{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const o=fb(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let s=0;s<this.subscriptions.length;s++)if(s!==i){let o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)}}var r7=N(8640);const TH=new Mn.y(r7.Z);var xA=N(377);function AA(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,mb.n)(n,void 0).lift(new s7(t))}class s7{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new o7(t,this.resultSelector))}}class o7 extends Ei.L{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,Vl.k)(t)?e.push(new l7(t)):e.push("function"==typeof t[xA.hZ]?new a7(t[xA.hZ]()):new c7(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let u=0;u<e;u++){let p=t[u];if("function"==typeof p.hasValue&&!p.hasValue())return}let s=!1;const o=[];for(let u=0;u<e;u++){let p=t[u],m=p.next();if(p.hasCompleted()&&(s=!0),m.done)return void i.complete();o.push(m.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class a7{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class l7{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[xA.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class c7 extends ai.Ds{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[xA.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,ai.ft)(this.observable,new ai.IY(this))}}function D2(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new d7(n,e))}}class d7{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new h7(t,this.observables,this.project))}}class h7 extends pb{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let o=0;o<s;o++)this.toRespond.push(o);for(let o=0;o<s;o++)this.add(fb(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const s=this.toRespond;if(s.length>0){const o=s.indexOf(i);-1!==o&&s.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}N(3098);var EH=N(8819);const _v=["*"];function T7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li",6),r.NdJ("click",function(){const o=r.CHM(e).$implicit,u=r.oxw();return u.focus(),u.select(o.id,u.NgbSlideEventSource.INDICATOR)}),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw();r.ekj("active",e.id===i.activeId),r.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function M7(n,t){}function E7(n,t){if(1&n&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r.SDv(2,9),r.qZA(),r.YNc(3,M7,0,0,"ng-template",10),r.qZA()),2&n){const e=t.$implicit,i=t.index,s=t.count;r.Q6J("id","slide-"+e.id),r.xp6(2),r.pQV(i+1)(s),r.QtT(2),r.xp6(1),r.Q6J("ngTemplateOutlet",e.tplRef)}}function S7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",11),r.NdJ("click",function(){return r.CHM(e),r.oxw().arrowLeft()}),r._UZ(1,"span",12),r.TgZ(2,"span",8),r.SDv(3,13),r.qZA(),r.qZA()}}function x7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",14),r.NdJ("click",function(){return r.CHM(e),r.oxw().arrowRight()}),r._UZ(1,"span",15),r.TgZ(2,"span",8),r.SDv(3,16),r.qZA(),r.qZA()}}const iW=["dialog"];function Ip(n){return null!=n}function yv(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const AH={animation:!0,transitionTimerDelayMs:5};let is=(()=>{class n{constructor(){this.animation=AH.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const mJ=()=>{},{transitionTimerDelayMs:gJ}=AH,rD=new Map,Ur=(n,t,e,i)=>{let s=i.context||{};const o=rD.get(t);if(o)switch(i.runningTransition){case"continue":return A.E;case"stop":n.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),rD.delete(t)}const u=e(t,i.animation,s)||mJ;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),(0,Ue.of)(void 0).pipe(function(n){return t=>new Mn.y(e=>t.subscribe(u=>n.run(()=>e.next(u)),u=>n.run(()=>e.error(u)),()=>n.run(()=>e.complete())))}(n));const p=new le.xQ,m=new le.xQ,b=p.pipe(function(...n){return t=>Ul(t,(0,Ue.of)(...n))}(!0));rD.set(t,{transition$:p,complete:()=>{m.next(),m.complete()},context:s});const w=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const E=kn(t,"transitionend").pipe(Pe(b),gt(({target:k})=>k===t));(function(...n){if(1===n.length){if(!(0,Vl.k)(n[0]))return n[0];n=n[0]}return(0,mb.n)(n,void 0).lift(new n7)})(Mf(w+gJ).pipe(Pe(b)),E,m).pipe(Pe(b)).subscribe(()=>{rD.delete(t),n.run(()=>{u(),p.next(),p.complete()})})}),p.asObservable()};let NH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),PH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),MJ=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(is))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(is))},token:n,providedIn:"root"}),n})();var Rp=(()=>(function(n){n.LEFT="left",n.RIGHT="right"}(Rp||(Rp={})),Rp))();const BH=({classList:n})=>n.contains("carousel-item-left")||n.contains("carousel-item-right"),sD=n=>{n.remove("carousel-item-left"),n.remove("carousel-item-right")},RA=n=>{sD(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},EJ=(n,t,{direction:e})=>{const{classList:i}=n;return t?(BH(n)?sD(i):(i.add("carousel-item-"+(e===Rp.LEFT?"next":"prev")),yv(n),i.add("carousel-item-"+e)),()=>{RA(i),i.add("active")}):(sD(i),RA(i),void i.add("active"))},SJ=(n,t,{direction:e})=>{const{classList:i}=n;return t?(BH(n)?sD(i):i.add("carousel-item-"+e),()=>{RA(i),i.remove("active")}):(sD(i),RA(i),void i.remove("active"))};let xJ=0,k2=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+xJ++,this.slid=new r.vpe}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),VH=(()=>{class n{constructor(e,i,s,o,u){this._platformId=i,this._ngZone=s,this._cd=o,this._container=u,this.NgbSlideEventSource=vg,this._destroy$=new le.xQ,this._interval$=new oi(0),this._mouseHover$=new oi(!1),this._focused$=new oi(!1),this._pauseOnHover$=new oi(!1),this._pauseOnFocus$=new oi(!1),this._pause$=new oi(!1),this._wrap$=new oi(!1),this.slide=new r.vpe,this.slid=new r.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(vg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(vg.ARROW_RIGHT)}ngAfterContentInit(){Fc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Gf([this.slide.pipe((0,g.U)(i=>i.current),Yt(this.activeId)),this._wrap$,this.slides.changes.pipe(Yt(null))]).pipe((0,g.U)(([i,s])=>{const o=this.slides.toArray(),u=this._getSlideIdxById(i);return s?o.length>1:u<o.length-1}),on());Gf([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,g.U)(([i,s,o,u,p,m,b])=>i||s&&o||u&&p||!b?0:m),on(),fn(i=>i>0?Mf(i,i):TH),Pe(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(vg.TIMER)))}),this.slides.changes.pipe(Pe(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(i=>(n=>{var t;null===(t=rD.get(n))||void 0===t||t.complete()})(this._getSlideElement(i))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(R(1)).subscribe(()=>{for(const{id:i}of this.slides){const s=this._getSlideElement(i);i===this.activeId?s.classList.add("active"):s.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Rp.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Rp.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,s){const o=this._transitionIds;if(o&&(o[0]!==e||o[1]!==this.activeId))return;let u=this._getSlideById(e);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:u.id,direction:i,paused:this._pause$.value,source:s});const p={animation:this.animation,runningTransition:"stop",context:{direction:i}},m=[],b=this._getSlideById(this.activeId);if(b){const k=Ur(this._ngZone,this._getSlideElement(b.id),SJ,p);k.subscribe(()=>{b.slid.emit({isShown:!1,direction:i,source:s})}),m.push(k)}const w=this.activeId;this.activeId=u.id;const E=this._getSlideById(this.activeId),x=Ur(this._ngZone,this._getSlideElement(u.id),EJ,p);x.subscribe(()=>{null==E||E.slid.emit({isShown:!0,direction:i,source:s})}),m.push(x),AA(...m).pipe(R(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:w,current:u.id,direction:i,paused:this._pause$.value,source:s})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?Rp.RIGHT:Rp.LEFT}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return s===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[s+1].id}_getPrevSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return 0===s?this.wrap?i[i.length-1].id:i[0].id:i[s-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(MJ),r.Y36(r.Lbi),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(r.SBq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,k2,4),2&e){let o;r.iGM(o=r.CRH())&&(i.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&r.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(r.uIk("aria-activedescendant","slide-"+i.activeId),r.Udp("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let t,e,i;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number␟a65b1b49aa7dd8c4f3004da6a8c2241814dae621␟783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,i=$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],t,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(r.TgZ(0,"ol",0),r.YNc(1,T7,1,5,"li",1),r.qZA(),r.TgZ(2,"div",2),r.YNc(3,E7,4,4,"div",3),r.qZA(),r.YNc(4,S7,4,0,"a",4),r.YNc(5,x7,4,0,"a",5)),2&e&&(r.ekj("sr-only",!i.showNavigationIndicators),r.xp6(1),r.Q6J("ngForOf",i.slides),r.xp6(2),r.Q6J("ngForOf",i.slides),r.xp6(1),r.Q6J("ngIf",i.showNavigationArrows),r.xp6(1),r.Q6J("ngIf",i.showNavigationArrows))},directives:[ht,Qe,Di],encapsulation:2,changeDetection:0}),n})();var vg=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(vg||(vg={})),vg))();let UH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),HH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var nn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(nn||(nn={})),nn))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const jH=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zH(n){const t=Array.from(n.querySelectorAll(jH)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(s=this.offset(o,!1)),s.top+=o.clientTop,s.left+=o.clientLeft}return i.top-=s.top,i.bottom-=s.top,i.left-=s.left,i.right-=s.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),s_top=window.pageYOffset-document.documentElement.clientTop,s_left=window.pageXOffset-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+s_top,bottom:i.bottom+s_top,left:i.left+s_left,right:i.right+s_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,s){const[o="top",u="center"]=i.split("-"),p=s?this.offset(t,!1):this.position(t,!1),m=this.getAllStyles(e),b=parseFloat(m.marginTop),w=parseFloat(m.marginBottom),E=parseFloat(m.marginLeft),x=parseFloat(m.marginRight);let k=0,P=0;switch(o){case"top":k=p.top-(e.offsetHeight+b+w);break;case"bottom":k=p.top+p.height;break;case"left":P=p.left-(e.offsetWidth+E+x);break;case"right":P=p.left+p.width}switch(u){case"top":k=p.top;break;case"bottom":k=p.top+p.height-e.offsetHeight;break;case"left":P=p.left;break;case"right":P=p.left+p.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?P=p.left+p.width/2-e.offsetWidth/2:k=p.top+p.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(P)}px, ${Math.round(k)}px)`;const Y=e.getBoundingClientRect(),X=document.documentElement,ke=window.innerHeight||X.clientHeight,Ne=window.innerWidth||X.clientWidth;return Y.left>=0&&Y.top>=0&&Y.right<=Ne&&Y.bottom<=ke}},new Date(1882,10,12),new Date(2174,10,25);let iZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,_R]]}),n})(),aZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),lZ=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(is))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(is))},token:n,providedIn:"root"}),n})();class Tg{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const h9=()=>{};let cZ=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):h9}_adjustBody(e){const i=this._document.body,s=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=s}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const s=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),s}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Z))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Z))},token:n,providedIn:"root"}),n})(),p9=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(R(1)).subscribe(()=>{Ur(this._zone,this._el.nativeElement,(e,i)=>{i&&yv(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ur(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(r.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),r.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class uZ{close(t){}dismiss(t){}}class f9{constructor(t,e,i,s){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new le.xQ,this._dismissed=new le.xQ,this._hidden=new le.xQ,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Pe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Pe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ue.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),AA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var uD=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(uD||(uD={})),uD))();let m9=(()=>{class n{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new le.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new le.xQ,this.hidden=new le.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(R(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=AA(Ur(this._zone,e,()=>e.classList.remove("show"),i),Ur(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};AA(Ur(this._zone,this._elRef.nativeElement,(o,u)=>{u&&yv(o),o.classList.add("show")},e),Ur(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{kn(e,"keydown").pipe(Pe(this._closed$),gt(s=>s.which===nn.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(uD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;kn(this._dialogEl.nativeElement,"mousedown").pipe(Pe(this._closed$),(0,jn.b)(()=>i=!1),fn(()=>kn(e,"mouseup").pipe(Pe(this._closed$),R(1))),gt(({target:s})=>e===s)).subscribe(()=>{i=!0}),kn(e,"click").pipe(Pe(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(uD.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=zH(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ur(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Z),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&r.Gf(iW,7),2&e){let s;r.iGM(s=r.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),r.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),r.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_v,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&e&&r.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),dZ=(()=>{class n{constructor(e,i,s,o,u,p){this._applicationRef=e,this._injector=i,this._document=s,this._scrollBar=o,this._rendererFactory=u,this._ngZone=p,this._activeWindowCmptHasChanged=new le.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const s=kn(t,"focusin").pipe(Pe(e),(0,g.U)(o=>o.target));kn(t,"keydown").pipe(Pe(e),gt(o=>o.which===nn.Tab),D2(s)).subscribe(([o,u])=>{const[p,m]=zH(t);(u===p||u===t)&&o.shiftKey&&(m.focus(),o.preventDefault()),u===m&&!o.shiftKey&&(p.focus(),o.preventDefault())}),i&&kn(t,"click").pipe(Pe(e),D2(s),(0,g.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}open(e,i,s,o){const u=o.container instanceof HTMLElement?o.container:Ip(o.container)?this._document.querySelector(o.container):this._document.body,p=this._rendererFactory.createRenderer(null,null),m=this._scrollBar.compensate(),b=()=>{this._modalRefs.length||(p.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const w=new uZ,E=this._getContentRef(e,o.injector||i,s,w,o);let x=!1!==o.backdrop?this._attachBackdrop(e,u):void 0,k=this._attachWindowComponent(e,u,E),P=new f9(k,E,x,o.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(k),P.result.then(m,m),P.result.then(b,b),w.close=Y=>{P.close(Y)},w.dismiss=Y=>{P.dismiss(Y)},this._applyWindowOptions(k.instance,o),1===this._modalRefs.length&&p.addClass(this._document.body,"modal-open"),x&&x.instance&&(this._applyBackdropOptions(x.instance,o),x.changeDetectorRef.detectChanges()),k.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(p9).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,s){let u=e.resolveComponentFactory(m9).create(this._injector,s.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(e,i){this._windowAttributes.forEach(s=>{Ip(i[s])&&(e[s]=i[s])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(s=>{Ip(i[s])&&(e[s]=i[s])})}_getContentRef(e,i,s,o,u){return s?s instanceof r.Rgc?this._createFromTemplateRef(s,o):function(n){return"string"==typeof n}(s)?this._createFromString(s):this._createFromComponent(e,i,s,o,u):new Tg([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new Tg([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Tg([[i]])}_createFromComponent(e,i,s,o,u){const p=e.resolveComponentFactory(s),m=r.zs3.create({providers:[{provide:uZ,useValue:o}],parent:i}),b=p.create(m),w=b.location.nativeElement;return u.scrollable&&w.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Tg([[w]],b.hostView,b)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(Z),r.LFG(cZ),r.LFG(r.FYo),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.z2F),r.LFG(r.gxx),r.LFG(Z),r.LFG(cZ),r.LFG(r.FYo),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})(),g9=(()=>{class n{constructor(e,i,s,o){this._moduleCFR=e,this._injector=i,this._modalStack=s,this._config=o}open(e,i={}){const s=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(dZ),r.LFG(lZ))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r._Vd),r.LFG(r.gxx),r.LFG(dZ),r.LFG(lZ))},token:n,providedIn:"root"}),n})(),hZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[g9]}),n})(),gZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),TZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),xZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),OZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),NZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})(),PZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let BZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt]]}),n})();const X9=[NH,PH,LH,UH,HH,iZ,aZ,hZ,gZ,TZ,SZ,xZ,AZ,OZ,NZ,PZ,BZ];let eQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[X9,NH,PH,LH,UH,HH,iZ,aZ,hZ,gZ,TZ,SZ,xZ,AZ,OZ,NZ,PZ,BZ]}),n})();const VZ=["*"],UZ=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class iQ{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new rQ(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class rQ{constructor(t,e){this.row=t,this.col=e}}const HZ=new r.OlP("MAT_GRID_LIST");let Z2=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Ht(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Ht(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(HZ,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&r.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:VZ,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},styles:[UZ],encapsulation:2,changeDetection:0}),n})();const sQ=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class q2{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,s){this._gutterSize=ZZ(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=s}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Mg(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let s=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,s,o),this.setRowStyles(t,e,s,o)}setColStyles(t,e,i,s){let o=this.getBaseTileSize(i,s);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Mg(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class oQ extends q2{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,s){super.init(t,e,i,s),this.fixedRowHeight=ZZ(this.fixedRowHeight),sQ.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Mg(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Mg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class aQ extends q2{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,s){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,s),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Mg(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Mg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class lQ extends q2{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Mg(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Mg(n){return`calc(${n})`}function ZZ(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let Y2=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Ht(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new lQ:e&&e.indexOf(":")>-1?new aQ(e):new oQ(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new iQ);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,s),i.forEach((o,u)=>{const p=e.positions[u];this._tileStyler.setStyle(o,p.row,p.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(mn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,Z2,5),2&e){let o;r.iGM(o=r.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[r._Bn([{provide:HZ,useExisting:n}])],ngContentSelectors:VZ,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div"),r.Hsn(1),r.qZA())},styles:[UZ],encapsulation:2,changeDetection:0}),n})(),uQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wA,et],wA,et]}),n})();const dQ=["*",[["mat-card-footer"]]],hQ=["*","mat-card-footer"],pQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],fQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),gl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Dv=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),dD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),_l=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Fn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:hQ,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(dQ),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:fQ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(r.F$t(pQ),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),_Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et],et]}),n})();const qZ=["mat-button",""],YZ=["*"],yQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vQ=ea(Rs(Xs(class{constructor(n){this._elementRef=n}})));let ri=(()=>{class n extends vQ{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of yQ)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(ei),r.Y36(Fn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&r.Gf(Os,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:qZ,ngContentSelectors:YZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),r.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Os],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),pD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pl,et],et]}),n})();const wQ=["ngcarousel"];function CQ(n,t){if(1&n&&(r.TgZ(0,"div",15),r._UZ(1,"img",16),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.s9C("src",e.path,r.LSH)}}function DQ(n,t){1&n&&r.YNc(0,CQ,2,1,"ng-template",14)}function TQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card",18),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-content"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(4),r.Oqu(e.titre),r.xp6(3),r.hij("                ",e.sousTitre,"\n              "),r.xp6(3),r.hij("                ",e.texte,"\n              ")}}function MQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-list",17),r.YNc(1,TQ,11,3,"mat-grid-tile",7),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.actualitesService.messagesVisiteurs)}}function EQ(n,t){if(1&n&&r._UZ(0,"img",20),2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo,r.LSH)}}function SQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card",18),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.YNc(8,EQ,1,1,"img",19),r.TgZ(9,"mat-card-content"),r.TgZ(10,"pre"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(4),r.Oqu(e.titre),r.xp6(3),r.hij("                ",e.sousTitre,"\n              "),r.xp6(1),r.Q6J("ngIf",e.photo),r.xp6(3),r.hij("                ",e.texte,"\n              ")}}function xQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-list",17),r.YNc(1,SQ,12,4,"mat-grid-tile",7),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.actualitesService.actualites)}}function AQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function kQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function IQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function RQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}function OQ(n,t){if(1&n&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("                ",e.listeEleves.substring(0,300)," ...\n              ")}}function NQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"img",24),r.TgZ(8,"mat-card-content"),r.YNc(9,OQ,2,1,"pre",23),r.TgZ(10,"p"),r._uU(11,"Photo \xe0 voir dans la rubrique Photos de classes"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(4),r.Oqu(e.annee),r.xp6(2),r.Oqu(e.titre),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(2),r.Q6J("ngIf",e.listeEleves)}}function PQ(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,NQ,12,4,"mat-grid-tile",23),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.photoCourante&&e<i.photoCourante+i.pasPhotos)}}function FQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function LQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function BQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function VQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}function UQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementeArticle()}),r._uU(1,"<<"),r.qZA()}}function HQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function ZQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementeArticle()}),r._uU(1,">>"),r.qZA()}}function qQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}function YQ(n,t){if(1&n&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("                  ",e.texte.substring(0,300)," ...\n                ")}}function GQ(n,t){if(1&n&&(r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"img",25),r.TgZ(8,"mat-card-content"),r.YNc(9,YQ,2,1,"pre",23),r.TgZ(10,"p"),r._uU(11,"Article \xe0 lire dans les rubriques Articles"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(4),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.legende),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(2),r.Q6J("ngIf",e.texte)}}function jQ(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,GQ,12,4,"mat-grid-tile",23),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.articleCourant&&e<i.articleCourant+i.pasArticles)}}function zQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementeArticle()}),r._uU(1,"<<"),r.qZA()}}function $Q(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,"<<"),r.qZA())}function WQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementeArticle()}),r._uU(1,">>"),r.qZA()}}function JQ(n,t){1&n&&(r.TgZ(0,"button",22),r._uU(1,">>"),r.qZA())}let QQ=(()=>{class n{constructor(e,i,s,o){this.photosService=e,this.articlesService=i,this.actualitesService=s,this.authService=o,this.photos=[],this.articleCourant=0,this.photoCourante=0,this.pasPhotos=4,this.pasArticles=4,this.pageCourantePhoto=1,this.pageCouranteArticle=1,this.nbPagesPhotos=0,this.nbPagesArticles=0,this.isConnected=!1,this.articlesService.getArticles(),this.photosService.getPhotos(),this.authSubscription=this.authService.authSubject.subscribe(u=>{this.isConnected=u&&"Visiteur"!=u.email}),this.authService.emitUserChanged(),this.photosSubscription=this.photosService.photoSubject.subscribe(u=>{this.photos=u,this.nbPagesPhotos=Math.ceil(u.length/this.pasPhotos)}),this.photosCarouselSubscription=this.photosService.photosCarouselSubject.subscribe(u=>{}),this.photosService.getPhotosCarousel(),this.articlesSubscription=this.articlesService.articlesSubject.subscribe(u=>{this.nbPagesArticles=Math.ceil(this.articlesService.articles.length/this.pasArticles)}),this.articlesService.emitArticles(),this.actualitesSubscription=this.actualitesService.actualitesSubject.subscribe(u=>{}),this.actualitesService.getActualites()}ngOnInit(){}ngOnDestroy(){null!=this.photosSubscription&&this.photosSubscription.unsubscribe(),null!=this.articlesSubscription&&this.articlesSubscription.unsubscribe()}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onIncrementePhoto(){this.photoCourante+=this.pasArticles,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1,console.log(this.photoCourante)}onDecrementeArticle(){this.articleCourant-=this.pasArticles,this.pageCouranteArticle=Math.ceil(this.articleCourant/this.pasArticles)+1}onIncrementeArticle(){this.articleCourant+=this.pasArticles,this.pageCouranteArticle=Math.ceil(this.articleCourant/this.pasArticles)+1}prevSlide(){this.ngCarousel.prev()}nextSlide(){this.ngCarousel.next()}stopSlider(){this.ngCarousel.pause()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mc),r.Y36(sd),r.Y36(eA),r.Y36(Mr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-accueil"]],viewQuery:function(e,i){if(1&e&&r.Gf(wQ,7),2&e){let s;r.iGM(s=r.CRH())&&(i.ngCarousel=s.first)}},decls:46,vars:42,consts:[["label","Accueil"],[2,"height","43%",3,"cellSpacing","cellPadding"],[1,"texte-entete",3,"width"],["src","../../assets/images/blason/blason.gif","alt","","height","250",2,"align-items","center"],[3,"width","height"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard","pauseOnHover","wrap","activeId"],["ngCarousel",""],[4,"ngFor","ngForOf"],["cols","3",4,"ngIf"],["label","Photos de classes"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],["label","Articles sur Mori\xe8res"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","",2,"width","600px",3,"src"],["cols","3"],["fxFlex","20",1,"card"],["mat-card-image","","class","img",3,"src",4,"ngIf"],["mat-card-image","",1,"img",3,"src"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-image","","alt","Photo de classe",3,"src"],["mat-card-image","","alt","Photo",3,"src"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-tab-group"),r.TgZ(1,"mat-tab",0),r.TgZ(2,"table",1),r.TgZ(3,"tr"),r.TgZ(4,"td",2),r._UZ(5,"img",3),r.qZA(),r.TgZ(6,"td",2),r._uU(7," M\xe9moire Mori\xe9roise "),r._UZ(8,"br"),r._uU(9," Association r\xe9gie par la loi de 1901 "),r._UZ(10,"br"),r._uU(11," 1375 route de Gadagne "),r._UZ(12,"br"),r._uU(13," 84310 Mori\xe8res les Avignon "),r.qZA(),r.TgZ(14,"td",4),r.TgZ(15,"ngb-carousel",5,6),r.YNc(17,DQ,1,0,void 0,7),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(18,MQ,2,1,"mat-grid-list",8),r.YNc(19,xQ,2,1,"mat-grid-list",8),r.qZA(),r.TgZ(20,"mat-tab",9),r.YNc(21,AQ,2,0,"button",10),r.YNc(22,kQ,2,0,"button",11),r._uU(23),r.YNc(24,IQ,2,0,"button",10),r.YNc(25,RQ,2,0,"button",11),r.TgZ(26,"mat-grid-list",12),r.YNc(27,PQ,2,1,"div",7),r.qZA(),r.YNc(28,FQ,2,0,"button",10),r.YNc(29,LQ,2,0,"button",11),r._uU(30),r.YNc(31,BQ,2,0,"button",10),r.YNc(32,VQ,2,0,"button",11),r.qZA(),r.TgZ(33,"mat-tab",13),r.YNc(34,UQ,2,0,"button",10),r.YNc(35,HQ,2,0,"button",11),r._uU(36),r.YNc(37,ZQ,2,0,"button",10),r.YNc(38,qQ,2,0,"button",11),r.TgZ(39,"mat-grid-list",12),r.YNc(40,jQ,2,1,"div",7),r.qZA(),r.YNc(41,zQ,2,0,"button",10),r.YNc(42,$Q,2,0,"button",11),r._uU(43),r.YNc(44,WQ,2,0,"button",10),r.YNc(45,JQ,2,0,"button",11),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("cellSpacing",0)("cellPadding",30),r.xp6(2),r.Q6J("width",300),r.xp6(2),r.Q6J("width",300),r.xp6(8),r.Q6J("width",700)("height",600),r.xp6(1),r.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!1)("interval",3e3)("keyboard",!1)("pauseOnHover",!0)("wrap",!0)("activeId","1"),r.xp6(2),r.Q6J("ngForOf",i.photosService.photosCarousel),r.xp6(1),r.Q6J("ngIf",!i.isConnected),r.xp6(1),r.Q6J("ngIf",i.isConnected),r.xp6(2),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE(" Page ",i.pageCourantePhoto," sur ",i.nbPagesPhotos," "),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos),r.xp6(2),r.Q6J("ngForOf",i.photosService.photos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE(" Page ",i.pageCourantePhoto," sur ",i.nbPagesPhotos," "),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos),r.xp6(2),r.Q6J("ngIf",i.pageCouranteArticle>1),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<=1),r.xp6(1),r.AsE(" Page ",i.pageCouranteArticle," sur ",i.nbPagesArticles," "),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<i.nbPagesArticles),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle>=i.nbPagesArticles),r.xp6(2),r.Q6J("ngForOf",i.articlesService.articles),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle>1),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<=1),r.xp6(1),r.AsE(" Page ",i.pageCouranteArticle," sur ",i.nbPagesArticles," "),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle<i.nbPagesArticles),r.xp6(1),r.Q6J("ngIf",i.pageCouranteArticle>=i.nbPagesArticles))},directives:[_H,C2,VH,ht,Qe,Y2,k2,Z2,_l,hD,gl,ud,cd,dD,ri],styles:[".card[_ngcontent-%COMP%]{background-color:#313131;height:100%}.img[_ngcontent-%COMP%]{object-fit:fill;height:40%;max-height:40%;max-width:60%}mat-grid-tile[_ngcontent-%COMP%]{margin:20px}mat-grid-list[_ngcontent-%COMP%]{max-width:97%;vertical-align:top}.header-image[_ngcontent-%COMP%]{vertical-align:top}button[_ngcontent-%COMP%]{font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:50px}pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;font-size:1.6vh;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}"]}),n})();const jZ="firebasestorage.googleapis.com",zZ="storageBucket";class lr extends Lt.ZR{constructor(t,e){super(G2(t),`Firebase Storage: ${e} (${G2(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}_codeEquals(t){return G2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function G2(n){return"storage/"+n}function j2(){return new lr("unknown","An unknown error occurred, please check the error payload for server response.")}function $Z(){return new lr("canceled","User canceled the upload/download.")}function WZ(){return new lr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tv(n){return new lr("invalid-argument",n)}function JZ(){return new lr("app-deleted","The Firebase app was deleted.")}function QZ(n){return new lr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fD(n,t){return new lr("invalid-format","String does not match format '"+n+"': "+t)}function mD(n){throw new lr("internal-error","Internal error: "+n)}class Ns{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ns.makeFromUrl(t,e)}catch(s){return new Ns(t,"")}if(""===i.path)return i;throw function(n){return new lr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+s+"(/(.*))?$","i");function b(je){je.path_=decodeURIComponent(je.path)}const E=e.replace(/[.]/g,"\\."),Fe=[{regex:p,indices:{bucket:1,path:3},postModify:function(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===jZ?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let je=0;je<Fe.length;je++){const _n=Fe[je],Pi=_n.regex.exec(t);if(Pi){let Fi=Pi[_n.indices.path];Fi||(Fi=""),i=new Ns(Pi[_n.indices.bucket],Fi),_n.postModify(i);break}}if(null==i)throw function(n){return new lr("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class dK{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ZA(n){return"string"==typeof n||n instanceof String}function KZ(n){return z2()&&n instanceof Blob}function z2(){return"undefined"!=typeof Blob}function $2(n,t,e,i){if(i<t)throw Tv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Tv(`Invalid value for '${n}'. Expected ${e} or less.`)}function dd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function XZ(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Op=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Op||(Op={})),Op))();class _K{constructor(t,e,i,s,o,u,p,m,b,w,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=m,this.timeout_=b,this.progressCallback_=w,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(i,s)=>{const o=this.resolve_,u=this.reject_,p=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());!function(n){return void 0!==n}(m)?o():o(m)}catch(m){u(m)}else if(null!==p){const m=j2();m.serverResponse=p.getErrorText(),u(this.errorCallback_?this.errorCallback_(p,m):m)}else u(s.canceled?this.appDelete_?JZ():$Z():new lr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new qA(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,s=null,o=null,u=!1,p=0;function m(){return 2===p}let b=!1;function w(...X){b||(b=!0,t.apply(null,X))}function E(X){s=setTimeout(()=>{s=null,n(k,m())},X)}function x(){o&&clearTimeout(o)}function k(X,...ke){if(b)return void x();if(X)return x(),void w.call(null,X,...ke);if(m()||u)return x(),void w.call(null,X,...ke);let Fe;i<64&&(i*=2),1===p?(p=2,Fe=0):Fe=1e3*(i+Math.random()),E(Fe)}let P=!1;function Y(X){P||(P=!0,x(),!b&&(null!==s?(X||(p=2),clearTimeout(s),E(0)):X||(p=1)))}return E(0),o=setTimeout(()=>{u=!0,Y(!0)},e),Y}((i,s)=>{if(s)return void i(!1,new qA(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const p=o.getErrorCode()===Op.NO_ERROR,m=o.getStatus();if(!p||this.isRetryStatusCode_(m)){const w=o.getErrorCode()===Op.ABORT;return void i(!1,new qA(!1,null,w))}const b=-1!==this.successCodes_.indexOf(m);i(!0,new qA(b,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,s=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||s||o}}class qA{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function TK(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(z2())return new Blob(n);throw new lr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class W2{constructor(t,e){this.data=t,this.contentType=e||null}}function J2(n,t){switch(n){case ta.RAW:return new W2(eq(t));case ta.BASE64:case ta.BASE64URL:return new W2(tq(n,t));case ta.DATA_URL:return new W2(function(n){const t=new nq(n);return t.base64?tq(ta.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw fD(ta.DATA_URL,"Malformed data URL.")}return eq(t)}(t.rest)}(t),function(n){return new nq(n).contentType}(t))}throw j2()}function eq(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function tq(n,t){switch(n){case ta.BASE64:{const s=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(s||o)throw fD(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ta.BASE64URL:{const s=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(s||o)throw fD(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(s){throw fD(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}class nq{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw fD(ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class Ac{constructor(t,e){let i=0,s="";KZ(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(KZ(this.data_)){const s=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===s?null:new Ac(s)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Ac(i,!0)}}static getBlob(...t){if(z2()){const e=t.map(i=>i instanceof Ac?i.data_:i);return new Ac(TK.apply(null,e))}{const e=t.map(u=>ZA(u)?J2(ta.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let p=0;p<u.length;p++)s[o++]=u[p]}),new Ac(s,!0)}}uploadData(){return this.data_}}function Q2(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function iq(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function OK(n,t){return t}class to{constructor(t,e,i,s){this.server=t,this.local=e||t,this.writable=!!i,this.xform=s||OK}}let YA=null;function gD(){if(YA)return YA;const n=[];n.push(new to("bucket")),n.push(new to("generation")),n.push(new to("metageneration")),n.push(new to("name","fullPath",!0));const e=new to("name");e.xform=function(o,u){return function(n){return!ZA(n)||n.length<2?n:iq(n)}(u)},n.push(e);const s=new to("size");return s.xform=function(o,u){return void 0!==u?Number(u):u},n.push(s),n.push(new to("timeCreated")),n.push(new to("updated")),n.push(new to("md5Hash",null,!0)),n.push(new to("cacheControl",null,!0)),n.push(new to("contentDisposition",null,!0)),n.push(new to("contentEncoding",null,!0)),n.push(new to("contentLanguage",null,!0)),n.push(new to("contentType",null,!0)),n.push(new to("metadata","customMetadata",!0)),YA=n,YA}function rq(n,t,e){const i=Q2(t);return null===i?null:function(n,t,e){const i={type:"file"},s=e.length;for(let o=0;o<s;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const o=new Ns(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function K2(n,t){const e={},i=t.length;for(let s=0;s<i;s++){const o=t[s];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const sq="prefixes";class kc{constructor(t,e,i,s){this.url=t,this.method=e,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ic(n){if(!n)throw j2()}function GA(n,t){return function(i,s){const o=rq(n,s,t);return Ic(null!==o),o}}function Mv(n){return function(e,i){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new lr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new lr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new lr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new lr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,s.serverResponse=i.serverResponse,s}}function _D(n){const t=Mv(n);return function(i,s){let o=t(i,s);return 404===i.getStatus()&&(o=function(n){return new lr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=s.serverResponse,o}}function aq(n,t,e){const s=dd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,p=new kc(s,"GET",GA(n,e),u);return p.errorHandler=_D(t),p}function ZK(n,t,e,i,s){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),s&&(o.maxResults=s);const p=dd(t.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,w=new kc(p,"GET",function(n,t){return function(i,s){const o=function(n,t,e){const i=Q2(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[sq])for(const s of e[sq]){const o=s.replace(/\/$/,""),u=n._makeStorageReference(new Ns(t,o));i.prefixes.push(u)}if(e.items)for(const s of e.items){const o=n._makeStorageReference(new Ns(t,s.name));i.items.push(o)}return i}(n,t,i)}(n,t,s);return Ic(null!==o),o}}(n,t.bucket),b);return w.urlParams=o,w.errorHandler=Mv(t),w}function cq(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class jA{constructor(t,e,i,s){this.current=t,this.total=e,this.finalized=!!i,this.metadata=s||null}}function X2(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){Ic(!1)}return Ic(!!e&&-1!==(t||["active"]).indexOf(e)),e}const JK={STATE_CHANGED:"state_changed"},no={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eL(n){switch(n){case"running":case"pausing":case"canceling":return no.RUNNING;case"paused":return no.PAUSED;case"success":return no.SUCCESS;case"canceled":return no.CANCELED;case"error":default:return no.ERROR}}class QK{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Ev(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class XK extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Op.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Op.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Op.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,s){if(this.sent_)throw mD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==s)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw mD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function bl(){return new XK}class pq{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=gD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,s){const o=t.bucketOnlyServerUrl(),u=cq(t,i,s),p={name:u.fullPath},m=dd(o,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},E=K2(u,e),P=new kc(m,"POST",function(Y){let X;X2(Y);try{X=Y.getResponseHeader("X-Goog-Upload-URL")}catch(ke){Ic(!1)}return Ic(ZA(X)),X},n.maxUploadRetryTime);return P.urlParams=p,P.headers=w,P.body=E,P.errorHandler=Mv(t),P}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,bl,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const s=function(n,t,e,i){const m=new kc(e,"POST",function(b){const w=X2(b,["active","final"]);let E=null;try{E=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(k){Ic(!1)}E||Ic(!1);const x=Number(E);return Ic(!isNaN(x)),new jA(x,i.size(),"final"===w)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Mv(t),m}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(s,bl,e,i);this._request=o,o.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new jA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let u;try{u=function(n,t,e,i,s,o,u,p){const m=new jA(0,0);if(u?(m.current=u.current,m.total=u.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw new lr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const b=m.total-m.current;let w=b;s>0&&(w=Math.min(w,s));const E=m.current,P={"X-Goog-Upload-Command":w===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${m.current}`},Y=i.slice(E,E+w);if(null===Y)throw WZ();const Fe=new kc(e,"POST",function(je,_n){const Pi=X2(je,["active","final"]),Ci=m.current+w,Fi=i.size();let ia;return ia="final"===Pi?GA(t,o)(je,_n):null,new jA(Ci,Fi,"final"===Pi,ia)},t.maxUploadRetryTime);return Fe.headers=P,Fe.body=Y.uploadData(),Fe.progressCallback=p||null,Fe.errorHandler=Mv(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const p=this._ref.storage._makeRequest(u,bl,s,o);this._request=p,p.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=aq(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,bl,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,s){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},m=function(){let Fe="";for(let je=0;je<2;je++)Fe+=Math.random().toString().slice(2);return Fe}();u["Content-Type"]="multipart/related; boundary="+m;const b=cq(t,i,s),w=K2(b,e),k=Ac.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+m+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===k)throw WZ();const P={name:b.fullPath},Y=dd(o,n.host,n._protocol),ke=n.maxUploadRetryTime,Ne=new kc(Y,"POST",GA(n,e),ke);return Ne.urlParams=P,Ne.headers=u,Ne.body=k.uploadData(),Ne.errorHandler=Mv(t),Ne}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,bl,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=$Z(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=eL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,s){const o=new QK(e||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(eL(this._state)){case no.SUCCESS:Ev(this._resolve.bind(null,this.snapshot))();break;case no.CANCELED:case no.ERROR:Ev(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(eL(this._state)){case no.RUNNING:case no.PAUSED:t.next&&Ev(t.next.bind(t,this.snapshot))();break;case no.SUCCESS:t.complete&&Ev(t.complete.bind(t))();break;case no.CANCELED:case no.ERROR:t.error&&Ev(t.error.bind(t,this._error))();break;default:t.error&&Ev(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Eg{constructor(t,e){this._service=t,this._location=e instanceof Ns?e:Ns.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Eg(t,e)}get root(){const t=new Ns(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iq(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ns(this._location.bucket,t);return new Eg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw QZ(t)}}function mq(n,t,e){return tL.apply(this,arguments)}function tL(){return(tL=(0,ve.Z)(function*(n,t,e){const s=yield gq(n,{pageToken:e});t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&(yield mq(n,t,s.nextPageToken))})).apply(this,arguments)}function gq(n,t){null!=t&&"number"==typeof t.maxResults&&$2("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=ZK(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,bl)}function dX(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const s=dd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,p=new kc(s,"GET",function(n,t){return function(i,s){const o=rq(n,s,t);return Ic(null!==o),function(n,t,e,i){const s=Q2(t);if(null===s||!ZA(s.downloadTokens))return null;const o=s.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(b=>{const E=n.fullPath;return dd("/b/"+u(n.bucket)+"/o/"+u(E),e,i)+XZ({alt:"media",token:b})})[0]}(o,s,n.host,n._protocol)}}(n,e),u);return p.errorHandler=_D(t),p}(n.storage,n._location,gD());return n.storage.makeRequestWithTokens(t,bl).then(e=>{if(null===e)throw new lr("no-download-url","The given file does not have any download URLs.");return e})}function _q(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ns(n._location.bucket,e);return new Eg(n.storage,i)}function bq(n,t){if(n instanceof nL){const e=n;if(null==e._bucket)throw new lr("no-default-bucket","No default bucket found. Did you set the '"+zZ+"' property when initializing the app?");const i=new Eg(e,e._bucket);return null!=t?bq(i,t):i}return void 0!==t?_q(n,t):n}function mX(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof nL)return function(n,t){return new Eg(n,t)}(n,t);throw Tv("To use ref(service, url), the first argument must be a Storage instance.")}return bq(n,t)}function yq(n,t){const e=null==t?void 0:t[zZ];return null==e?null:Ns.makeFromBucketSpec(e,n)}class nL{constructor(t,e,i,s,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=jZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Ns.makeFromBucketSpec(s,this._host):yq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,t):yq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$2("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$2("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ve.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ve.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Eg(this,t)}_makeRequest(t,e,i,s){if(this._deleted)return new dK(JZ());{const o=function(n,t,e,i,s,o){const u=XZ(n.urlParams),p=n.url+u,m=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(m,o),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,i),new _K(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(t,this._appId,i,s,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ve.Z)(function*(){const[s,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,s,o).getPromise()})()}}const vq="@firebase/storage";function Dq(n,t){return mX(n=(0,Lt.m9)(n),t)}(0,oc._registerComponent)(new ac.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new nL(e,i,s,t,oc.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,oc.registerVersion)(vq,"0.9.2",""),(0,oc.registerVersion)(vq,"0.9.2","esm2017");class zA{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Tq{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new zA(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new zA(i,this,this._ref))},e)}on(t,e,i,s){let o;return e&&(o="function"==typeof e?u=>e(new zA(u,this,this._ref)):{next:e.next?u=>e.next(new zA(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,s||void 0)}}class Mq{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new hd(t,this._service))}get items(){return this._delegate.items.map(t=>new hd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class hd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return _q(n,t)}(this._delegate,t);return new hd(e,this.storage)}get root(){return new hd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new hd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Tq(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new pq(n,new Ac(t),e)}(n=(0,Lt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ta.RAW,i){this._throwIfRoot("putString");const s=J2(e,t),o=Object.assign({},i);return null==o.contentType&&null!=s.contentType&&(o.contentType=s.contentType),new Tq(new pq(this._delegate,new Ac(s.data,!0),o),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return mq(n,t).then(()=>t)}(n=(0,Lt.m9)(n))}(this._delegate).then(t=>new Mq(t,this.storage))}list(t){return function(n,t){return gq(n=(0,Lt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Mq(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=aq(n.storage,n._location,gD());return n.storage.makeRequestWithTokens(t,bl)}(n=(0,Lt.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const o=dd(t.fullServerUrl(),n.host,n._protocol),p=K2(e,i),b=n.maxOperationRetryTime,w=new kc(o,"PATCH",GA(n,i),b);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=p,w.errorHandler=_D(t),w}(n.storage,n._location,t,gD());return n.storage.makeRequestWithTokens(e,bl)}(n=(0,Lt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return dX(n=(0,Lt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=dd(t.fullServerUrl(),n.host,n._protocol),p=new kc(i,"DELETE",function(m,b){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=_D(t),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,bl)}(n=(0,Lt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw QZ(t)}}class Eq{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Sq(t))throw Tv("ref() expected a child path but got a URL, use refFromURL instead.");return new hd(Dq(this._delegate,t),this)}refFromURL(t){if(!Sq(t))throw Tv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ns.makeFromUrl(t,this._delegate.host)}catch(e){throw Tv("refFromUrl() expected a valid full URL but got an invalid one.")}return new hd(Dq(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Lt.Sg)(s,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function Sq(n){return/^[A-Za-z]+:\/\//.test(n)}function IX(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Eq(e,i)}function xq(n){const t=function(n){return new Mn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const o=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){o()}}).pipe(Fl(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,g.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function $A(n){return{getDownloadURL:()=>(0,Ue.of)(void 0).pipe(di.fc,fn(()=>n.getDownloadURL()),di.iC),getMetadata:()=>(0,Ue.of)(void 0).pipe(di.fc,fn(()=>n.getMetadata()),di.iC),delete:()=>(0,On.D)(n.delete()),child:t=>$A(n.child(t)),updateMetadata:t=>(0,On.D)(n.updateMetadata(t)),put:(t,e)=>xq(n.put(t,e)),putString:(t,e,i)=>xq(n.putString(t,e,i)),listAll:()=>(0,On.D)(n.listAll())}}!function(n){const t={TaskState:no,TaskEvent:JK,StringFormat:ta,Storage:Eq,Reference:hd};n.INTERNAL.registerComponent(new ac.wA("storage-compat",IX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(cS.Z);const NX=new r.OlP("angularfire2.storageBucket"),PX=new r.OlP("angularfire2.storage.maxUploadRetryTime"),FX=new r.OlP("angularfire2.storage.maxOperationRetryTime"),LX=new r.OlP("angularfire2.storage.use-emulator");let Np=(()=>{class n{constructor(e,i,s,o,u,p,m,b,w){const E=(0,Co.on)(e,u,i);this.storage=(0,di.cc)(`${E.name}.storage.${s}`,"AngularFireStorage",E.name,()=>{const x=u.runOutsideAngular(()=>E.storage(s||void 0)),k=w;return k&&x.useEmulator(...k),m&&x.setMaxUploadRetryTime(m),b&&x.setMaxOperationRetryTime(b),x},[m,b])}ref(e){return $A(this.storage.ref(e))}refFromURL(e){return $A(this.storage.refFromURL(e))}upload(e,i,s){return $A(this.storage.ref(e)).put(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(NX,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(di.HU),r.LFG(PX,8),r.LFG(FX,8),r.LFG(LX,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),VX=(()=>{class n{constructor(){vV.Z.registerVersion("angularfire",di.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Np],imports:[BX]}),n})();var Et=N(4762);new r.OlP("ngx-mat-file-input.config");class WA{constructor(t,e=", "){this._files=t,this.delimiter=e,this._fileNames=(this._files||[]).map(i=>i.name).join(e)}get files(){return this._files||[]}get fileNames(){return this._fileNames}}const ZX=Q1(class{constructor(t,e,i,s){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}});var JA;let qn=JA=class extends ZX{constructor(t,e,i,s,o,u,p){super(s,u,p,o),this.fm=t,this._elementRef=e,this._renderer=i,this._defaultErrorStateMatcher=s,this.ngControl=o,this._parentForm=u,this._parentFormGroup=p,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.accept=null,this.id="ngx-mat-file-input-"+JA.nextId++,this.describedBy="",this._onChange=m=>{},this._onTouched=()=>{},null!=this.ngControl&&(this.ngControl.valueAccessor=this),t.monitor(e.nativeElement,!0).subscribe(m=>{this.focused=!!m,this.stateChanges.next()})}setDescribedByIds(t){this.describedBy=t.join(" ")}get value(){return this.empty?null:new WA(this._elementRef.nativeElement.value||[])}set value(t){t&&(this.writeValue(t),this.stateChanges.next())}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get empty(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length}get shouldLabelFloat(){return this.focused||!this.empty||void 0!==this.valuePlaceholder}get required(){return this._required}set required(t){this._required=Me(t),this.stateChanges.next()}get isDisabled(){return this.disabled}get disabled(){return this._elementRef.nativeElement.disabled}set disabled(t){this.setDisabledState(Me(t)),this.stateChanges.next()}onContainerClick(t){"input"!==t.target.tagName.toLowerCase()&&!this.disabled&&(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())}get fileNames(){return this.value?this.value.fileNames:this.valuePlaceholder}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",t instanceof WA?t.files:null)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}clear(t){t&&(t.preventDefault(),t.stopPropagation()),this.value=new WA([]),this._elementRef.nativeElement.querySelector("input").value=null,this._onChange(this.value)}change(t){const e=t.target.files,i=[];if(e)for(let s=0;s<e.length;s++)i.push(e[s]);this.value=new WA(i),this._onChange(this.value)}blur(){this.focused=!1,this._onTouched()}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}ngOnInit(){this.multiple=Me(this.multiple)}open(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()}ngOnDestroy(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}};qn.\u0275fac=function(t){return new(t||qn)(r.Y36(ei),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(eo),r.Y36(fs,10),r.Y36(Ys,8),r.Y36(ui,8))},qn.\u0275cmp=r.Xpm({type:qn,selectors:[["ngx-mat-file-input"]],hostVars:6,hostBindings:function(t,e){1&t&&r.NdJ("change",function(s){return e.change(s)})("focusout",function(){return e.blur()}),2&t&&(r.Ikx("id",e.id),r.uIk("aria-describedby",e.describedBy),r.ekj("mat-form-field-should-float",e.shouldLabelFloat)("file-input-disabled",e.isDisabled))},inputs:{autofilled:"autofilled",accept:"accept",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",multiple:"multiple",valuePlaceholder:"valuePlaceholder",errorStateMatcher:"errorStateMatcher"},features:[r._Bn([{provide:yg,useExisting:JA}]),r.qOj],decls:4,vars:4,consts:[["type","file"],["input",""],[1,"filename",3,"title"]],template:function(t,e){1&t&&(r._UZ(0,"input",0,1),r.TgZ(2,"span",2),r._uU(3),r.qZA()),2&t&&(r.uIk("multiple",e.multiple?"":null)("accept",e.accept),r.xp6(2),r.Q6J("title",e.fileNames),r.xp6(1),r.Oqu(e.fileNames))},styles:["[_nghost-%COMP%]{display:inline-block;width:100%}[_nghost-%COMP%]:not(.file-input-disabled){cursor:pointer}input[_ngcontent-%COMP%]{width:0;height:0;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),qn.nextId=0,qn.ctorParameters=()=>[{type:ei},{type:r.SBq},{type:r.Qsj},{type:eo},{type:fs,decorators:[{type:r.FiY},{type:r.PiD}]},{type:Ys,decorators:[{type:r.FiY}]},{type:ui,decorators:[{type:r.FiY}]}],(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object)],qn.prototype,"autofilled",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",String)],qn.prototype,"valuePlaceholder",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Boolean)],qn.prototype,"multiple",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object)],qn.prototype,"accept",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",eo)],qn.prototype,"errorStateMatcher",void 0),(0,Et.gn)([(0,r.pfw)(),(0,Et.w6)("design:type",Object)],qn.prototype,"id",void 0),(0,Et.gn)([(0,r.pfw)("attr.aria-describedby"),(0,Et.w6)("design:type",Object)],qn.prototype,"describedBy",void 0),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[Object])],qn.prototype,"value",null),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[Object])],qn.prototype,"placeholder",null),(0,Et.gn)([(0,r.pfw)("class.mat-form-field-should-float"),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[])],qn.prototype,"shouldLabelFloat",null),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Boolean),(0,Et.w6)("design:paramtypes",[Boolean])],qn.prototype,"required",null),(0,Et.gn)([(0,r.pfw)("class.file-input-disabled"),(0,Et.w6)("design:type",Object),(0,Et.w6)("design:paramtypes",[])],qn.prototype,"isDisabled",null),(0,Et.gn)([(0,r.IIB)(),(0,Et.w6)("design:type",Boolean),(0,Et.w6)("design:paramtypes",[Boolean])],qn.prototype,"disabled",null),(0,Et.gn)([(0,r.L6J)("change",["$event"]),(0,Et.w6)("design:type",Function),(0,Et.w6)("design:paramtypes",[Event]),(0,Et.w6)("design:returntype",void 0)],qn.prototype,"change",null),(0,Et.gn)([(0,r.L6J)("focusout"),(0,Et.w6)("design:type",Function),(0,Et.w6)("design:paramtypes",[]),(0,Et.w6)("design:returntype",void 0)],qn.prototype,"blur",null),qn=JA=(0,Et.gn)([(0,Et.fM)(4,(0,r.FiY)()),(0,Et.fM)(4,(0,r.PiD)()),(0,Et.fM)(5,(0,r.FiY)()),(0,Et.fM)(6,(0,r.FiY)()),(0,Et.w6)("design:paramtypes",[ei,r.SBq,r.Qsj,eo,fs,Ys,ui])],qn);let qX=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[ei]}),n})();var kq;!function(n){n.maxContentSize=function(i){return s=>{const o=s&&s.value?s.value.files.map(p=>p.size).reduce((p,m)=>p+m,0):0;return i>=o?null:{maxContentSize:{actualSize:o,maxSize:i}}}},n.allowedExtensions=function(i){return s=>s&&s.value&&s.value.files.every(u=>{const p=u.name.split(".");return-1!==i.indexOf(p[p.length-1])})?null:{allowedExtensions:i}}}(kq||(kq={}));var YX=N(205);class Iq{}class pd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),o=s.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(p=>-1===o.indexOf(p)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class GX{encodeKey(t){return Oq(t)}encodeValue(t){return Oq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zX=/%(\d[a-f0-9])/gi,$X={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Oq(n){return encodeURIComponent(n).replace(zX,(t,e)=>{var i;return null!==(i=$X[e])&&void 0!==i?i:t})}function Nq(n){return`${n}`}class Pp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new GX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[u,p]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],m=e.get(u)||[];m.push(p),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Nq(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(Nq(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class WX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Pq(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Fq(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Lq(n){return"undefined"!=typeof FormData&&n instanceof FormData}class bD{constructor(t,e,i,s){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pd),this.context||(this.context=new WX),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+u}}else this.params=new Pp,this.urlWithParams=e}serializeBody(){return null===this.body?null:Pq(this.body)||Fq(this.body)||Lq(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lq(this.body)?null:Fq(this.body)?this.body.type||null:Pq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,w=t.params||this.params;const E=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((x,k)=>x.set(k,t.setHeaders[k]),b)),t.setParams&&(w=Object.keys(t.setParams).reduce((x,k)=>x.set(k,t.setParams[k]),w)),new bD(i,s,u,{params:w,headers:b,context:E,reportProgress:m,responseType:o,withCredentials:p})}}var Er=(()=>((Er=Er||{})[Er.Sent=0]="Sent",Er[Er.UploadProgress=1]="UploadProgress",Er[Er.ResponseHeader=2]="ResponseHeader",Er[Er.DownloadProgress=3]="DownloadProgress",Er[Er.Response=4]="Response",Er[Er.User=5]="User",Er))();class QA extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new pd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Er.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new QA({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function sL(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let KA=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let o;if(e instanceof bD)o=e;else{let m,b;m=s.headers instanceof pd?s.headers:new pd(s.headers),s.params&&(b=s.params instanceof Pp?s.params:new Pp({fromObject:s.params})),o=new bD(e,i,void 0!==s.body?s.body:null,{headers:m,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const u=(0,Ue.of)(o).pipe(Rh(m=>this.handler.handle(m)));if(e instanceof bD||"events"===s.observe)return u;const p=u.pipe(gt(m=>m instanceof QA));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return p.pipe((0,g.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return p.pipe((0,g.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return p.pipe((0,g.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));case"json":default:return p.pipe((0,g.U)(m=>m.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Pp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,sL(s,i))}post(e,i,s={}){return this.request("POST",e,sL(s,i))}put(e,i,s={}){return this.request("PUT",e,sL(s,i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Iq))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const ree=["*"];function qq(n){return Error(`Unable to find icon with the name "${n}"`)}function Yq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Gq(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Sg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let XA=(()=>{class n{constructor(e,i,s,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,o){return this._addSvgIconConfig(e,i,new Sg(s,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,o){const u=this._sanitizer.sanitize(r.q3G.HTML,s);if(!u)throw Gq(s);return this._addSvgIconConfig(e,i,new Sg("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new Sg(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const o=this._sanitizer.sanitize(r.q3G.HTML,i);if(!o)throw Gq(i);return this._addSvgIconSetConfig(e,new Sg("",o,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!i)throw Yq(e);const s=this._cachedIconsByUrl.get(i);return s?(0,Ue.of)(ek(s)):this._loadSvgIconFromConfig(new Sg(e,null)).pipe((0,jn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,g.U)(o=>ek(o)))}getNamedSvgIcon(e,i=""){const s=jq(i,e);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):(0,YX._)(qq(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ue.of)(ek(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,g.U)(i=>ek(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?(0,Ue.of)(s):pw(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(sl(p=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,u.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(b)),(0,Ue.of)(null)})))).pipe((0,g.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw qq(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.svgText&&o.svgText.indexOf(e)>-1){const u=this._svgElementFromConfig(o),p=this._extractSvgIconFromSet(u,e,o.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,jn.b)(i=>e.svgText=i),(0,g.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ue.of)(null):this._fetchIcon(e).pipe((0,jn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,s);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),s);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(u),this._setSvgAttributes(p,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),s=e.attributes;for(let o=0;o<s.length;o++){const{name:u,value:p}=s[o];"id"!==u&&i.setAttribute(u,p)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:s,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const p=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,s);if(!p)throw Yq(s);const m=this._inProgressUrlFetches.get(p);if(m)return m;const b=this._httpClient.get(p,{responseType:"text",withCredentials:u}).pipe(Jw(()=>this._inProgressUrlFetches.delete(p)),(0,EH.B)());return this._inProgressUrlFetches.set(p,b),b}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(jq(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](i,e);if(o)return aee(o)?new Sg(o.url,null,o.options):new Sg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(KA,8),r.LFG(No),r.LFG(Z,8),r.LFG(r.qLn))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(KA,8),r.LFG(No),r.LFG(Z,8),r.LFG(r.qLn))},token:n,providedIn:"root"}),n})();function ek(n){return n.cloneNode(!0)}function jq(n,t){return n+":"+t}function aee(n){return!(!n.url||!n.options)}const lee=ea(class{constructor(n){this._elementRef=n}}),cee=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,r.f3M)(Z),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),zq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hee=zq.map(n=>`[${n}]`).join(", "),pee=/^url\(['"]?#(.*?)['"]?\)$/;let Rc=(()=>{class n extends lee{constructor(e,i,s,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Mt.w.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Me(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let o=0;o<i.length;o++)i[o].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&e.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(hee),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)zq.forEach(u=>{const p=i[o],m=p.getAttribute(u),b=m?m.match(pee):null;if(b){let w=s.get(p);w||(w=[],s.set(p,w)),w.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(R(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(XA),r.$8M("aria-hidden"),r.Y36(cee),r.Y36(r.qLn))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),r.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:ree,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),$q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et],et]}),n})();const fee=["primaryValueBar"],mee=ea(class{constructor(n){this._elementRef=n}},"primary"),gee=new r.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,r.f3M)(Z),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});let bee=0,Sv=(()=>{class n extends mee{constructor(e,i,s,o){super(e),this._ngZone=i,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new r.vpe,this._animationEndSubscription=Mt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+bee++;const u=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${u}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s}get value(){return this._value}set value(e){this._value=Wq(Ht(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=Wq(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=kn(e,"transitionend").pipe(gt(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Fn,8),r.Y36(gee,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&r.Gf(fee,5),2&e){let s;r.iGM(s=r.CRH())&&(i._primaryValueBar=s.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(r.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),r.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[r.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.O4$(),r.TgZ(1,"svg",1),r.TgZ(2,"defs"),r.TgZ(3,"pattern",2),r._UZ(4,"circle",3),r.qZA(),r.qZA(),r._UZ(5,"rect",4),r.qZA(),r.kcU(),r._UZ(6,"div",5),r._UZ(7,"div",6,7),r._UZ(9,"div",8),r.qZA()),2&e&&(r.xp6(3),r.Q6J("id",i.progressbarId),r.xp6(2),r.uIk("fill",i._rectangleFillValue),r.xp6(1),r.Q6J("ngStyle",i._bufferTransform()),r.xp6(1),r.Q6J("ngStyle",i._primaryTransform()))},directives:[ua],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function Wq(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let yee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,et],et]}),n})();function vee(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function wee(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",14),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Cee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2,"Vous voulez joindre une photo ?"),r.qZA(),r.TgZ(3,"mat-form-field",10),r.TgZ(4,"ngx-mat-file-input",11),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(5,"mat-icon",12),r._uU(6,"folder"),r.qZA(),r.YNc(7,vee,2,1,"mat-error",2),r.qZA(),r.YNc(8,wee,1,1,"mat-progress-bar",13),r.qZA()}if(2&n){const e=r.oxw();let i;r.xp6(7),r.Q6J("ngIf",null==e.form||null==(i=e.form.get("photo"))?null:i.hasError("maxSize")),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Dee(n,t){if(1&n&&(r.TgZ(0,"div"),r._UZ(1,"img",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.s9C("src",null==e.actualite?null:e.actualite.photo,r.LSH)}}function Tee(n,t){if(1&n&&(r.TgZ(0,"mat-error",16),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function Mee(n,t){if(1&n&&(r.TgZ(0,"mat-error",16),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("sousTitre"))}}function Eee(n,t){if(1&n&&(r.TgZ(0,"mat-error",16),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function See(n,t){1&n&&(r.TgZ(0,"div",17),r.TgZ(1,"button",18),r._uU(2,"Valider"),r.qZA(),r.TgZ(3,"button",19),r._uU(4,"Annuler"),r.qZA(),r.qZA())}let cL=(()=>{class n{constructor(e,i,s,o){var u;this.formBuilder=e,this.router=i,this.actualiteService=s,this.angularFireStorage=o,this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.downloadURL="",this.form=e.group({photo:[{value:null===(u=this.actualite)||void 0===u?void 0:u.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],titre:["",[st.maxLength(20),st.required]],sousTitre:["",[st.maxLength(30)]],texte:["",[st.required,st.minLength(20),st.maxLength(6500)]]})}ngOnInit(){var e,i,s,o;""!=(null===(e=this.actualite)||void 0===e?void 0:e.photo)&&(this.isFileAttached=!0),this.form.controls.titre.setValue(null===(i=this.actualite)||void 0===i?void 0:i.titre),this.form.controls.sousTitre.setValue(null===(s=this.actualite)||void 0===s?void 0:s.sousTitre),this.form.controls.texte.setValue(null===(o=this.actualite)||void 0===o?void 0:o.texte)}getErrorMessage(e){var i,s,o,u,p,m,b,w,E,x,k;let P="";switch(e){case"photo":(null===(i=this.form)||void 0===i?void 0:i.controls.photo.touched)&&(P=(null===(s=this.form)||void 0===s?void 0:s.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(o=this.form)||void 0===o?void 0:o.controls.sousTitre.touched)&&(null===(u=this.form)||void 0===u?void 0:u.controls.sousTitre.hasError("maxlength"))&&(P="Le titre ne doit pas comporter plus de 20 caract\xe8res.");break;case"sousTitre":(null===(p=this.form)||void 0===p?void 0:p.controls.titre.touched)&&((null===(m=this.form)||void 0===m?void 0:m.controls.titre.hasError("required"))&&(P="Vous devez saisir un titre."),(null===(b=this.form)||void 0===b?void 0:b.controls.titre.hasError("maxlength"))&&(P="Le sous-titre ne doit pas comporter plus de 30 caract\xe8res."));break;case"texte":(null===(w=this.form)||void 0===w?void 0:w.controls.texte.touched)&&((null===(E=this.form)||void 0===E?void 0:E.controls.texte.hasError("required"))&&(P="Vous devez saisir un texte."),(null===(x=this.form)||void 0===x?void 0:x.controls.texte.hasError("minlength"))&&(P="Le texte doit comporter plus de 20 caract\xe8res."),(null===(k=this.form)||void 0===k?void 0:k.controls.texte.hasError("maxlength"))&&(P="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return P}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Actualites/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(p=>{this.uploadPercent=p}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(p=>{this.downloadURL=p})})}onSubmit(){var e;this.actualite.titre=this.form.controls.titre.value,this.actualite.sousTitre=this.form.controls.sousTitre.value,this.actualite.texte=this.form.controls.texte.value,""==(null===(e=this.actualite)||void 0===e?void 0:e.id)?(this.actualite.photo=this.downloadURL,this.actualiteService.AddActualite(this.actualite)):(""!=this.downloadURL&&(this.actualite.photo=this.downloadURL),this.actualiteService.UpdateActualite(this.actualite)),this.router.navigate(["app-home-administration"])}onQuit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Sn),r.Y36(eA),r.Y36(Np))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-actualite-form"]],inputs:{actualite:"actualite"},decls:18,vars:7,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","sousTitre","placeholder","Sous-titre"],["matInput","","rows","25","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["alt","",1,"img",2,"max-width","150px",3,"src"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","secondary"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,Cee,9,2,"div",2),r.YNc(3,Dee,2,1,"div",2),r.TgZ(4,"mat-form-field",3),r._UZ(5,"input",4),r.TgZ(6,"div",5),r.YNc(7,Tee,2,1,"mat-error",6),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",3),r._UZ(9,"input",7),r.TgZ(10,"div",5),r.YNc(11,Mee,2,1,"mat-error",6),r.qZA(),r.qZA(),r.TgZ(12,"mat-form-field",3),r.TgZ(13,"textarea",8),r._uU(14,"        "),r.qZA(),r.TgZ(15,"div",5),r.YNc(16,Eee,2,1,"mat-error",6),r.qZA(),r.qZA(),r.YNc(17,See,5,0,"div",9),r.qZA(),r.qZA()),2&e){let s,o,u;r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.isFileAttached),r.xp6(1),r.Q6J("ngIf",i.isFileAttached),r.xp6(4),r.Q6J("ngIf",null==i.form||null==(s=i.form.get("titre"))||null==s.errors?null:s.errors.required),r.xp6(4),r.Q6J("ngIf",null==i.form||null==(o=i.form.get("sousTitre"))||null==o.errors?null:o.errors.required),r.xp6(5),r.Q6J("ngIf",null==i.form||null==(u=i.form.get("texte"))||null==u.errors?null:u.errors.required),r.xp6(1),r.Q6J("ngIf",!i.fileIsUploading&&(null==i.form?null:i.form.valid))}},directives:[Tu,go,ui,Qe,fl,ld,qs,mo,Gs,qn,Rc,kp,xc,Sv,ri],styles:[""]}),n})();class xee{constructor(t,e,i,s,o,u,p,m,b){this.id=t,this.date=e,this.titre=i,this.sousTitre=s,this.texte=o,this.photo=u,this.auteur=p,this.nomAuteur=m,this.status=b}}function Aee(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un article d'actualit\xe9."),r.qZA())}function kee(n,t){if(1&n&&r._UZ(0,"app-actualite-form",3),2&n){const e=r.oxw();r.Q6J("actualite",e.actualite)}}let Iee=(()=>{class n{constructor(e){var i;this.authService=e,this.actualite=new xee("",(new Date).toString(),"","","","",null===(i=this.authService.getCurrentUser())||void 0===i?void 0:i.id,"",1)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-actualite"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"actualite",4,"ngIf"],[3,"actualite"]],template:function(e,i){1&e&&(r.YNc(0,Aee,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,kee,1,1,"app-actualite-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.actualite),r.xp6(2),r.Q6J("ngIf",i.actualite))},directives:[Qe,cL],styles:[""]}),n})();class Ree{constructor(t,e,i,s){this.id=t,this.numero=e,this.path=i,this.status=s}}function Oee(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Nee(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",8),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Pee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2,"Joindre une photo."),r.qZA(),r.TgZ(3,"mat-form-field",4),r.TgZ(4,"ngx-mat-file-input",5),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(5,"mat-icon",6),r._uU(6,"folder"),r.qZA(),r.YNc(7,Oee,2,1,"mat-error",2),r.qZA(),r.YNc(8,Nee,1,1,"mat-progress-bar",7),r.qZA()}if(2&n){const e=r.oxw();let i;r.xp6(7),r.Q6J("ngIf",null==e.form||null==(i=e.form.get("photo"))?null:i.hasError("maxSize")),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Fee(n,t){if(1&n&&(r.TgZ(0,"div"),r._UZ(1,"img",9),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.s9C("src",null==e.carousel?null:e.carousel.path,r.LSH)}}function Lee(n,t){1&n&&(r.TgZ(0,"div",10),r.TgZ(1,"button",11),r._uU(2,"Valider"),r.qZA(),r.qZA())}let Jq=(()=>{class n{constructor(e,i,s,o){var u;this.formBuilder=e,this.angularFireStorage=i,this.location=s,this.photosService=o,this.isFileAttached=!1,this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.form=this.formBuilder.group({photo:[{value:null===(u=this.carousel)||void 0===u?void 0:u.path,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}]})}ngOnInit(){var e;this.isFileAttached=""!==(null===(e=this.carousel)||void 0===e?void 0:e.path)}getErrorMessage(e){var i,s;let o="";switch(e){case"photo":(null===(i=this.form)||void 0===i?void 0:i.controls.photo.touched)&&(o=(null===(s=this.form)||void 0===s?void 0:s.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"")}}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Accueil/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(p=>{this.uploadPercent=p}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(p=>{this.downloadURL=p,this.carousel.path=p,this.isFileAttached=!0})})}onSubmit(){var e,i;""==(null===(e=this.carousel)||void 0===e?void 0:e.path)&&(this.carousel.path=this.downloadURL),this.carousel.numero=this.photosService.getNextNumero(),""===(null===(i=this.carousel)||void 0===i?void 0:i.id)?this.photosService.addPhotoCarousel(this.carousel):this.photosService.updatePhotoCarousel(this.carousel).then(()=>{}),this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Np),r.Y36(jt),r.Y36(Mc))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-carousel-form"]],inputs:{carousel:"carousel"},decls:6,vars:4,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["height","250px","alt","",1,"img",3,"src"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,Pee,9,2,"div",2),r.YNc(3,Fee,2,1,"div",2),r._UZ(4,"br"),r.YNc(5,Lee,3,0,"div",3),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.isFileAttached),r.xp6(1),r.Q6J("ngIf",1==i.isFileAttached),r.xp6(2),r.Q6J("ngIf",!i.fileIsUploading&&(null==i.form?null:i.form.valid)))},directives:[Tu,go,ui,Qe,fl,qn,mo,Gs,Rc,kp,xc,Sv,ri],styles:[""]}),n})();function Bee(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un \xe9l\xe9ment au carousel."),r.qZA())}function Vee(n,t){if(1&n&&r._UZ(0,"app-carousel-form",3),2&n){const e=r.oxw();r.Q6J("carousel",e.carousel)}}let Uee=(()=>{class n{constructor(){this.carousel=new Ree("",0,"",0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-photo-carousel"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"carousel",4,"ngIf"],[3,"carousel"]],template:function(e,i){1&e&&(r.YNc(0,Bee,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Vee,1,1,"app-carousel-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.carousel),r.xp6(2),r.Q6J("ngIf",i.carousel))},directives:[Qe,Jq],styles:[""]}),n})();const Hee=["input"],Zee=function(n){return{enterDuration:n}},qee=["*"],Yee=new r.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Qq});function Qq(){return{color:"accent",clickAction:"check-indeterminate"}}let Gee=0;const Kq=Qq(),jee={provide:Pn,useExisting:(0,r.Gpc)(()=>Xq),multi:!0};class zee{}const $ee=ad(ea(Xs(Rs(class{constructor(n){this._elementRef=n}}))));let Xq=(()=>{class n extends $ee{constructor(e,i,s,o,u,p,m){super(e),this._changeDetectorRef=i,this._focusMonitor=s,this._ngZone=o,this._animationMode=p,this._options=m,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Gee,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.vpe,this.indeterminateChange=new r.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Kq,this.color=this.defaultColor=this._options.color||Kq.color,this.tabIndex=parseInt(u)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Me(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Me(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Me(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,s=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(o)},1e3)})}}_emitChangeEvent(){const e=new zee;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const s=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let s="";switch(e){case 0:if(1===i)s="unchecked-checked";else{if(3!=i)return"";s="unchecked-indeterminate"}break;case 2:s=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(ei),r.Y36(r.R0b),r.$8M("tabindex"),r.Y36(Fn,8),r.Y36(Yee,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Hee,5),r.Gf(Os,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._inputElement=s.first),r.iGM(s=r.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",null),r.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r._Bn([jee]),r.qOj],ngContentSelectors:qee,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(r.F$t(),r.TgZ(0,"label",0,1),r.TgZ(2,"span",2),r.TgZ(3,"input",3,4),r.NdJ("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),r.qZA(),r.TgZ(5,"span",5),r._UZ(6,"span",6),r.qZA(),r._UZ(7,"span",7),r.TgZ(8,"span",8),r.O4$(),r.TgZ(9,"svg",9),r._UZ(10,"path",10),r.qZA(),r.kcU(),r._UZ(11,"span",11),r.qZA(),r.qZA(),r.TgZ(12,"span",12,13),r.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),r.TgZ(14,"span",14),r._uU(15,"\xa0"),r.qZA(),r.Hsn(16),r.qZA(),r.qZA()),2&e){const s=r.MAs(1),o=r.MAs(13);r.uIk("for",i.inputId),r.xp6(2),r.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),r.xp6(1),r.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),r.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),r.xp6(2),r.Q6J("matRippleTrigger",s)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.VKq(19,Zee,"NoopAnimations"===i._animationMode?0:150))}},directives:[Os,yf],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),eY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),Qee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pl,et,vf,eY],et,eY]}),n})(),tY=(()=>{class n{constructor(e,i,s){this.formBuilder=e,this.dialogRef=i,this.data=s,this.status=0,this.form=this.formBuilder.group({visiteur:!0,moderateur:!1,editArticle:!1,editPhotosDeClasse:!1,editPdf:!1,administrateur:!1})}ngOnInit(){const e=this.data;qe.administrateur.valueOf(),this.form.controls.visiteur.setValue((e&qe.visiteur)===qe.visiteur),this.form.controls.administrateur.setValue((e&qe.administrateur)===qe.administrateur),this.form.controls.editArticle.setValue((e&qe.editArticle)===qe.editArticle),this.form.controls.editPhotosDeClasse.setValue((e&qe.editPhotosDeClasse)===qe.editPhotosDeClasse),this.form.controls.editPdf.setValue((e&qe.editPdf)===qe.editPdf),this.form.controls.moderateur.setValue((e&qe.moderateur)===qe.moderateur)}onSave(){var e,i,s,o,u,p,m,b,w,E,x,k;(null===(i=null===(e=this.form)||void 0===e?void 0:e.get("visiteur"))||void 0===i?void 0:i.value)&&(this.status|=qe.visiteur),(null===(o=null===(s=this.form)||void 0===s?void 0:s.get("moderateur"))||void 0===o?void 0:o.value)&&(this.status|=qe.moderateur),(null===(p=null===(u=this.form)||void 0===u?void 0:u.get("editArticle"))||void 0===p?void 0:p.value)&&(this.status|=qe.editArticle),(null===(b=null===(m=this.form)||void 0===m?void 0:m.get("editPhotosDeClasse"))||void 0===b?void 0:b.value)&&(this.status|=qe.editPhotosDeClasse),(null===(E=null===(w=this.form)||void 0===w?void 0:w.get("editPdf"))||void 0===E?void 0:E.value)&&(this.status|=qe.editPdf),(null===(k=null===(x=this.form)||void 0===x?void 0:x.get("administrateur"))||void 0===k?void 0:k.value)&&(this.status|=qe.administrateur),console.log(this.status),this.dialogRef.close(this.status)}onClose(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Ap),r.Y36(X1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-droits-form"]],decls:18,vars:1,consts:[[3,"formGroup"],["placeholder","Visiteur","formControlName","visiteur",1,"margin"],["placeholder","Mod\xe9rateur","formControlName","moderateur",1,"margin"],["placeholder","editArticle","formControlName","editArticle",1,"margin"],["placeholder","editPhotosDeClasse","formControlName","editPhotosDeClasse",1,"margin"],["placeholder","editPdf","formControlName","editPdf",1,"margin"],["placeholder","administrateur","formControlName","administrateur",1,"margin"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-dialog-content",0),r.TgZ(1,"mat-checkbox",1),r._uU(2," Visiteur "),r.qZA(),r.TgZ(3,"mat-checkbox",2),r._uU(4," Mod\xe9rateur "),r.qZA(),r.TgZ(5,"mat-checkbox",3),r._uU(6," Edition articles "),r.qZA(),r.TgZ(7,"mat-checkbox",4),r._uU(8," Edition photos de classes "),r.qZA(),r.TgZ(9,"mat-checkbox",5),r._uU(10," Edition Documents "),r.qZA(),r.TgZ(11,"mat-checkbox",6),r._uU(12," administrateur "),r.qZA(),r.qZA(),r.TgZ(13,"mat-dialog-actions"),r.TgZ(14,"button",7),r.NdJ("click",function(){return i.onSave()}),r._uU(15,"Valider"),r.qZA(),r.TgZ(16,"button",8),r.NdJ("click",function(){return i.onClose()}),r._uU(17,"Annuler"),r.qZA(),r.qZA()),2&e&&r.Q6J("formGroup",i.form)},directives:[eD,go,ui,Xq,mo,Gs,tD],styles:[".section[_ngcontent-%COMP%]{margin:12px 0}.margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),n})();const Kee=[[["caption"]],[["colgroup"],["col"]]],Xee=["caption","colgroup, col"];let uL=(()=>{class n extends Pf{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:cu,useClass:IT},{provide:Pf,useExisting:n},{provide:uh,useExisting:n},{provide:gu,useClass:dh},{provide:nM,useValue:null}]),r.qOj],ngContentSelectors:Xee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(Kee),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[fh,ph,q_,sw],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),tk=(()=>{class n extends fu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:fu,useExisting:n}]),r.qOj]}),n})(),nk=(()=>{class n extends mu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:mu,useExisting:n}]),r.qOj]}),n})(),ik=(()=>{class n extends ho{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:ho,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})(),rk=(()=>{class n extends tw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.qOj]}),n})(),sk=(()=>{class n extends Gl{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.qOj]}),n})(),dL=(()=>{class n extends hh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:hh,useExisting:n}]),r.qOj]}),n})(),hL=(()=>{class n extends U_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:U_,useExisting:n}]),r.qOj]}),n})(),pL=(()=>{class n extends jl{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:jl,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),fL=(()=>{class n extends rw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r._Bn([{provide:rw,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),cte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[iM,et],et]}),n})();function dte(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Gestion des droits (",e.users.length," utilisateurs )")}}function hte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Id "),r.qZA())}function pte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.uid," ")}}function fte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Email "),r.qZA())}function mte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.email," ")}}function gte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Nom "),r.qZA())}function _te(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.nom," ")}}function bte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Pr\xe9nom "),r.qZA())}function yte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.prenom," ")}}function vte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Status "),r.qZA())}function wte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(1),r.hij(" ",i.getDroitsSelectedUser(e.status).toString()," ")}}function Cte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Action "),r.qZA())}function Dte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",13),r.TgZ(1,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onDroits(o)}),r._uU(2,"Droits"),r.qZA(),r.qZA()}}function Tte(n,t){1&n&&r._UZ(0,"tr",15)}function Mte(n,t){1&n&&r._UZ(0,"tr",16)}function Ete(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," Visible\n"),r.qZA())}let nY=(()=>{class n{constructor(e,i){this.usersService=e,this.dialog=i,this.users=[],this.formVisible=!1,this.displayedColumns=["uid","email","nom","prenom","status","action"]}ngOnInit(){this.usersService.getUsers().subscribe(e=>{this.users=e.docs.map(i=>{const s=i.data();return s.id=i.id,s},i=>{console.log(i)})},()=>{})}ngOnDestroy(){this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe()}getDroitsSelectedUser(e){let i="";return 65536===e?"Non":(e&qe.administrateur)===qe.administrateur?"Administrateur":((e&qe.visiteur)===qe.visiteur&&(""!==i&&(i+=", "),i+="Visiteur"),(e&qe.moderateur)===qe.moderateur&&(""!==i&&(i+=", "),i+="Mod\xe9rateur"),(e&qe.editArticle)===qe.editArticle&&(""!==i&&(i+=", "),i+="Editer articles"),(e&qe.editPhotosDeClasse)===qe.editPhotosDeClasse&&(""!==i&&(i+=", "),i+="Editer photos de classes"),(e&qe.editPdf)===qe.editPdf&&(""!==i&&(i+=", "),i+="Editer des documents"),""===i&&(i="Non"),i)}onDroits(e){const i=new xp;i.disableClose=!0,i.autoFocus=!0,i.width="300px",i.height="400px",i.data=e.status;const s=this.dialog.open(tY,i);this.dialogResultSuscription=s.afterClosed().subscribe(o=>{void 0!==o&&this.usersService.changeDroitsUser(e.id,o)},o=>{console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(hg),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-droits"]],decls:24,vars:5,consts:[[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(r.YNc(0,dte,2,1,"h4",0),r.TgZ(1,"div"),r.TgZ(2,"table",1),r.ynx(3,2),r.YNc(4,hte,2,0,"th",3),r.YNc(5,pte,2,1,"td",4),r.BQk(),r.ynx(6,5),r.YNc(7,fte,2,0,"th",3),r.YNc(8,mte,2,1,"td",4),r.BQk(),r.ynx(9,6),r.YNc(10,gte,2,0,"th",3),r.YNc(11,_te,2,1,"td",4),r.BQk(),r.ynx(12,7),r.YNc(13,bte,2,0,"th",3),r.YNc(14,yte,2,1,"td",4),r.BQk(),r.ynx(15,8),r.YNc(16,vte,2,0,"th",3),r.YNc(17,wte,2,1,"td",4),r.BQk(),r.ynx(18,9),r.YNc(19,Cte,2,0,"th",3),r.YNc(20,Dte,3,0,"td",4),r.BQk(),r.YNc(21,Tte,1,0,"tr",10),r.YNc(22,Mte,1,0,"tr",11),r.qZA(),r.qZA(),r.YNc(23,Ete,2,0,"div",0)),2&e&&(r.Q6J("ngIf",i.users),r.xp6(2),r.Q6J("dataSource",i.users),r.xp6(19),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(1),r.Q6J("ngIf",i.formVisible))},directives:[Qe,uL,ik,nk,tk,dL,hL,rk,sk,pL,fL],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),n})();function Ste(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Edition d'un article d'actualit\xe9."),r.qZA())}function xte(n,t){if(1&n&&r._UZ(0,"app-actualite-form",3),2&n){const e=r.oxw();r.Q6J("actualite",e.actualite)}}let Ate=(()=>{class n{constructor(e,i){this.route=e,this.actualiteService=i;const s=this.route.snapshot.params.id;console.log(s),this.actualiteService.getActualite(s).subscribe(o=>{this.actualite=o.data(),this.actualite.id=o.id},o=>{console.log("Erreur = "+o)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(eA))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-actualite"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"actualite",4,"ngIf"],[3,"actualite"]],template:function(e,i){1&e&&(r.YNc(0,Ste,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,xte,1,1,"app-actualite-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.actualite),r.xp6(2),r.Q6J("ngIf",i.actualite))},directives:[Qe,cL],styles:[""]}),n})(),kte=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-gestion-actualite"]],decls:2,vars:0,template:function(e,i){1&e&&(r.TgZ(0,"p"),r._uU(1,"gestion-actualite works!"),r.qZA())},styles:[""]}),n})();const mL_firebaseConfig={apiKey:"AIzaSyBz9fnOh35_UA9eF6e_liALWX4BSMFv1wM",authDomain:"memoiremorieroise-73e3b.firebaseapp.com",databaseURL:"https://memoiremorieroise-73e3b.firebaseio.com",projectId:"memoiremorieroise-73e3b",storageBucket:"memoiremorieroise-73e3b.appspot.com",messagingSenderId:"201883520409"};class gL{constructor(t,e,i,s,o){this.id=t,this.description=e,this.fichier=i,this.titre=s,this.status=o}}let xv=(()=>{class n{constructor(e){this.angularFirestore=e,this.pdfs=[],this.pdfsAValider=[],this.pdfSubject=new le.xQ}emitPdf(){this.pdfSubject.next(this.pdfs)}getPdfs(){this.angularFirestore.collection("listePdf").get().subscribe(e=>{this.pdfs=e.docs.map(i=>{const s=i.data();return s.id=i.id,s}),this.pdfs.length>0&&(this.currentPdf=this.pdfs[0])})}getPdf(e){return this.angularFirestore.collection("listePdf").doc(e).get()}getPdfsValides(){return this.angularFirestore.collection("listePdf",e=>e.where("Status","==",ln.valide)).get()}getListePdfAValider(){return this.angularFirestore.collection("listePdf",e=>e.where("Status","==",ln.initial)).get()}GetSinglePdf(e){this.angularFirestore.collection("listePdf").doc(e).get().subscribe(i=>{null==this.currentPdf&&(this.currentPdf=new gL("","","","",0)),this.currentPdf.id=i.id,this.currentPdf=i.data(),this.emitPdf()})}addPdf(e){this.angularFirestore.collection("listePdf").add({description:e.description,fichier:e.fichier,Status:ln.initial,titre:e.titre}).then(i=>{this.emitPdf()},i=>{console.log("Erreur "+i)})}validerPdf(e){e.status=ln.valide,this.angularFirestore.collection("listePdf").doc(e.id).update({Status:e.status}).then(()=>{this.emitPdf()})}rejeterPdf(e){e.status=ln.rejete,this.angularFirestore.collection("listePdf").doc(e.id).update({Status:e.status}).then(()=>{this.emitPdf()})}supprimerPdf(e){e.status=ln.supprime,this.angularFirestore.collection("listePdf").doc(e.id).update({Status:e.status}).then(()=>{this.emitPdf()})}updatePdf(e){this.angularFirestore.collection("listePdf").doc(e.id).update({titre:e.titre,description:e.description}).then(()=>{this.emitPdf()})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yD=(()=>{class n{constructor(e,i){this.angularFirestore=e,this.usersService=i,this.photos=[],this.photosAValider=[],this.photoMorieresSubject=new le.xQ,this.photoMorieresAValiderSubject=new le.xQ}emitPhotoMorieres(){this.photoMorieresSubject.next(this.photos)}emitPhotoMorieresAValider(){this.photoMorieresAValiderSubject.next(this.photosAValider)}addPhotoMorieres(e){this.angularFirestore.collection("/PhotosMorieres").add({periode:e.periode,auteur:e.auteur,texte:e.texte,photo:e.photo,titre:e.titre,status:ln.initial})}getPhotosMorieres(){return this.angularFirestore.collection("/PhotosMorieres",e=>e.where("status","==",ln.valide)).get().subscribe(e=>{this.photos=e.docs.map(i=>{let s=i.data();return s.id=i.id,s}),this.photos.length>0&&(this.currentPhoto=this.photos[0]),this.photos.forEach(i=>{this.usersService.getUserByUid(i.auteur.trim()).subscribe(s=>{s.docs.filter(o=>{i.nomAuteur=o.data().prenom})})}),this.emitPhotoMorieres()})}getPhotoMorieres(e){return this.angularFirestore.collection("/PhotosMorieres").doc(e).get()}updatePhotoMorieres(e){this.angularFirestore.collection("/PhotosMorieres").doc(e.id).update({auteur:e.auteur,titre:e.titre,periode:e.periode,texte:e.texte,photo:e.photo,status:e.status})}getPhotosMorieresAValider(){this.angularFirestore.collection("/PhotosMorieres",e=>e.where("status","==",ln.initial)).get().subscribe(e=>{this.photosAValider=e.docs.map(i=>{let s=i.data();return s.id=i.id,s}),this.emitPhotoMorieresAValider()})}validerPhotoMorieres(e){return this.angularFirestore.collection("/PhotosMorieres").doc(e.id).update({status:ln.valide})}rejeterPhotoMorieres(e){return this.angularFirestore.collection("/PhotosMorieres").doc(e.id).update({status:ln.rejete})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc),r.LFG(hg))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iY{constructor(t,e,i,s,o){this.date=t,this.email=e,this.texte=i,this.lu=s,this.id=o}}let _L=(()=>{class n{constructor(e){this.angularFirestore=e,this.listeMessagesNonLus=[],this.pdfSubject=new le.xQ}emitMessage(){this.pdfSubject.next(this.listeMessagesNonLus)}getMessagesNonLus(){this.angularFirestore.collection("Messages",e=>e.where("lu","==",!1)).get().subscribe(e=>{this.listeMessagesNonLus=e.docs.map(i=>{const s=i.data();return s.id=i.id,s})}),this.emitMessage()}addMessage(e){this.angularFirestore.collection("Messages").add({date:e.date.toJSON(),email:e.email,texte:e.texte,lu:e.lu}).catch(i=>{console.log("Erreur "+i)})}SoldeMessage(e){this.angularFirestore.collection("Messages").doc(e.id).update({lu:!0})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Tc))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ite(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Id "),r.qZA())}function Rte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.id," ")}}function Ote(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Email "),r.qZA())}function Nte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.email," ")}}function Pte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Date "),r.qZA())}function Fte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.date," ")}}function Lte(n,t){1&n&&(r.TgZ(0,"th",12),r._uU(1," Texte "),r.qZA())}function Bte(n,t){if(1&n&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.texte," ")}}function Vte(n,t){1&n&&r._UZ(0,"mat-header-cell")}function Ute(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-cell"),r.TgZ(1,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onVu(o)}),r._uU(2,"Vu"),r.qZA(),r.qZA()}}function Hte(n,t){1&n&&r._UZ(0,"tr",15)}function Zte(n,t){1&n&&r._UZ(0,"tr",16)}let rY=(()=>{class n{constructor(e){this.messagesService=e,this.displayedColumns=["email","date","texte","action"]}ngOnInit(){this.messagesService.getMessagesNonLus()}onVu(e){const i=new iY(e.date,e.email,e.texte,e.vu,e.id);this.messagesService.SoldeMessage(i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(_L))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-liste-messages"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","date"],["matColumnDef","texte"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"div"),r.TgZ(4,"table",0),r.ynx(5,1),r.YNc(6,Ite,2,0,"th",2),r.YNc(7,Rte,2,1,"td",3),r.BQk(),r.ynx(8,4),r.YNc(9,Ote,2,0,"th",2),r.YNc(10,Nte,2,1,"td",3),r.BQk(),r.ynx(11,5),r.YNc(12,Pte,2,0,"th",2),r.YNc(13,Fte,2,1,"td",3),r.BQk(),r.ynx(14,6),r.YNc(15,Lte,2,0,"th",2),r.YNc(16,Bte,2,1,"td",3),r.BQk(),r.ynx(17,7),r.YNc(18,Vte,1,0,"mat-header-cell",8),r.YNc(19,Ute,3,0,"mat-cell",9),r.BQk(),r.YNc(20,Hte,1,0,"tr",10),r.YNc(21,Zte,1,0,"tr",11),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.hij("Liste des messages non lus (",i.messagesService.listeMessagesNonLus.length,") "),r.xp6(3),r.Q6J("dataSource",i.messagesService.listeMessagesNonLus),r.xp6(16),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns))},directives:[uL,ik,nk,tk,dL,hL,rk,sk,pL,fL],styles:["table[_ngcontent-%COMP%]{width:80%}"]}),n})();function qte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onMonte(s)}),r._uU(1,"Monter"),r.qZA()}}function Yte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onDescend(s)}),r._uU(1,"Descendre"),r.qZA()}}function Gte(n,t){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"mat-card",3),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r._UZ(4,"img",4),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.TgZ(7,"div",5),r.YNc(8,qte,2,0,"button",6),r.YNc(9,Yte,2,0,"button",6),r.qZA(),r.qZA(),r._UZ(10,"div",7),r.qZA()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(3),r.Oqu(e.numero),r.xp6(1),r.s9C("src",e.path,r.LSH),r.xp6(2),r.Oqu(e.id),r.xp6(2),r.Q6J("ngIf",e.numero>1),r.xp6(1),r.Q6J("ngIf",e.numero<i.photos.length)}}function jte(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Gte,11,5,"div",2),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.photosService.photosCarousel)}}let zte=(()=>{class n{constructor(e,i){this.photosService=e,this.router=i,this.photos=[],this.photoCarouselsubscription=this.photosService.photosCarouselSubject.subscribe(s=>{this.photos=s.map(o=>{let u=o;return u.id=o.id,u})})}ngOnInit(){this.photosService.getPhotosCarousel()}onMonte(e){}onDescend(e){let i;for(i=0;i<this.photos.length&&this.photos[i].numero!=e.numero;i++);let s=this.photos.splice(i,2);s[1].numero=e.numero,s[0].numero=e.numero+1,this.photosService.updatePhotoCarousel(s[0]).then(()=>{this.photosService.updatePhotoCarousel(s[1]).then(()=>{this.photosService.getPhotosCarousel()})})}onAddPhoto(){this.router.navigate(["app-add-photo-carousel"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mc),r.Y36(Sn))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-carousel"]],decls:6,vars:1,consts:[["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res","height","250px",2,"margin","25px",3,"src"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[2,"height","15px"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Gestion du carousel :"),r.qZA(),r.TgZ(2,"button",0),r.NdJ("click",function(){return i.onAddPhoto()}),r._uU(3," Ajouter une photo au carousel\n"),r.qZA(),r._UZ(4,"br"),r.YNc(5,jte,2,1,"div",1)),2&e&&(r.xp6(5),r.Q6J("ngIf",i.photos&&i.photos.length>0))},directives:[ri,Qe,ht,_l,gl,ud],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:0;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:24%;max-height:30%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:5px}"]}),n})(),sY=(()=>{class n{constructor(e){this.sanitizer=e}transform(e,i){switch(i){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Invalid safe type specified: ${i}`)}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(No,16))},n.\u0275pipe=r.Yjl({name:"safe",type:n,pure:!0}),n})();function $te(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",10),r.TgZ(7,"mat-card-content",11),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",12),r.TgZ(13,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValideArticle(o)}),r._uU(14,"Valider l'article"),r.qZA(),r.TgZ(15,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onEditeArticle(o)}),r._uU(16,"Editer l'article"),r.qZA(),r.TgZ(17,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejeteArticle(o)}),r._uU(18,"Rejeter l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.legende),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function Wte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",15),r.TgZ(7,"mat-card-content",11),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",12),r.TgZ(13,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValidePhoto(o)}),r._uU(14,"Valider la photo de classe"),r.qZA(),r.TgZ(15,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onEditePhoto(o)}),r._uU(16,"Editer la photo de classe"),r.qZA(),r.TgZ(17,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejetePhoto(o)}),r._uU(18,"Rejeter la photo de classe"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.annee),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.listeEleves)}}function Jte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",15),r.TgZ(7,"mat-card-content",11),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",12),r.TgZ(13,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValidePhotoMorieres(o)}),r._uU(14,"Valider la photo de Mori\xe8res"),r.qZA(),r.TgZ(15,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejetePhotoMorieres(o)}),r._uU(16,"Rejeter la photo de Mori\xe8res"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.periode),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function Qte(n,t){if(1&n&&(r._UZ(0,"iframe",17),r.ALo(1,"safe")),2&n){const e=r.oxw().$implicit;r.Q6J("src",r.xi3(1,1,e.fichier,"resourceUrl"),r.uOi)}}function Kte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-actions"),r.TgZ(3,"div",12),r.TgZ(4,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onValidePdf(o)}),r._uU(5,"Valider le document"),r.qZA(),r.TgZ(6,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onRejetePdf(o)}),r._uU(7,"Rejeter le document"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-title"),r._uU(9),r.qZA(),r.TgZ(10,"mat-card-subtitle"),r._uU(11),r.qZA(),r.YNc(12,Qte,2,4,"iframe",16),r.TgZ(13,"mat-card-content",11),r.TgZ(14,"div"),r.TgZ(15,"pre"),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(9),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.description),r.xp6(1),r.Q6J("ngIf",e.fichier),r.xp6(4),r.Oqu(e.description)}}function Xte(n,t){if(1&n&&r._UZ(0,"img",20),2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo,r.LSH)}}function ene(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r.YNc(5,Xte,1,1,"img",18),r.TgZ(6,"mat-card-content",11),r.TgZ(7,"div"),r.TgZ(8,"pre"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-actions"),r.TgZ(11,"div",12),r.TgZ(12,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditActualite(o)}),r._uU(13,"Editer l'article"),r.qZA(),r.TgZ(14,"button",19),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onDesactiveActualite(o)}),r._uU(15,"D\xe9sactiver l'article"),r.qZA(),r.TgZ(16,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onSupprimeActualite(o)}),r._uU(17,"Supprimer l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.sousTitre),r.xp6(1),r.Q6J("ngIf",e.photo),r.xp6(4),r.Oqu(e.texte)}}function tne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r._UZ(5,"img",20),r.TgZ(6,"mat-card-content",11),r.TgZ(7,"div"),r.TgZ(8,"pre"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-actions"),r.TgZ(11,"div",12),r.TgZ(12,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditActualite(o)}),r._uU(13,"Editer l'article"),r.qZA(),r.TgZ(14,"button",19),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onValideActualite(o)}),r._uU(15,"Activer l'article"),r.qZA(),r.TgZ(16,"button",14),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onSupprimeActualite(o)}),r._uU(17,"Supprimer l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.sousTitre),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function nne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-content",11),r.TgZ(6,"div"),r.TgZ(7,"pre"),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"mat-card-actions"),r.TgZ(10,"div",12),r.TgZ(11,"button",13),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditActualite(o)}),r._uU(12,"Editer l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.sousTitre),r.xp6(4),r.Oqu(e.texte)}}function ine(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddActualite()}),r._uU(2,"Ajouter un Article \xe0 l'actualit\xe9"),r.qZA(),r._UZ(3,"br"),r.TgZ(4,"h3"),r._uU(5),r.qZA(),r.YNc(6,ene,18,4,"mat-card",1),r.TgZ(7,"h3"),r._uU(8),r.qZA(),r.YNc(9,tne,18,4,"mat-card",1),r.TgZ(10,"h3"),r._uU(11,"Messages au visiteur."),r.qZA(),r.YNc(12,nne,13,3,"mat-card",1),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.hij("Liste des actualit\xe9s valid\xe9es. (",e.actualites.length,")"),r.xp6(1),r.Q6J("ngForOf",e.actualites),r.xp6(2),r.hij("Liste des actualit\xe9s non valid\xe9es. (",e.nonActualites.length,")"),r.xp6(1),r.Q6J("ngForOf",e.nonActualites),r.xp6(3),r.Q6J("ngForOf",e.actualiteService.messagesVisiteurs)}}let rne=(()=>{class n{constructor(e,i,s,o,u,p,m,b){this.authService=e,this.articlesService=i,this.pdfService=s,this.photoService=o,this.photosMorieresService=u,this.actualiteService=p,this.router=m,this.matDialog=b,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isEditPdf=!1,this.isModerateur=!1,this.totalAValider=0,this.articlesAValider=[],this.pdfsAValider=[],this.photosAValider=[],this.actualites=[],this.nonActualites=[],this.photosMorieresAValider=[],this.version="1.4.3",this.authSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(w=>{const E=this.authService.getCurrentUser();null!=E&&null!=E&&(this.isEditArticle=(E.status&qe.editArticle)==qe.editArticle,this.isEditPhotosDeClasse=(E.status&qe.editPhotosDeClasse)==qe.editPhotosDeClasse,this.isEditPdf=(E.status&qe.editPdf)==qe.editPdf,this.isAdmin=(E.status&qe.administrateur)==qe.administrateur)}),this.actualitesSubscription=this.actualiteService.actualitesSubject.pipe(Ss(1)).subscribe(w=>{this.actualites=w,this.actualiteService.getActualitesNonSelect().subscribe(E=>{this.nonActualites=E.docs.map(x=>{const k=x.data();return k.id=x.id,k})})}),this.photosMorieresSubscription=this.photosMorieresService.photoMorieresAValiderSubject.pipe(Ss(1)).subscribe(w=>{this.photosMorieresAValider=w}),this.actualiteService.emitActualites(),this.photosMorieresService.getPhotosMorieresAValider()}ngOnInit(){let e=this.authService.getCurrentUser();this.articlesService.getArticlesAValider().subscribe(i=>{this.articlesAValider=i.docs.map(s=>{const o=s.data();return o.id=s.id,o}),this.pdfService.getListePdfAValider().subscribe(s=>{this.pdfsAValider=s.docs.map(o=>{const u=o.data();return u.id=o.id,u}),this.photoService.getPhotosAValider().subscribe(o=>{this.photosAValider=o.docs.map(u=>{const p=u.data();return p.id=u.id,p}),this.totalAValider=this.articlesAValider.length+this.photosAValider.length+this.pdfService.pdfsAValider.length})})}),e&&e.status&&(e.status&qe.administrateur)===qe.administrateur?this.isAdmin=!0:(e&&e.status&&(e.status&qe.editArticle)==qe.editArticle&&(this.isEditArticle=!0),e&&e.status&&(e.status&qe.editPhotosDeClasse)===qe.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),e&&e.status&&(e.status&qe.moderateur)===qe.moderateur&&(this.isModerateur=!0)),this.actualiteService.getActualites()}ngOnDestroy(){this.authSubscription.unsubscribe()}onValideArticle(e){this.articlesService.valideArticle(e);const i=this.articlesAValider.indexOf(e);this.articlesAValider.splice(i,1)}onEditeArticle(e){this.router.navigate(["app-edit-article/",e.id])}onRejeteArticle(e){this.articlesService.rejeteArticle(e);const i=this.articlesAValider.indexOf(e);this.articlesAValider.splice(i,1)}onValidePhoto(e){this.photoService.validerPhoto(e);const i=this.photosAValider.indexOf(e);this.photosAValider.splice(i,1)}onEditePhoto(e){this.router.navigate(["app-edit-photo-de-classe/",e.id])}onRejetePhoto(e){this.photoService.rejeterPhoto(e);const i=this.photosAValider.indexOf(e);this.photosAValider.splice(i,1)}onValidePhotoMorieres(e){this.photosMorieresService.validerPhotoMorieres(e);const i=this.photosMorieresAValider.indexOf(e);this.photosMorieresAValider.splice(i,1)}onRejetePhotoMorieres(e){this.photosMorieresService.rejeterPhotoMorieres(e);const i=this.photosMorieresAValider.indexOf(e);this.photosMorieresAValider.splice(i,1)}onValidePdf(e){this.pdfService.validerPdf(e);const i=this.pdfsAValider.indexOf(e);this.pdfsAValider.splice(i,1),this.pdfService.getPdfsValides()}onRejetePdf(e){this.pdfService.rejeterPdf(e);const i=this.pdfsAValider.indexOf(e);this.pdfsAValider.splice(i,1)}onEditActualite(e){this.router.navigate(["app-edit-actualite/",e.id])}onSupprimeActualite(e){this.actualiteService.SupprimeActualite(e)}onValideActualite(e){this.actualiteService.ValideActualite(e)}onDesactiveActualite(e){this.actualiteService.DesactiveActualite(e)}onAddActualite(){this.router.navigate(["app-add-actualite"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mr),r.Y36(sd),r.Y36(xv),r.Y36(Mc),r.Y36(yD),r.Y36(eA),r.Y36(Sn),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home-administration"]],decls:36,vars:10,consts:[["label","Articles"],[4,"ngFor","ngForOf"],["label","Photos de classes"],["label","Photos de Mori\xe8res"],["label","Documents"],["label","Actualit\xe9s"],[4,"ngIf"],["label","Messages re\xe7us"],["label","Administration utilisateurs"],["label","Carousel"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["alt","Photo introuvable",1,"img",3,"src"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"],["class","img","alt","Photo",3,"src",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["alt","Photo",1,"img",3,"src"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Administration"),r.qZA(),r.TgZ(2,"h2"),r._uU(3),r.qZA(),r.TgZ(4,"mat-tab-group"),r.TgZ(5,"mat-tab",0),r._UZ(6,"br"),r.TgZ(7,"h3"),r._uU(8),r.qZA(),r.YNc(9,$te,19,4,"div",1),r.qZA(),r.TgZ(10,"mat-tab",2),r.TgZ(11,"div"),r.TgZ(12,"h3"),r._uU(13),r.qZA(),r.YNc(14,Wte,19,4,"div",1),r._UZ(15,"br"),r.qZA(),r.qZA(),r.TgZ(16,"mat-tab",3),r.TgZ(17,"div"),r.TgZ(18,"h3"),r._uU(19),r.qZA(),r.YNc(20,Jte,17,4,"div",1),r._UZ(21,"br"),r.qZA(),r.qZA(),r.TgZ(22,"mat-tab",4),r.TgZ(23,"div"),r.TgZ(24,"h3"),r._uU(25),r.qZA(),r.YNc(26,Kte,17,4,"div",1),r._UZ(27,"br"),r.qZA(),r.qZA(),r.TgZ(28,"mat-tab",5),r.YNc(29,ine,13,5,"div",6),r.qZA(),r.TgZ(30,"mat-tab",7),r._UZ(31,"app-liste-messages"),r.qZA(),r.TgZ(32,"mat-tab",8),r._UZ(33,"app-droits"),r.qZA(),r.TgZ(34,"mat-tab",9),r._UZ(35,"app-carousel"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.hij("Version ",i.version,""),r.xp6(5),r.hij("Liste des articles \xe0 valider. (",i.articlesAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.articlesAValider),r.xp6(4),r.hij("Liste des photos de classe \xe0 valider. (",i.photosAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.photosAValider),r.xp6(5),r.hij("Liste des photos de Mori\xe8res \xe0 valider. (",i.photosMorieresAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.photosMorieresAValider),r.xp6(5),r.hij("Liste des documents \xe0 valider. (",i.pdfsAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",i.pdfsAValider),r.xp6(3),r.Q6J("ngIf",i.isAdmin))},directives:[_H,C2,ht,Qe,rY,nY,zte,_l,gl,ud,cd,Dv,ri],pipes:[sY],styles:["a[_ngcontent-%COMP%]{color:#0ff;font-size:large}.img[_ngcontent-%COMP%]{max-width:150px}li[_ngcontent-%COMP%]{height:35px}"]}),n})();function sne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",2),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddArticle()}),r._uU(1," Ajouter un article sur ce th\xe8me.\n"),r.qZA()}}function one(n,t){if(1&n&&(r.TgZ(0,"mat-card-title"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",e.titre," (par : ",e.nomAuteur,") (Cliquez sur la photo pour l'agrandir.)")}}function ane(n,t){if(1&n&&(r.TgZ(0,"mat-card-title"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",e.titre," (par : ",e.nomAuteur,")")}}function lne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"img",10),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onZoom(s)}),r.qZA()}if(2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo,r.LSH)}}function cne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"img",10),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onZoom(s)}),r.qZA()}if(2&n){const e=r.oxw().$implicit;r.s9C("src",e.photo2,r.LSH)}}function une(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",11),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).onEdit(s)}),r._uU(1,"Modifier l'article"),r.qZA()}}function dne(n,t){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"mat-card",4),r.YNc(2,one,2,2,"mat-card-title",1),r.YNc(3,ane,2,2,"mat-card-title",1),r.YNc(4,lne,1,1,"img",5),r.YNc(5,cne,1,1,"img",6),r.TgZ(6,"mat-card-subtitle"),r._uU(7),r.qZA(),r.TgZ(8,"div"),r.TgZ(9,"h2"),r.TgZ(10,"pre"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r.YNc(13,une,2,0,"button",8),r.qZA(),r.qZA(),r._UZ(14,"div",9),r.qZA()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Q6J("ngIf",e.photo),r.xp6(1),r.Q6J("ngIf",!e.photo),r.xp6(1),r.Q6J("ngIf",e.photo),r.xp6(1),r.Q6J("ngIf",e.photo2),r.xp6(2),r.Oqu(e.legende),r.xp6(4),r.Oqu(e.texte),r.xp6(2),r.Q6J("ngIf",i.canWrite)}}function hne(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,dne,15,7,"div",3),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",null==e.themesService.currentTheme?null:e.themesService.currentTheme.articles)}}function pne(n,t){if(1&n&&r._UZ(0,"img",0),2&n){const e=r.oxw();r.s9C("src",e.image2,r.LSH)}}let fne=(()=>{class n{constructor(e,i,s,o,u,p){this.globalService=e,this.themesService=i,this.articlesService=s,this.authService=o,this.router=u,this.matDialog=p,this.isConnected=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(m=>{if(this.canWrite=!1,null!=m){const b=m.status;null!=b&&b>=qe.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=b&&(b&qe.editArticle)==qe.editArticle}}),o.emitUserChanged()}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe()}onEdit(e){this.router.navigate(["app-edit-article/",e.id])}onAddArticle(){this.router.navigate(["app-add-article"])}onZoom(e){this.articlesService.currentArticle=e,this.matDialog.open(bL,{height:"90%",width:"60%"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(jo),r.Y36(dv),r.Y36(sd),r.Y36(Mr),r.Y36(Sn),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-liste-articles"]],decls:4,vars:3,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","color","accent",3,"click"],[4,"ngFor","ngForOf"],[1,"card-item"],["alt","Photo de Mori\xe8res","height","250px","style","margin: 25px;",3,"src","click",4,"ngIf"],["alt","Photo de Mori\xe8res","style","margin: 25px;","height","250px",3,"src","click",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[2,"height","15px"],["alt","Photo de Mori\xe8res","height","250px",2,"margin","25px",3,"src","click"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1),r.qZA(),r.YNc(2,sne,2,0,"button",0),r.YNc(3,hne,2,1,"div",1)),2&e&&(r.xp6(1),r.hij("Articles sur le th\xe8me : [",null==i.themesService.currentTheme?null:i.themesService.currentTheme.nom,"]"),r.xp6(1),r.Q6J("ngIf",i.isConnected),r.xp6(1),r.Q6J("ngIf",null==i.themesService.currentTheme?null:i.themesService.currentTheme.articles))},directives:[Qe,ri,ht,_l,ud,gl],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:0;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:24%;max-height:30%;align-content:left}.card-item[_ngcontent-%COMP%]{margin-top:5px}"]}),n})(),bL=(()=>{class n{constructor(e,i){var s,o,u,p,m;this.globalService=e,this.articlesService=i,this.sousTitre="",this.image=null===(s=i.currentArticle)||void 0===s?void 0:s.photo,this.image2=null===(o=i.currentArticle)||void 0===o?void 0:o.photo2,this.legende=null===(u=i.currentArticle)||void 0===u?void 0:u.legende,this.texte=null===(p=i.currentArticle)||void 0===p?void 0:p.texte,this.titre=null===(m=i.currentArticle)||void 0===m?void 0:m.titre}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(jo),r.Y36(sd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-maximise-article-image"]],decls:17,vars:6,consts:[["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-card-image","","dialog-img","","alt","Article","class","dialog-img",3,"src",4,"ngIf"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.qZA(),r._UZ(6,"img",0),r.YNc(7,pne,1,1,"img",1),r.TgZ(8,"mat-card-content"),r._uU(9),r.qZA(),r.TgZ(10,"mat-card-content"),r.TgZ(11,"pre"),r._uU(12),r.qZA(),r.qZA(),r.TgZ(13,"mat-card-actions"),r.TgZ(14,"div"),r.TgZ(15,"button",2),r._uU(16,"Fermer"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(i.titre),r.xp6(2),r.Oqu(i.sousTitre),r.xp6(1),r.s9C("src",i.image,r.LSH),r.xp6(1),r.Q6J("ngIf",i.image2),r.xp6(2),r.hij(" ",i.legende," "),r.xp6(3),r.hij("            ",i.texte,"\n        "))},directives:[_l,hD,gl,ud,dD,Qe,cd,Dv,ri,EA],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),n})();function mne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r._UZ(6,"img",2),r.TgZ(7,"mat-card-content",3),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"div",4),r.TgZ(13,"button",5),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onValideArticle(o)}),r._uU(14,"Valider l'article"),r.qZA(),r.TgZ(15,"button",5),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onEditeArticle(o)}),r._uU(16,"Editer l'article"),r.qZA(),r.TgZ(17,"button",6),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw(2).onRejeteArticle(o)}),r._uU(18,"Rejeter l'article"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(3),r.Oqu(e.titre),r.xp6(2),r.Oqu(e.legende),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.texte)}}function gne(n,t){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2),r.qZA(),r.YNc(3,mne,19,4,"div",1),r._UZ(4,"br"),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.hij("Liste des articles \xe0 valider : (",e.articlesAValider.length,")"),r.xp6(1),r.Q6J("ngForOf",e.articlesAValider)}}let _ne=(()=>{class n{constructor(e,i,s,o,u,p){this.globalService=e,this.pdfService=i,this.photosService=s,this.authService=o,this.articlesService=u,this.matDialog=p,this.articlesAValider=[],this.isConnected=!1,this.canWrite=!1,this.isAdmin=!1,this.isEditArticle=!1,this.isEditPhotosDeClasse=!1,this.isModerateur=!1,this.pdfsAValider=[],this.authSubscription=this.authService.authSubject.subscribe(m=>{if(null!=m){let b=this.authService.getCurrentUser();b&&b.status&&(b.status&qe.administrateur)===qe.administrateur?this.isAdmin=!0:(b&&b.status&&(b.status&qe.editArticle)===qe.editArticle&&(this.isEditArticle=!0),b&&b.status&&(b.status&qe.editPhotosDeClasse)===qe.editPhotosDeClasse&&(this.isEditPhotosDeClasse=!0),b&&b.status&&(b.status&qe.moderateur)===qe.moderateur&&(this.isModerateur=!0))}}),this.authService.emitUserChanged()}ngOnInit(){this.articlesService.getArticlesAValider().subscribe(e=>{this.articlesAValider=e.docs}),this.pdfService.getListePdfAValider().subscribe(e=>{this.pdfsAValider=e.docs})}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}onValideArticle(e){this.articlesService.valideArticle(e).then(i=>{}).catch(i=>{console.log(i)})}onRejeteArticle(e){this.articlesService.rejeteArticle(e).then(i=>{}).catch(i=>{console.log(i)})}onEditeArticle(e){this.articlesService.currentArticle=e,this.matDialog.open(bL,{height:"90%",width:"60%"})}onValidePdf(e){this.pdfService.validerPdf(e),this.pdfService.getPdfs()}onRejetePdf(e){this.pdfService.rejeterPdf(e)}onValidePhoto(e){this.photosService.validerPhoto(e),this.photosService.getPhotos()}onRejetePhoto(e){this.photosService.rejeterPhoto(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(jo),r.Y36(xv),r.Y36(Mc),r.Y36(Mr),r.Y36(sd),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-valider-articles"]],inputs:{articlesAValider:"articlesAValider"},decls:4,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Photo de Mori\xe8res introuvable",1,"img",3,"src"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1,"Validations"),r.qZA(),r._UZ(2,"br"),r.YNc(3,gne,5,2,"div",0)),2&e&&(r.xp6(3),r.Q6J("ngIf",i.isEditArticle||i.isAdmin))},directives:[Qe,ht,_l,gl,ud,cd,Dv,ri],styles:["pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}.card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:20pt;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:90%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:20%;max-height:20%;align-content:left}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}"]}),n})();class bne{constructor(t,e,i,s,o,u,p,m,b,w,E){this.id=t,this.titre=e,this.texte=i,this.idTheme=s,this.date=o,this.photo=u,this.photo2=p,this.legende=m,this.auteur=b,this.nomAuteur=w,this.status=E}}function yne(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Edition de l'article ",e.article.titre,"")}}function vne(n,t){if(1&n&&r._UZ(0,"app-article-form",3),2&n){const e=r.oxw();r.Q6J("article",e.article)}}let yL=(()=>{class n{constructor(e,i,s){this.globalService=e,this.articlesService=i,this.route=s,this.articlesService.getArticle(this.route.snapshot.params.id).subscribe(u=>{this.article=u.data(),this.article.id=u.id},u=>{console.log("Erreur = "+u)})}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(jo),r.Y36(sd),r.Y36(As))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-article"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(e,i){1&e&&(r.YNc(0,yne,2,1,"h4",0),r.TgZ(1,"div",1),r.YNc(2,vne,1,1,"app-article-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.article),r.xp6(2),r.Q6J("ngIf",i.article))},styles:[""]}),n})();const oY=new Set;let Av,aY=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Cne}matchMedia(e){return this._platform.WEBKIT&&function(n){if(!oY.has(n))try{Av||(Av=document.createElement("style"),Av.setAttribute("type","text/css"),document.head.appendChild(Av)),Av.sheet&&(Av.sheet.insertRule(`@media ${n} {.fx-query-test{ }}`,0),oY.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xt))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(xt))},token:n,providedIn:"root"}),n})();function Cne(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let kv=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new le.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return lY(su(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let o=Gf(lY(su(e)).map(u=>this._registerQuery(u).observable));return o=Ul(o.pipe(R(1)),o.pipe(Ke(1),Fl(0))),o.pipe((0,g.U)(u=>{const p={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:b})=>{p.matches=p.matches||m,p.breakpoints[b]=m}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Mn.y(u=>{const p=m=>this._zone.run(()=>u.next(m));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Yt(i),(0,g.U)(({matches:u})=>({query:e,matches:u})),Pe(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(aY),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(aY),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})();function lY(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const yl_Small="(min-width: 600px) and (max-width: 959.98px)";function Dne(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Tne(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",15),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Mne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2,"Vous voulez joindre une photo ?"),r.qZA(),r.TgZ(3,"mat-form-field",11),r.TgZ(4,"ngx-mat-file-input",12),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(5,"mat-icon",13),r._uU(6,"folder"),r.qZA(),r.YNc(7,Dne,2,1,"mat-error",2),r.qZA(),r.YNc(8,Tne,1,1,"mat-progress-bar",14),r.qZA()}if(2&n){const e=r.oxw();let i;r.xp6(7),r.Q6J("ngIf",null==e.form||null==(i=e.form.get("photo"))?null:i.hasError("maxSize")),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Ene(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("legende"))}}function Sne(n,t){if(1&n&&(r.TgZ(0,"mat-form-field",5),r._UZ(1,"input",16),r.TgZ(2,"div",7),r.YNc(3,Ene,2,1,"mat-error",8),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",null==e.form||null==e.form.controls||null==e.form.controls.legende?null:e.form.controls.legende.hasError("required"))}}function xne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function Ane(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function kne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function Ine(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function Rne(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}function One(n,t){1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"button",19),r._uU(2,"Valider"),r.qZA(),r.qZA())}let ok=(()=>{class n{constructor(e,i,s,o,u,p,m,b){var w;this.formBuilder=e,this.angularFireStorage=i,this.themesService=s,this.authService=o,this.articlesService=u,this.router=p,this.breakpointObserver=m,this.location=b,this.color="primary",this.errorMessage="",this.fileIsUploading=!1,this.fileUploaded=!0,this.isFileAttached=!1,this.maxSize=1e8,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,g.U)(E=>E.matches)),this.form=this.formBuilder.group({photo:[{value:null===(w=this.article)||void 0===w?void 0:w.photo,visible:this.isFileAttached}],progressbar:[{value:"Progression",visible:this.isFileAttached}],legende:["",[st.maxLength(50)]],titre:["",[st.required,st.maxLength(60)]],texte:["",[st.required,st.minLength(20),st.maxLength(6500)]]})}ngOnInit(){var e,i,s,o,u,p;this.initForm(),null!=(null===(e=this.article)||void 0===e?void 0:e.photo)&&(this.downloadURL=null===(i=this.article)||void 0===i?void 0:i.photo),this.form.controls.photo.setValue(this.downloadURL),this.form.controls.legende.setValue(null===(s=this.article)||void 0===s?void 0:s.legende),this.form.controls.titre.setValue(null===(o=this.article)||void 0===o?void 0:o.titre),this.form.controls.texte.setValue(null===(u=this.article)||void 0===u?void 0:u.texte),this.isFileAttached=""!==(null===(p=this.article)||void 0===p?void 0:p.photo)}initForm(){}getErrorMessage(e){var i,s,o,u,p,m,b,w,E;let x="";switch(e){case"photo":(null===(i=this.form)||void 0===i?void 0:i.controls.photo.touched)&&(x=(null===(s=this.form)||void 0===s?void 0:s.controls.photo.hasError("maxSize"))?"Vous devez s\xe9lectionner une photo de moins de 100mo":"");break;case"titre":(null===(o=this.form)||void 0===o?void 0:o.controls.titre.touched)&&((null===(u=this.form)||void 0===u?void 0:u.controls.titre.hasError("required"))&&(x="Vous devez saisir un titre."),(null===(p=this.form)||void 0===p?void 0:p.controls.titre.hasError("maxlength"))&&(x="Le titre ne doit pas comporter plus de 60 caract\xe8res."));break;case"texte":(null===(m=this.form)||void 0===m?void 0:m.controls.texte.touched)&&((null===(b=this.form)||void 0===b?void 0:b.controls.texte.hasError("required"))&&(x="Vous devez saisir un texte."),(null===(w=this.form)||void 0===w?void 0:w.controls.texte.hasError("minlength"))&&(x="Le texte doit comporter plus de 20 caract\xe8res."),(null===(E=this.form)||void 0===E?void 0:E.controls.texte.hasError("maxlength"))&&(x="Le texte ne doit pas comporter plus de 6500 caract\xe8res."))}return x}onSubmit(){var e,i,s,o,u,p,m,b;null!=this.article&&(this.article.titre=null===(i=null===(e=this.form)||void 0===e?void 0:e.get("titre"))||void 0===i?void 0:i.value),null!=this.article&&(this.article.texte=null===(o=null===(s=this.form)||void 0===s?void 0:s.get("texte"))||void 0===o?void 0:o.value),null!=this.article&&(this.article.photo=this.downloadURL),null!=this.article&&(this.article.legende=null===(p=null===(u=this.form)||void 0===u?void 0:u.get("legende"))||void 0===p?void 0:p.value),""===(null===(m=this.article)||void 0===m?void 0:m.id)?(this.article.auteur=null===(b=this.authService.getCurrentUser())||void 0===b?void 0:b.uid,this.articlesService.addArticle(this.article).then(w=>{alert("Merci pour cet article qui sera tr\xe9s prochainement publi\xe9.")})):this.articlesService.updateArticle(this.article).then(w=>{}),this.themesService.getThemes(),this.articlesService.getArticlesCurrentTheme(),this.location.back()}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Images/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(p=>{this.uploadPercent=p}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(p=>{this.downloadURL=p})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Np),r.Y36(dv),r.Y36(Mr),r.Y36(sd),r.Y36(Sn),r.Y36(kv),r.Y36(jt))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-article-form"]],inputs:{article:"article"},features:[r._Bn([yL])],decls:20,vars:10,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["alt","",1,"img",3,"src"],["class","full-width",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","rows","45","cols","250","formControlName","texte","placeholder","Texte"],["class","button-wrapper",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["matInput","","formControlName","legende","placeholder","L\xe9gende"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,Mne,9,2,"div",2),r.TgZ(3,"div"),r._UZ(4,"img",3),r.qZA(),r.YNc(5,Sne,4,1,"mat-form-field",4),r.TgZ(6,"mat-form-field",5),r._UZ(7,"input",6),r.TgZ(8,"div",7),r.YNc(9,xne,2,1,"mat-error",8),r.YNc(10,Ane,2,1,"mat-error",8),r.qZA(),r.qZA(),r._UZ(11,"br"),r.TgZ(12,"mat-form-field",5),r.TgZ(13,"textarea",9),r._uU(14,"      "),r.qZA(),r.TgZ(15,"div",7),r.YNc(16,kne,2,1,"mat-error",8),r.YNc(17,Ine,2,1,"mat-error",8),r.YNc(18,Rne,2,1,"mat-error",8),r.qZA(),r.qZA(),r.YNc(19,One,3,0,"div",10),r.qZA(),r.qZA()),2&e){let s,o,u,p,m;r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.isFileAttached),r.xp6(2),r.s9C("src",null==i.article?null:i.article.photo,r.LSH),r.xp6(1),r.Q6J("ngIf",i.fileUploaded),r.xp6(4),r.Q6J("ngIf",null==i.form||null==(s=i.form.get("titre"))||null==s.errors?null:s.errors.required),r.xp6(1),r.Q6J("ngIf",null==i.form||null==(o=i.form.get("titre"))||null==o.errors?null:o.errors.maxlength),r.xp6(6),r.Q6J("ngIf",null==i.form||null==(u=i.form.get("texte"))||null==u.errors?null:u.errors.required),r.xp6(1),r.Q6J("ngIf",null==i.form||null==(p=i.form.get("texte"))||null==p.errors?null:p.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==i.form||null==(m=i.form.get("texte"))||null==m.errors?null:m.errors.maxlength),r.xp6(1),r.Q6J("ngIf",!i.fileIsUploading&&(null==i.form?null:i.form.valid))}},directives:[Tu,go,ui,Qe,fl,ld,qs,mo,Gs,qn,Rc,kp,xc,Sv,ri],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:35%;align-content:left}"]}),n})();function Nne(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un article."),r.qZA())}function Pne(n,t){if(1&n&&r._UZ(0,"app-article-form",3),2&n){const e=r.oxw();r.Q6J("article",e.article)}}let Fne=(()=>{class n{constructor(e,i){var s,o;this.authService=e,this.themesService=i,this.article=new bne("","","",null===(s=this.themesService.currentTheme)||void 0===s?void 0:s.id,(new Date).toJSON(),"","","",null===(o=this.authService.getCurrentUser())||void 0===o?void 0:o.uid,"",0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mr),r.Y36(dv))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-article"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(e,i){1&e&&(r.YNc(0,Nne,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Pne,1,1,"app-article-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.article),r.xp6(2),r.Q6J("ngIf",i.article))},directives:[Qe,ok],styles:[""]}),n})();function Lne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function Bne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function Vne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password"))}}function Une(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password"))}}function Hne(n,t){if(1&n&&(r.TgZ(0,"mat-error",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password"))}}let cY=(()=>{class n{constructor(e,i,s,o){this.authService=e,this.formBuilder=i,this.dialogRef=s,this.data=o,this.signinForm=this.formBuilder.group({email:["",[st.required,st.email]],password:["",[st.required,st.minLength(5),st.maxLength(20)]]}),this.errorMessage="",this.hide=!0}ngOnInit(){}save(){this.dialogRef.close(this.signinForm.value)}close(){this.dialogRef.close()}getErrorMessage(e){let i="";switch(e){case"email":if(null!=this.signinForm&&this.signinForm.get("email").hasError("required")){i="Vous devez saisir une adresse email. ";break}if(null!=this.signinForm&&this.signinForm.get("email").hasError("email")){i="L'adresse saisie n'est pas valide.";break}break;case"password":if(null!=this.signinForm&&this.signinForm.controls.password.hasError("required")){i="Vous devez saisir un mot de passe. ";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("minlength")){i="Vous devez saisir un mot de passe comportant au moins 5 caract\xe8res";break}if(null!=this.signinForm&&this.signinForm.controls.password.hasError("maxlength")){i="Vous devez saisir un mot de passe comportant au plus 20 caract\xe8res";break}}return i}onMotDePasseOublie(){null!=this.signinForm&&!0===this.signinForm.get("email").valid?this.authService.ForgotPassword(this.signinForm.get("email").value):alert("Merci de saisir l'adresse mail avec laquelle vous avez cr\xe9\xe9 votre compte.")}onChangeVisibilite(){this.hide=!this.hide}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mr),r.Y36(yo),r.Y36(Ap),r.Y36(X1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sign-in"]],decls:24,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Email","formControlName","email"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Mot de passe","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mat-raised-button","mat-accent",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"h2",0),r._uU(1,"Connexion"),r.qZA(),r.TgZ(2,"mat-dialog-content",1),r.TgZ(3,"mat-form-field",2),r._UZ(4,"input",3),r.TgZ(5,"div",4),r.YNc(6,Lne,2,1,"mat-error",5),r.YNc(7,Bne,2,1,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",2),r._UZ(9,"input",6),r.TgZ(10,"button",7),r.NdJ("click",function(){return i.onChangeVisibilite()}),r.TgZ(11,"mat-icon"),r._uU(12),r.qZA(),r.qZA(),r.TgZ(13,"div",4),r.YNc(14,Vne,2,1,"mat-error",5),r.YNc(15,Une,2,1,"mat-error",5),r.YNc(16,Hne,2,1,"mat-error",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"mat-dialog-actions"),r.TgZ(18,"button",8),r.NdJ("click",function(){return i.save()}),r._uU(19,"Ok"),r.qZA(),r.TgZ(20,"button",9),r.NdJ("click",function(){return i.close()}),r._uU(21,"Annuler"),r.qZA(),r.TgZ(22,"button",9),r.NdJ("click",function(){return i.onMotDePasseOublie()}),r._uU(23,"Mot de passe oubli\xe9 ?"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("formGroup",i.signinForm),r.xp6(4),r.Q6J("ngIf",i.signinForm.get("email").hasError("email")),r.xp6(1),r.Q6J("ngIf",i.signinForm.get("email").hasError("required")),r.xp6(2),r.Q6J("type",i.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",i.hide),r.xp6(2),r.Oqu(i.hide?"visibility_off":"visibility"),r.xp6(2),r.Q6J("ngIf",i.signinForm.get("password").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signinForm.get("password").hasError("minlength")),r.xp6(1),r.Q6J("ngIf",i.signinForm.get("password").hasError("maxlength")))},directives:[WU,eD,go,ui,fl,ld,qs,mo,Gs,Qe,ri,kp,Rc,tD,xc],styles:[".connexion-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})();function Zne(n,t){return e=>{const s=e.controls[t];s.errors&&!s.errors.mustMatch||s.setErrors(e.controls[n].value!==s.value?{mustMatch:!0}:null)}}function qne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function Yne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("nom"))}}function Gne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}function jne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("prenom"))}}function zne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function $ne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("email"))}}function Wne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password1"))}}function Jne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password1"))}}function Qne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password2"))}}function Kne(n,t){if(1&n&&(r.TgZ(0,"mat-error",12),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("password2"))}}let uY=(()=>{class n{constructor(e,i){this.formBuilder=e,this.dialogRef=i,this.signupForm=this.formBuilder.group({nom:["",[st.required,st.minLength(5),st.maxLength(25)]],prenom:["",[st.required,st.minLength(3),st.maxLength(25)]],email:["",[st.required,st.email]],password1:["",[st.required,st.minLength(5),st.maxLength(20)]],password2:["",[st.required,st.minLength(5),st.maxLength(20)]]},{validator:Zne("password1","password2")}),this.errorMessage="",this.hide=!0}ngOnInit(){}initForm(){}close(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.signupForm.value)}getErrorMessage(e){let i="";switch(e){case"nom":this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("required")&&(i="Vous devez saisir votre nom"),(this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("minlength")||this.signupForm.controls.nom.touched&&this.signupForm.controls.nom.hasError("maxlength"))&&(i="Vous devez saisir un nom comportant entre 5 et 25 caract\xe8res");break;case"prenom":this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("required")&&(i="Vous devez saisir votre pr\xe9nom"),(this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("minlength")||this.signupForm.controls.prenom.touched&&this.signupForm.controls.prenom.hasError("maxlength"))&&(i="Vous devez saisir un pr\xe9nom comportant entre 3 et 25 caract\xe8res");break;case"email":this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("required")&&(i="Vous devez saisir une adresse email"),this.signupForm.controls.email.touched&&this.signupForm.controls.email.hasError("email")&&(i="L'adresse saisie n'est pas valide.");break;case"password1":this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.signupForm.controls.password1.touched&&this.signupForm.controls.password1.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res");break;case"password2":this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("required")&&(i="Vous devez saisir un mot de passe"),this.signupForm.controls.password2.touched&&this.signupForm.controls.password2.hasError("minlength")&&(i="Vous devez saisir un mot de passe comportant entre 5 et 20 caract\xe8res")}return i}onChangeVisibilite(){this.hide=!this.hide}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Ap))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sign-up"]],decls:41,vars:20,consts:[[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Nom","formControlName","nom"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Pr\xe9nom","formControlName","prenom"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Mot de passe","formControlName","password1","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirmer le mot de passe","formControlName","password2","autocomplete","current-password",3,"type"],["mat-button","","mat-dialog-close","true",3,"disabled","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-dialog-content",0),r.TgZ(1,"mat-form-field",1),r._UZ(2,"input",2),r.TgZ(3,"div",3),r.YNc(4,qne,2,1,"mat-error",4),r.YNc(5,Yne,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"mat-form-field",1),r._UZ(8,"input",5),r.TgZ(9,"div",3),r.YNc(10,Gne,2,1,"mat-error",4),r.YNc(11,jne,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",1),r._UZ(14,"input",6),r.TgZ(15,"div",3),r.YNc(16,zne,2,1,"mat-error",4),r.YNc(17,$ne,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(18,"br"),r.TgZ(19,"mat-form-field",1),r._UZ(20,"input",7),r.TgZ(21,"button",8),r.NdJ("click",function(){return i.onChangeVisibilite()}),r.TgZ(22,"mat-icon"),r._uU(23),r.qZA(),r.qZA(),r.TgZ(24,"div",3),r.YNc(25,Wne,2,1,"mat-error",4),r.YNc(26,Jne,2,1,"mat-error",4),r.qZA(),r.qZA(),r._UZ(27,"br"),r.TgZ(28,"mat-form-field",1),r._UZ(29,"input",9),r.TgZ(30,"button",8),r.NdJ("click",function(){return i.onChangeVisibilite()}),r.TgZ(31,"mat-icon"),r._uU(32),r.qZA(),r.qZA(),r.TgZ(33,"div",3),r.YNc(34,Qne,2,1,"mat-error",4),r.YNc(35,Kne,2,1,"mat-error",4),r.qZA(),r.qZA(),r.TgZ(36,"mat-dialog-actions"),r.TgZ(37,"button",10),r.NdJ("click",function(){return i.onSave()}),r._uU(38,"Ok"),r.qZA(),r.TgZ(39,"button",11),r._uU(40,"Annuler"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.signupForm),r.xp6(4),r.Q6J("ngIf",(i.signupForm.controls.nom.hasError("minlength")||i.signupForm.controls.nom.hasError("maxlength"))&&!i.signupForm.controls.nom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.nom.hasError("required")),r.xp6(5),r.Q6J("ngIf",(i.signupForm.controls.prenom.hasError("minlength")||i.signupForm.controls.prenom.hasError("maxlength"))&&!i.signupForm.controls.prenom.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.prenom.hasError("required")),r.xp6(5),r.Q6J("ngIf",i.signupForm.controls.email.hasError("email")&&!i.signupForm.controls.email.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.email.hasError("required")),r.xp6(3),r.Q6J("type",i.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password1")("aria-pressed",i.hide),r.xp6(2),r.Oqu(i.hide?"visibility_off":"visibility"),r.xp6(2),r.Q6J("ngIf",i.signupForm.controls.password1.hasError("minLength")&&!i.signupForm.controls.password1.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.password1.hasError("required")),r.xp6(3),r.Q6J("type",i.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password2")("aria-pressed",i.hide),r.xp6(2),r.Oqu(i.hide?"visibility_off":"visibility"),r.xp6(2),r.Q6J("ngIf",i.signupForm.controls.password2.hasError("minLength")&&!i.signupForm.controls.password2.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.signupForm.controls.password2.hasError("required")),r.xp6(2),r.Q6J("disabled",i.signupForm.invalid))},directives:[eD,go,ui,fl,ld,qs,mo,Gs,Qe,ri,kp,Rc,tD,EA,xc],styles:[""]}),n})();function Xne(n,t){if(1&n&&(r.TgZ(0,"mat-error",7),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij(" ",e.getErrorMessage("message")," ")}}let dY=(()=>{class n{constructor(e,i,s){this.formBuilder=e,this.matDialogRef=i,this.data=s,this.messageForm=this.formBuilder.group({message:["",[st.required,st.maxLength(150)]]}),this.errorMessage="",this.email=s.email}close(){this.matDialogRef.close()}save(){"VALID"==this.messageForm.status?this.matDialogRef.close(this.messageForm.value):alert("Saisie invalide.")}getErrorMessage(e){let i="";switch(e){case"message":this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("required")&&(i="Vous devez saisir un message"),this.messageForm.controls.message.touched&&this.messageForm.controls.message.hasError("maxlength")&&(i="Le message doit comporter au maximum 150 caract\xe8res")}return i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Ap),r.Y36(X1))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-messages"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["matInput","","cols","50","rows","3","formControlName","message","placeholder","Message"],["class","error-message",4,"ngIf"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-raised-button",3,"click"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"h2",0),r._uU(1,"Message :"),r.qZA(),r.TgZ(2,"mat-dialog-content",1),r._uU(3),r.TgZ(4,"mat-form-field",2),r.TgZ(5,"mat-label"),r._uU(6,"Ecrivez ici v\xf4tre message."),r.qZA(),r._UZ(7,"textarea",3),r.TgZ(8,"div"),r.YNc(9,Xne,2,1,"mat-error",4),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-dialog-actions"),r.TgZ(11,"button",5),r.NdJ("click",function(){return i.save()}),r._uU(12,"Ok"),r.qZA(),r.TgZ(13,"button",6),r.NdJ("click",function(){return i.close()}),r._uU(14,"Annuler"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("formGroup",i.messageForm),r.xp6(1),r.hij(" ",i.email," "),r.xp6(6),r.Q6J("ngIf",i.messageForm.controls.message.hasError("maxlength")||i.messageForm.controls.message.hasError("required")))},directives:[WU,eD,go,ui,fl,y2,ld,qs,mo,Gs,Qe,tD,xc],styles:["mat-label[_ngcontent-%COMP%]{color:#ff0;font-size:large}"]}),n})();function hY(n){return t=>t.lift(new eie(n))}class eie{constructor(t){this.value=t}call(t,e){return e.subscribe(new tie(t,this.value))}}class tie extends Ei.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const ak=["*"];function nie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(e),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function iie(n,t){1&n&&(r.TgZ(0,"mat-drawer-content"),r.Hsn(1,2),r.qZA())}const rie=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],sie=["mat-drawer","mat-drawer-content","*"];function oie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(e),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function aie(n,t){1&n&&(r.TgZ(0,"mat-sidenav-content",3),r.Hsn(1,2),r.qZA())}const lie=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],cie=["mat-sidenav","mat-sidenav-content","*"],pY=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",fY={transformDrawer:ji("transform",[Gt("open, open-instant",$e({transform:"none",visibility:"visible"})),Gt("void",$e({"box-shadow":"none",visibility:"hidden"})),un("void => open-instant",gn("0ms")),un("void <=> open, open-instant => void",gn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},uie=new r.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),vL=new r.OlP("MAT_DRAWER_CONTAINER");let lk=(()=>{class n extends Hl{constructor(e,i,s,o,u){super(s,o,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>gY)),r.Y36(r.SBq),r.Y36(Ja),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&r.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[r.qOj],ngContentSelectors:ak,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),mY=(()=>{class n{constructor(e,i,s,o,u,p,m){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=o,this._ngZone=u,this._doc=p,this._container=m,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new le.xQ,this._animationEnd=new le.xQ,this._animationState="void",this.openedChange=new r.vpe(!0),this._openedStream=this.openedChange.pipe(gt(b=>b),(0,g.U)(()=>{})),this.openedStart=this._animationStarted.pipe(gt(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),hY(void 0)),this._closedStream=this.openedChange.pipe(gt(b=>!b),(0,g.U)(()=>{})),this.closedStart=this._animationStarted.pipe(gt(b=>b.fromState!==b.toState&&"void"===b.toState),hY(void 0)),this._destroyed=new le.xQ,this.onPositionChanged=new r.vpe,this._modeChanged=new le.xQ,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{kn(this._elementRef.nativeElement,"keydown").pipe(gt(b=>27===b.keyCode&&!this.disableClose&&!Un(b)),Pe(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(on((b,w)=>b.fromState===w.fromState&&b.toState===w.toState)).subscribe(b=>{const{fromState:w,toState:E}=b;(0===E.indexOf("open")&&"void"===w||"void"===E&&0===w.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Me(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Me(e)}get opened(){return this._opened}set opened(e){this.toggle(Me(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,i){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),i)}_setOpen(e,i,s="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=s):(this._animationState="void",i&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(R(1)).subscribe(u=>o(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(g_),r.Y36(ei),r.Y36(xt),r.Y36(r.R0b),r.Y36(Z,8),r.Y36(vL,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&r.WFA("@transform.start",function(o){return i._animationStartListener(o)})("@transform.done",function(o){return i._animationDoneListener(o)}),2&e&&(r.uIk("align",null),r.d8E("@transform",i._animationState),r.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ak,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},directives:[Hl],encapsulation:2,data:{animation:[fY.transformDrawer]},changeDetection:0}),n})(),gY=(()=>{class n{constructor(e,i,s,o,u,p=!1,m){this._dir=e,this._element=i,this._ngZone=s,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new r.n_E,this.backdropClick=new r.vpe,this._destroyed=new le.xQ,this._doCheckSubject=new le.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new le.xQ,e&&e.change.pipe(Pe(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(Pe(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Me(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Me(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Yt(this._allDrawers),Pe(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Yt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Fl(10),Pe(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,e-=s}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(gt(i=>i.fromState!==i.toState),Pe(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Pe(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Pe(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(R(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Pe((0,En.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(mn,8),r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(_r),r.Y36(uie),r.Y36(Fn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,lk,5),r.Suo(s,mY,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._content=o.first),r.iGM(o=r.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&r.Gf(lk,5),2&e){let s;r.iGM(s=r.CRH())&&(i._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r._Bn([{provide:vL,useExisting:n}])],ngContentSelectors:sie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(r.F$t(rie),r.YNc(0,nie,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,iie,2,0,"mat-drawer-content",1)),2&e&&(r.Q6J("ngIf",i.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!i._content))},directives:[Qe,lk],styles:[pY],encapsulation:2,changeDetection:0}),n})(),wL=(()=>{class n extends lk{constructor(e,i,s,o,u){super(e,i,s,o,u)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>bY)),r.Y36(r.SBq),r.Y36(Ja),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&r.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[r.qOj],ngContentSelectors:ak,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),_Y=(()=>{class n extends mY{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Me(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ht(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ht(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(r.uIk("align",null),r.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),r.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[r.qOj],ngContentSelectors:ak,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},directives:[Hl],encapsulation:2,data:{animation:[fY.transformDrawer]},changeDetection:0}),n})(),bY=(()=>{class n extends gY{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,wL,5),r.Suo(s,_Y,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._content=o.first),r.iGM(o=r.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[r._Bn([{provide:vL,useExisting:n}]),r.qOj],ngContentSelectors:cie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(r.F$t(lie),r.YNc(0,oie,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,aie,2,0,"mat-sidenav-content",1)),2&e&&(r.Q6J("ngIf",i.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!i._content))},directives:[Qe,wL,Hl],styles:[pY],encapsulation:2,changeDetection:0}),n})(),hie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,et,mf,br],br,et]}),n})(),yY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et],et]}),n})();const CL=["*"],vY=Rs(Xs(class{})),CY=new r.OlP("MatNavList");let vie=(()=>{class n extends vY{constructor(){super(...arguments),this._stateChanges=new le.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[r._Bn([{provide:CY,useExisting:n}]),r.qOj,r.TTD],ngContentSelectors:CL,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),Eie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wA,pl,et,m2,zt],wA,et,m2,yY]}),n})();const Sie=["*",[["mat-toolbar-row"]]],xie=["*","mat-toolbar-row"],Aie=ea(class{constructor(n){this._elementRef=n}});let kie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Iie=(()=>{class n extends Aie{constructor(e,i,s){super(e),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(xt),r.Y36(Z))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,kie,5),2&e){let o;r.iGM(o=r.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:xie,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(Sie),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Rie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et],et]}),n})();function Oie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){return r.CHM(e),r.oxw().onMessage()}),r._uU(1,"Envoyer un message."),r.qZA()}}function Nie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",8),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onListeArticles(o)}),r._uU(2),r.qZA(),r._UZ(3,"br"),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.nom)}}function Pie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onNewCompteDialog()}),r._uU(1," Cr\xe9er mon compte "),r.qZA()}}function Fie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onConnectWidthGoogleDialog()}),r._uU(1," Me connecter via mon compte Google "),r.qZA()}}function Lie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){return r.CHM(e),r.oxw().onConnectDialog()}),r._uU(1," Me connecter "),r.qZA()}}function Bie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDisconnectDialog()}),r._uU(1," Me d\xe9connecter "),r.qZA()}}function Vie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",25),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAdmin()}),r._uU(1," Administration "),r.qZA()}}let EY=(()=>{class n{constructor(e,i,s,o,u,p,m,b){this.router=e,this.dialog=i,this.breakpointObserver=s,this.globalService=o,this.messagesService=u,this.themesService=p,this.articlesService=m,this.authService=b,this.userMail="Visiteur",this.userPassword="",this.isAdmin=!1,this.isAuth=!1,this.showFiller=!1,this.isHandset$=this.breakpointObserver.observe(yl_Small).pipe((0,g.U)(w=>w.matches)),this.userSubscription=this.authService.authSubject.subscribe(w=>{let E=0;null!=w||null!=w?("Visiteur"!=w.email&&w.status>0?(this.userMail=null==w?void 0:w.email,this.isAuth=!0):(this.userMail="Visiteur",this.isAuth=!1),E=w.status):(this.isAuth=!1,this.userMail="D\xe9connect\xe9"),this.isAdmin=(E&qe.administrateur)===qe.administrateur})}ngOnInit(){}ngOnDestroy(){null!=this.userSubscription&&this.userSubscription.unsubscribe(),this.authService.SignOut()}onGoAccueil(){this.router.navigate(["app-acceuil"])}onClickAlbum(e,i){}onOpenPdf(){this.router.navigate(["app-liste-pdf"])}onListeArticles(e){this.themesService.changeCurrentTheme(e),this.articlesService.getArticlesCurrentTheme(),this.router.navigate(["app-liste-articles"])}onEditAlbum(e,i){this.router.navigate(["app-album"],{queryParams:{debut:e,fin:i}})}onEditArticle(e){}onNewCompteDialog(){const e=new xp;e.disableClose=!0,e.autoFocus=!0,e.width="500px";const i=this.dialog.open(uY);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=i.afterClosed().subscribe(s=>{if(void 0!==s){const o=new $1("","",s.nom,s.prenom,s.email,!1,ln.initial);this.authService.createNewUser(o,s.password1)}},s=>{console.log(s)})}onConnectWidthGoogleDialog(){this.authService.connectWidthGoogle()}onConnectDialog(){const e=new xp;e.disableClose=!0,e.autoFocus=!0,e.width="400px",e.data={email:this.userMail,password:this.userPassword};const i=this.dialog.open(cY,e);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=i.afterClosed().subscribe(s=>{let o;void 0!==s&&void 0!==s.email&&void 0!==s.password&&this.authService.SignInUser(s.email,s.password).then(u=>{o=u})},s=>{console.log(s)})}onDisconnectDialog(){this.authService.SignOut(),this.router.navigate(["app-accueil"]),this.authService.emitUserChanged()}onMessage(){var e;const i=new xp;i.disableClose=!0,i.autoFocus=!0,i.width="450px",i.data={email:null===(e=this.authService.getCurrentUser())||void 0===e?void 0:e.email};const s=this.dialog.open(dY,i);this.dialogResultSuscription&&this.dialogResultSuscription.unsubscribe(),this.dialogResultSuscription=s.afterClosed().subscribe(o=>{if(o&&o.message){const u=new iY(new Date,i.data.email,o.message,!1,"");this.messagesService.addMessage(u)}},o=>{console.log(o)})}onAdmin(){this.router.navigate(["app-home-administration"])}onAlbumPhotos(){this.router.navigate(["app-album-photos"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Sn),r.Y36(Na),r.Y36(kv),r.Y36(jo),r.Y36(_L),r.Y36(dv),r.Y36(sd),r.Y36(Mr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-frame"]],decls:108,vars:17,consts:[[1,"sidenav-container"],["fixedInViewport","true",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-raised-button","",3,"click"],["aria-hidden","false","aria-label","Accueil"],["mat-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["width","100%","color","blue","size","3"],["mat-button","",3,"click"],["href","http://www.ville-moriereslesavignon.fr/","target","_blank"],["href","https://fr.wikipedia.org/wiki/Mori%C3%A8res-l%C3%A8s-Avignon","target","_blank"],["href","https://fr.wikipedia.org/wiki/Jean-Charles_de_Folard","target","_blank"],["href","https://fr.wikipedia.org/wiki/Agricol_Perdiguier","target","_blank"],["href","https://www.petit-patrimoine.com/fiche-petit-patrimoine.php?id_pp=84081_1","target","_blank"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Menu lat\xe9ral"],[1,"titre"],[1,"button-row"],["class","button","mat-raised-button","",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"button"],["mat-raised-button","",1,"button",3,"click"],["mat-raised-button","","color","accent",1,"button",3,"click"],["mat-raised-button","","color","warn",1,"button",3,"click"]],template:function(e,i){if(1&e){const s=r.EpF();r.TgZ(0,"mat-sidenav-container",0),r.TgZ(1,"mat-sidenav",1,2),r.ALo(3,"async"),r.ALo(4,"async"),r.ALo(5,"async"),r._UZ(6,"br"),r.TgZ(7,"mat-nav-list"),r.TgZ(8,"button",3),r.NdJ("click",function(){return i.onGoAccueil()}),r.TgZ(9,"h4"),r.TgZ(10,"mat-icon",4),r._uU(11,"home"),r.qZA(),r._uU(12," Accueil "),r.qZA(),r._UZ(13,"br"),r.qZA(),r.qZA(),r.TgZ(14,"mat-nav-list"),r.YNc(15,Oie,2,0,"button",5),r.qZA(),r.TgZ(16,"h1"),r._uU(17,"Articles :"),r.qZA(),r.TgZ(18,"mat-nav-list"),r.YNc(19,Nie,4,1,"div",6),r.qZA(),r._UZ(20,"hr",7),r.TgZ(21,"h1"),r._uU(22,"Album photos :"),r.qZA(),r.TgZ(23,"button",8),r.NdJ("click",function(){return i.onAlbumPhotos()}),r._uU(24,"Photos de Mori\xe8res"),r.qZA(),r.TgZ(25,"mat-nav-list"),r.TgZ(26,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1901,1910)}),r._uU(27,"1901-1910"),r.qZA(),r._UZ(28,"br"),r.TgZ(29,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1911,1920)}),r._uU(30,"1911-1920"),r.qZA(),r._UZ(31,"br"),r.TgZ(32,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1921,1930)}),r._uU(33,"1921-1930"),r.qZA(),r._UZ(34,"br"),r.TgZ(35,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1931,1940)}),r._uU(36,"1931-1940"),r.qZA(),r._UZ(37,"br"),r.TgZ(38,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1941,1950)}),r._uU(39,"1941-1950"),r.qZA(),r._UZ(40,"br"),r.TgZ(41,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1951,1960)}),r._uU(42,"1951-1960"),r.qZA(),r._UZ(43,"br"),r.TgZ(44,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1961,1970)}),r._uU(45,"1961-1970"),r.qZA(),r._UZ(46,"br"),r.TgZ(47,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1971,1980)}),r._uU(48,"1971-1980"),r.qZA(),r._UZ(49,"br"),r.TgZ(50,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1981,1990)}),r._uU(51,"1981-1990"),r.qZA(),r._UZ(52,"br"),r.TgZ(53,"button",8),r.NdJ("click",function(){return i.onEditAlbum(1991,2e3)}),r._uU(54,"1991-2000"),r.qZA(),r.qZA(),r.TgZ(55,"mat-nav-list"),r._UZ(56,"hr",7),r.TgZ(57,"h1"),r._uU(58,"Des documents :"),r.qZA(),r.TgZ(59,"button",8),r.NdJ("click",function(){return i.onOpenPdf()}),r._uU(60,"Documents sur Mori\xe8res."),r.qZA(),r.qZA(),r._UZ(61,"hr",7),r.TgZ(62,"mat-nav-list"),r.TgZ(63,"h1"),r._uU(64,"Autres information"),r.qZA(),r.TgZ(65,"ul"),r.TgZ(66,"li"),r.TgZ(67,"a",9),r._uU(68,"Le site officiel de la ville"),r.qZA(),r.qZA(),r._UZ(69,"br"),r.qZA(),r.TgZ(70,"h1"),r._uU(71,"Voir sur wikipedia"),r.qZA(),r.TgZ(72,"ul"),r.TgZ(73,"li"),r.TgZ(74,"a",10),r._uU(75,"Mori\xe8res les Avignon"),r.qZA(),r.qZA(),r._UZ(76,"br"),r.TgZ(77,"li"),r.TgZ(78,"a",11),r._uU(79,"Le chevalier de Folard"),r.qZA(),r.qZA(),r._UZ(80,"br"),r.TgZ(81,"li"),r.TgZ(82,"a",12),r._uU(83,"Agricol Perdiguier"),r.qZA(),r.qZA(),r._UZ(84,"br"),r.qZA(),r.TgZ(85,"h1"),r._uU(86,"Voir sur Petit patrimoine"),r.qZA(),r.TgZ(87,"ul"),r.TgZ(88,"li"),r.TgZ(89,"a",13),r._uU(90,"L'\xe9glise de Mori\xe8res"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(91,"mat-sidenav-content"),r.TgZ(92,"mat-toolbar",14),r.TgZ(93,"button",15),r.NdJ("click",function(){return r.CHM(s),r.MAs(2).toggle()}),r.TgZ(94,"mat-icon",16),r._uU(95,"menu"),r.qZA(),r.qZA(),r.TgZ(96,"div",17),r.TgZ(97,"span"),r._uU(98,"M\xe9moire mori\xe9roise"),r.qZA(),r.qZA(),r.TgZ(99,"div",18),r.YNc(100,Pie,2,0,"button",19),r.YNc(101,Fie,2,0,"button",19),r.YNc(102,Lie,2,0,"button",20),r.YNc(103,Bie,2,0,"button",19),r.YNc(104,Vie,2,0,"button",21),r.qZA(),r.TgZ(105,"h4",22),r._uU(106),r.qZA(),r.qZA(),r._UZ(107,"router-outlet"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("mode",r.lcZ(4,13,i.isHandset$)?"over":"side")("opened",!r.lcZ(5,15,i.isHandset$)),r.uIk("role",r.lcZ(3,11,i.isHandset$)?"dialog":"navigation"),r.xp6(14),r.Q6J("ngIf",i.isAuth),r.xp6(4),r.Q6J("ngForOf",i.themesService.themes),r.xp6(81),r.Q6J("ngIf",!i.isAuth),r.xp6(1),r.Q6J("ngIf",!i.isAuth),r.xp6(1),r.Q6J("ngIf",!i.isAuth),r.xp6(1),r.Q6J("ngIf",i.isAuth),r.xp6(1),r.Q6J("ngIf",i.isAdmin),r.xp6(2),r.hij("Bonjour : ",i.userMail,""))},directives:[bY,_Y,vie,ri,Rc,Qe,ht,wL,Iie,cm],pipes:[Rg],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:370px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:12px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.titre[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}h1[_ngcontent-%COMP%]{font-size:20px;color:#ff0}"]}),n})();function Uie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-form-field",11),r.TgZ(1,"ngx-mat-file-input",12),r.NdJ("change",function(s){return r.CHM(e),r.oxw(2).onUpload(s)}),r.qZA(),r.TgZ(2,"mat-icon",13),r._uU(3,"folder"),r.qZA(),r.TgZ(4,"mat-error"),r._uU(5),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("accept",".pdf"),r.xp6(4),r.Oqu(e.getErrorMessage("pdf"))}}function Hie(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",16),2&n){const e=r.oxw(3);r.Q6J("value",e.uploadPercent)}}function Zie(n,t){if(1&n&&(r.TgZ(0,"mat-form-field",14),r.YNc(1,Hie,1,1,"mat-progress-bar",15),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function qie(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Uie,6,2,"mat-form-field",9),r.YNc(2,Zie,2,1,"mat-form-field",10),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",!e.fileUploaded||e.fileIsUploading),r.xp6(1),r.Q6J("ngIf",e.fileIsUploading)}}function Yie(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function Gie(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function jie(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("description"))}}function zie(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("description"))}}function $ie(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("description"))}}function Wie(n,t){1&n&&(r.TgZ(0,"div",18),r.TgZ(1,"button",19),r._uU(2,"Valider"),r.qZA(),r.qZA())}let SY=(()=>{class n{constructor(e,i,s,o,u){this.formBuilder=e,this.location=i,this.globalService=s,this.pdfService=o,this.angularFireStorage=u,this.errorMessage="",this.maxSize=1e5,this.fileIsUploading=!1,this.downloadURL="",this.fileUploaded=!1,this.form=this.formBuilder.group({fichier:[""],progressbar:["Progression"],titre:["",[st.required,st.maxLength(50)]],description:["",[st.required,st.minLength(10),st.maxLength(100)]]})}ngOnInit(){null==this.pdf||""==this.pdf.id?(this.pdf=new gL("","","","",0),this.fileUploaded=!1):this.fileUploaded=!0,this.form.controls.fichier.setValue(this.pdf.fichier),this.form.controls.titre.setValue(this.pdf.titre),this.form.controls.description.setValue(this.pdf.description)}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="listePdf/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(p=>{this.uploadPercent=p}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(p=>{this.downloadURL=p})})}getErrorMessage(e){var i,s,o,u,p,m,b,w,E,x,k,P;let Y="";switch(e){case"pdf":(null===(i=this.form)||void 0===i?void 0:i.controls.fichier.touched)&&(Y=this.form.controls.fichier.hasError("maxSize")?"Vous devez s\xe9lectionner un fichier de moins de 16mo":"");break;case"titre":(null===(s=this.form)||void 0===s?void 0:s.controls.titre.touched)&&(Y=this.form.controls.titre.hasError("required")?"Vous devez saisir un titre":""),(null===(u=null===(o=this.form)||void 0===o?void 0:o.get("titre"))||void 0===u?void 0:u.hasError("maxlength"))&&(Y+="le titre doit comporter au plus 50 caract\xe8res");break;case"description":(null===(m=null===(p=this.form)||void 0===p?void 0:p.get("description"))||void 0===m?void 0:m.touched)&&((null===(w=null===(b=this.form)||void 0===b?void 0:b.get("description"))||void 0===w?void 0:w.hasError("required"))&&(Y=this.form.controls.description.hasError("required")?"Vous devez saisir une description du contenu du document":""),(null===(x=null===(E=this.form)||void 0===E?void 0:E.get("description"))||void 0===x?void 0:x.hasError("minlength"))&&(Y+="la description doit comporter au moins 10 caract\xe8res"),(null===(P=null===(k=this.form)||void 0===k?void 0:k.get("description"))||void 0===P?void 0:P.hasError("maxlength"))&&(Y+="la description doit comporter au plus 100 caract\xe8res"))}return Y}onSubmit(){var e,i,s,o,u;this.pdf.titre=null===(i=null===(e=this.form)||void 0===e?void 0:e.get("titre"))||void 0===i?void 0:i.value,this.pdf.description=null===(o=null===(s=this.form)||void 0===s?void 0:s.get("description"))||void 0===o?void 0:o.value,""===(null===(u=this.pdf)||void 0===u?void 0:u.id)?(this.pdf.fichier=this.downloadURL,this.pdf.status=ln.initial,this.pdfService.addPdf(this.pdf)):this.pdfService.updatePdf(this.pdf),this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(jt),r.Y36(jo),r.Y36(xv),r.Y36(Np))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-pdf-form"]],inputs:{pdf:"pdf"},decls:17,vars:8,consts:[[1,"formulaire"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","formControlName","titre","placeholder","Titre"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","formControlName","description","placeholder","Description",2,"width","1000px"],["class","button-wrapper",4,"ngIf"],["class","full-width","appearance","outline",4,"ngIf"],["class","full-width","appearance","outline","color","primary",4,"ngIf"],["appearance","outline",1,"full-width"],["formControlName","fichier","placeholder","Cliquez ici pour s\xe9lectionner un fichier",1,"file-input",3,"accept","change"],["matSuffix",""],["appearance","outline","color","primary",1,"full-width"],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],[1,"error-message"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(2,qie,3,2,"div",2),r._UZ(3,"br"),r.TgZ(4,"mat-form-field",3),r._UZ(5,"input",4),r.TgZ(6,"div",5),r.YNc(7,Yie,2,1,"mat-error",6),r.YNc(8,Gie,2,1,"mat-error",6),r.qZA(),r.qZA(),r._UZ(9,"br"),r.TgZ(10,"mat-form-field",3),r._UZ(11,"input",7),r.TgZ(12,"div",5),r.YNc(13,jie,2,1,"mat-error",6),r.YNc(14,zie,2,1,"mat-error",6),r.YNc(15,$ie,2,1,"mat-error",6),r.qZA(),r.qZA(),r.YNc(16,Wie,3,0,"div",8),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("formGroup",i.form),r.xp6(1),r.Q6J("ngIf",0==i.fileUploaded),r.xp6(5),r.Q6J("ngIf",i.form.controls.titre.hasError("required")),r.xp6(1),r.Q6J("ngIf",i.form.controls.titre.hasError("maxLength")),r.xp6(5),r.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.required),r.xp6(1),r.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.maxlength),r.xp6(1),r.Q6J("ngIf",!i.fileIsUploading&&i.form.valid))},directives:[Tu,go,ui,Qe,fl,ld,qs,mo,Gs,qn,Rc,kp,xc,Sv,ri],styles:[""]}),n})();function Jie(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'un nouveau document."),r.qZA())}function Qie(n,t){if(1&n&&r._UZ(0,"app-pdf-form",3),2&n){const e=r.oxw();r.Q6J("pdf",e.pdf)}}let Kie=(()=>{class n{constructor(){this.pdf=new gL("","","","",0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(e,i){1&e&&(r.YNc(0,Jie,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Qie,1,1,"app-pdf-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.pdf),r.xp6(2),r.Q6J("ngIf",i.pdf))},directives:[Qe,SY],styles:[""]}),n})();function Xie(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Edition du document : ",e.pdf.titre,"")}}function ere(n,t){if(1&n&&r._UZ(0,"app-pdf-form",3),2&n){const e=r.oxw();r.Q6J("pdf",e.pdf)}}let tre=(()=>{class n{constructor(e,i){this.route=e,this.pdfService=i,this.pdfSubscription=this.pdfService.pdfSubject.pipe(Ss(1)).subscribe(o=>{o.length>0&&(this.pdf=this.pdfService.currentPdf)}),this.pdfService.getPdf(this.route.snapshot.params.id).subscribe(o=>{this.pdf=o.data(),this.pdf.id=o.id})}ngOnInit(){}ngOnDestroy(){this.pdfSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(xv))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-pdf"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"pdf",4,"ngIf"],[3,"pdf"]],template:function(e,i){1&e&&(r.YNc(0,Xie,2,1,"h4",0),r.TgZ(1,"div",1),r.YNc(2,ere,1,1,"app-pdf-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.pdf),r.xp6(2),r.Q6J("ngIf",i.pdf))},directives:[Qe,SY],styles:[""]}),n})();function nre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddPdf()}),r._uU(1," Ajouter un document. "),r.qZA()}}function ire(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecremente()}),r._uU(1,"<<"),r.qZA()}}function rre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function sre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncremente()}),r._uU(1,">>"),r.qZA()}}function ore(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}function are(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onVoirPdf(s)}),r._uU(1,"Fermer le document"),r.qZA()}}function lre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onVoirPdf(s)}),r._uU(1,"Ouvrir le document"),r.qZA()}}function cre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onValiderPdf(s)}),r._uU(1,"Valider"),r.qZA()}}function ure(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",18),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onEditPdf(s)}),r._uU(1,"Modifier"),r.qZA()}}function dre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",19),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onDeletePdf(s)}),r._uU(1,"Supprimer"),r.qZA()}}function hre(n,t){if(1&n&&(r._UZ(0,"iframe",20),r.ALo(1,"safe")),2&n){const e=r.oxw(3);r.Q6J("src",r.xi3(1,1,e.url,"resourceUrl"),r.uOi)}}function pre(n,t){if(1&n&&(r.TgZ(0,"mat-grid-title"),r.TgZ(1,"mat-card",10),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-content",11),r.TgZ(5,"div"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-actions"),r.TgZ(9,"div",12),r.YNc(10,are,2,0,"button",13),r.YNc(11,lre,2,0,"button",13),r.YNc(12,cre,2,0,"button",13),r.YNc(13,ure,2,0,"button",14),r.YNc(14,dre,2,0,"button",15),r.qZA(),r.YNc(15,hre,2,4,"iframe",16),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw().$implicit,i=r.oxw();r.xp6(3),r.Oqu(e.titre),r.xp6(4),r.Oqu(e.description),r.xp6(3),r.Q6J("ngIf",e.fichier==i.url),r.xp6(1),r.Q6J("ngIf",e.fichier!=i.url),r.xp6(1),r.Q6J("ngIf",0==e.status&&i.canWrite),r.xp6(1),r.Q6J("ngIf",i.canWrite),r.xp6(1),r.Q6J("ngIf",i.canWrite),r.xp6(1),r.Q6J("ngIf",e.fichier==i.url)}}function fre(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,pre,16,8,"mat-grid-title",9),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.pdfCourant&&e<i.pdfCourant+i.pas)}}function mre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecremente()}),r._uU(1,"<<"),r.qZA()}}function gre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function _re(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncremente()}),r._uU(1,">>"),r.qZA()}}function bre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}let yre=(()=>{class n{constructor(e,i,s,o){this.router=e,this.globalService=i,this.pdfService=s,this.authService=o,this.url="",this.canWrite=!1,this.isConnected=!1,this.pdfs=[],this.pageCourante=1,this.nbPages=0,this.pdfCourant=0,this.pas=6,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(u=>{if(this.canWrite=!1,null!=u){const p=u.status;null!=p&&p>=qe.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=p&&(p&qe.editPdf)==qe.editPdf}}),o.emitUserChanged(),this.pdfService.getPdfsValides().subscribe(u=>{this.pdfs=u.docs.map(p=>{const m=p.data();return m.id=p.id,m}),this.nbPages=Math.ceil(this.pdfs.length/this.pas)}),null!=this.currentUser&&(this.canWrite=(this.currentUser.status&qe.editArticle)===qe.editArticle)}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}onAddPdf(){this.router.navigate(["app-add-pdf"]),this.pdfService.getPdfsValides()}onEditPdf(e){this.router.navigate(["app-edit-pdf/",e.id])}onValiderPdf(e){this.pdfService.validerPdf(e),this.pdfService.getPdfsValides()}onDeletePdf(e){this.pdfService.supprimerPdf(e),this.pdfService.getPdfsValides()}onVoirPdf(e){this.url=this.url===e.fichier?"":e.fichier}onDecremente(){this.pdfCourant-=this.pas,this.pageCourante=Math.ceil(this.pdfCourant/this.pas)+1}onIncremente(){this.pdfCourant+=this.pas,this.pageCourante=Math.ceil(this.pdfCourant/this.pas)+1}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Sn),r.Y36(jo),r.Y36(xv),r.Y36(Mr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-liste-pdf"]],decls:16,vars:14,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],[2,"height","80%"],["cols","1","rowHeight","1000","gutterSize","20px"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],[1,"card-item"],[1,"card-container"],[1,"button-row"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","e2e-trusted-url","width","100%","height","1100px",3,"src",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["width","100%","height","1100px",1,"e2e-trusted-url",3,"src"]],template:function(e,i){1&e&&(r.YNc(0,nre,2,0,"button",0),r.TgZ(1,"div"),r.YNc(2,ire,2,0,"button",1),r.YNc(3,rre,2,0,"button",2),r._uU(4),r.YNc(5,sre,2,0,"button",1),r.YNc(6,ore,2,0,"button",2),r.qZA(),r.TgZ(7,"div",3),r.TgZ(8,"mat-grid-list",4),r.YNc(9,fre,2,1,"div",5),r.qZA(),r.qZA(),r.TgZ(10,"div"),r.YNc(11,mre,2,0,"button",1),r.YNc(12,gre,2,0,"button",2),r._uU(13),r.YNc(14,_re,2,0,"button",1),r.YNc(15,bre,2,0,"button",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.isConnected),r.xp6(2),r.Q6J("ngIf",i.pageCourante>1),r.xp6(1),r.Q6J("ngIf",i.pageCourante<=1),r.xp6(1),r.AsE(" Page ",i.pageCourante," sur ",i.nbPages," "),r.xp6(1),r.Q6J("ngIf",i.pageCourante<i.nbPages),r.xp6(1),r.Q6J("ngIf",i.pageCourante>=i.nbPages),r.xp6(3),r.Q6J("ngForOf",i.pdfs),r.xp6(2),r.Q6J("ngIf",i.pageCourante>1),r.xp6(1),r.Q6J("ngIf",i.pageCourante<=1),r.xp6(1),r.AsE(" Page ",i.pageCourante," sur ",i.nbPages," "),r.xp6(1),r.Q6J("ngIf",i.pageCourante<i.nbPages),r.xp6(1),r.Q6J("ngIf",i.pageCourante>=i.nbPages))},directives:[Qe,Y2,ht,ri,_l,gl,cd,Dv],pipes:[sY],styles:[".card-item[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();class xY{constructor(t,e,i,s,o,u,p,m){this.id=t,this.annee=e,this.auteur=i,this.nomAuteur=s,this.listeEleves=o,this.photo=u,this.titre=p,this.status=m}}function vre(n,t){1&n&&(r.TgZ(0,"mat-error"),r._uU(1," Merci de s\xe9lectionner un fichier. "),r.qZA())}function wre(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function Cre(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",14),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function Dre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-form-field",10),r.TgZ(2,"ngx-mat-file-input",11),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(3,"mat-icon",12),r._uU(4,"folder"),r.qZA(),r.YNc(5,vre,2,0,"mat-error",1),r.YNc(6,wre,2,1,"mat-error",1),r.qZA(),r.TgZ(7,"div",4),r.YNc(8,Cre,1,1,"mat-progress-bar",13),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("required")),r.xp6(1),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("maxSize")),r.xp6(2),r.Q6J("ngIf",e.fileIsUploading)}}function Tre(n,t){if(1&n&&r._UZ(0,"img",16),2&n){const e=r.oxw(2);r.s9C("src",null==e.photo?null:e.photo.photo,r.LSH)}}function Mre(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,Tre,1,1,"img",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null!=(null==e.photo?null:e.photo.photo))}}function Ere(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("annee"))}}function Sre(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function xre(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("listeEleves"))}}let TL=(()=>{class n{constructor(e,i,s,o,u,p){var m;this.formBuilder=e,this.authService=i,this.photosService=s,this.location=o,this.angularFireStorage=u,this.breakpointObserver=p,this.uploadPercent=0,this.errorMessage="",this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(yl_Small).pipe((0,g.U)(b=>b.matches)),null==this.photo&&(this.photo=new xY("",void 0,null===(m=this.authService.getCurrentUser())||void 0===m?void 0:m.id,"","","")),null==this.photo.photo&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],legende:["",[st.maxLength(50)]],titre:["",[st.required,st.maxLength(50)]],annee:["",[st.required,st.min(1900),st.max(2020)]],listeEleves:["",[st.required,st.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(b=>{var w,E;if(this.currentUser=b,null!=b)if(this.isConnected=null!=b&&(null===(w=b.email)||void 0===w?void 0:w.trim())!=(null===(E=i.getVisiteur())||void 0===E?void 0:E.trim()),this.isConnected){const x=b.status;this.canWrite=null!=x&&(x&qe.editArticle)==qe.editArticle}else this.canWrite=!1}),i.emitUserChanged()}ngOnInit(){this.initForm()}initForm(){var e,i,s;this.addPhotoForm.controls.titre.setValue(null===(e=this.photo)||void 0===e?void 0:e.titre),this.addPhotoForm.controls.listeEleves.setValue(null===(i=this.photo)||void 0===i?void 0:i.listeEleves),this.addPhotoForm.controls.annee.setValue(null===(s=this.photo)||void 0===s?void 0:s.annee)}onSubmit(){var e,i,s,o,u,p,m,b,w;(null===(e=this.addPhotoForm)||void 0===e?void 0:e.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(s=null===(i=this.addPhotoForm)||void 0===i?void 0:i.get("titre"))||void 0===s?void 0:s.value,this.photo.annee=null===(u=null===(o=this.addPhotoForm)||void 0===o?void 0:o.get("annee"))||void 0===u?void 0:u.value,this.photo.listeEleves=null===(m=null===(p=this.addPhotoForm)||void 0===p?void 0:p.get("listeEleves"))||void 0===m?void 0:m.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(b=this.currentUser)||void 0===b?void 0:b.id,this.photo.nomAuteur=null===(w=this.authService.getCurrentUser())||void 0===w?void 0:w.prenom,console.log(this.currentUser),this.photosService.addPhoto(this.photo)):this.photosService.updatePhoto(this.photo),this.photosService.getPhotos(),this.location.back())}getErrorMessage(e){var i,s,o,u;let p="";switch(e){case"titre":(null===(i=this.addPhotoForm)||void 0===i?void 0:i.controls.titre.touched)&&(p=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"annee":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.annee.touched)&&(p=this.addPhotoForm.controls.annee.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(o=this.addPhotoForm)||void 0===o?void 0:o.controls.listeEleves.touched)&&(p=this.addPhotoForm.controls.listeEleves.hasError("required")?"Vous devez saisir une liste des \xe9l\xe8ves":"");break;case"photo":(null===(u=this.addPhotoForm)||void 0===u?void 0:u.controls.photo.touched)&&(p=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo de classes":"")}return p}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="Classes/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(p=>{this.uploadPercent=p}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(p=>{this.fileUrl=p})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Mr),r.Y36(Mc),r.Y36(jt),r.Y36(Np),r.Y36(kv))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-photos-de-classe-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","number","placeholder","Ann\xe9e","formControlName","annee"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Liste des \xe9l\xe8ves","formControlName","listeEleves"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(1,Dre,9,3,"div",1),r.YNc(2,Mre,2,1,"div",1),r.TgZ(3,"div"),r.TgZ(4,"mat-form-field",2),r._UZ(5,"input",3),r.TgZ(6,"div",4),r.YNc(7,Ere,2,1,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",2),r._UZ(9,"input",6),r.TgZ(10,"div",4),r.YNc(11,Sre,2,1,"mat-error",5),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",2),r._UZ(14,"textarea",7),r.TgZ(15,"div",4),r.YNc(16,xre,2,1,"mat-error",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",8),r.TgZ(18,"button",9),r._uU(19,"Valider"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.addPhotoForm),r.xp6(1),r.Q6J("ngIf",null!=(null==i.photo?null:i.photo.photo)&&""==(null==i.photo?null:i.photo.photo)),r.xp6(1),r.Q6J("ngIf",""!=(null==i.photo?null:i.photo.photo)),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.annee.hasError("required")),r.xp6(4),r.Q6J("ngIf",i.addPhotoForm.controls.titre.hasError("required")),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.listeEleves.hasError("required")),r.xp6(2),r.Q6J("disabled",i.addPhotoForm.invalid))},directives:[Tu,go,ui,Qe,fl,ld,Ow,qs,mo,Gs,ri,qn,Rc,kp,xc,Sv],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.img[_ngcontent-%COMP%]{max-width:40%;align-content:left}.button[_ngcontent-%COMP%]{text-align:center}.img[_ngcontent-%COMP%]{max-width:35%;align-content:left}.photo-input[_ngcontent-%COMP%]{background-color:#000;color:#fafa00}.file-input[_ngcontent-%COMP%]{color:#161620}"]}),n})();function Are(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajouter une photo de classe."),r.qZA())}function kre(n,t){if(1&n&&r._UZ(0,"app-photos-de-classe-form",3),2&n){const e=r.oxw();r.Q6J("photo",e.photo)}}let Ire=(()=>{class n{constructor(e){var i;this.authService=e,this.isConnected=!1,this.userDroits=0,this.photo=new xY("",void 0,null===(i=this.authService.getCurrentUser())||void 0===i?void 0:i.id,"","",""),this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(s=>{this.isConnected=s.status>ln.initial})}ngOnInit(){}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(e,i){1&e&&(r.YNc(0,Are,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,kre,1,1,"app-photos-de-classe-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Qe,TL],styles:[""]}),n})();function Rre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",2),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddPhoto()}),r._uU(1," Ajouter une photo de classe..\n"),r.qZA()}}function Ore(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",9),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().onEdit(s)}),r._uU(1,"Modifier la liste des \xe9l\xe8ves"),r.qZA()}}function Nre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card",3),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.TgZ(6,"img",4),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().onZoom(o)}),r.qZA(),r.TgZ(7,"mat-card-content",5),r.TgZ(8,"div"),r.TgZ(9,"pre"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"div",6),r.YNc(12,Ore,2,0,"button",7),r.qZA(),r.qZA(),r.qZA(),r._UZ(13,"div",8),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw();r.xp6(3),r.AsE("",e.titre," par : ",e.nomAuteur," (Cliquez sur la photo pour l'agrandir.)"),r.xp6(2),r.Oqu(e.annee),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(4),r.Oqu(e.listeEleves),r.xp6(2),r.Q6J("ngIf",i.canWrite)}}let Pre=(()=>{class n{constructor(e,i,s,o,u,p,m){let b;this.route=e,this.router=i,this.photosService=s,this.globalService=o,this.usersService=u,this.authService=p,this.matDialog=m,this.isConnected=!1,this.listePhotos=[],this.listeSelectedPhotos=[],this.debut=0,this.fin=0,this.canWrite=!1,this.canWrite=!1,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(w=>{this.isConnected=!!(w&&w.status>=qe.visiteur),this.isConnected?(b=w.status,this.canWrite=(b&qe.editPhotosDeClasse)===qe.editPhotosDeClasse):this.canWrite=!1}),p.emitUserChanged(),this.queryParamsSuscription=this.route.queryParamMap.subscribe(w=>{w.has("debut")&&w.has("fin")&&(this.debut=w.get("debut"),this.fin=w.get("fin"),this.CherchePhotos())},w=>{console.log("Erreur : "+w.message)}),this.photosSubscription=this.photosService.photoSubject.subscribe(w=>{this.listePhotos=w,this.CherchePhotos()}),this.photosService.emitPhoto()}ngOnInit(){}ngOnDestroy(){null!=this.queryParamsSuscription&&this.queryParamsSuscription.unsubscribe(),null!=this.userSubscription&&this.userSubscription.unsubscribe(),null!=this.photosSubscription&&this.photosSubscription.unsubscribe()}CherchePhotos(){0!=this.debut&&0!=this.fin&&(this.filtrePhotos(),this.addPrenomAuteur())}filtrePhotos(){this.listeSelectedPhotos.splice(0),this.listeSelectedPhotos=this.listePhotos.filter(e=>1==e.status&&e.annee>=this.debut&&e.annee<=this.fin)}addPrenomAuteur(){this.listeSelectedPhotos.forEach(e=>{this.usersService.getUser(e.auteur).subscribe(i=>{const s=i.data();e.nomAuteur=s.prenom})})}onAddPhoto(){this.router.navigate(["app-add-photo-de-classe"])}onEdit(e){this.router.navigate(["app-edit-photo-de-classe",e.id])}onZoom(e){this.photosService.currentPhoto=e,this.matDialog.open(Fre,{height:"100%",width:"55%"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(Sn),r.Y36(Mc),r.Y36(jo),r.Y36(hg),r.Y36(Mr),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-album"]],decls:4,vars:2,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],[1,"card-item"],["alt","Photo introuvable",1,"img",3,"src","click"],[1,"card-container"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[2,"height","15px"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1,"Photos de classes"),r.qZA(),r.YNc(2,Rre,2,0,"button",0),r.YNc(3,Nre,14,6,"div",1)),2&e&&(r.xp6(2),r.Q6J("ngIf",i.isConnected),r.xp6(1),r.Q6J("ngForOf",i.listeSelectedPhotos))},directives:[Qe,ht,ri,_l,gl,ud,cd],styles:[".card[_ngcontent-%COMP%]{min-width:100%;height:auto;margin-top:0;margin-bottom:0;padding-top:0}.card-container[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{cursor:pointer}.img[_ngcontent-%COMP%]{max-width:10%;max-height:20%;align-content:left}"]}),n})(),Fre=(()=>{class n{constructor(e){var i,s,o,u;this.photosService=e,this.image=null===(i=e.currentPhoto)||void 0===i?void 0:i.photo,this.listeEleves=null===(s=e.currentPhoto)||void 0===s?void 0:s.listeEleves,this.titre=null===(o=e.currentPhoto)||void 0===o?void 0:o.titre,this.sousTitre=""+(null===(u=e.currentPhoto)||void 0===u?void 0:u.annee.toString())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mc))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-maximise-image"]],decls:14,vars:4,consts:[["mat-card-image","","dialog-img","","alt","Photo de classe",1,"dialog-img",3,"src"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.TgZ(4,"mat-card-subtitle"),r._uU(5),r.qZA(),r.qZA(),r._UZ(6,"img",0),r.TgZ(7,"mat-card-content"),r.TgZ(8,"pre"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-actions"),r.TgZ(11,"div"),r.TgZ(12,"button",1),r._uU(13,"Fermer"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(i.titre),r.xp6(2),r.Oqu(i.sousTitre),r.xp6(1),r.s9C("src",i.image,r.LSH),r.xp6(3),r.hij("            ",i.listeEleves,"\n        "))},directives:[_l,hD,gl,ud,dD,cd,Dv,ri,EA],styles:[".dialog-img[_ngcontent-%COMP%]{width:100%;height:auto}.card[_ngcontent-%COMP%]{min-width:40%;margin-top:0;margin-bottom:0;padding-top:0}"]}),n})();function Lre(n,t){if(1&n&&(r.TgZ(0,"h4"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("Edition de la photo de classe de l'ann\xe9e ",e.photo.annee,"")}}function Bre(n,t){if(1&n&&r._UZ(0,"app-photos-de-classe-form",3),2&n){const e=r.oxw();r.Q6J("photo",e.photo)}}let Vre=(()=>{class n{constructor(e,i){this.route=e,this.photosService=i,this.photosService.getPhoto(this.route.snapshot.params.id).subscribe(o=>{this.photo=o.data(),this.photo.id=o.id},o=>{console.log("Erreur = "+o.message)})}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(Mc))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-photo-de-classe"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(e,i){1&e&&(r.YNc(0,Lre,2,1,"h4",0),r.TgZ(1,"div",1),r.YNc(2,Bre,1,1,"app-photos-de-classe-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Qe,TL],styles:[""]}),n})(),wi=(()=>{class n{constructor(e){this.authService=e,this.userSubscription=this.authService.authSubject.subscribe(i=>{this.currentUser=i}),this.authService.emitUserChanged()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}canActivate(){return new Promise(e=>{e(!!this.currentUser)})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Mr))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ure=(()=>{class n{constructor(e,i){this.router=e,this.authService=i}ngOnInit(){}onDemandeMail(){this.authService.sendMailNewUser(),this.router.navigate(["app-accueil"])}onAnnuler(){this.router.navigate(["app-accueil"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Sn),r.Y36(Mr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-unvalidate-user-message"]],decls:8,vars:0,consts:[["mat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h4"),r._uU(1,"Votre adresse mail n'a pas \xe9t\xe9 valid\xe9e."),r.qZA(),r.TgZ(2,"h5"),r._uU(3,"Un mail vous a \xe9t\xe9 envoy\xe9, il est n\xe9cessaire de cliquer sur le lien qui y figure pour finaliser votre inscription. "),r.qZA(),r.TgZ(4,"button",0),r.NdJ("click",function(){return i.onDemandeMail()}),r._uU(5,"Redemander un mail de validation"),r.qZA(),r.TgZ(6,"button",0),r.NdJ("click",function(){return i.onAnnuler()}),r._uU(7,"Annuler"),r.qZA())},directives:[ri],styles:[""]}),n})();function Hre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddPhoto()}),r._uU(1," Ajouter une photo de Mori\xe8res.\n"),r.qZA()}}function Zre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function qre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function Yre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function Gre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}function jre(n,t){if(1&n&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2).$implicit;r.xp6(1),r.hij("            ",e.texte,"\n          ")}}function zre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",13),r.NdJ("click",function(){r.CHM(e);const s=r.oxw(2).$implicit;return r.oxw().onEdit(s)}),r._uU(1,"Modifier le texte"),r.qZA()}}function $re(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-grid-tile"),r.TgZ(1,"mat-card"),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"img",10),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().onZoom(s)}),r.qZA(),r.TgZ(8,"mat-card-content"),r.YNc(9,jre,2,1,"pre",9),r.qZA(),r.TgZ(10,"div",11),r.YNc(11,zre,2,0,"button",12),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw().$implicit,i=r.oxw();r.xp6(4),r.Oqu(e.titre),r.xp6(2),r.hij("Photo mise en ligne par : ",e.nomAuteur,""),r.xp6(1),r.s9C("src",e.photo,r.LSH),r.xp6(2),r.Q6J("ngIf",e.texte),r.xp6(2),r.Q6J("ngIf",i.canWrite)}}function Wre(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,$re,12,5,"mat-grid-tile",9),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("ngIf",e>=i.photoCourante&&e<i.photoCourante+i.pasPhotos)}}function Jre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDecrementePhoto()}),r._uU(1,"<<"),r.qZA()}}function Qre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,"<<"),r.qZA())}function Kre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().onIncrementePhoto()}),r._uU(1,">>"),r.qZA()}}function Xre(n,t){1&n&&(r.TgZ(0,"button",8),r._uU(1,">>"),r.qZA())}let ese=(()=>{class n{constructor(e,i,s,o){this.photosMorieresService=e,this.router=i,this.authService=s,this.matDialog=o,this.photos=[],this.isConnected=!1,this.canWrite=!1,this.photoCourante=0,this.pasPhotos=4,this.pageCourantePhoto=1,this.nbPagesPhotos=0,this.authSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(u=>{if(this.canWrite=!1,null!=u){const p=u.status;null!=p&&p>=qe.visiteur&&(this.isConnected=!0),this.canWrite=!!this.isConnected&&null!=p&&(p&qe.editArticle)==qe.editArticle}}),s.emitUserChanged(),this.photosSubscription=this.photosMorieresService.photoMorieresSubject.pipe(Ss(1)).subscribe(u=>{this.photos=u,this.nbPagesPhotos=Math.ceil(u.length/this.pasPhotos)}),this.photosMorieresService.getPhotosMorieres()}ngOnInit(){}onAddPhoto(){this.router.navigate(["app-Add-photo-album"])}onEdit(e){this.router.navigate(["app-edit-photo-album/",e.id])}onDecrementePhoto(){this.photoCourante-=this.pasPhotos,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1}onIncrementePhoto(){this.photoCourante+=this.pasPhotos,this.pageCourantePhoto=Math.ceil(this.photoCourante/this.pasPhotos)+1}onZoom(e){this.photosMorieresService.photo=e,this.matDialog.open(tse,{height:"90%",width:"60%"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yD),r.Y36(Sn),r.Y36(Mr),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-album-photos"]],decls:18,vars:14,consts:[["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["width","100%","color","blue","size","3"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["cols","4","rowHeight","1000","gutterSize","20px"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],["mat-button","",3,"click"],["mat-button","","disabled",""],[4,"ngIf"],["mat-card-image","","alt","Photo",3,"src","click"],[1,"button-row"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"h2"),r._uU(1,"Album photos de Mori\xe8res"),r.qZA(),r.YNc(2,Hre,2,0,"button",0),r._UZ(3,"hr",1),r.TgZ(4,"h1"),r._uU(5,"Cliquez sur une photo pour l'agrandir."),r.qZA(),r.YNc(6,Zre,2,0,"button",2),r.YNc(7,qre,2,0,"button",3),r._uU(8),r.YNc(9,Yre,2,0,"button",2),r.YNc(10,Gre,2,0,"button",3),r.TgZ(11,"mat-grid-list",4),r.YNc(12,Wre,2,1,"div",5),r.qZA(),r.YNc(13,Jre,2,0,"button",2),r.YNc(14,Qre,2,0,"button",3),r._uU(15),r.YNc(16,Kre,2,0,"button",2),r.YNc(17,Xre,2,0,"button",3)),2&e&&(r.xp6(2),r.Q6J("ngIf",i.isConnected),r.xp6(4),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE("\nPage ",i.pageCourantePhoto," sur ",i.nbPagesPhotos,"\n"),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos),r.xp6(2),r.Q6J("ngForOf",i.photos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>1),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<=1),r.xp6(1),r.AsE("\nPage ",i.pageCourantePhoto," sur ",i.nbPagesPhotos,"\n"),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto<i.nbPagesPhotos),r.xp6(1),r.Q6J("ngIf",i.pageCourantePhoto>=i.nbPagesPhotos))},directives:[Qe,Y2,ht,ri,Z2,_l,hD,gl,ud,dD,cd],styles:[".card[_ngcontent-%COMP%]{background-color:#313131;height:100%}.img[_ngcontent-%COMP%]{object-fit:fill;height:40%;max-height:40%;max-width:60%}mat-grid-tile[_ngcontent-%COMP%]{margin:20px}mat-grid-list[_ngcontent-%COMP%]{max-width:97%;vertical-align:top}.header-image[_ngcontent-%COMP%]{vertical-align:top}button[_ngcontent-%COMP%]{font-size:large;border:0px;margin:20px}.texte-entete[_ngcontent-%COMP%]{vertical-align:top;text-align:center;font-size:12px;margin-left:50px}pre[_ngcontent-%COMP%]{display:block;margin-top:1em;margin-bottom:1em;font-family:monospace;font-size:1.6vh;white-space:pre-wrap;overflow-x:auto;padding-bottom:12px;box-sizing:border-box;color:#fff}h1[_ngcontent-%COMP%]{color:#ff0}"]}),n})(),tse=(()=>{class n{constructor(e){var i,s,o;this.photosMorieresService=e,this.image=null===(i=e.photo)||void 0===i?void 0:i.photo,this.texte=null===(s=e.photo)||void 0===s?void 0:s.texte,this.titre=null===(o=e.photo)||void 0===o?void 0:o.titre}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yD))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-maximise-photo"]],decls:12,vars:3,consts:[["mat-card-image","","dialog-img","","alt","Article",1,"dialog-img",3,"src"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.qZA(),r._UZ(4,"img",0),r.TgZ(5,"mat-card-content"),r.TgZ(6,"pre"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"mat-card-actions"),r.TgZ(9,"div"),r.TgZ(10,"button",1),r._uU(11,"Fermer"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(i.titre),r.xp6(1),r.s9C("src",i.image,r.LSH),r.xp6(3),r.hij("            ",i.texte,"\n        "))},directives:[_l,hD,gl,dD,cd,Dv,ri,EA],styles:[""]}),n})();class AY{constructor(t,e,i,s,o,u,p,m){this.id=t,this.periode=e,this.auteur=i,this.nomAuteur=s,this.texte=o,this.photo=u,this.titre=p,this.status=m}}function nse(n,t){1&n&&(r.TgZ(0,"mat-error"),r._uU(1," Merci de s\xe9lectionner un fichier. "),r.qZA())}function ise(n,t){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.getErrorMessage("photo"))}}function rse(n,t){if(1&n&&r._UZ(0,"mat-progress-bar",14),2&n){const e=r.oxw(2);r.Q6J("value",e.uploadPercent)}}function sse(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-form-field",10),r.TgZ(2,"ngx-mat-file-input",11),r.NdJ("change",function(s){return r.CHM(e),r.oxw().onUpload(s)}),r.qZA(),r.TgZ(3,"mat-icon",12),r._uU(4,"folder"),r.qZA(),r.YNc(5,nse,2,0,"mat-error",1),r.YNc(6,ise,2,1,"mat-error",1),r.qZA(),r.TgZ(7,"div",4),r.YNc(8,rse,1,1,"mat-progress-bar",13),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("required")),r.xp6(1),r.Q6J("ngIf",e.addPhotoForm.controls.photo.hasError("maxSize")),r.xp6(2),r.Q6J("ngIf",e.fileIsUploading)}}function ose(n,t){if(1&n&&r._UZ(0,"img",16),2&n){const e=r.oxw(2);r.s9C("src",null==e.photo?null:e.photo.photo,r.LSH)}}function ase(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,ose,1,1,"img",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null!=(null==e.photo?null:e.photo.photo))}}function lse(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("periode"))}}function cse(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("titre"))}}function use(n,t){if(1&n&&(r.TgZ(0,"mat-error",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.getErrorMessage("texte"))}}let ML=(()=>{class n{constructor(e,i,s,o,u,p,m){var b,w;this.formBuilder=e,this.authService=i,this.photosService=s,this.location=o,this.angularFireStorage=u,this.breakpointObserver=p,this.matDialog=m,this.uploadPercent=0,this.errorMessage="",this.isConnected=!1,this.canWrite=!1,this.fileIsUploading=!1,this.fileUrl="",this.fileUploaded=!1,this.maxSize=104857600,this.isHandset$=this.breakpointObserver.observe(yl_Small).pipe((0,g.U)(E=>E.matches)),console.log(this.photo),null==this.photo&&(this.photo=new AY("",void 0,null===(b=this.authService.getCurrentUser())||void 0===b?void 0:b.id,"","","")),null==(null===(w=this.photo)||void 0===w?void 0:w.photo)&&(this.photo.photo=""),this.addPhotoForm=this.formBuilder.group({photo:[void 0],progressbar:["Progression"],titre:["",[st.required,st.maxLength(50)]],periode:["",[st.required,st.maxLength(30)]],texte:["",[st.required,st.maxLength(3e3)]]}),this.fileUploaded=!0,this.userSubscription=this.authService.authSubject.pipe(Ss(1)).subscribe(E=>{var x,k;if(this.currentUser=E,null!=E)if(this.isConnected=null!=E&&(null===(x=E.email)||void 0===x?void 0:x.trim())!=(null===(k=i.getVisiteur())||void 0===k?void 0:k.trim()),this.isConnected){const P=E.status;this.canWrite=null!=P&&(P&qe.editArticle)==qe.editArticle}else this.canWrite=!1}),i.emitUserChanged()}ngOnInit(){this.initForm()}initForm(){var e,i,s,o;this.addPhotoForm.controls.photo.setValue(null===(e=this.photo)||void 0===e?void 0:e.photo),this.addPhotoForm.controls.titre.setValue(null===(i=this.photo)||void 0===i?void 0:i.titre),this.addPhotoForm.controls.texte.setValue(null===(s=this.photo)||void 0===s?void 0:s.texte),this.addPhotoForm.controls.periode.setValue(null===(o=this.photo)||void 0===o?void 0:o.periode)}onSubmit(){var e,i,s,o,u,p,m,b,w;(null===(e=this.addPhotoForm)||void 0===e?void 0:e.invalid)?alert("Une valeur saisie est incorrecte."):(this.photo.titre=null===(s=null===(i=this.addPhotoForm)||void 0===i?void 0:i.get("titre"))||void 0===s?void 0:s.value,this.photo.periode=null===(u=null===(o=this.addPhotoForm)||void 0===o?void 0:o.get("periode"))||void 0===u?void 0:u.value,this.photo.texte=null===(m=null===(p=this.addPhotoForm)||void 0===p?void 0:p.get("texte"))||void 0===m?void 0:m.value,""===this.photo.id?(this.photo.photo=this.fileUrl,this.photo.auteur=null===(b=this.currentUser)||void 0===b?void 0:b.id,this.photo.nomAuteur=null===(w=this.authService.getCurrentUser())||void 0===w?void 0:w.prenom,console.log(this.photo),this.photosService.addPhotoMorieres(this.photo)):this.photosService.updatePhotoMorieres(this.photo),this.photosService.getPhotosMorieres(),this.location.back())}getErrorMessage(e){var i,s,o,u;let p="";switch(e){case"titre":(null===(i=this.addPhotoForm)||void 0===i?void 0:i.controls.titre.touched)&&(p=this.addPhotoForm.controls.titre.hasError("required")?"Vous devez saisir un titre":"");break;case"periode":(null===(s=this.addPhotoForm)||void 0===s?void 0:s.controls.periode.touched)&&(p=this.addPhotoForm.controls.periode.hasError("required")?"Vous devez saisir une ann\xe9e":"");break;case"listeEleves":(null===(o=this.addPhotoForm)||void 0===o?void 0:o.controls.texte.touched)&&(p=this.addPhotoForm.controls.texte.hasError("required")?"Vous devez saisir un texte":"");break;case"photo":(null===(u=this.addPhotoForm)||void 0===u?void 0:u.controls.photo.touched)&&(p=this.addPhotoForm.controls.photo.hasError("required")?"Vous devez s\xe9lectionner une photo":"")}return p}onUpload(e){this.fileIsUploading=!0;const i=e.target.files[0],s="PhotosMorieres/"+(new Date).toJSON()+"_"+e.target.files[0].name,o=this.angularFireStorage.ref(s),u=this.angularFireStorage.upload(s,i);u.percentageChanges().subscribe(p=>{this.uploadPercent=p}),u.then(()=>{this.fileIsUploading=!1,this.fileUploaded=!0,o.getDownloadURL().subscribe(p=>{this.fileUrl=p})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo),r.Y36(Mr),r.Y36(yD),r.Y36(jt),r.Y36(Np),r.Y36(kv),r.Y36(Na))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-photo-album-form"]],inputs:{photo:"photo"},decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width"],["matInput","","type","text","placeholder","P\xe9riode","formControlName","periode"],[1,"row"],["class","error-message",4,"ngIf"],["matInput","","placeholder","Titre","formControlName","titre"],["matInput","","rows","10","maxRows","20","cols","300","placeholder","Texte","formControlName","texte"],[1,"button-wrapper"],["mat-flat-button","","color","primary",3,"disabled"],["appearance","outline",1,"full-width"],["formControlName","photo","placeholder","Cliquez ici pour s\xe9lectionner une photo",3,"change"],["matSuffix",""],["color","primary","mode","determinate",3,"value",4,"ngIf"],["color","primary","mode","determinate",3,"value"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],[1,"error-message"]],template:function(e,i){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(1,sse,9,3,"div",1),r.YNc(2,ase,2,1,"div",1),r.TgZ(3,"div"),r.TgZ(4,"mat-form-field",2),r._UZ(5,"input",3),r.TgZ(6,"div",4),r.YNc(7,lse,2,1,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(8,"mat-form-field",2),r._UZ(9,"input",6),r.TgZ(10,"div",4),r.YNc(11,cse,2,1,"mat-error",5),r.qZA(),r.qZA(),r._UZ(12,"br"),r.TgZ(13,"mat-form-field",2),r._UZ(14,"textarea",7),r.TgZ(15,"div",4),r.YNc(16,use,2,1,"mat-error",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",8),r.TgZ(18,"button",9),r._uU(19,"Valider"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("formGroup",i.addPhotoForm),r.xp6(1),r.Q6J("ngIf",""==(null==i.photo?null:i.photo.photo)),r.xp6(1),r.Q6J("ngIf",""!=(null==i.photo?null:i.photo.photo)),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.periode.hasError("required")),r.xp6(4),r.Q6J("ngIf",i.addPhotoForm.controls.titre.hasError("required")),r.xp6(5),r.Q6J("ngIf",i.addPhotoForm.controls.texte.hasError("required")),r.xp6(2),r.Q6J("disabled",i.addPhotoForm.invalid||i.fileIsUploading))},directives:[Tu,go,ui,Qe,fl,ld,qs,mo,Gs,ri,qn,Rc,kp,xc,Sv],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{font-size:small;color:red;margin-top:10px;margin-left:10px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.img[_ngcontent-%COMP%]{max-width:35%;align-content:center}"]}),n})();function dse(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Edition d'une photo de Mori\xe8res."),r.qZA())}function hse(n,t){if(1&n&&r._UZ(0,"app-photo-album-form",3),2&n){const e=r.oxw();r.Q6J("photo",e.photo)}}function fse(n,t){1&n&&(r.TgZ(0,"h4"),r._uU(1,"Ajout d'une photo de Mori\xe8res."),r.qZA())}function mse(n,t){if(1&n&&r._UZ(0,"app-photo-album-form",3),2&n){const e=r.oxw();r.Q6J("article",e.photo)}}const gse=[{path:"app-accueil",component:QQ},{path:"app-frame",component:EY},{path:"app-sign-in",component:cY},{path:"app-sign-up",component:uY},{path:"app-user-data",component:aH},{path:"app-unvalidate-user-message",component:Ure},{path:"app-liste-pdf",component:yre},{path:"app-edit-pdf/:id",canActivate:[wi],component:tre},{path:"app-add-pdf",canActivate:[wi],component:Kie},{path:"app-liste-articles",component:fne},{path:"app-edit-article/:id",canActivate:[wi],component:yL},{path:"app-add-article",canActivate:[wi],component:Fne},{path:"app-article-form",canActivate:[wi],component:ok},{path:"app-dialog-maximise-article-image",component:bL},{path:"app-article-form",canActivate:[wi],component:ok},{path:"app-album",component:Pre},{path:"app-edit-photo-de-classe/:id",canActivate:[wi],component:Vre},{path:"app-add-photo-de-classe",canActivate:[wi],component:Ire},{path:"app-photos-de-classe-form",canActivate:[wi],component:TL},{path:"app-droits",canActivate:[wi],component:nY},{path:"app-droits-form",canActivate:[wi],component:tY},{path:"app-home-administration",canActivate:[wi],component:rne},{path:"app-liste-messages",canActivate:[wi],component:rY},{path:"app-valider-articles",canActivate:[wi],component:_ne},{path:"app-messages",canActivate:[wi],component:dY},{path:"app-add-actualite",canActivate:[wi],component:Iee},{path:"app-edit-actualite/:id",canActivate:[wi],component:Ate},{path:"app-gestion-actualite",canActivate:[wi],component:kte},{path:"app-actualite-form",canActivate:[wi],component:cL},{path:"app-carousel-form",canActivate:[wi],component:Jq},{path:"app-add-photo-carousel",canActivate:[wi],component:Uee},{path:"app-album-photos",component:ese},{path:"app-edit-photo-album/:id",canActivate:[wi],component:(()=>{class n{constructor(e,i){this.route=e,this.photosMorieresService=i,i.getPhotoMorieres(this.route.snapshot.params.id).subscribe(o=>{this.photo=o.data(),this.photo.id=o.id})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(As),r.Y36(yD))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-photo-album"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"photo",4,"ngIf"],[3,"photo"]],template:function(e,i){1&e&&(r.YNc(0,dse,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,hse,1,1,"app-photo-album-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Qe,ML],styles:[""]}),n})()},{path:"app-Add-photo-album",canActivate:[wi],component:(()=>{class n{constructor(){console.log("Add photo"),this.photo=new AY("","","","","","","",ln.initial)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-photo-album"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container"],[3,"article",4,"ngIf"],[3,"article"]],template:function(e,i){1&e&&(r.YNc(0,fse,2,0,"h4",0),r.TgZ(1,"div",1),r.YNc(2,mse,1,1,"app-photo-album-form",2),r.qZA()),2&e&&(r.Q6J("ngIf",i.photo),r.xp6(2),r.Q6J("ngIf",i.photo))},directives:[Qe,ML],styles:[""]}),n})()},{path:"app-photo-album-form",canActivate:[wi],component:ML},{path:"",redirectTo:"app-accueil",pathMatch:"full"},{path:"**",redirectTo:"app-accueil"}];let _se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Or.forRoot(gse)],Or]}),n})(),bse=(()=>{class n{constructor(e,i){this.authService=e,this.themesService=i,this.title="MemoireMorieroise",this.authService.signInVisiteur().then(()=>{this.themesService.getThemes()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Mr),r.Y36(dv))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"app-frame")},directives:[EY],styles:[""]}),n})();const Ase={provide:new r.OlP("mat-autocomplete-scroll-strategy"),deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Ose=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Ase],imports:[[Ma,MA,et,zt],br,MA,et]}),n})(),Fse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[lu,et],et]}),n})(),Use=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ma,et,Ka],et]}),n})(),zse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et,pl],et]}),n})();const VY=new r.OlP("mat-chips-default-options"),ooe={separatorKeyCodes:[13]};let aoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[eo,{provide:VY,useValue:ooe}],imports:[[et]]}),n})(),ck=(()=>{class n{constructor(){this.changes=new le.xQ,this.optionalLabel="Optional"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Soe={provide:ck,deps:[[new r.FiY,new r.tp0,ck]],useFactory:function(n){return n||new ck}};let Poe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Soe,eo],imports:[[et,zt,Ka,pD,V_,$q,pl],et]}),n})(),vD=(()=>{class n{constructor(){this.changes=new le.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const pae={provide:new r.OlP("mat-datepicker-scroll-strategy"),deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Cae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[vD,pae],imports:[[zt,pD,Ma,lu,Ka,et],br]}),n})(),xae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),qae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,et,xae,Ka]]}),n})();const uG={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let pG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[uG],imports:[et]}),n})(),Qae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[uG],imports:[[zt,et,pl,Ma,pG],br,et,pG]}),n})();const dle={provide:new r.OlP("mat-select-scroll-strategy"),deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let yG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[dle],imports:[[zt,Ma,MA,et],br,v2,MA,et]}),n})();const vle={provide:new r.OlP("mat-tooltip-scroll-strategy"),deps:[qi],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let DG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[vle],imports:[[lu,zt,Ma,et],et,br]}),n})(),TD=(()=>{class n{constructor(){this.changes=new le.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,s)=>{if(0==s||0==i)return`0 of ${s}`;const o=e*i;return`${o+1} \u2013 ${o<(s=Math.max(s,0))?Math.min(o+i,s):o+i} of ${s}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Nle={provide:TD,deps:[[new r.FiY,new r.tp0,TD]],useFactory:function(n){return n||new TD}};let Vle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Nle],imports:[[zt,pD,yG,DG,et]]}),n})();function Ule(n,t){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const e=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}function Hle(n,t){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const e=r.oxw();r.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}const Gle=ea(class{constructor(n){this._elementRef=n}},"primary"),MG=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class fd extends Gle{constructor(t,e,i,s,o){super(t),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const u=fd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),u.has(i.head)||u.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===s&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ht(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Ht(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ht(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=p_(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=fd._diameters;let s=i.get(t);if(!s||!s.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}fd.\u0275fac=function(t){return new(t||fd)(r.Y36(r.SBq),r.Y36(xt),r.Y36(Z,8),r.Y36(Fn,8),r.Y36(MG))},fd.\u0275cmp=r.Xpm({type:fd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,Ule,1,9,"circle",1),r.YNc(2,Hle,1,7,"circle",2),r.qZA()),2&t&&(r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===e.mode),r.uIk("viewBox",e._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[Ji,Qn],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),fd._diameters=new WeakMap;let $le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[et,zt],et]}),n})(),oce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pl,et],et]}),n})(),_ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[zt,et],et]}),n})(),IG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),Ice=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[IG,pl,et,vf],IG,et]}),n})(),Bce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ma,Ka,zt,pD,et],et]}),n})(),mk=(()=>{class n{constructor(){this.changes=new le.xQ}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const $ce={provide:mk,deps:[[new r.FiY,new r.tp0,mk]],useFactory:function(n){return n||new mk}};let Jce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[$ce],imports:[[zt,et]]}),n})(),rue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[VI,et],et]}),n})(),sue=(()=>{class n{constructor(e){this.angularStorage=e}getImagesCarousel(){return this.angularStorage.ref("Accueil").listAll()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Np))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[bse]}),n.\u0275inj=r.cJS({providers:[jo,sd,Mr,wi,sue,_L,xv,Mc,hg],imports:[[Gg,_se,sz,eQ,lu,jk,V_,iM,VI,cB,Ma,Ka,uu,nE,Co.hO.initializeApp(mL_firebaseConfig),P5,VX,Ose,Fse,Use,pD,zse,_Q,Qee,aoe,Poe,Cae,qz,yY,qae,uQ,$q,b$,Eie,Qae,Dz,Vle,yee,$le,oce,pl,yG,hie,_ce,Ice,Bce,Jce,cte,t7,Rie,DG,rue,qX]]}),n})();r.B6R(yL,[Qe,ok],[]),(0,r.G48)(),jc().bootstrapModule(oue).catch(n=>console.error(n))},4762:(We,be,N)=>{"use strict";function ce(re,ge){var he={};for(var me in re)Object.prototype.hasOwnProperty.call(re,me)&&ge.indexOf(me)<0&&(he[me]=re[me]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(me=Object.getOwnPropertySymbols(re);pe<me.length;pe++)ge.indexOf(me[pe])<0&&Object.prototype.propertyIsEnumerable.call(re,me[pe])&&(he[me[pe]]=re[me[pe]])}return he}function se(re,ge,he,me){var Ve,pe=arguments.length,ee=pe<3?ge:null===me?me=Object.getOwnPropertyDescriptor(ge,he):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(re,ge,he,me);else for(var it=re.length-1;it>=0;it--)(Ve=re[it])&&(ee=(pe<3?Ve(ee):pe>3?Ve(ge,he,ee):Ve(ge,he))||ee);return pe>3&&ee&&Object.defineProperty(ge,he,ee),ee}function K(re,ge){return function(he,me){ge(he,me,re)}}function Z(re,ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(re,ge)}N.d(be,{_T:()=>ce,gn:()=>se,fM:()=>K,w6:()=>Z})},3394:(We,be,N)=>{"use strict";N.d(be,{Z:()=>De});var r=N(3854),B=N(3910),L=N(8026),ce=N(5422);class se{constructor(Ie,Ce){this._delegate=Ie,this.firebase=Ce,(0,L._addComponent)(Ie,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ie,Ce=L._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Ie);return!ut.isInitialized()&&"EXPLICIT"===(null===(Be=ut.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Ce})}_removeServiceInstance(Ie,Ce=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(Ce)}_addComponent(Ie){(0,L._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,L._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function J(){const de=function(de){const Ie={},Ce={__esModule:!0,initializeApp:function(Te,rn={}){const re=L.initializeApp(Te,rn);if((0,r.r3)(Ie,re.name))return Ie[re.name];const ge=new de(re,Ce);return Ie[re.name]=ge,ge},app:ut,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(Te){const rn=Te.name,re=rn.replace("-compat","");if(L._registerComponent(Te)&&"PUBLIC"===Te.type){const ge=(he=ut())=>{if("function"!=typeof he[re])throw Z.create("invalid-app-argument",{appName:rn});return he[re]()};void 0!==Te.serviceProps&&(0,r.ZB)(ge,Te.serviceProps),Ce[re]=ge,de.prototype[re]=function(...he){return this._getService.bind(this,rn).apply(this,Te.multipleInstances?he:[])}}return"PUBLIC"===Te.type?Ce[re]:null},removeApp:function(Te){delete Ie[Te]},useAsService:function(Te,rn){return"serverAuth"===rn?null:rn},modularAPIs:L}};function ut(Te){if(!(0,r.r3)(Ie,Te=Te||L._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:Te});return Ie[Te]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function(){return Object.keys(Ie).map(Te=>Ie[Te])}}),ut.App=de,Ce}(se);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(Ce){(0,r.ZB)(de,Ce)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),de}(),V=new ce.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=F;(0,L.registerVersion)("@firebase/app-compat","0.1.16",undefined)},8026:(We,be,N)=>{"use strict";N.r(be),N.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>sa,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>zn,_addOrOverwriteComponent:()=>Fs,_apps:()=>tt,_clearComponents:()=>Bn,_components:()=>vt,_getProvider:()=>ft,_registerComponent:()=>Zr,_removeServiceInstance:()=>Ln,deleteApp:()=>So,getApp:()=>vs,getApps:()=>Yr,initializeApp:()=>io,onLog:()=>si,registerVersion:()=>rt,setLogLevel:()=>$n});var r=N(8239),B=N(3910),L=N(5422),ce=N(3854);class se{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(pt){const wt=pt.getComponent();return"VERSION"===(null==wt?void 0:wt.type)}($t)){const Vt=$t.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter($t=>$t).join(" ")}}const Z="@firebase/app",j="0.7.15",J=new L.Yd("@firebase/app"),Ft="[DEFAULT]",dt={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,vt=new Map;function zn(pt,wt){try{pt.container.addComponent(wt)}catch($t){J.debug(`Component ${wt.name} failed to register with FirebaseApp ${pt.name}`,$t)}}function Fs(pt,wt){pt.container.addOrOverwriteComponent(wt)}function Zr(pt){const wt=pt.name;if(vt.has(wt))return J.debug(`There were multiple attempts to register component ${wt}.`),!1;vt.set(wt,pt);for(const $t of tt.values())zn($t,pt);return!0}function ft(pt,wt){return pt.container.getProvider(wt)}function Ln(pt,wt,$t=Ft){ft(pt,wt).clearInstance($t)}function Bn(){vt.clear()}const qr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Sr{constructor(wt,$t,Vt){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const sa="9.6.5";function io(pt,wt={}){"object"!=typeof wt&&(wt={name:wt});const $t=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},wt),Vt=$t.name;if("string"!=typeof Vt||!Vt)throw qr.create("bad-app-name",{appName:String(Vt)});const dr=tt.get(Vt);if(dr){if((0,ce.vZ)(pt,dr.options)&&(0,ce.vZ)($t,dr.config))return dr;throw qr.create("duplicate-app",{appName:Vt})}const dn=new B.H0(Vt);for(const ze of vt.values())dn.addComponent(ze);const He=new Sr(pt,$t,dn);return tt.set(Vt,He),He}function vs(pt=Ft){const wt=tt.get(pt);if(!wt)throw qr.create("no-app",{appName:pt});return wt}function Yr(){return Array.from(tt.values())}function So(pt){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,r.Z)(function*(pt){const wt=pt.name;tt.has(wt)&&(tt.delete(wt),yield Promise.all(pt.container.getProviders().map($t=>$t.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function rt(pt,wt,$t){var Vt;let dr=null!==(Vt=dt[pt])&&void 0!==Vt?Vt:pt;$t&&(dr+=`-${$t}`);const dn=dr.match(/\s|\//),He=wt.match(/\s|\//);if(dn||He){const ze=[`Unable to register library "${dr}" with version "${wt}":`];return dn&&ze.push(`library name "${dr}" contains illegal characters (whitespace or "/")`),dn&&He&&ze.push("and"),He&&ze.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void J.warn(ze.join(" "))}Zr(new B.wA(`${dr}-version`,()=>({library:dr,version:wt}),"VERSION"))}function si(pt,wt){if(null!==pt&&"function"!=typeof pt)throw qr.create("invalid-log-argument");(0,L.Am)(pt,wt)}function $n(pt){(0,L.Ub)(pt)}Zr(new B.wA("platform-logger",wt=>new se(wt),"PRIVATE")),rt(Z,j,""),rt(Z,j,"esm2017"),rt("fire-js","")},3910:(We,be,N)=>{"use strict";N.d(be,{wA:()=>L,H0:()=>j});var r=N(8239),B=N(3854);class L{constructor(F,V,q){this.name=F,this.instanceFactory=V,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ce="[DEFAULT]";class se{constructor(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){const q=new B.BH;if(this.instancesDeferred.set(V,q),this.isInitialized(V)||this.shouldAutoInitialize())try{const ae=this.getOrInitializeService({instanceIdentifier:V});ae&&q.resolve(ae)}catch(ae){}}return this.instancesDeferred.get(V).promise}getImmediate(F){var V;const q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),ae=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(_e){if(ae)return null;throw _e}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(V){}for(const[V,q]of this.instancesDeferred.entries()){const ae=this.normalizeInstanceIdentifier(V);try{const _e=this.getOrInitializeService({instanceIdentifier:ae});q.resolve(_e)}catch(_e){}}}}clearInstance(F=ce){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,r.Z)(function*(){const V=Array.from(F.instances.values());yield Promise.all([...V.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...V.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ce){return this.instances.has(F)}getOptions(F=ce){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:V={}}=F,q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ae=this.getOrInitializeService({instanceIdentifier:q,options:V});for(const[_e,De]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(_e)&&De.resolve(ae);return ae}onInit(F,V){var q;const ae=this.normalizeInstanceIdentifier(V),_e=null!==(q=this.onInitCallbacks.get(ae))&&void 0!==q?q:new Set;_e.add(F),this.onInitCallbacks.set(ae,_e);const De=this.instances.get(ae);return De&&F(De,ae),()=>{_e.delete(F)}}invokeOnInitCallbacks(F,V){const q=this.onInitCallbacks.get(V);if(q)for(const ae of q)try{ae(F,V)}catch(_e){}}getOrInitializeService({instanceIdentifier:F,options:V={}}){let q=this.instances.get(F);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(J=F,J===ce?void 0:J),options:V}),this.instances.set(F,q),this.instancesOptions.set(F,V),this.invokeOnInitCallbacks(q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,q)}catch(ae){}var J;return q||null}normalizeInstanceIdentifier(F=ce){return this.component?this.component.multipleInstances?F:ce:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const V=this.getProvider(F.name);if(V.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);V.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const V=new se(F,this);return this.providers.set(F,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(We,be,N)=>{"use strict";N.d(be,{in:()=>B,Yd:()=>Z,Ub:()=>j,Am:()=>J});const r=[];var B=(()=>{return(F=B||(B={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",B;var F})();const L={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ce=B.INFO,se={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},K=(F,V,...q)=>{if(V<F.logLevel)return;const ae=(new Date).toISOString(),_e=se[V];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[_e](`[${ae}]  ${F.name}:`,...q)};class Z{constructor(V){this.name=V,this._logLevel=ce,this._logHandler=K,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in B))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?L[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...V),this._logHandler(this,B.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...V),this._logHandler(this,B.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,B.INFO,...V),this._logHandler(this,B.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,B.WARN,...V),this._logHandler(this,B.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...V),this._logHandler(this,B.ERROR,...V)}}function j(F){r.forEach(V=>{V.setLogLevel(F)})}function J(F,V){for(const q of r){let ae=null;V&&V.level&&(ae=L[V.level]),q.userLogHandler=null===F?null:(_e,De,...de)=>{const Ie=de.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Be){return null}}).filter(Ce=>Ce).join(" ");De>=(null!=ae?ae:_e.logLevel)&&F({level:B[De].toLowerCase(),message:Ie,args:de,type:_e.name})}}}},8239:(We,be,N)=>{"use strict";function r(L,ce,se,K,Z,j,J){try{var F=L[j](J),V=F.value}catch(q){return void se(q)}F.done?ce(V):Promise.resolve(V).then(K,Z)}function B(L){return function(){var ce=this,se=arguments;return new Promise(function(K,Z){var j=L.apply(ce,se);function J(V){r(j,K,Z,J,F,"next",V)}function F(V){r(j,K,Z,J,F,"throw",V)}J(void 0)})}}N.d(be,{Z:()=>B})}},We=>{We(We.s=8204)}]);